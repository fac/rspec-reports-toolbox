{"version":"3.11.0","messages":["Run options:\n  include {:ids=\u003e{\"./spec/models/uk_accounts_mapper_spec.rb\"=\u003e[\"1:2:2:2:4\"], \"./spec/models/invoice_spec.rb\"=\u003e[\"1:62:2:2:1\"]}}\n  exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/models/open_banking/account_integration_spec.rb[1:3]","description":"ensures there are no duplicate bank accounts","full_description":"OpenBanking::AccountIntegration ensures there are no duplicate bank accounts","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":49,"run_time":0.536531732,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:4]","description":"ensures there are no duplicate authorised accounts","full_description":"OpenBanking::AccountIntegration ensures there are no duplicate authorised accounts","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":56,"run_time":0.121799355,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:5]","description":"ensures that bank account sort code and account number match with authorised account (if present on bank account","full_description":"OpenBanking::AccountIntegration ensures that bank account sort code and account number match with authorised account (if present on bank account","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":63,"run_time":0.022083868,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:7]","description":"does not try to validate bank account sort code and account number with relaxed matching enabled","full_description":"OpenBanking::AccountIntegration does not try to validate bank account sort code and account number with relaxed matching enabled","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":120,"run_time":0.02524109,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:8]","description":"ensures the transaction start date is between the earliest transaction start date and consent expiry","full_description":"OpenBanking::AccountIntegration ensures the transaction start date is between the earliest transaction start date and consent expiry","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":134,"run_time":0.035730985,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:1:1]","description":"is expected to eq \"open_banking_account_integrations\"","full_description":"OpenBanking::AccountIntegration.table_name is expected to eq \"open_banking_account_integrations\"","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":23,"run_time":0.009476133,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:2:1:1]","description":"returns account integrations with 'active' bank feed","full_description":"OpenBanking::AccountIntegration.active when the consent is live returns account integrations with 'active' bank feed","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":28,"run_time":0.042497372,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:2:1:2]","description":"ignores account integrations with inactive bank_feeds","full_description":"OpenBanking::AccountIntegration.active when the consent is live ignores account integrations with inactive bank_feeds","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":33,"run_time":0.050265955,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:2:2:1]","description":"ignores integrations with expired consents","full_description":"OpenBanking::AccountIntegration.active when a consent has expired ignores integrations with expired consents","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":41,"run_time":0.129462118,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:6:1]","description":"ensures that bank account currency matches with authorised account","full_description":"OpenBanking::AccountIntegration currency matching rules ensures that bank account currency matches with authorised account","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":104,"run_time":0.186467182,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:9:1:1]","description":"does not fetch the scheduled payments","full_description":"OpenBanking::AccountIntegration#import_open_banking_scheduled_payments consent permissions for scheduled payments not present does not fetch the scheduled payments","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":156,"run_time":0.136508213,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:9:2:1]","description":"fetches and persists the scheduled payments without creating duplicates","full_description":"OpenBanking::AccountIntegration#import_open_banking_scheduled_payments consent permissions for scheduled payments present fetches and persists the scheduled payments without creating duplicates","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":172,"run_time":0.378808174,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:9:2:2]","description":"uses the correct circuit breaker feature name","full_description":"OpenBanking::AccountIntegration#import_open_banking_scheduled_payments consent permissions for scheduled payments present uses the correct circuit breaker feature name","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":176,"run_time":0.350326517,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:9:3:1]","description":"logs the import","full_description":"OpenBanking::AccountIntegration#import_open_banking_scheduled_payments scheduled payment logging logs the import","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":189,"run_time":0.260119832,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:9:4:1]","description":"does not fetch the scheduled payments","full_description":"OpenBanking::AccountIntegration#import_open_banking_scheduled_payments scheduled_payment_sync_enabled provider configuration disabled does not fetch the scheduled payments","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":226,"run_time":0.131368471,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:9:5:1]","description":"does not fetch the scheduled payments","full_description":"OpenBanking::AccountIntegration#import_open_banking_scheduled_payments past post_consent_scheduled_payment_sync_window_seconds does not fetch the scheduled payments","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":242,"run_time":0.134338792,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:10:1:1]","description":"does not fetch the standing orders","full_description":"OpenBanking::AccountIntegration#import_open_banking_standing_orders consent permissions for standing orders not present does not fetch the standing orders","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":266,"run_time":0.143081084,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:10:2:1]","description":"fetches and persists the standing order without creating duplicates","full_description":"OpenBanking::AccountIntegration#import_open_banking_standing_orders consent permissions for standing orders present fetches and persists the standing order without creating duplicates","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":282,"run_time":0.369141243,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:10:2:2]","description":"uses the correct circuit breaker feature name","full_description":"OpenBanking::AccountIntegration#import_open_banking_standing_orders consent permissions for standing orders present uses the correct circuit breaker feature name","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":286,"run_time":0.377466324,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:10:3:1]","description":"logs the import","full_description":"OpenBanking::AccountIntegration#import_open_banking_standing_orders standing order logging logs the import","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":297,"run_time":0.292132512,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:10:4:1]","description":"does not fetch the scheduled payments","full_description":"OpenBanking::AccountIntegration#import_open_banking_standing_orders standing_order_sync_enabled provider configuration disabled does not fetch the scheduled payments","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":339,"run_time":0.142903137,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:10:5:1]","description":"does not fetch the scheduled payments","full_description":"OpenBanking::AccountIntegration#import_open_banking_standing_orders past post_consent_standing_order_sync_window_seconds does not fetch the scheduled payments","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":355,"run_time":0.163543128,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:3]","description":"delegates importing to the BankTransactionImporter","full_description":"OpenBanking::AccountIntegration#import_transactions delegates importing to the BankTransactionImporter","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":431,"run_time":0.202569542,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:4]","description":"uses a shared guess cache for each BankTransactionImporter","full_description":"OpenBanking::AccountIntegration#import_transactions uses a shared guess cache for each BankTransactionImporter","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":446,"run_time":0.188821643,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:5]","description":"publishes bank transaction created events","full_description":"OpenBanking::AccountIntegration#import_transactions publishes bank transaction created events","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":475,"run_time":0.257733397,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:8]","description":"imports the transactions","full_description":"OpenBanking::AccountIntegration#import_transactions imports the transactions","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":524,"run_time":0.265094181,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:9]","description":"creates audit entries for the imported transactions","full_description":"OpenBanking::AccountIntegration#import_transactions creates audit entries for the imported transactions","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":529,"run_time":0.233159165,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:10]","description":"sets the import to_date param as 1 day ago","full_description":"OpenBanking::AccountIntegration#import_transactions sets the import to_date param as 1 day ago","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":533,"run_time":0.224437017,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:11]","description":"updates the last_import_at time stamp on successful import","full_description":"OpenBanking::AccountIntegration#import_transactions updates the last_import_at time stamp on successful import","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":540,"run_time":0.219551936,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:12]","description":"doesn't update the last_import_at time stamp on unsuccessful import","full_description":"OpenBanking::AccountIntegration#import_transactions doesn't update the last_import_at time stamp on unsuccessful import","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":546,"run_time":0.196101837,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:13]","description":"updates the import_attempted_at time stamp","full_description":"OpenBanking::AccountIntegration#import_transactions updates the import_attempted_at time stamp","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":555,"run_time":0.236922583,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:14]","description":"logs the import","full_description":"OpenBanking::AccountIntegration#import_transactions logs the import","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":561,"run_time":0.241414048,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:17]","description":"creates a statement receipt","full_description":"OpenBanking::AccountIntegration#import_transactions creates a statement receipt","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":596,"run_time":0.266753707,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:1:1]","description":"creates a todo dependency for each target","full_description":"OpenBanking::AccountIntegration#import_transactions behaves like a Radar to-do dependencies bulk action creates a todo dependency for each target","status":"passed","file_path":"./spec/support/shared_examples/radar/todo_dependencies_bulk_action.rb","line_number":12,"run_time":0.261595512,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:1:2]","description":"marks the dependency dirty once for each target","full_description":"OpenBanking::AccountIntegration#import_transactions behaves like a Radar to-do dependencies bulk action marks the dependency dirty once for each target","status":"passed","file_path":"./spec/support/shared_examples/radar/todo_dependencies_bulk_action.rb","line_number":22,"run_time":0.235422236,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:1:3]","description":"ensures the tracker is re-enabled","full_description":"OpenBanking::AccountIntegration#import_transactions behaves like a Radar to-do dependencies bulk action ensures the tracker is re-enabled","status":"passed","file_path":"./spec/support/shared_examples/radar/todo_dependencies_bulk_action.rb","line_number":39,"run_time":0.249729025,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:2:1]","description":"returns import execution timings","full_description":"OpenBanking::AccountIntegration#import_transactions behaves like returns import execution timings returns import execution timings","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":406,"run_time":0.179186622,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:6:1]","description":"should pass should guess to the BankTransactionImporter","full_description":"OpenBanking::AccountIntegration#import_transactions with should_guess set to false should pass should guess to the BankTransactionImporter","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":494,"run_time":0.182503834,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:6:2:1]","description":"returns import execution timings","full_description":"OpenBanking::AccountIntegration#import_transactions with should_guess set to false behaves like returns import execution timings returns import execution timings","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":406,"run_time":0.195886317,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:7:1:1]","description":"returns import execution timings","full_description":"OpenBanking::AccountIntegration#import_transactions RecordInvalid is raised behaves like returns import execution timings returns import execution timings","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":406,"run_time":0.17023241,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:15:1:1]","description":"copies transaction_start_date to bank_feed's start_on","full_description":"OpenBanking::AccountIntegration#import_transactions bank_feed exists run after_update copies transaction_start_date to bank_feed's start_on","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":574,"run_time":0.141876266,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:16:1:1]","description":"should do nothing (no errors)","full_description":"OpenBanking::AccountIntegration#import_transactions bank_feed does not exist run after_update should do nothing (no errors)","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":587,"run_time":0.12723371,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:18:1]","description":"sets bank feed status to enabled","full_description":"OpenBanking::AccountIntegration#import_transactions when the bank feed is initially in a pending state sets bank feed status to enabled","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":611,"run_time":0.208119111,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:18:2]","description":"does not change the bank feed state when it is already enabled","full_description":"OpenBanking::AccountIntegration#import_transactions when the bank feed is initially in a pending state does not change the bank feed state when it is already enabled","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":617,"run_time":0.200837126,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:18:3]","description":"sets the bank feed state to enabled when it is already deferred","full_description":"OpenBanking::AccountIntegration#import_transactions when the bank feed is initially in a pending state sets the bank feed state to enabled when it is already deferred","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":624,"run_time":0.213410905,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:19:1:1]","description":"updates the balance at bank","full_description":"OpenBanking::AccountIntegration#import_transactions balance_at_bank when the bank account supports balance at bank updates the balance at bank","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":645,"run_time":0.278606322,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:19:2:1]","description":"does not update the balance at bank","full_description":"OpenBanking::AccountIntegration#import_transactions balance_at_bank when the bank account does not support balance at bank does not update the balance at bank","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":662,"run_time":0.224200722,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:20:1]","description":"updates the cached first_date_balance_diverged_from_balance_at_bank","full_description":"OpenBanking::AccountIntegration#import_transactions cached first_date_balance_diverged_from_balance_at_bank value updates the cached first_date_balance_diverged_from_balance_at_bank","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":698,"run_time":0.250480089,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:21:1]","description":"doesn't start the import process and raises RecordInvalid error","full_description":"OpenBanking::AccountIntegration#import_transactions with validation failure doesn't start the import process and raises RecordInvalid error","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":710,"run_time":0.14561034,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:22:1]","description":"fetches transactions from through the authorised account with open banking support acccess","full_description":"OpenBanking::AccountIntegration#import_transactions configured with open banking support access fetches transactions from through the authorised account with open banking support acccess","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":734,"run_time":0.238893404,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:23:1:1]","description":"resets the imports_failing_since to nil","full_description":"OpenBanking::AccountIntegration#import_transactions when imports are failing on successful transaction import resets the imports_failing_since to nil","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":769,"run_time":0.389463605,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:23:1:2]","description":"sets the last import outcome to import_success","full_description":"OpenBanking::AccountIntegration#import_transactions when imports are failing on successful transaction import sets the last import outcome to import_success","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":774,"run_time":0.390218576,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:23:2:1:1]","description":"does not change the failure time","full_description":"OpenBanking::AccountIntegration#import_transactions when imports are failing on failed transaction import with a CircuitBreaker::CircuitBrokenError failure does not change the failure time","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":799,"run_time":0.304942164,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:23:2:1:2]","description":"does not change the failure reason","full_description":"OpenBanking::AccountIntegration#import_transactions when imports are failing on failed transaction import with a CircuitBreaker::CircuitBrokenError failure does not change the failure reason","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":805,"run_time":0.320612427,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:23:2:2:1]","description":"does not change the last_import_outcome","full_description":"OpenBanking::AccountIntegration#import_transactions when imports are failing on failed transaction import with the same failure reason does not change the last_import_outcome","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":823,"run_time":0.324766902,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:23:2:2:2]","description":"does not change the imports_failing_since time","full_description":"OpenBanking::AccountIntegration#import_transactions when imports are failing on failed transaction import with the same failure reason does not change the imports_failing_since time","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":828,"run_time":0.384627078,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:23:2:2:3]","description":"does not call connection issue on the associated bank feed","full_description":"OpenBanking::AccountIntegration#import_transactions when imports are failing on failed transaction import with the same failure reason does not call connection issue on the associated bank feed","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":833,"run_time":0.3725963,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:23:2:3:1]","description":"sets the imports_failing_since time to the current time","full_description":"OpenBanking::AccountIntegration#import_transactions when imports are failing on failed transaction import with a different failure reason sets the imports_failing_since time to the current time","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":851,"run_time":1.004475716,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:23:2:3:2]","description":"sets the last_import_outcome to match the failure reason","full_description":"OpenBanking::AccountIntegration#import_transactions when imports are failing on failed transaction import with a different failure reason sets the last_import_outcome to match the failure reason","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":856,"run_time":0.399307349,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:23:2:4:1]","description":"does not change the imports_failing_since time","full_description":"OpenBanking::AccountIntegration#import_transactions when imports are failing on failed transaction import with a persistent error for at least 7 days does not change the imports_failing_since time","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":873,"run_time":0.383283657,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:23:2:4:2]","description":"does not alter the last import outcome","full_description":"OpenBanking::AccountIntegration#import_transactions when imports are failing on failed transaction import with a persistent error for at least 7 days does not alter the last import outcome","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":878,"run_time":0.38774128,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:23:2:4:3]","description":"calls connection issue on the associated bank feed","full_description":"OpenBanking::AccountIntegration#import_transactions when imports are failing on failed transaction import with a persistent error for at least 7 days calls connection issue on the associated bank feed","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":883,"run_time":0.39432958,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:23:2:5:1]","description":"still sets the failure attributes","full_description":"OpenBanking::AccountIntegration#import_transactions when imports are failing on failed transaction import when an error is raised fetching transactions and the account integration fails validation still sets the failure attributes","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":899,"run_time":0.413596039,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:24:1:1]","description":"performs the import in a database transaction","full_description":"OpenBanking::AccountIntegration#import_transactions when the feature `import_open_banking_transactions_in_transaction` is on performs the import in a database transaction","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":916,"run_time":0.308867905,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:24:2:1]","description":"doesn't perform the import in a database transaction","full_description":"OpenBanking::AccountIntegration#import_transactions when the feature `import_open_banking_transactions_in_transaction` is off doesn't perform the import in a database transaction","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":926,"run_time":0.284152703,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:25:1]","description":"processes transactions by month","full_description":"OpenBanking::AccountIntegration#import_transactions when feature `group_open_banking_transactions_by_month`  processes transactions by month","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":948,"run_time":0.222521262,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:11:25:2:1]","description":"processes transactions by date","full_description":"OpenBanking::AccountIntegration#import_transactions when feature `group_open_banking_transactions_by_month`  is off processes transactions by date","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":980,"run_time":0.23947393,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:12:1]","description":"creates an associated open banking bank feed in pending state","full_description":"OpenBanking::AccountIntegration#create_feed creates an associated open banking bank feed in pending state","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":1025,"run_time":0.158815784,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:13:1:1]","description":"is the FreeAgent start date","full_description":"OpenBanking::AccountIntegration#earliest_transaction_start_date when there are no transactions in the FreeAgent bank account is the FreeAgent start date","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":1044,"run_time":0.335657279,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:13:1:2]","description":"is the historical limit value when the company is old","full_description":"OpenBanking::AccountIntegration#earliest_transaction_start_date when there are no transactions in the FreeAgent bank account is the historical limit value when the company is old","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":1058,"run_time":0.380370737,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:13:2:1]","description":"is the day after the last transaction date","full_description":"OpenBanking::AccountIntegration#earliest_transaction_start_date when there are transactions in the FreeAgent bank account is the day after the last transaction date","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":1080,"run_time":0.196490875,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:13:3:1]","description":"is the day after the last non-manual transaction date","full_description":"OpenBanking::AccountIntegration#earliest_transaction_start_date when there is a mixture of manual, uploaded and imported transactions in the FreeAgent bank account is the day after the last non-manual transaction date","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":1098,"run_time":0.185531243,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:13:4:1]","description":"is the day after the last non-manual transaction date","full_description":"OpenBanking::AccountIntegration#earliest_transaction_start_date When there are statement upload transactions in the FreeAgent bank account is the day after the last non-manual transaction date","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":1112,"run_time":0.159909925,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:13:5:1]","description":"is the FreeAgent start date","full_description":"OpenBanking::AccountIntegration#earliest_transaction_start_date when there are only manual transactions in the FreeAgent bank account is the FreeAgent start date","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":1126,"run_time":0.230640929,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:13:6:1]","description":"is the day after the latest lock period ends","full_description":"OpenBanking::AccountIntegration#earliest_transaction_start_date when the company has locked periods is the day after the latest lock period ends","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":1154,"run_time":0.187544771,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:13:6:2:1]","description":"is the day after the last transaction date","full_description":"OpenBanking::AccountIntegration#earliest_transaction_start_date when the company has locked periods and there are transactions outside the locked period is the day after the last transaction date","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":1165,"run_time":0.1861359,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:14:1:1]","description":"is expected to eq Wed, 23 Nov 2022","full_description":"OpenBanking::AccountIntegration#next_import_from_date when last_import_at is defined is expected to eq Wed, 23 Nov 2022","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":1186,"run_time":0.06709697,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:14:2:1]","description":"is expected to eq Wed, 23 Nov 2022","full_description":"OpenBanking::AccountIntegration#next_import_from_date when last_import_at is nil is expected to eq Wed, 23 Nov 2022","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":1191,"run_time":0.066382547,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:14:3:1:1:1]","description":"is expected to eq Wed, 23 Nov 2022","full_description":"OpenBanking::AccountIntegration#next_import_from_date the `open_banking_extend_import_window` feature is enabled extend_import_window is true the day after the first import is expected to eq Wed, 23 Nov 2022","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":1202,"run_time":0.072556639,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:14:3:1:2:1]","description":"is expected to eq Wed, 23 Nov 2022","full_description":"OpenBanking::AccountIntegration#next_import_from_date the `open_banking_extend_import_window` feature is enabled extend_import_window is true 5 days after the transaction start date is expected to eq Wed, 23 Nov 2022","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":1207,"run_time":0.075227767,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:14:3:1:3:1]","description":"is expected to eq Thu, 24 Nov 2022","full_description":"OpenBanking::AccountIntegration#next_import_from_date the `open_banking_extend_import_window` feature is enabled extend_import_window is true 6 days after the transaction start date is expected to eq Thu, 24 Nov 2022","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":1212,"run_time":0.076746493,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:14:3:1:4:1]","description":"is expected to eq Sun, 18 Dec 2022","full_description":"OpenBanking::AccountIntegration#next_import_from_date the `open_banking_extend_import_window` feature is enabled extend_import_window is true one month after the transaction start date is expected to eq Sun, 18 Dec 2022","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":1217,"run_time":0.068923563,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:15:1:1]","description":"schedules a job","full_description":"OpenBanking::AccountIntegration#schedule_initial_transaction_import when the transaction start date today or earlier schedules a job","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":1225,"run_time":0.168296307,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:15:2:1]","description":"does not schedule a job","full_description":"OpenBanking::AccountIntegration#schedule_initial_transaction_import when the transaction start date is later than today does not schedule a job","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":1242,"run_time":0.225309145,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:15:2:2]","description":"sets the related bank_feed state to deferred","full_description":"OpenBanking::AccountIntegration#schedule_initial_transaction_import when the transaction start date is later than today sets the related bank_feed state to deferred","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":1246,"run_time":0.212935444,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:16:1:1]","description":"schedules a job","full_description":"OpenBanking::AccountIntegration#schedule_initial_transaction_import when the transaction start date today or earlier schedules a job","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":1259,"run_time":0.078633345,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:16:2:1]","description":"does not schedule a job","full_description":"OpenBanking::AccountIntegration#schedule_initial_transaction_import when the transaction start date is later than today does not schedule a job","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":1273,"run_time":0.145811517,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:16:2:2]","description":"sets the related bank_feed state to deferred","full_description":"OpenBanking::AccountIntegration#schedule_initial_transaction_import when the transaction start date is later than today sets the related bank_feed state to deferred","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":1277,"run_time":0.136925241,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:17:1:1]","description":"uses the authorised account to set the bank account account number and sort code","full_description":"OpenBanking::AccountIntegration#set_bank_account_details! for full account details uses the authorised account to set the bank account account number and sort code","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":1288,"run_time":0.186329116,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:17:2:1]","description":"does not set the bank account account number and sort code","full_description":"OpenBanking::AccountIntegration#set_bank_account_details! for partial account details does not set the bank account account number and sort code","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":1298,"run_time":0.17515506,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:18:1]","description":"is the name of the bank account","full_description":"OpenBanking::AccountIntegration#bank_account_name is the name of the bank account","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":1310,"run_time":0.16201252,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:19:1]","description":"is the expiry date of the consent","full_description":"OpenBanking::AccountIntegration#consent_expires_at is the expiry date of the consent","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":1316,"run_time":0.049312041,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/account_integration_spec.rb[1:20:1]","description":"schedules a Open Banking Import Job","full_description":"OpenBanking::AccountIntegration#schedule_import schedules a Open Banking Import Job","status":"passed","file_path":"./spec/models/open_banking/account_integration_spec.rb","line_number":1327,"run_time":0.150508523,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/components/actions/invoices_at_risk_component_spec.rb[1:1:1:1]","description":"returns a link with the title","full_description":"Cashflow::Components::Actions::InvoicesAtRiskComponent given future invoices #title returns a link with the title","status":"passed","file_path":"./spec/freeagent/cashflow/components/actions/invoices_at_risk_component_spec.rb","line_number":95,"run_time":5.176696572,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/components/actions/invoices_at_risk_component_spec.rb[1:1:2:1]","description":"returns the description text","full_description":"Cashflow::Components::Actions::InvoicesAtRiskComponent given future invoices #description returns the description text","status":"passed","file_path":"./spec/freeagent/cashflow/components/actions/invoices_at_risk_component_spec.rb","line_number":101,"run_time":5.912317731,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/components/actions/invoices_at_risk_component_spec.rb[1:1:2:2:1]","description":"returns the description text","full_description":"Cashflow::Components::Actions::InvoicesAtRiskComponent given future invoices #description given two contacts returns the description text","status":"passed","file_path":"./spec/freeagent/cashflow/components/actions/invoices_at_risk_component_spec.rb","line_number":109,"run_time":5.68472173,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/components/actions/invoices_at_risk_component_spec.rb[1:1:2:3:1]","description":"returns the description text","full_description":"Cashflow::Components::Actions::InvoicesAtRiskComponent given future invoices #description if an override exists for the payment with excluded: true returns the description text","status":"passed","file_path":"./spec/freeagent/cashflow/components/actions/invoices_at_risk_component_spec.rb","line_number":126,"run_time":5.029781377,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:15]","description":"PUT reorder","full_description":"InvoiceItemsController PUT reorder","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":461,"run_time":0.321753477,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:1:1]","description":"creates invoice item","full_description":"InvoiceItemsController POST create creates invoice item","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":17,"run_time":0.460860493,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:1:2]","description":"creates invoice item and adds another","full_description":"InvoiceItemsController POST create creates invoice item and adds another","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":36,"run_time":0.35346449,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:1:3]","description":"publishes PRICE_LIST_ITEM_CREATED when the item is a price list item","full_description":"InvoiceItemsController POST create publishes PRICE_LIST_ITEM_CREATED when the item is a price list item","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":53,"run_time":0.377846031,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:1:4]","description":"does not publish PRICE_LIST_ITEM_CREATED when the item is not a price list item","full_description":"InvoiceItemsController POST create does not publish PRICE_LIST_ITEM_CREATED when the item is not a price list item","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":58,"run_time":0.994241342,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:1:5:1]","description":"does not add the item to the invoice","full_description":"InvoiceItemsController POST create when the invoice is in a scheduled state does not add the item to the invoice","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":64,"run_time":0.308176766,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:2:1]","description":"deletes the invoice item","full_description":"InvoiceItemsController when destroying the invoice item deletes the invoice item","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":76,"run_time":0.379339167,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:2:2:1]","description":"uses the correct view root","full_description":"InvoiceItemsController when destroying the invoice item with an invoice uses the correct view root","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":88,"run_time":0.36437217,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:2:3:1]","description":"uses the correct view root","full_description":"InvoiceItemsController when destroying the invoice item with a credit note uses the correct view root","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":101,"run_time":0.581894151,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:2:4:1]","description":"does not delete the invoice item","full_description":"InvoiceItemsController when destroying the invoice item when the invoice is in a scheduled state does not delete the invoice item","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":109,"run_time":0.315619387,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:3:1:1]","description":"is expected to render template new","full_description":"InvoiceItemsController New invoice item page for an invoice is expected to render template new","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":125,"run_time":0.214572845,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:3:1:2]","description":"allows the user add the invoice item to their price list","full_description":"InvoiceItemsController New invoice item page for an invoice allows the user add the invoice item to their price list","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":127,"run_time":0.24509546,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:3:1:3]","description":"offers all of the items types that represent times","full_description":"InvoiceItemsController New invoice item page for an invoice offers all of the items types that represent times","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":131,"run_time":0.246898125,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:3:2:1]","description":"is expected not to have text \"Add this to your Price List\"","full_description":"InvoiceItemsController New invoice item page for a credit note is expected not to have text \"Add this to your Price List\"","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":141,"run_time":0.240993963,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:4:1]","description":"is expected to respond with a success status code (2xx)","full_description":"InvoiceItemsController New invoice item from price list item for a company is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":151,"run_time":0.233019609,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:4:2]","description":"brings through the correct quantity","full_description":"InvoiceItemsController New invoice item from price list item for a company brings through the correct quantity","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":153,"run_time":0.208685892,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:5:1:1]","description":"is expected to render template new","full_description":"InvoiceItemsController For a company with an invoice and a price list item getting a new invoice item page is expected to render template new","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":172,"run_time":0.246243981,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:5:1:2]","description":"renders the price list item selector with links to prefill price list items","full_description":"InvoiceItemsController For a company with an invoice and a price list item getting a new invoice item page renders the price list item selector with links to prefill price list items","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":174,"run_time":0.248756833,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:5:1:3]","description":"prefills the invoice item from the invoice","full_description":"InvoiceItemsController For a company with an invoice and a price list item getting a new invoice item page prefills the invoice item from the invoice","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":179,"run_time":0.312437749,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:5:1:4:1]","description":"renders new, and prefills the correct values from the passed price list item","full_description":"InvoiceItemsController For a company with an invoice and a price list item getting a new invoice item page when also sending a price list item renders new, and prefills the correct values from the passed price list item","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":190,"run_time":0.300733758,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:5:1:4:2:1]","description":"renders new, and prefills the correct values from the passed price list item","full_description":"InvoiceItemsController For a company with an invoice and a price list item getting a new invoice item page when also sending a price list item and the negate price param is set, eg when you make a request from a credit note renders new, and prefills the correct values from the passed price list item","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":200,"run_time":0.263440516,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:6:1:1]","description":"relates the invoice item and stock item","full_description":"InvoiceItemsController For a company an invoice and a stock item posting a new invoice item from a stock item relates the invoice item and stock item","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":232,"run_time":0.328216855,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:6:2:1]","description":"ignores the stock_item_id","full_description":"InvoiceItemsController For a company an invoice and a stock item posting a new discount invoice item with a stock item id ignores the stock_item_id","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":249,"run_time":0.282881168,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:7:1:1]","description":"shows a custom option in drop down","full_description":"InvoiceItemsController New invoice item for a universal company with no second sales tax getting a new invoice item form shows a custom option in drop down","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":267,"run_time":0.404526297,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:8:1]","description":"is expected to respond with a success status code (2xx)","full_description":"InvoiceItemsController New invoice item from price list item for a UK company is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":279,"run_time":0.181207755,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:8:2]","description":"has standard rate VAT set","full_description":"InvoiceItemsController New invoice item from price list item for a UK company has standard rate VAT set","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":281,"run_time":0.217245981,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:9:1]","description":"is expected to respond with a success status code (2xx)","full_description":"InvoiceItemsController New invoice item from price list item for a UK company with reduced VAT is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":293,"run_time":0.225238004,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:9:2]","description":"has reduced VAT rate set","full_description":"InvoiceItemsController New invoice item from price list item for a UK company with reduced VAT has reduced VAT rate set","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":295,"run_time":0.220716873,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:10:1]","description":"is expected to respond with a success status code (2xx)","full_description":"InvoiceItemsController New invoice item from price list item for a UK company with Zero VAT is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":307,"run_time":0.200511444,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:10:2]","description":"has zero VAT rate set","full_description":"InvoiceItemsController New invoice item from price list item for a UK company with Zero VAT has zero VAT rate set","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":309,"run_time":0.230960251,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:11:1]","description":"is expected to render template edit","full_description":"InvoiceItemsController Edit invoice item page is expected to render template edit","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":320,"run_time":0.252713803,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:12:1:1]","description":"is expected to respond with a success status code (2xx)","full_description":"InvoiceItemsController TurboStream POST create a new invoice item is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":335,"run_time":0.389175237,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:12:1:2]","description":"renders the views to be updated","full_description":"InvoiceItemsController TurboStream POST create a new invoice item renders the views to be updated","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":337,"run_time":0.353021859,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:12:2:1]","description":"is expected to respond with a success status code (2xx)","full_description":"InvoiceItemsController TurboStream POST create with a German locale is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":354,"run_time":0.390338572,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:12:2:2]","description":"renders type in German","full_description":"InvoiceItemsController TurboStream POST create with a German locale renders type in German","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":356,"run_time":0.369732407,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:12:3:1]","description":"is expected to respond with a success status code (2xx)","full_description":"InvoiceItemsController TurboStream PUT update with a German locale is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":374,"run_time":0.376344132,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:12:3:2]","description":"renders type in German","full_description":"InvoiceItemsController TurboStream PUT update with a German locale renders type in German","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":376,"run_time":0.361646188,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:13:1:1]","description":"shows a custom option drop down","full_description":"InvoiceItemsController For a US company New invoice item page shows a custom option drop down","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":397,"run_time":0.417705172,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:13:1:2]","description":"only shows the first 4 decimal places for sales tax","full_description":"InvoiceItemsController For a US company New invoice item page only shows the first 4 decimal places for sales tax","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":401,"run_time":0.377096347,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:13:2:1]","description":"shows custom option in drop down","full_description":"InvoiceItemsController For a US company Edit invoice item page shows custom option in drop down","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":412,"run_time":0.403436299,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:14:1:1]","description":"is expected to respond with a success status code (2xx)","full_description":"InvoiceItemsController copy the project id from invoice create is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":433,"run_time":0.339874886,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:14:1:2]","description":"adds the project id on the invoice item","full_description":"InvoiceItemsController copy the project id from invoice create adds the project id on the invoice item","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":435,"run_time":0.370551491,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:14:2:1]","description":"updates the project id on the invoice item","full_description":"InvoiceItemsController copy the project id from invoice update updates the project id on the invoice item","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":453,"run_time":0.36798608,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:16:1]","description":"does not pass invoice_currencies to the partial","full_description":"InvoiceItemsController DELETE #destroy does not pass invoice_currencies to the partial","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":483,"run_time":0.375460557,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:17:1]","description":"assigns the params to the invoice item","full_description":"InvoiceItemsController POST #create assigns the params to the invoice item","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":501,"run_time":0.338586951,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:18:1:1]","description":"renders the credit note views","full_description":"InvoiceItemsController POST #create as turbo with a standalone credit note renders the credit note views","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":521,"run_time":0.339439756,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:19:1]","description":"assigns the params to the invoice item","full_description":"InvoiceItemsController PUT #update assigns the params to the invoice item","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":544,"run_time":0.370631601,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:19:2]","description":"does not pass invoice_currencies to the partial","full_description":"InvoiceItemsController PUT #update does not pass invoice_currencies to the partial","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":548,"run_time":0.370757533,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:19:3]","description":"does not re-render the modal","full_description":"InvoiceItemsController PUT #update does not re-render the modal","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":552,"run_time":0.349635929,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:19:4:1]","description":"re-renders the modal","full_description":"InvoiceItemsController PUT #update when updating with invalid params re-renders the modal","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":565,"run_time":0.41820829,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:20:1]","description":"updates the invoice project","full_description":"InvoiceItemsController when no invoice items have the same project_id as the invoice updates the invoice project","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":579,"run_time":0.42985444,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:21:1]","description":"updates the project of the invoice to the most numerous project","full_description":"InvoiceItemsController when updating items to not have the same project_id as the invoice updates the project of the invoice to the most numerous project","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":602,"run_time":0.671552219,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:22:1]","description":"updates the invoice project_id","full_description":"InvoiceItemsController when the first added line item has a project_id different from the invoice project_id updates the invoice project_id","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":619,"run_time":0.408393715,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:23:1]","description":"updates the project of the invoice to the most numerous project","full_description":"InvoiceItemsController when deleting items so that no invoice items have the invoice project_id updates the project of the invoice to the most numerous project","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":639,"run_time":0.559123322,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoice_items_controller_spec.rb[1:23:2:1]","description":"does not change the project_id","full_description":"InvoiceItemsController when deleting items so that no invoice items have the invoice project_id when the last invoice item has been removed does not change the project_id","status":"passed","file_path":"./spec/controllers/invoice_items_controller_spec.rb","line_number":648,"run_time":0.589386868,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:1:1:1:1]","description":"returns a category defined on the Insight model","full_description":"Radar::Insights::Rules::NewEmployeesAdded behaves like an insight rule behaves like a ping rule #category returns a category defined on the Insight model","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":11,"run_time":0.004301008,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:1:1:2:1]","description":"returns a boolean","full_description":"Radar::Insights::Rules::NewEmployeesAdded behaves like an insight rule behaves like a ping rule #send_notifications? returns a boolean","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":17,"run_time":0.003151726,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:1:2:1]","description":"has category Insight","full_description":"Radar::Insights::Rules::NewEmployeesAdded behaves like an insight rule #category has category Insight","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rules/concerns/insight_category.rb","line_number":10,"run_time":0.002767721,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:2:1]","description":"returns eligible users to be notified","full_description":"Radar::Insights::Rules::NewEmployeesAdded behaves like notifier for users with level 8 only returns eligible users to be notified","status":"passed","file_path":"./spec/support/shared_examples/insights_rules_permission_level_examples.rb","line_number":49,"run_time":0.109127691,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:2:2]","description":"does not return ineligible users to be notified","full_description":"Radar::Insights::Rules::NewEmployeesAdded behaves like notifier for users with level 8 only does not return ineligible users to be notified","status":"passed","file_path":"./spec/support/shared_examples/insights_rules_permission_level_examples.rb","line_number":53,"run_time":0.128051515,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:3:1:1]","description":"returns the category","full_description":"Radar::Insights::Rules::NewEmployeesAdded behaves like a valid insight rule #category returns the category","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":14,"run_time":0.231274173,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:3:2:1]","description":"creates a new insight","full_description":"Radar::Insights::Rules::NewEmployeesAdded behaves like a valid insight rule #evaluate creates a new insight","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":20,"run_time":0.200958089,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:3:2:2]","description":"persists insight details","full_description":"Radar::Insights::Rules::NewEmployeesAdded behaves like a valid insight rule #evaluate persists insight details","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":28,"run_time":0.185129307,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:3:2:3]","description":"notifies users in the company","full_description":"Radar::Insights::Rules::NewEmployeesAdded behaves like a valid insight rule #evaluate notifies users in the company","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":36,"run_time":0.174162381,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:3:3:1]","description":"creates a user insight notification for all notifiable users","full_description":"Radar::Insights::Rules::NewEmployeesAdded behaves like a valid insight rule #notify creates a user insight notification for all notifiable users","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":44,"run_time":0.194254778,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:4:1]","description":"is expected to eq \"new_employees_added:895397974:2021-07-01\"","full_description":"Radar::Insights::Rules::NewEmployeesAdded#key is expected to eq \"new_employees_added:895397974:2021-07-01\"","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":70,"run_time":0.098465227,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:5:1]","description":"should include companies with payroll profiles added today","full_description":"Radar::Insights::Rules::NewEmployeesAdded.companies_for_evaluation should include companies with payroll profiles added today","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":78,"run_time":0.151954502,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:5:2]","description":"should include companies with payroll profiles added in the past day","full_description":"Radar::Insights::Rules::NewEmployeesAdded.companies_for_evaluation should include companies with payroll profiles added in the past day","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":82,"run_time":0.148436119,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:5:3]","description":"should not include companies with payroll profiles added more than 1 day ago","full_description":"Radar::Insights::Rules::NewEmployeesAdded.companies_for_evaluation should not include companies with payroll profiles added more than 1 day ago","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":87,"run_time":0.165809379,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:5:4:1]","description":"should not be included","full_description":"Radar::Insights::Rules::NewEmployeesAdded.companies_for_evaluation when a company has seen this insight in the past 45 days should not be included","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":97,"run_time":0.171780074,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:5:5:1]","description":"should not be included","full_description":"Radar::Insights::Rules::NewEmployeesAdded.companies_for_evaluation when a company has seen the CoPilot recent employer insight in the past 45 days should not be included","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":107,"run_time":0.166033883,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:5:6:1]","description":"should still be included","full_description":"Radar::Insights::Rules::NewEmployeesAdded.companies_for_evaluation when a company has seen similar insights more than 45 days ago should still be included","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":117,"run_time":0.209665514,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:5:7:1]","description":"should not be included","full_description":"Radar::Insights::Rules::NewEmployeesAdded.companies_for_evaluation when the company doesn't have two current employees on payroll should not be included","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":125,"run_time":0.189246234,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:5:8:1]","description":"should exclude UK full access companies without payroll profiles","full_description":"Radar::Insights::Rules::NewEmployeesAdded.companies_for_evaluation for companies is out of scope for this insight should exclude UK full access companies without payroll profiles","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":146,"run_time":0.696380282,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:5:8:2]","description":"should exclude landlord companies even if they have payroll profiles","full_description":"Radar::Insights::Rules::NewEmployeesAdded.companies_for_evaluation for companies is out of scope for this insight should exclude landlord companies even if they have payroll profiles","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":150,"run_time":0.660386341,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:5:8:3]","description":"should exclude non-UK companies even if they have payroll profiles","full_description":"Radar::Insights::Rules::NewEmployeesAdded.companies_for_evaluation for companies is out of scope for this insight should exclude non-UK companies even if they have payroll profiles","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":154,"run_time":0.6865825,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:5:8:4]","description":"should exclude inactive companies even if they have payroll profiles","full_description":"Radar::Insights::Rules::NewEmployeesAdded.companies_for_evaluation for companies is out of scope for this insight should exclude inactive companies even if they have payroll profiles","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":158,"run_time":0.634903223,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:6:1:1:1]","description":"is expected to be truthy","full_description":"Radar::Insights::Rules::NewEmployeesAdded#should_evaluate? when the company is eligible for commercial connections and insights and has added a new employee in the past day is expected to be truthy","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":183,"run_time":0.18909237,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:6:2:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::NewEmployeesAdded#should_evaluate? when the company has inactive commercial propositions preferences is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":190,"run_time":0.171465612,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:6:3:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::NewEmployeesAdded#should_evaluate? when the company has not yet seen 2 other insights excluding the Welcome insight is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":198,"run_time":0.183773205,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:6:4:1:1]","description":"is expected to be truthy","full_description":"Radar::Insights::Rules::NewEmployeesAdded#should_evaluate? CoPilot and Hiscox eligibility when the company is not eligible for CoPilot, but is eligible for Hiscox is expected to be truthy","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":206,"run_time":0.165623948,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:6:4:2:1]","description":"is expected to be truthy","full_description":"Radar::Insights::Rules::NewEmployeesAdded#should_evaluate? CoPilot and Hiscox eligibility when the company is not eligible for Hiscox, but is eligible for CoPilot is expected to be truthy","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":213,"run_time":0.160469824,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:6:4:3:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::NewEmployeesAdded#should_evaluate? CoPilot and Hiscox eligibility when the company is not eligible for Hiscox or CoPilot is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":220,"run_time":0.208410734,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:6:5:1:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::NewEmployeesAdded#should_evaluate? when adding new payroll records when the company has added a new employee to payroll more than 1 day ago is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":228,"run_time":0.183099048,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:6:5:2:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::NewEmployeesAdded#should_evaluate? when adding new payroll records when the company has added a new payroll record for an existing employee in the past day is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":243,"run_time":0.205637206,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:6:5:3:1]","description":"is expected to be truthy","full_description":"Radar::Insights::Rules::NewEmployeesAdded#should_evaluate? when adding new payroll records when the company has added a new payroll record for a returning employee in the past day is expected to be truthy","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":258,"run_time":0.19334837,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:7:1]","description":"should always be true","full_description":"Radar::Insights::Rules::NewEmployeesAdded#applies? should always be true","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":269,"run_time":0.094826437,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:8:1:1]","description":"is expected to be truthy","full_description":"Radar::Insights::Rules::NewEmployeesAdded#should_notify? the account owner is expected to be truthy","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":284,"run_time":0.09635681,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:8:2:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::NewEmployeesAdded#should_notify? not the account owner is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":290,"run_time":0.111500547,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:9:1:1:1]","description":"populates them appropriately","full_description":"Radar::Insights::Rules::NewEmployeesAdded#details employee name and count keys with no employees added yesterday populates them appropriately","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":321,"run_time":0.324284977,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:9:1:2:1]","description":"populates them appropriately","full_description":"Radar::Insights::Rules::NewEmployeesAdded#details employee name and count keys with one employee added yesterday populates them appropriately","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":330,"run_time":0.346065692,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:9:1:3:1]","description":"populates them appropriately","full_description":"Radar::Insights::Rules::NewEmployeesAdded#details employee name and count keys with two employees added yesterday populates them appropriately","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":339,"run_time":0.401467369,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:9:2:1:1]","description":"is expected to be truthy","full_description":"Radar::Insights::Rules::NewEmployeesAdded#details :has_insurance key with insurance-explained transactions is expected to be truthy","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":362,"run_time":0.012892827,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:9:2:2:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::NewEmployeesAdded#details :has_insurance key without insurance-explained transactions is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":368,"run_time":0.011577891,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:9:3:1]","description":"should always be false","full_description":"Radar::Insights::Rules::NewEmployeesAdded#details content override keys should always be false","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":376,"run_time":0.012308339,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:9:4:1:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::NewEmployeesAdded#details historical wording key by default, without the historical wording option is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":386,"run_time":0.011005666,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:9:4:2:1]","description":"is expected to be truthy","full_description":"Radar::Insights::Rules::NewEmployeesAdded#details historical wording key when specifying the historical wording option is expected to be truthy","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":392,"run_time":0.011626347,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:1]","description":"returns all transactions in the bank account","full_description":"Api::BankTransactionsController#index returns all transactions in the bank account","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":24,"run_time":0.131801598,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:2]","description":"paginates the results","full_description":"Api::BankTransactionsController#index paginates the results","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":30,"run_time":0.129282527,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:3]","description":"logs a search_term_present attribute set to false","full_description":"Api::BankTransactionsController#index logs a search_term_present attribute set to false","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":38,"run_time":0.101191623,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:4:1]","description":"defaults to all direction if there is no direction passed in parameters","full_description":"Api::BankTransactionsController#index filtering on money direction defaults to all direction if there is no direction passed in parameters","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":51,"run_time":0.109642759,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:4:2]","description":"returns all transactions for all filter","full_description":"Api::BankTransactionsController#index filtering on money direction returns all transactions for all filter","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":64,"run_time":0.139622022,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:4:3]","description":"returns only money in transactions for money in filter","full_description":"Api::BankTransactionsController#index filtering on money direction returns only money in transactions for money in filter","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":78,"run_time":0.115650163,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:4:4]","description":"returns only money out transactions for money out filter","full_description":"Api::BankTransactionsController#index filtering on money direction returns only money out transactions for money out filter","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":90,"run_time":0.131645555,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:4:5]","description":"raises an error for an unknown filter","full_description":"Api::BankTransactionsController#index filtering on money direction raises an error for an unknown filter","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":102,"run_time":0.123862145,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:4:6]","description":"does not filter when transaction_search feature switch is disabled","full_description":"Api::BankTransactionsController#index filtering on money direction does not filter when transaction_search feature switch is disabled","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":113,"run_time":0.136441186,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:5:1]","description":"returns transactions later than a given date","full_description":"Api::BankTransactionsController#index when filtering by a date range returns transactions later than a given date","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":147,"run_time":0.106200544,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:5:2]","description":"returns transactions earlier than a given date","full_description":"Api::BankTransactionsController#index when filtering by a date range returns transactions earlier than a given date","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":154,"run_time":0.17169282,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:5:3]","description":"returns transactions between a given date range","full_description":"Api::BankTransactionsController#index when filtering by a date range returns transactions between a given date range","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":161,"run_time":0.21515103,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:6:1]","description":"returns explained transactions","full_description":"Api::BankTransactionsController#index when filtering transactions by view returns explained transactions","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":188,"run_time":0.912606432,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:6:2]","description":"returns unexplained transactions","full_description":"Api::BankTransactionsController#index when filtering transactions by view returns unexplained transactions","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":193,"run_time":0.401062307,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:6:3]","description":"returns manually added transactions","full_description":"Api::BankTransactionsController#index when filtering transactions by view returns manually added transactions","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":203,"run_time":0.343808731,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:6:4]","description":"returns imported transactions","full_description":"Api::BankTransactionsController#index when filtering transactions by view returns imported transactions","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":208,"run_time":0.383901241,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:6:5]","description":"returns transactions marked for review","full_description":"Api::BankTransactionsController#index when filtering transactions by view returns transactions marked for review","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":218,"run_time":0.413415856,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:7:1]","description":"returns transactions sorted by date ascending","full_description":"Api::BankTransactionsController#index whens sorting transactions returns transactions sorted by date ascending","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":230,"run_time":0.121274963,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:7:2]","description":"returns transactions sorted by date descending","full_description":"Api::BankTransactionsController#index whens sorting transactions returns transactions sorted by date descending","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":236,"run_time":0.122315154,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:8:1:1]","description":"does not query elasticsearch","full_description":"Api::BankTransactionsController#index transaction search feature when the feature is disabled does not query elasticsearch","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":251,"run_time":0.103799843,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:8:1:2]","description":"does not publish BANKING_SEARCH_COMPLETE","full_description":"Api::BankTransactionsController#index transaction search feature when the feature is disabled does not publish BANKING_SEARCH_COMPLETE","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":256,"run_time":0.097705289,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:8:2:1:1]","description":"does not call elasticsearch for an empty term","full_description":"Api::BankTransactionsController#index transaction search feature when the feature is enabled without term does not call elasticsearch for an empty term","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":291,"run_time":0.104751213,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:8:2:1:2]","description":"publishes BANKING_SEARCH_COMPLETE","full_description":"Api::BankTransactionsController#index transaction search feature when the feature is enabled without term publishes BANKING_SEARCH_COMPLETE","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":296,"run_time":0.116133593,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:8:2:2:1]","description":"publishes BANKING_SEARCH_COMPLETE when a term is present","full_description":"Api::BankTransactionsController#index transaction search feature when the feature is enabled with term publishes BANKING_SEARCH_COMPLETE when a term is present","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":317,"run_time":0.151667644,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:8:2:2:2]","description":"sets correct params on the bank transactions query","full_description":"Api::BankTransactionsController#index transaction search feature when the feature is enabled with term sets correct params on the bank transactions query","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":335,"run_time":0.12670543,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:8:2:2:3]","description":"logs a search_term_present attribute set to true","full_description":"Api::BankTransactionsController#index transaction search feature when the feature is enabled with term logs a search_term_present attribute set to true","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":352,"run_time":0.133689012,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:8:2:2:4]","description":"calls elasticsearch","full_description":"Api::BankTransactionsController#index transaction search feature when the feature is enabled with term calls elasticsearch","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":361,"run_time":0.146438589,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:8:3:1]","description":"returns an internal server error if the search times out","full_description":"Api::BankTransactionsController#index transaction search feature when the search times out returns an internal server error if the search times out","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":377,"run_time":0.079261966,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:9:1:1]","description":"returns transactions by name order, and by oldest first for those with the same name","full_description":"Api::BankTransactionsController#index sorting by name ascending order returns transactions by name order, and by oldest first for those with the same name","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":399,"run_time":0.114120083,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:9:2:1]","description":"returns transactions by reverse name order","full_description":"Api::BankTransactionsController#index sorting by name descending order returns transactions by reverse name order","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":410,"run_time":0.129710142,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:9:3:1]","description":"returns an empty array","full_description":"Api::BankTransactionsController#index sorting by name requested page is beyond the total number of pages returns an empty array","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":421,"run_time":0.130701894,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:9:4:1]","description":"calls elasticsearch with a wide limit for pagination","full_description":"Api::BankTransactionsController#index sorting by name when search term is present calls elasticsearch with a wide limit for pagination","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":451,"run_time":0.137088474,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:9:4:2]","description":"adds the correct pagination links","full_description":"Api::BankTransactionsController#index sorting by name when search term is present adds the correct pagination links","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":476,"run_time":0.142659299,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:10:1:1]","description":"does not return a forbidden response","full_description":"Api::BankTransactionsController#index for a UK landlord with the landlord_api feature enabled does not return a forbidden response","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":499,"run_time":0.162450257,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:1:10:2:1]","description":"returns a forbidden response","full_description":"Api::BankTransactionsController#index for a UK landlord with the landlord_api feature disabled returns a forbidden response","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":508,"run_time":0.120977571,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:2:1:1]","description":"is successful","full_description":"Api::BankTransactionsController#show for a UK landlord is successful","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":523,"run_time":0.16472611,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:3:1:1:1]","description":"cannot delete fully unexplained if logged in as level 5 user","full_description":"Api::BankTransactionsController#delete DELETE v2/bank_transactions/:id permissions check cannot delete fully unexplained if logged in as level 5 user","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":541,"run_time":0.100876264,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:3:1:2:1]","description":"can delete fully unexplained bank transaction","full_description":"Api::BankTransactionsController#delete DELETE v2/bank_transactions/:id delete unexplained bank transaction can delete fully unexplained bank transaction","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":550,"run_time":0.128262262,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:3:1:3:1]","description":"cannot delete partially explained bank transaction","full_description":"Api::BankTransactionsController#delete DELETE v2/bank_transactions/:id delete partially unexplained bank transaction cannot delete partially explained bank transaction","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":563,"run_time":0.231578404,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:3:1:4:1]","description":"cannot delete manual bank transaction","full_description":"Api::BankTransactionsController#delete DELETE v2/bank_transactions/:id delete manually explained bank transaction cannot delete manual bank transaction","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":574,"run_time":0.188366419,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:3:1:5:1]","description":"cannot delete marked_for_review bank transaction","full_description":"Api::BankTransactionsController#delete DELETE v2/bank_transactions/:id delete marked_for_review bank transaction cannot delete marked_for_review bank transaction","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":587,"run_time":0.267552408,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:3:1:6:1]","description":"publishes a bank transaction deleted event","full_description":"Api::BankTransactionsController#delete DELETE v2/bank_transactions/:id event publishing publishes a bank transaction deleted event","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":598,"run_time":0.115425964,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:3:1:6:2:1]","description":"publishes a bank transaction deleted event with the mobile app source","full_description":"Api::BankTransactionsController#delete DELETE v2/bank_transactions/:id event publishing when the request comes from the mobile app publishes a bank transaction deleted event with the mobile app source","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":614,"run_time":0.11908617,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:4:1:1]","description":"enques an import job with the use_local_timezone option set","full_description":"Api::BankTransactionsController#statement for statements that do not require special time zone handling enques an import job with the use_local_timezone option set","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":642,"run_time":0.09237357,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:4:1:2:1]","description":"enques an import job with the use_local_timezone option set","full_description":"Api::BankTransactionsController#statement for statements that do not require special time zone handling for UK landlords enques an import job with the use_local_timezone option set","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":655,"run_time":0.068955301,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:4:2:1]","description":"enques an import job with the use_local_timezone option set","full_description":"Api::BankTransactionsController#statement for statements that we know require time zone handling enques an import job with the use_local_timezone option set","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":672,"run_time":0.064040746,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transactions_controller_spec.rb[1:4:3:1]","description":"enques an import job with the use_local_timezone option set","full_description":"Api::BankTransactionsController#statement for companies with use time zone feature enabled enques an import job with the use_local_timezone option set","status":"passed","file_path":"./spec/controllers/api/bank_transactions_controller_spec.rb","line_number":691,"run_time":0.090417326,"pending_message":null,"screenshot":null},{"id":"./spec/features/auto_extract/attach_file_to_existing_expense_spec.rb[1:1:1:1]","description":"displays extracted totals column without autofill information","full_description":"Attach Auto Extract file to existing expense viewing the saved files modal for a regular expense displays extracted totals column without autofill information","status":"passed","file_path":"./spec/features/auto_extract/attach_file_to_existing_expense_spec.rb","line_number":24,"run_time":2.011459214,"pending_message":null,"screenshot":null},{"id":"./spec/features/auto_extract/attach_file_to_existing_expense_spec.rb[1:1:2:1]","description":"displays extracted totals column without autofill information","full_description":"Attach Auto Extract file to existing expense viewing the saved files modal for a mileage claim displays extracted totals column without autofill information","status":"passed","file_path":"./spec/features/auto_extract/attach_file_to_existing_expense_spec.rb","line_number":48,"run_time":1.502518007,"pending_message":null,"screenshot":null},{"id":"./spec/features/auto_extract/attach_file_to_existing_expense_spec.rb[1:2:1]","description":"doesn't autofill description or receipt data for an existing expense","full_description":"Attach Auto Extract file to existing expense attaching an extracted file doesn't autofill description or receipt data for an existing expense","status":"passed","file_path":"./spec/features/auto_extract/attach_file_to_existing_expense_spec.rb","line_number":73,"run_time":2.340699059,"pending_message":null,"screenshot":null},{"id":"./spec/features/auto_extract/attach_file_to_existing_expense_spec.rb[1:2:2]","description":"doesn't autofill description or receipt data for an existing mileage claim","full_description":"Attach Auto Extract file to existing expense attaching an extracted file doesn't autofill description or receipt data for an existing mileage claim","status":"passed","file_path":"./spec/features/auto_extract/attach_file_to_existing_expense_spec.rb","line_number":110,"run_time":2.504372785,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/selection_spec.rb[1:1]","description":"allows selecting both money in and money out marked for approval transactions","full_description":"bulk selection rules allows selecting both money in and money out marked for approval transactions","status":"passed","file_path":"./spec/features/new_banking/selection_spec.rb","line_number":52,"run_time":3.245205068,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/selection_spec.rb[1:2]","description":"disables checkbox for transactions that are not marked for review","full_description":"bulk selection rules disables checkbox for transactions that are not marked for review","status":"passed","file_path":"./spec/features/new_banking/selection_spec.rb","line_number":61,"run_time":1.8928632,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/selection_spec.rb[1:3]","description":"disables checkbox for transactions that are money out when the first selected is a money in","full_description":"bulk selection rules disables checkbox for transactions that are money out when the first selected is a money in","status":"passed","file_path":"./spec/features/new_banking/selection_spec.rb","line_number":70,"run_time":1.885626908,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/selection_spec.rb[1:4]","description":"disables checkbox for transactions that are money in when the first selected is a money out","full_description":"bulk selection rules disables checkbox for transactions that are money in when the first selected is a money out","status":"passed","file_path":"./spec/features/new_banking/selection_spec.rb","line_number":78,"run_time":1.910650125,"pending_message":null,"screenshot":null},{"id":"./spec/features/ltd_company_year_ends_navigation_spec.rb[1:2:2:2:2:1]","description":"can only see the prepared year ends","full_description":"Limited company year end navigation with a practice managed company for a level 7 user when some year ends are prepared with an annual accounting period matching the calendar year can only see the prepared year ends","status":"passed","file_path":"./spec/features/ltd_company_year_ends_navigation_spec.rb","line_number":85,"run_time":4.359274947,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2014_16/auto_enrolment.feature[1:1:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2015-04-06 -\u003e And they are running payroll in the 2016 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid 1000 monthly -\u003e When they run payroll for a period -\u003e Then the qualifying earnings on the payslip should be 514 -\u003e And they could be eligible for auto-enrolment","full_description":"Auto Enrolment 2016 Checking eligibility for an employee paid more than the earnings trigger Given a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2015-04-06 -\u003e And they are running payroll in the 2016 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid 1000 monthly -\u003e When they run payroll for a period -\u003e Then the qualifying earnings on the payslip should be 514 -\u003e And they could be eligible for auto-enrolment","status":"passed","file_path":"./spec/acceptance/payroll/2014_16/auto_enrolment.feature","line_number":11,"run_time":0.491739532,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2014_16/auto_enrolment.feature[1:2:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2015-04-06 -\u003e And they are running payroll in the 2016 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid 800 monthly -\u003e When they run payroll for a period -\u003e Then they are not eligible for auto-enrolment","full_description":"Auto Enrolment 2016 Checking eligibility for an employee paid less than the earnings trigger Given a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2015-04-06 -\u003e And they are running payroll in the 2016 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid 800 monthly -\u003e When they run payroll for a period -\u003e Then they are not eligible for auto-enrolment","status":"passed","file_path":"./spec/acceptance/payroll/2014_16/auto_enrolment.feature","line_number":18,"run_time":0.33977413,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2014_16/auto_enrolment.feature[1:3:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2015-04-06 -\u003e And they are running payroll in the 2016 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid 400 monthly -\u003e When they run payroll for a period -\u003e Then they are not eligible for auto-enrolment","full_description":"Auto Enrolment 2016 Checking eligibility for an employee earnings less than the lower limit Given a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2015-04-06 -\u003e And they are running payroll in the 2016 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid 400 monthly -\u003e When they run payroll for a period -\u003e Then they are not eligible for auto-enrolment","status":"passed","file_path":"./spec/acceptance/payroll/2014_16/auto_enrolment.feature","line_number":24,"run_time":0.351970344,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2014_16/auto_enrolment.feature[1:4:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2015-04-06 -\u003e And they are running payroll in the 2016 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid 4500 monthly -\u003e When they run payroll for a period -\u003e Then the qualifying earnings on the payslip should be 3046 -\u003e And they could be eligible for auto-enrolment","full_description":"Auto Enrolment 2016 Checking eligibility for an employee paid more than the upper limit Given a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2015-04-06 -\u003e And they are running payroll in the 2016 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid 4500 monthly -\u003e When they run payroll for a period -\u003e Then the qualifying earnings on the payslip should be 3046 -\u003e And they could be eligible for auto-enrolment","status":"passed","file_path":"./spec/acceptance/payroll/2014_16/auto_enrolment.feature","line_number":30,"run_time":0.901029559,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2014_16/auto_enrolment.feature[1:5:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2015-04-06 -\u003e And they are running payroll in the 2016 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid 700 monthly -\u003e When they prepare payroll -\u003e And they add a bonus of 200 to the payslip -\u003e And they add commission of 100 to the payslip -\u003e Then the qualifying earnings on the payslip should be 514 -\u003e And they could be eligible for auto-enrolment","full_description":"Auto Enrolment 2016 Checking eligibility for an employee with additional pay Given a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2015-04-06 -\u003e And they are running payroll in the 2016 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid 700 monthly -\u003e When they prepare payroll -\u003e And they add a bonus of 200 to the payslip -\u003e And they add commission of 100 to the payslip -\u003e Then the qualifying earnings on the payslip should be 514 -\u003e And they could be eligible for auto-enrolment","status":"passed","file_path":"./spec/acceptance/payroll/2014_16/auto_enrolment.feature","line_number":37,"run_time":0.687376257,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2014_16/auto_enrolment.feature[1:6:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2015-04-06 -\u003e And they are running payroll in the 2016 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid 400 monthly -\u003e When they prepare payroll -\u003e And they add statutory sick pay of 300 to the payslip -\u003e And they add statutory adoption pay of 100 to the payslip -\u003e And they add statutory maternity pay of 100 to the payslip -\u003e Then the qualifying earnings on the payslip should be 414 -\u003e And they could be eligible for auto-enrolment","full_description":"Auto Enrolment 2016 Checking eligibility for an employee with statutory pay Given a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2015-04-06 -\u003e And they are running payroll in the 2016 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid 400 monthly -\u003e When they prepare payroll -\u003e And they add statutory sick pay of 300 to the payslip -\u003e And they add statutory adoption pay of 100 to the payslip -\u003e And they add statutory maternity pay of 100 to the payslip -\u003e Then the qualifying earnings on the payslip should be 414 -\u003e And they could be eligible for auto-enrolment","status":"passed","file_path":"./spec/acceptance/payroll/2014_16/auto_enrolment.feature","line_number":46,"run_time":0.480497612,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2014_16/auto_enrolment.feature[1:7:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2015-04-06 -\u003e And they are running payroll in the 2016 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid 500 monthly -\u003e When they prepare payroll -\u003e And they add a bonus of 150 to the payslip -\u003e And they add an allowance of 50 to the payslip -\u003e And they add other payments of 200 to the payslip -\u003e And they add deduction free pay of 100 to the payslip -\u003e Then they are not eligible for auto-enrolment","full_description":"Auto Enrolment 2016 Checking eligibility for an employee with other payments Given a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2015-04-06 -\u003e And they are running payroll in the 2016 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid 500 monthly -\u003e When they prepare payroll -\u003e And they add a bonus of 150 to the payslip -\u003e And they add an allowance of 50 to the payslip -\u003e And they add other payments of 200 to the payslip -\u003e And they add deduction free pay of 100 to the payslip -\u003e Then they are not eligible for auto-enrolment","status":"passed","file_path":"./spec/acceptance/payroll/2014_16/auto_enrolment.feature","line_number":56,"run_time":0.500191897,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2014_16/auto_enrolment.feature[1:8:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2015-04-06 -\u003e And they are running payroll in the 2016 tax year on the 25th of each month -\u003e Given a 21 year old Employee payroll profile with NI letter A -\u003e And they are paid 1000 monthly -\u003e When they run payroll for a period -\u003e Then they are not eligible for auto-enrolment","full_description":"Auto Enrolment 2016 Checking eligibility for an employee under 22 Given a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2015-04-06 -\u003e And they are running payroll in the 2016 tax year on the 25th of each month -\u003e Given a 21 year old Employee payroll profile with NI letter A -\u003e And they are paid 1000 monthly -\u003e When they run payroll for a period -\u003e Then they are not eligible for auto-enrolment","status":"passed","file_path":"./spec/acceptance/payroll/2014_16/auto_enrolment.feature","line_number":66,"run_time":0.386217189,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2014_16/auto_enrolment.feature[1:9:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2015-04-06 -\u003e And they are running payroll in the 2016 tax year on the 25th of each month -\u003e Given a 68 year old male Employee payroll profile with NI letter A -\u003e And they are paid 1000 monthly -\u003e When they run payroll for a period -\u003e Then they are not eligible for auto-enrolment","full_description":"Auto Enrolment 2016 Checking eligibility for a man over the state pension age Given a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2015-04-06 -\u003e And they are running payroll in the 2016 tax year on the 25th of each month -\u003e Given a 68 year old male Employee payroll profile with NI letter A -\u003e And they are paid 1000 monthly -\u003e When they run payroll for a period -\u003e Then they are not eligible for auto-enrolment","status":"passed","file_path":"./spec/acceptance/payroll/2014_16/auto_enrolment.feature","line_number":72,"run_time":0.397321443,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2014_16/auto_enrolment.feature[1:10:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2015-04-06 -\u003e And they are running payroll in the 2016 tax year on the 25th of each month -\u003e Given a 68 year old female Employee payroll profile with NI letter A -\u003e And they are paid 1000 monthly -\u003e When they run payroll for a period -\u003e Then they are not eligible for auto-enrolment","full_description":"Auto Enrolment 2016 Checking eligibility for a woman over the state pension age Given a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2015-04-06 -\u003e And they are running payroll in the 2016 tax year on the 25th of each month -\u003e Given a 68 year old female Employee payroll profile with NI letter A -\u003e And they are paid 1000 monthly -\u003e When they run payroll for a period -\u003e Then they are not eligible for auto-enrolment","status":"passed","file_path":"./spec/acceptance/payroll/2014_16/auto_enrolment.feature","line_number":78,"run_time":0.3384096,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_account_integration_spec.rb[1:1:1:1:1]","description":"responds with an array of bank accounts","full_description":"Api::BankAccountIntegration GET /bank_accounts with the right permission_level with 3 bank accounts responds with an array of bank accounts","status":"passed","file_path":"./spec/requests/api/bank_account_integration_spec.rb","line_number":84,"run_time":0.333344762,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_account_integration_spec.rb[1:1:1:2:1:1]","description":"responds with an array of bank_accounts","full_description":"Api::BankAccountIntegration GET /bank_accounts with the right permission_level pagination with less entries then the default items per page responds with an array of bank_accounts","status":"passed","file_path":"./spec/requests/api/bank_account_integration_spec.rb","line_number":102,"run_time":0.162671839,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_account_integration_spec.rb[1:1:1:2:2:1:1]","description":"responds with an array of bank_accounts","full_description":"Api::BankAccountIntegration GET /bank_accounts with the right permission_level pagination with more entries then the default items per page on the first page responds with an array of bank_accounts","status":"passed","file_path":"./spec/requests/api/bank_account_integration_spec.rb","line_number":119,"run_time":0.179134163,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_account_integration_spec.rb[1:1:1:2:2:2:1]","description":"responds with an array of bank_accounts","full_description":"Api::BankAccountIntegration GET /bank_accounts with the right permission_level pagination with more entries then the default items per page on the last page responds with an array of bank_accounts","status":"passed","file_path":"./spec/requests/api/bank_account_integration_spec.rb","line_number":133,"run_time":0.14472773,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_account_integration_spec.rb[1:1:1:3:1:1:1:1]","description":"responds with an array of bank_accounts","full_description":"Api::BankAccountIntegration GET /bank_accounts with the right permission_level filter by view valid filter all responds with an array of bank_accounts","status":"passed","file_path":"./spec/requests/api/bank_account_integration_spec.rb","line_number":51,"run_time":0.203096842,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_account_integration_spec.rb[1:1:1:3:1:1:2:1]","description":"responds with an array of bank_accounts","full_description":"Api::BankAccountIntegration GET /bank_accounts with the right permission_level filter by view valid filter standard_bank_accounts responds with an array of bank_accounts","status":"passed","file_path":"./spec/requests/api/bank_account_integration_spec.rb","line_number":51,"run_time":0.151088105,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_account_integration_spec.rb[1:1:1:3:1:1:3:1]","description":"responds with an array of bank_accounts","full_description":"Api::BankAccountIntegration GET /bank_accounts with the right permission_level filter by view valid filter credit_card_accounts responds with an array of bank_accounts","status":"passed","file_path":"./spec/requests/api/bank_account_integration_spec.rb","line_number":51,"run_time":0.161473554,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_account_integration_spec.rb[1:1:1:3:1:1:4:1]","description":"responds with an array of bank_accounts","full_description":"Api::BankAccountIntegration GET /bank_accounts with the right permission_level filter by view valid filter paypal_accounts responds with an array of bank_accounts","status":"passed","file_path":"./spec/requests/api/bank_account_integration_spec.rb","line_number":51,"run_time":0.163245252,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_account_integration_spec.rb[1:1:1:3:1:1:5:1]","description":"responds with an array of bank_accounts","full_description":"Api::BankAccountIntegration GET /bank_accounts with the right permission_level filter by view valid filter active responds with an array of bank_accounts","status":"passed","file_path":"./spec/requests/api/bank_account_integration_spec.rb","line_number":51,"run_time":0.175326461,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_account_integration_spec.rb[1:1:1:3:1:1:6:1]","description":"responds with an array of bank_accounts","full_description":"Api::BankAccountIntegration GET /bank_accounts with the right permission_level filter by view valid filter hidden responds with an array of bank_accounts","status":"passed","file_path":"./spec/requests/api/bank_account_integration_spec.rb","line_number":51,"run_time":0.156640636,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_account_integration_spec.rb[1:1:1:3:1:2:1]","description":"is expected to respond with status code :bad_request (400)","full_description":"Api::BankAccountIntegration GET /bank_accounts with the right permission_level filter by view invalid filter is expected to respond with status code :bad_request (400)","status":"passed","file_path":"./spec/requests/api/bank_account_integration_spec.rb","line_number":220,"run_time":0.071470431,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_account_integration_spec.rb[1:1:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::BankAccountIntegration GET /bank_accounts without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/bank_account_integration_spec.rb","line_number":231,"run_time":0.075793253,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_account_integration_spec.rb[1:2:1]","description":"responds with latest_statement date","full_description":"Api::BankAccountIntegration GET /bank_accounts/bank_account_id/latest_statement responds with latest_statement date","status":"passed","file_path":"./spec/requests/api/bank_account_integration_spec.rb","line_number":246,"run_time":0.23303974,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_account_integration_spec.rb[1:3:1:1:1]","description":"responds with unexplained and marked for approval totals in addition to the standard fields","full_description":"Api::BankAccountIntegration GET /bank_accounts/bank_account_id with the right permission_level with valid bank_account_id responds with unexplained and marked for approval totals in addition to the standard fields","status":"passed","file_path":"./spec/requests/api/bank_account_integration_spec.rb","line_number":264,"run_time":0.268570768,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_account_integration_spec.rb[1:3:1:2:1]","description":"is expected to respond with a missing status code (404)","full_description":"Api::BankAccountIntegration GET /bank_accounts/bank_account_id with the right permission_level with invalid bank_account_id is expected to respond with a missing status code (404)","status":"passed","file_path":"./spec/requests/api/bank_account_integration_spec.rb","line_number":275,"run_time":0.094970768,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_account_integration_spec.rb[1:3:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::BankAccountIntegration GET /bank_accounts/bank_account_id without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/bank_account_integration_spec.rb","line_number":285,"run_time":0.113615995,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_account_integration_spec.rb[1:4:1:1:1:1]","description":"has created a bank account record for the current company","full_description":"Api::BankAccountIntegration POST /bank_accounts with the right permission_level with valid type with valid attributes has created a bank account record for the current company","status":"passed","file_path":"./spec/requests/api/bank_account_integration_spec.rb","line_number":302,"run_time":0.13183433,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_account_integration_spec.rb[1:4:1:1:2:1:1]","description":"is expected to respond with status code :bad_request (400)","full_description":"Api::BankAccountIntegration POST /bank_accounts with the right permission_level with valid type with invalid attributes params missing is expected to respond with status code :bad_request (400)","status":"passed","file_path":"./spec/requests/api/bank_account_integration_spec.rb","line_number":319,"run_time":0.079507073,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_account_integration_spec.rb[1:4:1:1:2:2:1]","description":"has the same number of bank accounts after posting attempt","full_description":"Api::BankAccountIntegration POST /bank_accounts with the right permission_level with valid type with invalid attributes name has the same number of bank accounts after posting attempt","status":"passed","file_path":"./spec/requests/api/bank_account_integration_spec.rb","line_number":329,"run_time":0.089985184,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_account_integration_spec.rb[1:4:1:1:3:1]","description":"has created a USD account","full_description":"Api::BankAccountIntegration POST /bank_accounts with the right permission_level with valid type with a foreign currency has created a USD account","status":"passed","file_path":"./spec/requests/api/bank_account_integration_spec.rb","line_number":341,"run_time":0.12767292,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_account_integration_spec.rb[1:4:1:2:1]","description":"has the same number of bank accounts after posting attempt","full_description":"Api::BankAccountIntegration POST /bank_accounts with the right permission_level with invalid type has the same number of bank accounts after posting attempt","status":"passed","file_path":"./spec/requests/api/bank_account_integration_spec.rb","line_number":355,"run_time":0.09051785,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_account_integration_spec.rb[1:4:2:1:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::BankAccountIntegration POST /bank_accounts without the right permission_level with valid type is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/bank_account_integration_spec.rb","line_number":369,"run_time":0.085786303,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_account_integration_spec.rb[1:5:1:1:1:1]","description":"does not have an additional bank account after one has been updated","full_description":"Api::BankAccountIntegration PUT /bank_accounts/bank_account_id with the right permission_level with valid bank_account_id with valid attributes does not have an additional bank account after one has been updated","status":"passed","file_path":"./spec/requests/api/bank_account_integration_spec.rb","line_number":388,"run_time":0.132148703,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_account_integration_spec.rb[1:5:1:1:2:1:1]","description":"has the same number of bank accounts after posting attempt","full_description":"Api::BankAccountIntegration PUT /bank_accounts/bank_account_id with the right permission_level with valid bank_account_id with invalid attributes name has the same number of bank accounts after posting attempt","status":"passed","file_path":"./spec/requests/api/bank_account_integration_spec.rb","line_number":402,"run_time":0.098648303,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_account_integration_spec.rb[1:5:1:2:1]","description":"is expected to respond with a not_found status code (404)","full_description":"Api::BankAccountIntegration PUT /bank_accounts/bank_account_id with the right permission_level with invalid bank_account_id is expected to respond with a not_found status code (404)","status":"passed","file_path":"./spec/requests/api/bank_account_integration_spec.rb","line_number":415,"run_time":0.078731839,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_account_integration_spec.rb[1:5:2:1:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::BankAccountIntegration PUT /bank_accounts/bank_account_id without the right permission_level with valid bank_account_id is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/bank_account_integration_spec.rb","line_number":427,"run_time":0.077269042,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_account_integration_spec.rb[1:6:1:1:1:1]","description":"has the same number of bank accounts after deletion attempt","full_description":"Api::BankAccountIntegration DELETE /bank_accounts/bank_account_id with the right permission_level with a primary bank_account_id on deletion has the same number of bank accounts after deletion attempt","status":"passed","file_path":"./spec/requests/api/bank_account_integration_spec.rb","line_number":446,"run_time":0.079751337,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_account_integration_spec.rb[1:6:1:2:1:1]","description":"has one fewer bank accounts","full_description":"Api::BankAccountIntegration DELETE /bank_accounts/bank_account_id with the right permission_level with a non-primary bank_account_id on deletion has one fewer bank accounts","status":"passed","file_path":"./spec/requests/api/bank_account_integration_spec.rb","line_number":464,"run_time":0.12012165,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_account_integration_spec.rb[1:6:1:2:2:1:1]","description":"has the same number of bank accounts","full_description":"Api::BankAccountIntegration DELETE /bank_accounts/bank_account_id with the right permission_level with a non-primary bank_account_id which has bank account entries on deletion has the same number of bank accounts","status":"passed","file_path":"./spec/requests/api/bank_account_integration_spec.rb","line_number":481,"run_time":0.184463021,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_account_integration_spec.rb[1:6:1:3:1]","description":"is expected to respond with a not_found status code (404)","full_description":"Api::BankAccountIntegration DELETE /bank_accounts/bank_account_id with the right permission_level with invalid bank_account_id is expected to respond with a not_found status code (404)","status":"passed","file_path":"./spec/requests/api/bank_account_integration_spec.rb","line_number":494,"run_time":0.088564914,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_account_integration_spec.rb[1:6:2:1:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::BankAccountIntegration DELETE /bank_accounts/bank_account_id without the right permission_level with valid bank_account_id is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/bank_account_integration_spec.rb","line_number":505,"run_time":0.072523698,"pending_message":null,"screenshot":null},{"id":"./spec/features/projects_spec.rb[1:1]","description":"creating a new project","full_description":"Projects creating a new project","status":"passed","file_path":"./spec/features/projects_spec.rb","line_number":14,"run_time":1.999617886,"pending_message":null,"screenshot":null},{"id":"./spec/features/projects_spec.rb[1:2]","description":"add tasks to a project","full_description":"Projects add tasks to a project","status":"passed","file_path":"./spec/features/projects_spec.rb","line_number":45,"run_time":1.583796721,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies/notes_controller_spec.rb[1:1:1]","description":"shows the notes tab","full_description":"PracticeDashboard::Companies::NotesController GET #index shows the notes tab","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies/notes_controller_spec.rb","line_number":25,"run_time":0.264537224,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies/notes_controller_spec.rb[1:1:2:1:1]","description":"renders page header tabs","full_description":"PracticeDashboard::Companies::NotesController GET #index page header tabs with practice_client_notes feature enabled renders page header tabs","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies/notes_controller_spec.rb","line_number":38,"run_time":0.203380867,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies/notes_controller_spec.rb[1:2:1]","description":"creates a new note","full_description":"PracticeDashboard::Companies::NotesController POST #create creates a new note","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies/notes_controller_spec.rb","line_number":48,"run_time":0.143174316,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies/notes_controller_spec.rb[1:2:2:1]","description":"does not save a new note","full_description":"PracticeDashboard::Companies::NotesController POST #create no content provided does not save a new note","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies/notes_controller_spec.rb","line_number":58,"run_time":0.241171587,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies/notes_controller_spec.rb[1:3:1]","description":"responds to edit","full_description":"PracticeDashboard::Companies::NotesController GET #edit responds to edit","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies/notes_controller_spec.rb","line_number":76,"run_time":0.157782093,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies/notes_controller_spec.rb[1:4:1]","description":"updates the note content","full_description":"PracticeDashboard::Companies::NotesController PUT #update updates the note content","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies/notes_controller_spec.rb","line_number":95,"run_time":0.167979749,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies/notes_controller_spec.rb[1:4:2]","description":"updates the note content using turbo stream","full_description":"PracticeDashboard::Companies::NotesController PUT #update updates the note content using turbo stream","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies/notes_controller_spec.rb","line_number":108,"run_time":0.168897797,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies/notes_controller_spec.rb[1:4:3:1]","description":"does not update the note content","full_description":"PracticeDashboard::Companies::NotesController PUT #update with invalid content does not update the note content","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies/notes_controller_spec.rb","line_number":127,"run_time":0.205311417,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies/notes_controller_spec.rb[1:4:3:2]","description":"does not update the note content using turbo stream","full_description":"PracticeDashboard::Companies::NotesController PUT #update with invalid content does not update the note content using turbo stream","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies/notes_controller_spec.rb","line_number":139,"run_time":0.146547993,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies/notes_controller_spec.rb[1:4:4:1]","description":"does not update the note","full_description":"PracticeDashboard::Companies::NotesController PUT #update junior account manager unauthorised to update senior account manager's note does not update the note","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies/notes_controller_spec.rb","line_number":160,"run_time":0.163220883,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies/notes_controller_spec.rb[1:5:1]","description":"deletes the note","full_description":"PracticeDashboard::Companies::NotesController DELETE #destroy deletes the note","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies/notes_controller_spec.rb","line_number":179,"run_time":0.160037732,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies/notes_controller_spec.rb[1:5:2:1]","description":"does not delete the note","full_description":"PracticeDashboard::Companies::NotesController DELETE #destroy when note cannot be destroyed does not delete the note","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies/notes_controller_spec.rb","line_number":191,"run_time":0.150240787,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies/notes_controller_spec.rb[1:5:3:1]","description":"does not delete the note","full_description":"PracticeDashboard::Companies::NotesController DELETE #destroy junior account manager unauthorised to delete senior account manager's note does not delete the note","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies/notes_controller_spec.rb","line_number":212,"run_time":0.178741061,"pending_message":null,"screenshot":null},{"id":"./spec/features/sorting_projects_spec.rb[1:1]","description":"order is not changed if switched to other page, moved back, and then filtered","full_description":"ProjectsOrderingIssue order is not changed if switched to other page, moved back, and then filtered","status":"passed","file_path":"./spec/features/sorting_projects_spec.rb","line_number":13,"run_time":1.983173512,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/predicted_events/pension_annuity_payments_spec.rb[1:1:1:1:1:1]","description":"only includes entry entries that match the rules","full_description":"Cashflow::PredictedEvents::PensionAnnuityPayments behaves like Predicted Payment #payment_series default horizon cutoff of 90 days source items when salary payments present only includes entry entries that match the rules","status":"passed","file_path":"./spec/shared/cashflow/projected_payments_shared_examples.rb","line_number":220,"run_time":1.14528145,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/predicted_events/pension_annuity_payments_spec.rb[1:1:2:1]","description":"correctly projects future payments for past-dated entry payments monthly up to the default horizon","full_description":"Cashflow::PredictedEvents::PensionAnnuityPayments behaves like Predicted Payment #payments_on correctly projects future payments for past-dated entry payments monthly up to the default horizon","status":"passed","file_path":"./spec/shared/cashflow/projected_payments_shared_examples.rb","line_number":228,"run_time":0.976270201,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/bank_integrations_controller_spec.rb[1:1:1:1]","description":"redirects to the open banking blank slate page","full_description":"OpenBanking::BankIntegrationsController#index no bank integrations or API bank feeds exist redirects to the open banking blank slate page","status":"passed","file_path":"./spec/controllers/open_banking/bank_integrations_controller_spec.rb","line_number":12,"run_time":0.055975836,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/bank_integrations_controller_spec.rb[1:1:2:1]","description":"redirects to the open banking blank slate page","full_description":"OpenBanking::BankIntegrationsController#index bank integration exists redirects to the open banking blank slate page","status":"passed","file_path":"./spec/controllers/open_banking/bank_integrations_controller_spec.rb","line_number":23,"run_time":0.063132847,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/bank_integrations_controller_spec.rb[1:1:3:1]","description":"is successful","full_description":"OpenBanking::BankIntegrationsController#index API bank feed exists is successful","status":"passed","file_path":"./spec/controllers/open_banking/bank_integrations_controller_spec.rb","line_number":32,"run_time":0.163485994,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/bank_integrations_controller_spec.rb[1:1:4:1]","description":"is successful","full_description":"OpenBanking::BankIntegrationsController#index bank integration has authorised accounts is successful","status":"passed","file_path":"./spec/controllers/open_banking/bank_integrations_controller_spec.rb","line_number":44,"run_time":0.134421059,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/bank_integrations_controller_spec.rb[1:1:5:1]","description":"is successful","full_description":"OpenBanking::BankIntegrationsController#index with bank integration having a authorised account and the the company having a API bank feed is successful","status":"passed","file_path":"./spec/controllers/open_banking/bank_integrations_controller_spec.rb","line_number":57,"run_time":0.143781647,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/bank_integrations_controller_spec.rb[1:2:1]","description":"is successful","full_description":"OpenBanking::BankIntegrationsController#show is successful","status":"passed","file_path":"./spec/controllers/open_banking/bank_integrations_controller_spec.rb","line_number":71,"run_time":0.132521655,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/bank_integrations_controller_spec.rb[1:2:2:1]","description":"show balance information","full_description":"OpenBanking::BankIntegrationsController#show on the open_banking_set_balances_at_bank feature switch show balance information","status":"passed","file_path":"./spec/controllers/open_banking/bank_integrations_controller_spec.rb","line_number":80,"run_time":0.136441516,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/bank_integrations_controller_spec.rb[1:2:3:1]","description":"does not show balance information","full_description":"OpenBanking::BankIntegrationsController#show not on the open_banking_set_balances_at_bank feature switch does not show balance information","status":"passed","file_path":"./spec/controllers/open_banking/bank_integrations_controller_spec.rb","line_number":89,"run_time":0.136618903,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/bank_integrations_controller_spec.rb[1:3:1]","description":"is successful","full_description":"OpenBanking::BankIntegrationsController#api_show is successful","status":"passed","file_path":"./spec/controllers/open_banking/bank_integrations_controller_spec.rb","line_number":99,"run_time":0.145471195,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/practice_status_check_spec.rb[1:1:1]","description":"is expected not to have a failure on #\u003cUkLimitedCompany id: 895397833, name: \"FreeAgent Central\"\u003e","full_description":"PracticeStatusCheck for a direct company is expected not to have a failure on #\u003cUkLimitedCompany id: 895397833, name: \"FreeAgent Central\"\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/practice_status_check_spec.rb","line_number":12,"run_time":0.010245629,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/practice_status_check_spec.rb[1:1:2:1]","description":"is expected not to have a failure on #\u003cUkLimitedCompany id: 895398062, name: \"FreeAgent Central\"\u003e","full_description":"PracticeStatusCheck for a direct company linked to a practice is expected not to have a failure on #\u003cUkLimitedCompany id: 895398062, name: \"FreeAgent Central\"\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/practice_status_check_spec.rb","line_number":17,"run_time":0.147556459,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/practice_status_check_spec.rb[1:1:2:2:1]","description":"is expected not to have a failure on #\u003cUkLimitedCompany id: 895398063, name: \"FreeAgent Central\"\u003e","full_description":"PracticeStatusCheck for a direct company linked to a practice that is suspended is expected not to have a failure on #\u003cUkLimitedCompany id: 895398063, name: \"FreeAgent Central\"\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/practice_status_check_spec.rb","line_number":24,"run_time":0.144162267,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/practice_status_check_spec.rb[1:2:1]","description":"is expected not to have a failure on #\u003cUkLimitedCompany id: 895398064, name: \"FreeAgent Central\"\u003e","full_description":"PracticeStatusCheck for an RBSG company is expected not to have a failure on #\u003cUkLimitedCompany id: 895398064, name: \"FreeAgent Central\"\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/practice_status_check_spec.rb","line_number":32,"run_time":0.152923131,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/practice_status_check_spec.rb[1:2:2:1]","description":"is expected not to have a failure on #\u003cUkLimitedCompany id: 895398065, name: \"FreeAgent Central\"\u003e","full_description":"PracticeStatusCheck for an RBSG company linked to a practice is expected not to have a failure on #\u003cUkLimitedCompany id: 895398065, name: \"FreeAgent Central\"\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/practice_status_check_spec.rb","line_number":37,"run_time":0.138723795,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/practice_status_check_spec.rb[1:2:2:2:1]","description":"is expected not to have a failure on #\u003cUkLimitedCompany id: 895398066, name: \"FreeAgent Central\"\u003e","full_description":"PracticeStatusCheck for an RBSG company linked to a practice that is suspended is expected not to have a failure on #\u003cUkLimitedCompany id: 895398066, name: \"FreeAgent Central\"\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/practice_status_check_spec.rb","line_number":44,"run_time":0.150744112,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/practice_status_check_spec.rb[1:3:1:1:1]","description":"is expected not to have a failure on #\u003cUkLimitedCompany id: 895398067, name: \"FreeAgent Central\"\u003e","full_description":"PracticeStatusCheck for an FAPD company that is active when the practice is active is expected not to have a failure on #\u003cUkLimitedCompany id: 895398067, name: \"FreeAgent Central\"\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/practice_status_check_spec.rb","line_number":54,"run_time":0.143361533,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/practice_status_check_spec.rb[1:3:1:2:1]","description":"is expected to have a failure on #\u003cUkLimitedCompany id: 895398068, name: \"FreeAgent Central\"\u003e","full_description":"PracticeStatusCheck for an FAPD company that is active when the practice is suspended is expected to have a failure on #\u003cUkLimitedCompany id: 895398068, name: \"FreeAgent Central\"\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/practice_status_check_spec.rb","line_number":62,"run_time":0.172192173,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/practice_status_check_spec.rb[1:3:1:2:2]","description":"is expected to have a failure like /Company-\\d+ has an active subscription, but the practice sale is suspended/","full_description":"PracticeStatusCheck for an FAPD company that is active when the practice is suspended is expected to have a failure like /Company-\\d+ has an active subscription, but the practice sale is suspended/","status":"passed","file_path":"./spec/models/health_robinson/check/practice_status_check_spec.rb","line_number":63,"run_time":0.158837861,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/practice_status_check_spec.rb[1:3:2:1:1]","description":"is expected not to have a failure on #\u003cUkLimitedCompany id: 895398070, name: \"FreeAgent Central\"\u003e","full_description":"PracticeStatusCheck for an FAPD company that is inactive when the practice is active is expected not to have a failure on #\u003cUkLimitedCompany id: 895398070, name: \"FreeAgent Central\"\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/practice_status_check_spec.rb","line_number":71,"run_time":0.171674247,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/practice_status_check_spec.rb[1:3:2:2:1]","description":"is expected not to have a failure on #\u003cUkLimitedCompany id: 895398071, name: \"FreeAgent Central\"\u003e","full_description":"PracticeStatusCheck for an FAPD company that is inactive when the practice is suspended is expected not to have a failure on #\u003cUkLimitedCompany id: 895398071, name: \"FreeAgent Central\"\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/practice_status_check_spec.rb","line_number":79,"run_time":0.159042214,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/practice_status_check_spec.rb[1:4:1:1:1]","description":"is expected not to have a failure on #\u003cUkLimitedCompany id: 895398072, name: \"FreeAgent Central\"\u003e","full_description":"PracticeStatusCheck for an FAPDRBSG company that is active when the practice is active is expected not to have a failure on #\u003cUkLimitedCompany id: 895398072, name: \"FreeAgent Central\"\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/practice_status_check_spec.rb","line_number":89,"run_time":0.174873391,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/practice_status_check_spec.rb[1:4:1:2:1]","description":"is expected to have a failure on #\u003cUkLimitedCompany id: 895398073, name: \"FreeAgent Central\"\u003e","full_description":"PracticeStatusCheck for an FAPDRBSG company that is active when the practice is suspended is expected to have a failure on #\u003cUkLimitedCompany id: 895398073, name: \"FreeAgent Central\"\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/practice_status_check_spec.rb","line_number":97,"run_time":0.173620688,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/practice_status_check_spec.rb[1:4:1:2:2]","description":"is expected to have a failure like /Company-\\d+ has an active subscription, but the practice sale is suspended/","full_description":"PracticeStatusCheck for an FAPDRBSG company that is active when the practice is suspended is expected to have a failure like /Company-\\d+ has an active subscription, but the practice sale is suspended/","status":"passed","file_path":"./spec/models/health_robinson/check/practice_status_check_spec.rb","line_number":98,"run_time":0.168269722,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/practice_status_check_spec.rb[1:4:2:1:1]","description":"is expected not to have a failure on #\u003cUkLimitedCompany id: 895398075, name: \"FreeAgent Central\"\u003e","full_description":"PracticeStatusCheck for an FAPDRBSG company that is inactive when the practice is active is expected not to have a failure on #\u003cUkLimitedCompany id: 895398075, name: \"FreeAgent Central\"\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/practice_status_check_spec.rb","line_number":106,"run_time":0.160987582,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/practice_status_check_spec.rb[1:4:2:2:1]","description":"is expected not to have a failure on #\u003cUkLimitedCompany id: 895398076, name: \"FreeAgent Central\"\u003e","full_description":"PracticeStatusCheck for an FAPDRBSG company that is inactive when the practice is suspended is expected not to have a failure on #\u003cUkLimitedCompany id: 895398076, name: \"FreeAgent Central\"\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/practice_status_check_spec.rb","line_number":114,"run_time":0.189679993,"pending_message":null,"screenshot":null},{"id":"./spec/requests/authorisation_spec.rb[1:1:1]","description":"a logged in user should be denied access to another account","full_description":"Authorisation as a regular user a logged in user should be denied access to another account","status":"passed","file_path":"./spec/requests/authorisation_spec.rb","line_number":11,"run_time":0.153132934,"pending_message":null,"screenshot":null},{"id":"./spec/requests/authorisation_spec.rb[1:2:1]","description":"allows access to any of the practice clients","full_description":"Authorisation as a senior account manager allows access to any of the practice clients","status":"passed","file_path":"./spec/requests/authorisation_spec.rb","line_number":22,"run_time":0.2353648,"pending_message":null,"screenshot":null},{"id":"./spec/requests/authorisation_spec.rb[1:2:2]","description":"denies access to another practice's client","full_description":"Authorisation as a senior account manager denies access to another practice's client","status":"passed","file_path":"./spec/requests/authorisation_spec.rb","line_number":31,"run_time":0.243604819,"pending_message":null,"screenshot":null},{"id":"./spec/requests/authorisation_spec.rb[1:2:3]","description":"can not directly access a client without going through the practice dashboard","full_description":"Authorisation as a senior account manager can not directly access a client without going through the practice dashboard","status":"passed","file_path":"./spec/requests/authorisation_spec.rb","line_number":39,"run_time":0.198764271,"pending_message":null,"screenshot":null},{"id":"./spec/requests/authorisation_spec.rb[1:3:1]","description":"can access her own clients","full_description":"Authorisation as a non-senior account manager can access her own clients","status":"passed","file_path":"./spec/requests/authorisation_spec.rb","line_number":50,"run_time":0.210200774,"pending_message":null,"screenshot":null},{"id":"./spec/requests/authorisation_spec.rb[1:3:2]","description":"can not access other clients","full_description":"Authorisation as a non-senior account manager can not access other clients","status":"passed","file_path":"./spec/requests/authorisation_spec.rb","line_number":57,"run_time":0.267955198,"pending_message":null,"screenshot":null},{"id":"./spec/requests/authorisation_spec.rb[1:4:1:1]","description":"redirects the user with a 303 response","full_description":"Authorisation when the session cookie is missing and the request has a turbo stream format redirects the user with a 303 response","status":"passed","file_path":"./spec/requests/authorisation_spec.rb","line_number":74,"run_time":0.07305222,"pending_message":null,"screenshot":null},{"id":"./spec/requests/authorisation_spec.rb[1:4:2:1]","description":"redirects the user with a 302 response","full_description":"Authorisation when the session cookie is missing and the request has a html format redirects the user with a 302 response","status":"passed","file_path":"./spec/requests/authorisation_spec.rb","line_number":82,"run_time":0.068003174,"pending_message":null,"screenshot":null},{"id":"./spec/requests/authorisation_spec.rb[1:4:3:1]","description":"returns an unauthorized status","full_description":"Authorisation when the session cookie is missing and the request is another format returns an unauthorized status","status":"passed","file_path":"./spec/requests/authorisation_spec.rb","line_number":90,"run_time":0.06179494,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings/construction_industry_schemes_helper_spec.rb[1:1:1:1:1]","description":"is expected to be truthy","full_description":"Settings::ConstructionIndustrySchemesHelper#hide_cis_rti_lock_message? when RTI payroll is in progress no prior deductions have been specified is expected to be truthy","status":"passed","file_path":"./spec/helpers/settings/construction_industry_schemes_helper_spec.rb","line_number":16,"run_time":0.163164955,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings/construction_industry_schemes_helper_spec.rb[1:1:1:2:1]","description":"is expected to be falsey","full_description":"Settings::ConstructionIndustrySchemesHelper#hide_cis_rti_lock_message? when RTI payroll is in progress prior deductions are specified is expected to be falsey","status":"passed","file_path":"./spec/helpers/settings/construction_industry_schemes_helper_spec.rb","line_number":22,"run_time":0.155845208,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings/construction_industry_schemes_helper_spec.rb[1:1:2:1]","description":"is expected to be falsey","full_description":"Settings::ConstructionIndustrySchemesHelper#hide_cis_rti_lock_message? no prior deductions have been specified is expected to be falsey","status":"passed","file_path":"./spec/helpers/settings/construction_industry_schemes_helper_spec.rb","line_number":29,"run_time":0.15022929,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings/construction_industry_schemes_helper_spec.rb[1:1:3:1]","description":"is expected to be falsey","full_description":"Settings::ConstructionIndustrySchemesHelper#hide_cis_rti_lock_message? prior deductions are specified is expected to be falsey","status":"passed","file_path":"./spec/helpers/settings/construction_industry_schemes_helper_spec.rb","line_number":35,"run_time":0.134183451,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings/construction_industry_schemes_helper_spec.rb[1:2:1]","description":"does not show initial balance for CIS-enabled sole trader","full_description":"Settings::ConstructionIndustrySchemesHelper#show_initial_balances? does not show initial balance for CIS-enabled sole trader","status":"passed","file_path":"./spec/helpers/settings/construction_industry_schemes_helper_spec.rb","line_number":41,"run_time":0.1319029,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings/construction_industry_schemes_helper_spec.rb[1:2:2:1]","description":"shows initial balance when NO payroll periods are present","full_description":"Settings::ConstructionIndustrySchemesHelper#show_initial_balances? with a CIS-enabled U.K. limited company shows initial balance when NO payroll periods are present","status":"passed","file_path":"./spec/helpers/settings/construction_industry_schemes_helper_spec.rb","line_number":52,"run_time":0.10742498,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings/construction_industry_schemes_helper_spec.rb[1:2:2:2:1]","description":"shows initial balance when balance and start date are not nil","full_description":"Settings::ConstructionIndustrySchemesHelper#show_initial_balances? with a CIS-enabled U.K. limited company with payroll periods shows initial balance when balance and start date are not nil","status":"passed","file_path":"./spec/helpers/settings/construction_industry_schemes_helper_spec.rb","line_number":64,"run_time":0.13665213,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings/construction_industry_schemes_helper_spec.rb[1:2:2:2:2]","description":"does not show initial balance when balance and start date are nil","full_description":"Settings::ConstructionIndustrySchemesHelper#show_initial_balances? with a CIS-enabled U.K. limited company with payroll periods does not show initial balance when balance and start date are nil","status":"passed","file_path":"./spec/helpers/settings/construction_industry_schemes_helper_spec.rb","line_number":73,"run_time":0.198711512,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings/construction_industry_schemes_helper_spec.rb[1:2:3:1]","description":"shows initial balance when NO payroll periods are present","full_description":"Settings::ConstructionIndustrySchemesHelper#show_initial_balances? with a non-CIS-enabled U.K. limited company shows initial balance when NO payroll periods are present","status":"passed","file_path":"./spec/helpers/settings/construction_industry_schemes_helper_spec.rb","line_number":88,"run_time":0.011433393,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings/construction_industry_schemes_helper_spec.rb[1:2:3:2]","description":"does not show initial balance when there are payroll periods","full_description":"Settings::ConstructionIndustrySchemesHelper#show_initial_balances? with a non-CIS-enabled U.K. limited company does not show initial balance when there are payroll periods","status":"passed","file_path":"./spec/helpers/settings/construction_industry_schemes_helper_spec.rb","line_number":92,"run_time":0.03217201,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:46:1]","description":"is appropriately included in the forex-relevant list","full_description":"Invoice A foreign currency invoice is appropriately included in the forex-relevant list","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":981,"run_time":0.557743197,"pending_message":null,"screenshot":null},{"id":"./spec/models/attribute_locking/initial_creditor_payments_check_spec.rb[1:1:1]","description":"returns a reason","full_description":"AttributeLocking::InitialCreditorPaymentsCheck#reason returns a reason","status":"passed","file_path":"./spec/models/attribute_locking/initial_creditor_payments_check_spec.rb","line_number":10,"run_time":0.07744628,"pending_message":null,"screenshot":null},{"id":"./spec/models/attribute_locking/initial_creditor_payments_check_spec.rb[1:2:1:1]","description":"does not lock the company","full_description":"AttributeLocking::InitialCreditorPaymentsCheck#call with a company that supports cash accounting does not lock the company","status":"passed","file_path":"./spec/models/attribute_locking/initial_creditor_payments_check_spec.rb","line_number":19,"run_time":0.082456566,"pending_message":null,"screenshot":null},{"id":"./spec/models/attribute_locking/initial_creditor_payments_check_spec.rb[1:2:1:2:1]","description":"locks the company","full_description":"AttributeLocking::InitialCreditorPaymentsCheck#call with a company that supports cash accounting that has initial creditor payments locks the company","status":"passed","file_path":"./spec/models/attribute_locking/initial_creditor_payments_check_spec.rb","line_number":28,"run_time":0.181369648,"pending_message":null,"screenshot":null},{"id":"./spec/models/attribute_locking/initial_creditor_payments_check_spec.rb[1:2:1:3:1]","description":"does not lock the company","full_description":"AttributeLocking::InitialCreditorPaymentsCheck#call with a company that supports cash accounting that has paid bills does not lock the company","status":"passed","file_path":"./spec/models/attribute_locking/initial_creditor_payments_check_spec.rb","line_number":38,"run_time":0.471871444,"pending_message":null,"screenshot":null},{"id":"./spec/models/attribute_locking/initial_creditor_payments_check_spec.rb[1:2:2:1]","description":"does not lock the company","full_description":"AttributeLocking::InitialCreditorPaymentsCheck#call with a company that does not support cash accounting does not lock the company","status":"passed","file_path":"./spec/models/attribute_locking/initial_creditor_payments_check_spec.rb","line_number":47,"run_time":0.006048361,"pending_message":null,"screenshot":null},{"id":"./spec/models/attribute_locking/initial_creditor_payments_check_spec.rb[1:2:2:2:1]","description":"does not lock the company","full_description":"AttributeLocking::InitialCreditorPaymentsCheck#call with a company that does not support cash accounting that has initial creditor payments does not lock the company","status":"passed","file_path":"./spec/models/attribute_locking/initial_creditor_payments_check_spec.rb","line_number":56,"run_time":0.088093693,"pending_message":null,"screenshot":null},{"id":"./spec/models/attribute_locking/initial_creditor_payments_check_spec.rb[1:2:2:3:1]","description":"does not lock the company","full_description":"AttributeLocking::InitialCreditorPaymentsCheck#call with a company that does not support cash accounting that has paid bills does not lock the company","status":"passed","file_path":"./spec/models/attribute_locking/initial_creditor_payments_check_spec.rb","line_number":66,"run_time":0.496611473,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoice_profile_items_controller/create_spec.rb[1:1:1]","description":"creates a new invoice profile item for the recurring invoice profile","full_description":"RecurringInvoiceProfileItemsController POST #create with a valid recurring invoice profile item creates a new invoice profile item for the recurring invoice profile","status":"passed","file_path":"./spec/controllers/recurring_invoice_profile_items_controller/create_spec.rb","line_number":28,"run_time":0.183502178,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoice_profile_items_controller/create_spec.rb[1:2:1]","description":"does not creates a new invoice profile item for the recurring invoice profile","full_description":"RecurringInvoiceProfileItemsController POST #create when an invalid recurring invoice profile item does not creates a new invoice profile item for the recurring invoice profile","status":"passed","file_path":"./spec/controllers/recurring_invoice_profile_items_controller/create_spec.rb","line_number":56,"run_time":0.100936941,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoice_profile_items_controller/create_spec.rb[1:3:1]","description":"sets the sales tax rate to 0 for the item","full_description":"RecurringInvoiceProfileItemsController POST #create when the recurring invoice profile does not charge sales tax sets the sales tax rate to 0 for the item","status":"passed","file_path":"./spec/controllers/recurring_invoice_profile_items_controller/create_spec.rb","line_number":79,"run_time":0.110128912,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoice_profile_items_controller/create_spec.rb[1:4:1:1]","description":"sets the sales tax to the default value for the recurring invoice profile","full_description":"RecurringInvoiceProfileItemsController POST #create when the recurring invoice profile does charge sales tax and the sales tax rate is not set sets the sales tax to the default value for the recurring invoice profile","status":"passed","file_path":"./spec/controllers/recurring_invoice_profile_items_controller/create_spec.rb","line_number":111,"run_time":0.139080157,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoice_profile_items_controller/create_spec.rb[1:4:2:1]","description":"sets the sales tax rate to the sent value","full_description":"RecurringInvoiceProfileItemsController POST #create when the recurring invoice profile does charge sales tax and the sales tax rate is sent sets the sales tax rate to the sent value","status":"passed","file_path":"./spec/controllers/recurring_invoice_profile_items_controller/create_spec.rb","line_number":136,"run_time":0.179472155,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoice_profile_items_controller/create_spec.rb[1:5:1:1]","description":"create a new price list item for the company","full_description":"RecurringInvoiceProfileItemsController POST #create when creating a price list item from the new item and the new recurring invoice profile item is valid create a new price list item for the company","status":"passed","file_path":"./spec/controllers/recurring_invoice_profile_items_controller/create_spec.rb","line_number":166,"run_time":0.176934002,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoice_profile_items_controller/create_spec.rb[1:5:2:1]","description":"does not create a new price list item for the company","full_description":"RecurringInvoiceProfileItemsController POST #create when creating a price list item from the new item and the recurring invoice profile item is invalid does not create a new price list item for the company","status":"passed","file_path":"./spec/controllers/recurring_invoice_profile_items_controller/create_spec.rb","line_number":212,"run_time":0.112525769,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoice_profile_items_controller/create_spec.rb[1:6:1]","description":"displays a new modal with defaults set","full_description":"RecurringInvoiceProfileItemsController POST #create when adding another second recurring invoice item displays a new modal with defaults set","status":"passed","file_path":"./spec/controllers/recurring_invoice_profile_items_controller/create_spec.rb","line_number":241,"run_time":0.138004363,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoice_profile_items_controller/create_spec.rb[1:7:1]","description":"displays the invoice in the correct locale","full_description":"RecurringInvoiceProfileItemsController POST #create when the recurring invoice is in a non-uk locale displays the invoice in the correct locale","status":"passed","file_path":"./spec/controllers/recurring_invoice_profile_items_controller/create_spec.rb","line_number":282,"run_time":0.113387333,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoice_profile_items_controller/create_spec.rb[1:8:1:1]","description":"updates the recurring invoice to match projects","full_description":"RecurringInvoiceProfileItemsController POST #create when the project id of the line item is different from the recurring invoice profile and it is the only line item updates the recurring invoice to match projects","status":"passed","file_path":"./spec/controllers/recurring_invoice_profile_items_controller/create_spec.rb","line_number":312,"run_time":0.141870261,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoice_profile_items_controller/create_spec.rb[1:8:2:1]","description":"updates the recurring invoice to match projects","full_description":"RecurringInvoiceProfileItemsController POST #create when the project id of the line item is different from the recurring invoice profile when another item exists with the same project as the profile updates the recurring invoice to match projects","status":"passed","file_path":"./spec/controllers/recurring_invoice_profile_items_controller/create_spec.rb","line_number":349,"run_time":0.16340696,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoice_profile_items_controller/create_spec.rb[1:9:1]","description":"responds with as an unacceptable request","full_description":"RecurringInvoiceProfileItemsController POST #create when requesting html responds with as an unacceptable request","status":"passed","file_path":"./spec/controllers/recurring_invoice_profile_items_controller/create_spec.rb","line_number":384,"run_time":0.050621723,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:1:8]","description":"deletes the companies users","full_description":"Company::ForgetCompanyData Deleting all data for a VAT registered UK company deletes the companies users","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":164,"run_time":1.893191753,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:1:18]","description":"deletes signup attempts with company","full_description":"Company::ForgetCompanyData Deleting all data for a VAT registered UK company deletes signup attempts with company","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":257,"run_time":1.076741846,"pending_message":null,"screenshot":null},{"id":"./spec/views/prices/_page_header_actions.html.erb_spec.rb[1:1:1:1]","description":"does not have any links to add a new Price List Item or Stock Item","full_description":"prices/_page_header_actions for a UK Limited Company with no existing stock items or price list items does not have any links to add a new Price List Item or Stock Item","status":"passed","file_path":"./spec/views/prices/_page_header_actions.html.erb_spec.rb","line_number":18,"run_time":0.025954825,"pending_message":null,"screenshot":null},{"id":"./spec/views/prices/_page_header_actions.html.erb_spec.rb[1:1:2:1]","description":"has links to the Price List and Stock areas","full_description":"prices/_page_header_actions for a UK Limited Company with existing stock items, but no price list items has links to the Price List and Stock areas","status":"passed","file_path":"./spec/views/prices/_page_header_actions.html.erb_spec.rb","line_number":28,"run_time":0.054241335,"pending_message":null,"screenshot":null},{"id":"./spec/views/prices/_page_header_actions.html.erb_spec.rb[1:1:3:1]","description":"has links to the Price List and Stock areas","full_description":"prices/_page_header_actions for a UK Limited Company with existing price list items, but no stock items has links to the Price List and Stock areas","status":"passed","file_path":"./spec/views/prices/_page_header_actions.html.erb_spec.rb","line_number":41,"run_time":0.026685786,"pending_message":null,"screenshot":null},{"id":"./spec/views/prices/_page_header_actions.html.erb_spec.rb[1:1:4:1]","description":"has links to the Price List and Stock areas","full_description":"prices/_page_header_actions for a UK Limited Company with existing stock items and price list items has links to the Price List and Stock areas","status":"passed","file_path":"./spec/views/prices/_page_header_actions.html.erb_spec.rb","line_number":55,"run_time":0.060318142,"pending_message":null,"screenshot":null},{"id":"./spec/views/prices/_page_header_actions.html.erb_spec.rb[1:2:1:1]","description":"does not have links to Price List or Stock areas","full_description":"prices/_page_header_actions for a UK Landlord with no existing price list items does not have links to Price List or Stock areas","status":"passed","file_path":"./spec/views/prices/_page_header_actions.html.erb_spec.rb","line_number":70,"run_time":0.134457667,"pending_message":null,"screenshot":null},{"id":"./spec/views/prices/_page_header_actions.html.erb_spec.rb[1:2:2:1]","description":"does not have links to Price List or Stock areas","full_description":"prices/_page_header_actions for a UK Landlord with existing price list items does not have links to Price List or Stock areas","status":"passed","file_path":"./spec/views/prices/_page_header_actions.html.erb_spec.rb","line_number":83,"run_time":0.128200055,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/sessions_controller_spec.rb[1:2]","description":"GET create with upgraded existing freeagent user details","full_description":"Admin::SessionsController GET create with upgraded existing freeagent user details","status":"passed","file_path":"./spec/controllers/admin/sessions_controller_spec.rb","line_number":37,"run_time":0.042077366,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/sessions_controller_spec.rb[1:3]","description":"GET create with valid user, origin path and entrypoint URL set","full_description":"Admin::SessionsController GET create with valid user, origin path and entrypoint URL set","status":"passed","file_path":"./spec/controllers/admin/sessions_controller_spec.rb","line_number":47,"run_time":0.024465718,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/sessions_controller_spec.rb[1:4]","description":"GET destroy","full_description":"Admin::SessionsController GET destroy","status":"passed","file_path":"./spec/controllers/admin/sessions_controller_spec.rb","line_number":61,"run_time":0.032188014,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/sessions_controller_spec.rb[1:1:1]","description":"sends them back to the login page","full_description":"Admin::SessionsController for new users sends them back to the login page","status":"passed","file_path":"./spec/controllers/admin/sessions_controller_spec.rb","line_number":28,"run_time":0.017060548,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/sessions_controller_spec.rb[1:1:2]","description":"does not create an AdminUser record","full_description":"Admin::SessionsController for new users does not create an AdminUser record","status":"passed","file_path":"./spec/controllers/admin/sessions_controller_spec.rb","line_number":32,"run_time":0.019826605,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/sessions_controller_spec.rb[1:5:1]","description":"auth failure","full_description":"Admin::SessionsController with fake route auth failure","status":"passed","file_path":"./spec/controllers/admin/sessions_controller_spec.rb","line_number":84,"run_time":1.018477759,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:2:2:2:6]","description":"representing non-category expense (purchase of capital asset, including deprecation)","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the invoice accounting basis on the Flat Rate Scheme (at 5%) Bank Account Entries representing non-category expense (purchase of capital asset, including deprecation)","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":4593,"run_time":0.64316325,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:2:2:4:2]","description":"representing admin expenses","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the invoice accounting basis on the Flat Rate Scheme (at 5%) Bills representing admin expenses","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":4865,"run_time":0.636600667,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/banking/_consents_status_summary.html.erb_spec.rb[1:1]","description":"shows the count of consents for each consent status","full_description":"admin/companies/banking/_consents_status_summary shows the count of consents for each consent status","status":"passed","file_path":"./spec/views/admin/companies/banking/_consents_status_summary.html.erb_spec.rb","line_number":21,"run_time":0.184598997,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/banking/_consents_status_summary.html.erb_spec.rb[1:2:1]","description":"displays a button to 'View all consents'","full_description":"admin/companies/banking/_consents_status_summary the current admin user has the all direct bank feeds permission displays a button to 'View all consents'","status":"passed","file_path":"./spec/views/admin/companies/banking/_consents_status_summary.html.erb_spec.rb","line_number":33,"run_time":0.194614701,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/banking/_consents_status_summary.html.erb_spec.rb[1:3:1]","description":"does not display a button to 'View all consents'","full_description":"admin/companies/banking/_consents_status_summary the current admin user does not have the all direct bank feeds permission does not display a button to 'View all consents'","status":"passed","file_path":"./spec/views/admin/companies/banking/_consents_status_summary.html.erb_spec.rb","line_number":41,"run_time":0.207340425,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:71:1:1]","description":"provides values for two categories","full_description":"Invoice Grouping invoice items by category A native invoice with three items in two categories and one comment item provides values for two categories","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":2080,"run_time":0.478030535,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/import_job_spec.rb[1:1:1:1]","description":"when the job is performed, it has access to the restored Current context","full_description":"ImportJob behaves like ActiveJobWithCurrent #perform when the job is performed, it has access to the restored Current context","status":"passed","file_path":"./engines/jobs/spec/support/shared_examples/active_job_with_current_shared_example.rb","line_number":22,"run_time":0.021018347,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/import_job_spec.rb[1:2:3]","description":"handles Sidekiq exceptions","full_description":"ImportJob#perform handles Sidekiq exceptions","status":"passed","file_path":"./spec/jobs/import_job_spec.rb","line_number":146,"run_time":0.003674974,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/import_job_spec.rb[1:2:1:1:1]","description":"makes a ApiStatement job","full_description":"ImportJob#perform when the job has an existent import ID when the import type is BANK_STATEMENT_API_DATA makes a ApiStatement job","status":"passed","file_path":"./spec/jobs/import_job_spec.rb","line_number":25,"run_time":0.013925141,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/import_job_spec.rb[1:2:1:1:2]","description":"calls the import method on ApiStatement object","full_description":"ImportJob#perform when the job has an existent import ID when the import type is BANK_STATEMENT_API_DATA calls the import method on ApiStatement object","status":"passed","file_path":"./spec/jobs/import_job_spec.rb","line_number":29,"run_time":0.010657961,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/import_job_spec.rb[1:2:1:2:1:1]","description":"makes a FileStatement job","full_description":"ImportJob#perform when the job has an existent import ID when the import type is BANK_STATEMENT_FILE behaves like a FileStatement import makes a FileStatement job","status":"passed","file_path":"./spec/jobs/import_job_spec.rb","line_number":35,"run_time":0.013378145,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/import_job_spec.rb[1:2:1:2:1:2]","description":"calls the import method on FileStatement object","full_description":"ImportJob#perform when the job has an existent import ID when the import type is BANK_STATEMENT_FILE behaves like a FileStatement import calls the import method on FileStatement object","status":"passed","file_path":"./spec/jobs/import_job_spec.rb","line_number":39,"run_time":0.011476722,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/import_job_spec.rb[1:2:1:3:1:1]","description":"makes a FileStatement job","full_description":"ImportJob#perform when the job has an existent import ID when the import type is CATER_ALLEN_MULTI behaves like a FileStatement import makes a FileStatement job","status":"passed","file_path":"./spec/jobs/import_job_spec.rb","line_number":35,"run_time":0.013256403,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/import_job_spec.rb[1:2:1:3:1:2]","description":"calls the import method on FileStatement object","full_description":"ImportJob#perform when the job has an existent import ID when the import type is CATER_ALLEN_MULTI behaves like a FileStatement import calls the import method on FileStatement object","status":"passed","file_path":"./spec/jobs/import_job_spec.rb","line_number":39,"run_time":0.012147669,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/import_job_spec.rb[1:2:1:4:1:1]","description":"makes a FileStatement job","full_description":"ImportJob#perform when the job has an existent import ID when the import type is METRO_MULTI behaves like a FileStatement import makes a FileStatement job","status":"passed","file_path":"./spec/jobs/import_job_spec.rb","line_number":35,"run_time":0.014700896,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/import_job_spec.rb[1:2:1:4:1:2]","description":"calls the import method on FileStatement object","full_description":"ImportJob#perform when the job has an existent import ID when the import type is METRO_MULTI behaves like a FileStatement import calls the import method on FileStatement object","status":"passed","file_path":"./spec/jobs/import_job_spec.rb","line_number":39,"run_time":0.012249473,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/import_job_spec.rb[1:2:1:5:1]","description":"makes a Contacts job","full_description":"ImportJob#perform when the job has an existent import ID when the import type is CONTACTS makes a Contacts job","status":"passed","file_path":"./spec/jobs/import_job_spec.rb","line_number":63,"run_time":0.011154409,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/import_job_spec.rb[1:2:1:5:2]","description":"calls the import method on Contacts object","full_description":"ImportJob#perform when the job has an existent import ID when the import type is CONTACTS calls the import method on Contacts object","status":"passed","file_path":"./spec/jobs/import_job_spec.rb","line_number":73,"run_time":0.009557724,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/import_job_spec.rb[1:2:1:6:1]","description":"makes a Contacts job","full_description":"ImportJob#perform when the job has an existent import ID when the import type is PROCESS_CONTACTS makes a Contacts job","status":"passed","file_path":"./spec/jobs/import_job_spec.rb","line_number":63,"run_time":0.010827881,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/import_job_spec.rb[1:2:1:6:2]","description":"calls the process method on the Contacts object","full_description":"ImportJob#perform when the job has an existent import ID when the import type is PROCESS_CONTACTS calls the process method on the Contacts object","status":"passed","file_path":"./spec/jobs/import_job_spec.rb","line_number":83,"run_time":0.008867948,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/import_job_spec.rb[1:2:1:7:1]","description":"makes a job","full_description":"ImportJob#perform when the job has an existent import ID when the import type is PAYROLL makes a job","status":"passed","file_path":"./spec/jobs/import_job_spec.rb","line_number":93,"run_time":0.015230448,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/import_job_spec.rb[1:2:1:7:2]","description":"calls the import method on object","full_description":"ImportJob#perform when the job has an existent import ID when the import type is PAYROLL calls the import method on object","status":"passed","file_path":"./spec/jobs/import_job_spec.rb","line_number":97,"run_time":0.009464062,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/import_job_spec.rb[1:2:1:8:1:1]","description":"makes an Expenses job","full_description":"ImportJob#perform when the job has an existent import ID when the import type is EXPENSES behaves like an Expenses import makes an Expenses job","status":"passed","file_path":"./spec/jobs/import_job_spec.rb","line_number":103,"run_time":0.015346375,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/import_job_spec.rb[1:2:1:8:1:2]","description":"calls the import method on object","full_description":"ImportJob#perform when the job has an existent import ID when the import type is EXPENSES behaves like an Expenses import calls the import method on object","status":"passed","file_path":"./spec/jobs/import_job_spec.rb","line_number":107,"run_time":0.012750828,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/import_job_spec.rb[1:2:1:9:1:1]","description":"makes an Expenses job","full_description":"ImportJob#perform when the job has an existent import ID when the import type is MILEAGE behaves like an Expenses import makes an Expenses job","status":"passed","file_path":"./spec/jobs/import_job_spec.rb","line_number":103,"run_time":0.019629611,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/import_job_spec.rb[1:2:1:9:1:2]","description":"calls the import method on object","full_description":"ImportJob#perform when the job has an existent import ID when the import type is MILEAGE behaves like an Expenses import calls the import method on object","status":"passed","file_path":"./spec/jobs/import_job_spec.rb","line_number":107,"run_time":0.014392724,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/import_job_spec.rb[1:2:1:10:1]","description":"makes an OpeningBalances job","full_description":"ImportJob#perform when the job has an existent import ID when the import type is OPENING_BALANCES makes an OpeningBalances job","status":"passed","file_path":"./spec/jobs/import_job_spec.rb","line_number":127,"run_time":0.021377575,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/import_job_spec.rb[1:2:1:10:2]","description":"calls the import method on the OpeningBalances object","full_description":"ImportJob#perform when the job has an existent import ID when the import type is OPENING_BALANCES calls the import method on the OpeningBalances object","status":"passed","file_path":"./spec/jobs/import_job_spec.rb","line_number":134,"run_time":0.010656596,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/import_job_spec.rb[1:2:2:1]","description":"does not raise an error","full_description":"ImportJob#perform when job is instantiated with non-existent import ID does not raise an error","status":"passed","file_path":"./spec/jobs/import_job_spec.rb","line_number":141,"run_time":0.008003191,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:2:2:2:4]","description":"representing business entertaining admin expense","full_description":"UkAccountsMapper Accounts Mapper for UK companies who have applied for VAT registration after their registration effective date Bank Account Entries representing business entertaining admin expense","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":1648,"run_time":0.237876977,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/performance_benchmarking_helper_spec.rb[1:1:1:1]","description":"includes the quarter number and the months in the label","full_description":"Accounting::PerformanceBenchmarkingHelper#benchmarking_quarter_long_label when the quarter has a quarter number includes the quarter number and the months in the label","status":"passed","file_path":"./spec/helpers/accounting/performance_benchmarking_helper_spec.rb","line_number":8,"run_time":0.005114911,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/performance_benchmarking_helper_spec.rb[1:1:2:1]","description":"does not includes only the months in the label","full_description":"Accounting::PerformanceBenchmarkingHelper#benchmarking_quarter_long_label when the quarter does not have a quarter number does not includes only the months in the label","status":"passed","file_path":"./spec/helpers/accounting/performance_benchmarking_helper_spec.rb","line_number":16,"run_time":0.005448379,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/performance_benchmarking_helper_spec.rb[1:1:3:1]","description":"doesn't show the same month twice","full_description":"Accounting::PerformanceBenchmarkingHelper#benchmarking_quarter_long_label when the quarter only covers one month doesn't show the same month twice","status":"passed","file_path":"./spec/helpers/accounting/performance_benchmarking_helper_spec.rb","line_number":24,"run_time":0.005150328,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/performance_benchmarking_helper_spec.rb[1:2:1:1]","description":"includes the quarter number and the months in the label","full_description":"Accounting::PerformanceBenchmarkingHelper#benchmarking_quarter_short_label when the quarter has a quarter number includes the quarter number and the months in the label","status":"passed","file_path":"./spec/helpers/accounting/performance_benchmarking_helper_spec.rb","line_number":34,"run_time":0.005152111,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/performance_benchmarking_helper_spec.rb[1:2:2:1]","description":"does not includes only the months in the label","full_description":"Accounting::PerformanceBenchmarkingHelper#benchmarking_quarter_short_label when the quarter does not have a quarter number does not includes only the months in the label","status":"passed","file_path":"./spec/helpers/accounting/performance_benchmarking_helper_spec.rb","line_number":42,"run_time":0.004848623,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/performance_benchmarking_helper_spec.rb[1:3:1:1]","description":"returns true","full_description":"Accounting::PerformanceBenchmarkingHelper#company_has_opted_in? when the company has opted in returns true","status":"passed","file_path":"./spec/helpers/accounting/performance_benchmarking_helper_spec.rb","line_number":69,"run_time":0.129548372,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/performance_benchmarking_helper_spec.rb[1:3:2:1]","description":"returns false","full_description":"Accounting::PerformanceBenchmarkingHelper#company_has_opted_in? when the company hasn't opted in returns false","status":"passed","file_path":"./spec/helpers/accounting/performance_benchmarking_helper_spec.rb","line_number":77,"run_time":0.135539883,"pending_message":null,"screenshot":null},{"id":"./spec/views/accounting/year_ends/checks/_unfiled_vat_returns.html.erb_spec.rb[1:1:1]","description":"links to the VAT returns page","full_description":"accounting/year_ends/checks/_unfiled_vat_returns when the user is allowed to do stuff links to the VAT returns page","status":"passed","file_path":"./spec/views/accounting/year_ends/checks/_unfiled_vat_returns.html.erb_spec.rb","line_number":30,"run_time":0.08074174,"pending_message":null,"screenshot":null},{"id":"./spec/views/accounting/year_ends/checks/_unfiled_vat_returns.html.erb_spec.rb[1:1:2]","description":"renders the same text as the check's message","full_description":"accounting/year_ends/checks/_unfiled_vat_returns when the user is allowed to do stuff renders the same text as the check's message","status":"passed","file_path":"./spec/views/accounting/year_ends/checks/_unfiled_vat_returns.html.erb_spec.rb","line_number":34,"run_time":0.073178053,"pending_message":null,"screenshot":null},{"id":"./spec/views/accounting/year_ends/checks/_unfiled_vat_returns.html.erb_spec.rb[1:2:1]","description":"does not link to the VAT returns page","full_description":"accounting/year_ends/checks/_unfiled_vat_returns when the user is not allowed to do stuff does not link to the VAT returns page","status":"passed","file_path":"./spec/views/accounting/year_ends/checks/_unfiled_vat_returns.html.erb_spec.rb","line_number":42,"run_time":0.081128764,"pending_message":null,"screenshot":null},{"id":"./spec/views/accounting/year_ends/checks/_unfiled_vat_returns.html.erb_spec.rb[1:2:2]","description":"renders the same text as the check's message","full_description":"accounting/year_ends/checks/_unfiled_vat_returns when the user is not allowed to do stuff renders the same text as the check's message","status":"passed","file_path":"./spec/views/accounting/year_ends/checks/_unfiled_vat_returns.html.erb_spec.rb","line_number":46,"run_time":0.057158496,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/api_provider_configuration_spec.rb[1:1:1]","description":"is expected to validate that :consent_endpoint cannot be empty/falsy","full_description":"BankFeeds::ApiProviderConfiguration validations is expected to validate that :consent_endpoint cannot be empty/falsy","status":"passed","file_path":"./spec/models/bank_feeds/api_provider_configuration_spec.rb","line_number":5,"run_time":0.007414656,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/api_provider_configuration_spec.rb[1:1:2]","description":"is expected to validate that :reconsent_endpoint cannot be empty/falsy","full_description":"BankFeeds::ApiProviderConfiguration validations is expected to validate that :reconsent_endpoint cannot be empty/falsy","status":"passed","file_path":"./spec/models/bank_feeds/api_provider_configuration_spec.rb","line_number":6,"run_time":0.005598302,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/api_provider_configuration_spec.rb[1:1:3]","description":"is expected to validate that :query_params cannot be empty/falsy","full_description":"BankFeeds::ApiProviderConfiguration validations is expected to validate that :query_params cannot be empty/falsy","status":"passed","file_path":"./spec/models/bank_feeds/api_provider_configuration_spec.rb","line_number":7,"run_time":0.005425008,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/api_provider_configuration_spec.rb[1:1:4]","description":"is expected not to allow :consent_endpoint to be \" \", \"\", or nil","full_description":"BankFeeds::ApiProviderConfiguration validations is expected not to allow :consent_endpoint to be \" \", \"\", or nil","status":"passed","file_path":"./spec/models/bank_feeds/api_provider_configuration_spec.rb","line_number":9,"run_time":0.005021466,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/api_provider_configuration_spec.rb[1:1:5]","description":"is expected not to allow :reconsent_endpoint to be \" \", \"\", or nil","full_description":"BankFeeds::ApiProviderConfiguration validations is expected not to allow :reconsent_endpoint to be \" \", \"\", or nil","status":"passed","file_path":"./spec/models/bank_feeds/api_provider_configuration_spec.rb","line_number":10,"run_time":0.00501186,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/api_provider_configuration_spec.rb[1:1:6]","description":"is expected not to allow :query_params to be {} or nil","full_description":"BankFeeds::ApiProviderConfiguration validations is expected not to allow :query_params to be {} or nil","status":"passed","file_path":"./spec/models/bank_feeds/api_provider_configuration_spec.rb","line_number":11,"run_time":0.004251709,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/api_provider_configuration_spec.rb[1:2:1]","description":"is expected to be a kind of URI::HTTPS","full_description":"BankFeeds::ApiProviderConfiguration.new is expected to be a kind of URI::HTTPS","status":"passed","file_path":"./spec/models/bank_feeds/api_provider_configuration_spec.rb","line_number":21,"run_time":0.003390234,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/api_provider_configuration_spec.rb[1:2:2]","description":"is expected to eq \"https://www.starling.com/connect?starling_id=1\"","full_description":"BankFeeds::ApiProviderConfiguration.new is expected to eq \"https://www.starling.com/connect?starling_id=1\"","status":"passed","file_path":"./spec/models/bank_feeds/api_provider_configuration_spec.rb","line_number":22,"run_time":0.003724874,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/api_provider_configuration_spec.rb[1:2:3]","description":"is expected to be a kind of URI::HTTPS","full_description":"BankFeeds::ApiProviderConfiguration.new is expected to be a kind of URI::HTTPS","status":"passed","file_path":"./spec/models/bank_feeds/api_provider_configuration_spec.rb","line_number":23,"run_time":0.003148292,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/api_provider_configuration_spec.rb[1:2:4]","description":"is expected to eq \"https://www.starling.com/connect\"","full_description":"BankFeeds::ApiProviderConfiguration.new is expected to eq \"https://www.starling.com/connect\"","status":"passed","file_path":"./spec/models/bank_feeds/api_provider_configuration_spec.rb","line_number":24,"run_time":0.003223182,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/api_provider_configuration_spec.rb[1:2:5:1]","description":"raises","full_description":"BankFeeds::ApiProviderConfiguration.new .bank_institution_name raises","status":"passed","file_path":"./spec/models/bank_feeds/api_provider_configuration_spec.rb","line_number":27,"run_time":0.003161519,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/api_provider_configuration_spec.rb[1:3:1]","description":"returns false","full_description":"BankFeeds::ApiProviderConfiguration#displays_qr_code? returns false","status":"passed","file_path":"./spec/models/bank_feeds/api_provider_configuration_spec.rb","line_number":39,"run_time":0.002912654,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/api_provider_configuration_spec.rb[1:4:1]","description":"returns false","full_description":"BankFeeds::ApiProviderConfiguration#tpp_reconsent_enabled? returns false","status":"passed","file_path":"./spec/models/bank_feeds/api_provider_configuration_spec.rb","line_number":52,"run_time":0.003203746,"pending_message":null,"screenshot":null},{"id":"./spec/views/vat_transactions/vat_purchases.html.erb_spec.rb[1:1:1:1]","description":"has the correct tooltip for box 9","full_description":"vat_transactions/vat_purchases tooltips a VAT return starting before Brexit has the correct tooltip for box 9","status":"passed","file_path":"./spec/views/vat_transactions/vat_purchases.html.erb_spec.rb","line_number":22,"run_time":0.06547869,"pending_message":null,"screenshot":null},{"id":"./spec/views/vat_transactions/vat_purchases.html.erb_spec.rb[1:1:1:2]","description":"has the correct tooltip for box 4","full_description":"vat_transactions/vat_purchases tooltips a VAT return starting before Brexit has the correct tooltip for box 4","status":"passed","file_path":"./spec/views/vat_transactions/vat_purchases.html.erb_spec.rb","line_number":28,"run_time":0.061117905,"pending_message":null,"screenshot":null},{"id":"./spec/views/vat_transactions/vat_purchases.html.erb_spec.rb[1:1:2:1]","description":"has the correct tooltip for box 9","full_description":"vat_transactions/vat_purchases tooltips a VAT return starting after Brexit has the correct tooltip for box 9","status":"passed","file_path":"./spec/views/vat_transactions/vat_purchases.html.erb_spec.rb","line_number":38,"run_time":0.077767426,"pending_message":null,"screenshot":null},{"id":"./spec/views/vat_transactions/vat_purchases.html.erb_spec.rb[1:1:2:2]","description":"has the correct tooltip for box 4","full_description":"vat_transactions/vat_purchases tooltips a VAT return starting after Brexit has the correct tooltip for box 4","status":"passed","file_path":"./spec/views/vat_transactions/vat_purchases.html.erb_spec.rb","line_number":44,"run_time":0.069353521,"pending_message":null,"screenshot":null},{"id":"./spec/models/user_locking_spec.rb[1:1:1:1]","description":"locks the opening mileage to zero","full_description":"UserLocking when the opening balances are locked a new user locks the opening mileage to zero","status":"passed","file_path":"./spec/models/user_locking_spec.rb","line_number":18,"run_time":0.12440561,"pending_message":null,"screenshot":null},{"id":"./spec/models/user_locking_spec.rb[1:1:2:1]","description":"locks the opening mileage","full_description":"UserLocking when the opening balances are locked an existing user locks the opening mileage","status":"passed","file_path":"./spec/models/user_locking_spec.rb","line_number":30,"run_time":0.115121873,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_installment_spec.rb[1:1]","description":"is expected to belong to subscription required: false","full_description":"CompanyDigestInstallment is expected to belong to subscription required: false","status":"passed","file_path":"./spec/models/company_digest_installment_spec.rb","line_number":4,"run_time":0.018351952,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_installment_spec.rb[1:2]","description":"is expected to belong to user required: false","full_description":"CompanyDigestInstallment is expected to belong to user required: false","status":"passed","file_path":"./spec/models/company_digest_installment_spec.rb","line_number":5,"run_time":0.00645243,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_installment_spec.rb[1:3]","description":"is expected to validate that :subscription cannot be empty/falsy","full_description":"CompanyDigestInstallment is expected to validate that :subscription cannot be empty/falsy","status":"passed","file_path":"./spec/models/company_digest_installment_spec.rb","line_number":7,"run_time":0.008924529,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_installment_spec.rb[1:4]","description":"is expected to validate that :user cannot be empty/falsy","full_description":"CompanyDigestInstallment is expected to validate that :user cannot be empty/falsy","status":"passed","file_path":"./spec/models/company_digest_installment_spec.rb","line_number":8,"run_time":0.008842534,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_installment_spec.rb[1:5]","description":"is expected to make subscription_id read-only","full_description":"CompanyDigestInstallment is expected to make subscription_id read-only","status":"passed","file_path":"./spec/models/company_digest_installment_spec.rb","line_number":10,"run_time":0.003614422,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_installment_spec.rb[1:6]","description":"is expected to make user_id read-only","full_description":"CompanyDigestInstallment is expected to make user_id read-only","status":"passed","file_path":"./spec/models/company_digest_installment_spec.rb","line_number":11,"run_time":0.003557873,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_installment_spec.rb[1:7]","description":"is expected to make dated_on read-only","full_description":"CompanyDigestInstallment is expected to make dated_on read-only","status":"passed","file_path":"./spec/models/company_digest_installment_spec.rb","line_number":12,"run_time":0.003577218,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_installment_spec.rb[1:8]","description":"prevents racing worker processes from creating duplicate installments","full_description":"CompanyDigestInstallment prevents racing worker processes from creating duplicate installments","status":"passed","file_path":"./spec/models/company_digest_installment_spec.rb","line_number":14,"run_time":0.115285179,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_installment_spec.rb[1:9:1]","description":"returns false if sent_at is not assigned","full_description":"CompanyDigestInstallment#sent? returns false if sent_at is not assigned","status":"passed","file_path":"./spec/models/company_digest_installment_spec.rb","line_number":28,"run_time":0.004074139,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_installment_spec.rb[1:9:2]","description":"returns true if sent_at is assigned","full_description":"CompanyDigestInstallment#sent? returns true if sent_at is assigned","status":"passed","file_path":"./spec/models/company_digest_installment_spec.rb","line_number":32,"run_time":0.00329917,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_installment_spec.rb[1:10:1]","description":"assigns sent_at","full_description":"CompanyDigestInstallment#mark_as_sent assigns sent_at","status":"passed","file_path":"./spec/models/company_digest_installment_spec.rb","line_number":38,"run_time":0.105354931,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:62:2:2:1]","description":"is valid when tagged as EC Goods","full_description":"Invoice An invoice for a VAT registered company with a stock line item contact is in the EU is valid when tagged as EC Goods","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":1684,"run_time":0.233168297,"pending_message":null,"screenshot":null}],"summary":{"duration":2.276555518,"example_count":459,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"459 examples, 0 failures"}