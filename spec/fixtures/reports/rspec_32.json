{"version":"3.11.0","messages":["Run options: exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:1:1:1]","description":"uses legacy computations for .by_tax_period","full_description":"Accounting::CorporationTax::LegacyComputations.by_tax_period and .by_transaction_date capital allowances when using legacy capital allowance calculations uses legacy computations for .by_tax_period","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":42,"run_time":0.628155513,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:1:1:2]","description":"uses legacy computations for .by_transaction_date","full_description":"Accounting::CorporationTax::LegacyComputations.by_tax_period and .by_transaction_date capital allowances when using legacy capital allowance calculations uses legacy computations for .by_transaction_date","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":46,"run_time":0.256404368,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:1:2:1]","description":"uses new computations for .by_tax_period","full_description":"Accounting::CorporationTax::LegacyComputations.by_tax_period and .by_transaction_date capital allowances when not using legacy capital allowance calculations uses new computations for .by_tax_period","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":54,"run_time":0.322459245,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:1:2:2]","description":"uses legacy computations for .by_transaction_date","full_description":"Accounting::CorporationTax::LegacyComputations.by_tax_period and .by_transaction_date capital allowances when not using legacy capital allowance calculations uses legacy computations for .by_transaction_date","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":58,"run_time":0.244005359,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:2:1]","description":"is the value from the profit apportioner","full_description":"Accounting::CorporationTax::LegacyComputations#turnover is the value from the profit apportioner","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":65,"run_time":0.244379842,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:3:1]","description":"is the value from the profit apportioner","full_description":"Accounting::CorporationTax::LegacyComputations#operating_profit is the value from the profit apportioner","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":72,"run_time":0.248859009,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:4:1]","description":"is the value from the profit apportioner","full_description":"Accounting::CorporationTax::LegacyComputations#non_taxable_income_total is the value from the profit apportioner","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":79,"run_time":0.370817122,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:5:1]","description":"is the value from the profit apportioner","full_description":"Accounting::CorporationTax::LegacyComputations#tax_disallowable_expenses_total is the value from the profit apportioner","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":86,"run_time":0.644359413,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:6:1]","description":"is the value from the profit apportioner","full_description":"Accounting::CorporationTax::LegacyComputations#depreciation_expense_total is the value from the profit apportioner","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":93,"run_time":0.258791364,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:7:1:1]","description":"gives the opening balance","full_description":"Accounting::CorporationTax::LegacyComputations#brought_forward_trading_losses first corporation tax return gives the opening balance","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":114,"run_time":0.506768575,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:7:2:1]","description":"gives the carried forward trading losses for the previous return","full_description":"Accounting::CorporationTax::LegacyComputations#brought_forward_trading_losses second corporation tax return gives the carried forward trading losses for the previous return","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":122,"run_time":0.55387078,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:8:1]","description":"is zero if there is a profit","full_description":"Accounting::CorporationTax::LegacyComputations#carried_forward_trading_losses is zero if there is a profit","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":129,"run_time":0.25143885,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:8:2]","description":"is the inverse of the profits chargable to corporation tax if there is a loss","full_description":"Accounting::CorporationTax::LegacyComputations#carried_forward_trading_losses is the inverse of the profits chargable to corporation tax if there is a loss","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":135,"run_time":0.48693066,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:9:1]","description":"is the taxable profit less capital allowances and brought forward trading losses","full_description":"Accounting::CorporationTax::LegacyComputations#profits_chargeable_to_corporation_tax is the taxable profit less capital allowances and brought forward trading losses","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":146,"run_time":0.513114584,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:10:1]","description":"starts in the previous year to the corporation tax return if the CTR starts on 1 January","full_description":"Accounting::CorporationTax::LegacyComputations#first_fy starts in the previous year to the corporation tax return if the CTR starts on 1 January","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":157,"run_time":0.25237803,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:10:2]","description":"starts in the previous year to the corporation tax return if the CTR starts on 31 March","full_description":"Accounting::CorporationTax::LegacyComputations#first_fy starts in the previous year to the corporation tax return if the CTR starts on 31 March","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":162,"run_time":0.238493626,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:10:3]","description":"starts in the same year as the corporation tax return if the CTR starts on 1 April","full_description":"Accounting::CorporationTax::LegacyComputations#first_fy starts in the same year as the corporation tax return if the CTR starts on 1 April","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":167,"run_time":0.251261511,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:10:4]","description":"starts in the same year as the corporation tax return if the CTR starts on 31 December","full_description":"Accounting::CorporationTax::LegacyComputations#first_fy starts in the same year as the corporation tax return if the CTR starts on 31 December","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":172,"run_time":0.256080266,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:11:1]","description":"starts in the previous year to the corporation tax return if the CTR ends on 1 January","full_description":"Accounting::CorporationTax::LegacyComputations#second_fy starts in the previous year to the corporation tax return if the CTR ends on 1 January","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":179,"run_time":0.280182994,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:11:2]","description":"starts in the previous year to the corporation tax return if the CTR ends on 31 March","full_description":"Accounting::CorporationTax::LegacyComputations#second_fy starts in the previous year to the corporation tax return if the CTR ends on 31 March","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":184,"run_time":0.26744571,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:11:3]","description":"starts in the same year as the corporation tax return if the CTR ends on 1 April","full_description":"Accounting::CorporationTax::LegacyComputations#second_fy starts in the same year as the corporation tax return if the CTR ends on 1 April","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":189,"run_time":0.26753934,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:11:4]","description":"starts in the same year as the corporation tax return if the CTR ends on 31 December","full_description":"Accounting::CorporationTax::LegacyComputations#second_fy starts in the same year as the corporation tax return if the CTR ends on 31 December","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":194,"run_time":0.275638452,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:12:1:1]","description":"is the total profit for the return period","full_description":"Accounting::CorporationTax::LegacyComputations#profit_in_first_fy first corporation tax return is the total profit for the return period","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":204,"run_time":0.772961246,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:12:2:1]","description":"apportioned to the number of days in the return period that fall into the first financial year","full_description":"Accounting::CorporationTax::LegacyComputations#profit_in_first_fy third corporation tax return apportioned to the number of days in the return period that fall into the first financial year","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":213,"run_time":0.289284549,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:13:1:1]","description":"is the total profit for the return period","full_description":"Accounting::CorporationTax::LegacyComputations#profit_in_second_fy first corporation tax return is the total profit for the return period","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":224,"run_time":0.273686088,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:13:2:1]","description":"apportions based on the number of days in the return period that fall into the second financial year","full_description":"Accounting::CorporationTax::LegacyComputations#profit_in_second_fy third corporation tax return apportions based on the number of days in the return period that fall into the second financial year","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":233,"run_time":0.274039423,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:14:1]","description":"is 20% for 2016","full_description":"Accounting::CorporationTax::LegacyComputations#first_fy_small_companies_rate is 20% for 2016","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":241,"run_time":0.273621322,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:14:2]","description":"is 19% for 2017","full_description":"Accounting::CorporationTax::LegacyComputations#first_fy_small_companies_rate is 19% for 2017","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":246,"run_time":0.284423416,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:15:1]","description":"is 20% for 2016","full_description":"Accounting::CorporationTax::LegacyComputations#second_fy_small_companies_rate is 20% for 2016","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":253,"run_time":0.270506778,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:15:2]","description":"is 19% for 2017","full_description":"Accounting::CorporationTax::LegacyComputations#second_fy_small_companies_rate is 19% for 2017","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":258,"run_time":0.271079453,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:16:1]","description":"is zero if there is zero profit","full_description":"Accounting::CorporationTax::LegacyComputations#ct_on_first_fy is zero if there is zero profit","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":265,"run_time":0.247035221,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:16:2]","description":"is zero if there is negative profit","full_description":"Accounting::CorporationTax::LegacyComputations#ct_on_first_fy is zero if there is negative profit","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":270,"run_time":0.247705817,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:16:3]","description":"is proportionate to the corporation tax rate","full_description":"Accounting::CorporationTax::LegacyComputations#ct_on_first_fy is proportionate to the corporation tax rate","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":275,"run_time":0.303056848,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:16:4]","description":"is rounded to the nearest 2 d.p.","full_description":"Accounting::CorporationTax::LegacyComputations#ct_on_first_fy is rounded to the nearest 2 d.p.","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":280,"run_time":0.264878324,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:17:1:1]","description":"is zero if there is no profit in this financial year","full_description":"Accounting::CorporationTax::LegacyComputations#ct_on_second_fy first corporation tax return is zero if there is no profit in this financial year","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":290,"run_time":0.271212233,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:17:2:1]","description":"is zero if there is zero profit in this financial year","full_description":"Accounting::CorporationTax::LegacyComputations#ct_on_second_fy third corporation tax return is zero if there is zero profit in this financial year","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":299,"run_time":0.27385485,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:17:2:2]","description":"is zero if there is negative profit","full_description":"Accounting::CorporationTax::LegacyComputations#ct_on_second_fy third corporation tax return is zero if there is negative profit","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":304,"run_time":0.268369903,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:17:2:3]","description":"is rounded to 2 d.p., proportionate to the tax rate and the number of days in this financial year","full_description":"Accounting::CorporationTax::LegacyComputations#ct_on_second_fy third corporation tax return is rounded to 2 d.p., proportionate to the tax rate and the number of days in this financial year","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":309,"run_time":0.295066778,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:18:1]","description":"is 0 when there is no profit","full_description":"Accounting::CorporationTax::LegacyComputations#corporation_tax_due is 0 when there is no profit","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":320,"run_time":0.269378777,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:18:2]","description":"is 0 when there is negative profit","full_description":"Accounting::CorporationTax::LegacyComputations#corporation_tax_due is 0 when there is negative profit","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":325,"run_time":0.341002575,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb[1:18:3]","description":"is proportional to profit for a given rate and rounded to 2 d.p.","full_description":"Accounting::CorporationTax::LegacyComputations#corporation_tax_due is proportional to profit for a given rate and rounded to 2 d.p.","status":"passed","file_path":"./spec/models/accounting/corporation_tax/legacy_computations_spec.rb","line_number":330,"run_time":0.329063988,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/account_locks_controller_spec.rb[1:1:1:1]","description":"shows a form","full_description":"Settings::AccountLocksController GET #show when there are no VAT returns shows a form","status":"passed","file_path":"./spec/controllers/settings/account_locks_controller_spec.rb","line_number":19,"run_time":1.01872141,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/account_locks_controller_spec.rb[1:1:2:1:1]","description":"shows a warning","full_description":"Settings::AccountLocksController GET #show when there are VAT returns when they are all unfiled shows a warning","status":"passed","file_path":"./spec/controllers/settings/account_locks_controller_spec.rb","line_number":31,"run_time":1.870095177,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/account_locks_controller_spec.rb[1:1:2:2:1]","description":"shows a form","full_description":"Settings::AccountLocksController GET #show when there are VAT returns when at least one of them is filed shows a form","status":"passed","file_path":"./spec/controllers/settings/account_locks_controller_spec.rb","line_number":44,"run_time":2.535663348,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/account_locks_controller_spec.rb[1:1:3:1]","description":"shows a warning","full_description":"Settings::AccountLocksController GET #show when there are invalid Corporation tax returns shows a warning","status":"passed","file_path":"./spec/controllers/settings/account_locks_controller_spec.rb","line_number":57,"run_time":0.251424297,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/account_locks_controller_spec.rb[1:1:4:1]","description":"shows a warning","full_description":"Settings::AccountLocksController GET #show when there are invalid VAT returns shows a warning","status":"passed","file_path":"./spec/controllers/settings/account_locks_controller_spec.rb","line_number":70,"run_time":0.820075723,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/account_locks_controller_spec.rb[1:2:1:1]","description":"updates successfully with a new valid lock date","full_description":"Settings::AccountLocksController PUT #update given a US company entering a US date updates successfully with a new valid lock date","status":"passed","file_path":"./spec/controllers/settings/account_locks_controller_spec.rb","line_number":87,"run_time":0.239707675,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/account_locks_controller_spec.rb[1:2:2:1:1]","description":"updates successfully","full_description":"Settings::AccountLocksController PUT #update given no freeagent lock date with a new valid lock date updates successfully","status":"passed","file_path":"./spec/controllers/settings/account_locks_controller_spec.rb","line_number":108,"run_time":0.766526389,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/account_locks_controller_spec.rb[1:2:2:2:1]","description":"shows an error","full_description":"Settings::AccountLocksController PUT #update given no freeagent lock date with a date value not in valid range shows an error","status":"passed","file_path":"./spec/controllers/settings/account_locks_controller_spec.rb","line_number":122,"run_time":0.938633655,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/account_locks_controller_spec.rb[1:2:2:3:1:1]","description":"updates successfully","full_description":"Settings::AccountLocksController PUT #update given no freeagent lock date given an existing user lock date with a new valid lock date updates successfully","status":"passed","file_path":"./spec/controllers/settings/account_locks_controller_spec.rb","line_number":144,"run_time":1.604952458,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/account_locks_controller_spec.rb[1:2:2:3:2:1]","description":"shows an error","full_description":"Settings::AccountLocksController PUT #update given no freeagent lock date given an existing user lock date with a date value not in valid range shows an error","status":"passed","file_path":"./spec/controllers/settings/account_locks_controller_spec.rb","line_number":158,"run_time":0.959712088,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/account_locks_controller_spec.rb[1:2:3:1:1]","description":"updates successfully ","full_description":"Settings::AccountLocksController PUT #update given a freeagent lock date with a new valid lock date updates successfully ","status":"passed","file_path":"./spec/controllers/settings/account_locks_controller_spec.rb","line_number":182,"run_time":0.893720195,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/account_locks_controller_spec.rb[1:2:3:2:1]","description":"shows an error updating with a date value not in valid range","full_description":"Settings::AccountLocksController PUT #update given a freeagent lock date with a date value not in valid range shows an error updating with a date value not in valid range","status":"passed","file_path":"./spec/controllers/settings/account_locks_controller_spec.rb","line_number":196,"run_time":0.929703632,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/account_locks_controller_spec.rb[1:2:3:3:1:1]","description":"updates successfully with a new valid lock date","full_description":"Settings::AccountLocksController PUT #update given a freeagent lock date given an existing user lock date with a new valid lock date updates successfully with a new valid lock date","status":"passed","file_path":"./spec/controllers/settings/account_locks_controller_spec.rb","line_number":218,"run_time":0.851714425,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/account_locks_controller_spec.rb[1:2:3:3:2:1]","description":"shows an error","full_description":"Settings::AccountLocksController PUT #update given a freeagent lock date given an existing user lock date with a date value not in valid range shows an error","status":"passed","file_path":"./spec/controllers/settings/account_locks_controller_spec.rb","line_number":232,"run_time":0.919491254,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/account_locks_controller_spec.rb[1:3:1]","description":"does nothing without a user lock to delete","full_description":"Settings::AccountLocksController DELETE #destroy does nothing without a user lock to delete","status":"passed","file_path":"./spec/controllers/settings/account_locks_controller_spec.rb","line_number":247,"run_time":0.131009984,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/account_locks_controller_spec.rb[1:3:2:1]","description":"deletes successfully","full_description":"Settings::AccountLocksController DELETE #destroy with an existing user lock deletes successfully","status":"passed","file_path":"./spec/controllers/settings/account_locks_controller_spec.rb","line_number":261,"run_time":0.142630564,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:1:1:1:1]","description":"includes the full set of Payments in payments_sources","full_description":"Cashflow::PaymentSeries.for payment type feature switches when enabled includes the full set of Payments in payments_sources","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":51,"run_time":0.299324598,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:1:1:2:1]","description":"includes only the base set of Payments in payments_sources","full_description":"Cashflow::PaymentSeries.for payment type feature switches when disabled includes only the base set of Payments in payments_sources","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":130,"run_time":0.355116744,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:1:1:2:2]","description":"excludes the feature switched Payments from payments_sources","full_description":"Cashflow::PaymentSeries.for payment type feature switches when disabled excludes the feature switched Payments from payments_sources","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":188,"run_time":0.351186915,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:1:2:1:1]","description":"when enabled: excludes tax payments from payments_sources","full_description":"Cashflow::PaymentSeries.for feature switches which are disabled by default :cashflow_exclude_tax_timeline when enabled: excludes tax payments from payments_sources","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":200,"run_time":0.16283228,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:1:2:2:1]","description":"when disabled: does not log the time taken for each payment source","full_description":"Cashflow::PaymentSeries.for feature switches which are disabled by default :cash_flow_measure_performance when disabled: does not log the time taken for each payment source","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":217,"run_time":0.143070784,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:1:2:2:2]","description":"when enabled: logs the time taken for each payment source","full_description":"Cashflow::PaymentSeries.for feature switches which are disabled by default :cash_flow_measure_performance when enabled: logs the time taken for each payment source","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":225,"run_time":0.155336746,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:2:1:1:1:1]","description":"does not use the rent payment source","full_description":"Cashflow::PaymentSeries.for - predicted_events PredictedEvents::RentPayments behaves like Togglable predicted event when the setting is off does not use the rent payment source","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":266,"run_time":0.329162817,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:2:1:1:2:1]","description":"uses the payment source","full_description":"Cashflow::PaymentSeries.for - predicted_events PredictedEvents::RentPayments behaves like Togglable predicted event when the setting is on uses the payment source","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":275,"run_time":0.371276773,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:2:2:1:1:1]","description":"does not use the rent payment source","full_description":"Cashflow::PaymentSeries.for - predicted_events PredictedEvents::ConsultancyFeesPayments behaves like Togglable predicted event when the setting is off does not use the rent payment source","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":266,"run_time":0.325093168,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:2:2:1:2:1]","description":"uses the payment source","full_description":"Cashflow::PaymentSeries.for - predicted_events PredictedEvents::ConsultancyFeesPayments behaves like Togglable predicted event when the setting is on uses the payment source","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":275,"run_time":0.334897266,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:2:3:1:1:1]","description":"does not use the rent payment source","full_description":"Cashflow::PaymentSeries.for - predicted_events PredictedEvents::LeasingPayments behaves like Togglable predicted event when the setting is off does not use the rent payment source","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":266,"run_time":0.364075878,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:2:3:1:2:1]","description":"uses the payment source","full_description":"Cashflow::PaymentSeries.for - predicted_events PredictedEvents::LeasingPayments behaves like Togglable predicted event when the setting is on uses the payment source","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":275,"run_time":0.318823399,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:2:4:1:1:1]","description":"does not use the rent payment source","full_description":"Cashflow::PaymentSeries.for - predicted_events PredictedEvents::WebHostingPayments behaves like Togglable predicted event when the setting is off does not use the rent payment source","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":266,"run_time":0.349529073,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:2:4:1:2:1]","description":"uses the payment source","full_description":"Cashflow::PaymentSeries.for - predicted_events PredictedEvents::WebHostingPayments behaves like Togglable predicted event when the setting is on uses the payment source","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":275,"run_time":0.332874694,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:2:5:1:1:1]","description":"does not use the rent payment source","full_description":"Cashflow::PaymentSeries.for - predicted_events PredictedEvents::PensionAnnuityPayments behaves like Togglable predicted event when the setting is off does not use the rent payment source","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":266,"run_time":0.326324673,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:2:5:1:2:1]","description":"uses the payment source","full_description":"Cashflow::PaymentSeries.for - predicted_events PredictedEvents::PensionAnnuityPayments behaves like Togglable predicted event when the setting is on uses the payment source","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":275,"run_time":0.329136795,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:2:6:1:1:1]","description":"does not use the rent payment source","full_description":"Cashflow::PaymentSeries.for - predicted_events PredictedEvents::SubscriptionPayments behaves like Togglable predicted event when the setting is off does not use the rent payment source","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":266,"run_time":0.384080695,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:2:6:1:2:1]","description":"uses the payment source","full_description":"Cashflow::PaymentSeries.for - predicted_events PredictedEvents::SubscriptionPayments behaves like Togglable predicted event when the setting is on uses the payment source","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":275,"run_time":0.346494833,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:2:7:1:1:1]","description":"does not use the rent payment source","full_description":"Cashflow::PaymentSeries.for - predicted_events PredictedEvents::NetSalaryAndBonusesPayments behaves like Togglable predicted event when the setting is off does not use the rent payment source","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":266,"run_time":0.328915216,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:2:7:1:2:1]","description":"uses the payment source","full_description":"Cashflow::PaymentSeries.for - predicted_events PredictedEvents::NetSalaryAndBonusesPayments behaves like Togglable predicted event when the setting is on uses the payment source","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":275,"run_time":0.348282418,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:2:8:1:1:1]","description":"does not use the rent payment source","full_description":"Cashflow::PaymentSeries.for - predicted_events PredictedEvents::NetSalaryExpensePayments behaves like Togglable predicted event when the setting is off does not use the rent payment source","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":266,"run_time":0.314276095,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:2:8:1:2:1]","description":"uses the payment source","full_description":"Cashflow::PaymentSeries.for - predicted_events PredictedEvents::NetSalaryExpensePayments behaves like Togglable predicted event when the setting is on uses the payment source","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":275,"run_time":0.304008587,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:2:9:1:1:1]","description":"does not use the rent payment source","full_description":"Cashflow::PaymentSeries.for - predicted_events PredictedEvents::InternetAndTelephonePayments behaves like Togglable predicted event when the setting is off does not use the rent payment source","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":266,"run_time":0.308585119,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:2:9:1:2:1]","description":"uses the payment source","full_description":"Cashflow::PaymentSeries.for - predicted_events PredictedEvents::InternetAndTelephonePayments behaves like Togglable predicted event when the setting is on uses the payment source","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":275,"run_time":0.340916005,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:2:10:1:1:1]","description":"does not use the rent payment source","full_description":"Cashflow::PaymentSeries.for - predicted_events PredictedEvents::InsurancePayments behaves like Togglable predicted event when the setting is off does not use the rent payment source","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":266,"run_time":0.303812981,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:2:10:1:2:1]","description":"uses the payment source","full_description":"Cashflow::PaymentSeries.for - predicted_events PredictedEvents::InsurancePayments behaves like Togglable predicted event when the setting is on uses the payment source","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":275,"run_time":0.398102505,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:2:11:1:1:1]","description":"does not use the rent payment source","full_description":"Cashflow::PaymentSeries.for - predicted_events PredictedEvents::MobilePhonePayments behaves like Togglable predicted event when the setting is off does not use the rent payment source","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":266,"run_time":0.321451272,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:2:11:1:2:1]","description":"uses the payment source","full_description":"Cashflow::PaymentSeries.for - predicted_events PredictedEvents::MobilePhonePayments behaves like Togglable predicted event when the setting is on uses the payment source","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":275,"run_time":0.377007823,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:2:12:1:1:1]","description":"does not use the rent payment source","full_description":"Cashflow::PaymentSeries.for - predicted_events PredictedEvents::ComputerSoftwarePayments behaves like Togglable predicted event when the setting is off does not use the rent payment source","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":266,"run_time":0.38691649,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:2:12:1:2:1]","description":"uses the payment source","full_description":"Cashflow::PaymentSeries.for - predicted_events PredictedEvents::ComputerSoftwarePayments behaves like Togglable predicted event when the setting is on uses the payment source","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":275,"run_time":0.352845636,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:2:13:1:1:1]","description":"does not use the rent payment source","full_description":"Cashflow::PaymentSeries.for - predicted_events PredictedEvents::AccountancyFeesPayments behaves like Togglable predicted event when the setting is off does not use the rent payment source","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":266,"run_time":0.318230102,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:2:13:1:2:1]","description":"uses the payment source","full_description":"Cashflow::PaymentSeries.for - predicted_events PredictedEvents::AccountancyFeesPayments behaves like Togglable predicted event when the setting is on uses the payment source","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":275,"run_time":0.335975,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:3:1]","description":"is a lazy enumerator","full_description":"Cashflow::PaymentSeries#payments_between is a lazy enumerator","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":366,"run_time":0.017565551,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:3:2]","description":"returns DatePayments for each date in the range","full_description":"Cashflow::PaymentSeries#payments_between returns DatePayments for each date in the range","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":371,"run_time":0.015194026,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:4:1]","description":"is represented by the empty hash","full_description":"Cashflow::PaymentSeries.empty is represented by the empty hash","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":384,"run_time":0.014291134,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:5:1]","description":"returns all payments keyed by their date","full_description":"Cashflow::PaymentSeries#to_h returns all payments keyed by their date","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":390,"run_time":0.013164749,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:6:1]","description":"combines payment series","full_description":"Cashflow::PaymentSeries.from_array combines payment series","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":396,"run_time":0.014566049,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:7:1]","description":"combines payment series","full_description":"Cashflow::PaymentSeries#+ combines payment series","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":406,"run_time":0.01553231,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:8:1]","description":"returns the payments on the date given","full_description":"Cashflow::PaymentSeries#payments_on returns the payments on the date given","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":416,"run_time":0.012530061,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:9:1]","description":"maps each item in the payment series","full_description":"Cashflow::PaymentSeries#transform_items maps each item in the payment series","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":422,"run_time":0.01331154,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:10:1:1]","description":"returns true","full_description":"Cashflow::PaymentSeries#empty? dates_hash is empty returns true","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":436,"run_time":0.015470283,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:10:2:1]","description":"returns false","full_description":"Cashflow::PaymentSeries#empty? dates_hash is not empty returns false","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":442,"run_time":0.012069379,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:10:3:1]","description":"returns false","full_description":"Cashflow::PaymentSeries#empty? when dates are present but there are no values returns false","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":450,"run_time":0.013191879,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:11:1]","description":"returns incoming payments only","full_description":"Cashflow::PaymentSeries#incoming returns incoming payments only","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":474,"run_time":0.0137509,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:12:1]","description":"returns sorted flatten values by original date only","full_description":"Cashflow::PaymentSeries#flat_values returns sorted flatten values by original date only","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":491,"run_time":0.016469498,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:13:1]","description":"returns total amount of the payments","full_description":"Cashflow::PaymentSeries#total_amount returns total amount of the payments","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":503,"run_time":0.014150472,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:14:1:1]","description":"returns only handled incoming payments","full_description":"Cashflow::PaymentSeries Given a mixed payments (incoming \u0026 outgoing) #handled_incoming_payments returns only handled incoming payments","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":577,"run_time":0.129044643,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:14:2:1]","description":"returns only handled outgoing payments","full_description":"Cashflow::PaymentSeries Given a mixed payments (incoming \u0026 outgoing) #handled_outgoing_payments returns only handled outgoing payments","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":591,"run_time":0.323871978,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:15:1:1]","description":"returns total amount of the payments","full_description":"Cashflow::PaymentSeries given overrides for payments #total_amount returns total amount of the payments","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":645,"run_time":0.659082445,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment_series_spec.rb[1:15:2:1:1]","description":"returns total amount of the included payments","full_description":"Cashflow::PaymentSeries given overrides for payments if excluded is true for the override #total_amount returns total amount of the included payments","status":"passed","file_path":"./spec/freeagent/cashflow/payment_series_spec.rb","line_number":654,"run_time":0.578919411,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:1:1:1]","description":"is expected to be falsey","full_description":"VatReturnsHelper#vat_return_warnings_exist? for a regular VAT return is expected to be falsey","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":28,"run_time":0.214061437,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:1:2:1]","description":"is expected to be truthy","full_description":"VatReturnsHelper#vat_return_warnings_exist? with incomplete data in the accounting period since VAT registration is expected to be truthy","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":41,"run_time":0.200065564,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:1:3:1]","description":"is expected to be truthy","full_description":"VatReturnsHelper#vat_return_warnings_exist? for the first VAT return is expected to be truthy","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":46,"run_time":0.203739776,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:1:4:1]","description":"is expected to be truthy","full_description":"VatReturnsHelper#vat_return_warnings_exist? for a VAT return period that overlaps a standard rate change is expected to be truthy","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":51,"run_time":0.216085446,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:1:5:1]","description":"is expected to be truthy","full_description":"VatReturnsHelper#vat_return_warnings_exist? for a VAT return period that may qualify for limited cost trader rules is expected to be truthy","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":64,"run_time":0.287589249,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:2:1]","description":"returns the correct label for an unsubmitted return","full_description":"VatReturnsHelper#file_online_link_text returns the correct label for an unsubmitted return","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":88,"run_time":0.101468228,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:2:2]","description":"returns the correct label for a submitted but rejected return","full_description":"VatReturnsHelper#file_online_link_text returns the correct label for a submitted but rejected return","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":92,"run_time":0.092712047,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:3:1:1]","description":"returns a faux dropdown","full_description":"VatReturnsHelper#vat_return_status_dropdown pending returns a faux dropdown","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":113,"run_time":0.155178883,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:3:2:1:1]","description":"returns the correct links","full_description":"VatReturnsHelper#vat_return_status_dropdown rejected when it is fileable returns the correct links","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":125,"run_time":0.099173385,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:3:2:1:2:1]","description":"returns a faux dropdown","full_description":"VatReturnsHelper#vat_return_status_dropdown rejected when it is fileable not permitted returns a faux dropdown","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":135,"run_time":0.096769276,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:3:2:2:1]","description":"returns the correct links","full_description":"VatReturnsHelper#vat_return_status_dropdown rejected when it is not fileable returns the correct links","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":145,"run_time":0.095673432,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:3:3:1:1]","description":"returns the correct links","full_description":"VatReturnsHelper#vat_return_status_dropdown filed when it is unfileable returns the correct links","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":158,"run_time":0.104316631,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:3:3:1:2:1]","description":"returns a faux dropdown","full_description":"VatReturnsHelper#vat_return_status_dropdown filed when it is unfileable but the user is not permitted returns a faux dropdown","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":168,"run_time":0.104350571,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:3:3:2:1]","description":"returns the correct links","full_description":"VatReturnsHelper#vat_return_status_dropdown filed when it is not unfileable returns the correct links","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":178,"run_time":0.102721679,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:3:4:1:1]","description":"returns the correct links","full_description":"VatReturnsHelper#vat_return_status_dropdown unfiled when it is fileable returns the correct links","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":189,"run_time":0.10006929,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:3:4:1:2:1]","description":"returns a faux dropdown","full_description":"VatReturnsHelper#vat_return_status_dropdown unfiled when it is fileable not permitted returns a faux dropdown","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":199,"run_time":0.105867865,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:3:4:2:1]","description":"returns the correct links","full_description":"VatReturnsHelper#vat_return_status_dropdown unfiled when it is not fileable returns the correct links","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":209,"run_time":0.110102717,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:4:1:1:1]","description":"returns false","full_description":"VatReturnsHelper#can_file_or_refile? when user not permitted to submit vat returns when company can submit vat returns returns false","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":230,"run_time":0.102403167,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:4:1:2:1]","description":"returns false","full_description":"VatReturnsHelper#can_file_or_refile? when user not permitted to submit vat returns when company cannot submit vat returns returns false","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":238,"run_time":0.093211128,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:4:2:1:1]","description":"returns false","full_description":"VatReturnsHelper#can_file_or_refile? when user permitted to submit vat returns when company cannot submit vat returns returns false","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":253,"run_time":0.11072186,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:4:2:2:1]","description":"returns true if the vat return is fileable","full_description":"VatReturnsHelper#can_file_or_refile? when user permitted to submit vat returns when company can submit vat returns returns true if the vat return is fileable","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":261,"run_time":0.108030884,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:4:2:2:2]","description":"returns false when the vat return is not fileable","full_description":"VatReturnsHelper#can_file_or_refile? when user permitted to submit vat returns when company can submit vat returns returns false when the vat return is not fileable","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":266,"run_time":0.103287777,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:5:1:1]","description":"returns true if the company is MTD registered","full_description":"VatReturnsHelper#can_submit_vat_returns? company is MTD registerered returns true if the company is MTD registered","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":282,"run_time":0.015911942,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:5:2:1]","description":"returns false if the company is not MTD registered","full_description":"VatReturnsHelper#can_submit_vat_returns? company is not MTD registered returns false if the company is not MTD registered","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":289,"run_time":0.015322639,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:6:1]","description":"is true when the feature is enabled, user is permitted, and company is not already authorised","full_description":"VatReturnsHelper#show_user_mtd_vat_notice? is true when the feature is enabled, user is permitted, and company is not already authorised","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":306,"run_time":0.015678684,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:6:2]","description":"is false when mtd_vat_notices is disabled","full_description":"VatReturnsHelper#show_user_mtd_vat_notice? is false when mtd_vat_notices is disabled","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":310,"run_time":0.007990349,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:6:3]","description":"is false when the user is not permitted to submit VAT returns","full_description":"VatReturnsHelper#show_user_mtd_vat_notice? is false when the user is not permitted to submit VAT returns","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":316,"run_time":0.007905992,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:6:4]","description":"is false when the company already has MTD authorisation","full_description":"VatReturnsHelper#show_user_mtd_vat_notice? is false when the company already has MTD authorisation","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":322,"run_time":0.00819107,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:7:1]","description":"is true when the feature is enabled, practice is authorized, and company is not enabled","full_description":"VatReturnsHelper#show_account_manager_mtd_vat_notice? is true when the feature is enabled, practice is authorized, and company is not enabled","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":344,"run_time":0.211972758,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:7:2]","description":"is false when mtd_vat_notices is disabled","full_description":"VatReturnsHelper#show_account_manager_mtd_vat_notice? is false when mtd_vat_notices is disabled","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":348,"run_time":0.146431032,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:7:3]","description":"is false when the user is not permitted to submit VAT returns","full_description":"VatReturnsHelper#show_account_manager_mtd_vat_notice? is false when the user is not permitted to submit VAT returns","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":354,"run_time":0.164838567,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:7:4]","description":"is true when the practice does not have MTD authorisation","full_description":"VatReturnsHelper#show_account_manager_mtd_vat_notice? is true when the practice does not have MTD authorisation","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":360,"run_time":0.161977534,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:7:5]","description":"is false when the company is already MTD enabled","full_description":"VatReturnsHelper#show_account_manager_mtd_vat_notice? is false when the company is already MTD enabled","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":366,"run_time":0.147060462,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:8:1]","description":"returns an initial balance row","full_description":"VatReturnsHelper#vat_return_transaction_rows returns an initial balance row","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":423,"run_time":0.647564437,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:8:2]","description":"returns a row for each vat return","full_description":"VatReturnsHelper#vat_return_transaction_rows returns a row for each vat return","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":427,"run_time":0.602828403,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:8:3]","description":"returns a row for vat payment bank account entries","full_description":"VatReturnsHelper#vat_return_transaction_rows returns a row for vat payment bank account entries","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":433,"run_time":0.637947168,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:8:4]","description":"does not return a row for other bank account entries","full_description":"VatReturnsHelper#vat_return_transaction_rows does not return a row for other bank account entries","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":437,"run_time":0.617361354,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:8:5]","description":"returns a row for foreign bank account entries","full_description":"VatReturnsHelper#vat_return_transaction_rows returns a row for foreign bank account entries","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":441,"run_time":0.59352722,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:8:6]","description":"returns a row for vat journal entries","full_description":"VatReturnsHelper#vat_return_transaction_rows returns a row for vat journal entries","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":445,"run_time":0.627735404,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:8:7]","description":"does not return a row for other journal entries","full_description":"VatReturnsHelper#vat_return_transaction_rows does not return a row for other journal entries","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":449,"run_time":0.595427807,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:8:8]","description":"keeps a running total","full_description":"VatReturnsHelper#vat_return_transaction_rows keeps a running total","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":453,"run_time":0.591168406,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:8:9:1]","description":"does not raise an error","full_description":"VatReturnsHelper#vat_return_transaction_rows when transactions are tied for dated_on and one of them has a nil in created_at does not raise an error","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":470,"run_time":0.69231532,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:9:1:1]","description":"returns false","full_description":"VatReturnsHelper#show_signposting? when the VAT return is unfiled returns false","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":482,"run_time":0.272977972,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:9:1:2:1]","description":"returns false","full_description":"VatReturnsHelper#show_signposting? when the VAT return is unfiled the payment due date is one day after today returns false","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":490,"run_time":0.256265267,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:9:1:3:1]","description":"returns false","full_description":"VatReturnsHelper#show_signposting? when the VAT return is unfiled the payment due date is today returns false","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":499,"run_time":0.284289546,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:9:1:4:1]","description":"returns false","full_description":"VatReturnsHelper#show_signposting? when the VAT return is unfiled the payment due date is one day before today returns false","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":508,"run_time":0.260031956,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:9:2:1:1]","description":"returns true","full_description":"VatReturnsHelper#show_signposting? when the VAT return is filed manually filed and the payment due date is in the future returns true","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":520,"run_time":0.132909125,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:9:2:2:1]","description":"returns true","full_description":"VatReturnsHelper#show_signposting? when the VAT return is filed filed online and the payment due date is in the future returns true","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":528,"run_time":0.130646609,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:9:2:3:1]","description":"returns true","full_description":"VatReturnsHelper#show_signposting? when the VAT return is filed the payment due date is one day after today returns true","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":537,"run_time":0.124480299,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:9:2:4:1]","description":"returns true","full_description":"VatReturnsHelper#show_signposting? when the VAT return is filed the payment due date is today returns true","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":546,"run_time":0.121292183,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:9:2:5:1]","description":"returns false","full_description":"VatReturnsHelper#show_signposting? when the VAT return is filed the payment due date is one day before today returns false","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":555,"run_time":0.126421968,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:9:2:6:1]","description":"returns false","full_description":"VatReturnsHelper#show_signposting? when the VAT return is filed the payment due date is in the past returns false","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":564,"run_time":0.139645809,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:10:1:1:1]","description":"returns false","full_description":"VatReturnsHelper#show_covid_deverral_notice? when the payment due date is outside the deferral range before the deferral period start date returns false","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":580,"run_time":0.196258166,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:10:1:2:1]","description":"returns false","full_description":"VatReturnsHelper#show_covid_deverral_notice? when the payment due date is outside the deferral range after the deferral period end date returns false","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":588,"run_time":0.208397629,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:10:2:1:1]","description":"returns true","full_description":"VatReturnsHelper#show_covid_deverral_notice? when the payment due date is within the deferral range the same as the deferral period start date returns true","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":598,"run_time":0.225823089,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:10:2:2:1]","description":"returns true","full_description":"VatReturnsHelper#show_covid_deverral_notice? when the payment due date is within the deferral range the same as the deferral period end date returns true","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":606,"run_time":0.20556498,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:10:2:3:1]","description":"returns true","full_description":"VatReturnsHelper#show_covid_deverral_notice? when the payment due date is within the deferral range between the deferral period start dnd end returns true","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":614,"run_time":0.275955535,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:11:1:1]","description":"is expected to equal true","full_description":"VatReturnsHelper#is_most_recent_return? most recent return is expected to equal true","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":629,"run_time":1.071799003,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:11:2:1]","description":"is expected to equal false","full_description":"VatReturnsHelper#is_most_recent_return? any other return is expected to equal false","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":635,"run_time":0.454605491,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:12:1:1]","description":"is expected to equal true","full_description":"VatReturnsHelper show_vat_xml_deprecated_notice?(vat_return) before 7th April 2022 is expected to equal true","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":645,"run_time":0.140126717,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:12:1:2:1]","description":"is expected to equal false","full_description":"VatReturnsHelper show_vat_xml_deprecated_notice?(vat_return) before 7th April 2022 with a filed VAT return is expected to equal false","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":649,"run_time":0.123226328,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/vat_returns_helper_spec.rb[1:12:2:1]","description":"is expected to equal false","full_description":"VatReturnsHelper show_vat_xml_deprecated_notice?(vat_return) from 8th April 2022 is expected to equal false","status":"passed","file_path":"./spec/helpers/vat_returns_helper_spec.rb","line_number":655,"run_time":0.104028069,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:1:1]","description":"raises an exception when called with an unsupported project","full_description":"Project::ProfitAndLoss#initialize raises an exception when called with an unsupported project","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":32,"run_time":0.679329553,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:2:1]","description":"returns 0 for an empty project","full_description":"Project::ProfitAndLoss#profit returns 0 for an empty project","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":52,"run_time":0.158046662,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:2:2]","description":"returns exactly the turnover when there are no costs","full_description":"Project::ProfitAndLoss#profit returns exactly the turnover when there are no costs","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":56,"run_time":0.554119648,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:2:3]","description":"returns exactly the costs when there is no turnover","full_description":"Project::ProfitAndLoss#profit returns exactly the costs when there is no turnover","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":77,"run_time":0.317828128,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:2:4]","description":"returns the difference between turnover and costs","full_description":"Project::ProfitAndLoss#profit returns the difference between turnover and costs","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":90,"run_time":0.305867698,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:3:2]","description":"includes Sales (001) from an invoice","full_description":"Project::ProfitAndLoss#turnover_accounts includes Sales (001) from an invoice","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":161,"run_time":0.303985112,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:3:3]","description":"includes values for invoice items on invoices from other projects","full_description":"Project::ProfitAndLoss#turnover_accounts includes values for invoice items on invoices from other projects","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":171,"run_time":0.370721816,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:3:4]","description":"includes adjusted values for invoices that have items for other projects","full_description":"Project::ProfitAndLoss#turnover_accounts includes adjusted values for invoices that have items for other projects","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":185,"run_time":0.344617868,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:3:5]","description":"includes values for invoice items on invoices from other projects in foreign currency","full_description":"Project::ProfitAndLoss#turnover_accounts includes values for invoice items on invoices from other projects in foreign currency","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":199,"run_time":0.344853447,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:3:1:1]","description":"returns empty hash for an empty project","full_description":"Project::ProfitAndLoss#turnover_accounts behaves like profit and loss accounts method returns empty hash for an empty project","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":116,"run_time":0.129732651,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:3:1:2]","description":"groups and rollup ledger entries","full_description":"Project::ProfitAndLoss#turnover_accounts behaves like profit and loss accounts method groups and rollup ledger entries","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":120,"run_time":0.118293933,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:3:1:3]","description":"in foreign currency projects, it totals the foreign currency debit values","full_description":"Project::ProfitAndLoss#turnover_accounts behaves like profit and loss accounts method in foreign currency projects, it totals the foreign currency debit values","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":139,"run_time":0.138691385,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:3:6:1]","description":"includes values for invoices in the project currency","full_description":"Project::ProfitAndLoss#turnover_accounts in foreign currency projects includes values for invoices in the project currency","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":219,"run_time":0.256915171,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:3:6:2]","description":"includes values for invoice items on invoices from other projects in native currency","full_description":"Project::ProfitAndLoss#turnover_accounts in foreign currency projects includes values for invoice items on invoices from other projects in native currency","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":229,"run_time":0.360439786,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:3:6:3]","description":"includes values for invoice items on invoices from other projects with the same currency","full_description":"Project::ProfitAndLoss#turnover_accounts in foreign currency projects includes values for invoice items on invoices from other projects with the same currency","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":244,"run_time":0.361430231,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:3:6:4]","description":"includes values for invoice items on invoices from other projects with a different currency","full_description":"Project::ProfitAndLoss#turnover_accounts in foreign currency projects includes values for invoice items on invoices from other projects with a different currency","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":259,"run_time":0.363656044,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:4:2]","description":"includes Materials (103) from an expense","full_description":"Project::ProfitAndLoss#allowable_cost_of_sales_accounts includes Materials (103) from an expense","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":283,"run_time":0.204073095,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:4:3]","description":"includes and converts values from foreign currency expenses","full_description":"Project::ProfitAndLoss#allowable_cost_of_sales_accounts includes and converts values from foreign currency expenses","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":292,"run_time":0.259469459,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:4:1:1]","description":"returns empty hash for an empty project","full_description":"Project::ProfitAndLoss#allowable_cost_of_sales_accounts behaves like profit and loss accounts method returns empty hash for an empty project","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":116,"run_time":0.140691294,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:4:1:2]","description":"groups and rollup ledger entries","full_description":"Project::ProfitAndLoss#allowable_cost_of_sales_accounts behaves like profit and loss accounts method groups and rollup ledger entries","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":120,"run_time":0.137037981,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:4:1:3]","description":"in foreign currency projects, it totals the foreign currency debit values","full_description":"Project::ProfitAndLoss#allowable_cost_of_sales_accounts behaves like profit and loss accounts method in foreign currency projects, it totals the foreign currency debit values","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":139,"run_time":0.148313916,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:4:4:1]","description":"includes and converts values from expense in native currency","full_description":"Project::ProfitAndLoss#allowable_cost_of_sales_accounts in foreign currency projects includes and converts values from expense in native currency","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":308,"run_time":0.22214759,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:4:4:2]","description":"includes and converts values from expense in project currency","full_description":"Project::ProfitAndLoss#allowable_cost_of_sales_accounts in foreign currency projects includes and converts values from expense in project currency","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":317,"run_time":0.225973171,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:4:4:3]","description":"includes and converts values from expense in foreign non-project currency","full_description":"Project::ProfitAndLoss#allowable_cost_of_sales_accounts in foreign currency projects includes and converts values from expense in foreign non-project currency","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":329,"run_time":0.209178734,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:5:1:1]","description":"returns empty hash for an empty project","full_description":"Project::ProfitAndLoss#disallowable_cost_of_sales_accounts behaves like profit and loss accounts method returns empty hash for an empty project","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":116,"run_time":0.137233826,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:5:1:2]","description":"groups and rollup ledger entries","full_description":"Project::ProfitAndLoss#disallowable_cost_of_sales_accounts behaves like profit and loss accounts method groups and rollup ledger entries","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":120,"run_time":0.137359082,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:5:1:3]","description":"in foreign currency projects, it totals the foreign currency debit values","full_description":"Project::ProfitAndLoss#disallowable_cost_of_sales_accounts behaves like profit and loss accounts method in foreign currency projects, it totals the foreign currency debit values","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":139,"run_time":0.130811853,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:6:2]","description":"includes Motor Expenses (283) from an expense","full_description":"Project::ProfitAndLoss#allowable_admin_expenses_accounts includes Motor Expenses (283) from an expense","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":353,"run_time":0.222831636,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:6:1:1]","description":"returns empty hash for an empty project","full_description":"Project::ProfitAndLoss#allowable_admin_expenses_accounts behaves like profit and loss accounts method returns empty hash for an empty project","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":116,"run_time":0.126415757,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:6:1:2]","description":"groups and rollup ledger entries","full_description":"Project::ProfitAndLoss#allowable_admin_expenses_accounts behaves like profit and loss accounts method groups and rollup ledger entries","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":120,"run_time":0.142135772,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:6:1:3]","description":"in foreign currency projects, it totals the foreign currency debit values","full_description":"Project::ProfitAndLoss#allowable_admin_expenses_accounts behaves like profit and loss accounts method in foreign currency projects, it totals the foreign currency debit values","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":139,"run_time":0.135556975,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:6:3:1]","description":"does not include Realized Currency Exchange Gain/Loss (390)","full_description":"Project::ProfitAndLoss#allowable_admin_expenses_accounts in foreign currency projects does not include Realized Currency Exchange Gain/Loss (390)","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":366,"run_time":0.526073631,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:6:3:2]","description":"does not include Unrealized Currency Exchange Gain/Loss (391)","full_description":"Project::ProfitAndLoss#allowable_admin_expenses_accounts in foreign currency projects does not include Unrealized Currency Exchange Gain/Loss (391)","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":377,"run_time":0.291272369,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:7:2]","description":"includes Formation Costs (294) from an expense","full_description":"Project::ProfitAndLoss#disallowable_admin_expenses_accounts includes Formation Costs (294) from an expense","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":396,"run_time":0.209309254,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:7:1:1]","description":"returns empty hash for an empty project","full_description":"Project::ProfitAndLoss#disallowable_admin_expenses_accounts behaves like profit and loss accounts method returns empty hash for an empty project","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":116,"run_time":0.15464343,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:7:1:2]","description":"groups and rollup ledger entries","full_description":"Project::ProfitAndLoss#disallowable_admin_expenses_accounts behaves like profit and loss accounts method groups and rollup ledger entries","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":120,"run_time":0.122368192,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:7:1:3]","description":"in foreign currency projects, it totals the foreign currency debit values","full_description":"Project::ProfitAndLoss#disallowable_admin_expenses_accounts behaves like profit and loss accounts method in foreign currency projects, it totals the foreign currency debit values","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":139,"run_time":0.140198428,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:8:2]","description":"includes Staff Entertaining (289) from an expense","full_description":"Project::ProfitAndLoss#staff_costs_accounts includes Staff Entertaining (289) from an expense","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":412,"run_time":0.23184513,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:8:1:1]","description":"returns empty hash for an empty project","full_description":"Project::ProfitAndLoss#staff_costs_accounts behaves like profit and loss accounts method returns empty hash for an empty project","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":116,"run_time":0.154306279,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:8:1:2]","description":"groups and rollup ledger entries","full_description":"Project::ProfitAndLoss#staff_costs_accounts behaves like profit and loss accounts method groups and rollup ledger entries","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":120,"run_time":0.11568125,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:8:1:3]","description":"in foreign currency projects, it totals the foreign currency debit values","full_description":"Project::ProfitAndLoss#staff_costs_accounts behaves like profit and loss accounts method in foreign currency projects, it totals the foreign currency debit values","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":139,"run_time":0.128926175,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:9:2]","description":"includes Bad Debts Written Off (450) from a written-off invoice","full_description":"Project::ProfitAndLoss#bad_debts_accounts includes Bad Debts Written Off (450) from a written-off invoice","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":428,"run_time":0.228154237,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:9:3]","description":"includes values for invoice items on written-off invoices from other projects","full_description":"Project::ProfitAndLoss#bad_debts_accounts includes values for invoice items on written-off invoices from other projects","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":438,"run_time":0.352345953,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:9:4]","description":"includes adjusted values for written-off invoices that have items for other projects","full_description":"Project::ProfitAndLoss#bad_debts_accounts includes adjusted values for written-off invoices that have items for other projects","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":453,"run_time":0.34174122,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:9:1:1]","description":"returns empty hash for an empty project","full_description":"Project::ProfitAndLoss#bad_debts_accounts behaves like profit and loss accounts method returns empty hash for an empty project","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":116,"run_time":0.152186838,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:9:1:2]","description":"groups and rollup ledger entries","full_description":"Project::ProfitAndLoss#bad_debts_accounts behaves like profit and loss accounts method groups and rollup ledger entries","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":120,"run_time":0.145785686,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:9:1:3]","description":"in foreign currency projects, it totals the foreign currency debit values","full_description":"Project::ProfitAndLoss#bad_debts_accounts behaves like profit and loss accounts method in foreign currency projects, it totals the foreign currency debit values","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":139,"run_time":0.120946026,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:9:5:1]","description":"includes and converts values from expense in native currency","full_description":"Project::ProfitAndLoss#bad_debts_accounts in foreign currency projects includes and converts values from expense in native currency","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":472,"run_time":0.200101363,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:9:5:2]","description":"includes and converts values from expense in project currency","full_description":"Project::ProfitAndLoss#bad_debts_accounts in foreign currency projects includes and converts values from expense in project currency","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":481,"run_time":0.228352279,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:9:5:3]","description":"includes and converts values from expense in foreign non-project currency","full_description":"Project::ProfitAndLoss#bad_debts_accounts in foreign currency projects includes and converts values from expense in foreign non-project currency","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":493,"run_time":0.222314246,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:10:1]","description":"returns the sum of all unbillable timeslips","full_description":"Project::ProfitAndLoss#cost_of_unbillable_hours returns the sum of all unbillable timeslips","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":522,"run_time":0.189078134,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:10:2]","description":"returns the sum for all unbillable timeslips within an accounting period","full_description":"Project::ProfitAndLoss#cost_of_unbillable_hours returns the sum for all unbillable timeslips within an accounting period","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":528,"run_time":0.180955873,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:11:1]","description":"returns 0 when accounts are empty","full_description":"Project::ProfitAndLoss#rounded_total returns 0 when accounts are empty","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":540,"run_time":0.130503393,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:11:2]","description":"returns the total","full_description":"Project::ProfitAndLoss#rounded_total returns the total","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":544,"run_time":0.135286384,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:11:3]","description":"first rounds and then sums","full_description":"Project::ProfitAndLoss#rounded_total first rounds and then sums","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":549,"run_time":0.123736187,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:12:1]","description":"returns [] for empty projects","full_description":"Project::ProfitAndLoss#as_rows returns [] for empty projects","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":561,"run_time":0.154673814,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:12:2]","description":"includes credit rows","full_description":"Project::ProfitAndLoss#as_rows includes credit rows","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":565,"run_time":0.259310749,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:12:3]","description":"includes debit rows","full_description":"Project::ProfitAndLoss#as_rows includes debit rows","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":578,"run_time":0.218040685,"pending_message":null,"screenshot":null},{"id":"./spec/models/project/profit_and_loss_spec.rb[1:12:4]","description":"includes unbillable time row","full_description":"Project::ProfitAndLoss#as_rows includes unbillable time row","status":"passed","file_path":"./spec/models/project/profit_and_loss_spec.rb","line_number":587,"run_time":0.157985598,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/credit_note_net_off_spec.rb[1:1:1:1]","description":"returns the dated on of the reconciliation entry to which it belongs","full_description":"CreditNoteReconciliationEntry::CreditNoteNetOff behaves like a credit note reconciliation entry #dated_on returns the dated on of the reconciliation entry to which it belongs","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":5,"run_time":0.528520865,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/credit_note_net_off_spec.rb[1:1:2:1]","description":"returns an instance of an Accounting Engine source item","full_description":"CreditNoteReconciliationEntry::CreditNoteNetOff behaves like a credit note reconciliation entry #to_source_item returns an instance of an Accounting Engine source item","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":13,"run_time":0.526982068,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/credit_note_net_off_spec.rb[1:1:2:2:1]","description":"sets the type","full_description":"CreditNoteReconciliationEntry::CreditNoteNetOff behaves like a credit note reconciliation entry #to_source_item on the source item sets the type","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":18,"run_time":0.572473038,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/credit_note_net_off_spec.rb[1:1:2:2:2]","description":"sets the gross value","full_description":"CreditNoteReconciliationEntry::CreditNoteNetOff behaves like a credit note reconciliation entry #to_source_item on the source item sets the gross value","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":22,"run_time":0.48352892,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/credit_note_net_off_spec.rb[1:1:2:2:3]","description":"sets the company","full_description":"CreditNoteReconciliationEntry::CreditNoteNetOff behaves like a credit note reconciliation entry #to_source_item on the source item sets the company","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":26,"run_time":0.510706583,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/credit_note_net_off_spec.rb[1:1:2:2:4]","description":"sets the contact_id","full_description":"CreditNoteReconciliationEntry::CreditNoteNetOff behaves like a credit note reconciliation entry #to_source_item on the source item sets the contact_id","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":30,"run_time":0.54392314,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/credit_note_net_off_spec.rb[1:1:2:2:5]","description":"sets the paid_invoicable","full_description":"CreditNoteReconciliationEntry::CreditNoteNetOff behaves like a credit note reconciliation entry #to_source_item on the source item sets the paid_invoicable","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":34,"run_time":0.487641825,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/credit_note_net_off_spec.rb[1:1:2:2:6]","description":"sets the tax_effects","full_description":"CreditNoteReconciliationEntry::CreditNoteNetOff behaves like a credit note reconciliation entry #to_source_item on the source item sets the tax_effects","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":38,"run_time":0.501927744,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/credit_note_net_off_spec.rb[1:1:2:2:7]","description":"sets the native_cis_deduction","full_description":"CreditNoteReconciliationEntry::CreditNoteNetOff behaves like a credit note reconciliation entry #to_source_item on the source item sets the native_cis_deduction","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":42,"run_time":0.465630566,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/credit_note_net_off_spec.rb[1:1:2:2:8]","description":"sets the foreign_cis_deduction","full_description":"CreditNoteReconciliationEntry::CreditNoteNetOff behaves like a credit note reconciliation entry #to_source_item on the source item sets the foreign_cis_deduction","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":46,"run_time":0.54389341,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/credit_note_net_off_spec.rb[1:1:3:1:1]","description":"returns 1","full_description":"CreditNoteReconciliationEntry::CreditNoteNetOff behaves like a credit note reconciliation entry #invoice_payment_fraction when netting the whole value of the invoicable returns 1","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":54,"run_time":0.475628412,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/credit_note_net_off_spec.rb[1:1:3:2:1]","description":"returns 0.5","full_description":"CreditNoteReconciliationEntry::CreditNoteNetOff behaves like a credit note reconciliation entry #invoice_payment_fraction when netting the part of the value returns 0.5","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":62,"run_time":0.508217891,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/credit_note_net_off_spec.rb[1:1:4:1:1:1]","description":"returns 0","full_description":"CreditNoteReconciliationEntry::CreditNoteNetOff behaves like a credit note reconciliation entry CIS #native_cis_deducted_portion_of_invoice_receipt for a credit note without CIS line items returns 0","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":85,"run_time":0.632525592,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/credit_note_net_off_spec.rb[1:1:4:1:2:1]","description":"returns the value of the credit note deducted for CIS, in the company's native currency","full_description":"CreditNoteReconciliationEntry::CreditNoteNetOff behaves like a credit note reconciliation entry CIS #native_cis_deducted_portion_of_invoice_receipt for reconciliation belonging to a foreign currency invoice with CIS line items returns the value of the credit note deducted for CIS, in the company's native currency","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":104,"run_time":0.615062142,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/credit_note_net_off_spec.rb[1:1:4:2:1:1]","description":"returns 0","full_description":"CreditNoteReconciliationEntry::CreditNoteNetOff behaves like a credit note reconciliation entry CIS #cis_deducted_portion_of_invoice_receipt for a credit note without CIS line items returns 0","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":116,"run_time":0.688588256,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/credit_note_net_off_spec.rb[1:1:4:2:2:1]","description":"returns the value of the credit note deducted for CIS, in the invoice's currency","full_description":"CreditNoteReconciliationEntry::CreditNoteNetOff behaves like a credit note reconciliation entry CIS #cis_deducted_portion_of_invoice_receipt for reconciliation belonging to a foreign currency invoice with CIS line items returns the value of the credit note deducted for CIS, in the invoice's currency","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":133,"run_time":0.638117609,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/credit_note_net_off_spec.rb[1:1:5:1]","description":"returns the EC status of the invoicable","full_description":"CreditNoteReconciliationEntry::CreditNoteNetOff behaves like a credit note reconciliation entry #ec_status returns the EC status of the invoicable","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":153,"run_time":0.614935513,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/credit_note_net_off_spec.rb[1:1:5:2:1]","description":"returns the EC status of the invoicable","full_description":"CreditNoteReconciliationEntry::CreditNoteNetOff behaves like a credit note reconciliation entry #ec_status with invoicable that is tagged as EC Services returns the EC status of the invoicable","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":160,"run_time":0.602799461,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/credit_note_net_off_spec.rb[1:1:5:3:1]","description":"returns the EC status of the invoicable","full_description":"CreditNoteReconciliationEntry::CreditNoteNetOff behaves like a credit note reconciliation entry #ec_status with invoicable that is tagged as EC Goods returns the EC status of the invoicable","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":176,"run_time":0.575950078,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/credit_note_net_off_spec.rb[1:1:5:4:1]","description":"returns the EC status of the invoicable","full_description":"CreditNoteReconciliationEntry::CreditNoteNetOff behaves like a credit note reconciliation entry #ec_status with invoicable that is tagged as VAT MOSS returns the EC status of the invoicable","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":201,"run_time":1.39395582,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/credit_note_net_off_spec.rb[1:2:1]","description":"returns the credit note that the reconciliation entry is netting off","full_description":"CreditNoteReconciliationEntry::CreditNoteNetOff#invoicable returns the credit note that the reconciliation entry is netting off","status":"passed","file_path":"./spec/models/credit_note_reconciliation_entry/credit_note_net_off_spec.rb","line_number":25,"run_time":0.522231074,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/credit_note_net_off_spec.rb[1:3:1]","description":"returns true","full_description":"CreditNoteReconciliationEntry::CreditNoteNetOff#credit_note_net_off? returns true","status":"passed","file_path":"./spec/models/credit_note_reconciliation_entry/credit_note_net_off_spec.rb","line_number":31,"run_time":0.503305539,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/credit_note_net_off_spec.rb[1:4:1]","description":"returns false","full_description":"CreditNoteReconciliationEntry::CreditNoteNetOff#invoice_net_off? returns false","status":"passed","file_path":"./spec/models/credit_note_reconciliation_entry/credit_note_net_off_spec.rb","line_number":37,"run_time":0.517507785,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/mailer_spec.rb[1:1:3]","description":"sets tracking metadata","full_description":"Mailer#send_email with an email that has an emailable object sets tracking metadata","status":"passed","file_path":"./spec/mailers/mailer_spec.rb","line_number":35,"run_time":0.127748283,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/mailer_spec.rb[1:1:4]","description":"sends the email with a document attached","full_description":"Mailer#send_email with an email that has an emailable object sends the email with a document attached","status":"passed","file_path":"./spec/mailers/mailer_spec.rb","line_number":39,"run_time":0.345731868,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/mailer_spec.rb[1:1:5]","description":"sends the email with multiple documents attachments","full_description":"Mailer#send_email with an email that has an emailable object sends the email with multiple documents attachments","status":"passed","file_path":"./spec/mailers/mailer_spec.rb","line_number":51,"run_time":0.528703159,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/mailer_spec.rb[1:1:1:1]","description":"sets correct category","full_description":"Mailer#send_email with an email that has an emailable object without email's category sets correct category","status":"passed","file_path":"./spec/mailers/mailer_spec.rb","line_number":20,"run_time":0.096546483,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/mailer_spec.rb[1:1:2:1]","description":"sets correct category","full_description":"Mailer#send_email with an email that has an emailable object with email's category set sets correct category","status":"passed","file_path":"./spec/mailers/mailer_spec.rb","line_number":30,"run_time":0.098386802,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/mailer_spec.rb[1:1:6:1]","description":"sends the email with the attachments converted to a link","full_description":"Mailer#send_email with an email that has an emailable object with an email that has many attachments sends the email with the attachments converted to a link","status":"passed","file_path":"./spec/mailers/mailer_spec.rb","line_number":73,"run_time":3.098394692,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/mailer_spec.rb[1:1:7:1]","description":"sends the email with the attachments attached","full_description":"Mailer#send_email with an email that has an emailable object with an email that has attachments sends the email with the attachments attached","status":"passed","file_path":"./spec/mailers/mailer_spec.rb","line_number":99,"run_time":0.527606888,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/mailer_spec.rb[1:1:7:2]","description":"does not error if a .eml file is attached","full_description":"Mailer#send_email with an email that has an emailable object with an email that has attachments does not error if a .eml file is attached","status":"passed","file_path":"./spec/mailers/mailer_spec.rb","line_number":126,"run_time":0.317646551,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/mailer_spec.rb[1:2:1]","description":"is expected not to be a multipart email","full_description":"Mailer#send_mail with plaintext email is expected not to be a multipart email","status":"passed","file_path":"./spec/mailers/mailer_spec.rb","line_number":144,"run_time":0.109706011,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/mailer_spec.rb[1:2:2]","description":"correctly sets the body","full_description":"Mailer#send_mail with plaintext email correctly sets the body","status":"passed","file_path":"./spec/mailers/mailer_spec.rb","line_number":146,"run_time":0.113299216,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/mailer_spec.rb[1:3:1]","description":"is expected to be a multipart email","full_description":"Mailer#send_mail with plaintext email containing ampersand is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/mailer_spec.rb","line_number":155,"run_time":0.104220182,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/mailer_spec.rb[1:3:2]","description":"does not escape the plaintext part","full_description":"Mailer#send_mail with plaintext email containing ampersand does not escape the plaintext part","status":"passed","file_path":"./spec/mailers/mailer_spec.rb","line_number":157,"run_time":0.095284849,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/mailer_spec.rb[1:4:1]","description":"is expected to be a multipart email","full_description":"Mailer#send_email with a html email is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/mailer_spec.rb","line_number":170,"run_time":0.110814505,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/mailer_spec.rb[1:4:2]","description":"correctly sets the email's plain text part body","full_description":"Mailer#send_email with a html email correctly sets the email's plain text part body","status":"passed","file_path":"./spec/mailers/mailer_spec.rb","line_number":172,"run_time":0.117573759,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/mailer_spec.rb[1:4:3]","description":"correctly sets the email's html part body","full_description":"Mailer#send_email with a html email correctly sets the email's html part body","status":"passed","file_path":"./spec/mailers/mailer_spec.rb","line_number":177,"run_time":0.11120237,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/mailer_spec.rb[1:5:1]","description":"does not escape the ampersands in the plain text part body","full_description":"Mailer#send_email with email containing ampersands does not escape the ampersands in the plain text part body","status":"passed","file_path":"./spec/mailers/mailer_spec.rb","line_number":186,"run_time":0.099298506,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/mailer_spec.rb[1:5:2]","description":"escapes the ampersand in the unclosed special character sequence","full_description":"Mailer#send_email with email containing ampersands escapes the ampersand in the unclosed special character sequence","status":"passed","file_path":"./spec/mailers/mailer_spec.rb","line_number":190,"run_time":0.083277929,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/mailer_spec.rb[1:6:1]","description":"sets reply to header correctly","full_description":"Mailer sending an email with a sender name as part of the address field sets reply to header correctly","status":"passed","file_path":"./spec/mailers/mailer_spec.rb","line_number":199,"run_time":0.080489206,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/mailer_spec.rb[1:6:2]","description":"sets from header correctly","full_description":"Mailer sending an email with a sender name as part of the address field sets from header correctly","status":"passed","file_path":"./spec/mailers/mailer_spec.rb","line_number":203,"run_time":0.078194042,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/mailer_spec.rb[1:7:1]","description":"sets reply to header correctly","full_description":"Mailer sending an email with no sender name sets reply to header correctly","status":"passed","file_path":"./spec/mailers/mailer_spec.rb","line_number":212,"run_time":0.090022232,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/mailer_spec.rb[1:7:2]","description":"sets from header correctly","full_description":"Mailer sending an email with no sender name sets from header correctly","status":"passed","file_path":"./spec/mailers/mailer_spec.rb","line_number":216,"run_time":0.092275403,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:1:1]","description":"returns eligible users to be notified","full_description":"Radar::Insights::Rules::CopilotServicesReminder behaves like notifier for users with level 8 only returns eligible users to be notified","status":"passed","file_path":"./spec/support/shared_examples/insights_rules_permission_level_examples.rb","line_number":49,"run_time":0.041403144,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:1:2]","description":"does not return ineligible users to be notified","full_description":"Radar::Insights::Rules::CopilotServicesReminder behaves like notifier for users with level 8 only does not return ineligible users to be notified","status":"passed","file_path":"./spec/support/shared_examples/insights_rules_permission_level_examples.rb","line_number":53,"run_time":0.037623128,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:2:1:1:1]","description":"returns a category defined on the Insight model","full_description":"Radar::Insights::Rules::CopilotServicesReminder behaves like a product update rule behaves like a ping rule #category returns a category defined on the Insight model","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":11,"run_time":0.003326731,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:2:1:2:1]","description":"returns a boolean","full_description":"Radar::Insights::Rules::CopilotServicesReminder behaves like a product update rule behaves like a ping rule #send_notifications? returns a boolean","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":17,"run_time":0.002684341,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:2:2:1]","description":"returns a category of product update","full_description":"Radar::Insights::Rules::CopilotServicesReminder behaves like a product update rule #category is a product update returns a category of product update","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":29,"run_time":0.002569953,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:3:1]","description":"is expected to eq \"copilot_services_reminder:895398054\"","full_description":"Radar::Insights::Rules::CopilotServicesReminder#key is expected to eq \"copilot_services_reminder:895398054\"","status":"passed","file_path":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb","line_number":23,"run_time":0.10262989,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:4:1:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::CopilotServicesReminder#can_create_insight? when the company has not enabled commerical insights is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb","line_number":32,"run_time":0.098175587,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:4:2:1:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::CopilotServicesReminder#can_create_insight? when the company has enabled commerical insights and they have only just received the CopilotEligibleCompany insight is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb","line_number":49,"run_time":0.111217483,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:4:2:2:1]","description":"is expected to be truthy","full_description":"Radar::Insights::Rules::CopilotServicesReminder#can_create_insight? when the company has enabled commerical insights and they received the CopilotEligibleCompany insight 6 weeks ago is expected to be truthy","status":"passed","file_path":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb","line_number":63,"run_time":0.099201495,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:5:1:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::CopilotServicesReminder#applies? and the company is not eligible for copilot is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb","line_number":85,"run_time":0.199928441,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:6:1:1]","description":"is expected to be truthy","full_description":"Radar::Insights::Rules::CopilotServicesReminder#should_notify? for an account owner is expected to be truthy","status":"passed","file_path":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb","line_number":96,"run_time":0.113262537,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:6:2:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::CopilotServicesReminder#should_notify? for a non-account owner is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb","line_number":102,"run_time":0.115932338,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:7:1:1]","description":"is expected to equal false","full_description":"Radar::Insights::Rules::CopilotServicesReminder.run_today? when it is not this insight rule's turn to run is expected to equal false","status":"passed","file_path":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb","line_number":113,"run_time":0.004232295,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:7:2:1]","description":"is expected to equal true","full_description":"Radar::Insights::Rules::CopilotServicesReminder.run_today? when it is this insight rule's turn to run is expected to equal true","status":"passed","file_path":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb","line_number":120,"run_time":0.004282021,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:8:1:1:1]","description":"excludes the company from evaluation","full_description":"Radar::Insights::Rules::CopilotServicesReminder.companies_for_evaluation for a company that had not seen this insight and has not seen the generic insight excludes the company from evaluation","status":"passed","file_path":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb","line_number":131,"run_time":0.108773889,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:8:1:2:1]","description":"returns the companies for evaluation","full_description":"Radar::Insights::Rules::CopilotServicesReminder.companies_for_evaluation for a company that had not seen this insight and has seen the generic insight returns the companies for evaluation","status":"passed","file_path":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb","line_number":138,"run_time":0.092058861,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:8:2:1]","description":"excludes the company from evaluation","full_description":"Radar::Insights::Rules::CopilotServicesReminder.companies_for_evaluation for a company that has previously seen this insight excludes the company from evaluation","status":"passed","file_path":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb","line_number":148,"run_time":0.107679564,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:9:1:1:1]","description":"contains payroll","full_description":"Radar::Insights::Rules::CopilotServicesReminder#details for a non-VAT-registered Sole Trader with employees contains payroll","status":"passed","file_path":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb","line_number":161,"run_time":0.262934543,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:9:1:2:1]","description":"does not contain payroll","full_description":"Radar::Insights::Rules::CopilotServicesReminder#details for a non-VAT-registered Sole Trader without employees does not contain payroll","status":"passed","file_path":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb","line_number":172,"run_time":0.109455895,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:9:2:1:1]","description":"contains payroll and VAT","full_description":"Radar::Insights::Rules::CopilotServicesReminder#details for a VAT-registered Sole Trader with employees contains payroll and VAT","status":"passed","file_path":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb","line_number":189,"run_time":0.179758535,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:9:2:2:1]","description":"contains VAT","full_description":"Radar::Insights::Rules::CopilotServicesReminder#details for a VAT-registered Sole Trader without employees contains VAT","status":"passed","file_path":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb","line_number":200,"run_time":0.138223541,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:9:3:1:1]","description":"contains payroll","full_description":"Radar::Insights::Rules::CopilotServicesReminder#details for a non-VAT-registered Limited Company with employees contains payroll","status":"passed","file_path":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb","line_number":217,"run_time":0.138625118,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:9:3:2:1]","description":"does not contain payroll","full_description":"Radar::Insights::Rules::CopilotServicesReminder#details for a non-VAT-registered Limited Company without employees does not contain payroll","status":"passed","file_path":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb","line_number":228,"run_time":0.08494318,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:9:4:1:1]","description":"contains payroll and VAT","full_description":"Radar::Insights::Rules::CopilotServicesReminder#details for a VAT-registered Limited Company with employees contains payroll and VAT","status":"passed","file_path":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb","line_number":245,"run_time":0.172683316,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:9:4:2:1]","description":"contains VAT","full_description":"Radar::Insights::Rules::CopilotServicesReminder#details for a VAT-registered Limited Company without employees contains VAT","status":"passed","file_path":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb","line_number":256,"run_time":0.141669589,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:9:5:1:1]","description":"contains payroll","full_description":"Radar::Insights::Rules::CopilotServicesReminder#details for a non-VAT-registered Partnership with employees contains payroll","status":"passed","file_path":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb","line_number":274,"run_time":0.164874271,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:9:5:2:1]","description":"does not contain payroll","full_description":"Radar::Insights::Rules::CopilotServicesReminder#details for a non-VAT-registered Partnership without employees does not contain payroll","status":"passed","file_path":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb","line_number":285,"run_time":0.087160562,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:9:6:1:1]","description":"contains payroll and VAT","full_description":"Radar::Insights::Rules::CopilotServicesReminder#details for a VAT-registered Partnership with employees contains payroll and VAT","status":"passed","file_path":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb","line_number":302,"run_time":0.16132399,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:9:6:2:1]","description":"contains VAT, but not payroll","full_description":"Radar::Insights::Rules::CopilotServicesReminder#details for a VAT-registered Partnership without employees contains VAT, but not payroll","status":"passed","file_path":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb","line_number":313,"run_time":0.116874248,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:9:7:1:1]","description":"contains payroll","full_description":"Radar::Insights::Rules::CopilotServicesReminder#details for a non-VAT-registered Limited Liability Partnership with employees contains payroll","status":"passed","file_path":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb","line_number":330,"run_time":0.195786128,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:9:7:2:1]","description":"does not contain payroll","full_description":"Radar::Insights::Rules::CopilotServicesReminder#details for a non-VAT-registered Limited Liability Partnership without employees does not contain payroll","status":"passed","file_path":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb","line_number":341,"run_time":0.087046138,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:9:8:1:1]","description":"contains payroll and VAT","full_description":"Radar::Insights::Rules::CopilotServicesReminder#details for a VAT-registered Limited Liability Partnership with employees contains payroll and VAT","status":"passed","file_path":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb","line_number":358,"run_time":0.180071256,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:9:8:2:1]","description":"contains VAT, but not payroll","full_description":"Radar::Insights::Rules::CopilotServicesReminder#details for a VAT-registered Limited Liability Partnership without employees contains VAT, but not payroll","status":"passed","file_path":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb","line_number":369,"run_time":0.121780767,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:10:1]","description":"includes direct companies","full_description":"Radar::Insights::Rules::CopilotServicesReminder behaves like an insight for non-practice managed companies includes direct companies","status":"passed","file_path":"./spec/support/shared_examples/insights_inscope_companies.rb","line_number":30,"run_time":0.619906835,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:10:2]","description":"includes rbsg companies","full_description":"Radar::Insights::Rules::CopilotServicesReminder behaves like an insight for non-practice managed companies includes rbsg companies","status":"passed","file_path":"./spec/support/shared_examples/insights_inscope_companies.rb","line_number":34,"run_time":0.559054369,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:10:3]","description":"does not include practice managed companies","full_description":"Radar::Insights::Rules::CopilotServicesReminder behaves like an insight for non-practice managed companies does not include practice managed companies","status":"passed","file_path":"./spec/support/shared_examples/insights_inscope_companies.rb","line_number":38,"run_time":0.540095962,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:11:1:1]","description":"returns the category","full_description":"Radar::Insights::Rules::CopilotServicesReminder behaves like a valid insight rule #category returns the category","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":14,"run_time":0.13651009,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:11:2:1]","description":"creates a new insight","full_description":"Radar::Insights::Rules::CopilotServicesReminder behaves like a valid insight rule #evaluate creates a new insight","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":20,"run_time":0.153650468,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:11:2:2]","description":"persists insight details","full_description":"Radar::Insights::Rules::CopilotServicesReminder behaves like a valid insight rule #evaluate persists insight details","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":28,"run_time":0.130174692,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:11:2:3]","description":"notifies users in the company","full_description":"Radar::Insights::Rules::CopilotServicesReminder behaves like a valid insight rule #evaluate notifies users in the company","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":36,"run_time":0.148194954,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:11:3:1]","description":"creates a user insight notification for all notifiable users","full_description":"Radar::Insights::Rules::CopilotServicesReminder behaves like a valid insight rule #notify creates a user insight notification for all notifiable users","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":44,"run_time":0.136516776,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb[1:12:1:1]","description":"the correct generation event is published","full_description":"Radar::Insights::Rules::CopilotServicesReminder event tracking on creation the correct generation event is published","status":"passed","file_path":"./spec/models/radar/insights/rules/copilot_services_reminder_spec.rb","line_number":405,"run_time":0.013336267,"pending_message":null,"screenshot":null},{"id":"./spec/features/timeslips/creating_a_timeslip_from_inline_form_spec.rb[1:1]","description":"allows the user to change to create a timeslip for the given day","full_description":"when creating a timeslip using the inline form allows the user to change to create a timeslip for the given day","status":"passed","file_path":"./spec/features/timeslips/creating_a_timeslip_from_inline_form_spec.rb","line_number":41,"run_time":4.729776855,"pending_message":null,"screenshot":null},{"id":"./spec/features/timeslips/creating_a_timeslip_from_inline_form_spec.rb[1:2]","description":"allows the user to create a running timer","full_description":"when creating a timeslip using the inline form allows the user to create a running timer","status":"passed","file_path":"./spec/features/timeslips/creating_a_timeslip_from_inline_form_spec.rb","line_number":141,"run_time":1.768875396,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/4_year_deferrals/4-years-deferral-write-offs-cash-frs-accounting.feature[1:1:1]","description":"Given a UK Limited Company which was started on 2012-01-01 -\u003e And it starts using FreeAgent on 2012-01-01 -\u003e And the company's first accounting year ends on 2012-12-31 -\u003e And the company is VAT registered from 2012-01-01 -\u003e And the company has a pre-registration period of 0 months -\u003e And the company is Cash accounting for VAT, on the \"Entertainment or journalism\" flat rate scheme -\u003e And the VAT return covering 2019-09-30 has been filed -\u003e And the company has the following invoices: -\u003e And the company has the following bank transactions: -\u003e And the company has the following invoices written off: -\u003e Given the current date is 2019-12-02 -\u003e Then the VAT return covering 2019-12-31 should have exact values -\u003e And the invoice Invoice001 should have accrual ledger entries -\u003e And the invoice Invoice002 should have accrual ledger entries -\u003e And the invoice Invoice003 should have accrual ledger entries -\u003e And the invoice Invoice004 should have accrual ledger entries","full_description":"Sales Tax Updates - 4 year deferral (for Invoices using Cash Accounting) Standard example cash FRS accounting Given a UK Limited Company which was started on 2012-01-01 -\u003e And it starts using FreeAgent on 2012-01-01 -\u003e And the company's first accounting year ends on 2012-12-31 -\u003e And the company is VAT registered from 2012-01-01 -\u003e And the company has a pre-registration period of 0 months -\u003e And the company is Cash accounting for VAT, on the \"Entertainment or journalism\" flat rate scheme -\u003e And the VAT return covering 2019-09-30 has been filed -\u003e And the company has the following invoices: -\u003e And the company has the following bank transactions: -\u003e And the company has the following invoices written off: -\u003e Given the current date is 2019-12-02 -\u003e Then the VAT return covering 2019-12-31 should have exact values -\u003e And the invoice Invoice001 should have accrual ledger entries -\u003e And the invoice Invoice002 should have accrual ledger entries -\u003e And the invoice Invoice003 should have accrual ledger entries -\u003e And the invoice Invoice004 should have accrual ledger entries","status":"passed","file_path":"./spec/acceptance/vat/4_year_deferrals/4-years-deferral-write-offs-cash-frs-accounting.feature","line_number":35,"run_time":6.015654155,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/predicted_events/net_salary_and_bonuses_payments_spec.rb[1:1:1:1:1:1]","description":"only includes entry entries that match the rules","full_description":"Cashflow::PredictedEvents::NetSalaryAndBonusesPayments behaves like Predicted Payment #payment_series default horizon cutoff of 90 days source items when salary payments present only includes entry entries that match the rules","status":"passed","file_path":"./spec/shared/cashflow/projected_payments_shared_examples.rb","line_number":220,"run_time":1.05483617,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/predicted_events/net_salary_and_bonuses_payments_spec.rb[1:1:2:1]","description":"correctly projects future payments for past-dated entry payments monthly up to the default horizon","full_description":"Cashflow::PredictedEvents::NetSalaryAndBonusesPayments behaves like Predicted Payment #payments_on correctly projects future payments for past-dated entry payments monthly up to the default horizon","status":"passed","file_path":"./spec/shared/cashflow/projected_payments_shared_examples.rb","line_number":228,"run_time":1.103057635,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/sensibill_extract_metrics_spec.rb[1:1:1]","description":"writes to a csv file in the expected location","full_description":"Metrics::SensibillExtractMetrics#write_csv writes to a csv file in the expected location","status":"passed","file_path":"./spec/models/metrics/sensibill_extract_metrics_spec.rb","line_number":17,"run_time":0.349179289,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/sensibill_extract_metrics_spec.rb[1:1:2]","description":"creates the expected headers","full_description":"Metrics::SensibillExtractMetrics#write_csv creates the expected headers","status":"passed","file_path":"./spec/models/metrics/sensibill_extract_metrics_spec.rb","line_number":21,"run_time":0.340947998,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/sensibill_extract_metrics_spec.rb[1:1:3]","description":"does not include a row for older extract","full_description":"Metrics::SensibillExtractMetrics#write_csv does not include a row for older extract","status":"passed","file_path":"./spec/models/metrics/sensibill_extract_metrics_spec.rb","line_number":46,"run_time":0.381285346,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/sensibill_extract_metrics_spec.rb[1:1:4]","description":"records the snapshot time","full_description":"Metrics::SensibillExtractMetrics#write_csv records the snapshot time","status":"passed","file_path":"./spec/models/metrics/sensibill_extract_metrics_spec.rb","line_number":51,"run_time":0.370159676,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/sensibill_extract_metrics_spec.rb[1:1:5]","description":"records the expected fields","full_description":"Metrics::SensibillExtractMetrics#write_csv records the expected fields","status":"passed","file_path":"./spec/models/metrics/sensibill_extract_metrics_spec.rb","line_number":55,"run_time":0.351627166,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/forms/_balance_mismatch_warning.html.erb_spec.rb[1:1:1]","description":"does not render","full_description":"bank_accounts/forms/_balance_mismatch_warning when feature is not enabled does not render","status":"passed","file_path":"./spec/views/bank_accounts/forms/_balance_mismatch_warning.html.erb_spec.rb","line_number":17,"run_time":0.105404498,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/forms/_balance_mismatch_warning.html.erb_spec.rb[1:2:1:1]","description":"does not render","full_description":"bank_accounts/forms/_balance_mismatch_warning when feature is enabled when the bank account doesn't have an open_banking_opening_balance does not render","status":"passed","file_path":"./spec/views/bank_accounts/forms/_balance_mismatch_warning.html.erb_spec.rb","line_number":32,"run_time":0.100165554,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/forms/_balance_mismatch_warning.html.erb_spec.rb[1:2:2:1:1]","description":"does not render","full_description":"bank_accounts/forms/_balance_mismatch_warning when feature is enabled when the bank_account has an open_banking_opening_balance when the open banking and bank account opening balances match does not render","status":"passed","file_path":"./spec/views/bank_accounts/forms/_balance_mismatch_warning.html.erb_spec.rb","line_number":50,"run_time":0.786236704,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/forms/_balance_mismatch_warning.html.erb_spec.rb[1:2:2:2:1:1]","description":"does not render","full_description":"bank_accounts/forms/_balance_mismatch_warning when feature is enabled when the bank_account has an open_banking_opening_balance when the open banking and bank account opening balances don't match when the user has turned off the balance at bank ui UI does not render","status":"passed","file_path":"./spec/views/bank_accounts/forms/_balance_mismatch_warning.html.erb_spec.rb","line_number":69,"run_time":0.692788038,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/forms/_balance_mismatch_warning.html.erb_spec.rb[1:2:2:2:2:1:2]","description":"shows a freestyle_notice with correct dismiss path","full_description":"bank_accounts/forms/_balance_mismatch_warning when feature is enabled when the bank_account has an open_banking_opening_balance when the open banking and bank account opening balances don't match when the user has not turned off the balance at bank UI with an open banking feed shows a freestyle_notice with correct dismiss path","status":"passed","file_path":"./spec/views/bank_accounts/forms/_balance_mismatch_warning.html.erb_spec.rb","line_number":100,"run_time":0.34648762,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/forms/_balance_mismatch_warning.html.erb_spec.rb[1:2:2:2:2:1:1:1]","description":"shows the open banking opening balance amount","full_description":"bank_accounts/forms/_balance_mismatch_warning when feature is enabled when the bank_account has an open_banking_opening_balance when the open banking and bank account opening balances don't match when the user has not turned off the balance at bank UI with an open banking feed behaves like shows common ui elements shows the open banking opening balance amount","status":"passed","file_path":"./spec/views/bank_accounts/forms/_balance_mismatch_warning.html.erb_spec.rb","line_number":81,"run_time":0.343426852,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/forms/_balance_mismatch_warning.html.erb_spec.rb[1:2:2:2:2:1:1:2]","description":"shows the company FreeAgent start date","full_description":"bank_accounts/forms/_balance_mismatch_warning when feature is enabled when the bank_account has an open_banking_opening_balance when the open banking and bank account opening balances don't match when the user has not turned off the balance at bank UI with an open banking feed behaves like shows common ui elements shows the company FreeAgent start date","status":"passed","file_path":"./spec/views/bank_accounts/forms/_balance_mismatch_warning.html.erb_spec.rb","line_number":85,"run_time":0.373977473,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/forms/_balance_mismatch_warning.html.erb_spec.rb[1:2:2:2:2:2:1:1]","description":"shows the open banking opening balance amount","full_description":"bank_accounts/forms/_balance_mismatch_warning when feature is enabled when the bank_account has an open_banking_opening_balance when the open banking and bank account opening balances don't match when the user has not turned off the balance at bank UI with an api feed behaves like shows common ui elements shows the open banking opening balance amount","status":"passed","file_path":"./spec/views/bank_accounts/forms/_balance_mismatch_warning.html.erb_spec.rb","line_number":81,"run_time":0.316811724,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/forms/_balance_mismatch_warning.html.erb_spec.rb[1:2:2:2:2:2:1:2]","description":"shows the company FreeAgent start date","full_description":"bank_accounts/forms/_balance_mismatch_warning when feature is enabled when the bank_account has an open_banking_opening_balance when the open banking and bank account opening balances don't match when the user has not turned off the balance at bank UI with an api feed behaves like shows common ui elements shows the company FreeAgent start date","status":"passed","file_path":"./spec/views/bank_accounts/forms/_balance_mismatch_warning.html.erb_spec.rb","line_number":85,"run_time":0.25980795,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/inline_form/description_spec.rb[1:1]","description":"selecting an existing explanation as the description","full_description":"Inline Banking - Description autocomplete selecting an existing explanation as the description","status":"passed","file_path":"./spec/features/new_banking/inline_form/description_spec.rb","line_number":11,"run_time":2.84615637,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/accounting/corporation_tax_recalculation_job_spec.rb[1:1]","description":"recalculates a corporation tax return","full_description":"Accounting::CorporationTaxRecalculationJob recalculates a corporation tax return","status":"passed","file_path":"./spec/jobs/accounting/corporation_tax_recalculation_job_spec.rb","line_number":14,"run_time":0.71142299,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/accounting/corporation_tax_recalculation_job_spec.rb[1:2]","description":"recalculates subsequent corporation tax returns","full_description":"Accounting::CorporationTaxRecalculationJob recalculates subsequent corporation tax returns","status":"passed","file_path":"./spec/jobs/accounting/corporation_tax_recalculation_job_spec.rb","line_number":20,"run_time":0.701896189,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/accounting/corporation_tax_recalculation_job_spec.rb[1:3]","description":"does not recalculate previous corporation tax returns","full_description":"Accounting::CorporationTaxRecalculationJob does not recalculate previous corporation tax returns","status":"passed","file_path":"./spec/jobs/accounting/corporation_tax_recalculation_job_spec.rb","line_number":26,"run_time":0.706537055,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/accounting/corporation_tax_recalculation_job_spec.rb[1:4]","description":"does not raise an error if the corporation tax return has been deleted","full_description":"Accounting::CorporationTaxRecalculationJob does not raise an error if the corporation tax return has been deleted","status":"passed","file_path":"./spec/jobs/accounting/corporation_tax_recalculation_job_spec.rb","line_number":32,"run_time":0.501692088,"pending_message":null,"screenshot":null},{"id":"./spec/requests/radar/insights/online_payment_options_pro_tip_spec.rb[1:1:1]","description":"renders the OnlinePaymentOptionsProTip ping with appropriate copy","full_description":"OnlinePaymentOptionsProTip insight when the company does not have payment options setup renders the OnlinePaymentOptionsProTip ping with appropriate copy","status":"passed","file_path":"./spec/requests/radar/insights/online_payment_options_pro_tip_spec.rb","line_number":50,"run_time":0.71789954,"pending_message":null,"screenshot":null},{"id":"./spec/requests/radar/insights/online_payment_options_pro_tip_spec.rb[1:2:1]","description":"does not render the OnlinePaymentOptionsProTip copy","full_description":"OnlinePaymentOptionsProTip insight when the company has payment options setup does not render the OnlinePaymentOptionsProTip copy","status":"passed","file_path":"./spec/requests/radar/insights/online_payment_options_pro_tip_spec.rb","line_number":61,"run_time":0.724008472,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/invoices/_invoice.rbapi_spec.rb[1:1:1]","description":"includes available payment_methods for the invoice","full_description":"api/invoices/_invoice.rbapi with payment methods enabled includes available payment_methods for the invoice","status":"passed","file_path":"./spec/views/api/invoices/_invoice.rbapi_spec.rb","line_number":27,"run_time":0.191249543,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/invoices/_invoice.rbapi_spec.rb[1:1:2:1:1]","description":"should not include the key","full_description":"api/invoices/_invoice.rbapi with payment methods enabled including additional payment metadata for a request from the public API should not include the key","status":"passed","file_path":"./spec/views/api/invoices/_invoice.rbapi_spec.rb","line_number":38,"run_time":0.170012021,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/invoices/_invoice.rbapi_spec.rb[1:1:2:2:1]","description":"includes payment_methods not immediately appropriate for the invoice","full_description":"api/invoices/_invoice.rbapi with payment methods enabled including additional payment metadata for a request from a mobile app includes payment_methods not immediately appropriate for the invoice","status":"passed","file_path":"./spec/views/api/invoices/_invoice.rbapi_spec.rb","line_number":46,"run_time":0.178502181,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/invoices/_invoice.rbapi_spec.rb[1:1:2:2:2]","description":"includes additional detail for available methods","full_description":"api/invoices/_invoice.rbapi with payment methods enabled including additional payment metadata for a request from a mobile app includes additional detail for available methods","status":"passed","file_path":"./spec/views/api/invoices/_invoice.rbapi_spec.rb","line_number":51,"run_time":0.163129562,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/invoices/_invoice.rbapi_spec.rb[1:1:2:2:3:1]","description":"includes an additional key if a limited set of currencies are supported","full_description":"api/invoices/_invoice.rbapi with payment methods enabled including additional payment metadata for a request from a mobile app including supported currencies includes an additional key if a limited set of currencies are supported","status":"passed","file_path":"./spec/views/api/invoices/_invoice.rbapi_spec.rb","line_number":62,"run_time":0.188747553,"pending_message":null,"screenshot":null},{"id":"./spec/models/aged_creditors_report_spec.rb[1:1:1:1:1]","description":"has 1 aged creditor, with 2 debts","full_description":"AgedCreditorsReport Retrieving the list of outstanding debts Given two open bills for a single contact, one 10 days old, one 40 days old an aged creditors report has 1 aged creditor, with 2 debts","status":"passed","file_path":"./spec/models/aged_creditors_report_spec.rb","line_number":25,"run_time":0.277347288,"pending_message":null,"screenshot":null},{"id":"./spec/models/aged_creditors_report_spec.rb[1:1:1:1:2]","description":"has one aged debt matching the data on the first bill","full_description":"AgedCreditorsReport Retrieving the list of outstanding debts Given two open bills for a single contact, one 10 days old, one 40 days old an aged creditors report has one aged debt matching the data on the first bill","status":"passed","file_path":"./spec/models/aged_creditors_report_spec.rb","line_number":31,"run_time":0.28158829,"pending_message":null,"screenshot":null},{"id":"./spec/models/aged_creditors_report_spec.rb[1:1:1:1:3]","description":"has one aged debt matching the data on the second bill","full_description":"AgedCreditorsReport Retrieving the list of outstanding debts Given two open bills for a single contact, one 10 days old, one 40 days old an aged creditors report has one aged debt matching the data on the second bill","status":"passed","file_path":"./spec/models/aged_creditors_report_spec.rb","line_number":43,"run_time":0.259079765,"pending_message":null,"screenshot":null},{"id":"./spec/models/aged_creditors_report_spec.rb[1:1:2:1:1]","description":"has no entries","full_description":"AgedCreditorsReport Retrieving the list of outstanding debts Given an bill dated after the accounting period an aged creditors report has no entries","status":"passed","file_path":"./spec/models/aged_creditors_report_spec.rb","line_number":68,"run_time":0.013330645,"pending_message":null,"screenshot":null},{"id":"./spec/models/aged_creditors_report_spec.rb[1:1:2:2:1:1]","description":"has a negative aged credit for the amount paid","full_description":"AgedCreditorsReport Retrieving the list of outstanding debts Given an bill dated after the accounting period with a prepayment in the current accounting period an aged creditors report has a negative aged credit for the amount paid","status":"passed","file_path":"./spec/models/aged_creditors_report_spec.rb","line_number":87,"run_time":0.460664223,"pending_message":null,"screenshot":null},{"id":"./spec/models/aged_creditors_report_spec.rb[1:1:3:1:1]","description":"has an aged debt for the outstanding amount","full_description":"AgedCreditorsReport Retrieving the list of outstanding debts Given a part-paid bill an aged creditors report has an aged debt for the outstanding amount","status":"passed","file_path":"./spec/models/aged_creditors_report_spec.rb","line_number":116,"run_time":0.512179961,"pending_message":null,"screenshot":null},{"id":"./spec/models/insurance/reminder_spec.rb[1:1:1]","description":"is expected to belong to user required: false","full_description":"Insurance::Reminder associations is expected to belong to user required: false","status":"passed","file_path":"./spec/models/insurance/reminder_spec.rb","line_number":7,"run_time":0.009550994,"pending_message":null,"screenshot":null},{"id":"./spec/models/insurance/reminder_spec.rb[1:2:1]","description":"is expected to validate that :user cannot be empty/falsy","full_description":"Insurance::Reminder validations is expected to validate that :user cannot be empty/falsy","status":"passed","file_path":"./spec/models/insurance/reminder_spec.rb","line_number":14,"run_time":0.028209082,"pending_message":null,"screenshot":null},{"id":"./spec/models/insurance/reminder_spec.rb[1:2:2]","description":"is expected to validate that :reminder_date cannot be empty/falsy","full_description":"Insurance::Reminder validations is expected to validate that :reminder_date cannot be empty/falsy","status":"passed","file_path":"./spec/models/insurance/reminder_spec.rb","line_number":15,"run_time":0.028463401,"pending_message":null,"screenshot":null},{"id":"./spec/models/insurance/reminder_spec.rb[1:2:3]","description":"validates that a reminder date is in the future","full_description":"Insurance::Reminder validations validates that a reminder date is in the future","status":"passed","file_path":"./spec/models/insurance/reminder_spec.rb","line_number":17,"run_time":0.026479272,"pending_message":null,"screenshot":null},{"id":"./spec/models/insurance/reminder_spec.rb[1:2:4]","description":"validates the reminder date is in date format","full_description":"Insurance::Reminder validations validates the reminder date is in date format","status":"passed","file_path":"./spec/models/insurance/reminder_spec.rb","line_number":23,"run_time":0.029719162,"pending_message":null,"screenshot":null},{"id":"./spec/models/insurance/reminder_spec.rb[1:3:1:1]","description":"includes all reminders dated in the future","full_description":"Insurance::Reminder scopes .all_active includes all reminders dated in the future","status":"passed","file_path":"./spec/models/insurance/reminder_spec.rb","line_number":42,"run_time":0.24941411,"pending_message":null,"screenshot":null},{"id":"./spec/models/insurance/reminder_spec.rb[1:3:1:2]","description":"excludes any reminders dated on or before today","full_description":"Insurance::Reminder scopes .all_active excludes any reminders dated on or before today","status":"passed","file_path":"./spec/models/insurance/reminder_spec.rb","line_number":46,"run_time":0.251590575,"pending_message":null,"screenshot":null},{"id":"./spec/models/insurance/reminder_spec.rb[1:3:2:1]","description":"includes all reminders dated today or in the past","full_description":"Insurance::Reminder scopes .all_stale includes all reminders dated today or in the past","status":"passed","file_path":"./spec/models/insurance/reminder_spec.rb","line_number":53,"run_time":0.22320407,"pending_message":null,"screenshot":null},{"id":"./spec/models/insurance/reminder_spec.rb[1:3:2:2]","description":"excludes any reminders dated in the future","full_description":"Insurance::Reminder scopes .all_stale excludes any reminders dated in the future","status":"passed","file_path":"./spec/models/insurance/reminder_spec.rb","line_number":57,"run_time":0.232968323,"pending_message":null,"screenshot":null},{"id":"./spec/models/insurance/reminder_spec.rb[1:4:1]","description":"returns the correct date for 01 Oct 2020","full_description":"Insurance::Reminder.new returns the correct date for 01 Oct 2020","status":"passed","file_path":"./spec/models/insurance/reminder_spec.rb","line_number":65,"run_time":0.009937193,"pending_message":null,"screenshot":null},{"id":"./spec/models/insurance/reminder_spec.rb[1:4:2]","description":"returns the correct date for 1 Oct 20","full_description":"Insurance::Reminder.new returns the correct date for 1 Oct 20","status":"passed","file_path":"./spec/models/insurance/reminder_spec.rb","line_number":65,"run_time":0.007924124,"pending_message":null,"screenshot":null},{"id":"./spec/models/insurance/reminder_spec.rb[1:4:3]","description":"returns the correct date for 2020-10-01","full_description":"Insurance::Reminder.new returns the correct date for 2020-10-01","status":"passed","file_path":"./spec/models/insurance/reminder_spec.rb","line_number":65,"run_time":0.008988772,"pending_message":null,"screenshot":null},{"id":"./spec/models/insurance/reminder_spec.rb[1:5:1:1]","description":"is expected to equal false","full_description":"Insurance::Reminder#active? when a reminder date is today is expected to equal false","status":"passed","file_path":"./spec/models/insurance/reminder_spec.rb","line_number":79,"run_time":0.009325084,"pending_message":null,"screenshot":null},{"id":"./spec/models/insurance/reminder_spec.rb[1:5:2:1]","description":"is expected to equal true","full_description":"Insurance::Reminder#active? when a reminder date is in the future is expected to equal true","status":"passed","file_path":"./spec/models/insurance/reminder_spec.rb","line_number":85,"run_time":0.00953428,"pending_message":null,"screenshot":null},{"id":"./spec/models/insurance/reminder_spec.rb[1:5:3:1]","description":"is expected to equal false","full_description":"Insurance::Reminder#active? when a reminder date is before today is expected to equal false","status":"passed","file_path":"./spec/models/insurance/reminder_spec.rb","line_number":92,"run_time":0.008911175,"pending_message":null,"screenshot":null},{"id":"./spec/models/insurance/reminder_spec.rb[1:5:4:1]","description":"is expected to equal false","full_description":"Insurance::Reminder#active? when a reminder date has not been set is expected to equal false","status":"passed","file_path":"./spec/models/insurance/reminder_spec.rb","line_number":98,"run_time":0.008492547,"pending_message":null,"screenshot":null},{"id":"./spec/models/insurance/reminder_spec.rb[1:6:1:1]","description":"is expected to equal true","full_description":"Insurance::Reminder#stale? when a reminder date is today is expected to equal true","status":"passed","file_path":"./spec/models/insurance/reminder_spec.rb","line_number":109,"run_time":0.007787236,"pending_message":null,"screenshot":null},{"id":"./spec/models/insurance/reminder_spec.rb[1:6:2:1]","description":"is expected to equal false","full_description":"Insurance::Reminder#stale? when a reminder date is in the future is expected to equal false","status":"passed","file_path":"./spec/models/insurance/reminder_spec.rb","line_number":115,"run_time":0.007894028,"pending_message":null,"screenshot":null},{"id":"./spec/models/insurance/reminder_spec.rb[1:6:3:1]","description":"is expected to equal true","full_description":"Insurance::Reminder#stale? when a reminder date is before today is expected to equal true","status":"passed","file_path":"./spec/models/insurance/reminder_spec.rb","line_number":122,"run_time":0.008049644,"pending_message":null,"screenshot":null},{"id":"./spec/models/insurance/reminder_spec.rb[1:6:4:1]","description":"is expected to equal true","full_description":"Insurance::Reminder#stale? when a reminder date has not been set is expected to equal true","status":"passed","file_path":"./spec/models/insurance/reminder_spec.rb","line_number":128,"run_time":0.008032934,"pending_message":null,"screenshot":null},{"id":"./spec/models/insurance/reminder_spec.rb[1:7:1:1]","description":"destroys the reminder","full_description":"Insurance::Reminder#destroy_if_stale when reminder is stale destroys the reminder","status":"passed","file_path":"./spec/models/insurance/reminder_spec.rb","line_number":138,"run_time":0.100445887,"pending_message":null,"screenshot":null},{"id":"./spec/models/insurance/reminder_spec.rb[1:7:2:1]","description":"does not destroy the reminder","full_description":"Insurance::Reminder#destroy_if_stale when reminder is active does not destroy the reminder","status":"passed","file_path":"./spec/models/insurance/reminder_spec.rb","line_number":149,"run_time":0.026716132,"pending_message":null,"screenshot":null},{"id":"./spec/models/insurance/reminder_spec.rb[1:8:1]","description":"syncs to salesforce on create","full_description":"Insurance::Reminder#sync_reminder_to_salesforce syncs to salesforce on create","status":"passed","file_path":"./spec/models/insurance/reminder_spec.rb","line_number":159,"run_time":0.030040041,"pending_message":null,"screenshot":null},{"id":"./spec/models/insurance/reminder_spec.rb[1:8:2]","description":"syncs to salesforce on update","full_description":"Insurance::Reminder#sync_reminder_to_salesforce syncs to salesforce on update","status":"passed","file_path":"./spec/models/insurance/reminder_spec.rb","line_number":165,"run_time":0.031689557,"pending_message":null,"screenshot":null},{"id":"./spec/models/insurance/reminder_spec.rb[1:8:3:1]","description":"syncs to salesforce on delete","full_description":"Insurance::Reminder#sync_reminder_to_salesforce when the reminder is still active syncs to salesforce on delete","status":"passed","file_path":"./spec/models/insurance/reminder_spec.rb","line_number":173,"run_time":0.026459694,"pending_message":null,"screenshot":null},{"id":"./spec/models/insurance/reminder_spec.rb[1:8:4:1]","description":"does not sync to salesforce on delete","full_description":"Insurance::Reminder#sync_reminder_to_salesforce when the reminder is stale does not sync to salesforce on delete","status":"passed","file_path":"./spec/models/insurance/reminder_spec.rb","line_number":186,"run_time":0.102215794,"pending_message":null,"screenshot":null},{"id":"./spec/models/account_manager/prospect/search_spec.rb[1:1:1:1]","description":"is expected not to include #\u003cUser id: 975572571, first_name: \"Ed\", email: \"user_2@example.com\", created_at: \"2022-12-23 10:46:53..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","full_description":"AccountManager::Prospect::Search.scope with an active non-accountant user is expected not to include #\u003cUser id: 975572571, first_name: \"Ed\", email: \"user_2@example.com\", created_at: \"2022-12-23 10:46:53..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","status":"passed","file_path":"./spec/models/account_manager/prospect/search_spec.rb","line_number":17,"run_time":0.112752812,"pending_message":null,"screenshot":null},{"id":"./spec/models/account_manager/prospect/search_spec.rb[1:1:2:1]","description":"is expected not to include #\u003cUser id: 975572573, first_name: \"Ed\", email: \"user_2@example.com\", created_at: \"2022-12-23 10:46:53..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","full_description":"AccountManager::Prospect::Search.scope with a cancelled company is expected not to include #\u003cUser id: 975572573, first_name: \"Ed\", email: \"user_2@example.com\", created_at: \"2022-12-23 10:46:53..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","status":"passed","file_path":"./spec/models/account_manager/prospect/search_spec.rb","line_number":23,"run_time":0.091294768,"pending_message":null,"screenshot":null},{"id":"./spec/models/account_manager/prospect/search_spec.rb[1:1:3:1]","description":"is expected not to include #\u003cUser id: 975572575, first_name: \"Ed\", email: \"user_2@example.com\", created_at: \"2022-12-23 10:46:53..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","full_description":"AccountManager::Prospect::Search.scope with free trial company is expected not to include #\u003cUser id: 975572575, first_name: \"Ed\", email: \"user_2@example.com\", created_at: \"2022-12-23 10:46:53..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","status":"passed","file_path":"./spec/models/account_manager/prospect/search_spec.rb","line_number":29,"run_time":0.101804626,"pending_message":null,"screenshot":null},{"id":"./spec/models/account_manager/prospect/search_spec.rb[1:1:4:1]","description":"is expected not to include #\u003cUser id: 975572577, first_name: \"Ed\", email: \"user_2@example.com\", created_at: \"2022-12-23 10:46:53..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","full_description":"AccountManager::Prospect::Search.scope with email that's already in the prospects table is expected not to include #\u003cUser id: 975572577, first_name: \"Ed\", email: \"user_2@example.com\", created_at: \"2022-12-23 10:46:53..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","status":"passed","file_path":"./spec/models/account_manager/prospect/search_spec.rb","line_number":35,"run_time":0.13677692,"pending_message":null,"screenshot":null},{"id":"./spec/models/account_manager/prospect/search_spec.rb[1:1:5:1]","description":"is expected not to include #\u003cUser id: 975572579, first_name: \"Ed\", email: \"user_2@example.com\", created_at: \"2022-12-23 10:46:53..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","full_description":"AccountManager::Prospect::Search.scope with email that matches an account manager's is expected not to include #\u003cUser id: 975572579, first_name: \"Ed\", email: \"user_2@example.com\", created_at: \"2022-12-23 10:46:53..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","status":"passed","file_path":"./spec/models/account_manager/prospect/search_spec.rb","line_number":41,"run_time":0.155005272,"pending_message":null,"screenshot":null},{"id":"./spec/models/account_manager/prospect/search_spec.rb[1:1:6:1:1]","description":"is expected not to include #\u003cUser id: 975572581, first_name: \"Ed\", email: \"accountant_user@accountants.com\", created_at: \"2022-1..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","full_description":"AccountManager::Prospect::Search.scope with email domain that matches an account manager's custom TLD is expected not to include #\u003cUser id: 975572581, first_name: \"Ed\", email: \"accountant_user@accountants.com\", created_at: \"2022-1..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","status":"passed","file_path":"./spec/models/account_manager/prospect/search_spec.rb","line_number":50,"run_time":0.171851526,"pending_message":null,"screenshot":null},{"id":"./spec/models/account_manager/prospect/search_spec.rb[1:1:6:2:1]","description":"is expected to include #\u003cUser id: 975572583, first_name: \"Ed\", email: \"accountant_user@gmail.com\", created_at: \"2022-12-23 1..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","full_description":"AccountManager::Prospect::Search.scope with email domain that matches an account manager's generic TLD is expected to include #\u003cUser id: 975572583, first_name: \"Ed\", email: \"accountant_user@gmail.com\", created_at: \"2022-12-23 1..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","status":"passed","file_path":"./spec/models/account_manager/prospect/search_spec.rb","line_number":59,"run_time":0.167812965,"pending_message":null,"screenshot":null},{"id":"./spec/models/account_manager/prospect/search_spec.rb[1:1:6:2:2]","description":"should return one row per accountant","full_description":"AccountManager::Prospect::Search.scope with email domain that matches an account manager's generic TLD should return one row per accountant","status":"passed","file_path":"./spec/models/account_manager/prospect/search_spec.rb","line_number":61,"run_time":0.169760459,"pending_message":null,"screenshot":null},{"id":"./spec/models/account_manager/prospect/search_spec.rb[1:1:7:1]","description":"is expected to include #\u003cUser id: 975572587, first_name: \"Ed\", email: \"user_2@example.com\", created_at: \"2022-12-23 10:46:54..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","full_description":"AccountManager::Prospect::Search.scope with a subscribed company accountant user, which doesn't match a prospect or account manager is expected to include #\u003cUser id: 975572587, first_name: \"Ed\", email: \"user_2@example.com\", created_at: \"2022-12-23 10:46:54..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","status":"passed","file_path":"./spec/models/account_manager/prospect/search_spec.rb","line_number":68,"run_time":0.100904727,"pending_message":null,"screenshot":null},{"id":"./spec/models/account_manager/prospect/search_spec.rb[1:1:7:2:1]","description":"is expected not to include #\u003cUser id: 975572589, first_name: \"Ed\", email: \"user_2@example.com\", created_at: \"2022-12-23 10:46:54..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","full_description":"AccountManager::Prospect::Search.scope with a subscribed company accountant user, which doesn't match a prospect or account manager who never logged in is expected not to include #\u003cUser id: 975572589, first_name: \"Ed\", email: \"user_2@example.com\", created_at: \"2022-12-23 10:46:54..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","status":"passed","file_path":"./spec/models/account_manager/prospect/search_spec.rb","line_number":73,"run_time":0.108904356,"pending_message":null,"screenshot":null},{"id":"./spec/models/account_manager/prospect/search_spec.rb[1:1:7:3:1]","description":"is expected not to include #\u003cUser id: 975572591, first_name: \"Ed\", email: \"user_2@example.com\", created_at: \"2022-12-23 10:46:54..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","full_description":"AccountManager::Prospect::Search.scope with a subscribed company accountant user, which doesn't match a prospect or account manager who is inactive is expected not to include #\u003cUser id: 975572591, first_name: \"Ed\", email: \"user_2@example.com\", created_at: \"2022-12-23 10:46:54..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","status":"passed","file_path":"./spec/models/account_manager/prospect/search_spec.rb","line_number":79,"run_time":0.114196946,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/import_warning_spec.rb[1:1:1:1]","description":"should generate a warning","full_description":"BankFeeds::ImportWarning#uploaded_transaction_warnings when uploaded transactions exist should generate a warning","status":"passed","file_path":"./spec/models/bank_feeds/import_warning_spec.rb","line_number":18,"run_time":0.07466168,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/import_warning_spec.rb[1:1:2:1]","description":"should not generate any warnings","full_description":"BankFeeds::ImportWarning#uploaded_transaction_warnings when no transactions exist should not generate any warnings","status":"passed","file_path":"./spec/models/bank_feeds/import_warning_spec.rb","line_number":26,"run_time":0.054984773,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/import_warning_spec.rb[1:2:1]","description":"should not generate any warnings","full_description":"BankFeeds::ImportWarning when a manual transaction exists should not generate any warnings","status":"passed","file_path":"./spec/models/bank_feeds/import_warning_spec.rb","line_number":37,"run_time":0.066435629,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/import_warning_spec.rb[1:3:1:1]","description":"should generate a warning","full_description":"BankFeeds::ImportWarning#deleted_transaction_warnings when one or more blocked bank transactions exist should generate a warning","status":"passed","file_path":"./spec/models/bank_feeds/import_warning_spec.rb","line_number":48,"run_time":0.079701097,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/import_warning_spec.rb[1:3:2:1]","description":"should not generate any warnings","full_description":"BankFeeds::ImportWarning#deleted_transaction_warnings when non-deleted, bank feed transactions exist should not generate any warnings","status":"passed","file_path":"./spec/models/bank_feeds/import_warning_spec.rb","line_number":60,"run_time":0.116619441,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_export_spec.rb[1:1:1:1]","description":"returns the company export","full_description":"CompanyExport.available_for when accessing export as an account manager returns the company export","status":"passed","file_path":"./spec/models/company_export_spec.rb","line_number":20,"run_time":0.161692191,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_export_spec.rb[1:1:2:1]","description":"returns the company export","full_description":"CompanyExport.available_for when accessing export as a user with full access returns the company export","status":"passed","file_path":"./spec/models/company_export_spec.rb","line_number":30,"run_time":0.104554731,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_export_spec.rb[1:1:3:1]","description":"does not reuturn the company export","full_description":"CompanyExport.available_for when accessing export as a user with no file access does not reuturn the company export","status":"passed","file_path":"./spec/models/company_export_spec.rb","line_number":40,"run_time":0.116416845,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:1:1:2:7:3:2]","description":"posts one ledger entry to trade creditors for the gross value","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the cash accounting basis not on the Flat Rate Scheme Bank Account Entries for the payment of a bill representing business entertaining admin expense posts one ledger entry to trade creditors for the gross value","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":2509,"run_time":0.9036793,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_spec.rb[1:1:1]","description":"changes the status to :sent","full_description":"SubscriptionInvoice#mark_as_sent! changes the status to :sent","status":"passed","file_path":"./spec/models/subscription_invoice_spec.rb","line_number":11,"run_time":0.097148348,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_spec.rb[1:1:2]","description":"caches net and sales tax value","full_description":"SubscriptionInvoice#mark_as_sent! caches net and sales tax value","status":"passed","file_path":"./spec/models/subscription_invoice_spec.rb","line_number":15,"run_time":0.089724608,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_spec.rb[1:2:1]","description":"records the :auth_code if passed","full_description":"SubscriptionInvoice#build_subscription_payment records the :auth_code if passed","status":"passed","file_path":"./spec/models/subscription_invoice_spec.rb","line_number":23,"run_time":0.103453327,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_spec.rb[1:2:2]","description":"records attributes from the billing profile","full_description":"SubscriptionInvoice#build_subscription_payment records attributes from the billing profile","status":"passed","file_path":"./spec/models/subscription_invoice_spec.rb","line_number":28,"run_time":0.089419898,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_spec.rb[1:3:1:1]","description":"is expected to equal false","full_description":"SubscriptionInvoice#intra_eu_reverse_charge? with an invoice for a company based in the UK is expected to equal false","status":"passed","file_path":"./spec/models/subscription_invoice_spec.rb","line_number":51,"run_time":0.089718394,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_spec.rb[1:3:2:1:1]","description":"is expected to equal false","full_description":"SubscriptionInvoice#intra_eu_reverse_charge? with an invoice for a company based in the EU with MOSS sales tax included is expected to equal false","status":"passed","file_path":"./spec/models/subscription_invoice_spec.rb","line_number":62,"run_time":0.090482746,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_spec.rb[1:3:2:2:1]","description":"is expected to equal true","full_description":"SubscriptionInvoice#intra_eu_reverse_charge? with an invoice for a company based in the EU with no sales tax is expected to equal true","status":"passed","file_path":"./spec/models/subscription_invoice_spec.rb","line_number":70,"run_time":0.095385521,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_spec.rb[1:3:3:1]","description":"is expected to equal false","full_description":"SubscriptionInvoice#intra_eu_reverse_charge? with an invoice for a non-EU company is expected to equal false","status":"passed","file_path":"./spec/models/subscription_invoice_spec.rb","line_number":77,"run_time":0.107166403,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[3:17]","description":"shows the overdue amount with correct precision for an invoice with a partial payment","full_description":"InvoicesController GET :index shows the overdue amount with correct precision for an invoice with a partial payment","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":421,"run_time":0.775736703,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:1:2:1:2:1]","description":"which is still in draft","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the cash accounting basis on the Flat Rate Scheme (at 5%) Invoices Given a foreign currency invoice (exchange rate 2:1) with 3 line items in 2 categories which is still in draft","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":2961,"run_time":0.719447055,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/requests/delete_link_spec.rb[1:1:1:1:1]","description":"includes the customer id","full_description":"Tyl::Requests::DeleteLink behaves like an API request to a Tyl Pay-By-Link endpoint #url when communicating with the MVP API includes the customer id","status":"passed","file_path":"./spec/support/shared_examples/tyl.rb","line_number":15,"run_time":0.15205012,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/requests/delete_link_spec.rb[1:1:1:2:1]","description":"includes the customer id","full_description":"Tyl::Requests::DeleteLink behaves like an API request to a Tyl Pay-By-Link endpoint #url when communicating with the v2 API includes the customer id","status":"passed","file_path":"./spec/support/shared_examples/tyl.rb","line_number":21,"run_time":0.113301947,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/requests/delete_link_spec.rb[1:2:1]","description":"is expected to eq :delete","full_description":"Tyl::Requests::DeleteLink#request_method is expected to eq :delete","status":"passed","file_path":"./spec/integrations/tyl/requests/delete_link_spec.rb","line_number":18,"run_time":0.115819087,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/requests/delete_link_spec.rb[1:3:1:1]","description":"is expected to eq {:paymentUrlId=\u003e\"ondpozpqwljjibgsolgm\"}","full_description":"Tyl::Requests::DeleteLink#params when communicating with the MVP API is expected to eq {:paymentUrlId=\u003e\"ondpozpqwljjibgsolgm\"}","status":"passed","file_path":"./spec/integrations/tyl/requests/delete_link_spec.rb","line_number":27,"run_time":0.097753924,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/requests/delete_link_spec.rb[1:3:2:1]","description":"is expected to eq {:orderId=\u003e\"zfzducperinrzcrhjmug\"}","full_description":"Tyl::Requests::DeleteLink#params when communicating with the v2 API is expected to eq {:orderId=\u003e\"zfzducperinrzcrhjmug\"}","status":"passed","file_path":"./spec/integrations/tyl/requests/delete_link_spec.rb","line_number":31,"run_time":0.111172367,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:71:3:2]","description":"raises an error when calculating account totals if the required correction is more than the allowable amount","full_description":"Invoice Grouping invoice items by category A native invoice with six items in three categories raises an error when calculating account totals if the required correction is more than the allowable amount","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":2151,"run_time":0.630548953,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/feature_audit_spec.rb[1:1]","description":"does not report anything if the audit is clear","full_description":"Metrics::FeatureAudit does not report anything if the audit is clear","status":"passed","file_path":"./spec/models/metrics/feature_audit_spec.rb","line_number":6,"run_time":0.014199227,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/feature_audit_spec.rb[1:2]","description":"reports on the 25 oldest features per audit entry","full_description":"Metrics::FeatureAudit reports on the 25 oldest features per audit entry","status":"passed","file_path":"./spec/models/metrics/feature_audit_spec.rb","line_number":13,"run_time":0.149789078,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/feature_audit_spec.rb[1:3]","description":"reports if the audit finds offending features","full_description":"Metrics::FeatureAudit reports if the audit finds offending features","status":"passed","file_path":"./spec/models/metrics/feature_audit_spec.rb","line_number":67,"run_time":0.03659763,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/feature_audit_spec.rb[1:4:1]","description":"returns the features that have been fully enabled for more than 2 months and are also in DISABLED_DEFAULT_FEATURES","full_description":"Metrics::FeatureAudit disabled_by_default_features_that_are_fully_enabled returns the features that have been fully enabled for more than 2 months and are also in DISABLED_DEFAULT_FEATURES","status":"passed","file_path":"./spec/models/metrics/feature_audit_spec.rb","line_number":161,"run_time":0.018230815,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/feature_audit_spec.rb[1:5:1]","description":"returns the features that have been fully enabled for more than 6 months and are also in FEATURE_TOGGLES","full_description":"Metrics::FeatureAudit stale_fully_enabled_toggle_features returns the features that have been fully enabled for more than 6 months and are also in FEATURE_TOGGLES","status":"passed","file_path":"./spec/models/metrics/feature_audit_spec.rb","line_number":187,"run_time":0.01872503,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/feature_audit_spec.rb[1:6:1]","description":"returns all EXISTING_FEATUES that don't have a corresponding feature entry in the database","full_description":"Metrics::FeatureAudit orphaned_feature_names_not_in_database returns all EXISTING_FEATUES that don't have a corresponding feature entry in the database","status":"passed","file_path":"./spec/models/metrics/feature_audit_spec.rb","line_number":213,"run_time":0.011949877,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/feature_audit_spec.rb[1:7:1]","description":"returns all features from the database that no longer have a corresponding entry in EXISTING_FEATURES","full_description":"Metrics::FeatureAudit orphaned_features_still_in_database returns all features from the database that no longer have a corresponding entry in EXISTING_FEATURES","status":"passed","file_path":"./spec/models/metrics/feature_audit_spec.rb","line_number":221,"run_time":0.013708999,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/feature_audit_spec.rb[1:7:2]","description":"does not return bank_service_* features as they have no corresponding entry in EXISTING_FEATURES","full_description":"Metrics::FeatureAudit orphaned_features_still_in_database does not return bank_service_* features as they have no corresponding entry in EXISTING_FEATURES","status":"passed","file_path":"./spec/models/metrics/feature_audit_spec.rb","line_number":228,"run_time":0.014625399,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/feature_audit_spec.rb[1:8:1]","description":"returns stale features that are not in use by any users","full_description":"Metrics::FeatureAudit stale_features_not_fully_enabled returns stale features that are not in use by any users","status":"passed","file_path":"./spec/models/metrics/feature_audit_spec.rb","line_number":237,"run_time":0.022483853,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/feature_audit_spec.rb[1:9:1]","description":"returns stale scoped features that aren't scoped to any customers","full_description":"Metrics::FeatureAudit stale_features_scoped_to_zero_users returns stale scoped features that aren't scoped to any customers","status":"passed","file_path":"./spec/models/metrics/feature_audit_spec.rb","line_number":258,"run_time":0.041395798,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/request_cacheable_spec.rb[1:1]","description":"caches the request cacheable model","full_description":"RequestCacheable::Controller caches the request cacheable model","status":"passed","file_path":"./spec/controllers/concerns/request_cacheable_spec.rb","line_number":34,"run_time":0.131822009,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/request_cacheable_spec.rb[1:2]","description":"clears the cache after the request","full_description":"RequestCacheable::Controller clears the cache after the request","status":"passed","file_path":"./spec/controllers/concerns/request_cacheable_spec.rb","line_number":41,"run_time":0.410506818,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/request_cacheable_spec.rb[1:3]","description":"clears the cache even if an exception is raised","full_description":"RequestCacheable::Controller clears the cache even if an exception is raised","status":"passed","file_path":"./spec/controllers/concerns/request_cacheable_spec.rb","line_number":47,"run_time":0.648387138,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_bank_account_spec.rb[1:1]","description":"does not save when currency is not GBP","full_description":"GocardlessBankAccount does not save when currency is not GBP","status":"passed","file_path":"./spec/models/gocardless_bank_account_spec.rb","line_number":6,"run_time":0.014075103,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_bank_account_spec.rb[1:2]","description":"does not allow more than one gocardless account on a company","full_description":"GocardlessBankAccount does not allow more than one gocardless account on a company","status":"passed","file_path":"./spec/models/gocardless_bank_account_spec.rb","line_number":11,"run_time":0.045650305,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_bank_account_spec.rb[1:3]","description":"allows creating GoCardless accounts on different companies","full_description":"GocardlessBankAccount allows creating GoCardless accounts on different companies","status":"passed","file_path":"./spec/models/gocardless_bank_account_spec.rb","line_number":16,"run_time":0.173461696,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_bank_account_spec.rb[1:4:1]","description":"is false if the gocardless integration is enabled","full_description":"GocardlessBankAccount#is_deletable? is false if the gocardless integration is enabled","status":"passed","file_path":"./spec/models/gocardless_bank_account_spec.rb","line_number":24,"run_time":0.050811906,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_bank_account_spec.rb[1:4:2]","description":"is true if the gocardless integration is disabled","full_description":"GocardlessBankAccount#is_deletable? is true if the gocardless integration is disabled","status":"passed","file_path":"./spec/models/gocardless_bank_account_spec.rb","line_number":29,"run_time":0.047592786,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/login_with_bank/user_discovery_spec.rb[1:1:1:1]","description":"is expected to be empty","full_description":"Rbsg::LoginWithBank::UserDiscovery#find_users with no bin or cin is expected to be empty","status":"passed","file_path":"./spec/freeagent/rbsg/login_with_bank/user_discovery_spec.rb","line_number":20,"run_time":0.009994985,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/login_with_bank/user_discovery_spec.rb[1:1:2:1]","description":"is expected to be empty","full_description":"Rbsg::LoginWithBank::UserDiscovery#find_users with only a bin is expected to be empty","status":"passed","file_path":"./spec/freeagent/rbsg/login_with_bank/user_discovery_spec.rb","line_number":25,"run_time":0.015712474,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/login_with_bank/user_discovery_spec.rb[1:1:3:1]","description":"is expected to be empty","full_description":"Rbsg::LoginWithBank::UserDiscovery#find_users with a bin but the wrong cin is expected to be empty","status":"passed","file_path":"./spec/freeagent/rbsg/login_with_bank/user_discovery_spec.rb","line_number":33,"run_time":0.018624874,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/login_with_bank/user_discovery_spec.rb[1:1:4:1]","description":"is expected to be empty","full_description":"Rbsg::LoginWithBank::UserDiscovery#find_users with a cin but the wrong bin is expected to be empty","status":"passed","file_path":"./spec/freeagent/rbsg/login_with_bank/user_discovery_spec.rb","line_number":41,"run_time":0.021564606,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/login_with_bank/user_discovery_spec.rb[1:1:5:1]","description":"returns the user matching in a pair","full_description":"Rbsg::LoginWithBank::UserDiscovery#find_users with a single bin-cin pair returns the user matching in a pair","status":"passed","file_path":"./spec/freeagent/rbsg/login_with_bank/user_discovery_spec.rb","line_number":50,"run_time":0.020828958,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/login_with_bank/user_discovery_spec.rb[1:1:6:1]","description":"returns the user part of the matching pair","full_description":"Rbsg::LoginWithBank::UserDiscovery#find_users with a bin-cin pair and an extra cin returns the user part of the matching pair","status":"passed","file_path":"./spec/freeagent/rbsg/login_with_bank/user_discovery_spec.rb","line_number":64,"run_time":0.121363508,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/login_with_bank/user_discovery_spec.rb[1:1:7:1:1]","description":"returns the user part of the matching pair","full_description":"Rbsg::LoginWithBank::UserDiscovery#find_users with the same account linked to multiple companies with a bin-cin pair and an extra bin returns the user part of the matching pair","status":"passed","file_path":"./spec/freeagent/rbsg/login_with_bank/user_discovery_spec.rb","line_number":79,"run_time":0.093208858,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/login_with_bank/user_discovery_spec.rb[1:1:7:2:1]","description":"returns all users for matching pairs","full_description":"Rbsg::LoginWithBank::UserDiscovery#find_users with the same account linked to multiple companies with multiple bin-cin pairs returns all users for matching pairs","status":"passed","file_path":"./spec/freeagent/rbsg/login_with_bank/user_discovery_spec.rb","line_number":88,"run_time":0.120154915,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:1]","description":"should have a draft status constant","full_description":"Fapd::Billing::Invoice should have a draft status constant","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":5,"run_time":0.004472316,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:2]","description":"should have a sent status constant","full_description":"Fapd::Billing::Invoice should have a sent status constant","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":9,"run_time":0.00353025,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:3]","description":"is expected to validate that :dated_on cannot be empty/falsy","full_description":"Fapd::Billing::Invoice is expected to validate that :dated_on cannot be empty/falsy","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":13,"run_time":0.017338471,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:4]","description":"is expected to validate that :reference cannot be empty/falsy","full_description":"Fapd::Billing::Invoice is expected to validate that :reference cannot be empty/falsy","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":14,"run_time":0.010875268,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:5]","description":"is expected to validate that :currency cannot be empty/falsy","full_description":"Fapd::Billing::Invoice is expected to validate that :currency cannot be empty/falsy","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":15,"run_time":0.010990089,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:6]","description":"is expected to validate that :status cannot be empty/falsy","full_description":"Fapd::Billing::Invoice is expected to validate that :status cannot be empty/falsy","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":16,"run_time":0.010936539,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:7]","description":"is expected to allow :payment_option to be \"bacs\"","full_description":"Fapd::Billing::Invoice is expected to allow :payment_option to be \"bacs\"","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":19,"run_time":0.0049447,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:8]","description":"is expected to allow :payment_option to be \"gocardless\"","full_description":"Fapd::Billing::Invoice is expected to allow :payment_option to be \"gocardless\"","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":19,"run_time":0.004724736,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:9]","description":"is expected not to allow :payment_option to be \"cash\"","full_description":"Fapd::Billing::Invoice is expected not to allow :payment_option to be \"cash\"","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":21,"run_time":0.004497323,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:12]","description":"should validate the uniqueness of an invoice reference","full_description":"Fapd::Billing::Invoice should validate the uniqueness of an invoice reference","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":61,"run_time":0.00873527,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:23]","description":"should Be possible to change the status from draft to sent","full_description":"Fapd::Billing::Invoice should Be possible to change the status from draft to sent","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":333,"run_time":0.008183555,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:24]","description":"IBAN should match account number, sort code and BIC","full_description":"Fapd::Billing::Invoice IBAN should match account number, sort code and BIC","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":340,"run_time":0.003355783,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:10:1]","description":"should be valid as currency is billable","full_description":"Fapd::Billing::Invoice validate currency is a billable currency should be valid as currency is billable","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":28,"run_time":0.005080228,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:10:2]","description":"should be invalid and have an error message as currency is not billable","full_description":"Fapd::Billing::Invoice validate currency is a billable currency should be invalid and have an error message as currency is not billable","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":33,"run_time":0.005096153,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:11:1]","description":"should be valid with a draft status","full_description":"Fapd::Billing::Invoice validate status is either draft or sent should be valid with a draft status","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":45,"run_time":0.004653961,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:11:2]","description":"should be valid with a sent status","full_description":"Fapd::Billing::Invoice validate status is either draft or sent should be valid with a sent status","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":50,"run_time":0.004282754,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:11:3]","description":"should be invalid with another status","full_description":"Fapd::Billing::Invoice validate status is either draft or sent should be invalid with another status","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":55,"run_time":0.004342079,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:13:1]","description":"should have an assigned reference","full_description":"Fapd::Billing::Invoice reference should have an assigned reference","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":71,"run_time":0.003592149,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:14:1]","description":"should have an assigned currency","full_description":"Fapd::Billing::Invoice currency should have an assigned currency","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":78,"run_time":0.003730914,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:15:1]","description":"should have an assigned dated on","full_description":"Fapd::Billing::Invoice dated_on should have an assigned dated on","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":85,"run_time":0.004220947,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:16:1:1]","description":"should have net value of zero","full_description":"Fapd::Billing::Invoice net value when there are no invoice items should have net value of zero","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":98,"run_time":0.00442106,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:16:2:1]","description":"should have net value of zero","full_description":"Fapd::Billing::Invoice net value when there are invoice items each with a value of zero should have net value of zero","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":108,"run_time":0.012474383,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:16:3:1]","description":"should have net value","full_description":"Fapd::Billing::Invoice net value when there are invoice items each with a value that is not zero should have net value","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":118,"run_time":0.006766428,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:17:1]","description":"should not have sales tax when there are no invoice items","full_description":"Fapd::Billing::Invoice involves_sales_tax? should not have sales tax when there are no invoice items","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":125,"run_time":0.004805083,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:17:2:1]","description":"should not identify as having sales tax","full_description":"Fapd::Billing::Invoice involves_sales_tax? when there are invoice items where none have a sales tax rate should not identify as having sales tax","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":131,"run_time":0.006153918,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:17:3:1]","description":"should identify as having sales tax","full_description":"Fapd::Billing::Invoice involves_sales_tax? when there are invoice items where one item has a sales tax rate should identify as having sales tax","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":138,"run_time":0.006048613,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:17:4:1]","description":"should identify as having sales tax","full_description":"Fapd::Billing::Invoice involves_sales_tax? when there are invoice items each with a sales tax rate should identify as having sales tax","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":145,"run_time":0.005636561,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:18:1]","description":"should have one invoice item","full_description":"Fapd::Billing::Invoice add_item should have one invoice item","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":167,"run_time":0.011369313,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:18:2]","description":"should add the invoice item with the quantity","full_description":"Fapd::Billing::Invoice add_item should add the invoice item with the quantity","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":171,"run_time":0.011488304,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:18:3]","description":"should add the invoice item with the price","full_description":"Fapd::Billing::Invoice add_item should add the invoice item with the price","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":175,"run_time":0.010650782,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:18:4]","description":"should add the invoice item with the description","full_description":"Fapd::Billing::Invoice add_item should add the invoice item with the description","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":179,"run_time":0.011504759,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:18:5]","description":"should add the invoice item with the sales_tax_rate","full_description":"Fapd::Billing::Invoice add_item should add the invoice item with the sales_tax_rate","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":183,"run_time":0.012216685,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:19:1:1]","description":"should have no invoice items","full_description":"Fapd::Billing::Invoice sales tax value and total value with sales tax applied when there are no invoice items should have no invoice items","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":195,"run_time":0.006876257,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:19:1:2]","description":"should have a sales tax value of zero","full_description":"Fapd::Billing::Invoice sales tax value and total value with sales tax applied when there are no invoice items should have a sales tax value of zero","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":199,"run_time":0.005058923,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:19:1:3]","description":"should have a total value of zero","full_description":"Fapd::Billing::Invoice sales tax value and total value with sales tax applied when there are no invoice items should have a total value of zero","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":203,"run_time":0.004206463,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:19:2:1]","description":"should have invoice items","full_description":"Fapd::Billing::Invoice sales tax value and total value with sales tax applied when there are invoice items should have invoice items","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":214,"run_time":0.005631276,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:19:2:2]","description":"should have a sales tax value of twenty pence for the first invoice item","full_description":"Fapd::Billing::Invoice sales tax value and total value with sales tax applied when there are invoice items should have a sales tax value of twenty pence for the first invoice item","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":218,"run_time":0.005656017,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:19:2:3]","description":"should have a net value of one pound for the first invoice item","full_description":"Fapd::Billing::Invoice sales tax value and total value with sales tax applied when there are invoice items should have a net value of one pound for the first invoice item","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":222,"run_time":0.006275521,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:19:2:4]","description":"should have a sales tax value of one pound, twenty for the second invoice item","full_description":"Fapd::Billing::Invoice sales tax value and total value with sales tax applied when there are invoice items should have a sales tax value of one pound, twenty for the second invoice item","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":226,"run_time":0.005344583,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:19:2:5]","description":"should have a net_value of twelve pounds for the second invoice item","full_description":"Fapd::Billing::Invoice sales tax value and total value with sales tax applied when there are invoice items should have a net_value of twelve pounds for the second invoice item","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":230,"run_time":0.005627203,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:19:2:6]","description":"should have a total net value equal to the sum of the item subtotals","full_description":"Fapd::Billing::Invoice sales tax value and total value with sales tax applied when there are invoice items should have a total net value equal to the sum of the item subtotals","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":234,"run_time":0.005389486,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:19:2:7]","description":"should have a total sales tax value equal to the sum of the sales tax values of the items","full_description":"Fapd::Billing::Invoice sales tax value and total value with sales tax applied when there are invoice items should have a total sales tax value equal to the sum of the sales tax values of the items","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":238,"run_time":0.00406451,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:19:2:8]","description":"should have a total value equal to the total net value plus the total sales tax value","full_description":"Fapd::Billing::Invoice sales tax value and total value with sales tax applied when there are invoice items should have a total value equal to the total net value plus the total sales tax value","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":242,"run_time":0.003925346,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:20:1:1]","description":"should have no invoice items","full_description":"Fapd::Billing::Invoice sales tax value and total value without sales tax applied when there are no invoice items should have no invoice items","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":255,"run_time":0.003374222,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:20:1:2]","description":"should have a sales tax value of zero","full_description":"Fapd::Billing::Invoice sales tax value and total value without sales tax applied when there are no invoice items should have a sales tax value of zero","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":259,"run_time":0.002937607,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:20:1:3]","description":"should have a total net value of zero","full_description":"Fapd::Billing::Invoice sales tax value and total value without sales tax applied when there are no invoice items should have a total net value of zero","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":263,"run_time":0.002710682,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:20:1:4]","description":"should have a total value of zero","full_description":"Fapd::Billing::Invoice sales tax value and total value without sales tax applied when there are no invoice items should have a total value of zero","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":267,"run_time":0.00276016,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:20:2:1]","description":"should have invoice items","full_description":"Fapd::Billing::Invoice sales tax value and total value without sales tax applied when there are invoice items should have invoice items","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":278,"run_time":0.00373369,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:20:2:2]","description":"should have a total sales tax value of zero","full_description":"Fapd::Billing::Invoice sales tax value and total value without sales tax applied when there are invoice items should have a total sales tax value of zero","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":282,"run_time":0.003752302,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:20:2:3]","description":"should have a total net value equal to the sum of the item subtotals","full_description":"Fapd::Billing::Invoice sales tax value and total value without sales tax applied when there are invoice items should have a total net value equal to the sum of the item subtotals","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":286,"run_time":0.003514995,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:20:2:4]","description":"should have a total value equal to the net value","full_description":"Fapd::Billing::Invoice sales tax value and total value without sales tax applied when there are invoice items should have a total value equal to the net value","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":290,"run_time":0.003866584,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:21:1]","description":"should be false if there are no invoice items","full_description":"Fapd::Billing::Invoice discounted? should be false if there are no invoice items","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":297,"run_time":0.00297817,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:21:2]","description":"should be false if there are no discounted invoice items","full_description":"Fapd::Billing::Invoice discounted? should be false if there are no discounted invoice items","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":302,"run_time":0.003469185,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:21:3]","description":"should be true when there are discounted invoice items","full_description":"Fapd::Billing::Invoice discounted? should be true when there are discounted invoice items","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":307,"run_time":0.003764803,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:22:1]","description":"should group items by discount percentage","full_description":"Fapd::Billing::Invoice an invoice with some discounted items should group items by discount percentage","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":322,"run_time":0.015837361,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_spec.rb[1:25:1]","description":"returns a collection of clients ordered by discount rate, company type, and company name","full_description":"Fapd::Billing::Invoice#client_breakdown returns a collection of clients ordered by discount rate, company type, and company name","status":"passed","file_path":"./spec/models/fapd/billing/invoice_spec.rb","line_number":361,"run_time":0.023470547,"pending_message":null,"screenshot":null},{"id":"./spec/views/projects/edit.html.erb_spec.rb[1:1]","description":"shows PO Reference for non landlord companies","full_description":"projects/edit shows PO Reference for non landlord companies","status":"passed","file_path":"./spec/views/projects/edit.html.erb_spec.rb","line_number":9,"run_time":0.075861945,"pending_message":null,"screenshot":null},{"id":"./spec/views/projects/edit.html.erb_spec.rb[1:2:1]","description":"does not show the PO reference","full_description":"projects/edit as a UK landlord does not show the PO reference","status":"passed","file_path":"./spec/views/projects/edit.html.erb_spec.rb","line_number":18,"run_time":0.168612669,"pending_message":null,"screenshot":null},{"id":"./spec/views/projects/edit.html.erb_spec.rb[1:2:2]","description":"does not show the ir35 field","full_description":"projects/edit as a UK landlord does not show the ir35 field","status":"passed","file_path":"./spec/views/projects/edit.html.erb_spec.rb","line_number":24,"run_time":0.135254323,"pending_message":null,"screenshot":null}],"summary":{"duration":3.058796932,"example_count":498,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"498 examples, 0 failures"}