{"version":"3.11.0","messages":["Run options:\n  include {:ids=\u003e{\"./spec/models/invoice_spec.rb\"=\u003e[\"1:97:1:1:1\", \"1:77:1\", \"1:79:1\"]}}\n  exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/acceptance/vat/deregistration_corrections/writeoffs.feature[1:1:1]","description":"Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given the company is Invoice accounting for VAT, not on the FRS -\u003e And the company has the following invoices: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-07-01 -\u003e And the company filed its latest vat return -\u003e When invoice Invoice001 is written off on 2019-08-01 -\u003e Then the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 818 (VAT reclaimed) are: -\u003e And the company ledger entries for 819 (VAT Charged) are: -\u003e And there are no VAT affecting sales tax effects after 2019-07-01","full_description":"VAT de-registration on Invoice Basis Invoice is written off after de-registration, over six months after the due date. Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given the company is Invoice accounting for VAT, not on the FRS -\u003e And the company has the following invoices: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-07-01 -\u003e And the company filed its latest vat return -\u003e When invoice Invoice001 is written off on 2019-08-01 -\u003e Then the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 818 (VAT reclaimed) are: -\u003e And the company ledger entries for 819 (VAT Charged) are: -\u003e And there are no VAT affecting sales tax effects after 2019-07-01","status":"passed","file_path":"./spec/acceptance/vat/deregistration_corrections/writeoffs.feature","line_number":11,"run_time":5.486999402,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/deregistration_corrections/writeoffs.feature[1:2:1]","description":"Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given the company is Invoice accounting for VAT, not on the FRS -\u003e And the company has the following invoices: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e When invoice Invoice001 is written off on 2019-04-01 -\u003e Then the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are: -\u003e And there are no VAT affecting sales tax effects after 2019-03-31","full_description":"VAT de-registration on Invoice Basis Invoice is written off after de-registration, less six months after the due date. Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given the company is Invoice accounting for VAT, not on the FRS -\u003e And the company has the following invoices: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e When invoice Invoice001 is written off on 2019-04-01 -\u003e Then the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are: -\u003e And there are no VAT affecting sales tax effects after 2019-03-31","status":"passed","file_path":"./spec/acceptance/vat/deregistration_corrections/writeoffs.feature","line_number":38,"run_time":4.09871576,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/deregistration_corrections/writeoffs.feature[1:3:1]","description":"Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given the company is Invoice accounting for VAT, not on the FRS -\u003e And the company has the following invoices: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-08-31 -\u003e When invoice Invoice001 is written off on 2019-07-31 -\u003e Then the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 818 (VAT Reclaimed) are: -\u003e And there are no VAT affecting sales tax effects after 2019-08-31","full_description":"VAT de-registration on Invoice Basis Invoice is written off before de-registration, over six months after the due date Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given the company is Invoice accounting for VAT, not on the FRS -\u003e And the company has the following invoices: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-08-31 -\u003e When invoice Invoice001 is written off on 2019-07-31 -\u003e Then the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 818 (VAT Reclaimed) are: -\u003e And there are no VAT affecting sales tax effects after 2019-08-31","status":"passed","file_path":"./spec/acceptance/vat/deregistration_corrections/writeoffs.feature","line_number":60,"run_time":6.001761749,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/deregistration_corrections/writeoffs.feature[1:4:1]","description":"Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given the company is Invoice accounting for VAT, not on the FRS -\u003e And the company has the following invoices: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e When invoice Invoice001 is written off on 2019-03-29 -\u003e Then the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are: -\u003e And there are no VAT affecting sales tax effects after 2019-03-31","full_description":"VAT de-registration on Invoice Basis Invoice is written off before de-registration, less than six months after the due date Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given the company is Invoice accounting for VAT, not on the FRS -\u003e And the company has the following invoices: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e When invoice Invoice001 is written off on 2019-03-29 -\u003e Then the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are: -\u003e And there are no VAT affecting sales tax effects after 2019-03-31","status":"passed","file_path":"./spec/acceptance/vat/deregistration_corrections/writeoffs.feature","line_number":86,"run_time":5.443769819,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/deregistration_corrections/writeoffs.feature[1:5:1]","description":"Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given the company is Cash accounting for VAT, on the \"Entertainment or journalism\" flat rate scheme -\u003e And the company has the following invoices: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-05-31 -\u003e And the company filed its latest vat return -\u003e When invoice Invoice001 is written off on 2019-05-29 -\u003e Then the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are: -\u003e And the company ledger entries for 055 (Flat Rate Surplus) are: -\u003e And there are no VAT affecting sales tax effects after 2019-05-31","full_description":"VAT de-registration on Invoice Basis Invoice on cash basis is written off before de-registration, less than six months after the due date Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given the company is Cash accounting for VAT, on the \"Entertainment or journalism\" flat rate scheme -\u003e And the company has the following invoices: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-05-31 -\u003e And the company filed its latest vat return -\u003e When invoice Invoice001 is written off on 2019-05-29 -\u003e Then the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are: -\u003e And the company ledger entries for 055 (Flat Rate Surplus) are: -\u003e And there are no VAT affecting sales tax effects after 2019-05-31","status":"passed","file_path":"./spec/acceptance/vat/deregistration_corrections/writeoffs.feature","line_number":108,"run_time":6.167820533,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/deregistration_corrections/writeoffs.feature[1:6:1]","description":"Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given the company is Cash accounting for VAT, on the \"Entertainment or journalism\" flat rate scheme -\u003e And the company has the following invoices: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-05-31 -\u003e And the company filed its latest vat return -\u003e When invoice Invoice001 is written off on 2019-06-01 -\u003e Then the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are: -\u003e And the company ledger entries for 055 (Flat Rate Surplus) are: -\u003e And there are no VAT affecting sales tax effects after 2019-05-31","full_description":"VAT de-registration on Invoice Basis Invoice on cash basis is written off after de-registration, less six months after the due date. Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given the company is Cash accounting for VAT, on the \"Entertainment or journalism\" flat rate scheme -\u003e And the company has the following invoices: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-05-31 -\u003e And the company filed its latest vat return -\u003e When invoice Invoice001 is written off on 2019-06-01 -\u003e Then the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are: -\u003e And the company ledger entries for 055 (Flat Rate Surplus) are: -\u003e And there are no VAT affecting sales tax effects after 2019-05-31","status":"passed","file_path":"./spec/acceptance/vat/deregistration_corrections/writeoffs.feature","line_number":137,"run_time":6.734492194,"pending_message":null,"screenshot":null},{"id":"./spec/features/vat_return_period_spec.rb[1:1]","description":"Changing the first VAT return to a one month period","full_description":"VAT return period Changing the first VAT return to a one month period","status":"passed","file_path":"./spec/features/vat_return_period_spec.rb","line_number":20,"run_time":7.638924898,"pending_message":null,"screenshot":null},{"id":"./spec/features/vat_return_period_spec.rb[1:2]","description":"Changing the first VAT return to a one year period","full_description":"VAT return period Changing the first VAT return to a one year period","status":"passed","file_path":"./spec/features/vat_return_period_spec.rb","line_number":65,"run_time":8.365540835,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/invoice_calculations.feature[1:1:1]","description":"Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has a contact in United Kingdom named Joe Bloggs set to always charge VAT -\u003e And it has the following bank accounts: -\u003e Given the company has the following invoices: -\u003e Then the balance in 90 days will be calculated as '550.00'","full_description":"Invoice Calculations Calculate cashflow with an invoice within 90 days Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has a contact in United Kingdom named Joe Bloggs set to always charge VAT -\u003e And it has the following bank accounts: -\u003e Given the company has the following invoices: -\u003e Then the balance in 90 days will be calculated as '550.00'","status":"passed","file_path":"./spec/acceptance/cashflow/invoice_calculations.feature","line_number":15,"run_time":1.065771665,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/invoice_calculations.feature[1:2:1]","description":"Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has a contact in United Kingdom named Joe Bloggs set to always charge VAT -\u003e And it has the following bank accounts: -\u003e Given the company has the following invoices: -\u003e And a payment for 60 dated on 2020-03-15 is added for invoice reference TestInv1 -\u003e Then the balance in 90 days will be calculated as '550.00'","full_description":"Invoice Calculations Calculate cashflow with an invoice sent and paid within 90 days Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has a contact in United Kingdom named Joe Bloggs set to always charge VAT -\u003e And it has the following bank accounts: -\u003e Given the company has the following invoices: -\u003e And a payment for 60 dated on 2020-03-15 is added for invoice reference TestInv1 -\u003e Then the balance in 90 days will be calculated as '550.00'","status":"passed","file_path":"./spec/acceptance/cashflow/invoice_calculations.feature","line_number":21,"run_time":1.346111581,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/invoice_calculations.feature[1:3:1]","description":"Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has a contact in United Kingdom named Joe Bloggs set to always charge VAT -\u003e And it has the following bank accounts: -\u003e Given the company has the following draft invoices: -\u003e Then the balance in 90 days will be calculated as '500.00'","full_description":"Invoice Calculations Calculate cashflow with a draft invoice within 90 days Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has a contact in United Kingdom named Joe Bloggs set to always charge VAT -\u003e And it has the following bank accounts: -\u003e Given the company has the following draft invoices: -\u003e Then the balance in 90 days will be calculated as '500.00'","status":"passed","file_path":"./spec/acceptance/cashflow/invoice_calculations.feature","line_number":28,"run_time":0.983066079,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/invoice_calculations.feature[1:4:1]","description":"Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has a contact in United Kingdom named Joe Bloggs set to always charge VAT -\u003e And it has the following bank accounts: -\u003e Given the company has the following invoices: -\u003e Then the balance in 90 days will be calculated as '490.00'","full_description":"Invoice Calculations Calculate cashflow with an invoice due later than 90 days Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has a contact in United Kingdom named Joe Bloggs set to always charge VAT -\u003e And it has the following bank accounts: -\u003e Given the company has the following invoices: -\u003e Then the balance in 90 days will be calculated as '490.00'","status":"passed","file_path":"./spec/acceptance/cashflow/invoice_calculations.feature","line_number":34,"run_time":1.096291518,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/invoice_calculations.feature[1:5:1]","description":"Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has a contact in United Kingdom named Joe Bloggs set to always charge VAT -\u003e And it has the following bank accounts: -\u003e Given the company has the following invoices: -\u003e Then the balance in 90 days will be calculated as '550.00'","full_description":"Invoice Calculations Calculate cashflow with an invoice dated previously and due within 90 days Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has a contact in United Kingdom named Joe Bloggs set to always charge VAT -\u003e And it has the following bank accounts: -\u003e Given the company has the following invoices: -\u003e Then the balance in 90 days will be calculated as '550.00'","status":"passed","file_path":"./spec/acceptance/cashflow/invoice_calculations.feature","line_number":40,"run_time":1.074920896,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/invoice_calculations.feature[1:6:1]","description":"Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has a contact in United Kingdom named Joe Bloggs set to always charge VAT -\u003e And it has the following bank accounts: -\u003e Given the company has the following invoices: -\u003e Then the balance in 90 days will be calculated as '550.00'","full_description":"Invoice Calculations Calculate cashflow with a late unpaid invoice in the past Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has a contact in United Kingdom named Joe Bloggs set to always charge VAT -\u003e And it has the following bank accounts: -\u003e Given the company has the following invoices: -\u003e Then the balance in 90 days will be calculated as '550.00'","status":"passed","file_path":"./spec/acceptance/cashflow/invoice_calculations.feature","line_number":46,"run_time":1.673838591,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/invoice_calculations.feature[1:7:1]","description":"Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has a contact in United Kingdom named Joe Bloggs set to always charge VAT -\u003e And it has the following bank accounts: -\u003e Given the current date is 2020-02-01 -\u003e And the company has the following invoices: -\u003e When the current date is 2020-03-01 -\u003e And the company has the following invoices written off: -\u003e Then the balance in 90 days will be calculated as '490.00'","full_description":"Invoice Calculations Calculate cashflow with a written off invoice Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has a contact in United Kingdom named Joe Bloggs set to always charge VAT -\u003e And it has the following bank accounts: -\u003e Given the current date is 2020-02-01 -\u003e And the company has the following invoices: -\u003e When the current date is 2020-03-01 -\u003e And the company has the following invoices written off: -\u003e Then the balance in 90 days will be calculated as '490.00'","status":"passed","file_path":"./spec/acceptance/cashflow/invoice_calculations.feature","line_number":53,"run_time":1.157280236,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/invoice_calculations.feature[1:8:1]","description":"Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has a contact in United Kingdom named Joe Bloggs set to always charge VAT -\u003e And it has the following bank accounts: -\u003e Given the company has the following invoices: -\u003e And a payment for 20 dated on 2020-03-15 is added for invoice reference TestINV1 -\u003e Then the balance in 90 days will be calculated as '550.00'","full_description":"Invoice Calculations Calculate cashflow with a partial payment Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has a contact in United Kingdom named Joe Bloggs set to always charge VAT -\u003e And it has the following bank accounts: -\u003e Given the company has the following invoices: -\u003e And a payment for 20 dated on 2020-03-15 is added for invoice reference TestINV1 -\u003e Then the balance in 90 days will be calculated as '550.00'","status":"passed","file_path":"./spec/acceptance/cashflow/invoice_calculations.feature","line_number":64,"run_time":1.343752485,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/invoice_calculations.feature[1:9:1]","description":"Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has a contact in United Kingdom named Joe Bloggs set to always charge VAT -\u003e And it has the following bank accounts: -\u003e Given the company has the following invoices: -\u003e And a payment for 20 dated on 2020-03-15 is added for invoice reference TestINV1 -\u003e And a payment for 40 dated on 2020-03-17 is added for invoice reference TestINV1 -\u003e Then the balance in 90 days will be calculated as '550.00'","full_description":"Invoice Calculations Calculate cashflow with a partial payment then fully paid Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has a contact in United Kingdom named Joe Bloggs set to always charge VAT -\u003e And it has the following bank accounts: -\u003e Given the company has the following invoices: -\u003e And a payment for 20 dated on 2020-03-15 is added for invoice reference TestINV1 -\u003e And a payment for 40 dated on 2020-03-17 is added for invoice reference TestINV1 -\u003e Then the balance in 90 days will be calculated as '550.00'","status":"passed","file_path":"./spec/acceptance/cashflow/invoice_calculations.feature","line_number":71,"run_time":1.575937728,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/invoice_calculations.feature[1:10:1]","description":"Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has a contact in United Kingdom named Joe Bloggs set to always charge VAT -\u003e And it has the following bank accounts: -\u003e Given the company has the following invoices: -\u003e Then the balance in 90 days will be calculated as '493.44'","full_description":"Invoice Calculations Calculate cashflow with a non-GBP invoice Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has a contact in United Kingdom named Joe Bloggs set to always charge VAT -\u003e And it has the following bank accounts: -\u003e Given the company has the following invoices: -\u003e Then the balance in 90 days will be calculated as '493.44'","status":"passed","file_path":"./spec/acceptance/cashflow/invoice_calculations.feature","line_number":80,"run_time":0.991235158,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/inline_form/user_money_spec.rb[1:1:1]","description":"explaining a transaction as type","full_description":"Inline Banking - Money Received from User/Money Paid to User for type Money Received from User explaining a transaction as type","status":"passed","file_path":"./spec/features/new_banking/inline_form/user_money_spec.rb","line_number":12,"run_time":2.841888206,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/inline_form/user_money_spec.rb[1:1:2]","description":"specific accounts are showing for UK Limited company","full_description":"Inline Banking - Money Received from User/Money Paid to User for type Money Received from User specific accounts are showing for UK Limited company","status":"passed","file_path":"./spec/features/new_banking/inline_form/user_money_spec.rb","line_number":36,"run_time":1.552128413,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/inline_form/user_money_spec.rb[1:2:1]","description":"explain a transaction as dividend","full_description":"Inline Banking - Money Received from User/Money Paid to User for type Money Paid to User explain a transaction as dividend","status":"passed","file_path":"./spec/features/new_banking/inline_form/user_money_spec.rb","line_number":55,"run_time":8.053535201,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/inline_form/user_money_spec.rb[1:2:2]","description":"specific accounts are showing for UK Limited company","full_description":"Inline Banking - Money Received from User/Money Paid to User for type Money Paid to User specific accounts are showing for UK Limited company","status":"passed","file_path":"./spec/features/new_banking/inline_form/user_money_spec.rb","line_number":93,"run_time":1.611646788,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/listing_transactions_spec.rb[1:2]","description":"See a list of unexplained transactions for current month in ascending date order","full_description":"Listing transactions in banking See a list of unexplained transactions for current month in ascending date order","status":"passed","file_path":"./spec/features/new_banking/listing_transactions_spec.rb","line_number":98,"run_time":1.510780288,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/listing_transactions_spec.rb[1:3]","description":"Company does not have a short date format","full_description":"Listing transactions in banking Company does not have a short date format","status":"passed","file_path":"./spec/features/new_banking/listing_transactions_spec.rb","line_number":115,"run_time":1.564875341,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/listing_transactions_spec.rb[1:4]","description":"Ordering transactions in the Unexplained tab","full_description":"Listing transactions in banking Ordering transactions in the Unexplained tab","status":"passed","file_path":"./spec/features/new_banking/listing_transactions_spec.rb","line_number":124,"run_time":2.173318258,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/listing_transactions_spec.rb[1:1:1]","description":"Manual explanation","full_description":"Listing transactions in banking When there are different transaction types Manual explanation","status":"passed","file_path":"./spec/features/new_banking/listing_transactions_spec.rb","line_number":20,"run_time":1.512005711,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/listing_transactions_spec.rb[1:1:2]","description":"Explained transaction","full_description":"Listing transactions in banking When there are different transaction types Explained transaction","status":"passed","file_path":"./spec/features/new_banking/listing_transactions_spec.rb","line_number":36,"run_time":1.486792114,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/listing_transactions_spec.rb[1:1:3]","description":"Marked for review transaction","full_description":"Listing transactions in banking When there are different transaction types Marked for review transaction","status":"passed","file_path":"./spec/features/new_banking/listing_transactions_spec.rb","line_number":52,"run_time":1.597157723,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/listing_transactions_spec.rb[1:1:4]","description":"Personal unexplained transaction","full_description":"Listing transactions in banking When there are different transaction types Personal unexplained transaction","status":"passed","file_path":"./spec/features/new_banking/listing_transactions_spec.rb","line_number":73,"run_time":1.243375387,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/listing_transactions_spec.rb[1:1:5]","description":"Partially explained transaction","full_description":"Listing transactions in banking When there are different transaction types Partially explained transaction","status":"passed","file_path":"./spec/features/new_banking/listing_transactions_spec.rb","line_number":83,"run_time":1.417765834,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/company_currency_revaluation_job_spec.rb[1:1:1]","description":"only revalues foreign currency source items","full_description":"CompanyCurrencyRevaluationJob#perform only revalues foreign currency source items","status":"passed","file_path":"./spec/jobs/company_currency_revaluation_job_spec.rb","line_number":61,"run_time":1.325749557,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/company_currency_revaluation_job_spec.rb[1:1:2]","description":"revalues the account balances of contacts that belong to any updated source items","full_description":"CompanyCurrencyRevaluationJob#perform revalues the account balances of contacts that belong to any updated source items","status":"passed","file_path":"./spec/jobs/company_currency_revaluation_job_spec.rb","line_number":83,"run_time":2.129164915,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/company_currency_revaluation_job_spec.rb[1:2:1:1:1]","description":"does not call update_currency_gain_ledger_entries","full_description":"CompanyCurrencyRevaluationJob#revalue_bill_prepayments! with a foreign currency bill payment made from a foreign currency account when it is a post-payment does not call update_currency_gain_ledger_entries","status":"passed","file_path":"./spec/jobs/company_currency_revaluation_job_spec.rb","line_number":111,"run_time":0.588652134,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/company_currency_revaluation_job_spec.rb[1:2:1:2:1]","description":"calls update_currency_gain_ledger_entries","full_description":"CompanyCurrencyRevaluationJob#revalue_bill_prepayments! with a foreign currency bill payment made from a foreign currency account when it is a pre-payment calls update_currency_gain_ledger_entries","status":"passed","file_path":"./spec/jobs/company_currency_revaluation_job_spec.rb","line_number":124,"run_time":0.645697154,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/company_currency_revaluation_job_spec.rb[1:2:1:2:2:1]","description":"does not call update_currency_gain_ledger_entries","full_description":"CompanyCurrencyRevaluationJob#revalue_bill_prepayments! with a foreign currency bill payment made from a foreign currency account when it is a pre-payment when the bill is dated after the revaluation job from_date does not call update_currency_gain_ledger_entries","status":"passed","file_path":"./spec/jobs/company_currency_revaluation_job_spec.rb","line_number":144,"run_time":0.573916799,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/company_currency_revaluation_job_spec.rb[1:2:2:1]","description":"does not call update_currency_gain_ledger_entries","full_description":"CompanyCurrencyRevaluationJob#revalue_bill_prepayments! with a foreign currency bill payment made from a native currency account does not call update_currency_gain_ledger_entries","status":"passed","file_path":"./spec/jobs/company_currency_revaluation_job_spec.rb","line_number":169,"run_time":1.035913756,"pending_message":null,"screenshot":null},{"id":"./spec/features/getting_started_spec.rb[1:5:2:4:1:2:1]","description":"can complete setup","full_description":"Getting Started for an RBSG agent signup with Universal company type with the personalise_setup_stage feature flag enabled and the personalisation_interests_setup_stage flag disabled for NatWest can complete setup","status":"passed","file_path":"./spec/features/getting_started_spec.rb","line_number":503,"run_time":5.882748193,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:1:1:1]","description":"redirects to the policy dashboard","full_description":"AddonsAndConnections::Hiscox::ProfilesController GET new when company has already purchased a policy redirects to the policy dashboard","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":16,"run_time":0.16491226,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:1:1:2]","description":"does not fire the blank slate viewed event","full_description":"AddonsAndConnections::Hiscox::ProfilesController GET new when company has already purchased a policy does not fire the blank slate viewed event","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":22,"run_time":0.105698498,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:1:1:3]","description":"does not track new Hiscox customer in Salesforce","full_description":"AddonsAndConnections::Hiscox::ProfilesController GET new when company has already purchased a policy does not track new Hiscox customer in Salesforce","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":28,"run_time":0.167918304,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:1:2:1]","description":"returns a custom 404 page","full_description":"AddonsAndConnections::Hiscox::ProfilesController GET new when not eligible for a Hiscox guide price returns a custom 404 page","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":41,"run_time":0.204303389,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:1:3:1]","description":"renders the custom unauthorized template","full_description":"AddonsAndConnections::Hiscox::ProfilesController GET new when not the account owner renders the custom unauthorized template","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":55,"run_time":0.230698361,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:1:4:1:1]","description":"displays a helpful message","full_description":"AddonsAndConnections::Hiscox::ProfilesController GET new when eligible for a Hiscox guide price and the API is down displays a helpful message","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":72,"run_time":0.222083892,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:1:4:1:2]","description":"triggers the API down event","full_description":"AddonsAndConnections::Hiscox::ProfilesController GET new when eligible for a Hiscox guide price and the API is down triggers the API down event","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":78,"run_time":0.2192956,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:1:4:2:1:1]","description":"enqueues a policy status sync job to check for policy purchases","full_description":"AddonsAndConnections::Hiscox::ProfilesController GET new when eligible for a Hiscox guide price and the API is available existing customer profile enqueues a policy status sync job to check for policy purchases","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":94,"run_time":0.239207222,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:1:4:2:1:2]","description":"renders the blank slate","full_description":"AddonsAndConnections::Hiscox::ProfilesController GET new when eligible for a Hiscox guide price and the API is available existing customer profile renders the blank slate","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":102,"run_time":0.222513785,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:1:4:2:1:3]","description":"fires the blank slate viewed event","full_description":"AddonsAndConnections::Hiscox::ProfilesController GET new when eligible for a Hiscox guide price and the API is available existing customer profile fires the blank slate viewed event","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":109,"run_time":0.264224637,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:1:4:2:1:4]","description":"does not track new Hiscox customer in Salesforce","full_description":"AddonsAndConnections::Hiscox::ProfilesController GET new when eligible for a Hiscox guide price and the API is available existing customer profile does not track new Hiscox customer in Salesforce","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":114,"run_time":0.236112511,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:1:4:2:1:5]","description":"marks the user's Hiscox insight as read","full_description":"AddonsAndConnections::Hiscox::ProfilesController GET new when eligible for a Hiscox guide price and the API is available existing customer profile marks the user's Hiscox insight as read","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":122,"run_time":0.279303429,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:1:4:2:2:1]","description":"does not enqueue a policy status sync job to check for policy purchases","full_description":"AddonsAndConnections::Hiscox::ProfilesController GET new when eligible for a Hiscox guide price and the API is available new customer profile does not enqueue a policy status sync job to check for policy purchases","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":129,"run_time":0.208039011,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:1:4:2:2:2]","description":"renders the blank slate","full_description":"AddonsAndConnections::Hiscox::ProfilesController GET new when eligible for a Hiscox guide price and the API is available new customer profile renders the blank slate","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":135,"run_time":0.220824939,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:1:4:2:2:3]","description":"fires the blank slate viewed event","full_description":"AddonsAndConnections::Hiscox::ProfilesController GET new when eligible for a Hiscox guide price and the API is available new customer profile fires the blank slate viewed event","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":142,"run_time":0.209239246,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:1:4:2:2:4]","description":"does not track new Hiscox customer in Salesforce","full_description":"AddonsAndConnections::Hiscox::ProfilesController GET new when eligible for a Hiscox guide price and the API is available new customer profile does not track new Hiscox customer in Salesforce","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":147,"run_time":0.238630413,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:1:4:2:2:5]","description":"marks the user's Hiscox insight as read","full_description":"AddonsAndConnections::Hiscox::ProfilesController GET new when eligible for a Hiscox guide price and the API is available new customer profile marks the user's Hiscox insight as read","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":155,"run_time":0.27541557,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:2:1:1]","description":"requests the trades from API and returns a flattened array in JSON format","full_description":"AddonsAndConnections::Hiscox::ProfilesController GET #trades when company is Hiscox eligible requests the trades from API and returns a flattened array in JSON format","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":165,"run_time":0.144446441,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:2:2:1]","description":"renders the custom unauthorized template","full_description":"AddonsAndConnections::Hiscox::ProfilesController GET #trades when not the account owner renders the custom unauthorized template","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":192,"run_time":0.195071044,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:3:1:1:1:1]","description":"creates a new Hiscox profile","full_description":"AddonsAndConnections::Hiscox::ProfilesController POST #create when company is Hiscox eligible with valid params and no profile creates a new Hiscox profile","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":223,"run_time":0.125394726,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:3:1:1:1:2]","description":"redirect to the Covers Selection page","full_description":"AddonsAndConnections::Hiscox::ProfilesController POST #create when company is Hiscox eligible with valid params and no profile redirect to the Covers Selection page","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":232,"run_time":0.127181189,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:3:1:1:1:3]","description":"tracks guide price request in Salesforce","full_description":"AddonsAndConnections::Hiscox::ProfilesController POST #create when company is Hiscox eligible with valid params and no profile tracks guide price request in Salesforce","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":238,"run_time":0.130641712,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:3:1:1:1:4]","description":"sends guide price event to GA","full_description":"AddonsAndConnections::Hiscox::ProfilesController POST #create when company is Hiscox eligible with valid params and no profile sends guide price event to GA","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":244,"run_time":0.120222981,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:3:1:1:2:1]","description":"updates the profile with form params","full_description":"AddonsAndConnections::Hiscox::ProfilesController POST #create when company is Hiscox eligible with valid params and existing profile updates the profile with form params","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":258,"run_time":0.115943436,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:3:1:1:2:2]","description":"redirect to the Covers Selection page","full_description":"AddonsAndConnections::Hiscox::ProfilesController POST #create when company is Hiscox eligible with valid params and existing profile redirect to the Covers Selection page","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":266,"run_time":0.129675104,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:3:1:1:2:3]","description":"tracks guide price request in Salesforce","full_description":"AddonsAndConnections::Hiscox::ProfilesController POST #create when company is Hiscox eligible with valid params and existing profile tracks guide price request in Salesforce","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":272,"run_time":0.117594834,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:3:1:1:2:4]","description":"sends guide price event to GA","full_description":"AddonsAndConnections::Hiscox::ProfilesController POST #create when company is Hiscox eligible with valid params and existing profile sends guide price event to GA","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":278,"run_time":0.118894948,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:3:1:2:1:1]","description":"re-renders the blank slate with error message","full_description":"AddonsAndConnections::Hiscox::ProfilesController POST #create when company is Hiscox eligible with invalid params and no profile re-renders the blank slate with error message","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":300,"run_time":0.198571887,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:3:1:2:1:2]","description":"renders error message","full_description":"AddonsAndConnections::Hiscox::ProfilesController POST #create when company is Hiscox eligible with invalid params and no profile renders error message","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":306,"run_time":0.207095334,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:3:1:2:2:1]","description":"re-renders the blank slate with error message","full_description":"AddonsAndConnections::Hiscox::ProfilesController POST #create when company is Hiscox eligible with invalid params and existing profile re-renders the blank slate with error message","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":320,"run_time":0.189125767,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:3:1:2:2:2]","description":"renders error message","full_description":"AddonsAndConnections::Hiscox::ProfilesController POST #create when company is Hiscox eligible with invalid params and existing profile renders error message","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":326,"run_time":0.205004653,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:3:1:2:3:1]","description":"renders error message","full_description":"AddonsAndConnections::Hiscox::ProfilesController POST #create when company is Hiscox eligible with invalid params with a missing tradeID renders error message","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":343,"run_time":0.201751056,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:3:2:1]","description":"renders a custom 404 page","full_description":"AddonsAndConnections::Hiscox::ProfilesController POST #create when company is not Hiscox eligible renders a custom 404 page","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":357,"run_time":0.175818763,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb[1:3:3:1]","description":"renders the custom unauthorized template","full_description":"AddonsAndConnections::Hiscox::ProfilesController POST #create when not the account owner renders the custom unauthorized template","status":"passed","file_path":"./spec/controllers/addons_and_connections/hiscox/profiles_controller_spec.rb","line_number":372,"run_time":0.231360921,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2022_23/employment_allowance.feature[1:1:1]","description":"Given the current date is 2022-04-06 -\u003e And a UK Limited Company with a Director and an Employee -\u003e And the payroll year ends in 2023 -\u003e And Director's basic pay is 6000 per month -\u003e And Employee's basic pay is 3000 per month -\u003e Given Company registers for Employment Allowance -\u003e When Company creates Payroll Period for month 1 -\u003e Then Employment Allowance should be equal to Employer NI -\u003e And Director Employment Allowance should be equal to Director Employer NI -\u003e And Employee Employment Allowance should be equal to Employee Employer NI","full_description":"Employment Allowance in payroll year 2023  Given the current date is 2022-04-06 -\u003e And a UK Limited Company with a Director and an Employee -\u003e And the payroll year ends in 2023 -\u003e And Director's basic pay is 6000 per month -\u003e And Employee's basic pay is 3000 per month -\u003e Given Company registers for Employment Allowance -\u003e When Company creates Payroll Period for month 1 -\u003e Then Employment Allowance should be equal to Employer NI -\u003e And Director Employment Allowance should be equal to Director Employer NI -\u003e And Employee Employment Allowance should be equal to Employee Employer NI","status":"passed","file_path":"./spec/acceptance/payroll/2022_23/employment_allowance.feature","line_number":11,"run_time":0.389165189,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2022_23/employment_allowance.feature[1:2:1]","description":"Given the current date is 2022-04-06 -\u003e And a UK Limited Company with a Director and an Employee -\u003e And the payroll year ends in 2023 -\u003e And Director's basic pay is 6000 per month -\u003e And Employee's basic pay is 3000 per month -\u003e Given Company registers for Employment Allowance -\u003e When Company creates Payroll Period for month 1 -\u003e And Company creates Payroll Period for month 2 -\u003e And Company creates Payroll Period for month 3 -\u003e And Company creates Payroll Period for month 4 -\u003e And Company creates Payroll Period for month 5 -\u003e And Company creates Payroll Period for month 6 -\u003e Then Employment Allowance is used up before month 6 -\u003e And Director, Employee and total Employment Allowance for the current period should be 0","full_description":"Employment Allowance in payroll year 2023  Given the current date is 2022-04-06 -\u003e And a UK Limited Company with a Director and an Employee -\u003e And the payroll year ends in 2023 -\u003e And Director's basic pay is 6000 per month -\u003e And Employee's basic pay is 3000 per month -\u003e Given Company registers for Employment Allowance -\u003e When Company creates Payroll Period for month 1 -\u003e And Company creates Payroll Period for month 2 -\u003e And Company creates Payroll Period for month 3 -\u003e And Company creates Payroll Period for month 4 -\u003e And Company creates Payroll Period for month 5 -\u003e And Company creates Payroll Period for month 6 -\u003e Then Employment Allowance is used up before month 6 -\u003e And Director, Employee and total Employment Allowance for the current period should be 0","status":"passed","file_path":"./spec/acceptance/payroll/2022_23/employment_allowance.feature","line_number":18,"run_time":0.980164919,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2022_23/employment_allowance.feature[1:3:1]","description":"Given the current date is 2022-04-06 -\u003e And a UK Limited Company with a Director and an Employee -\u003e And the payroll year ends in 2023 -\u003e And Director's basic pay is 6000 per month -\u003e And Employee's basic pay is 3000 per month -\u003e Given Company creates Payroll Period for month 1 -\u003e And Company registers for Employment Allowance -\u003e And Director's salary changes to 5000 -\u003e And Company creates Payroll Period for month 2 -\u003e Then Employment Allowance should be equal to the total Employer NI -\u003e And Director Employment Allowance should be equal to the total Director Employer NI -\u003e And Employee Employment Allowance should be equal to the total Employee Employer NI","full_description":"Employment Allowance in payroll year 2023  Given the current date is 2022-04-06 -\u003e And a UK Limited Company with a Director and an Employee -\u003e And the payroll year ends in 2023 -\u003e And Director's basic pay is 6000 per month -\u003e And Employee's basic pay is 3000 per month -\u003e Given Company creates Payroll Period for month 1 -\u003e And Company registers for Employment Allowance -\u003e And Director's salary changes to 5000 -\u003e And Company creates Payroll Period for month 2 -\u003e Then Employment Allowance should be equal to the total Employer NI -\u003e And Director Employment Allowance should be equal to the total Director Employer NI -\u003e And Employee Employment Allowance should be equal to the total Employee Employer NI","status":"passed","file_path":"./spec/acceptance/payroll/2022_23/employment_allowance.feature","line_number":29,"run_time":0.46423912,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2022_23/employment_allowance.feature[1:4:1]","description":"Given the current date is 2022-04-06 -\u003e And a UK Limited Company with a Director and an Employee -\u003e And the payroll year ends in 2023 -\u003e And Director's basic pay is 6000 per month -\u003e And Employee's basic pay is 3000 per month -\u003e Given Company registers for Employment Allowance -\u003e When Company creates Payroll Period for month 1 -\u003e And Company creates Payroll Period for month 2 -\u003e And Company creates Payroll Period for month 3 -\u003e And Company creates Payroll Period for month 4 -\u003e And Company creates Payroll Period for month 5 -\u003e And Director's salary changes to 10000 -\u003e And it de-registers from Employment Allowance -\u003e And Company creates Payroll Period for month 6 -\u003e Then Employment Allowance is used up before month 6 -\u003e And Employment Allowance for this month should be equal to the negative total Employment Allowance until now -\u003e And Director Employment Allowance for this month should be equal to the negative total Director Employment Allowance until now -\u003e And Employee Employment Allowance for this month should be equal to the negative total Employee Employment Allowance until now","full_description":"Employment Allowance in payroll year 2023  Given the current date is 2022-04-06 -\u003e And a UK Limited Company with a Director and an Employee -\u003e And the payroll year ends in 2023 -\u003e And Director's basic pay is 6000 per month -\u003e And Employee's basic pay is 3000 per month -\u003e Given Company registers for Employment Allowance -\u003e When Company creates Payroll Period for month 1 -\u003e And Company creates Payroll Period for month 2 -\u003e And Company creates Payroll Period for month 3 -\u003e And Company creates Payroll Period for month 4 -\u003e And Company creates Payroll Period for month 5 -\u003e And Director's salary changes to 10000 -\u003e And it de-registers from Employment Allowance -\u003e And Company creates Payroll Period for month 6 -\u003e Then Employment Allowance is used up before month 6 -\u003e And Employment Allowance for this month should be equal to the negative total Employment Allowance until now -\u003e And Director Employment Allowance for this month should be equal to the negative total Director Employment Allowance until now -\u003e And Employee Employment Allowance for this month should be equal to the negative total Employee Employment Allowance until now","status":"passed","file_path":"./spec/acceptance/payroll/2022_23/employment_allowance.feature","line_number":38,"run_time":1.082587223,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2022_23/employment_allowance.feature[1:5:1]","description":"Given the current date is 2022-04-06 -\u003e And a UK Limited Company with a Director and an Employee -\u003e And the payroll year ends in 2023 -\u003e And Director's basic pay is 6000 per month -\u003e And Employee's basic pay is 3000 per month -\u003e Given Company registers for Employment Allowance -\u003e And Director's salary changes to 10000 -\u003e And Employee's salary changes to 0 -\u003e When Company creates Payroll Period for month 1 -\u003e And Company files Payroll Period for month 1 -\u003e And Admin sets basic pay to zero for the payslips in Payroll Period 1 -\u003e And Director's salary changes to 0 -\u003e And Company creates Payroll Period for month 2 -\u003e Then Employment Allowance for this month should be equal to the negative total Employment Allowance until now -\u003e And Director Employment Allowance for this month should be equal to the negative total Director Employment Allowance until now","full_description":"Employment Allowance in payroll year 2023  Given the current date is 2022-04-06 -\u003e And a UK Limited Company with a Director and an Employee -\u003e And the payroll year ends in 2023 -\u003e And Director's basic pay is 6000 per month -\u003e And Employee's basic pay is 3000 per month -\u003e Given Company registers for Employment Allowance -\u003e And Director's salary changes to 10000 -\u003e And Employee's salary changes to 0 -\u003e When Company creates Payroll Period for month 1 -\u003e And Company files Payroll Period for month 1 -\u003e And Admin sets basic pay to zero for the payslips in Payroll Period 1 -\u003e And Director's salary changes to 0 -\u003e And Company creates Payroll Period for month 2 -\u003e Then Employment Allowance for this month should be equal to the negative total Employment Allowance until now -\u003e And Director Employment Allowance for this month should be equal to the negative total Director Employment Allowance until now","status":"passed","file_path":"./spec/acceptance/payroll/2022_23/employment_allowance.feature","line_number":53,"run_time":0.546122288,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2022_23/employment_allowance.feature[1:6:1]","description":"Given the current date is 2022-04-06 -\u003e And a UK Limited Company with a Director and an Employee -\u003e And the payroll year ends in 2023 -\u003e And Director's basic pay is 6000 per month -\u003e And Employee's basic pay is 3000 per month -\u003e Given Director has been paid before FreeAgent and had Employer NI equal to 400 -\u003e And Employee has been paid before FreeAgent and had Employer NI equal to 400 -\u003e And Company registers for Employment Allowance -\u003e When Company creates Payroll Period for month 1 -\u003e Then total Employment Allowance should include Employment Allowance claimed before FreeAgent","full_description":"Employment Allowance in payroll year 2023  Given the current date is 2022-04-06 -\u003e And a UK Limited Company with a Director and an Employee -\u003e And the payroll year ends in 2023 -\u003e And Director's basic pay is 6000 per month -\u003e And Employee's basic pay is 3000 per month -\u003e Given Director has been paid before FreeAgent and had Employer NI equal to 400 -\u003e And Employee has been paid before FreeAgent and had Employer NI equal to 400 -\u003e And Company registers for Employment Allowance -\u003e When Company creates Payroll Period for month 1 -\u003e Then total Employment Allowance should include Employment Allowance claimed before FreeAgent","status":"passed","file_path":"./spec/acceptance/payroll/2022_23/employment_allowance.feature","line_number":65,"run_time":0.382618382,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2022_23/employment_allowance.feature[1:7:1]","description":"Given the current date is 2022-04-06 -\u003e And a UK Limited Company with a Director and an Employee -\u003e And the payroll year ends in 2023 -\u003e And Director's basic pay is 6000 per month -\u003e And Employee's basic pay is 3000 per month -\u003e Given Director has been paid before FreeAgent and had Employer NI equal to 400 -\u003e And Employee has been paid before FreeAgent and had Employer NI equal to 400 -\u003e And Company isn't registered for Employment Allowance -\u003e When Company creates Payroll Period for month 1 -\u003e Then Employment Allowance for this month should be 0","full_description":"Employment Allowance in payroll year 2023  Given the current date is 2022-04-06 -\u003e And a UK Limited Company with a Director and an Employee -\u003e And the payroll year ends in 2023 -\u003e And Director's basic pay is 6000 per month -\u003e And Employee's basic pay is 3000 per month -\u003e Given Director has been paid before FreeAgent and had Employer NI equal to 400 -\u003e And Employee has been paid before FreeAgent and had Employer NI equal to 400 -\u003e And Company isn't registered for Employment Allowance -\u003e When Company creates Payroll Period for month 1 -\u003e Then Employment Allowance for this month should be 0","status":"passed","file_path":"./spec/acceptance/payroll/2022_23/employment_allowance.feature","line_number":72,"run_time":0.322376419,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2022_23/employment_allowance.feature[1:8:1]","description":"Given the current date is 2022-04-06 -\u003e And a UK Limited Company with a Director and an Employee -\u003e And the payroll year ends in 2023 -\u003e And Director's basic pay is 6000 per month -\u003e And Employee's basic pay is 3000 per month -\u003e Given Director has been paid before FreeAgent and had Employer NI equal to 400 -\u003e And Employee has been paid before FreeAgent and had Employer NI equal to 400 -\u003e And Company registers for Employment Allowance -\u003e When Company creates Payroll Period for month 1 -\u003e And it de-registers from Employment Allowance -\u003e And Company creates Payroll Period for month 2 -\u003e Then Employment Allowance for this month should be equal to the negative total Employment Allowance until now -\u003e And Director Employment Allowance for this month should be equal to the negative total Director Employment Allowance until now -\u003e And Employee Employment Allowance for this month should be equal to the negative total Employee Employment Allowance until now","full_description":"Employment Allowance in payroll year 2023 Refunding a reclaim including migrated values Given the current date is 2022-04-06 -\u003e And a UK Limited Company with a Director and an Employee -\u003e And the payroll year ends in 2023 -\u003e And Director's basic pay is 6000 per month -\u003e And Employee's basic pay is 3000 per month -\u003e Given Director has been paid before FreeAgent and had Employer NI equal to 400 -\u003e And Employee has been paid before FreeAgent and had Employer NI equal to 400 -\u003e And Company registers for Employment Allowance -\u003e When Company creates Payroll Period for month 1 -\u003e And it de-registers from Employment Allowance -\u003e And Company creates Payroll Period for month 2 -\u003e Then Employment Allowance for this month should be equal to the negative total Employment Allowance until now -\u003e And Director Employment Allowance for this month should be equal to the negative total Director Employment Allowance until now -\u003e And Employee Employment Allowance for this month should be equal to the negative total Employee Employment Allowance until now","status":"passed","file_path":"./spec/acceptance/payroll/2022_23/employment_allowance.feature","line_number":79,"run_time":0.484242609,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2022_23/employment_allowance.feature[1:9:1]","description":"Given the current date is 2022-04-06 -\u003e And a UK Limited Company with a Director and an Employee -\u003e And the payroll year ends in 2023 -\u003e And Director's basic pay is 6000 per month -\u003e And Employee's basic pay is 3000 per month -\u003e Given Director has been paid before FreeAgent and had Employer NI equal to 1500 -\u003e And Employee has been paid before FreeAgent and had Employer NI equal to 1500 -\u003e When Company creates Payroll Period for month 1 -\u003e And Company files Payroll Period for month 1 -\u003e And Company registers for Employment Allowance -\u003e And Company creates Payroll Period for month 2 -\u003e Then Employment Allowance for this month should be 5000","full_description":"Employment Allowance in payroll year 2023 Starting to reclaim after month 1 with migrated values Given the current date is 2022-04-06 -\u003e And a UK Limited Company with a Director and an Employee -\u003e And the payroll year ends in 2023 -\u003e And Director's basic pay is 6000 per month -\u003e And Employee's basic pay is 3000 per month -\u003e Given Director has been paid before FreeAgent and had Employer NI equal to 1500 -\u003e And Employee has been paid before FreeAgent and had Employer NI equal to 1500 -\u003e When Company creates Payroll Period for month 1 -\u003e And Company files Payroll Period for month 1 -\u003e And Company registers for Employment Allowance -\u003e And Company creates Payroll Period for month 2 -\u003e Then Employment Allowance for this month should be 5000","status":"passed","file_path":"./spec/acceptance/payroll/2022_23/employment_allowance.feature","line_number":90,"run_time":0.469957836,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/partner_api_company_provisioner_spec.rb[1:1:1:1]","description":"is expected to be present","full_description":"Signups::PartnerApiCompanyProvisioner#initialize builds company is expected to be present","status":"passed","file_path":"./spec/freeagent/signups/partner_api_company_provisioner_spec.rb","line_number":19,"run_time":0.058977799,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/partner_api_company_provisioner_spec.rb[1:2:1:1]","description":"is expected to equal false","full_description":"Signups::PartnerApiCompanyProvisioner#valid? company and associations are invalid is expected to equal false","status":"passed","file_path":"./spec/freeagent/signups/partner_api_company_provisioner_spec.rb","line_number":28,"run_time":0.030119775,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/partner_api_company_provisioner_spec.rb[1:2:2:1]","description":"is expected to equal true","full_description":"Signups::PartnerApiCompanyProvisioner#valid? company and associations are valid is expected to equal true","status":"passed","file_path":"./spec/freeagent/signups/partner_api_company_provisioner_spec.rb","line_number":33,"run_time":0.055524467,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/partner_api_company_provisioner_spec.rb[1:3:1:1]","description":"is expected to be present","full_description":"Signups::PartnerApiCompanyProvisioner#all_errors company and associations are invalid is expected to be present","status":"passed","file_path":"./spec/freeagent/signups/partner_api_company_provisioner_spec.rb","line_number":45,"run_time":0.036542156,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/partner_api_company_provisioner_spec.rb[1:3:1:2]","description":"is expected to have key :company","full_description":"Signups::PartnerApiCompanyProvisioner#all_errors company and associations are invalid is expected to have key :company","status":"passed","file_path":"./spec/freeagent/signups/partner_api_company_provisioner_spec.rb","line_number":46,"run_time":0.032816954,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/partner_api_company_provisioner_spec.rb[1:3:1:3]","description":"has clear error messages","full_description":"Signups::PartnerApiCompanyProvisioner#all_errors company and associations are invalid has clear error messages","status":"passed","file_path":"./spec/freeagent/signups/partner_api_company_provisioner_spec.rb","line_number":48,"run_time":0.041111034,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/partner_api_company_provisioner_spec.rb[1:3:2:1]","description":"is expected not to be present","full_description":"Signups::PartnerApiCompanyProvisioner#all_errors company and associations are valid is expected not to be present","status":"passed","file_path":"./spec/freeagent/signups/partner_api_company_provisioner_spec.rb","line_number":55,"run_time":0.070070632,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/partner_api_company_provisioner_spec.rb[1:4:1:1]","description":"raises an error","full_description":"Signups::PartnerApiCompanyProvisioner#save! when company and associations are invalid raises an error","status":"passed","file_path":"./spec/freeagent/signups/partner_api_company_provisioner_spec.rb","line_number":62,"run_time":0.040678221,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/partner_api_company_provisioner_spec.rb[1:4:2:1]","description":"creates a company","full_description":"Signups::PartnerApiCompanyProvisioner#save! when company and associations are valid creates a company","status":"passed","file_path":"./spec/freeagent/signups/partner_api_company_provisioner_spec.rb","line_number":76,"run_time":0.601703069,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/partner_api_company_provisioner_spec.rb[1:4:2:2]","description":"creates a bank account","full_description":"Signups::PartnerApiCompanyProvisioner#save! when company and associations are valid creates a bank account","status":"passed","file_path":"./spec/freeagent/signups/partner_api_company_provisioner_spec.rb","line_number":80,"run_time":0.566130049,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/partner_api_company_provisioner_spec.rb[1:4:2:3]","description":"creates a bank account with guess enabled","full_description":"Signups::PartnerApiCompanyProvisioner#save! when company and associations are valid creates a bank account with guess enabled","status":"passed","file_path":"./spec/freeagent/signups/partner_api_company_provisioner_spec.rb","line_number":84,"run_time":0.611297195,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/partner_api_company_provisioner_spec.rb[1:5:1:1]","description":"when valid translates to business_category_id","full_description":"Signups::PartnerApiCompanyProvisioner params massaging business_category when valid translates to business_category_id","status":"passed","file_path":"./spec/freeagent/signups/partner_api_company_provisioner_spec.rb","line_number":105,"run_time":0.06623951,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/partner_api_company_provisioner_spec.rb[1:5:2:1]","description":"when valid translates to initial_vat_frs_type_index","full_description":"Signups::PartnerApiCompanyProvisioner params massaging initial_vat_frs_type when valid translates to initial_vat_frs_type_index","status":"passed","file_path":"./spec/freeagent/signups/partner_api_company_provisioner_spec.rb","line_number":112,"run_time":0.583694462,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/partner_api_company_provisioner_spec.rb[1:5:2:2]","description":"when invalid sets error","full_description":"Signups::PartnerApiCompanyProvisioner params massaging initial_vat_frs_type when invalid sets error","status":"passed","file_path":"./spec/freeagent/signups/partner_api_company_provisioner_spec.rb","line_number":120,"run_time":0.079884712,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/partner_api_company_provisioner_spec.rb[1:5:2:3]","description":"when not provided sets default value","full_description":"Signups::PartnerApiCompanyProvisioner params massaging initial_vat_frs_type when not provided sets default value","status":"passed","file_path":"./spec/freeagent/signups/partner_api_company_provisioner_spec.rb","line_number":126,"run_time":0.544643196,"pending_message":null,"screenshot":null},{"id":"./spec/tools/data_migrations/migrate_negative_invoice_to_credit_note_spec.rb[1:1:1:1]","description":"converts sent negative invoices to credit notes","full_description":"DataMigrations::MigrateNegativeInvoiceToCreditNote when migrating invoices to credit notes and the changes will be committed converts sent negative invoices to credit notes","status":"passed","file_path":"./spec/tools/data_migrations/migrate_negative_invoice_to_credit_note_spec.rb","line_number":32,"run_time":0.414472147,"pending_message":null,"screenshot":null},{"id":"./spec/tools/data_migrations/migrate_negative_invoice_to_credit_note_spec.rb[1:1:1:2]","description":"does not convert the draft negative invoices to credit notes","full_description":"DataMigrations::MigrateNegativeInvoiceToCreditNote when migrating invoices to credit notes and the changes will be committed does not convert the draft negative invoices to credit notes","status":"passed","file_path":"./spec/tools/data_migrations/migrate_negative_invoice_to_credit_note_spec.rb","line_number":46,"run_time":0.435583449,"pending_message":null,"screenshot":null},{"id":"./spec/tools/data_migrations/migrate_negative_invoice_to_credit_note_spec.rb[1:1:1:3]","description":"leaves the credit notes type unchanged","full_description":"DataMigrations::MigrateNegativeInvoiceToCreditNote when migrating invoices to credit notes and the changes will be committed leaves the credit notes type unchanged","status":"passed","file_path":"./spec/tools/data_migrations/migrate_negative_invoice_to_credit_note_spec.rb","line_number":53,"run_time":0.480147709,"pending_message":null,"screenshot":null},{"id":"./spec/tools/data_migrations/migrate_negative_invoice_to_credit_note_spec.rb[1:1:1:4]","description":"leaves the sent credit notes type unchanged","full_description":"DataMigrations::MigrateNegativeInvoiceToCreditNote when migrating invoices to credit notes and the changes will be committed leaves the sent credit notes type unchanged","status":"passed","file_path":"./spec/tools/data_migrations/migrate_negative_invoice_to_credit_note_spec.rb","line_number":60,"run_time":0.45235575,"pending_message":null,"screenshot":null},{"id":"./spec/tools/data_migrations/migrate_negative_invoice_to_credit_note_spec.rb[1:1:2:1]","description":"converts sent negative invoices to credit notes","full_description":"DataMigrations::MigrateNegativeInvoiceToCreditNote when migrating invoices to credit notes and running as a dry run converts sent negative invoices to credit notes","status":"passed","file_path":"./spec/tools/data_migrations/migrate_negative_invoice_to_credit_note_spec.rb","line_number":69,"run_time":0.425956447,"pending_message":null,"screenshot":null},{"id":"./spec/tools/data_migrations/migrate_negative_invoice_to_credit_note_spec.rb[1:1:2:2]","description":"does not convert the draft negative invoices to credit notes","full_description":"DataMigrations::MigrateNegativeInvoiceToCreditNote when migrating invoices to credit notes and running as a dry run does not convert the draft negative invoices to credit notes","status":"passed","file_path":"./spec/tools/data_migrations/migrate_negative_invoice_to_credit_note_spec.rb","line_number":83,"run_time":0.421926693,"pending_message":null,"screenshot":null},{"id":"./spec/tools/data_migrations/migrate_negative_invoice_to_credit_note_spec.rb[1:1:2:3]","description":"leaves the credit notes type unchanged","full_description":"DataMigrations::MigrateNegativeInvoiceToCreditNote when migrating invoices to credit notes and running as a dry run leaves the credit notes type unchanged","status":"passed","file_path":"./spec/tools/data_migrations/migrate_negative_invoice_to_credit_note_spec.rb","line_number":90,"run_time":0.347590275,"pending_message":null,"screenshot":null},{"id":"./spec/tools/data_migrations/migrate_negative_invoice_to_credit_note_spec.rb[1:1:2:4]","description":"leaves the sent credit notes type unchanged","full_description":"DataMigrations::MigrateNegativeInvoiceToCreditNote when migrating invoices to credit notes and running as a dry run leaves the sent credit notes type unchanged","status":"passed","file_path":"./spec/tools/data_migrations/migrate_negative_invoice_to_credit_note_spec.rb","line_number":97,"run_time":0.438298572,"pending_message":null,"screenshot":null},{"id":"./spec/tools/data_migrations/migrate_negative_invoice_to_credit_note_spec.rb[1:2:1:1]","description":"logs the error","full_description":"DataMigrations::MigrateNegativeInvoiceToCreditNote when verifying the data and a sent negative invoice exists logs the error","status":"passed","file_path":"./spec/tools/data_migrations/migrate_negative_invoice_to_credit_note_spec.rb","line_number":117,"run_time":0.213937834,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/saml_controller_spec.rb[1:1:1]","description":"creates sale","full_description":"SamlController Provisioning a new account creates sale","status":"passed","file_path":"./spec/controllers/saml_controller_spec.rb","line_number":33,"run_time":0.187736944,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/saml_controller_spec.rb[1:1:2]","description":"assigns reseller","full_description":"SamlController Provisioning a new account assigns reseller","status":"passed","file_path":"./spec/controllers/saml_controller_spec.rb","line_number":39,"run_time":0.195913813,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/saml_controller_spec.rb[1:1:3]","description":"assigns extended attributes","full_description":"SamlController Provisioning a new account assigns extended attributes","status":"passed","file_path":"./spec/controllers/saml_controller_spec.rb","line_number":44,"run_time":0.226065868,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/saml_controller_spec.rb[1:1:4]","description":"creates user","full_description":"SamlController Provisioning a new account creates user","status":"passed","file_path":"./spec/controllers/saml_controller_spec.rb","line_number":57,"run_time":0.188042858,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/saml_controller_spec.rb[1:1:5]","description":"publishes an activation event","full_description":"SamlController Provisioning a new account publishes an activation event","status":"passed","file_path":"./spec/controllers/saml_controller_spec.rb","line_number":61,"run_time":0.178639504,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/saml_controller_spec.rb[1:1:6]","description":"redirects to root","full_description":"SamlController Provisioning a new account redirects to root","status":"passed","file_path":"./spec/controllers/saml_controller_spec.rb","line_number":68,"run_time":0.199174101,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/saml_controller_spec.rb[1:1:7]","description":"logs in user","full_description":"SamlController Provisioning a new account logs in user","status":"passed","file_path":"./spec/controllers/saml_controller_spec.rb","line_number":73,"run_time":0.180964489,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/saml_controller_spec.rb[1:1:8]","description":"tracks that the user logged in via","full_description":"SamlController Provisioning a new account tracks that the user logged in via","status":"passed","file_path":"./spec/controllers/saml_controller_spec.rb","line_number":77,"run_time":0.197462103,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/saml_controller_spec.rb[1:1:9]","description":"tracks the company last_accessed_on","full_description":"SamlController Provisioning a new account tracks the company last_accessed_on","status":"passed","file_path":"./spec/controllers/saml_controller_spec.rb","line_number":81,"run_time":0.177236483,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/saml_controller_spec.rb[1:2:1]","description":"notifies the Error Service","full_description":"SamlController when an exception is raised during provisioning notifies the Error Service","status":"passed","file_path":"./spec/controllers/saml_controller_spec.rb","line_number":107,"run_time":0.009129257,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/saml_controller_spec.rb[1:2:2]","description":"includes the SAML response attributes as extra context in the exception notification","full_description":"SamlController when an exception is raised during provisioning includes the SAML response attributes as extra context in the exception notification","status":"passed","file_path":"./spec/controllers/saml_controller_spec.rb","line_number":112,"run_time":0.008376901,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/saml_controller_spec.rb[1:3:1]","description":"is expected to redirect to \"https://mybusinessworks.co.uk/app/welcome.do\"","full_description":"SamlController Provisioning an account with an invalid SAML request is expected to redirect to \"https://mybusinessworks.co.uk/app/welcome.do\"","status":"passed","file_path":"./spec/controllers/saml_controller_spec.rb","line_number":123,"run_time":0.036813123,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/saml_controller_spec.rb[1:4:1]","description":"creates sale","full_description":"SamlController Provisioning an account with long subdomain creates sale","status":"passed","file_path":"./spec/controllers/saml_controller_spec.rb","line_number":142,"run_time":0.152489594,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/saml_controller_spec.rb[1:5:1]","description":"creates sale","full_description":"SamlController Provisioning an account with a duplicate subdomain creates sale","status":"passed","file_path":"./spec/controllers/saml_controller_spec.rb","line_number":167,"run_time":0.148338418,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/saml_controller_spec.rb[1:6:1:1]","description":"has an http redirect status","full_description":"SamlController An existing user using a desktop browser has an http redirect status","status":"passed","file_path":"./spec/controllers/saml_controller_spec.rb","line_number":194,"run_time":0.172516348,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/saml_controller_spec.rb[1:6:1:2]","description":"logs in user and publishes the event","full_description":"SamlController An existing user using a desktop browser logs in user and publishes the event","status":"passed","file_path":"./spec/controllers/saml_controller_spec.rb","line_number":199,"run_time":0.144644717,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/saml_controller_spec.rb[1:6:1:3]","description":"updates user","full_description":"SamlController An existing user using a desktop browser updates user","status":"passed","file_path":"./spec/controllers/saml_controller_spec.rb","line_number":205,"run_time":0.14991115,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/saml_controller_spec.rb[1:6:1:4]","description":"does not update company","full_description":"SamlController An existing user using a desktop browser does not update company","status":"passed","file_path":"./spec/controllers/saml_controller_spec.rb","line_number":210,"run_time":0.159965381,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/saml_controller_spec.rb[1:6:2:1]","description":"logs in user and track the event","full_description":"SamlController An existing user using a mobile browser logs in user and track the event","status":"passed","file_path":"./spec/controllers/saml_controller_spec.rb","line_number":223,"run_time":0.167597816,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/saml_controller_spec.rb[1:6:2:2]","description":"updates user","full_description":"SamlController An existing user using a mobile browser updates user","status":"passed","file_path":"./spec/controllers/saml_controller_spec.rb","line_number":229,"run_time":0.169211036,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/saml_controller_spec.rb[1:6:2:3]","description":"does not update company","full_description":"SamlController An existing user using a mobile browser does not update company","status":"passed","file_path":"./spec/controllers/saml_controller_spec.rb","line_number":234,"run_time":0.16733505,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/saml_controller_spec.rb[1:7:1]","description":"is expected to respond with a redirect status code (3xx)","full_description":"SamlController A previously resold company that got migrated to Direct is expected to respond with a redirect status code (3xx)","status":"passed","file_path":"./spec/controllers/saml_controller_spec.rb","line_number":259,"run_time":0.159934183,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/saml_controller_spec.rb[1:7:2]","description":"is expected to redirect to \"http://subdomain000001.test.host/login\"","full_description":"SamlController A previously resold company that got migrated to Direct is expected to redirect to \"http://subdomain000001.test.host/login\"","status":"passed","file_path":"./spec/controllers/saml_controller_spec.rb","line_number":260,"run_time":0.121228526,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/saml_controller_spec.rb[1:8:1]","description":"is expected to respond with a success status code (2xx)","full_description":"SamlController An error ocurring is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/saml_controller_spec.rb","line_number":277,"run_time":0.037761258,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/saml_controller_spec.rb[1:9:1]","description":"is expected to redirect to \"FreeAgent Signup\"","full_description":"SamlController A GET request with no parameters is expected to redirect to \"FreeAgent Signup\"","status":"passed","file_path":"./spec/controllers/saml_controller_spec.rb","line_number":285,"run_time":0.008562149,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rules/open_banking_consent_expires_spec.rb[1:1]","description":"when consent is too far in the future, in the wrong state, not associated with any bank accounts or\n           belongs to the wrong company","full_description":"PracticeAlerts::Rules::OpenBankingConsentExpires when consent is too far in the future, in the wrong state, not associated with any bank accounts or\n           belongs to the wrong company","status":"passed","file_path":"./spec/models/practice_alerts/rules/open_banking_consent_expires_spec.rb","line_number":25,"run_time":0.626727431,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rules/open_banking_consent_expires_spec.rb[1:2:1]","description":"creates a notification about an expiring consent","full_description":"PracticeAlerts::Rules::OpenBankingConsentExpires creating notifications for expiring consents creates a notification about an expiring consent","status":"passed","file_path":"./spec/models/practice_alerts/rules/open_banking_consent_expires_spec.rb","line_number":71,"run_time":0.291844602,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rules/open_banking_consent_expires_spec.rb[1:2:2:1]","description":"does not create additional notifications","full_description":"PracticeAlerts::Rules::OpenBankingConsentExpires creating notifications for expiring consents a day on does not create additional notifications","status":"passed","file_path":"./spec/models/practice_alerts/rules/open_banking_consent_expires_spec.rb","line_number":85,"run_time":0.321634897,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rules/open_banking_consent_expires_spec.rb[1:2:3:1]","description":"the notification still persists","full_description":"PracticeAlerts::Rules::OpenBankingConsentExpires creating notifications for expiring consents consent has now expired but was not renewed the notification still persists","status":"passed","file_path":"./spec/models/practice_alerts/rules/open_banking_consent_expires_spec.rb","line_number":96,"run_time":0.280849638,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rules/open_banking_consent_expires_spec.rb[1:2:4:1]","description":"the notification goes away","full_description":"PracticeAlerts::Rules::OpenBankingConsentExpires creating notifications for expiring consents consent gets renewed the notification goes away","status":"passed","file_path":"./spec/models/practice_alerts/rules/open_banking_consent_expires_spec.rb","line_number":109,"run_time":0.552373799,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rules/open_banking_consent_expires_spec.rb[1:2:5:1]","description":"the notification goes away","full_description":"PracticeAlerts::Rules::OpenBankingConsentExpires creating notifications for expiring consents bank feed gets disabled the notification goes away","status":"passed","file_path":"./spec/models/practice_alerts/rules/open_banking_consent_expires_spec.rb","line_number":122,"run_time":0.360954301,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rules/open_banking_consent_expires_spec.rb[1:2:6:1]","description":"removes notifications that no longer fall within the threshold","full_description":"PracticeAlerts::Rules::OpenBankingConsentExpires creating notifications for expiring consents existing notification with updated consent expiry date removes notifications that no longer fall within the threshold","status":"passed","file_path":"./spec/models/practice_alerts/rules/open_banking_consent_expires_spec.rb","line_number":134,"run_time":0.316533206,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/single_sign_on_tenants_controller_spec.rb[1:1:1]","description":"is expected to respond with status code :ok (200)","full_description":"Admin::SingleSignOnTenantsController GET :index is expected to respond with status code :ok (200)","status":"passed","file_path":"./spec/controllers/admin/single_sign_on_tenants_controller_spec.rb","line_number":18,"run_time":0.056755544,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/single_sign_on_tenants_controller_spec.rb[1:1:2]","description":"is expected to render template index","full_description":"Admin::SingleSignOnTenantsController GET :index is expected to render template index","status":"passed","file_path":"./spec/controllers/admin/single_sign_on_tenants_controller_spec.rb","line_number":19,"run_time":0.037513913,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/single_sign_on_tenants_controller_spec.rb[1:2:1]","description":"is expected to respond with status code :ok (200)","full_description":"Admin::SingleSignOnTenantsController GET :new is expected to respond with status code :ok (200)","status":"passed","file_path":"./spec/controllers/admin/single_sign_on_tenants_controller_spec.rb","line_number":25,"run_time":0.033683297,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/single_sign_on_tenants_controller_spec.rb[1:2:2]","description":"is expected to render template new","full_description":"Admin::SingleSignOnTenantsController GET :new is expected to render template new","status":"passed","file_path":"./spec/controllers/admin/single_sign_on_tenants_controller_spec.rb","line_number":26,"run_time":0.029970301,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/single_sign_on_tenants_controller_spec.rb[1:3:1:1]","description":"creates a SingleSignOnTenant","full_description":"Admin::SingleSignOnTenantsController POST :create with valid params creates a SingleSignOnTenant","status":"passed","file_path":"./spec/controllers/admin/single_sign_on_tenants_controller_spec.rb","line_number":41,"run_time":0.218204402,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/single_sign_on_tenants_controller_spec.rb[1:3:2:1]","description":"renders the form","full_description":"Admin::SingleSignOnTenantsController POST :create with invalid params renders the form","status":"passed","file_path":"./spec/controllers/admin/single_sign_on_tenants_controller_spec.rb","line_number":58,"run_time":0.034502284,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/single_sign_on_tenants_controller_spec.rb[1:4:1]","description":"is expected to respond with status code :ok (200)","full_description":"Admin::SingleSignOnTenantsController GET :edit is expected to respond with status code :ok (200)","status":"passed","file_path":"./spec/controllers/admin/single_sign_on_tenants_controller_spec.rb","line_number":71,"run_time":0.391179146,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/single_sign_on_tenants_controller_spec.rb[1:4:2]","description":"is expected to render template edit","full_description":"Admin::SingleSignOnTenantsController GET :edit is expected to render template edit","status":"passed","file_path":"./spec/controllers/admin/single_sign_on_tenants_controller_spec.rb","line_number":72,"run_time":0.410776174,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/single_sign_on_tenants_controller_spec.rb[1:5:1:1]","description":"updates the SingleSignOnTenant","full_description":"Admin::SingleSignOnTenantsController PUT :update with valid params updates the SingleSignOnTenant","status":"passed","file_path":"./spec/controllers/admin/single_sign_on_tenants_controller_spec.rb","line_number":86,"run_time":0.341527495,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/single_sign_on_tenants_controller_spec.rb[1:5:2:1]","description":"renders the form","full_description":"Admin::SingleSignOnTenantsController PUT :update with invalid params renders the form","status":"passed","file_path":"./spec/controllers/admin/single_sign_on_tenants_controller_spec.rb","line_number":104,"run_time":0.569634158,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/single_sign_on_tenants_controller_spec.rb[1:6:1]","description":"destroys the SingleSignOnTenant","full_description":"Admin::SingleSignOnTenantsController DELETE :destroy destroys the SingleSignOnTenant","status":"passed","file_path":"./spec/controllers/admin/single_sign_on_tenants_controller_spec.rb","line_number":119,"run_time":0.216622574,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[28:1:2:8:1]","description":"does not show the PayPal payment as failed","full_description":"InvoicesController Viewing the online payment status of a newly created invoice Viewing the online payment status of a newly created invoice that is payable online that has a failed PayPal payment does not show the PayPal payment as failed","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":2715,"run_time":0.495331832,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/bank_transaction_metrics_spec.rb[1:1:1:1]","description":"has the expected headers","full_description":"Metrics::BankTransactionMetrics#write_csv the metrics export has the expected headers","status":"passed","file_path":"./spec/models/metrics/bank_transaction_metrics_spec.rb","line_number":56,"run_time":0.279051281,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/bank_transaction_metrics_spec.rb[1:1:1:2]","description":"snapshots the file at the current time","full_description":"Metrics::BankTransactionMetrics#write_csv the metrics export snapshots the file at the current time","status":"passed","file_path":"./spec/models/metrics/bank_transaction_metrics_spec.rb","line_number":80,"run_time":0.283513974,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/bank_transaction_metrics_spec.rb[1:1:1:3]","description":"has the correct number of rows","full_description":"Metrics::BankTransactionMetrics#write_csv the metrics export has the correct number of rows","status":"passed","file_path":"./spec/models/metrics/bank_transaction_metrics_spec.rb","line_number":84,"run_time":0.288778628,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/bank_transaction_metrics_spec.rb[1:1:1:4]","description":"the explained transaction has the expected attributes","full_description":"Metrics::BankTransactionMetrics#write_csv the metrics export the explained transaction has the expected attributes","status":"passed","file_path":"./spec/models/metrics/bank_transaction_metrics_spec.rb","line_number":88,"run_time":0.31605168,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/bank_transaction_metrics_spec.rb[1:1:1:5]","description":"the unexplained transaction has nil explanation attributes","full_description":"Metrics::BankTransactionMetrics#write_csv the metrics export the unexplained transaction has nil explanation attributes","status":"passed","file_path":"./spec/models/metrics/bank_transaction_metrics_spec.rb","line_number":97,"run_time":0.319745207,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/set_opening_balance_job_spec.rb[1:1:1:1]","description":"does not schedule OpenBanking::SetOpeningBalanceJob","full_description":"OpenBanking::SetOpeningBalanceJob.schedule when the authorised_account does not support balance at bank does not schedule OpenBanking::SetOpeningBalanceJob","status":"passed","file_path":"./spec/jobs/open_banking/set_opening_balance_job_spec.rb","line_number":35,"run_time":0.17348699,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/set_opening_balance_job_spec.rb[1:1:2:1]","description":"schedules OpenBanking::SetOpeningBalanceJob","full_description":"OpenBanking::SetOpeningBalanceJob.schedule when the authorised_account supports balance at bank schedules OpenBanking::SetOpeningBalanceJob","status":"passed","file_path":"./spec/jobs/open_banking/set_opening_balance_job_spec.rb","line_number":46,"run_time":0.142554819,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/set_opening_balance_job_spec.rb[1:2:1:1:1]","description":"rescues and logs the job_status: the job succeeds","full_description":"OpenBanking::SetOpeningBalanceJob#perform API error permission error rescues and logs the job_status: the job succeeds","status":"passed","file_path":"./spec/jobs/open_banking/set_opening_balance_job_spec.rb","line_number":65,"run_time":0.154551795,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/set_opening_balance_job_spec.rb[1:2:1:2:1]","description":"raises Jobs::FailAndRetry: the job errors","full_description":"OpenBanking::SetOpeningBalanceJob#perform API error other error raises Jobs::FailAndRetry: the job errors","status":"passed","file_path":"./spec/jobs/open_banking/set_opening_balance_job_spec.rb","line_number":82,"run_time":0.187761442,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/set_opening_balance_job_spec.rb[1:2:2:1]","description":"updates the cached first_date_balance_diverged_from_balance_at_bank","full_description":"OpenBanking::SetOpeningBalanceJob#perform when the authorised_account has a bank_account updates the cached first_date_balance_diverged_from_balance_at_bank","status":"passed","file_path":"./spec/jobs/open_banking/set_opening_balance_job_spec.rb","line_number":114,"run_time":0.318640328,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/set_opening_balance_job_spec.rb[1:2:2:2:1:1]","description":"updates the opening balance","full_description":"OpenBanking::SetOpeningBalanceJob#perform when the authorised_account has a bank_account updating the bank account opening balance there is a balance at bank on freeagent start date updates the opening balance","status":"passed","file_path":"./spec/jobs/open_banking/set_opening_balance_job_spec.rb","line_number":131,"run_time":0.190978386,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/set_opening_balance_job_spec.rb[1:2:2:2:2:1]","description":"do not set the opening balance to 0","full_description":"OpenBanking::SetOpeningBalanceJob#perform when the authorised_account has a bank_account updating the bank account opening balance there is no balance at bank on freeagent start date do not set the opening balance to 0","status":"passed","file_path":"./spec/jobs/open_banking/set_opening_balance_job_spec.rb","line_number":147,"run_time":0.171993406,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/set_opening_balance_job_spec.rb[1:2:3:1]","description":"does not populate any Balance at Bank records","full_description":"OpenBanking::SetOpeningBalanceJob#perform when the authorised_account does not have a bank_account does not populate any Balance at Bank records","status":"passed","file_path":"./spec/jobs/open_banking/set_opening_balance_job_spec.rb","line_number":160,"run_time":0.152010797,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/set_opening_balance_job_spec.rb[1:2:4:1]","description":"logs an error and completes successfully","full_description":"OpenBanking::SetOpeningBalanceJob#perform when the authorised_account is not associated with an open_banking_consent logs an error and completes successfully","status":"passed","file_path":"./spec/jobs/open_banking/set_opening_balance_job_spec.rb","line_number":175,"run_time":0.168981859,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/set_opening_balance_job_spec.rb[1:2:5:1]","description":"logs an error and completes successfully","full_description":"OpenBanking::SetOpeningBalanceJob#perform when the authorised_account is not in the database logs an error and completes successfully","status":"passed","file_path":"./spec/jobs/open_banking/set_opening_balance_job_spec.rb","line_number":193,"run_time":0.177171283,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/opening_balance_spec.rb[1:1]","description":"has Opening Balances as its section name","full_description":"Exporter::ExportableTypes::OpeningBalance has Opening Balances as its section name","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/opening_balance_spec.rb","line_number":19,"run_time":0.229818779,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/opening_balance_spec.rb[1:2]","description":"has no nested types","full_description":"Exporter::ExportableTypes::OpeningBalance has no nested types","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/opening_balance_spec.rb","line_number":23,"run_time":0.231811184,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/opening_balance_spec.rb[1:3]","description":"has correct headings, correctly ordered","full_description":"Exporter::ExportableTypes::OpeningBalance has correct headings, correctly ordered","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/opening_balance_spec.rb","line_number":27,"run_time":0.247993824,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/opening_balance_spec.rb[1:4]","description":"returns correct stock item values","full_description":"Exporter::ExportableTypes::OpeningBalance returns correct stock item values","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/opening_balance_spec.rb","line_number":37,"run_time":0.252755423,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/opening_balance_spec.rb[1:5]","description":"returns correct bank account values","full_description":"Exporter::ExportableTypes::OpeningBalance returns correct bank account values","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/opening_balance_spec.rb","line_number":47,"run_time":0.234458058,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/opening_balance_spec.rb[1:6]","description":"returns correct journal entry values","full_description":"Exporter::ExportableTypes::OpeningBalance returns correct journal entry values","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/opening_balance_spec.rb","line_number":57,"run_time":0.212645853,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/opening_balance_spec.rb[1:7]","description":"returns correct journal set values","full_description":"Exporter::ExportableTypes::OpeningBalance returns correct journal set values","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/opening_balance_spec.rb","line_number":67,"run_time":0.22716092,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/opening_balance_spec.rb[1:8]","description":"returns balanced journal entries","full_description":"Exporter::ExportableTypes::OpeningBalance returns balanced journal entries","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/opening_balance_spec.rb","line_number":77,"run_time":0.260900165,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/partner_identifiers_controller_spec.rb[1:1:1:1:1]","description":"deletes the correct partner identifier record","full_description":"Admin::Companies::PartnerIdentifiersController#destroy an admin superhero identifies-type: company deletes the correct partner identifier record","status":"passed","file_path":"./spec/controllers/admin/companies/partner_identifiers_controller_spec.rb","line_number":24,"run_time":0.119457254,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/partner_identifiers_controller_spec.rb[1:1:1:1:2:1]","description":"redirects to the admin company reseller tab","full_description":"Admin::Companies::PartnerIdentifiersController#destroy an admin superhero identifies-type: company when the admin user has the new_sudo_company_show_page feature redirects to the admin company reseller tab","status":"passed","file_path":"./spec/controllers/admin/companies/partner_identifiers_controller_spec.rb","line_number":44,"run_time":0.138998911,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/partner_identifiers_controller_spec.rb[1:1:2:1]","description":"is forbidden","full_description":"Admin::Companies::PartnerIdentifiersController#destroy a sudo user without :companies permission is forbidden","status":"passed","file_path":"./spec/controllers/admin/companies/partner_identifiers_controller_spec.rb","line_number":56,"run_time":0.133141211,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:2:2:4:1]","description":"representing cost of sales","full_description":"UkAccountsMapper Accounts Mapper for UK companies who have applied for VAT registration after their registration effective date Bills representing cost of sales","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":1924,"run_time":0.283298541,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:1:7:1]","description":"deletes company logo from s3","full_description":"Company::ForgetCompanyData Deleting all data for a VAT registered UK company for s3 objects deletes company logo from s3","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":135,"run_time":1.19685798,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/estimated_insurance_renewal_spec.rb[1:1:1:1:1]","description":"returns a category defined on the Insight model","full_description":"Radar::Insights::Rules::EstimatedInsuranceRenewal behaves like a reminder rule behaves like a ping rule #category returns a category defined on the Insight model","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":11,"run_time":0.004480624,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/estimated_insurance_renewal_spec.rb[1:1:1:2:1]","description":"returns a boolean","full_description":"Radar::Insights::Rules::EstimatedInsuranceRenewal behaves like a reminder rule behaves like a ping rule #send_notifications? returns a boolean","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":17,"run_time":0.004077735,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/estimated_insurance_renewal_spec.rb[1:1:2:1]","description":"returns 'reminder'","full_description":"Radar::Insights::Rules::EstimatedInsuranceRenewal behaves like a reminder rule #category returns 'reminder'","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rules/concerns/reminder_category.rb","line_number":12,"run_time":0.003423965,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/estimated_insurance_renewal_spec.rb[1:2:1]","description":"returns eligible users to be notified","full_description":"Radar::Insights::Rules::EstimatedInsuranceRenewal behaves like notifier for users with level 8 only returns eligible users to be notified","status":"passed","file_path":"./spec/support/shared_examples/insights_rules_permission_level_examples.rb","line_number":49,"run_time":0.044101059,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/estimated_insurance_renewal_spec.rb[1:2:2]","description":"does not return ineligible users to be notified","full_description":"Radar::Insights::Rules::EstimatedInsuranceRenewal behaves like notifier for users with level 8 only does not return ineligible users to be notified","status":"passed","file_path":"./spec/support/shared_examples/insights_rules_permission_level_examples.rb","line_number":53,"run_time":0.044347867,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/estimated_insurance_renewal_spec.rb[1:3:1]","description":"includes only companies with full access to the app","full_description":"Radar::Insights::Rules::EstimatedInsuranceRenewal#companies_for_evaluation includes only companies with full access to the app","status":"passed","file_path":"./spec/models/radar/insights/rules/estimated_insurance_renewal_spec.rb","line_number":13,"run_time":0.355331515,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/estimated_insurance_renewal_spec.rb[1:3:2]","description":"does not include practice managed companies","full_description":"Radar::Insights::Rules::EstimatedInsuranceRenewal#companies_for_evaluation does not include practice managed companies","status":"passed","file_path":"./spec/models/radar/insights/rules/estimated_insurance_renewal_spec.rb","line_number":22,"run_time":0.13989226,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/estimated_insurance_renewal_spec.rb[1:3:3]","description":"does not include landlord companies","full_description":"Radar::Insights::Rules::EstimatedInsuranceRenewal#companies_for_evaluation does not include landlord companies","status":"passed","file_path":"./spec/models/radar/insights/rules/estimated_insurance_renewal_spec.rb","line_number":30,"run_time":0.120352132,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/estimated_insurance_renewal_spec.rb[1:4:1:1]","description":"is expected to eq false","full_description":"Radar::Insights::Rules::EstimatedInsuranceRenewal#can_create_insight? when a company is not eligible for a Hiscox guide price is expected to eq false","status":"passed","file_path":"./spec/models/radar/insights/rules/estimated_insurance_renewal_spec.rb","line_number":45,"run_time":0.085706372,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/estimated_insurance_renewal_spec.rb[1:4:2:1]","description":"is expected to eq true","full_description":"Radar::Insights::Rules::EstimatedInsuranceRenewal#can_create_insight? when a company is eligible for a Hiscox guide price is expected to eq true","status":"passed","file_path":"./spec/models/radar/insights/rules/estimated_insurance_renewal_spec.rb","line_number":51,"run_time":0.101440199,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[3:7]","description":"switches and adds cookies","full_description":"InvoicesController GET :index switches and adds cookies","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":249,"run_time":0.469428936,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2016_17/student_loans.feature[1:1:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And student loan deduction Plan 1 applies -\u003e And they are paid 2000 monthly -\u003e When they run payroll for a period -\u003e Then the total deducted should be 48.00","full_description":"Payroll Student Loan Calculations 2017 Student Loan Plan 1 Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And student loan deduction Plan 1 applies -\u003e And they are paid 2000 monthly -\u003e When they run payroll for a period -\u003e Then the total deducted should be 48.00","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/student_loans.feature","line_number":10,"run_time":0.457091582,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2016_17/student_loans.feature[1:2:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And student loan deduction Plan 2 applies -\u003e And they are paid 2000 monthly -\u003e When they run payroll for a period -\u003e Then the total deducted should be 22.00","full_description":"Payroll Student Loan Calculations 2017 Student Loan Plan 2 Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And student loan deduction Plan 2 applies -\u003e And they are paid 2000 monthly -\u003e When they run payroll for a period -\u003e Then the total deducted should be 22.00","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/student_loans.feature","line_number":17,"run_time":0.372452793,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/health_checker_spec.rb[1:1:1]","description":"returns a list of check names","full_description":"HealthRobinson::HealthChecker.checks returns a list of check names","status":"passed","file_path":"./spec/models/health_robinson/health_checker_spec.rb","line_number":13,"run_time":0.00468272,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/health_checker_spec.rb[1:2:1]","description":"prints a nice description","full_description":"HealthRobinson::HealthChecker#to_s prints a nice description","status":"passed","file_path":"./spec/models/health_robinson/health_checker_spec.rb","line_number":19,"run_time":0.00560167,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/health_checker_spec.rb[1:3:1]","description":"returns a CheckResults object","full_description":"HealthRobinson::HealthChecker#run_checks returns a CheckResults object","status":"passed","file_path":"./spec/models/health_robinson/health_checker_spec.rb","line_number":27,"run_time":0.377218208,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/health_checker_spec.rb[1:3:2]","description":"runs all the checks","full_description":"HealthRobinson::HealthChecker#run_checks runs all the checks","status":"passed","file_path":"./spec/models/health_robinson/health_checker_spec.rb","line_number":31,"run_time":0.009980459,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/health_checker_spec.rb[1:3:3:1:1]","description":"runs only the checks specified","full_description":"HealthRobinson::HealthChecker#run_checks when options specified when only is being used runs only the checks specified","status":"passed","file_path":"./spec/models/health_robinson/health_checker_spec.rb","line_number":46,"run_time":0.006739906,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/health_checker_spec.rb[1:3:3:2:1]","description":"runs the checks excluding the one specified","full_description":"HealthRobinson::HealthChecker#run_checks when options specified when exclude is being used runs the checks excluding the one specified","status":"passed","file_path":"./spec/models/health_robinson/health_checker_spec.rb","line_number":58,"run_time":0.356341913,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates/additional_text_controller_spec.rb[1:1]","description":"renders the modal to change the default additional text","full_description":"Estimates::AdditionalTextController renders the modal to change the default additional text","status":"passed","file_path":"./spec/controllers/estimates/additional_text_controller_spec.rb","line_number":9,"run_time":0.036745333,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates/additional_text_controller_spec.rb[1:2]","description":"updates the default additional text","full_description":"Estimates::AdditionalTextController updates the default additional text","status":"passed","file_path":"./spec/controllers/estimates/additional_text_controller_spec.rb","line_number":14,"run_time":0.032808961,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/actions/overdue_invoices_action_spec.rb[1:1:1]","description":"returns the correct component","full_description":"Cashflow::Actions::OverdueInvoicesAction.component_class returns the correct component","status":"passed","file_path":"./spec/freeagent/cashflow/actions/overdue_invoices_action_spec.rb","line_number":13,"run_time":0.004233895,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/actions/overdue_invoices_action_spec.rb[1:2:1]","description":"returns false","full_description":"Cashflow::Actions::OverdueInvoicesAction#show? returns false","status":"passed","file_path":"./spec/freeagent/cashflow/actions/overdue_invoices_action_spec.rb","line_number":19,"run_time":0.008456519,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/actions/overdue_invoices_action_spec.rb[1:3:1:1]","description":"returns 2 (medium)","full_description":"Cashflow::Actions::OverdueInvoicesAction when a overdue invoice is present #weight returns 2 (medium)","status":"passed","file_path":"./spec/freeagent/cashflow/actions/overdue_invoices_action_spec.rb","line_number":46,"run_time":0.199731081,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/actions/overdue_invoices_action_spec.rb[1:3:2:1]","description":"returns true","full_description":"Cashflow::Actions::OverdueInvoicesAction when a overdue invoice is present #show? returns true","status":"passed","file_path":"./spec/freeagent/cashflow/actions/overdue_invoices_action_spec.rb","line_number":52,"run_time":0.190099584,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/actions/overdue_invoices_action_spec.rb[1:3:2:2:1]","description":"returns false","full_description":"Cashflow::Actions::OverdueInvoicesAction when a overdue invoice is present #show? if an override exists for the payment with excluded: true returns false","status":"passed","file_path":"./spec/freeagent/cashflow/actions/overdue_invoices_action_spec.rb","line_number":67,"run_time":0.187970546,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/account_manager_metrics_spec.rb[1:1:1]","description":"it should write a csv file in the expected location","full_description":"Metrics::AccountManagerMetrics#write_csv it should write a csv file in the expected location","status":"passed","file_path":"./spec/models/metrics/account_manager_metrics_spec.rb","line_number":15,"run_time":0.111068119,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/account_manager_metrics_spec.rb[1:1:2]","description":"should have the expected header","full_description":"Metrics::AccountManagerMetrics#write_csv should have the expected header","status":"passed","file_path":"./spec/models/metrics/account_manager_metrics_spec.rb","line_number":19,"run_time":0.100269542,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/account_manager_metrics_spec.rb[1:1:3]","description":"should have snapshot at Time.now","full_description":"Metrics::AccountManagerMetrics#write_csv should have snapshot at Time.now","status":"passed","file_path":"./spec/models/metrics/account_manager_metrics_spec.rb","line_number":32,"run_time":0.102060498,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/account_manager_metrics_spec.rb[1:1:4]","description":"should have the correct number of rows","full_description":"Metrics::AccountManagerMetrics#write_csv should have the correct number of rows","status":"passed","file_path":"./spec/models/metrics/account_manager_metrics_spec.rb","line_number":36,"run_time":0.1075528,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/account_manager_metrics_spec.rb[1:1:5]","description":"should have the expected field","full_description":"Metrics::AccountManagerMetrics#write_csv should have the expected field","status":"passed","file_path":"./spec/models/metrics/account_manager_metrics_spec.rb","line_number":40,"run_time":0.102483897,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:2:2:1:1:1]","description":"which is still in draft","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the invoice accounting basis on the Flat Rate Scheme (at 5%) Invoices Given a native currency invoice with 3 line items in 2 categories which is still in draft","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":4247,"run_time":0.665047745,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard/companies/notes_helper_spec.rb[1:1:1:1]","description":"gives permission when it is their own note","full_description":"PracticeDashboard::Companies::NotesHelper#has_permission_for_practice_client_note?(note) senior account manager gives permission when it is their own note","status":"passed","file_path":"./spec/helpers/practice_dashboard/companies/notes_helper_spec.rb","line_number":34,"run_time":0.195146041,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard/companies/notes_helper_spec.rb[1:1:1:2]","description":"gives permission when it is not their own note","full_description":"PracticeDashboard::Companies::NotesHelper#has_permission_for_practice_client_note?(note) senior account manager gives permission when it is not their own note","status":"passed","file_path":"./spec/helpers/practice_dashboard/companies/notes_helper_spec.rb","line_number":38,"run_time":0.18165173,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard/companies/notes_helper_spec.rb[1:1:2:1]","description":"gives permission when it is their own note","full_description":"PracticeDashboard::Companies::NotesHelper#has_permission_for_practice_client_note?(note) junior account manager gives permission when it is their own note","status":"passed","file_path":"./spec/helpers/practice_dashboard/companies/notes_helper_spec.rb","line_number":44,"run_time":0.215144607,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard/companies/notes_helper_spec.rb[1:1:2:2]","description":"does not give permission when it is not their own note","full_description":"PracticeDashboard::Companies::NotesHelper#has_permission_for_practice_client_note?(note) junior account manager does not give permission when it is not their own note","status":"passed","file_path":"./spec/helpers/practice_dashboard/companies/notes_helper_spec.rb","line_number":48,"run_time":0.146273363,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[2:8]","description":"with reverse cookie","full_description":"InvoicesController GET :index sort with reverse cookie","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":89,"run_time":0.383545718,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[2:5:1]","description":"in forward order","full_description":"InvoicesController GET :index sort sort by short_status in forward order","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":73,"run_time":0.389479363,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[2:5:2]","description":"in reverse order","full_description":"InvoicesController GET :index sort sort by short_status in reverse order","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":80,"run_time":0.334978227,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/tyl_payment_link_refresh_job_spec.rb[1:1:1]","description":"enqueues no job","full_description":"TylPaymentLinkRefreshJob for a link that doesn't need refreshing enqueues no job","status":"passed","file_path":"./spec/jobs/tyl_payment_link_refresh_job_spec.rb","line_number":11,"run_time":0.101042913,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/tyl_payment_link_refresh_job_spec.rb[1:2:1]","description":"enqueues a link management job","full_description":"TylPaymentLinkRefreshJob for a link that is expiring soon enqueues a link management job","status":"passed","file_path":"./spec/jobs/tyl_payment_link_refresh_job_spec.rb","line_number":19,"run_time":0.096783169,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/tyl_payment_link_refresh_job_spec.rb[1:3:1]","description":"enqueues a link management job","full_description":"TylPaymentLinkRefreshJob for a stale link enqueues a link management job","status":"passed","file_path":"./spec/jobs/tyl_payment_link_refresh_job_spec.rb","line_number":27,"run_time":0.127512888,"pending_message":null,"screenshot":null},{"id":"./spec/models/attribute_locking/stock_enabled_check_spec.rb[1:1:1]","description":"returns a reason","full_description":"AttributeLocking::StockEnabledCheck#reason returns a reason","status":"passed","file_path":"./spec/models/attribute_locking/stock_enabled_check_spec.rb","line_number":10,"run_time":0.096562099,"pending_message":null,"screenshot":null},{"id":"./spec/models/attribute_locking/stock_enabled_check_spec.rb[1:2:1:1]","description":"does not lock the company","full_description":"AttributeLocking::StockEnabledCheck#call with a company that supports cash accounting does not lock the company","status":"passed","file_path":"./spec/models/attribute_locking/stock_enabled_check_spec.rb","line_number":19,"run_time":0.078627348,"pending_message":null,"screenshot":null},{"id":"./spec/models/attribute_locking/stock_enabled_check_spec.rb[1:2:1:2:1]","description":"locks the company","full_description":"AttributeLocking::StockEnabledCheck#call with a company that supports cash accounting with stock items locks the company","status":"passed","file_path":"./spec/models/attribute_locking/stock_enabled_check_spec.rb","line_number":28,"run_time":0.099034619,"pending_message":null,"screenshot":null},{"id":"./spec/models/attribute_locking/stock_enabled_check_spec.rb[1:2:2:1]","description":"does not lock the company","full_description":"AttributeLocking::StockEnabledCheck#call with a company that does not support cash accounting does not lock the company","status":"passed","file_path":"./spec/models/attribute_locking/stock_enabled_check_spec.rb","line_number":37,"run_time":0.004872725,"pending_message":null,"screenshot":null},{"id":"./spec/models/attribute_locking/stock_enabled_check_spec.rb[1:2:2:2:1]","description":"does not lock the company","full_description":"AttributeLocking::StockEnabledCheck#call with a company that does not support cash accounting with stock items does not lock the company","status":"passed","file_path":"./spec/models/attribute_locking/stock_enabled_check_spec.rb","line_number":46,"run_time":0.026200231,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template/new_invoice_email_template_spec.rb[1:1:1]","description":"returns the default body for new invoice emails","full_description":"EmailTemplate when the email template is a new invoice email #new_invoice_default_body returns the default body for new invoice emails","status":"passed","file_path":"./spec/models/email_template/new_invoice_email_template_spec.rb","line_number":9,"run_time":0.003335196,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template/new_invoice_email_template_spec.rb[1:2:1]","description":"is expected to eq \"new_invoice\"","full_description":"EmailTemplate when the email template is a new invoice email #new_invoice_with_defaults is expected to eq \"new_invoice\"","status":"passed","file_path":"./spec/models/email_template/new_invoice_email_template_spec.rb","line_number":29,"run_time":0.018315705,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template/new_invoice_email_template_spec.rb[1:2:2]","description":"is expected to eq #\u003cUkLimitedCompany id: , name: \"Subscribed\"\u003e","full_description":"EmailTemplate when the email template is a new invoice email #new_invoice_with_defaults is expected to eq #\u003cUkLimitedCompany id: , name: \"Subscribed\"\u003e","status":"passed","file_path":"./spec/models/email_template/new_invoice_email_template_spec.rb","line_number":30,"run_time":0.013279951,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template/new_invoice_email_template_spec.rb[1:2:3]","description":"is expected to eq \"[billing_or_contact_email]\"","full_description":"EmailTemplate when the email template is a new invoice email #new_invoice_with_defaults is expected to eq \"[billing_or_contact_email]\"","status":"passed","file_path":"./spec/models/email_template/new_invoice_email_template_spec.rb","line_number":31,"run_time":0.012060578,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template/new_invoice_email_template_spec.rb[1:2:4]","description":"is expected to eq \"Invoice [reference]\"","full_description":"EmailTemplate when the email template is a new invoice email #new_invoice_with_defaults is expected to eq \"Invoice [reference]\"","status":"passed","file_path":"./spec/models/email_template/new_invoice_email_template_spec.rb","line_number":32,"run_time":0.012483185,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template/new_invoice_email_template_spec.rb[1:2:5]","description":"is expected to eq \"\u003cp\u003eHi [contact_first_name],\u003c/p\u003e\\n\\n\u003cp\u003ePlease find attached your latest invoice.\u003c/p\u003e\\n\\n\u003cp\u003eMany thank...reeAgent to send my invoices. Get a 10% lifetime discount by signing up here: [referral_link]\u003c/p\u003e\\n\"","full_description":"EmailTemplate when the email template is a new invoice email #new_invoice_with_defaults is expected to eq \"\u003cp\u003eHi [contact_first_name],\u003c/p\u003e\\n\\n\u003cp\u003ePlease find attached your latest invoice.\u003c/p\u003e\\n\\n\u003cp\u003eMany thank...reeAgent to send my invoices. Get a 10% lifetime discount by signing up here: [referral_link]\u003c/p\u003e\\n\"","status":"passed","file_path":"./spec/models/email_template/new_invoice_email_template_spec.rb","line_number":33,"run_time":0.011823007,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template/new_invoice_email_template_spec.rb[1:2:6:1]","description":"returns the appropriate default body for whitelabel companies","full_description":"EmailTemplate when the email template is a new invoice email #new_invoice_with_defaults with a whitelabeled company returns the appropriate default body for whitelabel companies","status":"passed","file_path":"./spec/models/email_template/new_invoice_email_template_spec.rb","line_number":40,"run_time":0.042700425,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template/new_invoice_email_template_spec.rb[1:2:7:1]","description":"returns the appropriate default body for whitelabel companies","full_description":"EmailTemplate when the email template is a new invoice email #new_invoice_with_defaults with a fapdrbsg company returns the appropriate default body for whitelabel companies","status":"passed","file_path":"./spec/models/email_template/new_invoice_email_template_spec.rb","line_number":49,"run_time":0.060672045,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template/new_invoice_email_template_spec.rb[1:2:7:2]","description":"does not include a referral link","full_description":"EmailTemplate when the email template is a new invoice email #new_invoice_with_defaults with a fapdrbsg company does not include a referral link","status":"passed","file_path":"./spec/models/email_template/new_invoice_email_template_spec.rb","line_number":53,"run_time":0.064441487,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template/new_invoice_email_template_spec.rb[1:2:8:1]","description":"returns the appropriate default body for whitelabel companies","full_description":"EmailTemplate when the email template is a new invoice email #new_invoice_with_defaults with a rbsg company returns the appropriate default body for whitelabel companies","status":"passed","file_path":"./spec/models/email_template/new_invoice_email_template_spec.rb","line_number":49,"run_time":0.02116966,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template/new_invoice_email_template_spec.rb[1:2:8:2]","description":"does not include a referral link","full_description":"EmailTemplate when the email template is a new invoice email #new_invoice_with_defaults with a rbsg company does not include a referral link","status":"passed","file_path":"./spec/models/email_template/new_invoice_email_template_spec.rb","line_number":53,"run_time":0.020311965,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template/new_invoice_email_template_spec.rb[1:3:1]","description":"is expected to allow :before_after to be \"blah\"","full_description":"EmailTemplate when the email template is a new invoice email when validating the new invoice email template is expected to allow :before_after to be \"blah\"","status":"passed","file_path":"./spec/models/email_template/new_invoice_email_template_spec.rb","line_number":63,"run_time":0.01630167,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template/new_invoice_email_template_spec.rb[1:3:2]","description":"is expected not to validate that :reminder_period_in_days looks like a number","full_description":"EmailTemplate when the email template is a new invoice email when validating the new invoice email template is expected not to validate that :reminder_period_in_days looks like a number","status":"passed","file_path":"./spec/models/email_template/new_invoice_email_template_spec.rb","line_number":64,"run_time":0.014953823,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template/new_invoice_email_template_spec.rb[1:4:1]","description":"does not define reminder rules","full_description":"EmailTemplate when the email template is a new invoice email #rule does not define reminder rules","status":"passed","file_path":"./spec/models/email_template/new_invoice_email_template_spec.rb","line_number":70,"run_time":0.011029082,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template/new_invoice_email_template_spec.rb[1:5:1]","description":"is expected to be blank","full_description":"EmailTemplate when the email template is a new invoice email #next_reminder_details is expected to be blank","status":"passed","file_path":"./spec/models/email_template/new_invoice_email_template_spec.rb","line_number":81,"run_time":0.010545628,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template/new_invoice_email_template_spec.rb[1:6:1]","description":"is expected to eql \"Special---name_Invoice_[reference]\"","full_description":"EmailTemplate when the email template is a new invoice email #filename is expected to eql \"Special---name_Invoice_[reference]\"","status":"passed","file_path":"./spec/models/email_template/new_invoice_email_template_spec.rb","line_number":90,"run_time":0.010929944,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/notes_helper_spec.rb[1:1:1:1]","description":"returns the admin company notes path","full_description":"Admin::NotesHelper#admin_notes_path with a company returns the admin company notes path","status":"passed","file_path":"./spec/helpers/admin/notes_helper_spec.rb","line_number":12,"run_time":0.014549606,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/notes_helper_spec.rb[1:1:2:1]","description":"returns the admin company notes path","full_description":"Admin::NotesHelper#admin_notes_path with an accountancy practice returns the admin company notes path","status":"passed","file_path":"./spec/helpers/admin/notes_helper_spec.rb","line_number":22,"run_time":0.010488913,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/notes_helper_spec.rb[1:2:1:1]","description":"returns the admin company notes path","full_description":"Admin::NotesHelper#edit_admin_notes_path with a company returns the admin company notes path","status":"passed","file_path":"./spec/helpers/admin/notes_helper_spec.rb","line_number":36,"run_time":0.017472243,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/notes_helper_spec.rb[1:2:2:1]","description":"returns the admin company notes path","full_description":"Admin::NotesHelper#edit_admin_notes_path with an accountancy practice returns the admin company notes path","status":"passed","file_path":"./spec/helpers/admin/notes_helper_spec.rb","line_number":46,"run_time":0.029193834,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/notes_helper_spec.rb[1:3:1:1]","description":"returns the admin company notes path","full_description":"Admin::NotesHelper#admin_note_path with a company returns the admin company notes path","status":"passed","file_path":"./spec/helpers/admin/notes_helper_spec.rb","line_number":60,"run_time":0.050928366,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/notes_helper_spec.rb[1:3:2:1]","description":"returns the admin company notes path","full_description":"Admin::NotesHelper#admin_note_path with an accountancy practice returns the admin company notes path","status":"passed","file_path":"./spec/helpers/admin/notes_helper_spec.rb","line_number":70,"run_time":0.047946961,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/contact_addressable_spec.rb[1:2]","description":"delegates organisation name to contact","full_description":"ContactAddressable delegates organisation name to contact","status":"passed","file_path":"./spec/models/concerns/contact_addressable_spec.rb","line_number":48,"run_time":0.045572115,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/contact_addressable_spec.rb[1:3]","description":"delegates first name to contact","full_description":"ContactAddressable delegates first name to contact","status":"passed","file_path":"./spec/models/concerns/contact_addressable_spec.rb","line_number":55,"run_time":0.053870412,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/contact_addressable_spec.rb[1:4]","description":"delegates last name to contact","full_description":"ContactAddressable delegates last name to contact","status":"passed","file_path":"./spec/models/concerns/contact_addressable_spec.rb","line_number":62,"run_time":0.054549498,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/contact_addressable_spec.rb[1:5]","description":"delegates address1 to contact","full_description":"ContactAddressable delegates address1 to contact","status":"passed","file_path":"./spec/models/concerns/contact_addressable_spec.rb","line_number":69,"run_time":0.050204466,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/contact_addressable_spec.rb[1:6]","description":"delegates address2 to contact","full_description":"ContactAddressable delegates address2 to contact","status":"passed","file_path":"./spec/models/concerns/contact_addressable_spec.rb","line_number":76,"run_time":0.051642347,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/contact_addressable_spec.rb[1:7]","description":"delegates address3 to contact","full_description":"ContactAddressable delegates address3 to contact","status":"passed","file_path":"./spec/models/concerns/contact_addressable_spec.rb","line_number":83,"run_time":0.041841307,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/contact_addressable_spec.rb[1:8]","description":"delegates town to contact","full_description":"ContactAddressable delegates town to contact","status":"passed","file_path":"./spec/models/concerns/contact_addressable_spec.rb","line_number":90,"run_time":0.048318815,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/contact_addressable_spec.rb[1:9]","description":"delegates region to contact","full_description":"ContactAddressable delegates region to contact","status":"passed","file_path":"./spec/models/concerns/contact_addressable_spec.rb","line_number":97,"run_time":0.045413043,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/contact_addressable_spec.rb[1:10]","description":"delegates country to contact","full_description":"ContactAddressable delegates country to contact","status":"passed","file_path":"./spec/models/concerns/contact_addressable_spec.rb","line_number":104,"run_time":0.077466638,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/contact_addressable_spec.rb[1:1:1]","description":"returns the client_contact_name when present","full_description":"ContactAddressable#contact_display_name returns the client_contact_name when present","status":"passed","file_path":"./spec/models/concerns/contact_addressable_spec.rb","line_number":7,"run_time":0.046450757,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/contact_addressable_spec.rb[1:1:2]","description":"returns the first and last name when client contact name is not present","full_description":"ContactAddressable#contact_display_name returns the first and last name when client contact name is not present","status":"passed","file_path":"./spec/models/concerns/contact_addressable_spec.rb","line_number":14,"run_time":0.03251187,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/contact_addressable_spec.rb[1:1:3]","description":"returns the first and last name when client contact name is not defined on class","full_description":"ContactAddressable#contact_display_name returns the first and last name when client contact name is not defined on class","status":"passed","file_path":"./spec/models/concerns/contact_addressable_spec.rb","line_number":25,"run_time":0.050785283,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/contact_addressable_spec.rb[1:1:4]","description":"returns the an empty string when the client contact name is not present and first and last name are not present","full_description":"ContactAddressable#contact_display_name returns the an empty string when the client contact name is not present and first and last name are not present","status":"passed","file_path":"./spec/models/concerns/contact_addressable_spec.rb","line_number":36,"run_time":0.181426156,"pending_message":null,"screenshot":null},{"id":"./spec/models/project_import_manager_spec.rb[1:1:1]","description":"reports there is nothing to import","full_description":"ProjectImportManager when there is nothing to import reports there is nothing to import","status":"passed","file_path":"./spec/models/project_import_manager_spec.rb","line_number":11,"run_time":0.009104961,"pending_message":null,"screenshot":null},{"id":"./spec/models/project_import_manager_spec.rb[1:2:1]","description":"is able to clear imported items","full_description":"ProjectImportManager when there are projects awaiting review is able to clear imported items","status":"passed","file_path":"./spec/models/project_import_manager_spec.rb","line_number":22,"run_time":0.018505442,"pending_message":null,"screenshot":null},{"id":"./spec/models/project_import_manager_spec.rb[1:2:2]","description":"reports the correct number of imported projects","full_description":"ProjectImportManager when there are projects awaiting review reports the correct number of imported projects","status":"passed","file_path":"./spec/models/project_import_manager_spec.rb","line_number":28,"run_time":0.008136584,"pending_message":null,"screenshot":null},{"id":"./spec/models/project_import_manager_spec.rb[1:2:3]","description":"has awaiting imports","full_description":"ProjectImportManager when there are projects awaiting review has awaiting imports","status":"passed","file_path":"./spec/models/project_import_manager_spec.rb","line_number":32,"run_time":0.007784466,"pending_message":null,"screenshot":null},{"id":"./spec/models/project_import_manager_spec.rb[1:3:1]","description":"does not have any errors","full_description":"ProjectImportManager after importing valid projects does not have any errors","status":"passed","file_path":"./spec/models/project_import_manager_spec.rb","line_number":53,"run_time":0.046727525,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/email_practices/practice_lead_mailer_spec.rb[1:1:1]","description":"has correct header","full_description":"EmailPractices::PracticeLeadMailer#email_lead has correct header","status":"passed","file_path":"./spec/mailers/email_practices/practice_lead_mailer_spec.rb","line_number":20,"run_time":0.020943331,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/email_practices/practice_lead_mailer_spec.rb[1:1:2]","description":"is expected not to have click tracking","full_description":"EmailPractices::PracticeLeadMailer#email_lead is expected not to have click tracking","status":"passed","file_path":"./spec/mailers/email_practices/practice_lead_mailer_spec.rb","line_number":32,"run_time":0.010318611,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/email_practices/practice_lead_mailer_spec.rb[1:1:3]","description":"is expected to be a multipart email","full_description":"EmailPractices::PracticeLeadMailer#email_lead is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/email_practices/practice_lead_mailer_spec.rb","line_number":34,"run_time":0.008246706,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/email_practices/practice_lead_mailer_spec.rb[1:1:4]","description":"includes the intro lead message","full_description":"EmailPractices::PracticeLeadMailer#email_lead includes the intro lead message","status":"passed","file_path":"./spec/mailers/email_practices/practice_lead_mailer_spec.rb","line_number":36,"run_time":0.008098876,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/email_practices/practice_lead_mailer_spec.rb[1:1:5]","description":"includes the lead's name and email","full_description":"EmailPractices::PracticeLeadMailer#email_lead includes the lead's name and email","status":"passed","file_path":"./spec/mailers/email_practices/practice_lead_mailer_spec.rb","line_number":41,"run_time":0.008192098,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/email_practices/practice_lead_mailer_spec.rb[1:1:6]","description":"includes the lead's name","full_description":"EmailPractices::PracticeLeadMailer#email_lead includes the lead's name","status":"passed","file_path":"./spec/mailers/email_practices/practice_lead_mailer_spec.rb","line_number":46,"run_time":0.008166629,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/email_practices/practice_lead_mailer_spec.rb[1:1:7]","description":"includes the lead's email","full_description":"EmailPractices::PracticeLeadMailer#email_lead includes the lead's email","status":"passed","file_path":"./spec/mailers/email_practices/practice_lead_mailer_spec.rb","line_number":51,"run_time":0.007990565,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/email_practices/practice_lead_mailer_spec.rb[1:1:8]","description":"includes the lead's phone number","full_description":"EmailPractices::PracticeLeadMailer#email_lead includes the lead's phone number","status":"passed","file_path":"./spec/mailers/email_practices/practice_lead_mailer_spec.rb","line_number":56,"run_time":0.009772353,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/email_practices/practice_lead_mailer_spec.rb[1:1:9]","description":"includes the lead's message","full_description":"EmailPractices::PracticeLeadMailer#email_lead includes the lead's message","status":"passed","file_path":"./spec/mailers/email_practices/practice_lead_mailer_spec.rb","line_number":61,"run_time":0.007905504,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_client/note_spec.rb[1:1]","description":"is expected to validate that :author cannot be empty/falsy","full_description":"PracticeClient::Note is expected to validate that :author cannot be empty/falsy","status":"passed","file_path":"./spec/models/practice_client/note_spec.rb","line_number":11,"run_time":0.006913663,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_client/note_spec.rb[1:2]","description":"is expected to validate that :content cannot be empty/falsy","full_description":"PracticeClient::Note is expected to validate that :content cannot be empty/falsy","status":"passed","file_path":"./spec/models/practice_client/note_spec.rb","line_number":12,"run_time":0.004814971,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_client/note_spec.rb[1:3]","description":"is expected to validate that the length of :content is at most 4000, producing a custom validation error on failure","full_description":"PracticeClient::Note is expected to validate that the length of :content is at most 4000, producing a custom validation error on failure","status":"passed","file_path":"./spec/models/practice_client/note_spec.rb","line_number":13,"run_time":0.003805192,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_client/note_spec.rb[1:4:1]","description":"is expected to belong to practice_client_relationship required: false","full_description":"PracticeClient::Note associations is expected to belong to practice_client_relationship required: false","status":"passed","file_path":"./spec/models/practice_client/note_spec.rb","line_number":20,"run_time":0.003934796,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_client/note_spec.rb[1:4:2]","description":"is expected to belong to account_manager required: false","full_description":"PracticeClient::Note associations is expected to belong to account_manager required: false","status":"passed","file_path":"./spec/models/practice_client/note_spec.rb","line_number":21,"run_time":0.003297045,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_client/note_spec.rb[1:5:1:1]","description":"is valid for a character count below max threshold","full_description":"PracticeClient::Note validations content is valid for a character count below max threshold","status":"passed","file_path":"./spec/models/practice_client/note_spec.rb","line_number":26,"run_time":0.00296068,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_client/note_spec.rb[1:6:1]","description":"sets the author","full_description":"PracticeClient::Note before validation sets the author","status":"passed","file_path":"./spec/models/practice_client/note_spec.rb","line_number":35,"run_time":0.04825978,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/ec_moss_sales_tax_rate_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Api::EcMossSalesTaxRatePolicy a user with permission level below MY_MONEY is expected to equal false","status":"passed","file_path":"./spec/policies/api/ec_moss_sales_tax_rate_policy_spec.rb","line_number":13,"run_time":0.008870346,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/ec_moss_sales_tax_rate_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Api::EcMossSalesTaxRatePolicy a user with permission level MY_MONEY is expected to equal true","status":"passed","file_path":"./spec/policies/api/ec_moss_sales_tax_rate_policy_spec.rb","line_number":22,"run_time":0.007215243,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/ec_moss_sales_tax_rate_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Api::EcMossSalesTaxRatePolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/api/ec_moss_sales_tax_rate_policy_spec.rb","line_number":31,"run_time":0.051516927,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:77:1]","description":"returns \"new_invoice\" as :category when company has no email template","full_description":"Invoice#email_attributes returns \"new_invoice\" as :category when company has no email template","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":2303,"run_time":0.059609978,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:79:1]","description":"is included in the correct scopes","full_description":"Invoice dated today with 30 day terms is included in the correct scopes","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":2388,"run_time":0.067058556,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:97:1:1:1]","description":"is expected to include #\u003cInvoice id: 77, project_id: nil, reference: \"REF 0001\", dated_on: \"2022-12-24\", status: \"Draft\", co...l, recurring_invoice_profile_id: nil, property_id: nil, is_paid: nil, include_payment_button: false\u003e","full_description":"Invoice.with_active_reminders scope when no argument is passed when an invoice has reminder emails turned on is expected to include #\u003cInvoice id: 77, project_id: nil, reference: \"REF 0001\", dated_on: \"2022-12-24\", status: \"Draft\", co...l, recurring_invoice_profile_id: nil, property_id: nil, is_paid: nil, include_payment_button: false\u003e","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":2854,"run_time":0.061057237,"pending_message":null,"screenshot":null},{"id":"./spec/policies/settings/basecamp_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Settings::BasecampPolicy a user with permission level below CONTACTS_AND_PROJECTS is expected to equal false","status":"passed","file_path":"./spec/policies/settings/basecamp_policy_spec.rb","line_number":14,"run_time":0.008654855,"pending_message":null,"screenshot":null},{"id":"./spec/policies/settings/basecamp_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Settings::BasecampPolicy a user with permission level CONTACTS_AND_PROJECTS is expected to equal true","status":"passed","file_path":"./spec/policies/settings/basecamp_policy_spec.rb","line_number":24,"run_time":0.007644412,"pending_message":null,"screenshot":null},{"id":"./spec/policies/settings/basecamp_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Settings::BasecampPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/settings/basecamp_policy_spec.rb","line_number":34,"run_time":0.051956509,"pending_message":null,"screenshot":null},{"id":"./spec/policies/settings/stripe_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Settings::StripePolicy a user with permission level below ESTIMATES_AND_INVOICES is expected to equal false","status":"passed","file_path":"./spec/policies/settings/stripe_policy_spec.rb","line_number":14,"run_time":0.008759425,"pending_message":null,"screenshot":null},{"id":"./spec/policies/settings/stripe_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Settings::StripePolicy a user with permission level ESTIMATES_AND_INVOICES is expected to equal true","status":"passed","file_path":"./spec/policies/settings/stripe_policy_spec.rb","line_number":24,"run_time":0.009564552,"pending_message":null,"screenshot":null},{"id":"./spec/policies/settings/stripe_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Settings::StripePolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/settings/stripe_policy_spec.rb","line_number":34,"run_time":0.059416654,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_transactions/search_suggestions_controller_spec.rb[1:1]","description":"returns a list of possible categories","full_description":"BankTransactions::SearchSuggestionsController returns a list of possible categories","status":"passed","file_path":"./spec/controllers/bank_transactions/search_suggestions_controller_spec.rb","line_number":12,"run_time":0.080464218,"pending_message":null,"screenshot":null},{"id":"./spec/policies/self_assessment/filing_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"SelfAssessment::FilingPolicy a user with permission level below FULL_ACCESS is expected to equal false","status":"passed","file_path":"./spec/policies/self_assessment/filing_policy_spec.rb","line_number":19,"run_time":0.008412403,"pending_message":null,"screenshot":null},{"id":"./spec/policies/self_assessment/filing_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"SelfAssessment::FilingPolicy a user with permission level FULL_ACCESS is expected to equal true","status":"passed","file_path":"./spec/policies/self_assessment/filing_policy_spec.rb","line_number":34,"run_time":0.007943531,"pending_message":null,"screenshot":null},{"id":"./spec/policies/self_assessment/filing_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"SelfAssessment::FilingPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/self_assessment/filing_policy_spec.rb","line_number":49,"run_time":0.05070368,"pending_message":null,"screenshot":null},{"id":"./spec/policies/getting_started/banking_detail_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"GettingStarted::BankingDetailPolicy a user with permission level below FULL_ACCESS is expected to equal false","status":"passed","file_path":"./spec/policies/getting_started/banking_detail_policy_spec.rb","line_number":15,"run_time":0.007647542,"pending_message":null,"screenshot":null},{"id":"./spec/policies/getting_started/banking_detail_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"GettingStarted::BankingDetailPolicy a user with permission level FULL_ACCESS is expected to equal true","status":"passed","file_path":"./spec/policies/getting_started/banking_detail_policy_spec.rb","line_number":26,"run_time":0.007169753,"pending_message":null,"screenshot":null},{"id":"./spec/policies/getting_started/banking_detail_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"GettingStarted::BankingDetailPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/getting_started/banking_detail_policy_spec.rb","line_number":37,"run_time":0.047319893,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_bank_account_spec.rb[1:1:1:1]","description":"returns a presence validation error for sort_code","full_description":"ContactBankAccount validations when sort_code is blank and account_number is non-blank returns a presence validation error for sort_code","status":"passed","file_path":"./spec/models/contact_bank_account_spec.rb","line_number":12,"run_time":0.006643606,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_bank_account_spec.rb[1:1:2:1]","description":"returns a presence validation error for account_number","full_description":"ContactBankAccount validations when sort_code is non-blank and account_number is blank returns a presence validation error for account_number","status":"passed","file_path":"./spec/models/contact_bank_account_spec.rb","line_number":21,"run_time":0.003681432,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_bank_account_spec.rb[1:1:3:1]","description":"is valid","full_description":"ContactBankAccount validations when both sort_code and account_number are blank is valid","status":"passed","file_path":"./spec/models/contact_bank_account_spec.rb","line_number":30,"run_time":0.002769874,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_bank_account_spec.rb[1:1:4:1]","description":"returns a length error","full_description":"ContactBankAccount validations when sort_code is the wrong length returns a length error","status":"passed","file_path":"./spec/models/contact_bank_account_spec.rb","line_number":38,"run_time":0.003399738,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_bank_account_spec.rb[1:1:5:1]","description":"returns a non-numeric error","full_description":"ContactBankAccount validations when sort_code has non-numeric characters returns a non-numeric error","status":"passed","file_path":"./spec/models/contact_bank_account_spec.rb","line_number":47,"run_time":0.002939195,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_bank_account_spec.rb[1:1:6:1]","description":"returns a length error","full_description":"ContactBankAccount validations when account_number is too short returns a length error","status":"passed","file_path":"./spec/models/contact_bank_account_spec.rb","line_number":56,"run_time":0.003231234,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_bank_account_spec.rb[1:1:7:1]","description":"returns a length error","full_description":"ContactBankAccount validations when account_number is too long returns a length error","status":"passed","file_path":"./spec/models/contact_bank_account_spec.rb","line_number":65,"run_time":0.003349855,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_bank_account_spec.rb[1:1:8:1]","description":"returns a non-numeric error","full_description":"ContactBankAccount validations when account_number has non-numeric characters returns a non-numeric error","status":"passed","file_path":"./spec/models/contact_bank_account_spec.rb","line_number":74,"run_time":0.003104101,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_bank_account_spec.rb[1:1:9:1]","description":"is valid","full_description":"ContactBankAccount validations when sort_code and account_number have acceptable values is valid","status":"passed","file_path":"./spec/models/contact_bank_account_spec.rb","line_number":83,"run_time":0.002561773,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_bank_account_spec.rb[1:1:10:1:1:1]","description":"is valid","full_description":"ContactBankAccount validations account_name when it has only letters and spaces when the letters are all lower-case is valid","status":"passed","file_path":"./spec/models/contact_bank_account_spec.rb","line_number":94,"run_time":0.002627697,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_bank_account_spec.rb[1:1:10:1:2:1]","description":"is valid","full_description":"ContactBankAccount validations account_name when it has only letters and spaces when the letters are all upper-case is valid","status":"passed","file_path":"./spec/models/contact_bank_account_spec.rb","line_number":102,"run_time":0.002808101,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_bank_account_spec.rb[1:1:10:1:3:1]","description":"is valid","full_description":"ContactBankAccount validations account_name when it has only letters and spaces when the letters are both lower and upper-case is valid","status":"passed","file_path":"./spec/models/contact_bank_account_spec.rb","line_number":110,"run_time":0.00264716,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_bank_account_spec.rb[1:1:10:2:1:1]","description":"is valid","full_description":"ContactBankAccount validations account_name when it has both letters and non-letter characters when the alpha-numeric characters are all lower-case is valid","status":"passed","file_path":"./spec/models/contact_bank_account_spec.rb","line_number":120,"run_time":0.002627845,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_bank_account_spec.rb[1:1:10:2:2:1]","description":"is valid","full_description":"ContactBankAccount validations account_name when it has both letters and non-letter characters when the letters are all upper-case is valid","status":"passed","file_path":"./spec/models/contact_bank_account_spec.rb","line_number":128,"run_time":0.002555837,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_bank_account_spec.rb[1:1:10:2:3:1]","description":"is valid","full_description":"ContactBankAccount validations account_name when it has both letters and non-letter characters when the letters are both lower and upper-case is valid","status":"passed","file_path":"./spec/models/contact_bank_account_spec.rb","line_number":136,"run_time":0.002758136,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_bank_account_spec.rb[1:1:10:3:1]","description":"is valid","full_description":"ContactBankAccount validations account_name when it has only spaces is valid","status":"passed","file_path":"./spec/models/contact_bank_account_spec.rb","line_number":145,"run_time":0.002752805,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_bank_account_spec.rb[1:1:10:4:1]","description":"returns a validation error","full_description":"ContactBankAccount validations account_name when it has only non-letter characters returns a validation error","status":"passed","file_path":"./spec/models/contact_bank_account_spec.rb","line_number":153,"run_time":0.003082947,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_bank_account_spec.rb[1:2:1:1]","description":"is expected to be falsey","full_description":"ContactBankAccount#blank_details? when details are not blank is expected to be falsey","status":"passed","file_path":"./spec/models/contact_bank_account_spec.rb","line_number":169,"run_time":0.002587089,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_bank_account_spec.rb[1:2:2:1]","description":"is expected to be truthy","full_description":"ContactBankAccount#blank_details? when details are all blank is expected to be truthy","status":"passed","file_path":"./spec/models/contact_bank_account_spec.rb","line_number":175,"run_time":0.002690729,"pending_message":null,"screenshot":null},{"id":"./spec/policies/invoices/project_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Invoices::ProjectPolicy a user with permission level below ESTIMATES_AND_INVOICES is expected to equal false","status":"passed","file_path":"./spec/policies/invoices/project_policy_spec.rb","line_number":13,"run_time":0.007580405,"pending_message":null,"screenshot":null},{"id":"./spec/policies/invoices/project_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Invoices::ProjectPolicy a user with permission level ESTIMATES_AND_INVOICES is expected to equal true","status":"passed","file_path":"./spec/policies/invoices/project_policy_spec.rb","line_number":22,"run_time":0.00707301,"pending_message":null,"screenshot":null},{"id":"./spec/policies/invoices/project_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Invoices::ProjectPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/invoices/project_policy_spec.rb","line_number":31,"run_time":0.045878408,"pending_message":null,"screenshot":null},{"id":"./spec/policies/timeslip_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"TimeslipPolicy a user with permission level below TIME is expected to equal false","status":"passed","file_path":"./spec/policies/timeslip_policy_spec.rb","line_number":19,"run_time":0.007867605,"pending_message":null,"screenshot":null},{"id":"./spec/policies/timeslip_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"TimeslipPolicy a user with permission level TIME is expected to equal true","status":"passed","file_path":"./spec/policies/timeslip_policy_spec.rb","line_number":34,"run_time":0.007396668,"pending_message":null,"screenshot":null},{"id":"./spec/policies/timeslip_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"TimeslipPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/timeslip_policy_spec.rb","line_number":49,"run_time":0.046276465,"pending_message":null,"screenshot":null},{"id":"./spec/policies/autocomplete_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"AutocompletePolicy a user with permission level below TIME is expected to equal false","status":"passed","file_path":"./spec/policies/autocomplete_policy_spec.rb","line_number":16,"run_time":0.007179447,"pending_message":null,"screenshot":null},{"id":"./spec/policies/autocomplete_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"AutocompletePolicy a user with permission level TIME is expected to equal true","status":"passed","file_path":"./spec/policies/autocomplete_policy_spec.rb","line_number":28,"run_time":0.006817127,"pending_message":null,"screenshot":null},{"id":"./spec/policies/autocomplete_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"AutocompletePolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/autocomplete_policy_spec.rb","line_number":40,"run_time":0.044634552,"pending_message":null,"screenshot":null},{"id":"./spec/policies/contacts/balance_history_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Contacts::BalanceHistoryPolicy a user with permission level below CONTACTS_AND_PROJECTS is expected to equal false","status":"passed","file_path":"./spec/policies/contacts/balance_history_policy_spec.rb","line_number":13,"run_time":0.007562838,"pending_message":null,"screenshot":null},{"id":"./spec/policies/contacts/balance_history_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Contacts::BalanceHistoryPolicy a user with permission level CONTACTS_AND_PROJECTS is expected to equal true","status":"passed","file_path":"./spec/policies/contacts/balance_history_policy_spec.rb","line_number":22,"run_time":0.00650594,"pending_message":null,"screenshot":null},{"id":"./spec/policies/contacts/balance_history_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Contacts::BalanceHistoryPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/contacts/balance_history_policy_spec.rb","line_number":31,"run_time":0.043954407,"pending_message":null,"screenshot":null},{"id":"./spec/policies/invoices/additional_text_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Invoices::AdditionalTextPolicy a user with permission level below ESTIMATES_AND_INVOICES is expected to equal false","status":"passed","file_path":"./spec/policies/invoices/additional_text_policy_spec.rb","line_number":14,"run_time":0.007330708,"pending_message":null,"screenshot":null},{"id":"./spec/policies/invoices/additional_text_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Invoices::AdditionalTextPolicy a user with permission level ESTIMATES_AND_INVOICES is expected to equal true","status":"passed","file_path":"./spec/policies/invoices/additional_text_policy_spec.rb","line_number":24,"run_time":0.006829135,"pending_message":null,"screenshot":null},{"id":"./spec/policies/invoices/additional_text_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Invoices::AdditionalTextPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/invoices/additional_text_policy_spec.rb","line_number":34,"run_time":0.046560004,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/tasks/_task.rbapi_spec.rb[1:1:1]","description":"does not include billing rate or period data","full_description":"api/tasks/_task.rbapi for a user with Time permission does not include billing rate or period data","status":"passed","file_path":"./spec/views/api/tasks/_task.rbapi_spec.rb","line_number":19,"run_time":0.045903629,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/tasks/_task.rbapi_spec.rb[1:2:1]","description":"does not include billing rate or period data","full_description":"api/tasks/_task.rbapi for a user with Project \u0026 Contact permission does not include billing rate or period data","status":"passed","file_path":"./spec/views/api/tasks/_task.rbapi_spec.rb","line_number":31,"run_time":0.024899945,"pending_message":null,"screenshot":null},{"id":"./spec/policies/bank_account_statement_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"BankAccountStatementPolicy a user with permission level below BANKING is expected to equal false","status":"passed","file_path":"./spec/policies/bank_account_statement_policy_spec.rb","line_number":13,"run_time":0.008863282,"pending_message":null,"screenshot":null},{"id":"./spec/policies/bank_account_statement_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"BankAccountStatementPolicy a user with permission level BANKING is expected to equal true","status":"passed","file_path":"./spec/policies/bank_account_statement_policy_spec.rb","line_number":22,"run_time":0.007283079,"pending_message":null,"screenshot":null},{"id":"./spec/policies/bank_account_statement_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"BankAccountStatementPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/bank_account_statement_policy_spec.rb","line_number":31,"run_time":0.045106341,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/invoices/gocardless_payment_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Api::Invoices::GocardlessPaymentPolicy a user with permission level below ESTIMATES_AND_INVOICES is expected to equal false","status":"passed","file_path":"./spec/policies/api/invoices/gocardless_payment_policy_spec.rb","line_number":13,"run_time":0.007488535,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/invoices/gocardless_payment_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Api::Invoices::GocardlessPaymentPolicy a user with permission level ESTIMATES_AND_INVOICES is expected to equal true","status":"passed","file_path":"./spec/policies/api/invoices/gocardless_payment_policy_spec.rb","line_number":22,"run_time":0.006753641,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/invoices/gocardless_payment_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Api::Invoices::GocardlessPaymentPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/api/invoices/gocardless_payment_policy_spec.rb","line_number":31,"run_time":0.086312146,"pending_message":null,"screenshot":null},{"id":"./spec/policies/accounting_categories/cost_of_sales_category_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"AccountingCategories::CostOfSalesCategoryPolicy a user with permission level below TAX_AND_LIMITED_ACCOUNTING is expected to equal false","status":"passed","file_path":"./spec/policies/accounting_categories/cost_of_sales_category_policy_spec.rb","line_number":18,"run_time":0.008174106,"pending_message":null,"screenshot":null},{"id":"./spec/policies/accounting_categories/cost_of_sales_category_policy_spec.rb[1:2:1]","description":"is expected to equal false","full_description":"AccountingCategories::CostOfSalesCategoryPolicy a user with permission level TAX_AND_LIMITED_ACCOUNTING is expected to equal false","status":"passed","file_path":"./spec/policies/accounting_categories/cost_of_sales_category_policy_spec.rb","line_number":32,"run_time":0.006988172,"pending_message":null,"screenshot":null},{"id":"./spec/policies/accounting_categories/cost_of_sales_category_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"AccountingCategories::CostOfSalesCategoryPolicy a user with permission level FULL_ACCESS is expected to equal true","status":"passed","file_path":"./spec/policies/accounting_categories/cost_of_sales_category_policy_spec.rb","line_number":46,"run_time":0.006861699,"pending_message":null,"screenshot":null},{"id":"./spec/policies/accounting_categories/cost_of_sales_category_policy_spec.rb[1:4:1]","description":"is expected to equal true","full_description":"AccountingCategories::CostOfSalesCategoryPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/accounting_categories/cost_of_sales_category_policy_spec.rb","line_number":60,"run_time":0.051023422,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/mobile/device_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Api::Mobile::DevicePolicy a user with permission level below TIME is expected to equal false","status":"passed","file_path":"./spec/policies/api/mobile/device_policy_spec.rb","line_number":14,"run_time":0.009149546,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/mobile/device_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Api::Mobile::DevicePolicy a user with permission level TIME is expected to equal true","status":"passed","file_path":"./spec/policies/api/mobile/device_policy_spec.rb","line_number":23,"run_time":0.007247522,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/mobile/device_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Api::Mobile::DevicePolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/api/mobile/device_policy_spec.rb","line_number":32,"run_time":0.053609218,"pending_message":null,"screenshot":null},{"id":"./spec/policies/properties/income_policy_spec.rb[1:1:1:1]","description":"is allowed to access the routes","full_description":"Properties::IncomePolicy A landlord as an account owner is allowed to access the routes","status":"passed","file_path":"./spec/policies/properties/income_policy_spec.rb","line_number":15,"run_time":0.008070958,"pending_message":null,"screenshot":null},{"id":"./spec/policies/properties/income_policy_spec.rb[1:1:2:1]","description":"is not allowed to access the routes","full_description":"Properties::IncomePolicy A landlord as a user below the minimum access level is not allowed to access the routes","status":"passed","file_path":"./spec/policies/properties/income_policy_spec.rb","line_number":23,"run_time":0.007143773,"pending_message":null,"screenshot":null},{"id":"./spec/policies/properties/income_policy_spec.rb[1:1:3:1]","description":"is allowed to access the routes","full_description":"Properties::IncomePolicy A landlord as an account manager is allowed to access the routes","status":"passed","file_path":"./spec/policies/properties/income_policy_spec.rb","line_number":32,"run_time":0.046437156,"pending_message":null,"screenshot":null},{"id":"./spec/policies/properties/income_policy_spec.rb[1:2:1]","description":"is not allowed to access property routes","full_description":"Properties::IncomePolicy A non landlord is not allowed to access property routes","status":"passed","file_path":"./spec/policies/properties/income_policy_spec.rb","line_number":43,"run_time":0.007294662,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb[1:1:1]","description":"gives the correct ID","full_description":"PracticeDashboard::Payroll::ClientSummary#id gives the correct ID","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb","line_number":16,"run_time":0.003051069,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb[1:2:1]","description":"should give the correct number of employees","full_description":"PracticeDashboard::Payroll::ClientSummary#employee_count should give the correct number of employees","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb","line_number":23,"run_time":0.002753243,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb[1:3:1]","description":"should give the name of the client company","full_description":"PracticeDashboard::Payroll::ClientSummary#name should give the name of the client company","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb","line_number":30,"run_time":0.002592276,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb[1:4:1]","description":"delegates to PracticeDashboard::Payroll::State","full_description":"PracticeDashboard::Payroll::ClientSummary#status delegates to PracticeDashboard::Payroll::State","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb","line_number":44,"run_time":0.003072586,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb[1:5:1]","description":"should give the current payrun month if the current period is set","full_description":"PracticeDashboard::Payroll::ClientSummary#current_month should give the current payrun month if the current period is set","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb","line_number":51,"run_time":0.002752541,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb[1:5:2]","description":"should use the month after the current period if it is filed no matter the current date","full_description":"PracticeDashboard::Payroll::ClientSummary#current_month should use the month after the current period if it is filed no matter the current date","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb","line_number":56,"run_time":0.002747243,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb[1:5:3]","description":"should give the month of the payroll state period if there are no payroll periods","full_description":"PracticeDashboard::Payroll::ClientSummary#current_month should give the month of the payroll state period if there are no payroll periods","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb","line_number":63,"run_time":0.002727194,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb[1:6:1]","description":"should use the previous payroll period if exists","full_description":"PracticeDashboard::Payroll::ClientSummary#previous_month should use the previous payroll period if exists","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb","line_number":75,"run_time":0.002491864,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb[1:6:2]","description":"is nil if the previous period doesn't exist","full_description":"PracticeDashboard::Payroll::ClientSummary#previous_month is nil if the previous period doesn't exist","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb","line_number":81,"run_time":0.002589002,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb[1:7:1]","description":"should return false if there was not a previous payrun","full_description":"PracticeDashboard::Payroll::ClientSummary#multiple_payruns? should return false if there was not a previous payrun","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb","line_number":88,"run_time":0.002513829,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb[1:7:2]","description":"should return true if there was a previous payrun","full_description":"PracticeDashboard::Payroll::ClientSummary#multiple_payruns? should return true if there was a previous payrun","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb","line_number":93,"run_time":0.002651012,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb[1:8:1]","description":"should calculate the current total pay from profiles if there are no payslips","full_description":"PracticeDashboard::Payroll::ClientSummary#current_payrun_total_pay should calculate the current total pay from profiles if there are no payslips","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb","line_number":101,"run_time":0.002597517,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb[1:8:2]","description":"should calculate the current total pay from payslips if they are set","full_description":"PracticeDashboard::Payroll::ClientSummary#current_payrun_total_pay should calculate the current total pay from payslips if they are set","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb","line_number":106,"run_time":0.002316717,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb[1:9:1]","description":"should return nil if there is no previous pay","full_description":"PracticeDashboard::Payroll::ClientSummary#last_payrun_total_pay should return nil if there is no previous pay","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb","line_number":118,"run_time":0.002702049,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb[1:9:2]","description":"should calculate the previous total pay from payslips if they are set","full_description":"PracticeDashboard::Payroll::ClientSummary#last_payrun_total_pay should calculate the previous total pay from payslips if they are set","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb","line_number":123,"run_time":0.002526488,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb[1:10:1]","description":"should give the filing date of the previous payrun (if there is one)","full_description":"PracticeDashboard::Payroll::ClientSummary#last_payrun_filing_date should give the filing date of the previous payrun (if there is one)","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb","line_number":131,"run_time":0.002470559,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb[1:10:2]","description":"should return nil if there is no previous payrun","full_description":"PracticeDashboard::Payroll::ClientSummary#last_payrun_filing_date should return nil if there is no previous payrun","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb","line_number":137,"run_time":0.002525658,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb[1:11:1:1]","description":"returns false","full_description":"PracticeDashboard::Payroll::ClientSummary#excluded? when not excluded returns false","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb","line_number":149,"run_time":0.002664899,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb[1:11:2:1]","description":"returns true","full_description":"PracticeDashboard::Payroll::ClientSummary#excluded? when excluded returns true","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb","line_number":157,"run_time":0.002535726,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb[1:12:1:1]","description":"returns true","full_description":"PracticeDashboard::Payroll::ClientSummary#included? when not excluded returns true","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb","line_number":169,"run_time":0.00255089,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb[1:12:2:1]","description":"returns false","full_description":"PracticeDashboard::Payroll::ClientSummary#included? when excluded returns false","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/client_summary_spec.rb","line_number":177,"run_time":0.002491938,"pending_message":null,"screenshot":null},{"id":"./spec/models/tracking_data_spec.rb[1:1:1]","description":"exposes a data hash extracted from the adwords tracking data on a company","full_description":"TrackingData initialising exposes a data hash extracted from the adwords tracking data on a company","status":"passed","file_path":"./spec/models/tracking_data_spec.rb","line_number":7,"run_time":0.002434663,"pending_message":null,"screenshot":null},{"id":"./spec/models/tracking_data_spec.rb[1:1:2]","description":"strips leading digits from the the first key in adwords tracking data on a company","full_description":"TrackingData initialising strips leading digits from the the first key in adwords tracking data on a company","status":"passed","file_path":"./spec/models/tracking_data_spec.rb","line_number":13,"run_time":0.002529545,"pending_message":null,"screenshot":null},{"id":"./spec/models/tracking_data_spec.rb[1:1:3]","description":"strips leading dots from the first key in adwords tracking data on a company","full_description":"TrackingData initialising strips leading dots from the first key in adwords tracking data on a company","status":"passed","file_path":"./spec/models/tracking_data_spec.rb","line_number":19,"run_time":0.00227645,"pending_message":null,"screenshot":null},{"id":"./spec/models/tracking_data_spec.rb[1:1:4]","description":"ignores non-keyvalue pairs in adwords tracking data on a company","full_description":"TrackingData initialising ignores non-keyvalue pairs in adwords tracking data on a company","status":"passed","file_path":"./spec/models/tracking_data_spec.rb","line_number":25,"run_time":0.002467835,"pending_message":null,"screenshot":null},{"id":"./spec/models/tracking_data_spec.rb[1:1:5]","description":"ignores keyvalue pairs in adwords tracking data on a company where value is blank","full_description":"TrackingData initialising ignores keyvalue pairs in adwords tracking data on a company where value is blank","status":"passed","file_path":"./spec/models/tracking_data_spec.rb","line_number":31,"run_time":0.002384953,"pending_message":null,"screenshot":null},{"id":"./spec/models/tracking_data_spec.rb[1:1:6]","description":"unescapes values in adwords tracking data on a company","full_description":"TrackingData initialising unescapes values in adwords tracking data on a company","status":"passed","file_path":"./spec/models/tracking_data_spec.rb","line_number":36,"run_time":0.00250151,"pending_message":null,"screenshot":null},{"id":"./spec/models/tracking_data_spec.rb[1:2:1]","description":"parses __utmz data out as required","full_description":"TrackingData parsing cookies parses __utmz data out as required","status":"passed","file_path":"./spec/models/tracking_data_spec.rb","line_number":44,"run_time":0.002554783,"pending_message":null,"screenshot":null},{"id":"./spec/models/tracking_data_spec.rb[1:2:2]","description":"merges lastTouchPoint and parsed __utmz data","full_description":"TrackingData parsing cookies merges lastTouchPoint and parsed __utmz data","status":"passed","file_path":"./spec/models/tracking_data_spec.rb","line_number":52,"run_time":0.002291615,"pending_message":null,"screenshot":null},{"id":"./spec/models/tracking_data_spec.rb[1:2:3]","description":"returns a correctly formatted string for storage, ignoring any unknown values","full_description":"TrackingData parsing cookies returns a correctly formatted string for storage, ignoring any unknown values","status":"passed","file_path":"./spec/models/tracking_data_spec.rb","line_number":62,"run_time":0.002429849,"pending_message":null,"screenshot":null},{"id":"./spec/models/tracking_data_spec.rb[1:2:4]","description":"returns an empty string if neither __utmz nor lastTouchPoint are included in cookies","full_description":"TrackingData parsing cookies returns an empty string if neither __utmz nor lastTouchPoint are included in cookies","status":"passed","file_path":"./spec/models/tracking_data_spec.rb","line_number":72,"run_time":0.002269395,"pending_message":null,"screenshot":null},{"id":"./spec/models/tracking_data_spec.rb[1:3:1]","description":"is false when there is no adwords data","full_description":"TrackingData ppc? is false when there is no adwords data","status":"passed","file_path":"./spec/models/tracking_data_spec.rb","line_number":79,"run_time":0.002632894,"pending_message":null,"screenshot":null},{"id":"./spec/models/tracking_data_spec.rb[1:3:2]","description":"is false when utmgclid data is blank","full_description":"TrackingData ppc? is false when utmgclid data is blank","status":"passed","file_path":"./spec/models/tracking_data_spec.rb","line_number":84,"run_time":0.002279099,"pending_message":null,"screenshot":null},{"id":"./spec/models/tracking_data_spec.rb[1:3:3]","description":"is false when the adwords data is malformed","full_description":"TrackingData ppc? is false when the adwords data is malformed","status":"passed","file_path":"./spec/models/tracking_data_spec.rb","line_number":89,"run_time":0.002430487,"pending_message":null,"screenshot":null},{"id":"./spec/models/tracking_data_spec.rb[1:3:4]","description":"detects ppc status from adwords data","full_description":"TrackingData ppc? detects ppc status from adwords data","status":"passed","file_path":"./spec/models/tracking_data_spec.rb","line_number":94,"run_time":0.002460699,"pending_message":null,"screenshot":null},{"id":"./spec/models/tracking_data_spec.rb[1:3:5]","description":"detects ppc status from complex adwords data","full_description":"TrackingData ppc? detects ppc status from complex adwords data","status":"passed","file_path":"./spec/models/tracking_data_spec.rb","line_number":99,"run_time":0.002221923,"pending_message":null,"screenshot":null},{"id":"./spec/models/tracking_data_spec.rb[1:4:1]","description":"is an empty string when there is no adwords tracking data","full_description":"TrackingData search_keyword is an empty string when there is no adwords tracking data","status":"passed","file_path":"./spec/models/tracking_data_spec.rb","line_number":106,"run_time":0.002630313,"pending_message":null,"screenshot":null},{"id":"./spec/models/tracking_data_spec.rb[1:4:2]","description":"is an empty string when there is no utmctr data","full_description":"TrackingData search_keyword is an empty string when there is no utmctr data","status":"passed","file_path":"./spec/models/tracking_data_spec.rb","line_number":111,"run_time":0.002298859,"pending_message":null,"screenshot":null},{"id":"./spec/models/tracking_data_spec.rb[1:4:3]","description":"is an empty string when the adwords data is malformed","full_description":"TrackingData search_keyword is an empty string when the adwords data is malformed","status":"passed","file_path":"./spec/models/tracking_data_spec.rb","line_number":116,"run_time":0.002406689,"pending_message":null,"screenshot":null},{"id":"./spec/models/tracking_data_spec.rb[1:4:4]","description":"extracts the utmctr value from adwords data","full_description":"TrackingData search_keyword extracts the utmctr value from adwords data","status":"passed","file_path":"./spec/models/tracking_data_spec.rb","line_number":121,"run_time":0.002358537,"pending_message":null,"screenshot":null},{"id":"./spec/models/tracking_data_spec.rb[1:4:5]","description":"unescapes the utmctr value from adwords data","full_description":"TrackingData search_keyword unescapes the utmctr value from adwords data","status":"passed","file_path":"./spec/models/tracking_data_spec.rb","line_number":126,"run_time":0.002435011,"pending_message":null,"screenshot":null},{"id":"./spec/models/tracking_data_spec.rb[1:4:6]","description":"extracts the utmctr value from complex adwords data","full_description":"TrackingData search_keyword extracts the utmctr value from complex adwords data","status":"passed","file_path":"./spec/models/tracking_data_spec.rb","line_number":131,"run_time":0.002293778,"pending_message":null,"screenshot":null},{"id":"./spec/models/tracking_data_spec.rb[1:5:1]","description":"is \"none\" if search_keyword is blank","full_description":"TrackingData search_source is \"none\" if search_keyword is blank","status":"passed","file_path":"./spec/models/tracking_data_spec.rb","line_number":138,"run_time":0.002468281,"pending_message":null,"screenshot":null},{"id":"./spec/models/tracking_data_spec.rb[1:5:2:1]","description":"is \"PPC\" if ppc? is true","full_description":"TrackingData search_source when search_keyword is present is \"PPC\" if ppc? is true","status":"passed","file_path":"./spec/models/tracking_data_spec.rb","line_number":146,"run_time":0.002469335,"pending_message":null,"screenshot":null},{"id":"./spec/models/tracking_data_spec.rb[1:5:2:2]","description":"is \"SEO\" if ppc? is false","full_description":"TrackingData search_source when search_keyword is present is \"SEO\" if ppc? is false","status":"passed","file_path":"./spec/models/tracking_data_spec.rb","line_number":151,"run_time":0.00231162,"pending_message":null,"screenshot":null},{"id":"./spec/policies/accounting_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"AccountingPolicy a user with permission level below TAX_AND_LIMITED_ACCOUNTING is expected to equal false","status":"passed","file_path":"./spec/policies/accounting_policy_spec.rb","line_number":18,"run_time":0.007486604,"pending_message":null,"screenshot":null},{"id":"./spec/policies/accounting_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"AccountingPolicy a user with permission level TAX_AND_LIMITED_ACCOUNTING is expected to equal true","status":"passed","file_path":"./spec/policies/accounting_policy_spec.rb","line_number":32,"run_time":0.006273638,"pending_message":null,"screenshot":null},{"id":"./spec/policies/accounting_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"AccountingPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/accounting_policy_spec.rb","line_number":46,"run_time":0.044472798,"pending_message":null,"screenshot":null},{"id":"./spec/policies/accounting_categories/fixed_assets_category_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"AccountingCategories::FixedAssetsCategoryPolicy a user with permission level below TAX_AND_LIMITED_ACCOUNTING is expected to equal false","status":"passed","file_path":"./spec/policies/accounting_categories/fixed_assets_category_policy_spec.rb","line_number":13,"run_time":0.006998467,"pending_message":null,"screenshot":null},{"id":"./spec/policies/accounting_categories/fixed_assets_category_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"AccountingCategories::FixedAssetsCategoryPolicy a user with permission level TAX_AND_LIMITED_ACCOUNTING is expected to equal true","status":"passed","file_path":"./spec/policies/accounting_categories/fixed_assets_category_policy_spec.rb","line_number":22,"run_time":0.006014336,"pending_message":null,"screenshot":null},{"id":"./spec/policies/accounting_categories/fixed_assets_category_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"AccountingCategories::FixedAssetsCategoryPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/accounting_categories/fixed_assets_category_policy_spec.rb","line_number":31,"run_time":0.04150436,"pending_message":null,"screenshot":null}],"summary":{"duration":2.926069864,"example_count":402,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"402 examples, 0 failures"}