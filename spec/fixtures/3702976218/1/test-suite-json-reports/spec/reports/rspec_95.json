{"version":"3.11.0","messages":["Run options:\n  include {:ids=\u003e{\"./spec/models/invoice_spec.rb\"=\u003e[\"1:19:2:1\"], \"./spec/controllers/invoices_controller_spec.rb\"=\u003e[\"3:15:1\"], \"./spec/models/uk_accounts_mapper_spec.rb\"=\u003e[\"1:1:3:1:3\"]}}\n  exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/helpers/payit_helper_spec.rb[1:1:1:1:1]","description":"displays the notice for the downtime","full_description":"PayitHelper#payit_downtime_notice when the company is eligable for payit and the time is during the notice period displays the notice for the downtime","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":40,"run_time":0.506855276,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:1:1:2:1]","description":"does not show the notice for downtime","full_description":"PayitHelper#payit_downtime_notice when the company is eligable for payit and the user does not have permission to make payit payments does not show the notice for downtime","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":51,"run_time":0.117933431,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:1:1:3:1]","description":"does not displays the notice for the downtime","full_description":"PayitHelper#payit_downtime_notice when the company is eligable for payit and the time is before before the notice period does not displays the notice for the downtime","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":61,"run_time":0.099066403,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:1:1:4:1]","description":"does not displays the notice for the downtime","full_description":"PayitHelper#payit_downtime_notice when the company is eligable for payit and the time is after the notice period does not displays the notice for the downtime","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":71,"run_time":0.089604833,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:1:2:1:1]","description":"shows the downtime notice","full_description":"PayitHelper#payit_downtime_notice when the bill is payable by payit and within a notice period shows the downtime notice","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":102,"run_time":0.199152755,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:1:2:2:1]","description":"shows the downtime notice","full_description":"PayitHelper#payit_downtime_notice when the bill is payable by payit and out with a notice period shows the downtime notice","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":114,"run_time":0.206184729,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:1:3:1:1]","description":"does not shows the downtime notice","full_description":"PayitHelper#payit_downtime_notice when the bill is not payable by payit and within a notice period does not shows the downtime notice","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":144,"run_time":0.1045423,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:1:4:1]","description":"displays the notice for the downtime","full_description":"PayitHelper#payit_downtime_notice when the company is not eligable for payit displays the notice for the downtime","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":160,"run_time":0.015918274,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:2:1:1:1:1]","description":"shows the payit button","full_description":"PayitHelper payit_card when showing the PayIt card for a uk limited company with an NWG bank account and the contact has bank details shows the payit button","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":194,"run_time":0.175507058,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:2:1:1:1:2]","description":"shows the primary bank account name","full_description":"PayitHelper payit_card when showing the PayIt card for a uk limited company with an NWG bank account and the contact has bank details shows the primary bank account name","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":203,"run_time":0.153385566,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:2:1:1:2:1]","description":"shows a link to the contact to update the bank details","full_description":"PayitHelper payit_card when showing the PayIt card for a uk limited company with an NWG bank account and the contact does not have bank details shows a link to the contact to update the bank details","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":220,"run_time":0.108959272,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:2:1:2:1:1]","description":"shows the payit button","full_description":"PayitHelper payit_card when showing the PayIt card for a whitelabeled company with an NWG bank account and the contact has bank details shows the payit button","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":240,"run_time":0.22691444,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:2:1:2:2:1]","description":"shows a link to the contact to update the bank details","full_description":"PayitHelper payit_card when showing the PayIt card for a whitelabeled company with an NWG bank account and the contact does not have bank details shows a link to the contact to update the bank details","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":259,"run_time":0.137240453,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:2:2:1]","description":"does not show the Payit card","full_description":"PayitHelper payit_card when the user does not have permission to make a payment does not show the Payit card","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":301,"run_time":0.210202376,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:2:3:1]","description":"does not show the Payit card","full_description":"PayitHelper payit_card when the user is an account manager does not show the Payit card","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":338,"run_time":0.212459834,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:2:4:1]","description":"does not show the Payit card","full_description":"PayitHelper payit_card when the payment is pending does not show the Payit card","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":379,"run_time":0.413429653,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:2:5:1]","description":"does not show the Payit card","full_description":"PayitHelper payit_card when the payment has been approved does not show the Payit card","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":420,"run_time":0.39496851,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:2:6:1]","description":"does not show the Payit card","full_description":"PayitHelper payit_card when the bill is paid does not show the Payit card","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":450,"run_time":0.591095465,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:2:7:1]","description":"does not show the Payit card","full_description":"PayitHelper payit_card when the bill is hire purchase does not show the Payit card","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":480,"run_time":0.459890425,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:2:8:1]","description":"tells the user payit is currently unavailable","full_description":"PayitHelper payit_card when the Payit circuit breaker is broken tells the user payit is currently unavailable","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":516,"run_time":0.344609678,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:2:8:2:1]","description":"shows the payit card to allow admin to test functionality after recovery","full_description":"PayitHelper payit_card when the Payit circuit breaker is broken and the company has the payit_override feature enabled shows the payit card to allow admin to test functionality after recovery","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":528,"run_time":0.377512574,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:2:9:1]","description":"allows immediate payments and tells the user scheduled payments are currently unavailable","full_description":"PayitHelper payit_card when the Payit scheduled payments circuit breaker is broken allows immediate payments and tells the user scheduled payments are currently unavailable","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":567,"run_time":0.358770164,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:2:9:2:1]","description":"shows the payit card to allow admin to test functionality after recovery","full_description":"PayitHelper payit_card when the Payit scheduled payments circuit breaker is broken and the company has the payit_override feature enabled shows the payit card to allow admin to test functionality after recovery","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":579,"run_time":0.350236197,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:2:10:1]","description":"tells the user payit is currently unavailable","full_description":"PayitHelper payit_card when the PayIt is currently in a maintenance period tells the user payit is currently unavailable","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":619,"run_time":1.007616982,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:2:11:1]","description":"does not show the Payit card","full_description":"PayitHelper payit_card when the the contact has bank details but not valid for payit does not show the Payit card","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":653,"run_time":0.296598223,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:1:1]","description":"is expected to be empty","full_description":"PayitHelper#payit_payment_state_banner when there is no payit payment is expected to be empty","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":693,"run_time":0.182359491,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:2:1:1]","description":"is expected to have visible css \"div.fe-NoticeV2--positive\"","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the payment is approved is expected to have visible css \"div.fe-NoticeV2--positive\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":708,"run_time":0.237753425,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:2:1:2]","description":"is expected to have text \"Payit: Authorised to be paid on 11 Apr 20\"","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the payment is approved is expected to have text \"Payit: Authorised to be paid on 11 Apr 20\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":709,"run_time":0.235448475,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:2:1:3]","description":"is expected to have text \"When the transaction appears in your FreeAgent account, it will be matched to this bill\"","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the payment is approved is expected to have text \"When the transaction appears in your FreeAgent account, it will be matched to this bill\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":710,"run_time":0.225574115,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:2:2:1]","description":"is expected to have visible css \"div.fe-NoticeV2--negative\"","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the payment is rejected is expected to have visible css \"div.fe-NoticeV2--negative\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":733,"run_time":0.268347214,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:2:2:2]","description":"is expected to have text \"Payit: This payment attempt failed on 11 Apr 20\"","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the payment is rejected is expected to have text \"Payit: This payment attempt failed on 11 Apr 20\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":734,"run_time":0.233139547,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:2:2:3]","description":"is expected to have text \"This payment attempt was unsuccessful.\"","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the payment is rejected is expected to have text \"This payment attempt was unsuccessful.\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":735,"run_time":0.23908634,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:2:2:4]","description":"is expected to have text \"Payment ID: reference_id\"","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the payment is rejected is expected to have text \"Payment ID: reference_id\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":736,"run_time":0.22998383,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:2:2:5:1]","description":"is expected to have text \"Payment reference UID: payment_reference_uid\"","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the payment is rejected when there is a payment reference uid is expected to have text \"Payment reference UID: payment_reference_uid\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":741,"run_time":0.255093644,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:2:2:6:1]","description":"is expected not to have text \"Payment reference UID\"","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the payment is rejected when there is no payment reference uid is expected not to have text \"Payment reference UID\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":747,"run_time":0.262192382,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:3:1:1]","description":"is expected to have visible css \"div.fe-NoticeV2--positive\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment is approved and the scheduled date has not passed is expected to have visible css \"div.fe-NoticeV2--positive\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":761,"run_time":0.244571957,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:3:1:2]","description":"is expected to have text \"Payit: Scheduled to be paid on 19 Dec 22\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment is approved and the scheduled date has not passed is expected to have text \"Payit: Scheduled to be paid on 19 Dec 22\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":762,"run_time":0.246440353,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:3:1:3]","description":"is expected to have text \"When the transaction appears in your FreeAgent account, it will be matched to this bill and linked below.\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment is approved and the scheduled date has not passed is expected to have text \"When the transaction appears in your FreeAgent account, it will be matched to this bill and linked below.\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":763,"run_time":0.23033706,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:3:1:4]","description":"is expected to have visible link \"Learn about managing scheduled payments\" with href \"https://support.freeagent.com/hc/en-gb/articles/4406046129426\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment is approved and the scheduled date has not passed is expected to have visible link \"Learn about managing scheduled payments\" with href \"https://support.freeagent.com/hc/en-gb/articles/4406046129426\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":764,"run_time":0.296039176,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:3:2:1]","description":"is expected to have visible css \"div.fe-NoticeV2--processing\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment is approved and the scheduled date has passed is expected to have visible css \"div.fe-NoticeV2--processing\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":775,"run_time":0.26299334,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:3:2:2]","description":"is expected to have text \"Payit: Payment scheduled for 19 Dec 22\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment is approved and the scheduled date has passed is expected to have text \"Payit: Payment scheduled for 19 Dec 22\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":776,"run_time":0.269087112,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:3:2:3]","description":"is expected to have text \"Your scheduled payment date has passed. Bank transactions can take a few days to sync\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment is approved and the scheduled date has passed is expected to have text \"Your scheduled payment date has passed. Bank transactions can take a few days to sync\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":777,"run_time":0.229139931,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:3:2:4]","description":"is expected to have visible link \"Learn more about scheduled payments\" with href \"https://support.freeagent.com/hc/en-gb/articles/4406046129426\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment is approved and the scheduled date has passed is expected to have visible link \"Learn more about scheduled payments\" with href \"https://support.freeagent.com/hc/en-gb/articles/4406046129426\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":778,"run_time":0.23954478,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:3:3:1]","description":"is expected to have visible css \"div.fe-NoticeV2--negative\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment is rejected is expected to have visible css \"div.fe-NoticeV2--negative\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":799,"run_time":0.244611475,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:3:3:2]","description":"is expected to have text \"Payit: Payment couldn't be scheduled\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment is rejected is expected to have text \"Payit: Payment couldn't be scheduled\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":800,"run_time":0.243265294,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:3:3:3]","description":"is expected to have text \"We couldn't schedule your payment for 19 Dec 22.\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment is rejected is expected to have text \"We couldn't schedule your payment for 19 Dec 22.\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":801,"run_time":0.259399278,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:3:3:4]","description":"is expected to have text \"Payment ID: reference_id\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment is rejected is expected to have text \"Payment ID: reference_id\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":802,"run_time":0.234686554,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:3:3:5:1]","description":"is expected to have text \"Payment reference UID: payment_reference_uid\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment is rejected when there is a payment reference uid is expected to have text \"Payment reference UID: payment_reference_uid\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":807,"run_time":0.269421145,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:3:3:6:1]","description":"is expected not to have text \"Payment reference UID\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment is rejected when there is no payment reference uid is expected not to have text \"Payment reference UID\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":813,"run_time":0.244756368,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:4:1:1]","description":"is expected not to have visible css \"div.fe-NoticeV2\"","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the last payment was aborted by the customer is expected not to have visible css \"div.fe-NoticeV2\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":829,"run_time":0.238599209,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:4:2:1]","description":"is expected to have visible css \"div.fe-NoticeV2--positive\"","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the payment is approved and the bill marked as paid is expected to have visible css \"div.fe-NoticeV2--positive\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":845,"run_time":0.700192394,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:4:2:2]","description":"is expected to have text \"Payit: Paid and matched\"","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the payment is approved and the bill marked as paid is expected to have text \"Payit: Paid and matched\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":846,"run_time":0.642652021,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:4:2:3]","description":"is expected to have text \"The transaction has been matched to this bill and linked below.\"","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the payment is approved and the bill marked as paid is expected to have text \"The transaction has been matched to this bill and linked below.\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":847,"run_time":0.687688632,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:4:3:1]","description":"is expected not to have visible css \"div.fe-NoticeV2\"","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the payment is manually cancelled is expected not to have visible css \"div.fe-NoticeV2\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":872,"run_time":0.260614558,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:4:4:1]","description":"is expected to have visible css \"div.fe-NoticeV2--processing\"","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the payment is pending is expected to have visible css \"div.fe-NoticeV2--processing\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":893,"run_time":0.286546011,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:4:4:2]","description":"is expected to have text \"Payit: Payment pending\"","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the payment is pending is expected to have text \"Payit: Payment pending\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":894,"run_time":0.260205846,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:4:4:3]","description":"is expected to have text \"FreeAgent is awaiting confirmation of payment status from your bank\"","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the payment is pending is expected to have text \"FreeAgent is awaiting confirmation of payment status from your bank\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":895,"run_time":0.220708767,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:4:5:1]","description":"is expected to have visible css \"div.fe-NoticeV2--negative\"","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the payment is technical error is expected to have visible css \"div.fe-NoticeV2--negative\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":913,"run_time":0.285759068,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:4:5:2]","description":"is expected to have text \"Payit: An error occurred while processing this payment\"","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the payment is technical error is expected to have text \"Payit: An error occurred while processing this payment\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":914,"run_time":0.238411005,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:4:6:1]","description":"is expected to be empty","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the payment has been initiated is expected to be empty","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":932,"run_time":0.277696491,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:4:7:1]","description":"is expected to be empty","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the first payment was a technical error but the second was aborted is expected to be empty","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":957,"run_time":0.381844541,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:4:8:1]","description":"is expected to have visible css \"div.fe-NoticeV2--negative\"","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the payment has a status discrepancy and was customer_aborted is expected to have visible css \"div.fe-NoticeV2--negative\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":975,"run_time":0.245741196,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:4:8:2]","description":"is expected to have text \"Payit: Payment status unavailable\"","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the payment has a status discrepancy and was customer_aborted is expected to have text \"Payit: Payment status unavailable\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":976,"run_time":0.24364336,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:4:8:3]","description":"is expected to have text \"We've been unable to confirm the status of your payment\"","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the payment has a status discrepancy and was customer_aborted is expected to have text \"We've been unable to confirm the status of your payment\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":977,"run_time":0.253524906,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:4:8:4]","description":"is expected to have text \"Payment ID: reference_id\"","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the payment has a status discrepancy and was customer_aborted is expected to have text \"Payment ID: reference_id\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":978,"run_time":0.262086564,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:4:8:5:1]","description":"is expected to have text \"Payment reference UID: payment_reference_uid\"","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the payment has a status discrepancy and was customer_aborted when there is a payment reference uid is expected to have text \"Payment reference UID: payment_reference_uid\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":983,"run_time":0.251932595,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:4:8:6:1]","description":"is expected not to have text \"Payment reference UID\"","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the payment has a status discrepancy and was customer_aborted when there is no payment reference uid is expected not to have text \"Payment reference UID\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":989,"run_time":0.270687772,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:4:9:1]","description":"is expected to have visible css \"div.fe-NoticeV2--negative\"","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the payment has a status discrepancy and was approved is expected to have visible css \"div.fe-NoticeV2--negative\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":975,"run_time":0.2668449,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:4:9:2]","description":"is expected to have text \"Payit: Payment status unavailable\"","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the payment has a status discrepancy and was approved is expected to have text \"Payit: Payment status unavailable\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":976,"run_time":0.251274901,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:4:9:3]","description":"is expected to have text \"We've been unable to confirm the status of your payment\"","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the payment has a status discrepancy and was approved is expected to have text \"We've been unable to confirm the status of your payment\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":977,"run_time":0.279760475,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:4:9:4]","description":"is expected to have text \"Payment ID: reference_id\"","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the payment has a status discrepancy and was approved is expected to have text \"Payment ID: reference_id\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":978,"run_time":0.233361292,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:4:9:5:1]","description":"is expected to have text \"Payment reference UID: payment_reference_uid\"","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the payment has a status discrepancy and was approved when there is a payment reference uid is expected to have text \"Payment reference UID: payment_reference_uid\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":983,"run_time":0.237633749,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:4:9:6:1]","description":"is expected not to have text \"Payment reference UID\"","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the payment has a status discrepancy and was approved when there is no payment reference uid is expected not to have text \"Payment reference UID\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":989,"run_time":0.299649971,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:4:10:1]","description":"is expected to be empty","full_description":"PayitHelper#payit_payment_state_banner for immediate payments when the payment has a status discrepancy and the bill is paid is expected to be empty","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":1012,"run_time":0.652086666,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:5:1:1]","description":"is expected not to have visible css \"div.fe-NoticeV2\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the last payment was aborted by the customer is expected not to have visible css \"div.fe-NoticeV2\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":829,"run_time":0.241153501,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:5:2:1]","description":"is expected to have visible css \"div.fe-NoticeV2--positive\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment is approved and the bill marked as paid is expected to have visible css \"div.fe-NoticeV2--positive\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":845,"run_time":0.727089892,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:5:2:2]","description":"is expected to have text \"Payit: Paid and matched\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment is approved and the bill marked as paid is expected to have text \"Payit: Paid and matched\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":846,"run_time":0.664272559,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:5:2:3]","description":"is expected to have text \"The transaction has been matched to this bill and linked below.\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment is approved and the bill marked as paid is expected to have text \"The transaction has been matched to this bill and linked below.\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":847,"run_time":0.672364007,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:5:3:1]","description":"is expected not to have visible css \"div.fe-NoticeV2\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment is manually cancelled is expected not to have visible css \"div.fe-NoticeV2\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":872,"run_time":0.425293964,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:5:4:1]","description":"is expected to have visible css \"div.fe-NoticeV2--processing\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment is pending is expected to have visible css \"div.fe-NoticeV2--processing\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":893,"run_time":0.658478151,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:5:4:2]","description":"is expected to have text \"Payit: Payment pending\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment is pending is expected to have text \"Payit: Payment pending\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":894,"run_time":0.243403667,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:5:4:3]","description":"is expected to have text \"FreeAgent is awaiting confirmation of payment status from your bank\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment is pending is expected to have text \"FreeAgent is awaiting confirmation of payment status from your bank\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":895,"run_time":0.24660696,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:5:5:1]","description":"is expected to have visible css \"div.fe-NoticeV2--negative\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment is technical error is expected to have visible css \"div.fe-NoticeV2--negative\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":913,"run_time":0.276680043,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:5:5:2]","description":"is expected to have text \"Payit: An error occurred while processing this payment\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment is technical error is expected to have text \"Payit: An error occurred while processing this payment\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":914,"run_time":0.266061563,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:5:6:1]","description":"is expected to be empty","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment has been initiated is expected to be empty","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":932,"run_time":0.259096055,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:5:7:1]","description":"is expected to be empty","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the first payment was a technical error but the second was aborted is expected to be empty","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":957,"run_time":0.346102709,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:5:8:1]","description":"is expected to have visible css \"div.fe-NoticeV2--negative\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment has a status discrepancy and was customer_aborted is expected to have visible css \"div.fe-NoticeV2--negative\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":975,"run_time":0.245083294,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:5:8:2]","description":"is expected to have text \"Payit: Payment status unavailable\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment has a status discrepancy and was customer_aborted is expected to have text \"Payit: Payment status unavailable\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":976,"run_time":0.226761103,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:5:8:3]","description":"is expected to have text \"We've been unable to confirm the status of your payment\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment has a status discrepancy and was customer_aborted is expected to have text \"We've been unable to confirm the status of your payment\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":977,"run_time":0.234854952,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:5:8:4]","description":"is expected to have text \"Payment ID: reference_id\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment has a status discrepancy and was customer_aborted is expected to have text \"Payment ID: reference_id\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":978,"run_time":0.246557882,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:5:8:5:1]","description":"is expected to have text \"Payment reference UID: payment_reference_uid\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment has a status discrepancy and was customer_aborted when there is a payment reference uid is expected to have text \"Payment reference UID: payment_reference_uid\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":983,"run_time":0.268072863,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:5:8:6:1]","description":"is expected not to have text \"Payment reference UID\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment has a status discrepancy and was customer_aborted when there is no payment reference uid is expected not to have text \"Payment reference UID\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":989,"run_time":0.278061216,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:5:9:1]","description":"is expected to have visible css \"div.fe-NoticeV2--negative\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment has a status discrepancy and was approved is expected to have visible css \"div.fe-NoticeV2--negative\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":975,"run_time":0.250023745,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:5:9:2]","description":"is expected to have text \"Payit: Payment status unavailable\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment has a status discrepancy and was approved is expected to have text \"Payit: Payment status unavailable\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":976,"run_time":0.229209983,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:5:9:3]","description":"is expected to have text \"We've been unable to confirm the status of your payment\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment has a status discrepancy and was approved is expected to have text \"We've been unable to confirm the status of your payment\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":977,"run_time":0.223479094,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:5:9:4]","description":"is expected to have text \"Payment ID: reference_id\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment has a status discrepancy and was approved is expected to have text \"Payment ID: reference_id\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":978,"run_time":0.211758468,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:5:9:5:1]","description":"is expected to have text \"Payment reference UID: payment_reference_uid\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment has a status discrepancy and was approved when there is a payment reference uid is expected to have text \"Payment reference UID: payment_reference_uid\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":983,"run_time":0.21497142,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:5:9:6:1]","description":"is expected not to have text \"Payment reference UID\"","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment has a status discrepancy and was approved when there is no payment reference uid is expected not to have text \"Payment reference UID\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":989,"run_time":0.227297657,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:3:5:10:1]","description":"is expected to be empty","full_description":"PayitHelper#payit_payment_state_banner for scheduled payments when the payment has a status discrepancy and the bill is paid is expected to be empty","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":1012,"run_time":0.521969797,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:4:1:1]","description":"returns the date the payment was approved on","full_description":"PayitHelper#payit_date_confirmed when the payment is approved returns the date the payment was approved on","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":1055,"run_time":0.192723231,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:4:2:1]","description":"returns an empty string","full_description":"PayitHelper#payit_date_confirmed when the payment is not approved returns an empty string","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":1075,"run_time":0.19679653,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:5:1:1]","description":"returns the date the payment was scheduled for","full_description":"PayitHelper#payit_date_scheduled when the payment is scheduled returns the date the payment was scheduled for","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":1096,"run_time":0.228061682,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:5:2:1]","description":"returns an empty string","full_description":"PayitHelper#payit_date_scheduled when the payment is immediate returns an empty string","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":1106,"run_time":0.237610277,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:6:1:1]","description":"is expected to equal false","full_description":"PayitHelper#payit_show_inline_error? without payit_error param is expected to equal false","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":1118,"run_time":0.003759666,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:6:2:1]","description":"is expected to equal false","full_description":"PayitHelper#payit_show_inline_error? with payit_error param set to unknown value is expected to equal false","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":1124,"run_time":0.00312075,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:6:3:1]","description":"is expected to equal true","full_description":"PayitHelper#payit_show_inline_error? with payit_error param set to non_valid_date is expected to equal true","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":1131,"run_time":0.002746037,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:6:4:1]","description":"is expected to equal true","full_description":"PayitHelper#payit_show_inline_error? with payit_error param set to date_in_the_past is expected to equal true","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":1131,"run_time":0.002778756,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:6:5:1]","description":"is expected to equal true","full_description":"PayitHelper#payit_show_inline_error? with payit_error param set to date_on_weekend is expected to equal true","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":1131,"run_time":0.002777838,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:6:6:1]","description":"is expected to equal true","full_description":"PayitHelper#payit_show_inline_error? with payit_error param set to date_too_far_into_the_future is expected to equal true","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":1131,"run_time":0.002659748,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:7:1:1]","description":"is expected to equal nil","full_description":"PayitHelper#payit_render_inline_error with payit_error param set to unknown value is expected to equal nil","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":1146,"run_time":0.010461821,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:7:2:1]","description":"is expected to have visible css \"p.fe-u-textColor--negative\"","full_description":"PayitHelper#payit_render_inline_error with payit_error param set to non_valid_date is expected to have visible css \"p.fe-u-textColor--negative\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":1152,"run_time":0.010959696,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:7:2:2]","description":"is expected to have text \"Please enter a valid date format e.g. 15 Dec 22.\"","full_description":"PayitHelper#payit_render_inline_error with payit_error param set to non_valid_date is expected to have text \"Please enter a valid date format e.g. 15 Dec 22.\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":1153,"run_time":0.005811064,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:7:3:1]","description":"is expected to have visible css \"p.fe-u-textColor--negative\"","full_description":"PayitHelper#payit_render_inline_error with payit_error param set to date_in_the_past is expected to have visible css \"p.fe-u-textColor--negative\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":1159,"run_time":0.011129113,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:7:3:2]","description":"is expected to have text \"Payments cannot be scheduled in the past, please select a date from today onwards.\"","full_description":"PayitHelper#payit_render_inline_error with payit_error param set to date_in_the_past is expected to have text \"Payments cannot be scheduled in the past, please select a date from today onwards.\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":1160,"run_time":0.005657834,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:7:4:1]","description":"is expected to have visible css \"p.fe-u-textColor--negative\"","full_description":"PayitHelper#payit_render_inline_error with payit_error param set to date_on_weekend is expected to have visible css \"p.fe-u-textColor--negative\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":1166,"run_time":0.010550207,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:7:4:2]","description":"is expected to have text \"The date you have selected falls on a weekend and is not a valid business day.\"","full_description":"PayitHelper#payit_render_inline_error with payit_error param set to date_on_weekend is expected to have text \"The date you have selected falls on a weekend and is not a valid business day.\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":1167,"run_time":0.006130317,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:7:5:1]","description":"is expected to have visible css \"p.fe-u-textColor--negative\"","full_description":"PayitHelper#payit_render_inline_error with payit_error param set to date_too_far_into_the_future is expected to have visible css \"p.fe-u-textColor--negative\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":1173,"run_time":0.010594581,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:7:5:2]","description":"is expected to have text \"The date you have selected is too far in the future. Please select a date within five months.\"","full_description":"PayitHelper#payit_render_inline_error with payit_error param set to date_too_far_into_the_future is expected to have text \"The date you have selected is too far in the future. Please select a date within five months.\"","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":1174,"run_time":0.005493048,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:8:1:1]","description":"is expected to equal true","full_description":"PayitHelper#payit_scheduling_available? when payit scheduled payments circuit breaker is working is expected to equal true","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":1193,"run_time":0.013037413,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:8:2:1]","description":"is expected to equal false","full_description":"PayitHelper#payit_scheduling_available? when payit scheduled payments circuit breaker is broken is expected to equal false","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":1199,"run_time":0.013328904,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payit_helper_spec.rb[1:8:2:2:1]","description":"is expected to equal true","full_description":"PayitHelper#payit_scheduling_available? when payit scheduled payments circuit breaker is broken and payit_override_breaker is enabled is expected to equal true","status":"passed","file_path":"./spec/helpers/payit_helper_spec.rb","line_number":1204,"run_time":0.01612413,"pending_message":null,"screenshot":null},{"id":"./spec/features/email_editor_spec.rb[1:1:1]","description":"expands as new lines are added","full_description":"EmailEditor Signed in user with an invoice expands as new lines are added","status":"passed","file_path":"./spec/features/email_editor_spec.rb","line_number":27,"run_time":11.175931831,"pending_message":null,"screenshot":null},{"id":"./spec/features/email_editor_spec.rb[1:1:2]","description":"sends email with basic html content","full_description":"EmailEditor Signed in user with an invoice sends email with basic html content","status":"passed","file_path":"./spec/features/email_editor_spec.rb","line_number":38,"run_time":2.111892219,"pending_message":null,"screenshot":null},{"id":"./spec/features/email_editor_spec.rb[1:1:3]","description":"sends email with html styles","full_description":"EmailEditor Signed in user with an invoice sends email with html styles","status":"passed","file_path":"./spec/features/email_editor_spec.rb","line_number":48,"run_time":1.921572838,"pending_message":null,"screenshot":null},{"id":"./spec/features/email_editor_spec.rb[1:1:4]","description":"sends email with html stripping invalid tags","full_description":"EmailEditor Signed in user with an invoice sends email with html stripping invalid tags","status":"passed","file_path":"./spec/features/email_editor_spec.rb","line_number":58,"run_time":1.803291687,"pending_message":null,"screenshot":null},{"id":"./spec/features/email_editor_spec.rb[1:1:5]","description":"sends email with macros in links","full_description":"EmailEditor Signed in user with an invoice sends email with macros in links","status":"passed","file_path":"./spec/features/email_editor_spec.rb","line_number":69,"run_time":2.162606478,"pending_message":null,"screenshot":null},{"id":"./spec/features/email_editor_spec.rb[1:1:6]","description":"does not strip HTML with invalid links","full_description":"EmailEditor Signed in user with an invoice does not strip HTML with invalid links","status":"passed","file_path":"./spec/features/email_editor_spec.rb","line_number":80,"run_time":1.915657252,"pending_message":null,"screenshot":null},{"id":"./spec/features/email_editor_spec.rb[1:1:7]","description":"does not allow various link types","full_description":"EmailEditor Signed in user with an invoice does not allow various link types","status":"passed","file_path":"./spec/features/email_editor_spec.rb","line_number":91,"run_time":1.941618766,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb[1:1:1:1]","description":"creates an RBSG signup","full_description":"Signups::Factory::RbsgPartnerApiSignup#save with a pps sort code, valid signup and setup params creates an RBSG signup","status":"passed","file_path":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb","line_number":37,"run_time":1.410639741,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb[1:1:1:2:1]","description":"creates an ApiBankFeed","full_description":"Signups::Factory::RbsgPartnerApiSignup#save with a pps sort code, valid signup and setup params with a Mettle signup creates an ApiBankFeed","status":"passed","file_path":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb","line_number":48,"run_time":0.963590886,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb[1:1:1:2:2]","description":"enables the ApiBankFeed","full_description":"Signups::Factory::RbsgPartnerApiSignup#save with a pps sort code, valid signup and setup params with a Mettle signup enables the ApiBankFeed","status":"passed","file_path":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb","line_number":54,"run_time":0.720105558,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb[1:1:1:2:3]","description":"sets the sca_expires_at to 90 days in the future","full_description":"Signups::Factory::RbsgPartnerApiSignup#save with a pps sort code, valid signup and setup params with a Mettle signup sets the sca_expires_at to 90 days in the future","status":"passed","file_path":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb","line_number":60,"run_time":0.704753123,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb[1:1:1:2:4]","description":"fires a `API_BANK_FEED_SETUP_COMPLETED` event","full_description":"Signups::Factory::RbsgPartnerApiSignup#save with a pps sort code, valid signup and setup params with a Mettle signup fires a `API_BANK_FEED_SETUP_COMPLETED` event","status":"passed","file_path":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb","line_number":66,"run_time":0.724422256,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb[1:1:1:2:5]","description":"records the Flying Start event","full_description":"Signups::Factory::RbsgPartnerApiSignup#save with a pps sort code, valid signup and setup params with a Mettle signup records the Flying Start event","status":"passed","file_path":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb","line_number":70,"run_time":0.715202275,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb[1:1:1:2:6]","description":"tracks the signup in Sqreen","full_description":"Signups::Factory::RbsgPartnerApiSignup#save with a pps sort code, valid signup and setup params with a Mettle signup tracks the signup in Sqreen","status":"passed","file_path":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb","line_number":74,"run_time":0.703965223,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb[1:1:2:1]","description":"creates an RBSG signup","full_description":"Signups::Factory::RbsgPartnerApiSignup#save with a genie sort code, valid signup and setup params creates an RBSG signup","status":"passed","file_path":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb","line_number":37,"run_time":0.72747923,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb[1:1:2:2:1]","description":"creates an ApiBankFeed","full_description":"Signups::Factory::RbsgPartnerApiSignup#save with a genie sort code, valid signup and setup params with a Mettle signup creates an ApiBankFeed","status":"passed","file_path":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb","line_number":48,"run_time":0.687737608,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb[1:1:2:2:2]","description":"enables the ApiBankFeed","full_description":"Signups::Factory::RbsgPartnerApiSignup#save with a genie sort code, valid signup and setup params with a Mettle signup enables the ApiBankFeed","status":"passed","file_path":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb","line_number":54,"run_time":0.714646936,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb[1:1:2:2:3]","description":"sets the sca_expires_at to 90 days in the future","full_description":"Signups::Factory::RbsgPartnerApiSignup#save with a genie sort code, valid signup and setup params with a Mettle signup sets the sca_expires_at to 90 days in the future","status":"passed","file_path":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb","line_number":60,"run_time":0.694297824,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb[1:1:2:2:4]","description":"fires a `API_BANK_FEED_SETUP_COMPLETED` event","full_description":"Signups::Factory::RbsgPartnerApiSignup#save with a genie sort code, valid signup and setup params with a Mettle signup fires a `API_BANK_FEED_SETUP_COMPLETED` event","status":"passed","file_path":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb","line_number":66,"run_time":0.724489346,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb[1:1:2:2:5]","description":"records the Flying Start event","full_description":"Signups::Factory::RbsgPartnerApiSignup#save with a genie sort code, valid signup and setup params with a Mettle signup records the Flying Start event","status":"passed","file_path":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb","line_number":70,"run_time":0.672405841,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb[1:1:2:2:6]","description":"tracks the signup in Sqreen","full_description":"Signups::Factory::RbsgPartnerApiSignup#save with a genie sort code, valid signup and setup params with a Mettle signup tracks the signup in Sqreen","status":"passed","file_path":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb","line_number":74,"run_time":0.718534136,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb[1:1:3:1]","description":"returns false","full_description":"Signups::Factory::RbsgPartnerApiSignup#save with missing required params returns false","status":"passed","file_path":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb","line_number":91,"run_time":0.072502448,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb[1:1:3:2]","description":"does not create a signup","full_description":"Signups::Factory::RbsgPartnerApiSignup#save with missing required params does not create a signup","status":"passed","file_path":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb","line_number":95,"run_time":0.040171329,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb[1:1:3:3]","description":"does not create an activated signup","full_description":"Signups::Factory::RbsgPartnerApiSignup#save with missing required params does not create an activated signup","status":"passed","file_path":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb","line_number":101,"run_time":0.044361849,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb[1:1:3:4]","description":"creates an RBSG signup","full_description":"Signups::Factory::RbsgPartnerApiSignup#save with missing required params creates an RBSG signup","status":"passed","file_path":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb","line_number":107,"run_time":0.045123214,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb[1:1:3:5]","description":"does not create a company","full_description":"Signups::Factory::RbsgPartnerApiSignup#save with missing required params does not create a company","status":"passed","file_path":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb","line_number":113,"run_time":0.04926745,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb[1:1:3:6]","description":"has RBSG errors","full_description":"Signups::Factory::RbsgPartnerApiSignup#save with missing required params has RBSG errors","status":"passed","file_path":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb","line_number":119,"run_time":0.064434901,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb[1:1:3:7]","description":"does not track the signup in Sqreen","full_description":"Signups::Factory::RbsgPartnerApiSignup#save with missing required params does not track the signup in Sqreen","status":"passed","file_path":"./spec/freeagent/signups/factory/rbsg_partner_api_signup_spec.rb","line_number":128,"run_time":0.044140919,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:5]","description":"when accounts are ready to view it displays bank accounts from Yodlee","full_description":"BankFeeds::BankFeedsController when accounts are ready to view it displays bank accounts from Yodlee","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":299,"run_time":0.232807327,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:6]","description":"after setup","full_description":"BankFeeds::BankFeedsController after setup","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":317,"run_time":0.095729056,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:8]","description":"cancelling setup","full_description":"BankFeeds::BankFeedsController cancelling setup","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":392,"run_time":0.093719794,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:9]","description":"cancelling setup when bank feed already removed","full_description":"BankFeeds::BankFeedsController cancelling setup when bank feed already removed","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":402,"run_time":0.059828966,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:10]","description":"mfa_setup_complete","full_description":"BankFeeds::BankFeedsController mfa_setup_complete","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":409,"run_time":0.197126395,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:1:1:1]","description":"renders the correct template","full_description":"BankFeeds::BankFeedsController behaves like a disableable feed controller GET #confirm_disable renders the correct template","status":"passed","file_path":"./spec/shared/bank_feeds/disableable_feed_controller_examples.rb","line_number":9,"run_time":0.152043986,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:1:2:1]","description":"shows a flash","full_description":"BankFeeds::BankFeedsController behaves like a disableable feed controller PUT #disable shows a flash","status":"passed","file_path":"./spec/shared/bank_feeds/disableable_feed_controller_examples.rb","line_number":17,"run_time":0.184861217,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:1:2:2]","description":"disables feed","full_description":"BankFeeds::BankFeedsController behaves like a disableable feed controller PUT #disable disables feed","status":"passed","file_path":"./spec/shared/bank_feeds/disableable_feed_controller_examples.rb","line_number":21,"run_time":0.188979513,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:2:1:1]","description":"creates a yodlee bank feed","full_description":"BankFeeds::BankFeedsController#create for a bank account creates a yodlee bank feed","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":29,"run_time":0.141370945,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:2:1:2]","description":"assigns the bank feed","full_description":"BankFeeds::BankFeedsController#create for a bank account assigns the bank feed","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":33,"run_time":0.139783492,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:2:1:3]","description":"publishes a bank feed setup started event","full_description":"BankFeeds::BankFeedsController#create for a bank account publishes a bank feed setup started event","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":37,"run_time":0.148956766,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:2:1:4]","description":"publishes a bank feed service selected funnel event","full_description":"BankFeeds::BankFeedsController#create for a bank account publishes a bank feed service selected funnel event","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":41,"run_time":0.16086429,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:2:2:2]","description":"returns no content","full_description":"BankFeeds::BankFeedsController#create for an RBSG resold company returns no content","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":64,"run_time":0.12552375,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:2:2:1:1]","description":"returns no content","full_description":"BankFeeds::BankFeedsController#create for an RBSG resold company when bank feed is not active returns no content","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":57,"run_time":0.159777695,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:2:3:1]","description":"redirects the user to create the feed","full_description":"BankFeeds::BankFeedsController#create for an open banking service redirects the user to create the feed","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":77,"run_time":0.15750224,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:2:3:2]","description":"shows an error message when the service is unavailable","full_description":"BankFeeds::BankFeedsController#create for an open banking service shows an error message when the service is unavailable","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":85,"run_time":0.140793397,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:2:4:1]","description":"returns a generic 404","full_description":"BankFeeds::BankFeedsController#create no bank service id returns a generic 404","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":101,"run_time":0.131131309,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:2:5:1:1]","description":"redirects to generic explanation of third-party process","full_description":"BankFeeds::BankFeedsController#create API bank Mettle redirects to generic explanation of third-party process","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":115,"run_time":0.044929271,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:3:1:1]","description":"redirects to bank account page when bank feed enabled","full_description":"BankFeeds::BankFeedsController show companies eligible for bank feed sign up redirects to bank account page when bank feed enabled","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":129,"run_time":0.095134077,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:3:1:2]","description":"raise an error and redirect to the bank account page when the bank feed has unknown state","full_description":"BankFeeds::BankFeedsController show companies eligible for bank feed sign up raise an error and redirect to the bank account page when the bank feed has unknown state","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":134,"run_time":0.082852273,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:3:2:1]","description":"returns a RecordNotFound for an RBSG resold company","full_description":"BankFeeds::BankFeedsController show for RBSG resold companies returns a RecordNotFound for an RBSG resold company","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":147,"run_time":0.182724985,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:4:1]","description":"asks Banksy for the security questions and provide them to the view","full_description":"BankFeeds::BankFeedsController entering bank security details asks Banksy for the security questions and provide them to the view","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":162,"run_time":0.126483048,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:4:2]","description":"prompts the user to answer the security questions from Banksy","full_description":"BankFeeds::BankFeedsController entering bank security details prompts the user to answer the security questions from Banksy","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":172,"run_time":0.194830451,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:4:3]","description":"prompts the user to reanswer the security questions as the credentials were rejected","full_description":"BankFeeds::BankFeedsController entering bank security details prompts the user to reanswer the security questions as the credentials were rejected","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":181,"run_time":0.303740617,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:4:4]","description":"displays the circuit broken error message to the user if the switch is broken","full_description":"BankFeeds::BankFeedsController entering bank security details displays the circuit broken error message to the user if the switch is broken","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":191,"run_time":0.263311242,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:4:5:1]","description":"displays a timeout error","full_description":"BankFeeds::BankFeedsController entering bank security details when there's a timeout error displays a timeout error","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":213,"run_time":0.204354993,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:4:5:2]","description":"does not notify error service","full_description":"BankFeeds::BankFeedsController entering bank security details when there's a timeout error does not notify error service","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":221,"run_time":0.226612651,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:4:5:3]","description":"increments timeout metric","full_description":"BankFeeds::BankFeedsController entering bank security details when there's a timeout error increments timeout metric","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":229,"run_time":0.195445883,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:4:6:1]","description":"displays a connection error","full_description":"BankFeeds::BankFeedsController entering bank security details when there's a connection failure displays a connection error","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":249,"run_time":0.22806113,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:4:6:2]","description":"logs a message","full_description":"BankFeeds::BankFeedsController entering bank security details when there's a connection failure logs a message","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":257,"run_time":0.23270811,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:4:7:1]","description":"displays a connection error","full_description":"BankFeeds::BankFeedsController entering bank security details when there is a Banksy Internal Server Error displays a connection error","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":278,"run_time":0.228768181,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:4:7:2]","description":"logs a message","full_description":"BankFeeds::BankFeedsController entering bank security details when there is a Banksy Internal Server Error logs a message","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":286,"run_time":0.188983204,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:7:1]","description":"sets the bank_account_reference","full_description":"BankFeeds::BankFeedsController when selecting bank account sets the bank_account_reference","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":344,"run_time":0.19553172,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:7:2]","description":"sets errors","full_description":"BankFeeds::BankFeedsController when selecting bank account sets errors","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":357,"run_time":0.259508161,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:7:3]","description":"does not schedule an import to activate the feed when still in setup","full_description":"BankFeeds::BankFeedsController when selecting bank account does not schedule an import to activate the feed when still in setup","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":362,"run_time":0.183075334,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:7:4]","description":"does not schedule an import to activate the feed when still in setup","full_description":"BankFeeds::BankFeedsController when selecting bank account does not schedule an import to activate the feed when still in setup","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":373,"run_time":0.228164311,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:7:5]","description":"schedules an import immediately to activate feed","full_description":"BankFeeds::BankFeedsController when selecting bank account schedules an import immediately to activate feed","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":378,"run_time":0.200043407,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:11:1]","description":"publishes an event","full_description":"BankFeeds::BankFeedsController mfa_import_complete publishes an event","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":423,"run_time":0.158029838,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:11:2]","description":"schedules an import job for each of the auth's bank feeds","full_description":"BankFeeds::BankFeedsController mfa_import_complete schedules an import job for each of the auth's bank feeds","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":428,"run_time":0.17046106,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:11:3]","description":"redirects to bank account show","full_description":"BankFeeds::BankFeedsController mfa_import_complete redirects to bank account show","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":433,"run_time":0.15591916,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:12:1:1]","description":"enters the MFA flow","full_description":"BankFeeds::BankFeedsController import MFA bank feed enters the MFA flow","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":448,"run_time":0.105833964,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:12:2:1]","description":"sets an error response status","full_description":"BankFeeds::BankFeedsController import MFA bank feed and a yodlee circuit breaker has triggered sets an error response status","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":460,"run_time":0.098693275,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:12:3:1]","description":"redirects to bank account show","full_description":"BankFeeds::BankFeedsController import non-MFA feed redirects to bank account show","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":468,"run_time":0.077468042,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:12:3:2]","description":"notifies the error service","full_description":"BankFeeds::BankFeedsController import non-MFA feed notifies the error service","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":473,"run_time":0.071756098,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:13:1]","description":"redirects to bank account show","full_description":"BankFeeds::BankFeedsController disabling Yodlee feed redirects to bank account show","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":489,"run_time":0.167592086,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:13:2]","description":"sets the flash","full_description":"BankFeeds::BankFeedsController disabling Yodlee feed sets the flash","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":493,"run_time":0.163959191,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:13:3]","description":"disables the bank feed","full_description":"BankFeeds::BankFeedsController disabling Yodlee feed disables the bank feed","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":497,"run_time":0.158271884,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:14:1]","description":"shows the security details in the logs","full_description":"BankFeeds::BankFeedsController yodlee bank credentials are submitted shows the security details in the logs","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":514,"run_time":0.149089238,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:14:4]","description":"sets errors when the form is not valid","full_description":"BankFeeds::BankFeedsController yodlee bank credentials are submitted sets errors when the form is not valid","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":609,"run_time":0.187040777,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:14:2:1]","description":"doesn't allow credentials to be submitted","full_description":"BankFeeds::BankFeedsController yodlee bank credentials are submitted when the company is unconfirmed doesn't allow credentials to be submitted","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":523,"run_time":0.21978336,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:14:3:1]","description":"authorizes bank when connected to a Yodlee profile","full_description":"BankFeeds::BankFeedsController yodlee bank credentials are submitted when form is valid authorizes bank when connected to a Yodlee profile","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":536,"run_time":0.164568199,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:14:3:2]","description":"schedules a job for non-MFA feeds to wait for the bank accounts list to be ready","full_description":"BankFeeds::BankFeedsController yodlee bank credentials are submitted when form is valid schedules a job for non-MFA feeds to wait for the bank accounts list to be ready","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":552,"run_time":0.178156868,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:14:3:3]","description":"does not schedule a job for MFA feeds to wait for the bank accounts list to be ready","full_description":"BankFeeds::BankFeedsController yodlee bank credentials are submitted when form is valid does not schedule a job for MFA feeds to wait for the bank accounts list to be ready","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":567,"run_time":0.194955623,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:14:3:4]","description":"sets errors when the yodlee credentials are disabled","full_description":"BankFeeds::BankFeedsController yodlee bank credentials are submitted when form is valid sets errors when the yodlee credentials are disabled","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":580,"run_time":0.1752914,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:14:3:5]","description":"displays error message when cannot connect to a Yodlee profile","full_description":"BankFeeds::BankFeedsController yodlee bank credentials are submitted when form is valid displays error message when cannot connect to a Yodlee profile","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":595,"run_time":0.233783772,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:15:1:1]","description":"does not save the entrypoint","full_description":"BankFeeds::BankFeedsController saving entrypoint when the referer is bank account edit does not save the entrypoint","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":634,"run_time":0.085671995,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb[1:15:2:1]","description":"saves the entrypoint ","full_description":"BankFeeds::BankFeedsController saving entrypoint when the entrypoint is bank account show saves the entrypoint ","status":"passed","file_path":"./spec/controllers/bank_feeds/bank_feeds_controller_spec.rb","line_number":643,"run_time":0.093514681,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting/ir35/report_for_standard_vat_alternative_ni.feature[1:1:1]","description":"Given the current date is 2016-04-06 -\u003e And a UK Limited Company which was started on 2015-01-01 -\u003e And the company is VAT registered from 2015-01-01 -\u003e And they have GBP bank account -\u003e And they are viewing the IR35 report for the 2015/16 tax year -\u003e And the director is over 21 years old -\u003e And the director uses the Directors' Alternative method for calculating NI -\u003e And the company is not eligible for employment allowance -\u003e Given an IR35 project -\u003e And a related unbilled Expense for £240.00 inc 20% VAT on 2015-04-20 -\u003e And a related unbilled Expense for £240.00 inc 20% VAT on 2015-05-20 -\u003e And a related unbilled Expense for £240.00 inc 20% VAT on 2015-06-20 -\u003e And a related unbilled Expense for £240.00 inc 20% VAT on 2015-07-20 -\u003e And a related unbilled Expense for £240.00 inc 20% VAT on 2015-08-20 -\u003e And a related unbilled Expense for £240.00 inc 20% VAT on 2015-09-20 -\u003e And a related unbilled Expense for £240.00 inc 20% VAT on 2015-10-20 -\u003e And a related unbilled Expense for £240.00 inc 20% VAT on 2015-11-20 -\u003e And a related unbilled Expense for £240.00 inc 20% VAT on 2015-12-20 -\u003e And a related unbilled Expense for £240.00 inc 20% VAT on 2016-01-20 -\u003e And a related unbilled Expense for £240.00 inc 20% VAT on 2016-02-20 -\u003e And a related unbilled Expense for £240.00 inc 20% VAT on 2016-03-20 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2015-04-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2015-05-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2015-06-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2015-07-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2015-08-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2015-09-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2015-10-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2015-11-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2015-12-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2016-01-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2016-02-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2016-03-25 -\u003e And the director gets paid £4550.00 on 2015-04-30 -\u003e And the director gets paid £3960.41 on 2015-05-30 -\u003e And the director gets paid £3648.27 on 2015-06-30 -\u003e And the director gets paid £4080.22 on 2015-07-30 -\u003e And the director gets paid £4080.22 on 2015-08-30 -\u003e And the director gets paid £4080.22 on 2015-09-30 -\u003e And the director gets paid £4080.22 on 2015-10-30 -\u003e And the director gets paid £4080.22 on 2015-11-30 -\u003e And the director gets paid £4080.22 on 2015-12-30 -\u003e And the director gets paid £4080.22 on 2016-01-30 -\u003e And the director gets paid £4080.22 on 2016-02-29 -\u003e When viewing the IR35 Report -\u003e Then the deemed payments should be","full_description":"IR35 Reports for UK Limited Company VAT Registered company using Directors' Alternative method for NI Given the current date is 2016-04-06 -\u003e And a UK Limited Company which was started on 2015-01-01 -\u003e And the company is VAT registered from 2015-01-01 -\u003e And they have GBP bank account -\u003e And they are viewing the IR35 report for the 2015/16 tax year -\u003e And the director is over 21 years old -\u003e And the director uses the Directors' Alternative method for calculating NI -\u003e And the company is not eligible for employment allowance -\u003e Given an IR35 project -\u003e And a related unbilled Expense for £240.00 inc 20% VAT on 2015-04-20 -\u003e And a related unbilled Expense for £240.00 inc 20% VAT on 2015-05-20 -\u003e And a related unbilled Expense for £240.00 inc 20% VAT on 2015-06-20 -\u003e And a related unbilled Expense for £240.00 inc 20% VAT on 2015-07-20 -\u003e And a related unbilled Expense for £240.00 inc 20% VAT on 2015-08-20 -\u003e And a related unbilled Expense for £240.00 inc 20% VAT on 2015-09-20 -\u003e And a related unbilled Expense for £240.00 inc 20% VAT on 2015-10-20 -\u003e And a related unbilled Expense for £240.00 inc 20% VAT on 2015-11-20 -\u003e And a related unbilled Expense for £240.00 inc 20% VAT on 2015-12-20 -\u003e And a related unbilled Expense for £240.00 inc 20% VAT on 2016-01-20 -\u003e And a related unbilled Expense for £240.00 inc 20% VAT on 2016-02-20 -\u003e And a related unbilled Expense for £240.00 inc 20% VAT on 2016-03-20 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2015-04-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2015-05-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2015-06-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2015-07-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2015-08-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2015-09-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2015-10-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2015-11-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2015-12-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2016-01-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2016-02-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2016-03-25 -\u003e And the director gets paid £4550.00 on 2015-04-30 -\u003e And the director gets paid £3960.41 on 2015-05-30 -\u003e And the director gets paid £3648.27 on 2015-06-30 -\u003e And the director gets paid £4080.22 on 2015-07-30 -\u003e And the director gets paid £4080.22 on 2015-08-30 -\u003e And the director gets paid £4080.22 on 2015-09-30 -\u003e And the director gets paid £4080.22 on 2015-10-30 -\u003e And the director gets paid £4080.22 on 2015-11-30 -\u003e And the director gets paid £4080.22 on 2015-12-30 -\u003e And the director gets paid £4080.22 on 2016-01-30 -\u003e And the director gets paid £4080.22 on 2016-02-29 -\u003e When viewing the IR35 Report -\u003e Then the deemed payments should be","status":"passed","file_path":"./spec/acceptance/accounting/ir35/report_for_standard_vat_alternative_ni.feature","line_number":16,"run_time":9.254110676,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/year_ends_controller_spec.rb[1:1:3]","description":"links to the final accounts report and corporation tax returns","full_description":"Admin::Companies::YearEndsController#index links to the final accounts report and corporation tax returns","status":"passed","file_path":"./spec/controllers/admin/year_ends_controller_spec.rb","line_number":51,"run_time":0.404943786,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/year_ends_controller_spec.rb[1:1:1:1]","description":"redirects to the company page","full_description":"Admin::Companies::YearEndsController#index when the user does not have permission redirects to the company page","status":"passed","file_path":"./spec/controllers/admin/year_ends_controller_spec.rb","line_number":27,"run_time":0.328662514,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/year_ends_controller_spec.rb[1:1:2:1]","description":"redirects to the company page","full_description":"Admin::Companies::YearEndsController#index when support access is disabled redirects to the company page","status":"passed","file_path":"./spec/controllers/admin/year_ends_controller_spec.rb","line_number":36,"run_time":0.432321927,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/year_ends_controller_spec.rb[1:2:3]","description":"shows the number of submissions","full_description":"Admin::Companies::YearEndsController#final_accounts_report shows the number of submissions","status":"passed","file_path":"./spec/controllers/admin/year_ends_controller_spec.rb","line_number":72,"run_time":0.429406454,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/year_ends_controller_spec.rb[1:2:1:1]","description":"redirects to the company page","full_description":"Admin::Companies::YearEndsController#final_accounts_report when the user does not have permission redirects to the company page","status":"passed","file_path":"./spec/controllers/admin/year_ends_controller_spec.rb","line_number":27,"run_time":0.3896061,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/year_ends_controller_spec.rb[1:2:2:1]","description":"redirects to the company page","full_description":"Admin::Companies::YearEndsController#final_accounts_report when support access is disabled redirects to the company page","status":"passed","file_path":"./spec/controllers/admin/year_ends_controller_spec.rb","line_number":36,"run_time":0.386877779,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/year_ends_controller_spec.rb[1:2:4:1]","description":"shows the number of submissions","full_description":"Admin::Companies::YearEndsController#final_accounts_report when there is a submission shows the number of submissions","status":"passed","file_path":"./spec/controllers/admin/year_ends_controller_spec.rb","line_number":88,"run_time":0.720872722,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/year_ends_controller_spec.rb[1:3:3]","description":"shows the number of submissions","full_description":"Admin::Companies::YearEndsController#corporation_tax_return shows the number of submissions","status":"passed","file_path":"./spec/controllers/admin/year_ends_controller_spec.rb","line_number":110,"run_time":0.448428529,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/year_ends_controller_spec.rb[1:3:1:1]","description":"redirects to the company page","full_description":"Admin::Companies::YearEndsController#corporation_tax_return when the user does not have permission redirects to the company page","status":"passed","file_path":"./spec/controllers/admin/year_ends_controller_spec.rb","line_number":27,"run_time":0.352716592,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/year_ends_controller_spec.rb[1:3:2:1]","description":"redirects to the company page","full_description":"Admin::Companies::YearEndsController#corporation_tax_return when support access is disabled redirects to the company page","status":"passed","file_path":"./spec/controllers/admin/year_ends_controller_spec.rb","line_number":36,"run_time":0.411400964,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/year_ends_controller_spec.rb[1:3:4:1]","description":"shows the number of submissions","full_description":"Admin::Companies::YearEndsController#corporation_tax_return when there is a submission shows the number of submissions","status":"passed","file_path":"./spec/controllers/admin/year_ends_controller_spec.rb","line_number":125,"run_time":1.320561487,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/reminder_email_sender_spec.rb[1:1:1:1:1:1]","description":"should not send out emails","full_description":"Invoicing::ReminderEmailSender#deliver the hourly reminder emails process in a UK timezone before 09:00 am should not send out emails","status":"passed","file_path":"./spec/models/invoicing/reminder_email_sender_spec.rb","line_number":28,"run_time":0.226725735,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/reminder_email_sender_spec.rb[1:1:1:1:2:1]","description":"should send out emails","full_description":"Invoicing::ReminderEmailSender#deliver the hourly reminder emails process in a UK timezone at 9.00 am should send out emails","status":"passed","file_path":"./spec/models/invoicing/reminder_email_sender_spec.rb","line_number":40,"run_time":0.297058269,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/reminder_email_sender_spec.rb[1:1:1:1:2:2:1]","description":"should not send out duplicate emails","full_description":"Invoicing::ReminderEmailSender#deliver the hourly reminder emails process in a UK timezone at 9.00 am in the next run should not send out duplicate emails","status":"passed","file_path":"./spec/models/invoicing/reminder_email_sender_spec.rb","line_number":52,"run_time":0.292084894,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/reminder_email_sender_spec.rb[1:1:1:2:1:1]","description":"should not send out emails","full_description":"Invoicing::ReminderEmailSender#deliver the hourly reminder emails process in the Eastern seaboard timezone before 9:00AM should not send out emails","status":"passed","file_path":"./spec/models/invoicing/reminder_email_sender_spec.rb","line_number":72,"run_time":0.193445265,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/reminder_email_sender_spec.rb[1:1:1:2:2:1]","description":"should send out emails","full_description":"Invoicing::ReminderEmailSender#deliver the hourly reminder emails process in the Eastern seaboard timezone at 9.00AM should send out emails","status":"passed","file_path":"./spec/models/invoicing/reminder_email_sender_spec.rb","line_number":85,"run_time":0.353103805,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/reminder_email_sender_spec.rb[1:1:1:2:2:2:1]","description":"should not send out a duplicate email","full_description":"Invoicing::ReminderEmailSender#deliver the hourly reminder emails process in the Eastern seaboard timezone at 9.00AM in the following 10am run should not send out a duplicate email","status":"passed","file_path":"./spec/models/invoicing/reminder_email_sender_spec.rb","line_number":97,"run_time":0.28376842,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/reminder_email_sender_spec.rb[1:1:1:2:2:3:1]","description":"should not send out a duplicate email","full_description":"Invoicing::ReminderEmailSender#deliver the hourly reminder emails process in the Eastern seaboard timezone at 9.00AM in the 19:00 run (which will be the next day in UK time) should not send out a duplicate email","status":"passed","file_path":"./spec/models/invoicing/reminder_email_sender_spec.rb","line_number":110,"run_time":0.273802837,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/reminder_email_sender_spec.rb[1:1:2:1]","description":"should only send reminder emails for invoices marked as sendable","full_description":"Invoicing::ReminderEmailSender#deliver Running the reminder emails process should only send reminder emails for invoices marked as sendable","status":"passed","file_path":"./spec/models/invoicing/reminder_email_sender_spec.rb","line_number":128,"run_time":0.433581053,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/reminder_email_sender_spec.rb[1:1:2:2]","description":"should include any document attachments specified on the reminder template","full_description":"Invoicing::ReminderEmailSender#deliver Running the reminder emails process should include any document attachments specified on the reminder template","status":"passed","file_path":"./spec/models/invoicing/reminder_email_sender_spec.rb","line_number":173,"run_time":0.540174309,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/reminder_email_sender_spec.rb[1:1:2:3]","description":"should not send reminder emails for credit notes","full_description":"Invoicing::ReminderEmailSender#deliver Running the reminder emails process should not send reminder emails for credit notes","status":"passed","file_path":"./spec/models/invoicing/reminder_email_sender_spec.rb","line_number":193,"run_time":0.275400014,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/reminder_email_sender_spec.rb[1:1:2:4]","description":"should not send reminder emails for paid invoices","full_description":"Invoicing::ReminderEmailSender#deliver Running the reminder emails process should not send reminder emails for paid invoices","status":"passed","file_path":"./spec/models/invoicing/reminder_email_sender_spec.rb","line_number":211,"run_time":0.518316312,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/reminder_email_sender_spec.rb[1:1:2:5]","description":"should not send reminder emails for overpaid invoices","full_description":"Invoicing::ReminderEmailSender#deliver Running the reminder emails process should not send reminder emails for overpaid invoices","status":"passed","file_path":"./spec/models/invoicing/reminder_email_sender_spec.rb","line_number":236,"run_time":0.41699827,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/reminder_email_sender_spec.rb[1:1:2:8]","description":"should only send one reminder if there are multiple matching templates","full_description":"Invoicing::ReminderEmailSender#deliver Running the reminder emails process should only send one reminder if there are multiple matching templates","status":"passed","file_path":"./spec/models/invoicing/reminder_email_sender_spec.rb","line_number":300,"run_time":0.26439971,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/reminder_email_sender_spec.rb[1:1:2:9]","description":"publishes INVOICE_REMINDER_SENT event when sending a reminder","full_description":"Invoicing::ReminderEmailSender#deliver Running the reminder emails process publishes INVOICE_REMINDER_SENT event when sending a reminder","status":"passed","file_path":"./spec/models/invoicing/reminder_email_sender_spec.rb","line_number":312,"run_time":0.249722673,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/reminder_email_sender_spec.rb[1:1:2:6:1]","description":"should not send any reminder emails","full_description":"Invoicing::ReminderEmailSender#deliver Running the reminder emails process when the company's free trial has expired should not send any reminder emails","status":"passed","file_path":"./spec/models/invoicing/reminder_email_sender_spec.rb","line_number":278,"run_time":0.289090052,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/reminder_email_sender_spec.rb[1:1:2:7:1]","description":"should not send any reminder emails","full_description":"Invoicing::ReminderEmailSender#deliver Running the reminder emails process when the company is frozen should not send any reminder emails","status":"passed","file_path":"./spec/models/invoicing/reminder_email_sender_spec.rb","line_number":294,"run_time":0.213159819,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/reminder_email_sender_spec.rb[1:2:3]","description":"does not publish an INVOICE_REMINDER_SENT event","full_description":"Invoicing::ReminderEmailSender#send_reminder does not publish an INVOICE_REMINDER_SENT event","status":"passed","file_path":"./spec/models/invoicing/reminder_email_sender_spec.rb","line_number":351,"run_time":0.209843103,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/reminder_email_sender_spec.rb[1:2:1:1]","description":"unblocks the recipients and delivers the email","full_description":"Invoicing::ReminderEmailSender#send_reminder when unblock_from_bounce_list is true unblocks the recipients and delivers the email","status":"passed","file_path":"./spec/models/invoicing/reminder_email_sender_spec.rb","line_number":336,"run_time":0.18423819,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/reminder_email_sender_spec.rb[1:2:2:1]","description":"delivers the email","full_description":"Invoicing::ReminderEmailSender#send_reminder when unblock_from_bounce_list is false delivers the email","status":"passed","file_path":"./spec/models/invoicing/reminder_email_sender_spec.rb","line_number":344,"run_time":0.225525464,"pending_message":null,"screenshot":null},{"id":"./spec/requests/contact_account_balance_spec.rb[1:1:1]","description":"sets the account balance to zero","full_description":"ContactAccountBalance Creating a new contact sets the account balance to zero","status":"passed","file_path":"./spec/requests/contact_account_balance_spec.rb","line_number":17,"run_time":0.107418061,"pending_message":null,"screenshot":null},{"id":"./spec/requests/contact_account_balance_spec.rb[1:2:1]","description":"does not affect the account balance","full_description":"ContactAccountBalance Creating a draft invoice with invoice items does not affect the account balance","status":"passed","file_path":"./spec/requests/contact_account_balance_spec.rb","line_number":33,"run_time":0.156018588,"pending_message":null,"screenshot":null},{"id":"./spec/requests/contact_account_balance_spec.rb[1:2:2:1]","description":"updates the account balance","full_description":"ContactAccountBalance Creating a draft invoice with invoice items and marking the invoice as sent updates the account balance","status":"passed","file_path":"./spec/requests/contact_account_balance_spec.rb","line_number":45,"run_time":0.348770436,"pending_message":null,"screenshot":null},{"id":"./spec/requests/contact_account_balance_spec.rb[1:2:2:2:1]","description":"resets the account balance to zero","full_description":"ContactAccountBalance Creating a draft invoice with invoice items and marking the invoice as sent then deleting the invoice resets the account balance to zero","status":"passed","file_path":"./spec/requests/contact_account_balance_spec.rb","line_number":56,"run_time":0.496174331,"pending_message":null,"screenshot":null},{"id":"./spec/requests/contact_account_balance_spec.rb[1:2:2:3:1]","description":"resets the account balance to zero","full_description":"ContactAccountBalance Creating a draft invoice with invoice items and marking the invoice as sent then marking the invoice as paid resets the account balance to zero","status":"passed","file_path":"./spec/requests/contact_account_balance_spec.rb","line_number":82,"run_time":0.627860195,"pending_message":null,"screenshot":null},{"id":"./spec/requests/contact_account_balance_spec.rb[1:2:2:3:2:1]","description":"updates the account balance","full_description":"ContactAccountBalance Creating a draft invoice with invoice items and marking the invoice as sent then marking the invoice as paid then deleting the payment updates the account balance","status":"passed","file_path":"./spec/requests/contact_account_balance_spec.rb","line_number":96,"run_time":0.801286542,"pending_message":null,"screenshot":null},{"id":"./spec/requests/contact_account_balance_spec.rb[1:2:2:3:3:1]","description":"updates the account balance","full_description":"ContactAccountBalance Creating a draft invoice with invoice items and marking the invoice as sent then marking the invoice as paid then updating the payment to a part-payment updates the account balance","status":"passed","file_path":"./spec/requests/contact_account_balance_spec.rb","line_number":112,"run_time":0.854518801,"pending_message":null,"screenshot":null},{"id":"./spec/requests/contact_account_balance_spec.rb[1:3:1]","description":"updates the account balance","full_description":"ContactAccountBalance Creating a bill updates the account balance","status":"passed","file_path":"./spec/requests/contact_account_balance_spec.rb","line_number":146,"run_time":0.194850579,"pending_message":null,"screenshot":null},{"id":"./spec/requests/contact_account_balance_spec.rb[1:3:2:1]","description":"resets the account balance to zero","full_description":"ContactAccountBalance Creating a bill and then deleting the bill resets the account balance to zero","status":"passed","file_path":"./spec/requests/contact_account_balance_spec.rb","line_number":158,"run_time":0.264274036,"pending_message":null,"screenshot":null},{"id":"./spec/requests/contact_account_balance_spec.rb[1:3:3:1]","description":"updates the account balance","full_description":"ContactAccountBalance Creating a bill and then updating the bill updates the account balance","status":"passed","file_path":"./spec/requests/contact_account_balance_spec.rb","line_number":174,"run_time":0.390192267,"pending_message":null,"screenshot":null},{"id":"./spec/requests/contact_account_balance_spec.rb[1:3:4:1]","description":"resets the account balance to zero","full_description":"ContactAccountBalance Creating a bill and then adding a payment resets the account balance to zero","status":"passed","file_path":"./spec/requests/contact_account_balance_spec.rb","line_number":200,"run_time":0.568729656,"pending_message":null,"screenshot":null},{"id":"./spec/requests/contact_account_balance_spec.rb[1:3:4:2:1]","description":"updates the account balance","full_description":"ContactAccountBalance Creating a bill and then adding a payment and then deleting the payment updates the account balance","status":"passed","file_path":"./spec/requests/contact_account_balance_spec.rb","line_number":214,"run_time":0.693706208,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/tax_year20172018/marriage_allowance.feature[1:1:1]","description":"Given a UK sole trader with company start date: 2017-01-31, first accounting year end: 2018-04-05 -\u003e Given the customer opts into the other uk income section for 2017/18 -\u003e And the customer fills in the following boxes for 2017/18: -\u003e And the customer opts into the marriage allowance section for 2017/18 -\u003e Then the v3 self assessment return for 2017/18 will show the following boxes:","full_description":"Self Assessment Marriage Allowance Total income under rUK Marriage Allowance threshold Given a UK sole trader with company start date: 2017-01-31, first accounting year end: 2018-04-05 -\u003e Given the customer opts into the other uk income section for 2017/18 -\u003e And the customer fills in the following boxes for 2017/18: -\u003e And the customer opts into the marriage allowance section for 2017/18 -\u003e Then the v3 self assessment return for 2017/18 will show the following boxes:","status":"passed","file_path":"./spec/acceptance/self_assessment/tax_year20172018/marriage_allowance.feature","line_number":6,"run_time":0.663664514,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/tax_year20172018/marriage_allowance.feature[1:2:1]","description":"Given a UK sole trader with company start date: 2017-01-31, first accounting year end: 2018-04-05 -\u003e Given the customer opts into the other uk income section for 2017/18 -\u003e And the customer fills in the following boxes for 2017/18: -\u003e And the customer opts into the charitable giving section for 2017/18 -\u003e And the customer fills in the following boxes for 2017/18: -\u003e And the customer opts into the marriage allowance section for 2017/18 -\u003e Then the v3 self assessment return for 2017/18 will show the following boxes: -\u003e And the SA302 calculation table for 2017/18 will include \"Marriage Allowance Transfer\"","full_description":"Self Assessment Marriage Allowance Total income over rUK basic rate band, but rate extended by tax relief contributions Given a UK sole trader with company start date: 2017-01-31, first accounting year end: 2018-04-05 -\u003e Given the customer opts into the other uk income section for 2017/18 -\u003e And the customer fills in the following boxes for 2017/18: -\u003e And the customer opts into the charitable giving section for 2017/18 -\u003e And the customer fills in the following boxes for 2017/18: -\u003e And the customer opts into the marriage allowance section for 2017/18 -\u003e Then the v3 self assessment return for 2017/18 will show the following boxes: -\u003e And the SA302 calculation table for 2017/18 will include \"Marriage Allowance Transfer\"","status":"passed","file_path":"./spec/acceptance/self_assessment/tax_year20172018/marriage_allowance.feature","line_number":17,"run_time":0.937240326,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/tax_year20172018/marriage_allowance.feature[1:3:1]","description":"Given a UK sole trader with company start date: 2017-01-31, first accounting year end: 2018-04-05 -\u003e Given the customer opts into the other uk income section for 2017/18 -\u003e And the customer fills in the following boxes for 2017/18: -\u003e And the customer opts into the marriage allowance section for 2017/18 -\u003e Then the v3 self assessment return for 2017/18 will show the following boxes:","full_description":"Self Assessment Marriage Allowance Total income over rUK basic rate band with no tax relief contributions Given a UK sole trader with company start date: 2017-01-31, first accounting year end: 2018-04-05 -\u003e Given the customer opts into the other uk income section for 2017/18 -\u003e And the customer fills in the following boxes for 2017/18: -\u003e And the customer opts into the marriage allowance section for 2017/18 -\u003e Then the v3 self assessment return for 2017/18 will show the following boxes:","status":"passed","file_path":"./spec/acceptance/self_assessment/tax_year20172018/marriage_allowance.feature","line_number":34,"run_time":0.61108537,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/tax_year20172018/marriage_allowance.feature[1:4:1]","description":"Given a UK sole trader with company start date: 2017-01-31, first accounting year end: 2018-04-05 -\u003e Given the customer opts into the other uk income section for 2017/18 -\u003e And the customer fills in the following boxes for 2017/18: -\u003e And the customer opts into the marriage allowance section for 2017/18 -\u003e Then the v3 self assessment return for 2017/18 will show the following boxes: -\u003e And the SA302 calculation table for 2017/18 will include \"Marriage Allowance Transfer\"","full_description":"Self Assessment Marriage Allowance Non-Scottish tax payer with total income under rUK basic rate band Given a UK sole trader with company start date: 2017-01-31, first accounting year end: 2018-04-05 -\u003e Given the customer opts into the other uk income section for 2017/18 -\u003e And the customer fills in the following boxes for 2017/18: -\u003e And the customer opts into the marriage allowance section for 2017/18 -\u003e Then the v3 self assessment return for 2017/18 will show the following boxes: -\u003e And the SA302 calculation table for 2017/18 will include \"Marriage Allowance Transfer\"","status":"passed","file_path":"./spec/acceptance/self_assessment/tax_year20172018/marriage_allowance.feature","line_number":46,"run_time":0.607799909,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/tax_year20172018/marriage_allowance.feature[1:5:1]","description":"Given a UK sole trader with company start date: 2017-01-31, first accounting year end: 2018-04-05 -\u003e Given the customer fills in the following boxes for 2017/18: -\u003e And the customer opts into the other uk income section for 2017/18 -\u003e And the customer fills in the following boxes for 2017/18: -\u003e And the customer opts into the marriage allowance section for 2017/18 -\u003e Then the v3 self assessment return for 2017/18 will show the following boxes:","full_description":"Self Assessment Marriage Allowance Scottish tax payer with total income over Scottish basic rate band Given a UK sole trader with company start date: 2017-01-31, first accounting year end: 2018-04-05 -\u003e Given the customer fills in the following boxes for 2017/18: -\u003e And the customer opts into the other uk income section for 2017/18 -\u003e And the customer fills in the following boxes for 2017/18: -\u003e And the customer opts into the marriage allowance section for 2017/18 -\u003e Then the v3 self assessment return for 2017/18 will show the following boxes:","status":"passed","file_path":"./spec/acceptance/self_assessment/tax_year20172018/marriage_allowance.feature","line_number":58,"run_time":0.825829169,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/tax_year20172018/marriage_allowance.feature[1:6:1]","description":"Given a UK sole trader with company start date: 2017-01-31, first accounting year end: 2018-04-05 -\u003e Given the customer opts into the other uk income section for 2017/18 -\u003e And the customer fills in the following boxes for 2017/18: -\u003e And the customer opts into the marriage allowance section for 2017/18 -\u003e Then the v3 self assessment return for 2017/18 will show the following boxes:","full_description":"Self Assessment Marriage Allowance Total income exactly on rUK basic rate threshold with no tax relief contributions Given a UK sole trader with company start date: 2017-01-31, first accounting year end: 2018-04-05 -\u003e Given the customer opts into the other uk income section for 2017/18 -\u003e And the customer fills in the following boxes for 2017/18: -\u003e And the customer opts into the marriage allowance section for 2017/18 -\u003e Then the v3 self assessment return for 2017/18 will show the following boxes:","status":"passed","file_path":"./spec/acceptance/self_assessment/tax_year20172018/marriage_allowance.feature","line_number":72,"run_time":0.589660267,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/tax_year20172018/marriage_allowance.feature[1:7:1]","description":"Given a UK sole trader with company start date: 2017-01-31, first accounting year end: 2018-04-05 -\u003e Given the customer fills in the following boxes for 2017/18: -\u003e And the customer opts into the other uk income section for 2017/18 -\u003e And the customer fills in the following boxes for 2017/18: -\u003e And the customer opts into the marriage allowance section for 2017/18 -\u003e Then the v3 self assessment return for 2017/18 will show the following boxes:","full_description":"Self Assessment Marriage Allowance Scottish tax payer with total income exactly on Scottish basic rate threshold Given a UK sole trader with company start date: 2017-01-31, first accounting year end: 2018-04-05 -\u003e Given the customer fills in the following boxes for 2017/18: -\u003e And the customer opts into the other uk income section for 2017/18 -\u003e And the customer fills in the following boxes for 2017/18: -\u003e And the customer opts into the marriage allowance section for 2017/18 -\u003e Then the v3 self assessment return for 2017/18 will show the following boxes:","status":"passed","file_path":"./spec/acceptance/self_assessment/tax_year20172018/marriage_allowance.feature","line_number":83,"run_time":0.73898592,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:1:1:1]","description":"is expected to validate that :terms_and_conditions has been set to \"1\"","full_description":"Copilot validation #terms_and_conditions is expected to validate that :terms_and_conditions has been set to \"1\"","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":12,"run_time":0.107793169,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:2:1:1]","description":"sets cancelled_at","full_description":"Copilot states when cancelled sets cancelled_at","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":24,"run_time":0.125386176,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:2:2:1]","description":"sets the cancellation timestamp","full_description":"Copilot states when cancelling sets the cancellation timestamp","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":32,"run_time":0.170652628,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:2:2:2]","description":"clears the accountant relationship","full_description":"Copilot states when cancelling clears the accountant relationship","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":42,"run_time":0.163319176,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:3:1]","description":"builds an instance of the addon","full_description":"Copilot.build_for builds an instance of the addon","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":55,"run_time":0.106337206,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:3:2:1]","description":"builds an instance of the addon","full_description":"Copilot.build_for when the company's business type is supported builds an instance of the addon","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":61,"run_time":0.10874193,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:3:2:2]","description":"sets the price attribute","full_description":"Copilot.build_for when the company's business type is supported sets the price attribute","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":66,"run_time":0.102110422,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:3:3:1]","description":"has the correct custom price","full_description":"Copilot.build_for when the price is non-default has the correct custom price","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":74,"run_time":0.128348756,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:3:4:1]","description":"raises a price not found error","full_description":"Copilot.build_for when the company's business type is unsupported raises a price not found error","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":81,"run_time":0.083198243,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:3:5:1]","description":"fails to create an instance of the addon","full_description":"Copilot.build_for when subscription already has an enabled CoPilot addon fails to create an instance of the addon","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":89,"run_time":0.087202749,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:4:1:1]","description":"is expected to eq #\u003cMoney fractional:6000 currency:GBP\u003e","full_description":"Copilot.price_for limited company base price is expected to eq #\u003cMoney fractional:6000 currency:GBP\u003e","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":101,"run_time":0.008022225,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:4:2:1]","description":"is expected to eq #\u003cMoney fractional:3000 currency:GBP\u003e","full_description":"Copilot.price_for sole trader base price is expected to eq #\u003cMoney fractional:3000 currency:GBP\u003e","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":106,"run_time":0.007631961,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:4:3:1]","description":"is expected to eq #\u003cMoney fractional:6000 currency:GBP\u003e","full_description":"Copilot.price_for limited liability partnership base price is expected to eq #\u003cMoney fractional:6000 currency:GBP\u003e","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":111,"run_time":0.048579967,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:4:4:1]","description":"is expected to eq #\u003cMoney fractional:5000 currency:GBP\u003e","full_description":"Copilot.price_for partnership base price is expected to eq #\u003cMoney fractional:5000 currency:GBP\u003e","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":116,"run_time":0.009542486,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:4:5:1]","description":"is expected to equal nil","full_description":"Copilot.price_for invalid company type is expected to equal nil","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":121,"run_time":0.063866415,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:4:6:1]","description":"is expected to eq #\u003cMoney fractional:1337 currency:GBP\u003e","full_description":"Copilot.price_for existing CoPilot company with a special price is expected to eq #\u003cMoney fractional:1337 currency:GBP\u003e","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":127,"run_time":0.119359355,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:5:1:1:1]","description":"is expected to equal false","full_description":"Copilot.vat_support? UK company not VAT registered is expected to equal false","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":136,"run_time":0.007807788,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:5:1:2:1]","description":"is expected to equal true","full_description":"Copilot.vat_support? UK company VAT registered is expected to equal true","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":141,"run_time":0.006505656,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:5:1:3:1]","description":"is expected to equal true","full_description":"Copilot.vat_support? UK company applied for VAT registration is expected to equal true","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":146,"run_time":0.124668939,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:5:2:1]","description":"is expected to equal false","full_description":"Copilot.vat_support? non UK companies is expected to equal false","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":152,"run_time":0.10883736,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:6:1:1]","description":"fails validation","full_description":"Copilot#create with an invalid company type fails validation","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":167,"run_time":0.138756276,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:6:2:1]","description":"fails validation","full_description":"Copilot#create with a non-subscribed company fails validation","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":176,"run_time":0.148571889,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:6:3:1]","description":"fails validation","full_description":"Copilot#create with a non-direct company fails validation","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":185,"run_time":0.215226262,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:6:4:1:1]","description":"passes validation","full_description":"Copilot#create with an rbsg company who subscribed over 30 days ago passes validation","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":201,"run_time":0.170671677,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:6:4:2:1:1]","description":"fails validation","full_description":"Copilot#create with an rbsg company who subscribed less than 30 days ago and was not in the first rbsg cohort fails validation","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":210,"run_time":0.146526559,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:6:4:2:2:1]","description":"passes validation","full_description":"Copilot#create with an rbsg company who subscribed less than 30 days ago and was in the first rbsg cohort passes validation","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":224,"run_time":0.146761325,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:6:5:1]","description":"fails validation","full_description":"Copilot#create with an rbsg practice-managed company fails validation","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":234,"run_time":0.190197352,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:7:1]","description":"is expected to eq \"FreeAgent CoPilot accounting service\"","full_description":"Copilot#name is expected to eq \"FreeAgent CoPilot accounting service\"","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":243,"run_time":0.097599853,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:8:1:1]","description":"is true","full_description":"Copilot#billable? when enabled is true","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":251,"run_time":0.100055766,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:8:2:1]","description":"is false","full_description":"Copilot#billable? when cancelled is false","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":258,"run_time":0.133914836,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:9:1:1]","description":"is expected to equal nil","full_description":"Copilot#accountant when company has no CoPilot accountant is expected to equal nil","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":269,"run_time":0.090819714,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:9:2:1]","description":"is expected to eq nil","full_description":"Copilot#accountant when company has a CoPilot accountant is expected to eq nil","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":274,"run_time":0.092460818,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:10:1]","description":"should delegate to the Eligibility class","full_description":"Copilot::eligible_for? should delegate to the Eligibility class","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":279,"run_time":0.095628484,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:11:1]","description":"should be a proxy object","full_description":"Copilot#eligibility should be a proxy object","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":286,"run_time":0.087046053,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:12:1:1]","description":"is expected to equal false","full_description":"Copilot#cancelled_within? when the addon has not be cancelled is expected to equal false","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":297,"run_time":0.09587712,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:12:2:1:1]","description":"is expected to equal true","full_description":"Copilot#cancelled_within? when the addon has been cancelled when the addon has been cancelled within the specified period is expected to equal true","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":306,"run_time":0.112364972,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot_spec.rb[1:12:2:2:1]","description":"is expected to equal false","full_description":"Copilot#cancelled_within? when the addon has been cancelled when the addon has been cancelled outside the specified period is expected to equal false","status":"passed","file_path":"./spec/models/copilot_spec.rb","line_number":312,"run_time":0.108831114,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/alert_rule/row_spec.rb[1:1:1]","description":"returns all the attributes as an array","full_description":"Reports::AlertRuleNotifications::Row#row returns all the attributes as an array","status":"passed","file_path":"./spec/models/reports/alert_rule/row_spec.rb","line_number":134,"run_time":1.232178813,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/alert_rule/row_spec.rb[1:1:2]","description":"returns the correct amount of attributes","full_description":"Reports::AlertRuleNotifications::Row#row returns the correct amount of attributes","status":"passed","file_path":"./spec/models/reports/alert_rule/row_spec.rb","line_number":148,"run_time":1.133252415,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/alert_rule/row_spec.rb[1:1:3]","description":"returns the attributes in the correct order","full_description":"Reports::AlertRuleNotifications::Row#row returns the attributes in the correct order","status":"passed","file_path":"./spec/models/reports/alert_rule/row_spec.rb","line_number":162,"run_time":1.1509734,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:1:1:1]","description":"is expected to eq \"Suggested Categories\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account when group name is legacy group description or banquo suggested category when is a banquo suggested category is expected to eq \"Suggested Categories\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":20,"run_time":0.121179187,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:1:2:1]","description":"is expected to eq \"Cost of sales (normally VATable)\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account when group name is legacy group description or banquo suggested category when is not a banquo suggested category is expected to eq \"Cost of sales (normally VATable)\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":24,"run_time":0.111701756,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:2:1:1]","description":"is expected to eq \"Liabilities\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account when group name is arbitrary when is a custom liability is expected to eq \"Liabilities\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":37,"run_time":0.120215638,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:2:2:1]","description":"is expected to eq \"Equity\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account when group name is arbitrary when is a custom equity is expected to eq \"Equity\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":48,"run_time":0.10693347,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:2:3:1]","description":"is expected to eq \"Current Assets\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account when group name is arbitrary when is a current asset is expected to eq \"Current Assets\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":59,"run_time":0.120031002,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:3:1:1]","description":"is expected to eq \"Liabilities\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account liability accounts when is a pension_creditor_account is expected to eq \"Liabilities\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":76,"run_time":0.108273103,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:3:2:1]","description":"is expected to eq \"Liabilities\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account liability accounts when is a trade_creditors_account is expected to eq \"Liabilities\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":76,"run_time":0.128909949,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:3:3:1]","description":"is expected to eq \"Liabilities\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account liability accounts when is a other_payroll_deductions_account is expected to eq \"Liabilities\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":76,"run_time":0.114713005,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:3:4:1]","description":"is expected to eq \"Liabilities\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account liability accounts when is a other_creditors_account is expected to eq \"Liabilities\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":76,"run_time":0.138554444,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:4:1:1]","description":"is expected to eq \"Current Assets\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account current asset accounts when is a trade_debtors_account is expected to eq \"Current Assets\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":89,"run_time":0.101258962,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:4:2:1]","description":"is expected to eq \"Current Assets\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account current asset accounts when is a other_debtors_account is expected to eq \"Current Assets\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":89,"run_time":0.104033905,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:4:3:1]","description":"is expected to eq \"Current Assets\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account current asset accounts when is a contra_account is expected to eq \"Current Assets\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":89,"run_time":0.099304885,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:5:1:1]","description":"is expected to eq \"Income\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account income accounts when is a realized_currency_exchange_gain_or_loss_account is expected to eq \"Income\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":109,"run_time":0.108869194,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:5:2:1]","description":"is expected to eq \"Income\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account income accounts when is a interest_received_account is expected to eq \"Income\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":109,"run_time":0.106468814,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:5:3:1]","description":"is expected to eq \"Income\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account income accounts when is a grant_income_account is expected to eq \"Income\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":109,"run_time":0.115597299,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:5:4:1]","description":"is expected to eq \"Income\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account income accounts when is a refund_of_other_tax_received_account is expected to eq \"Income\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":109,"run_time":0.123847042,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:6:1:1]","description":"is expected to eq \"Equity\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account equity accounts when is a share premium account is expected to eq \"Equity\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":119,"run_time":0.114442427,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:2:1:1:1]","description":"is expected to eq \"Suggested Categories\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_out_group_name_for_account when group name is legacy group description or banquo suggested category when is a banquo suggested category is expected to eq \"Suggested Categories\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":133,"run_time":0.101388845,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:2:1:2:1]","description":"is expected to eq \"Cost of sales (normally VATable)\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_out_group_name_for_account when group name is legacy group description or banquo suggested category when is not a banquo suggested category is expected to eq \"Cost of sales (normally VATable)\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":137,"run_time":0.113515859,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:2:2:1:1]","description":"is expected to eq \"Liabilities\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_out_group_name_for_account when group name is arbitrary when is a custom liability is expected to eq \"Liabilities\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":150,"run_time":0.106638279,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:2:2:2:1]","description":"is expected to eq \"Equity\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_out_group_name_for_account when group name is arbitrary when is a custom equity is expected to eq \"Equity\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":161,"run_time":0.111451778,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:2:2:3:1]","description":"is expected to eq \"Current Assets\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_out_group_name_for_account when group name is arbitrary when is a current asset is expected to eq \"Current Assets\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":172,"run_time":0.112273918,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:2:3:1:1]","description":"is expected to eq \"Liabilities\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_out_group_name_for_account liability accounts when is a contra_account is expected to eq \"Liabilities\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":190,"run_time":0.121836469,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:2:3:2:1]","description":"is expected to eq \"Liabilities\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_out_group_name_for_account liability accounts when is a pension_creditor_account is expected to eq \"Liabilities\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":190,"run_time":0.116436393,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:2:3:3:1]","description":"is expected to eq \"Liabilities\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_out_group_name_for_account liability accounts when is a trade_creditors_account is expected to eq \"Liabilities\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":190,"run_time":0.108673226,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:2:3:4:1]","description":"is expected to eq \"Liabilities\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_out_group_name_for_account liability accounts when is a other_payroll_deductions_account is expected to eq \"Liabilities\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":190,"run_time":0.118207508,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:2:3:5:1]","description":"is expected to eq \"Liabilities\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_out_group_name_for_account liability accounts when is a other_creditors_account is expected to eq \"Liabilities\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":190,"run_time":0.127109373,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:2:4:1:1]","description":"is expected to eq \"Current Assets\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_out_group_name_for_account current asset accounts when is a trade_debtors_account is expected to eq \"Current Assets\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":203,"run_time":0.380199536,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:2:4:2:1]","description":"is expected to eq \"Current Assets\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_out_group_name_for_account current asset accounts when is a other_debtors_account is expected to eq \"Current Assets\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":203,"run_time":0.454489925,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:2:5:1:1]","description":"is expected to eq \"Other\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_out_group_name_for_account other accounts when is a realized_currency_exchange_gain_or_loss_account is expected to eq \"Other\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":213,"run_time":0.274148935,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/loading_spec.rb[1:1]","description":"as an account manager","full_description":"Loading new banking as an account manager","status":"passed","file_path":"./spec/features/new_banking/loading_spec.rb","line_number":6,"run_time":3.613099465,"pending_message":null,"screenshot":null},{"id":"./spec/features/ltd_company_year_ends_navigation_spec.rb[1:2:3:1]","description":"Does not show the accounting menu","full_description":"Limited company year end navigation with a practice managed company for a level 6 user Does not show the accounting menu","status":"passed","file_path":"./spec/features/ltd_company_year_ends_navigation_spec.rb","line_number":326,"run_time":1.447508966,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:1:1]","description":"renders the new template","full_description":"Admin::Finance::SubscriptionPaymentReportController GET :new renders the new template","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":6,"run_time":0.056991703,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:1:2]","description":"redirects if the user is missing finance permissions","full_description":"Admin::Finance::SubscriptionPaymentReportController GET :new redirects if the user is missing finance permissions","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":14,"run_time":0.018487539,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:2:1:1]","description":"is expected to redirect to \"/unauthorised\"","full_description":"Admin::Finance::SubscriptionPaymentReportController POST :create when the user is missing finance permissions is expected to redirect to \"/unauthorised\"","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":35,"run_time":0.016898514,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:2:2:1]","description":"is expected to redirect to \"/admin/finance/subscription_payment_report?id=1\"","full_description":"Admin::Finance::SubscriptionPaymentReportController POST :create when a valid date param is passed is expected to redirect to \"/admin/finance/subscription_payment_report?id=1\"","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":47,"run_time":0.133295031,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:2:2:2]","description":"creates a new Admin::Finance::Report","full_description":"Admin::Finance::SubscriptionPaymentReportController POST :create when a valid date param is passed creates a new Admin::Finance::Report","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":49,"run_time":0.126086592,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:2:2:3]","description":"creates a report with the correct attributes","full_description":"Admin::Finance::SubscriptionPaymentReportController POST :create when a valid date param is passed creates a report with the correct attributes","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":53,"run_time":0.131023009,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:2:3:1]","description":"is expected to redirect to \"/admin/finance/subscription_payment_report/new\"","full_description":"Admin::Finance::SubscriptionPaymentReportController POST :create when an invalid date param is passed is expected to redirect to \"/admin/finance/subscription_payment_report/new\"","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":67,"run_time":0.021368065,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:2:3:2]","description":"does not create a new Admin::Finance::Report","full_description":"Admin::Finance::SubscriptionPaymentReportController POST :create when an invalid date param is passed does not create a new Admin::Finance::Report","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":69,"run_time":0.019723927,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:2:3:3]","description":"displays an error","full_description":"Admin::Finance::SubscriptionPaymentReportController POST :create when an invalid date param is passed displays an error","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":73,"run_time":0.021770168,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:3:1]","description":"redirects if the user is missing finance permissions","full_description":"Admin::Finance::SubscriptionPaymentReportController GET :show redirects if the user is missing finance permissions","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":81,"run_time":0.022680317,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:3:2]","description":"redirects to the new page if there's no id passed","full_description":"Admin::Finance::SubscriptionPaymentReportController GET :show redirects to the new page if there's no id passed","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":90,"run_time":0.023422492,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:3:3:1]","description":"finds the matching report and assigns it to an instance variable","full_description":"Admin::Finance::SubscriptionPaymentReportController GET :show when an id is passed as a param finds the matching report and assigns it to an instance variable","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":104,"run_time":0.059214123,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:3:3:2]","description":"redirects to the new page if the report can't be found","full_description":"Admin::Finance::SubscriptionPaymentReportController GET :show when an id is passed as a param redirects to the new page if the report can't be found","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":110,"run_time":0.022441891,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:3:3:3]","description":"redirects to the new page if the report found is not a SubscriptionPaymentReport","full_description":"Admin::Finance::SubscriptionPaymentReportController GET :show when an id is passed as a param redirects to the new page if the report found is not a SubscriptionPaymentReport","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":119,"run_time":0.021673309,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:4:1]","description":"redirects if the user is missing finance permissions","full_description":"Admin::Finance::SubscriptionPaymentReportController GET :report_csv redirects if the user is missing finance permissions","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":132,"run_time":0.016139158,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:4:2:1]","description":"redirects to the new page if the report is not complete","full_description":"Admin::Finance::SubscriptionPaymentReportController GET :report_csv when a report id is passed redirects to the new page if the report is not complete","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":151,"run_time":0.131543008,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:4:2:2]","description":"redirects to the new page if the report is not the correct type","full_description":"Admin::Finance::SubscriptionPaymentReportController GET :report_csv when a report id is passed redirects to the new page if the report is not the correct type","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":159,"run_time":0.123490184,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:4:2:3]","description":"renders to the report file for a complete SubscriptionPayment report as a CSV","full_description":"Admin::Finance::SubscriptionPaymentReportController GET :report_csv when a report id is passed renders to the report file for a complete SubscriptionPayment report as a CSV","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":168,"run_time":0.199527248,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoices_controller/make_active_spec.rb[1:1:1:1]","description":"creates a new invoice from the recurring invoice profile and marks the profile as active","full_description":"RecurringInvoicesController when activating a recurring invoice when the recurring invoice profile start date is today and can be transitioned to active creates a new invoice from the recurring invoice profile and marks the profile as active","status":"passed","file_path":"./spec/controllers/recurring_invoices_controller/make_active_spec.rb","line_number":21,"run_time":0.297291229,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoices_controller/make_active_spec.rb[1:1:2:1]","description":"creates a new invoice from the recurring invoice profile and sends the invoice email","full_description":"RecurringInvoicesController when activating a recurring invoice when the recurring invoice profile start date is today and the recurring invoice profile is marked to send email for invoice creates a new invoice from the recurring invoice profile and sends the invoice email","status":"passed","file_path":"./spec/controllers/recurring_invoices_controller/make_active_spec.rb","line_number":69,"run_time":0.345193786,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoices_controller/make_active_spec.rb[1:1:3:1]","description":"does not send the invoice and shows an error","full_description":"RecurringInvoicesController when activating a recurring invoice when the recurring invoice profile start date is today and the recurring invoice is marked to send email but the email cannot be sent does not send the invoice and shows an error","status":"passed","file_path":"./spec/controllers/recurring_invoices_controller/make_active_spec.rb","line_number":110,"run_time":0.310474235,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoices_controller/make_active_spec.rb[1:2:1]","description":"it activates the profile and does not create a new invoice","full_description":"RecurringInvoicesController when activating a recurring invoice when the recurring invoice is set to recur after today it activates the profile and does not create a new invoice","status":"passed","file_path":"./spec/controllers/recurring_invoices_controller/make_active_spec.rb","line_number":147,"run_time":0.118293987,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoices_controller/make_active_spec.rb[1:3:1]","description":"it activates the profile and does not create a new invoice","full_description":"RecurringInvoicesController when activating a recurring invoice when the recurring invoice next recurs before today it activates the profile and does not create a new invoice","status":"passed","file_path":"./spec/controllers/recurring_invoices_controller/make_active_spec.rb","line_number":178,"run_time":0.269021711,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoices_controller/make_active_spec.rb[1:4:1]","description":"does not create a new invoice and does not change the recurring invoice profile state","full_description":"RecurringInvoicesController when activating a recurring invoice when the recurring invoice profile cannot be transition to active does not create a new invoice and does not change the recurring invoice profile state","status":"passed","file_path":"./spec/controllers/recurring_invoices_controller/make_active_spec.rb","line_number":205,"run_time":0.081303969,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoices_controller/make_active_spec.rb[1:5:1]","description":"creates a new invoice from the recurring invoice profile and marks the profile as active","full_description":"RecurringInvoicesController when activating a recurring invoice when making the recurring invoice profile active throws an exception creates a new invoice from the recurring invoice profile and marks the profile as active","status":"passed","file_path":"./spec/controllers/recurring_invoices_controller/make_active_spec.rb","line_number":236,"run_time":0.144987068,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:1]","description":"is expected to belong to company required: false","full_description":"OpenBanking::PreAssessedLimit is expected to belong to company required: false","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":9,"run_time":0.00472165,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:2:1]","description":"instantiates a Pre-Assessed Limit?","full_description":"OpenBanking::PreAssessedLimit.for? instantiates a Pre-Assessed Limit?","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":12,"run_time":0.087606731,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:3:1]","description":"is expected to validate that :amount looks like a number greater than or equal to -1 as long as it is not nil","full_description":"OpenBanking::PreAssessedLimit#amount is expected to validate that :amount looks like a number greater than or equal to -1 as long as it is not nil","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":19,"run_time":0.007684044,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:4:1]","description":"is available","full_description":"OpenBanking::PreAssessedLimit#available? is available","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":25,"run_time":0.094686638,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:4:2]","description":"is not available when the user has disabled the Pre-Assessed Limit","full_description":"OpenBanking::PreAssessedLimit#available? is not available when the user has disabled the Pre-Assessed Limit","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":32,"run_time":0.079972813,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:4:3]","description":"is not available when the Pre-Assessed Limit is not configurable","full_description":"OpenBanking::PreAssessedLimit#available? is not available when the Pre-Assessed Limit is not configurable","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":39,"run_time":0.093160504,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:5:1]","description":"is configurable","full_description":"OpenBanking::PreAssessedLimit#configurable? is configurable","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":48,"run_time":0.10305691,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:5:2]","description":"is not configurable when the company is not eligible for a Pre-Assessed Limit","full_description":"OpenBanking::PreAssessedLimit#configurable? is not configurable when the company is not eligible for a Pre-Assessed Limit","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":59,"run_time":0.08754449,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:5:3]","description":"is not configurable when the user is not eligible for a Pre-Assessed Limit","full_description":"OpenBanking::PreAssessedLimit#configurable? is not configurable when the user is not eligible for a Pre-Assessed Limit","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":70,"run_time":0.089996968,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:5:4]","description":"is not configurable when we have disabled the Pre-Assessed Limit for this company","full_description":"OpenBanking::PreAssessedLimit#configurable? is not configurable when we have disabled the Pre-Assessed Limit for this company","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":81,"run_time":0.104425399,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:6:1]","description":"is available for the consent","full_description":"OpenBanking::PreAssessedLimit#available_for_consent? is available for the consent","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":97,"run_time":0.10672049,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:6:2]","description":"is not available when the Pre-Assessed Limit is not available for the user","full_description":"OpenBanking::PreAssessedLimit#available_for_consent? is not available when the Pre-Assessed Limit is not available for the user","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":105,"run_time":0.125585221,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:6:3]","description":"is not available when the Pre-Assessed Limit is not available for the consent","full_description":"OpenBanking::PreAssessedLimit#available_for_consent? is not available when the Pre-Assessed Limit is not available for the consent","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":113,"run_time":0.125369655,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:7:1:1]","description":"is expected to be visible #\u003cUser id: 975572671, first_name: \"Ed\", email: \"user_1@example.com\", created_at: \"2022-12-15 10:01:26..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","full_description":"OpenBanking::PreAssessedLimit#visible? available and greater than threshold is expected to be visible #\u003cUser id: 975572671, first_name: \"Ed\", email: \"user_1@example.com\", created_at: \"2022-12-15 10:01:26..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":135,"run_time":0.113440995,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:7:2:1]","description":"is expected not to be visible #\u003cUser id: 975572672, first_name: \"Ed\", email: \"user_1@example.com\", created_at: \"2022-12-15 10:01:26..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","full_description":"OpenBanking::PreAssessedLimit#visible? available but visibility feature off is expected not to be visible #\u003cUser id: 975572672, first_name: \"Ed\", email: \"user_1@example.com\", created_at: \"2022-12-15 10:01:26..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":146,"run_time":0.113399375,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:7:3:1]","description":"is expected not to be visible #\u003cUser id: 975572673, first_name: \"Ed\", email: \"user_1@example.com\", created_at: \"2022-12-15 10:01:26..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","full_description":"OpenBanking::PreAssessedLimit#visible? available but zero is expected not to be visible #\u003cUser id: 975572673, first_name: \"Ed\", email: \"user_1@example.com\", created_at: \"2022-12-15 10:01:26..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":154,"run_time":0.110288419,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:7:4:1]","description":"is expected not to be visible #\u003cUser id: 975572674, first_name: \"Ed\", email: \"user_1@example.com\", created_at: \"2022-12-15 10:01:26..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","full_description":"OpenBanking::PreAssessedLimit#visible? available but less than threshold is expected not to be visible #\u003cUser id: 975572674, first_name: \"Ed\", email: \"user_1@example.com\", created_at: \"2022-12-15 10:01:26..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":162,"run_time":0.100273545,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:7:5:1]","description":"is expected not to be visible #\u003cUser id: 975572675, first_name: \"Ed\", email: \"user_1@example.com\", created_at: \"2022-12-15 10:01:26..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","full_description":"OpenBanking::PreAssessedLimit#visible? available but nil is expected not to be visible #\u003cUser id: 975572675, first_name: \"Ed\", email: \"user_1@example.com\", created_at: \"2022-12-15 10:01:26..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":170,"run_time":0.099266151,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:7:6:1]","description":"is expected not to be visible #\u003cUser id: 975572676, first_name: \"Ed\", email: \"user_1@example.com\", created_at: \"2022-12-15 10:01:26..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","full_description":"OpenBanking::PreAssessedLimit#visible? not available but greater than threshold is expected not to be visible #\u003cUser id: 975572676, first_name: \"Ed\", email: \"user_1@example.com\", created_at: \"2022-12-15 10:01:26..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":178,"run_time":0.106748368,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:7:7:1]","description":"is expected not to be visible #\u003cUser id: 975572677, first_name: \"Ed\", email: \"user_1@example.com\", created_at: \"2022-12-15 10:01:27..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","full_description":"OpenBanking::PreAssessedLimit#visible? not visible to reseller is expected not to be visible #\u003cUser id: 975572677, first_name: \"Ed\", email: \"user_1@example.com\", created_at: \"2022-12-15 10:01:27..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":191,"run_time":0.087957905,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:8:1:1]","description":"is expected to eq \"£999\"","full_description":"OpenBanking::PreAssessedLimit#to_s less than a thousand is expected to eq \"£999\"","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":199,"run_time":0.011482127,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:8:2:1]","description":"is expected to eq \"£50,000\"","full_description":"OpenBanking::PreAssessedLimit#to_s over a thousand is expected to eq \"£50,000\"","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":205,"run_time":0.012410143,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:8:3:1]","description":"is expected to eq \"£0\"","full_description":"OpenBanking::PreAssessedLimit#to_s zero is expected to eq \"£0\"","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":211,"run_time":0.012117316,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:8:4:1]","description":"is expected to be empty","full_description":"OpenBanking::PreAssessedLimit#to_s nil is expected to be empty","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":217,"run_time":0.012651166,"pending_message":null,"screenshot":null},{"id":"./spec/requests/radar/insights/self_assessment2021_product_update_spec.rb[1:1:1]","description":"renders the SelfAssessment2021ProductUpdate copy","full_description":"SelfAssessment2021ProductUpdate ping user can submit their 2020/21 Self assessment renders the SelfAssessment2021ProductUpdate copy","status":"passed","file_path":"./spec/requests/radar/insights/self_assessment2021_product_update_spec.rb","line_number":26,"run_time":0.355975263,"pending_message":null,"screenshot":null},{"id":"./spec/requests/radar/insights/self_assessment2021_product_update_spec.rb[1:2:1]","description":"handles unexpected state of SelfAssessment2021ProductUpdate rule","full_description":"SelfAssessment2021ProductUpdate ping user can't submit their 2020/21 Self assessment handles unexpected state of SelfAssessment2021ProductUpdate rule","status":"passed","file_path":"./spec/requests/radar/insights/self_assessment2021_product_update_spec.rb","line_number":42,"run_time":0.363343279,"pending_message":null,"screenshot":null},{"id":"./spec/views/layouts/application.html.erb_spec.rb[1:2]","description":"renders the overlay banner","full_description":"layouts/application renders the overlay banner","status":"passed","file_path":"./spec/views/layouts/application.html.erb_spec.rb","line_number":18,"run_time":0.123008782,"pending_message":null,"screenshot":null},{"id":"./spec/views/layouts/application.html.erb_spec.rb[1:3]","description":"shows the invoice with the correct theme","full_description":"layouts/application shows the invoice with the correct theme","status":"passed","file_path":"./spec/views/layouts/application.html.erb_spec.rb","line_number":22,"run_time":0.150369354,"pending_message":null,"screenshot":null},{"id":"./spec/views/layouts/application.html.erb_spec.rb[1:1:1]","description":"renders the google tag manager script when the feature is enabled","full_description":"layouts/application behaves like a page tracked with google tag manager renders the google tag manager script when the feature is enabled","status":"passed","file_path":"./spec/shared/tracking/google_tag_manager_examples.rb","line_number":3,"run_time":0.147640881,"pending_message":null,"screenshot":null},{"id":"./spec/views/layouts/application.html.erb_spec.rb[1:1:2]","description":"does not render the google tag manager script when the feature is disabeld","full_description":"layouts/application behaves like a page tracked with google tag manager does not render the google tag manager script when the feature is disabeld","status":"passed","file_path":"./spec/shared/tracking/google_tag_manager_examples.rb","line_number":10,"run_time":0.109944231,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/company_export_job_spec.rb[1:1:1:1]","description":"does not error","full_description":"CompanyExportJob#perform as a user does not error","status":"passed","file_path":"./spec/jobs/company_export_job_spec.rb","line_number":13,"run_time":0.136997582,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/company_export_job_spec.rb[1:1:1:2]","description":"invokes company exporter","full_description":"CompanyExportJob#perform as a user invokes company exporter","status":"passed","file_path":"./spec/jobs/company_export_job_spec.rb","line_number":18,"run_time":0.084473033,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/company_export_job_spec.rb[1:1:1:3]","description":"queues a valid email job","full_description":"CompanyExportJob#perform as a user queues a valid email job","status":"passed","file_path":"./spec/jobs/company_export_job_spec.rb","line_number":25,"run_time":0.232490393,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/company_export_job_spec.rb[1:1:2:1]","description":"does not error","full_description":"CompanyExportJob#perform as an account manager does not error","status":"passed","file_path":"./spec/jobs/company_export_job_spec.rb","line_number":45,"run_time":0.155491755,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/company_export_job_spec.rb[1:1:2:2]","description":"invokes company exporter","full_description":"CompanyExportJob#perform as an account manager invokes company exporter","status":"passed","file_path":"./spec/jobs/company_export_job_spec.rb","line_number":51,"run_time":0.12550777,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/company_export_job_spec.rb[1:1:2:3]","description":"queues an email job","full_description":"CompanyExportJob#perform as an account manager queues an email job","status":"passed","file_path":"./spec/jobs/company_export_job_spec.rb","line_number":59,"run_time":0.190157409,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/company_export_job_spec.rb[1:1:2:4]","description":"publishes events and metrics","full_description":"CompanyExportJob#perform as an account manager publishes events and metrics","status":"passed","file_path":"./spec/jobs/company_export_job_spec.rb","line_number":65,"run_time":0.164244097,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/company_export_job_spec.rb[1:1:2:5]","description":"send an error if there is an error with tracking","full_description":"CompanyExportJob#perform as an account manager send an error if there is an error with tracking","status":"passed","file_path":"./spec/jobs/company_export_job_spec.rb","line_number":81,"run_time":0.156439298,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[3:10]","description":"show view for first accounting period","full_description":"InvoicesController GET :index show view for first accounting period","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":278,"run_time":0.332821634,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:1:36]","description":"deletes bank feeds","full_description":"Company::ForgetCompanyData Deleting all data for a VAT registered UK company deletes bank feeds","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":451,"run_time":1.076843385,"pending_message":null,"screenshot":null},{"id":"./spec/requests/rate_limiting_spec.rb[1:1:1:1]","description":"uses the session ID as a rate-limiting key","full_description":"Rate limiting when the rate limiting feature is enabled with a request from a tracked IP uses the session ID as a rate-limiting key","status":"passed","file_path":"./spec/requests/rate_limiting_spec.rb","line_number":21,"run_time":0.074600269,"pending_message":null,"screenshot":null},{"id":"./spec/requests/rate_limiting_spec.rb[1:1:1:2]","description":"uses the IP address as a rate-limiting key","full_description":"Rate limiting when the rate limiting feature is enabled with a request from a tracked IP uses the IP address as a rate-limiting key","status":"passed","file_path":"./spec/requests/rate_limiting_spec.rb","line_number":25,"run_time":0.076934928,"pending_message":null,"screenshot":null},{"id":"./spec/requests/rate_limiting_spec.rb[1:1:1:3]","description":"uses the host/IP as a rate-limiting key","full_description":"Rate limiting when the rate limiting feature is enabled with a request from a tracked IP uses the host/IP as a rate-limiting key","status":"passed","file_path":"./spec/requests/rate_limiting_spec.rb","line_number":29,"run_time":0.080888139,"pending_message":null,"screenshot":null},{"id":"./spec/requests/rate_limiting_spec.rb[1:1:2:1]","description":"safelists known IP ranges","full_description":"Rate limiting when the rate limiting feature is enabled when the IP has been safelisted safelists known IP ranges","status":"passed","file_path":"./spec/requests/rate_limiting_spec.rb","line_number":42,"run_time":0.073599794,"pending_message":null,"screenshot":null},{"id":"./spec/requests/rate_limiting_spec.rb[1:2:1]","description":"does not put rate-limiting keys in the cache","full_description":"Rate limiting when the rate limiting feature is disabled does not put rate-limiting keys in the cache","status":"passed","file_path":"./spec/requests/rate_limiting_spec.rb","line_number":56,"run_time":0.07976475,"pending_message":null,"screenshot":null},{"id":"./spec/requests/rate_limiting_spec.rb[1:2:2]","description":"puts rate-tracking keys in the cache","full_description":"Rate limiting when the rate limiting feature is disabled puts rate-tracking keys in the cache","status":"passed","file_path":"./spec/requests/rate_limiting_spec.rb","line_number":60,"run_time":0.152449275,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/requests/base_spec.rb[1:1:1]","description":"is not implemented","full_description":"Tyl::Requests::Base#request_method is not implemented","status":"passed","file_path":"./spec/integrations/tyl/requests/base_spec.rb","line_number":16,"run_time":0.119444293,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/requests/base_spec.rb[1:2:1]","description":"is not implemented","full_description":"Tyl::Requests::Base#url is not implemented","status":"passed","file_path":"./spec/integrations/tyl/requests/base_spec.rb","line_number":24,"run_time":0.105930722,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/requests/base_spec.rb[1:3:1]","description":"is expected to eq {}","full_description":"Tyl::Requests::Base#params is expected to eq {}","status":"passed","file_path":"./spec/integrations/tyl/requests/base_spec.rb","line_number":32,"run_time":0.110203442,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/requests/base_spec.rb[1:4:1]","description":"is not implemented","full_description":"Tyl::Requests::Base#payload is not implemented","status":"passed","file_path":"./spec/integrations/tyl/requests/base_spec.rb","line_number":38,"run_time":0.104702261,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/requests/base_spec.rb[1:5:1:1]","description":"is expected to eq \"Bearer abc123\"","full_description":"Tyl::Requests::Base#headers Authorization is expected to eq \"Bearer abc123\"","status":"passed","file_path":"./spec/integrations/tyl/requests/base_spec.rb","line_number":54,"run_time":0.086871495,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/requests/base_spec.rb[1:5:2:1]","description":"is expected to equal #\u003cDouble (anonymous)\u003e","full_description":"Tyl::Requests::Base#headers Client-Request-Id is expected to equal #\u003cDouble (anonymous)\u003e","status":"passed","file_path":"./spec/integrations/tyl/requests/base_spec.rb","line_number":63,"run_time":0.092120374,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/requests/base_spec.rb[1:5:3:1:1]","description":"is expected to eq 895397833","full_description":"Tyl::Requests::Base#headers partnerAccountId when using the MVP API is expected to eq 895397833","status":"passed","file_path":"./spec/integrations/tyl/requests/base_spec.rb","line_number":74,"run_time":0.108318988,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/requests/base_spec.rb[1:5:3:2:1]","description":"should not be included at all","full_description":"Tyl::Requests::Base#headers partnerAccountId when using the v2 API should not be included at all","status":"passed","file_path":"./spec/integrations/tyl/requests/base_spec.rb","line_number":78,"run_time":0.170126595,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/requests/base_spec.rb[1:5:4:1]","description":"is expected to eq \"2022-12-15T10:01:33+00:00\"","full_description":"Tyl::Requests::Base#headers Timestamp is expected to eq \"2022-12-15T10:01:33+00:00\"","status":"passed","file_path":"./spec/integrations/tyl/requests/base_spec.rb","line_number":89,"run_time":0.211974613,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:1:31]","description":"deletes saml signups","full_description":"Company::ForgetCompanyData Deleting all data for a VAT registered UK company deletes saml signups","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":406,"run_time":1.050657121,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[5:4]","description":"renders the address in the US format if the contact is based in the US","full_description":"InvoicesController GET :show for US companies renders the address in the US format if the contact is based in the US","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":837,"run_time":0.359984334,"pending_message":null,"screenshot":null},{"id":"./spec/models/calendar_feeds/tax_feed_spec.rb[1:1:1]","description":"has expected meta details","full_description":"CalendarFeeds::TaxFeed#create has expected meta details","status":"passed","file_path":"./spec/models/calendar_feeds/tax_feed_spec.rb","line_number":11,"run_time":0.27428289,"pending_message":null,"screenshot":null},{"id":"./spec/models/calendar_feeds/tax_feed_spec.rb[1:1:2:1]","description":"generates valid output in ics format","full_description":"CalendarFeeds::TaxFeed#create for a UK company generates valid output in ics format","status":"passed","file_path":"./spec/models/calendar_feeds/tax_feed_spec.rb","line_number":18,"run_time":0.257695815,"pending_message":null,"screenshot":null},{"id":"./spec/models/calendar_feeds/tax_feed_spec.rb[1:1:2:2]","description":"outputs all-day events with correctly-formatted start and end dates","full_description":"CalendarFeeds::TaxFeed#create for a UK company outputs all-day events with correctly-formatted start and end dates","status":"passed","file_path":"./spec/models/calendar_feeds/tax_feed_spec.rb","line_number":29,"run_time":0.313114509,"pending_message":null,"screenshot":null},{"id":"./spec/models/calendar_feeds/tax_feed_spec.rb[1:1:3:1]","description":"generates valid output in ics format","full_description":"CalendarFeeds::TaxFeed#create for a US Sole Proprietor company generates valid output in ics format","status":"passed","file_path":"./spec/models/calendar_feeds/tax_feed_spec.rb","line_number":38,"run_time":0.140513574,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/rbsg/send_account_activation_job_spec.rb[1:1:1:1]","description":"sends an email","full_description":"Rbsg::SendAccountActivationJob#perform when the user has never logged in sends an email","status":"passed","file_path":"./spec/jobs/rbsg/send_account_activation_job_spec.rb","line_number":15,"run_time":0.128208513,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/rbsg/send_account_activation_job_spec.rb[1:1:2:1]","description":"does not send an email","full_description":"Rbsg::SendAccountActivationJob#perform when the user has previously logged in does not send an email","status":"passed","file_path":"./spec/jobs/rbsg/send_account_activation_job_spec.rb","line_number":24,"run_time":0.148607904,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/rbsg/send_account_activation_job_spec.rb[1:1:2:2]","description":"logs a message","full_description":"Rbsg::SendAccountActivationJob#perform when the user has previously logged in logs a message","status":"passed","file_path":"./spec/jobs/rbsg/send_account_activation_job_spec.rb","line_number":28,"run_time":0.125916664,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/rbsg/send_account_activation_job_spec.rb[1:1:3:1]","description":"does not send an email","full_description":"Rbsg::SendAccountActivationJob#perform for a non-RBSG company does not send an email","status":"passed","file_path":"./spec/jobs/rbsg/send_account_activation_job_spec.rb","line_number":38,"run_time":0.013117433,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/rbsg/send_account_activation_job_spec.rb[1:1:3:2]","description":"logs a message","full_description":"Rbsg::SendAccountActivationJob#perform for a non-RBSG company logs a message","status":"passed","file_path":"./spec/jobs/rbsg/send_account_activation_job_spec.rb","line_number":42,"run_time":0.012154685,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/rbsg/send_account_activation_job_spec.rb[1:1:4:1]","description":"does not send an email","full_description":"Rbsg::SendAccountActivationJob#perform when the company does not exist does not send an email","status":"passed","file_path":"./spec/jobs/rbsg/send_account_activation_job_spec.rb","line_number":56,"run_time":0.092987913,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/rbsg/send_account_activation_job_spec.rb[1:1:4:2]","description":"logs a message","full_description":"Rbsg::SendAccountActivationJob#perform when the company does not exist logs a message","status":"passed","file_path":"./spec/jobs/rbsg/send_account_activation_job_spec.rb","line_number":60,"run_time":0.109405581,"pending_message":null,"screenshot":null},{"id":"./spec/models/app_store_billing/subscription_sync_spec.rb[1:1:1]","description":"ignores billing profiles for non-app store companies","full_description":"AppStoreBilling::SubscriptionSync.check_due ignores billing profiles for non-app store companies","status":"passed","file_path":"./spec/models/app_store_billing/subscription_sync_spec.rb","line_number":5,"run_time":0.19124274,"pending_message":null,"screenshot":null},{"id":"./spec/models/app_store_billing/subscription_sync_spec.rb[1:1:2]","description":"ignores billing profiles that are due in the future","full_description":"AppStoreBilling::SubscriptionSync.check_due ignores billing profiles that are due in the future","status":"passed","file_path":"./spec/models/app_store_billing/subscription_sync_spec.rb","line_number":11,"run_time":0.102016938,"pending_message":null,"screenshot":null},{"id":"./spec/models/app_store_billing/subscription_sync_spec.rb[1:1:3]","description":"enqueues a sync job for app store billing profiles that are due","full_description":"AppStoreBilling::SubscriptionSync.check_due enqueues a sync job for app store billing profiles that are due","status":"passed","file_path":"./spec/models/app_store_billing/subscription_sync_spec.rb","line_number":16,"run_time":0.088326654,"pending_message":null,"screenshot":null},{"id":"./spec/models/app_store_billing/subscription_sync_spec.rb[1:2:1:1]","description":"updates the stored auto_renews attribute to match what we recevie from Apple","full_description":"AppStoreBilling::SubscriptionSync#perform when updating the auto_renews attribute updates the stored auto_renews attribute to match what we recevie from Apple","status":"passed","file_path":"./spec/models/app_store_billing/subscription_sync_spec.rb","line_number":36,"run_time":0.093558718,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_item/sales_tax_spec.rb[1:1:1:1]","description":"return nil","full_description":"RecurringInvoiceProfileItem#sales_tax_status when company is not registered for sales tax return nil","status":"passed","file_path":"./spec/models/recurring_invoice_profile_item/sales_tax_spec.rb","line_number":16,"run_time":0.012993154,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_item/sales_tax_spec.rb[1:1:2:1:1]","description":"return out of scope","full_description":"RecurringInvoiceProfileItem#sales_tax_status when the company is registered for sales tax and the contact does not charge sales tax return out of scope","status":"passed","file_path":"./spec/models/recurring_invoice_profile_item/sales_tax_spec.rb","line_number":35,"run_time":0.009341217,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_item/sales_tax_spec.rb[1:1:2:2:1]","description":"return exempt","full_description":"RecurringInvoiceProfileItem#sales_tax_status when the company is registered for sales tax when the sales tax rate of the item is exempt return exempt","status":"passed","file_path":"./spec/models/recurring_invoice_profile_item/sales_tax_spec.rb","line_number":50,"run_time":0.014861971,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_item/sales_tax_spec.rb[1:1:2:3:1]","description":"return taxable","full_description":"RecurringInvoiceProfileItem#sales_tax_status when the company is registered for sales tax when sales tax rate of the item is set return taxable","status":"passed","file_path":"./spec/models/recurring_invoice_profile_item/sales_tax_spec.rb","line_number":65,"run_time":0.014686884,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_item/sales_tax_spec.rb[1:2:1:1]","description":"calculates the sales tax value of the line item","full_description":"RecurringInvoiceProfileItem#sales_tax_value when the line item is vat only calculates the sales tax value of the line item","status":"passed","file_path":"./spec/models/recurring_invoice_profile_item/sales_tax_spec.rb","line_number":83,"run_time":0.006937002,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_item/sales_tax_spec.rb[1:2:2:1]","description":"returns zero as the sales tax value","full_description":"RecurringInvoiceProfileItem#sales_tax_value when the line item is exempt from sales tax returns zero as the sales tax value","status":"passed","file_path":"./spec/models/recurring_invoice_profile_item/sales_tax_spec.rb","line_number":98,"run_time":0.006677801,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_item/sales_tax_spec.rb[1:2:3:1]","description":"calculates the sales tax value of the line item","full_description":"RecurringInvoiceProfileItem#sales_tax_value when the line item has a sales tax rate calculates the sales tax value of the line item","status":"passed","file_path":"./spec/models/recurring_invoice_profile_item/sales_tax_spec.rb","line_number":113,"run_time":0.006504686,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_item/sales_tax_spec.rb[1:3:1:1]","description":"returns zero","full_description":"RecurringInvoiceProfileItem#native_sales_tax_value_at_invoice_date when the company is not registered for sales tax returns zero","status":"passed","file_path":"./spec/models/recurring_invoice_profile_item/sales_tax_spec.rb","line_number":133,"run_time":0.012243052,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_item/sales_tax_spec.rb[1:3:2:1:1]","description":"returns native sales tax value","full_description":"RecurringInvoiceProfileItem#native_sales_tax_value_at_invoice_date when a uk company is registered for sales tax and the recurring invoice profile is in native currency returns native sales tax value","status":"passed","file_path":"./spec/models/recurring_invoice_profile_item/sales_tax_spec.rb","line_number":155,"run_time":0.014435099,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_item/sales_tax_spec.rb[1:3:2:2:1]","description":"returns native sales tax value with the discount applied","full_description":"RecurringInvoiceProfileItem#native_sales_tax_value_at_invoice_date when a uk company is registered for sales tax and the recurring invoice profile is discounted returns native sales tax value with the discount applied","status":"passed","file_path":"./spec/models/recurring_invoice_profile_item/sales_tax_spec.rb","line_number":174,"run_time":0.014141226,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_item/sales_tax_spec.rb[1:3:2:3:1]","description":"calculates the native value of the sales tax","full_description":"RecurringInvoiceProfileItem#native_sales_tax_value_at_invoice_date when a uk company is registered for sales tax and the recurring invoice profile is in a foreign currency calculates the native value of the sales tax","status":"passed","file_path":"./spec/models/recurring_invoice_profile_item/sales_tax_spec.rb","line_number":193,"run_time":0.014194015,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_item/sales_tax_spec.rb[1:3:3:1:1]","description":"returns native sales tax value","full_description":"RecurringInvoiceProfileItem#native_sales_tax_value_at_invoice_date when a universal company is registered for sales tax and the recurring invoice profile is in native currency returns native sales tax value","status":"passed","file_path":"./spec/models/recurring_invoice_profile_item/sales_tax_spec.rb","line_number":216,"run_time":0.09368985,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_item/sales_tax_spec.rb[1:3:3:2:1]","description":"returns native sales tax value with the discount applied","full_description":"RecurringInvoiceProfileItem#native_sales_tax_value_at_invoice_date when a universal company is registered for sales tax and the recurring invoice profile is discounted returns native sales tax value with the discount applied","status":"passed","file_path":"./spec/models/recurring_invoice_profile_item/sales_tax_spec.rb","line_number":235,"run_time":0.101022578,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_item/sales_tax_spec.rb[1:3:3:3:1]","description":"calculates the native value of the sales tax","full_description":"RecurringInvoiceProfileItem#native_sales_tax_value_at_invoice_date when a universal company is registered for sales tax and the recurring invoice profile is in a foreign currency calculates the native value of the sales tax","status":"passed","file_path":"./spec/models/recurring_invoice_profile_item/sales_tax_spec.rb","line_number":254,"run_time":0.106114057,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_item/sales_tax_spec.rb[1:4:1:1]","description":"groups and sums the sales tax rates for a recurring invoice profile","full_description":"RecurringInvoiceProfileItem#sales_tax_rate_totals when the company is not sales tax registered groups and sums the sales tax rates for a recurring invoice profile","status":"passed","file_path":"./spec/models/recurring_invoice_profile_item/sales_tax_spec.rb","line_number":299,"run_time":0.049095759,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_item/sales_tax_spec.rb[1:4:2:1]","description":"groups and sums the sales tax rates for a recurring invoice profile","full_description":"RecurringInvoiceProfileItem#sales_tax_rate_totals when the company is sales tax registered groups and sums the sales tax rates for a recurring invoice profile","status":"passed","file_path":"./spec/models/recurring_invoice_profile_item/sales_tax_spec.rb","line_number":348,"run_time":0.044792894,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[29:1:1:3:2]","description":"updating the contact and project","full_description":"InvoicesController Multiple projects on invoice Multiple projects on invoice update #add_unbilled_items given an invoice with manual and unbilled items updating the contact and project","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":2885,"run_time":0.555467516,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_batch_spec.rb[1:1]","description":"is expected to validate that :dated_on cannot be empty/falsy","full_description":"CompanyDigestBatch is expected to validate that :dated_on cannot be empty/falsy","status":"passed","file_path":"./spec/models/company_digest_batch_spec.rb","line_number":4,"run_time":0.010547492,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_batch_spec.rb[1:2]","description":"is expected to validate that :time_zone cannot be empty/falsy","full_description":"CompanyDigestBatch is expected to validate that :time_zone cannot be empty/falsy","status":"passed","file_path":"./spec/models/company_digest_batch_spec.rb","line_number":5,"run_time":0.00555636,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_batch_spec.rb[1:3]","description":"is expected to make dated_on read-only","full_description":"CompanyDigestBatch is expected to make dated_on read-only","status":"passed","file_path":"./spec/models/company_digest_batch_spec.rb","line_number":7,"run_time":0.002491856,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_batch_spec.rb[1:4]","description":"is expected to make time_zone read-only","full_description":"CompanyDigestBatch is expected to make time_zone read-only","status":"passed","file_path":"./spec/models/company_digest_batch_spec.rb","line_number":8,"run_time":0.002185748,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_batch_spec.rb[1:5]","description":"maps time_zone name to a useful time zone","full_description":"CompanyDigestBatch maps time_zone name to a useful time zone","status":"passed","file_path":"./spec/models/company_digest_batch_spec.rb","line_number":10,"run_time":0.002304329,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_batch_spec.rb[1:6]","description":"commences at 9am in the specified time zone","full_description":"CompanyDigestBatch commences at 9am in the specified time zone","status":"passed","file_path":"./spec/models/company_digest_batch_spec.rb","line_number":14,"run_time":0.00237365,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_batch_spec.rb[1:7]","description":"schedules processing upon creation","full_description":"CompanyDigestBatch schedules processing upon creation","status":"passed","file_path":"./spec/models/company_digest_batch_spec.rb","line_number":20,"run_time":0.004110375,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_batch_spec.rb[1:8]","description":"prevents racing processes from creating duplicate batches","full_description":"CompanyDigestBatch prevents racing processes from creating duplicate batches","status":"passed","file_path":"./spec/models/company_digest_batch_spec.rb","line_number":27,"run_time":0.005152505,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_batch_spec.rb[1:9:1]","description":"returns false up to 15 hours before the scheduled time","full_description":"CompanyDigestBatch#stale? returns false up to 15 hours before the scheduled time","status":"passed","file_path":"./spec/models/company_digest_batch_spec.rb","line_number":42,"run_time":0.004589712,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_batch_spec.rb[1:9:2]","description":"returns true from 15 hours before the scheduled time","full_description":"CompanyDigestBatch#stale? returns true from 15 hours before the scheduled time","status":"passed","file_path":"./spec/models/company_digest_batch_spec.rb","line_number":48,"run_time":0.004025417,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_batch_spec.rb[1:10:1]","description":"returns true if processing_commenced_at is nil","full_description":"CompanyDigestBatch#pending? returns true if processing_commenced_at is nil","status":"passed","file_path":"./spec/models/company_digest_batch_spec.rb","line_number":57,"run_time":0.002592372,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_batch_spec.rb[1:10:2]","description":"returns false if processing_commenced_at is assigned","full_description":"CompanyDigestBatch#pending? returns false if processing_commenced_at is assigned","status":"passed","file_path":"./spec/models/company_digest_batch_spec.rb","line_number":61,"run_time":0.002211757,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_batch_spec.rb[1:11:1]","description":"includes active companies in the specified time zone having active subscriptions","full_description":"CompanyDigestBatch subscribed_companies includes active companies in the specified time zone having active subscriptions","status":"passed","file_path":"./spec/models/company_digest_batch_spec.rb","line_number":78,"run_time":0.25712752,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_batch_spec.rb[1:12:1]","description":"creates a record for each named ActiveSupport::TimeZone","full_description":"CompanyDigestBatch schedule creates a record for each named ActiveSupport::TimeZone","status":"passed","file_path":"./spec/models/company_digest_batch_spec.rb","line_number":90,"run_time":0.010536379,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_batch_spec.rb[1:12:2]","description":"is idempotent, assuming no change in supported time zones","full_description":"CompanyDigestBatch schedule is idempotent, assuming no change in supported time zones","status":"passed","file_path":"./spec/models/company_digest_batch_spec.rb","line_number":97,"run_time":0.011207716,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_batch_spec.rb[1:12:3]","description":"returns all resulting batches","full_description":"CompanyDigestBatch schedule returns all resulting batches","status":"passed","file_path":"./spec/models/company_digest_batch_spec.rb","line_number":105,"run_time":0.008468564,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:19:2:1]","description":"changes status to written off","full_description":"Invoice overdue invoice with part payment with the balance written off changes status to written off","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":398,"run_time":0.394602517,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/recurring_events_payments_spec.rb[1:1:1:1:1]","description":"includes recurring payments","full_description":"Cashflow::RecurringEventsPayments#payment_series for recurring custom payments created today for a Weekly recurrence includes recurring payments","status":"passed","file_path":"./spec/freeagent/cashflow/recurring_events_payments_spec.rb","line_number":19,"run_time":0.098583188,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/recurring_events_payments_spec.rb[1:1:1:2:1]","description":"includes the payment dated today","full_description":"Cashflow::RecurringEventsPayments#payment_series for recurring custom payments created today for a Quarterly recurrence includes the payment dated today","status":"passed","file_path":"./spec/freeagent/cashflow/recurring_events_payments_spec.rb","line_number":36,"run_time":0.08836788,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/recurring_events_payments_spec.rb[1:1:2:1:1]","description":"includes recurring payments","full_description":"Cashflow::RecurringEventsPayments#payment_series for recurring custom payments created in the past, with an expected_date in the past with an expected_date in the past includes recurring payments","status":"passed","file_path":"./spec/freeagent/cashflow/recurring_events_payments_spec.rb","line_number":55,"run_time":0.096191837,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/recurring_events_payments_spec.rb[1:1:2:2:1]","description":"includes recurring payments","full_description":"Cashflow::RecurringEventsPayments#payment_series for recurring custom payments created in the past, with an expected_date in the past with an expected_date today includes recurring payments","status":"passed","file_path":"./spec/freeagent/cashflow/recurring_events_payments_spec.rb","line_number":75,"run_time":0.090195493,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[3:15:1]","description":"shows view for the remembered accounting period when no view parameter is specified","full_description":"InvoicesController GET :index with a remembered accounting period view param shows view for the remembered accounting period when no view parameter is specified","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":340,"run_time":0.407150214,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:1:3:1:3]","description":"for the payment of an invoice","full_description":"UkAccountsMapper Accounts Mapper for UK companies that are not VAT registered Bank Account Entries representing income for the payment of an invoice","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":233,"run_time":0.444078396,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/rbsg_switch_helper_spec.rb[1:1:1:1]","description":"returns the appropriate message","full_description":"Admin::Rbsg::SwitchHelper.rbsg_switch_invitation_block when the company is in setup returns the appropriate message","status":"passed","file_path":"./spec/helpers/admin/rbsg_switch_helper_spec.rb","line_number":10,"run_time":0.083177818,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/rbsg_switch_helper_spec.rb[1:1:2:1]","description":"returns an appropriate message","full_description":"Admin::Rbsg::SwitchHelper.rbsg_switch_invitation_block when a company is not eligible to switch returns an appropriate message","status":"passed","file_path":"./spec/helpers/admin/rbsg_switch_helper_spec.rb","line_number":18,"run_time":0.173592154,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/rbsg_switch_helper_spec.rb[1:1:3:1]","description":"is shown an appropriate message","full_description":"Admin::Rbsg::SwitchHelper.rbsg_switch_invitation_block when a direct company has an existing invitiation is shown an appropriate message","status":"passed","file_path":"./spec/helpers/admin/rbsg_switch_helper_spec.rb","line_number":31,"run_time":0.034257727,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/rbsg_switch_helper_spec.rb[1:1:4:1]","description":"has the option to switch brand","full_description":"Admin::Rbsg::SwitchHelper.rbsg_switch_invitation_block when a direct company is setup has the option to switch brand","status":"passed","file_path":"./spec/helpers/admin/rbsg_switch_helper_spec.rb","line_number":40,"run_time":0.015663733,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/rbsg_switch_helper_spec.rb[1:1:5:1]","description":"has the option to switch brand","full_description":"Admin::Rbsg::SwitchHelper.rbsg_switch_invitation_block when a company is already rbsg has the option to switch brand","status":"passed","file_path":"./spec/helpers/admin/rbsg_switch_helper_spec.rb","line_number":49,"run_time":0.100631399,"pending_message":null,"screenshot":null}],"summary":{"duration":2.383696074,"example_count":470,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"470 examples, 0 failures"}