{"version":"3.11.0","messages":["Run options:\n  include {:ids=\u003e{\"./spec/controllers/invoices_controller_spec.rb\"=\u003e[\"20:3\"]}}\n  exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb[1:1:1:1:1]","description":"returns the expected XML","full_description":"Accounting::CorporationTax::SubmissionPayload with a single tax year #render ct600 version 1 returns the expected XML","status":"passed","file_path":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb","line_number":94,"run_time":0.491288818,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb[1:1:1:1:2:1]","description":"returns the same XML","full_description":"Accounting::CorporationTax::SubmissionPayload with a single tax year #render ct600 version 1 when the computations are cached returns the same XML","status":"passed","file_path":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb","line_number":101,"run_time":0.174458911,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb[1:1:1:1:3:1]","description":"returns the expected XML","full_description":"Accounting::CorporationTax::SubmissionPayload with a single tax year #render ct600 version 1 when the return is amended returns the expected XML","status":"passed","file_path":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb","line_number":109,"run_time":0.158652677,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb[1:1:1:2:1]","description":"returns the expected XML","full_description":"Accounting::CorporationTax::SubmissionPayload with a single tax year #render ct600 version 3 returns the expected XML","status":"passed","file_path":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb","line_number":132,"run_time":0.532490295,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb[1:1:1:2:2:1]","description":"returns the same XML","full_description":"Accounting::CorporationTax::SubmissionPayload with a single tax year #render ct600 version 3 when the computations are cached returns the same XML","status":"passed","file_path":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb","line_number":139,"run_time":0.478696225,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb[1:1:1:2:3:1]","description":"returns the expected XML","full_description":"Accounting::CorporationTax::SubmissionPayload with a single tax year #render ct600 version 3 when the return is amended returns the expected XML","status":"passed","file_path":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb","line_number":147,"run_time":0.494362481,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb[1:1:1:3:1]","description":"returns the expected XML","full_description":"Accounting::CorporationTax::SubmissionPayload with a single tax year #render ct600 version 3 with ct600a returns the expected XML","status":"passed","file_path":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb","line_number":170,"run_time":0.99731279,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb[1:1:1:3:2:1]","description":"doesn't raise an error","full_description":"Accounting::CorporationTax::SubmissionPayload with a single tax year #render ct600 version 3 with ct600a when the loans_outstanding_for_all_periods is nil doesn't raise an error","status":"passed","file_path":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb","line_number":177,"run_time":1.043271501,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb[1:1:1:3:3:1]","description":"returns the same XML","full_description":"Accounting::CorporationTax::SubmissionPayload with a single tax year #render ct600 version 3 with ct600a when the computations are cached returns the same XML","status":"passed","file_path":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb","line_number":185,"run_time":1.089930959,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb[1:1:1:4:1]","description":"returns the expected XML","full_description":"Accounting::CorporationTax::SubmissionPayload with a single tax year #render ct600 version 4 returns the expected XML","status":"passed","file_path":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb","line_number":205,"run_time":0.512828595,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb[1:1:1:4:2:1]","description":"returns the same XML","full_description":"Accounting::CorporationTax::SubmissionPayload with a single tax year #render ct600 version 4 when the computations are cached returns the same XML","status":"passed","file_path":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb","line_number":212,"run_time":1.110973402,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb[1:1:1:4:3:1]","description":"returns the expected XML","full_description":"Accounting::CorporationTax::SubmissionPayload with a single tax year #render ct600 version 4 when the return is amended returns the expected XML","status":"passed","file_path":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb","line_number":220,"run_time":0.521582473,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb[1:1:1:5:1]","description":"returns the expected XML","full_description":"Accounting::CorporationTax::SubmissionPayload with a single tax year #render ct600 version 4 with ct600a returns the expected XML","status":"passed","file_path":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb","line_number":243,"run_time":0.949728398,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb[1:1:1:5:2:1]","description":"doesn't raise an error","full_description":"Accounting::CorporationTax::SubmissionPayload with a single tax year #render ct600 version 4 with ct600a when the loans_outstanding_for_all_periods is nil doesn't raise an error","status":"passed","file_path":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb","line_number":250,"run_time":0.998990968,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb[1:1:1:5:3:1]","description":"returns the same XML","full_description":"Accounting::CorporationTax::SubmissionPayload with a single tax year #render ct600 version 4 with ct600a when the computations are cached returns the same XML","status":"passed","file_path":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb","line_number":258,"run_time":1.014825143,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb[1:2:1:1:1]","description":"returns the expected XML","full_description":"Accounting::CorporationTax::SubmissionPayload with two tax years #render ct600 version 1 returns the expected XML","status":"passed","file_path":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb","line_number":94,"run_time":0.133207526,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb[1:2:1:1:2:1]","description":"returns the same XML","full_description":"Accounting::CorporationTax::SubmissionPayload with two tax years #render ct600 version 1 when the computations are cached returns the same XML","status":"passed","file_path":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb","line_number":101,"run_time":0.190529048,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb[1:2:1:1:3:1]","description":"returns the expected XML","full_description":"Accounting::CorporationTax::SubmissionPayload with two tax years #render ct600 version 1 when the return is amended returns the expected XML","status":"passed","file_path":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb","line_number":109,"run_time":0.163398942,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb[1:2:1:2:1]","description":"returns the expected XML","full_description":"Accounting::CorporationTax::SubmissionPayload with two tax years #render ct600 version 3 returns the expected XML","status":"passed","file_path":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb","line_number":132,"run_time":0.513990369,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb[1:2:1:2:2:1]","description":"returns the same XML","full_description":"Accounting::CorporationTax::SubmissionPayload with two tax years #render ct600 version 3 when the computations are cached returns the same XML","status":"passed","file_path":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb","line_number":139,"run_time":0.594254595,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb[1:2:1:2:3:1]","description":"returns the expected XML","full_description":"Accounting::CorporationTax::SubmissionPayload with two tax years #render ct600 version 3 when the return is amended returns the expected XML","status":"passed","file_path":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb","line_number":147,"run_time":0.658990224,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb[1:2:1:3:1]","description":"returns the expected XML","full_description":"Accounting::CorporationTax::SubmissionPayload with two tax years #render ct600 version 3 with ct600a returns the expected XML","status":"passed","file_path":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb","line_number":170,"run_time":1.896017257,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb[1:2:1:3:2:1]","description":"doesn't raise an error","full_description":"Accounting::CorporationTax::SubmissionPayload with two tax years #render ct600 version 3 with ct600a when the loans_outstanding_for_all_periods is nil doesn't raise an error","status":"passed","file_path":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb","line_number":177,"run_time":1.283306428,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb[1:2:1:3:3:1]","description":"returns the same XML","full_description":"Accounting::CorporationTax::SubmissionPayload with two tax years #render ct600 version 3 with ct600a when the computations are cached returns the same XML","status":"passed","file_path":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb","line_number":185,"run_time":1.304989888,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb[1:2:1:4:1]","description":"returns the expected XML","full_description":"Accounting::CorporationTax::SubmissionPayload with two tax years #render ct600 version 4 returns the expected XML","status":"passed","file_path":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb","line_number":205,"run_time":0.674498281,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb[1:2:1:4:2:1]","description":"returns the same XML","full_description":"Accounting::CorporationTax::SubmissionPayload with two tax years #render ct600 version 4 when the computations are cached returns the same XML","status":"passed","file_path":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb","line_number":212,"run_time":0.691495595,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb[1:2:1:4:3:1]","description":"returns the expected XML","full_description":"Accounting::CorporationTax::SubmissionPayload with two tax years #render ct600 version 4 when the return is amended returns the expected XML","status":"passed","file_path":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb","line_number":220,"run_time":0.705404624,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb[1:2:1:5:1]","description":"returns the expected XML","full_description":"Accounting::CorporationTax::SubmissionPayload with two tax years #render ct600 version 4 with ct600a returns the expected XML","status":"passed","file_path":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb","line_number":243,"run_time":1.288507476,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb[1:2:1:5:2:1]","description":"doesn't raise an error","full_description":"Accounting::CorporationTax::SubmissionPayload with two tax years #render ct600 version 4 with ct600a when the loans_outstanding_for_all_periods is nil doesn't raise an error","status":"passed","file_path":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb","line_number":250,"run_time":1.883157134,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb[1:2:1:5:3:1]","description":"returns the same XML","full_description":"Accounting::CorporationTax::SubmissionPayload with two tax years #render ct600 version 4 with ct600a when the computations are cached returns the same XML","status":"passed","file_path":"./spec/models/accounting/corporation_tax/submission_payload_spec.rb","line_number":258,"run_time":1.334176844,"pending_message":null,"screenshot":null},{"id":"./spec/features/payroll/payroll_submission_spec.rb[1:1:1:1]","description":"Normal monthly payroll with one employee","full_description":"Payroll Submissions With a payroll profile for the 15/16 tax year Running payroll in Month 1 of the 15/16 tax year Normal monthly payroll with one employee","status":"passed","file_path":"./spec/features/payroll/payroll_submission_spec.rb","line_number":27,"run_time":5.54389328,"pending_message":null,"screenshot":null},{"id":"./spec/features/payroll/payroll_submission_spec.rb[1:1:2:1]","description":"Marking Month 12 as filed manually","full_description":"Payroll Submissions With a payroll profile for the 15/16 tax year Running payroll in Month 12 of the 15/16 tax year Marking Month 12 as filed manually","status":"passed","file_path":"./spec/features/payroll/payroll_submission_spec.rb","line_number":86,"run_time":2.502868405,"pending_message":null,"screenshot":null},{"id":"./spec/features/payroll/payroll_submission_spec.rb[1:1:3:1]","description":"Adding and removing starting information in Month 12","full_description":"Payroll Submissions With a payroll profile for the 15/16 tax year running month 12 after year end (EYU submission) Adding and removing starting information in Month 12","status":"passed","file_path":"./spec/features/payroll/payroll_submission_spec.rb","line_number":135,"run_time":7.922904817,"pending_message":null,"screenshot":null},{"id":"./spec/features/payroll/payroll_submission_spec.rb[1:2:1]","description":"The warning for missing hours worked is not displayed","full_description":"Payroll Submissions With a payroll profile for the 18/19 tax year The warning for missing hours worked is not displayed","status":"passed","file_path":"./spec/features/payroll/payroll_submission_spec.rb","line_number":199,"run_time":1.882272597,"pending_message":null,"screenshot":null},{"id":"./spec/features/payroll/payroll_submission_spec.rb[1:3:1:1:1]","description":"The warning for missing hours worked is not displayed","full_description":"Payroll Submissions With a payroll profile for the 19/20 tax year Running payroll in Month 1 of the 19/20 tax year The employee is not paid hourly The warning for missing hours worked is not displayed","status":"passed","file_path":"./spec/features/payroll/payroll_submission_spec.rb","line_number":252,"run_time":1.600738752,"pending_message":null,"screenshot":null},{"id":"./spec/features/payroll/payroll_submission_spec.rb[1:3:1:2:1]","description":"The warning for missing hours worked is displayed","full_description":"Payroll Submissions With a payroll profile for the 19/20 tax year Running payroll in Month 1 of the 19/20 tax year The employee is paid hourly The warning for missing hours worked is displayed","status":"passed","file_path":"./spec/features/payroll/payroll_submission_spec.rb","line_number":260,"run_time":2.051757874,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/switch_client_to_rbsg_funded_spec.rb[1:1:1:1]","description":"should allow switching","full_description":"Switch a client to RBSG Funded with uk-type companies with mettle api bank feed should allow switching","status":"passed","file_path":"./spec/features/practice_dashboard/switch_client_to_rbsg_funded_spec.rb","line_number":47,"run_time":2.853549812,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/switch_client_to_rbsg_funded_spec.rb[1:1:2:1]","description":"should allow switching","full_description":"Switch a client to RBSG Funded with uk-type companies with rbs bank feed should allow switching","status":"passed","file_path":"./spec/features/practice_dashboard/switch_client_to_rbsg_funded_spec.rb","line_number":104,"run_time":2.479653433,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/switch_client_to_rbsg_funded_spec.rb[1:1:3:1]","description":"should allow switching","full_description":"Switch a client to RBSG Funded with uk-type companies with natwest bank feed should allow switching","status":"passed","file_path":"./spec/features/practice_dashboard/switch_client_to_rbsg_funded_spec.rb","line_number":161,"run_time":2.47103284,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/switch_client_to_rbsg_funded_spec.rb[1:1:4:1]","description":"shouldn't allow switching","full_description":"Switch a client to RBSG Funded with uk-type companies with a non-NWG open banking bank feed shouldn't allow switching","status":"passed","file_path":"./spec/features/practice_dashboard/switch_client_to_rbsg_funded_spec.rb","line_number":214,"run_time":1.623514914,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/switch_client_to_rbsg_funded_spec.rb[1:2:1:1]","description":"allows switching for eligible Universal companies","full_description":"Switch a client to RBSG Funded with universal-type companies with a natwest open banking bank feed allows switching for eligible Universal companies","status":"passed","file_path":"./spec/features/practice_dashboard/switch_client_to_rbsg_funded_spec.rb","line_number":245,"run_time":2.519466875,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/switch_client_to_rbsg_funded_spec.rb[1:2:2:1]","description":"shouldn't allow switching","full_description":"Switch a client to RBSG Funded with universal-type companies with a mettle api bank feed shouldn't allow switching","status":"passed","file_path":"./spec/features/practice_dashboard/switch_client_to_rbsg_funded_spec.rb","line_number":313,"run_time":1.608166133,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/switch_client_to_rbsg_funded_spec.rb[1:2:3:1]","description":"shouldn't allow switching","full_description":"Switch a client to RBSG Funded with universal-type companies with a non-NWG open banking bank feed shouldn't allow switching","status":"passed","file_path":"./spec/features/practice_dashboard/switch_client_to_rbsg_funded_spec.rb","line_number":342,"run_time":1.721043085,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/switch_client_to_rbsg_funded_spec.rb[1:3:1:1]","description":"does not allow switching","full_description":"Switch a client to RBSG Funded with a us-type company with a natwest open banking bank feed does not allow switching","status":"passed","file_path":"./spec/features/practice_dashboard/switch_client_to_rbsg_funded_spec.rb","line_number":372,"run_time":1.878417043,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/switch_client_to_rbsg_funded_spec.rb[1:3:2:1]","description":"does not allow switching","full_description":"Switch a client to RBSG Funded with a us-type company with a mettle api bank feed does not allow switching","status":"passed","file_path":"./spec/features/practice_dashboard/switch_client_to_rbsg_funded_spec.rb","line_number":408,"run_time":1.468232186,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/switch_client_to_rbsg_funded_spec.rb[1:3:3:1]","description":"shouldn't allow switching","full_description":"Switch a client to RBSG Funded with a us-type company with a non-NWG open banking bank feed shouldn't allow switching","status":"passed","file_path":"./spec/features/practice_dashboard/switch_client_to_rbsg_funded_spec.rb","line_number":438,"run_time":1.562115642,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:1]","description":"has correct reseller names","full_description":"Reseller has correct reseller names","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":7,"run_time":0.003805686,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:2]","description":"throws a FK exception when creating a company with an invalid reseller","full_description":"Reseller throws a FK exception when creating a company with an invalid reseller","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":17,"run_time":0.023533086,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:3]","description":"has a secure code","full_description":"Reseller has a secure code","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":25,"run_time":0.003312687,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:4]","description":"is findable by secure code","full_description":"Reseller is findable by secure code","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":29,"run_time":0.006071083,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:5:1]","description":"is expected to validate that :name is case-sensitively unique","full_description":"Reseller BCSG is expected to validate that :name is case-sensitively unique","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":34,"run_time":0.00791203,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:5:2]","description":"includes a count of active resold companies in a reseller report","full_description":"Reseller BCSG includes a count of active resold companies in a reseller report","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":36,"run_time":0.432816645,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:5:3]","description":"does not include test companies in a reseller report count","full_description":"Reseller BCSG does not include test companies in a reseller report count","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":42,"run_time":0.129392905,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:5:4]","description":"does not include cancelled resold companies in a reseller report count","full_description":"Reseller BCSG does not include cancelled resold companies in a reseller report count","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":47,"run_time":0.451079008,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:5:6]","description":"orders active companies by creation date","full_description":"Reseller BCSG orders active companies by creation date","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":84,"run_time":0.238898385,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:5:5:1]","description":"considers free trials to be active","full_description":"Reseller BCSG with a free trial, a couple of subscribed companies, a cancelled company and a test company considers free trials to be active","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":62,"run_time":0.769894785,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:5:5:2]","description":"considers subscribed companies to be active","full_description":"Reseller BCSG with a free trial, a couple of subscribed companies, a cancelled company and a test company considers subscribed companies to be active","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":66,"run_time":0.811272887,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:5:5:3]","description":"does not consider cancelled companies to be active","full_description":"Reseller BCSG with a free trial, a couple of subscribed companies, a cancelled company and a test company does not consider cancelled companies to be active","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":70,"run_time":0.775168833,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:5:5:4]","description":"does not consider otherwise active companies called 'BCSG' to be active","full_description":"Reseller BCSG with a free trial, a couple of subscribed companies, a cancelled company and a test company does not consider otherwise active companies called 'BCSG' to be active","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":74,"run_time":0.813933584,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:5:5:5]","description":"correctly counts the number of active companies for the reseller","full_description":"Reseller BCSG with a free trial, a couple of subscribed companies, a cancelled company and a test company correctly counts the number of active companies for the reseller","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":78,"run_time":0.796832144,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:6:1:1]","description":"correctly computes counts of active companies for each reseller","full_description":"Reseller mixed collection of resellers .reports correctly computes counts of active companies for each reseller","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":108,"run_time":0.815653347,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:6:2:1]","description":"lists companies that have been resold by a reseller","full_description":"Reseller mixed collection of resellers #active_companies lists companies that have been resold by a reseller","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":116,"run_time":0.778265905,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:6:2:2]","description":"lists companies that have been resold by an RBSG reseller","full_description":"Reseller mixed collection of resellers #active_companies lists companies that have been resold by an RBSG reseller","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":120,"run_time":0.773202016,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:7:1]","description":"returns true for the four RBSG resellers (Natwest, Royal Bank of Scotland, Mettle, Ulster Bank)","full_description":"Reseller#rbsg? returns true for the four RBSG resellers (Natwest, Royal Bank of Scotland, Mettle, Ulster Bank)","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":127,"run_time":0.007771772,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:7:2]","description":"returns false for other Resellers","full_description":"Reseller#rbsg? returns false for other Resellers","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":134,"run_time":0.003917328,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:8:1:1]","description":"is expected to have attributes {:name =\u003e \"Royal Bank of Scotland\"}","full_description":"Reseller#rbsg_brand RBSG reseller is expected to have attributes {:name =\u003e \"Royal Bank of Scotland\"}","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":143,"run_time":0.0090538,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:8:2:1]","description":"is expected to eq nil","full_description":"Reseller#rbsg_brand non-RBSG reseller is expected to eq nil","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":149,"run_time":0.007869461,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:9:1:1]","description":"is expected to be mettle","full_description":"Reseller#mettle? Mettle reseller is expected to be mettle","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":157,"run_time":0.007750538,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:9:2:1]","description":"is expected not to be mettle","full_description":"Reseller#mettle? RBS reseller is expected not to be mettle","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":163,"run_time":0.007465443,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:10:1:1]","description":"is expected to be ulster bank","full_description":"Reseller#ulster_bank? Ulster Bank reseller is expected to be ulster bank","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":171,"run_time":0.007741391,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:10:2:1]","description":"is expected not to be ulster bank","full_description":"Reseller#ulster_bank? RBS reseller is expected not to be ulster bank","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":177,"run_time":0.007296455,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:1:1:1:1]","description":"creates an API Bank Feed","full_description":"Api::BankFeedsController POST :create with the mettle app id bank account with no bank feed creates an API Bank Feed","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":44,"run_time":0.127081887,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:1:1:1:2]","description":"marks the link_bank_account flying start task as completed","full_description":"Api::BankFeedsController POST :create with the mettle app id bank account with no bank feed marks the link_bank_account flying start task as completed","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":49,"run_time":0.105720886,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:1:1:1:3:1]","description":"should create a bank feed with an sca_expires_at attribute","full_description":"Api::BankFeedsController POST :create with the mettle app id bank account with no bank feed with a sca_expires_at attribute should create a bank feed with an sca_expires_at attribute","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":65,"run_time":0.089716786,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:1:1:1:3:2]","description":"should publish a `API_BANK_FEED_SETUP_COMPLETED` event","full_description":"Api::BankFeedsController POST :create with the mettle app id bank account with no bank feed with a sca_expires_at attribute should publish a `API_BANK_FEED_SETUP_COMPLETED` event","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":70,"run_time":0.096584167,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:1:1:1:4:1:1]","description":"responds with the correct status","full_description":"Api::BankFeedsController POST :create with the mettle app id bank account with no bank feed with an invalid sca_expires_at attribute behaves like a failure response responds with the correct status","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":25,"run_time":0.087838289,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:1:1:1:4:1:2]","description":"does not publish an event","full_description":"Api::BankFeedsController POST :create with the mettle app id bank account with no bank feed with an invalid sca_expires_at attribute behaves like a failure response does not publish an event","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":30,"run_time":0.099340132,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:1:1:1:4:1:3]","description":"doesn't complete the link_bank_account flying start task","full_description":"Api::BankFeedsController POST :create with the mettle app id bank account with no bank feed with an invalid sca_expires_at attribute behaves like a failure response doesn't complete the link_bank_account flying start task","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":35,"run_time":0.079301232,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:1:1:2:1:1]","description":"responds with the correct status","full_description":"Api::BankFeedsController POST :create with the mettle app id multiple Mettle Bank Services behaves like a failure response responds with the correct status","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":25,"run_time":0.091337091,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:1:1:2:1:2]","description":"does not publish an event","full_description":"Api::BankFeedsController POST :create with the mettle app id multiple Mettle Bank Services behaves like a failure response does not publish an event","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":30,"run_time":0.068638379,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:1:1:2:1:3]","description":"doesn't complete the link_bank_account flying start task","full_description":"Api::BankFeedsController POST :create with the mettle app id multiple Mettle Bank Services behaves like a failure response doesn't complete the link_bank_account flying start task","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":35,"run_time":0.119282059,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:1:1:3:1]","description":"creates an API Bank Feed","full_description":"Api::BankFeedsController POST :create with the mettle app id bank account with existing Yodlee bank feed creates an API Bank Feed","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":100,"run_time":0.143220676,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:1:1:4:1:1]","description":"responds with the correct status","full_description":"Api::BankFeedsController POST :create with the mettle app id bank account with existing enabled OB feed behaves like a failure response responds with the correct status","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":25,"run_time":0.246463623,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:1:1:4:1:2]","description":"does not publish an event","full_description":"Api::BankFeedsController POST :create with the mettle app id bank account with existing enabled OB feed behaves like a failure response does not publish an event","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":30,"run_time":0.239874663,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:1:1:4:1:3]","description":"doesn't complete the link_bank_account flying start task","full_description":"Api::BankFeedsController POST :create with the mettle app id bank account with existing enabled OB feed behaves like a failure response doesn't complete the link_bank_account flying start task","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":35,"run_time":0.247442855,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:1:1:5:1:1]","description":"responds with the correct status","full_description":"Api::BankFeedsController POST :create with the mettle app id bank account with existing enabled ApiBankFeed feed behaves like a failure response responds with the correct status","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":25,"run_time":0.092658991,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:1:1:5:1:2]","description":"does not publish an event","full_description":"Api::BankFeedsController POST :create with the mettle app id bank account with existing enabled ApiBankFeed feed behaves like a failure response does not publish an event","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":30,"run_time":0.103574867,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:1:1:5:1:3]","description":"doesn't complete the link_bank_account flying start task","full_description":"Api::BankFeedsController POST :create with the mettle app id bank account with existing enabled ApiBankFeed feed behaves like a failure response doesn't complete the link_bank_account flying start task","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":35,"run_time":0.090260177,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:1:1:6:1:1]","description":"responds with the correct status","full_description":"Api::BankFeedsController POST :create with the mettle app id for a different company's bank account behaves like a failure response responds with the correct status","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":25,"run_time":0.171834282,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:1:1:6:1:2]","description":"does not publish an event","full_description":"Api::BankFeedsController POST :create with the mettle app id for a different company's bank account behaves like a failure response does not publish an event","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":30,"run_time":0.16024635,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:1:1:6:1:3]","description":"doesn't complete the link_bank_account flying start task","full_description":"Api::BankFeedsController POST :create with the mettle app id for a different company's bank account behaves like a failure response doesn't complete the link_bank_account flying start task","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":35,"run_time":0.164111557,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:1:1:7:1:1]","description":"responds with the correct status","full_description":"Api::BankFeedsController POST :create with the mettle app id bank account that doesn't exist behaves like a failure response responds with the correct status","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":25,"run_time":0.06229417,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:1:1:7:1:2]","description":"does not publish an event","full_description":"Api::BankFeedsController POST :create with the mettle app id bank account that doesn't exist behaves like a failure response does not publish an event","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":30,"run_time":0.058189847,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:1:1:7:1:3]","description":"doesn't complete the link_bank_account flying start task","full_description":"Api::BankFeedsController POST :create with the mettle app id bank account that doesn't exist behaves like a failure response doesn't complete the link_bank_account flying start task","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":35,"run_time":0.061630826,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:1:1:8:1:1]","description":"responds with the correct status","full_description":"Api::BankFeedsController POST :create with the mettle app id won't save behaves like a failure response responds with the correct status","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":25,"run_time":0.092350458,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:1:1:8:1:2]","description":"does not publish an event","full_description":"Api::BankFeedsController POST :create with the mettle app id won't save behaves like a failure response does not publish an event","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":30,"run_time":0.076099545,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:1:1:8:1:3]","description":"doesn't complete the link_bank_account flying start task","full_description":"Api::BankFeedsController POST :create with the mettle app id won't save behaves like a failure response doesn't complete the link_bank_account flying start task","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":35,"run_time":0.07704943,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:1:1:9:1]","description":"creates an API bank feed","full_description":"Api::BankFeedsController POST :create with the mettle app id with a UK landlord creates an API bank feed","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":144,"run_time":0.191822111,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:1:2:1:1:1]","description":"responds with the correct status","full_description":"Api::BankFeedsController POST :create without the Mettle app id bank account with no bank feed behaves like a failure response responds with the correct status","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":25,"run_time":0.084094533,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:1:2:1:1:2]","description":"does not publish an event","full_description":"Api::BankFeedsController POST :create without the Mettle app id bank account with no bank feed behaves like a failure response does not publish an event","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":30,"run_time":0.065536997,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:1:2:1:1:3]","description":"doesn't complete the link_bank_account flying start task","full_description":"Api::BankFeedsController POST :create without the Mettle app id bank account with no bank feed behaves like a failure response doesn't complete the link_bank_account flying start task","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":35,"run_time":0.072701391,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:2:1:1:1]","description":"is expected to respond with a success status code (2xx)","full_description":"Api::BankFeedsController GET :show with a API Bank feed behaves like a response is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":160,"run_time":0.064065521,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:2:1:2:1:1]","description":"is expected to respond with a success status code (2xx)","full_description":"Api::BankFeedsController GET :show with a API Bank feed with a UK landlord behaves like a response is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":160,"run_time":0.143553225,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:2:1:3:1]","description":"returns feed expiry in UTC calculated for the company's timezone","full_description":"Api::BankFeedsController GET :show with a API Bank feed with company in non-UTC time zone returns feed expiry in UTC calculated for the company's timezone","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":187,"run_time":0.098384327,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:2:2:1:1]","description":"is expected to respond with a success status code (2xx)","full_description":"Api::BankFeedsController GET :show with an Open Banking Feed behaves like a response is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":160,"run_time":0.204805363,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:2:3:1:1]","description":"is expected to respond with a success status code (2xx)","full_description":"Api::BankFeedsController GET :show with a Yodlee Feed behaves like a response is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":160,"run_time":0.110224075,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:2:4:1]","description":"returns a 404","full_description":"Api::BankFeedsController GET :show with a feed that does not exist returns a 404","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":207,"run_time":0.050020439,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:2:5:1:1]","description":"is expected to respond with a not_found status code (404)","full_description":"Api::BankFeedsController GET :show with a feed owned by another company behaves like a response is expected to respond with a not_found status code (404)","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":160,"run_time":0.164324939,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:2:6:1:1]","description":"is expected to respond with a success status code (2xx)","full_description":"Api::BankFeedsController GET :show with a feed with no bank service behaves like a response is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":160,"run_time":0.088886006,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:3:1:1:1]","description":"is expected to respond with a success status code (2xx)","full_description":"Api::BankFeedsController GET :index with a API Bank feed behaves like a response is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":228,"run_time":0.077244182,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:3:2:1:1]","description":"is expected to respond with a success status code (2xx)","full_description":"Api::BankFeedsController GET :index with an Open Banking Feed behaves like a response is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":228,"run_time":0.238996226,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:3:3:1:1]","description":"is expected to respond with a success status code (2xx)","full_description":"Api::BankFeedsController GET :index with a Yodlee Feed behaves like a response is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":228,"run_time":0.100347772,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:3:4:1:1]","description":"is expected to respond with a success status code (2xx)","full_description":"Api::BankFeedsController GET :index with all 3 feeds behaves like a response is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":228,"run_time":0.265906429,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:3:5:1:1]","description":"is expected to respond with a success status code (2xx)","full_description":"Api::BankFeedsController GET :index with no feed behaves like a response is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":228,"run_time":0.0423853,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:3:6:1:1]","description":"is expected to respond with a success status code (2xx)","full_description":"Api::BankFeedsController GET :index with a feed with no bank service behaves like a response is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":228,"run_time":0.051581122,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:3:7:1:1]","description":"is expected to respond with a success status code (2xx)","full_description":"Api::BankFeedsController GET :index with a UK landlord behaves like a response is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":228,"run_time":0.141413061,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:4:1:1:1]","description":"revokes app access and deletes the feed","full_description":"Api::BankFeedsController DELETE :destroy with the mettle app id with a Mettle bank feed revokes app access and deletes the feed","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":314,"run_time":0.09211003,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:4:1:1:2:1]","description":"revokes app access and deletes the feed","full_description":"Api::BankFeedsController DELETE :destroy with the mettle app id with a Mettle bank feed with a UK landlord revokes app access and deletes the feed","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":324,"run_time":0.138433052,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:4:1:2:1:1]","description":"is expected to respond with status code :bad_request (400)","full_description":"Api::BankFeedsController DELETE :destroy with the mettle app id with an Open Banking Feed behaves like a failure response is expected to respond with status code :bad_request (400)","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":282,"run_time":0.202780427,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:4:1:3:1:1]","description":"is expected to respond with status code :bad_request (400)","full_description":"Api::BankFeedsController DELETE :destroy with the mettle app id with a Yodlee Feed behaves like a failure response is expected to respond with status code :bad_request (400)","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":282,"run_time":0.110476728,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:4:1:4:1:1]","description":"is expected to respond with a not_found status code (404)","full_description":"Api::BankFeedsController DELETE :destroy with the mettle app id with a Bank Feed that does not exist behaves like a failure response is expected to respond with a not_found status code (404)","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":282,"run_time":0.085025866,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:4:1:5:1:1]","description":"is expected to respond with a not_found status code (404)","full_description":"Api::BankFeedsController DELETE :destroy with the mettle app id with an API Feed from another company behaves like a failure response is expected to respond with a not_found status code (404)","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":282,"run_time":0.144704246,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:4:2:1:1:1]","description":"is expected to respond with status code :bad_request (400)","full_description":"Api::BankFeedsController DELETE :destroy without Mettle app id a Mettle API Bank Feed behaves like a failure response is expected to respond with status code :bad_request (400)","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":282,"run_time":0.084267766,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:5:1:1:1:1]","description":"changes the state and returns ok","full_description":"Api::BankFeedsController PUT :update with the mettle app id a mettle API feed updating pending to enabled changes the state and returns ok","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":383,"run_time":0.101956604,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:5:1:1:1:2]","description":"does not publish an API_BANK_FEED_CONSENT_UPDATED event","full_description":"Api::BankFeedsController PUT :update with the mettle app id a mettle API feed updating pending to enabled does not publish an API_BANK_FEED_CONSENT_UPDATED event","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":388,"run_time":0.096371007,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:5:1:1:1:3:1]","description":"changes the state and returns ok","full_description":"Api::BankFeedsController PUT :update with the mettle app id a mettle API feed updating pending to enabled with a UK landlord changes the state and returns ok","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":396,"run_time":0.183732685,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:5:1:1:2:1]","description":"does not change the state but returns ok","full_description":"Api::BankFeedsController PUT :update with the mettle app id a mettle API feed updating enabled to enabled does not change the state but returns ok","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":405,"run_time":0.086773917,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:5:1:1:2:2]","description":"does not publish an API_BANK_FEED_CONSENT_UPDATED event","full_description":"Api::BankFeedsController PUT :update with the mettle app id a mettle API feed updating enabled to enabled does not publish an API_BANK_FEED_CONSENT_UPDATED event","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":410,"run_time":0.083594435,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:5:1:1:3:1:1]","description":"does not perform any updates or publish events and responds with a bad_request status","full_description":"Api::BankFeedsController PUT :update with the mettle app id a mettle API feed updating to an non supported state behaves like a failure response does not perform any updates or publish events and responds with a bad_request status","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":369,"run_time":0.082668687,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:5:1:1:4:1:1]","description":"does not perform any updates or publish events and responds with a not_found status","full_description":"Api::BankFeedsController PUT :update with the mettle app id a mettle API feed a feed id that does not exist behaves like a failure response does not perform any updates or publish events and responds with a not_found status","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":369,"run_time":0.078827683,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:5:1:1:5:1:1]","description":"should update the sca_expires_at attribute to the new date","full_description":"Api::BankFeedsController PUT :update with the mettle app id a mettle API feed updating the sca_expires_at with a valid date should update the sca_expires_at attribute to the new date","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":441,"run_time":0.086258423,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:5:1:1:5:1:2]","description":"should publish an API_BANK_FEED_CONSENT_UPDATED event","full_description":"Api::BankFeedsController PUT :update with the mettle app id a mettle API feed updating the sca_expires_at with a valid date should publish an API_BANK_FEED_CONSENT_UPDATED event","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":445,"run_time":0.088746248,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:5:1:1:5:2:1:1]","description":"does not perform any updates or publish events and responds with a bad_request status","full_description":"Api::BankFeedsController PUT :update with the mettle app id a mettle API feed updating the sca_expires_at with an invalid date behaves like a failure response does not perform any updates or publish events and responds with a bad_request status","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":369,"run_time":0.083774203,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:5:1:1:5:3:1]","description":"should not publish an API_BANK_FEED_CONSENT_UPDATED event","full_description":"Api::BankFeedsController PUT :update with the mettle app id a mettle API feed updating the sca_expires_at with the same date should not publish an API_BANK_FEED_CONSENT_UPDATED event","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":459,"run_time":0.101806008,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:5:1:2:1:1]","description":"does not perform any updates or publish events and responds with a bad_request status","full_description":"Api::BankFeedsController PUT :update with the mettle app id an Open Banking Feed behaves like a failure response does not perform any updates or publish events and responds with a bad_request status","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":369,"run_time":0.218343823,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:5:1:3:1:1]","description":"does not perform any updates or publish events and responds with a bad_request status","full_description":"Api::BankFeedsController PUT :update with the mettle app id a Yodlee Feed behaves like a failure response does not perform any updates or publish events and responds with a bad_request status","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":369,"run_time":0.112727256,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:5:1:4:1:1]","description":"does not perform any updates or publish events and responds with a not_found status","full_description":"Api::BankFeedsController PUT :update with the mettle app id with an API Feed for another company behaves like a failure response does not perform any updates or publish events and responds with a not_found status","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":369,"run_time":0.162815609,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_feeds_controller_spec.rb[1:5:2:1:1:1]","description":"does not perform any updates or publish events and responds with a bad_request status","full_description":"Api::BankFeedsController PUT :update without the mettle app id a Mettle API Bank Feed behaves like a failure response does not perform any updates or publish events and responds with a bad_request status","status":"passed","file_path":"./spec/controllers/api/bank_feeds_controller_spec.rb","line_number":369,"run_time":0.084634797,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/accountancy_practices/company_filter_spec.rb[1:1]","description":"defaults to filtering for active status companies when an invalid status is queried","full_description":"Admin::AccountancyPractices::CompanyFilter defaults to filtering for active status companies when an invalid status is queried","status":"passed","file_path":"./spec/models/admin/accountancy_practices/company_filter_spec.rb","line_number":7,"run_time":0.004260531,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/accountancy_practices/company_filter_spec.rb[1:2]","description":"defaults to filtering for active companies when no status is queried","full_description":"Admin::AccountancyPractices::CompanyFilter defaults to filtering for active companies when no status is queried","status":"passed","file_path":"./spec/models/admin/accountancy_practices/company_filter_spec.rb","line_number":17,"run_time":0.003124999,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/accountancy_practices/company_filter_spec.rb[1:3]","description":"defaults to filtering for practice managed companies when an invalid company_type is queried","full_description":"Admin::AccountancyPractices::CompanyFilter defaults to filtering for practice managed companies when an invalid company_type is queried","status":"passed","file_path":"./spec/models/admin/accountancy_practices/company_filter_spec.rb","line_number":27,"run_time":0.003200055,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/accountancy_practices/company_filter_spec.rb[1:4]","description":"defaults to filtering for practice managed companies when no company_type is queried","full_description":"Admin::AccountancyPractices::CompanyFilter defaults to filtering for practice managed companies when no company_type is queried","status":"passed","file_path":"./spec/models/admin/accountancy_practices/company_filter_spec.rb","line_number":37,"run_time":0.002980792,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/accountancy_practices/company_filter_spec.rb[1:5:1]","description":"returns an empty ActiveRecord::Relation when the accountancy practice is set to nil","full_description":"Admin::AccountancyPractices::CompanyFilter#filtered_companies returns an empty ActiveRecord::Relation when the accountancy practice is set to nil","status":"passed","file_path":"./spec/models/admin/accountancy_practices/company_filter_spec.rb","line_number":71,"run_time":0.787262026,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/accountancy_practices/company_filter_spec.rb[1:5:2]","description":"sets the filtered companies correctly when querying for active practice managed companies","full_description":"Admin::AccountancyPractices::CompanyFilter#filtered_companies sets the filtered companies correctly when querying for active practice managed companies","status":"passed","file_path":"./spec/models/admin/accountancy_practices/company_filter_spec.rb","line_number":80,"run_time":0.8240419,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/accountancy_practices/company_filter_spec.rb[1:5:3]","description":"sets the filtered companies correctly when querying for inactive practice managed companies","full_description":"Admin::AccountancyPractices::CompanyFilter#filtered_companies sets the filtered companies correctly when querying for inactive practice managed companies","status":"passed","file_path":"./spec/models/admin/accountancy_practices/company_filter_spec.rb","line_number":89,"run_time":0.786169044,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/accountancy_practices/company_filter_spec.rb[1:5:4]","description":"sets the filtered companies correctly when querying for closed practice managed companies","full_description":"Admin::AccountancyPractices::CompanyFilter#filtered_companies sets the filtered companies correctly when querying for closed practice managed companies","status":"passed","file_path":"./spec/models/admin/accountancy_practices/company_filter_spec.rb","line_number":98,"run_time":0.775326162,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/accountancy_practices/company_filter_spec.rb[1:5:5]","description":"sets the filtered companies correctly when querying for active linked companies","full_description":"Admin::AccountancyPractices::CompanyFilter#filtered_companies sets the filtered companies correctly when querying for active linked companies","status":"passed","file_path":"./spec/models/admin/accountancy_practices/company_filter_spec.rb","line_number":107,"run_time":0.797610057,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/accountancy_practices/company_filter_spec.rb[1:5:6]","description":"sets the filtered companies correctly when querying for non-active linked companies","full_description":"Admin::AccountancyPractices::CompanyFilter#filtered_companies sets the filtered companies correctly when querying for non-active linked companies","status":"passed","file_path":"./spec/models/admin/accountancy_practices/company_filter_spec.rb","line_number":116,"run_time":0.847415341,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/accountancy_practices/company_filter_spec.rb[1:5:7]","description":"sets the filtered companies correctly when querying for active CoPilot companies","full_description":"Admin::AccountancyPractices::CompanyFilter#filtered_companies sets the filtered companies correctly when querying for active CoPilot companies","status":"passed","file_path":"./spec/models/admin/accountancy_practices/company_filter_spec.rb","line_number":125,"run_time":0.83456142,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/accountancy_practices/company_filter_spec.rb[1:5:8]","description":"sets the filtered companies correctly when querying for non-active CoPilot companies","full_description":"Admin::AccountancyPractices::CompanyFilter#filtered_companies sets the filtered companies correctly when querying for non-active CoPilot companies","status":"passed","file_path":"./spec/models/admin/accountancy_practices/company_filter_spec.rb","line_number":134,"run_time":0.747513028,"pending_message":null,"screenshot":null},{"id":"./spec/models/tax_timeline_spec.rb[1:1:1]","description":"sorts the list of items","full_description":"TaxTimeline.for_company sorts the list of items","status":"passed","file_path":"./spec/models/tax_timeline_spec.rb","line_number":21,"run_time":0.414552459,"pending_message":null,"screenshot":null},{"id":"./spec/models/tax_timeline_spec.rb[1:1:2]","description":"includes only company tax items","full_description":"TaxTimeline.for_company includes only company tax items","status":"passed","file_path":"./spec/models/tax_timeline_spec.rb","line_number":25,"run_time":0.471158951,"pending_message":null,"screenshot":null},{"id":"./spec/models/tax_timeline_spec.rb[1:2:1]","description":"sorts the list of items","full_description":"TaxTimeline.for_user sorts the list of items","status":"passed","file_path":"./spec/models/tax_timeline_spec.rb","line_number":35,"run_time":1.337443731,"pending_message":null,"screenshot":null},{"id":"./spec/models/tax_timeline_spec.rb[1:2:2]","description":"includes personal tax items","full_description":"TaxTimeline.for_user includes personal tax items","status":"passed","file_path":"./spec/models/tax_timeline_spec.rb","line_number":39,"run_time":1.701635143,"pending_message":null,"screenshot":null},{"id":"./spec/models/tax_timeline_spec.rb[1:2:3]","description":"includes company tax items","full_description":"TaxTimeline.for_user includes company tax items","status":"passed","file_path":"./spec/models/tax_timeline_spec.rb","line_number":43,"run_time":1.572758712,"pending_message":null,"screenshot":null},{"id":"./spec/models/tax_timeline_spec.rb[1:2:4]","description":"only includes items after date \u003e= company current date in their timezone","full_description":"TaxTimeline.for_user only includes items after date \u003e= company current date in their timezone","status":"passed","file_path":"./spec/models/tax_timeline_spec.rb","line_number":47,"run_time":1.338560141,"pending_message":null,"screenshot":null},{"id":"./spec/models/tax_timeline_spec.rb[1:2:5]","description":"returns [] if the company doesn't support personal tax","full_description":"TaxTimeline.for_user returns [] if the company doesn't support personal tax","status":"passed","file_path":"./spec/models/tax_timeline_spec.rb","line_number":51,"run_time":0.096741742,"pending_message":null,"screenshot":null},{"id":"./spec/models/tax_timeline_spec.rb[1:3:1]","description":"returns the filtered self assessment returns","full_description":"TaxTimeline.active_sa_returns returns the filtered self assessment returns","status":"passed","file_path":"./spec/models/tax_timeline_spec.rb","line_number":70,"run_time":0.117448313,"pending_message":null,"screenshot":null},{"id":"./spec/models/tax_timeline_spec.rb[1:4:1]","description":"is same for different instances with same timeline_items","full_description":"TaxTimeline.fingerprint is same for different instances with same timeline_items","status":"passed","file_path":"./spec/models/tax_timeline_spec.rb","line_number":89,"run_time":0.461459755,"pending_message":null,"screenshot":null},{"id":"./spec/models/tax_timeline_spec.rb[1:4:2]","description":"changes when a timeline_item changes","full_description":"TaxTimeline.fingerprint changes when a timeline_item changes","status":"passed","file_path":"./spec/models/tax_timeline_spec.rb","line_number":96,"run_time":0.870432785,"pending_message":null,"screenshot":null},{"id":"./spec/features/auto_extract/convert_file_to_expense_spec.rb[1:1]","description":"can see 'Convert to a new expense' links","full_description":"Convert Auto Extract files to expenses can see 'Convert to a new expense' links","status":"passed","file_path":"./spec/features/auto_extract/convert_file_to_expense_spec.rb","line_number":25,"run_time":1.543484498,"pending_message":null,"screenshot":null},{"id":"./spec/features/auto_extract/convert_file_to_expense_spec.rb[1:2]","description":"is able to convert an extracted file to an expense","full_description":"Convert Auto Extract files to expenses is able to convert an extracted file to an expense","status":"passed","file_path":"./spec/features/auto_extract/convert_file_to_expense_spec.rb","line_number":31,"run_time":2.674989951,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/app_approver_spec.rb[1:1:1:1:1]","description":"is expected to have authority to approve this level app","full_description":"Api::AppApprover#has_authority_to_approve_this_level_app? company-level account owner is expected to have authority to approve this level app","status":"passed","file_path":"./spec/models/api/app_approver_spec.rb","line_number":26,"run_time":0.183922911,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/app_approver_spec.rb[1:1:1:2:1]","description":"is expected not to have authority to approve this level app","full_description":"Api::AppApprover#has_authority_to_approve_this_level_app? company-level account manager is expected not to have authority to approve this level app","status":"passed","file_path":"./spec/models/api/app_approver_spec.rb","line_number":32,"run_time":0.195338044,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/app_approver_spec.rb[1:1:1:3:1:1]","description":"is expected not to have authority to approve this level app","full_description":"Api::AppApprover#has_authority_to_approve_this_level_app? company-level regular user with bills permission is expected not to have authority to approve this level app","status":"passed","file_path":"./spec/models/api/app_approver_spec.rb","line_number":39,"run_time":0.227369491,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/app_approver_spec.rb[1:1:1:3:2:1]","description":"is expected to have authority to approve this level app","full_description":"Api::AppApprover#has_authority_to_approve_this_level_app? company-level regular user with banking permission is expected to have authority to approve this level app","status":"passed","file_path":"./spec/models/api/app_approver_spec.rb","line_number":45,"run_time":0.473709305,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/app_approver_spec.rb[1:1:2:1:1]","description":"is expected to have authority to approve this level app","full_description":"Api::AppApprover#has_authority_to_approve_this_level_app? user-level account owner is expected to have authority to approve this level app","status":"passed","file_path":"./spec/models/api/app_approver_spec.rb","line_number":56,"run_time":0.536861669,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/app_approver_spec.rb[1:1:2:2:1]","description":"is expected to have authority to approve this level app","full_description":"Api::AppApprover#has_authority_to_approve_this_level_app? user-level account manager is expected to have authority to approve this level app","status":"passed","file_path":"./spec/models/api/app_approver_spec.rb","line_number":62,"run_time":0.206233928,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/app_approver_spec.rb[1:1:2:3:1]","description":"is expected to have authority to approve this level app","full_description":"Api::AppApprover#has_authority_to_approve_this_level_app? user-level regular user is expected to have authority to approve this level app","status":"passed","file_path":"./spec/models/api/app_approver_spec.rb","line_number":68,"run_time":0.190587609,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/app_approver_spec.rb[1:2:1:1]","description":"is expected to be company level app","full_description":"Api::AppApprover#company_level_app? company lowercase is expected to be company level app","status":"passed","file_path":"./spec/models/api/app_approver_spec.rb","line_number":77,"run_time":0.203939176,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/app_approver_spec.rb[1:2:2:1]","description":"is expected not to be company level app","full_description":"Api::AppApprover#company_level_app? company uppercase is expected not to be company level app","status":"passed","file_path":"./spec/models/api/app_approver_spec.rb","line_number":83,"run_time":0.211582388,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/app_approver_spec.rb[1:2:3:1]","description":"is expected not to be company level app","full_description":"Api::AppApprover#company_level_app? empty string is expected not to be company level app","status":"passed","file_path":"./spec/models/api/app_approver_spec.rb","line_number":89,"run_time":0.214343983,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/app_approver_spec.rb[1:2:4:1]","description":"is expected not to be company level app","full_description":"Api::AppApprover#company_level_app? nil is expected not to be company level app","status":"passed","file_path":"./spec/models/api/app_approver_spec.rb","line_number":95,"run_time":0.182645881,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/app_approver_spec.rb[1:3:1:1]","description":"is expected to have authority to approve company level apps","full_description":"Api::AppApprover#has_authority_to_approve_company_level_apps? account owner is expected to have authority to approve company level apps","status":"passed","file_path":"./spec/models/api/app_approver_spec.rb","line_number":103,"run_time":0.179936162,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/app_approver_spec.rb[1:3:2:1]","description":"is expected not to have authority to approve company level apps","full_description":"Api::AppApprover#has_authority_to_approve_company_level_apps? account manager is expected not to have authority to approve company level apps","status":"passed","file_path":"./spec/models/api/app_approver_spec.rb","line_number":109,"run_time":0.192477498,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/app_approver_spec.rb[1:3:3:1:1]","description":"is expected not to have authority to approve company level apps","full_description":"Api::AppApprover#has_authority_to_approve_company_level_apps? regular user with bills permission is expected not to have authority to approve company level apps","status":"passed","file_path":"./spec/models/api/app_approver_spec.rb","line_number":116,"run_time":0.190966775,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/app_approver_spec.rb[1:3:3:2:1]","description":"is expected to have authority to approve company level apps","full_description":"Api::AppApprover#has_authority_to_approve_company_level_apps? regular user with banking permission is expected to have authority to approve company level apps","status":"passed","file_path":"./spec/models/api/app_approver_spec.rb","line_number":122,"run_time":0.179536762,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/app_approver_spec.rb[1:4:1:1:1]","description":"is expected to be approvable","full_description":"Api::AppApprover#approvable? user-level completed setup is expected to be approvable","status":"passed","file_path":"./spec/models/api/app_approver_spec.rb","line_number":134,"run_time":0.190822678,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/app_approver_spec.rb[1:4:1:2:1]","description":"is expected not to be approvable","full_description":"Api::AppApprover#approvable? user-level not completed setup is expected not to be approvable","status":"passed","file_path":"./spec/models/api/app_approver_spec.rb","line_number":140,"run_time":0.175808129,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/app_approver_spec.rb[1:4:2:1:1]","description":"is expected not to be approvable","full_description":"Api::AppApprover#approvable? company-level has authority to approve company level apps is expected not to be approvable","status":"passed","file_path":"./spec/models/api/app_approver_spec.rb","line_number":153,"run_time":0.207051561,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/app_approver_spec.rb[1:4:2:1:2:1]","description":"is expected to be approvable","full_description":"Api::AppApprover#approvable? company-level has authority to approve company level apps has completed setup is expected to be approvable","status":"passed","file_path":"./spec/models/api/app_approver_spec.rb","line_number":158,"run_time":0.215250416,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/app_approver_spec.rb[1:5:1:1]","description":"is expected to be a kind of User(id: integer, first_name: string, email: string, created_at: datetime, updated_at: datetime, is_a..._itsa_activated_at: datetime, hmrc_mtd_itsa_start_date: date, subscribed_to_company_digest: boolean) and eq #\u003cUser id: 975572679, first_name: \"Ed\", email: \"user_8@example.com\", created_at: \"2022-12-23 10:46:28..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","full_description":"Api::AppApprover#entity user-level app is expected to be a kind of User(id: integer, first_name: string, email: string, created_at: datetime, updated_at: datetime, is_a..._itsa_activated_at: datetime, hmrc_mtd_itsa_start_date: date, subscribed_to_company_digest: boolean) and eq #\u003cUser id: 975572679, first_name: \"Ed\", email: \"user_8@example.com\", created_at: \"2022-12-23 10:46:28..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","status":"passed","file_path":"./spec/models/api/app_approver_spec.rb","line_number":168,"run_time":0.191413723,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/app_approver_spec.rb[1:5:2:1]","description":"is expected to be a kind of Company(id: integer, subdomain: string, address1: string, town: string, region: string, postcode: str...hed_setup_done: boolean, last_accessed_on: date, cash_basis: boolean, business_phone_number: string) and eq #\u003cUkLimitedCompany id: 895398309, name: \"Practice Managed test company\"\u003e","full_description":"Api::AppApprover#entity company-level app is expected to be a kind of Company(id: integer, subdomain: string, address1: string, town: string, region: string, postcode: str...hed_setup_done: boolean, last_accessed_on: date, cash_basis: boolean, business_phone_number: string) and eq #\u003cUkLimitedCompany id: 895398309, name: \"Practice Managed test company\"\u003e","status":"passed","file_path":"./spec/models/api/app_approver_spec.rb","line_number":174,"run_time":0.185436751,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/app_approver_spec.rb[1:6:1:1:1]","description":"is expected to have completed necessary setup for approving apps","full_description":"Api::AppApprover#has_completed_necessary_setup_for_approving_apps? account owner with all setup steps done is expected to have completed necessary setup for approving apps","status":"passed","file_path":"./spec/models/api/app_approver_spec.rb","line_number":185,"run_time":0.086356142,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/app_approver_spec.rb[1:6:1:2:1]","description":"is expected not to have completed necessary setup for approving apps","full_description":"Api::AppApprover#has_completed_necessary_setup_for_approving_apps? account owner without all setup steps done is expected not to have completed necessary setup for approving apps","status":"passed","file_path":"./spec/models/api/app_approver_spec.rb","line_number":191,"run_time":0.095031405,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/app_approver_spec.rb[1:6:2:1]","description":"is expected to have completed necessary setup for approving apps","full_description":"Api::AppApprover#has_completed_necessary_setup_for_approving_apps? account manager is expected to have completed necessary setup for approving apps","status":"passed","file_path":"./spec/models/api/app_approver_spec.rb","line_number":199,"run_time":0.192820553,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/app_approver_spec.rb[1:6:3:1:1]","description":"is expected to have completed necessary setup for approving apps","full_description":"Api::AppApprover#has_completed_necessary_setup_for_approving_apps? regular user with all setup steps done is expected to have completed necessary setup for approving apps","status":"passed","file_path":"./spec/models/api/app_approver_spec.rb","line_number":207,"run_time":0.089922558,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/app_approver_spec.rb[1:6:3:2:1]","description":"is expected not to have completed necessary setup for approving apps","full_description":"Api::AppApprover#has_completed_necessary_setup_for_approving_apps? regular user without all setup steps done is expected not to have completed necessary setup for approving apps","status":"passed","file_path":"./spec/models/api/app_approver_spec.rb","line_number":214,"run_time":0.088684725,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/inline_form/payments_and_refunds_spec.rb[1:1]","description":"explaining a transaction as a payment","full_description":"Inline Banking - Payments and Refunds explaining a transaction as a payment","status":"passed","file_path":"./spec/features/new_banking/inline_form/payments_and_refunds_spec.rb","line_number":10,"run_time":2.179803165,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/inline_form/payments_and_refunds_spec.rb[1:2]","description":"explaining a transaction as a refund","full_description":"Inline Banking - Payments and Refunds explaining a transaction as a refund","status":"passed","file_path":"./spec/features/new_banking/inline_form/payments_and_refunds_spec.rb","line_number":31,"run_time":1.781455648,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:1:1:1]","description":"returns true","full_description":"Accounting::AuditTrailHelper#no_audit_entries_available? when the company has no audit entries returns true","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":17,"run_time":0.180126606,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:1:2:1]","description":"returns false","full_description":"Accounting::AuditTrailHelper#no_audit_entries_available? when the company has audit entries returns false","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":27,"run_time":0.392978188,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:2:1:1]","description":"returns an empty array","full_description":"Accounting::AuditTrailHelper#actors_for_select when the filters query returns no results for the user aggregation returns an empty array","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":39,"run_time":0.142906112,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:2:2:1]","description":"returns a case-insensitive sorted Array of actor display names with their sort key","full_description":"Accounting::AuditTrailHelper#actors_for_select when the filters query returns results for the user aggregation returns a case-insensitive sorted Array of actor display names with their sort key","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":66,"run_time":0.132428921,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:3:1:1]","description":"only returns the display name and does not generate a link","full_description":"Accounting::AuditTrailHelper#audit_trail_entity_link when the audit_entry has an auditable which is a BankTransaction only returns the display name and does not generate a link","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":102,"run_time":0.143843637,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:3:2:1]","description":"generates a link to the bill","full_description":"Accounting::AuditTrailHelper#audit_trail_entity_link when the audit_entry has an auditable which is a Bill generates a link to the bill","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":110,"run_time":0.179331287,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:3:3:1]","description":"generates a link to the credit note","full_description":"Accounting::AuditTrailHelper#audit_trail_entity_link when the audit_entry has an auditable which is a CreditNote generates a link to the credit note","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":118,"run_time":0.168964832,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:3:4:1]","description":"generates a link to the estimate","full_description":"Accounting::AuditTrailHelper#audit_trail_entity_link when the audit_entry has an auditable which is an Estimate generates a link to the estimate","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":126,"run_time":0.149825458,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:3:5:1]","description":"generates a link to the expense","full_description":"Accounting::AuditTrailHelper#audit_trail_entity_link when the audit_entry has an auditable which is an Expense generates a link to the expense","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":134,"run_time":0.212497099,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:3:6:1]","description":"generates a link to the invoice","full_description":"Accounting::AuditTrailHelper#audit_trail_entity_link when the audit_entry has an auditable which is an Invoice generates a link to the invoice","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":142,"run_time":0.147559062,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:3:7:1]","description":"generates a link to the journal set","full_description":"Accounting::AuditTrailHelper#audit_trail_entity_link when the audit_entry has an auditable which is a JournalSet generates a link to the journal set","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":150,"run_time":0.116122505,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:3:7:2:1]","description":"only returns the display name and does not generate a link","full_description":"Accounting::AuditTrailHelper#audit_trail_entity_link when the audit_entry has an auditable which is a JournalSet when the current user does not have permissions to edit the journal set only returns the display name and does not generate a link","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":157,"run_time":0.113187079,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:3:8:1]","description":"generates a link to the vat return","full_description":"Accounting::AuditTrailHelper#audit_trail_entity_link when the audit_entry has an auditable which is a VatReturn generates a link to the vat return","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":166,"run_time":0.202625997,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:3:9:1]","description":"only returns the display name and does not generate a link","full_description":"Accounting::AuditTrailHelper#audit_trail_entity_link when the audit_entry has a linkable set which is a BankTransaction only returns the display name and does not generate a link","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":177,"run_time":0.23633022,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:3:10:1]","description":"generates a link to the linkable bill","full_description":"Accounting::AuditTrailHelper#audit_trail_entity_link when the audit_entry has a linkable set which is a Bill generates a link to the linkable bill","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":188,"run_time":0.284146429,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:3:11:1]","description":"generates a link to the linkable bank account entry","full_description":"Accounting::AuditTrailHelper#audit_trail_entity_link when the audit_entry has a linkable set which is a BankAccountEntry generates a link to the linkable bank account entry","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":199,"run_time":0.324631323,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:3:12:1]","description":"generates a link to the linkable credit note","full_description":"Accounting::AuditTrailHelper#audit_trail_entity_link when the audit_entry has a linkable set which is a CreditNote generates a link to the linkable credit note","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":210,"run_time":0.297698245,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:3:13:1]","description":"generates a link to the linkable expense","full_description":"Accounting::AuditTrailHelper#audit_trail_entity_link when the audit_entry has a linkable set which is an Expense generates a link to the linkable expense","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":221,"run_time":0.330255982,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:3:14:1]","description":"generates a link to the linkable invoice","full_description":"Accounting::AuditTrailHelper#audit_trail_entity_link when the audit_entry has a linkable set which is an Invoice generates a link to the linkable invoice","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":232,"run_time":0.400481731,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:3:15:1]","description":"only returns the display name and does not generate a link, as the auditable_type has changed","full_description":"Accounting::AuditTrailHelper#audit_trail_entity_link when the audit_entry has an auditable that was an Invoice that has been converted to a CreditNote only returns the display name and does not generate a link, as the auditable_type has changed","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":253,"run_time":0.342822683,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/user_spec.rb[1:1:1:1]","description":"generates the right XML","full_description":"Salesforce::Models::User#to_xml with a direct company generates the right XML","status":"passed","file_path":"./spec/models/salesforce/models/user_spec.rb","line_number":14,"run_time":0.011812302,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/user_spec.rb[1:1:2:1]","description":"sets the CoPilot flag to true","full_description":"Salesforce::Models::User#to_xml with a CoPilot company sets the CoPilot flag to true","status":"passed","file_path":"./spec/models/salesforce/models/user_spec.rb","line_number":43,"run_time":0.149174654,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/user_spec.rb[1:1:3:1]","description":"sets the Payroll flag to true","full_description":"Salesforce::Models::User#to_xml with a company with a payroll sets the Payroll flag to true","status":"passed","file_path":"./spec/models/salesforce/models/user_spec.rb","line_number":52,"run_time":0.216155973,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/user_spec.rb[1:1:4:1]","description":"truncates first and last name","full_description":"Salesforce::Models::User#to_xml with a user with a first and last name longer than the Salesforce limits truncates first and last name","status":"passed","file_path":"./spec/models/salesforce/models/user_spec.rb","line_number":67,"run_time":0.02571363,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/user_spec.rb[1:2:1]","description":"generates the right payload to update user","full_description":"Salesforce::Models::User#to_update_hash generates the right payload to update user","status":"passed","file_path":"./spec/models/salesforce/models/user_spec.rb","line_number":78,"run_time":0.007194373,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/user_spec.rb[1:2:2]","description":"generates the right payload to update a user who has logged in","full_description":"Salesforce::Models::User#to_update_hash generates the right payload to update a user who has logged in","status":"passed","file_path":"./spec/models/salesforce/models/user_spec.rb","line_number":95,"run_time":0.014622891,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/user_spec.rb[1:3:4]","description":"sends Unknown for a user who has not yet provided marketing consent","full_description":"Salesforce::Models::User#to_create_hash sends Unknown for a user who has not yet provided marketing consent","status":"passed","file_path":"./spec/models/salesforce/models/user_spec.rb","line_number":224,"run_time":0.106172909,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/user_spec.rb[1:3:1:1:1]","description":"sends implied marketing consent value when creating a new user","full_description":"Salesforce::Models::User#to_create_hash for companies signing up on the direct or NWG signup form for limited companies sends implied marketing consent value when creating a new user","status":"passed","file_path":"./spec/models/salesforce/models/user_spec.rb","line_number":112,"run_time":0.096896777,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/user_spec.rb[1:3:1:2:1]","description":"sends implied marketing consent value when creating a new user","full_description":"Salesforce::Models::User#to_create_hash for companies signing up on the direct or NWG signup form for limited liability partnerships sends implied marketing consent value when creating a new user","status":"passed","file_path":"./spec/models/salesforce/models/user_spec.rb","line_number":122,"run_time":0.130866572,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/user_spec.rb[1:3:1:3:1]","description":"sends the selected marketing consent value when creating a new user","full_description":"Salesforce::Models::User#to_create_hash for companies signing up on the direct or NWG signup form for company types other than limited company or LLP sends the selected marketing consent value when creating a new user","status":"passed","file_path":"./spec/models/salesforce/models/user_spec.rb","line_number":132,"run_time":0.120356542,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/user_spec.rb[1:3:2:1:1]","description":"sends Implied for marketing consent when creating a new user","full_description":"Salesforce::Models::User#to_create_hash for companies signing up on the iOS mobile signup form for limited companies sends Implied for marketing consent when creating a new user","status":"passed","file_path":"./spec/models/salesforce/models/user_spec.rb","line_number":145,"run_time":0.093966162,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/user_spec.rb[1:3:2:2:1]","description":"sends Implied for marketing consent when creating a new user","full_description":"Salesforce::Models::User#to_create_hash for companies signing up on the iOS mobile signup form for limited liability partnerships sends Implied for marketing consent when creating a new user","status":"passed","file_path":"./spec/models/salesforce/models/user_spec.rb","line_number":157,"run_time":0.234953131,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/user_spec.rb[1:3:2:3:1]","description":"sends selected value for marketing consent when creating a new user","full_description":"Salesforce::Models::User#to_create_hash for companies signing up on the iOS mobile signup form for other company types sends selected value for marketing consent when creating a new user","status":"passed","file_path":"./spec/models/salesforce/models/user_spec.rb","line_number":169,"run_time":0.547194866,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/user_spec.rb[1:3:3:1:1]","description":"is expected to eq {:Account=\u003e{\"FA_Company_ID__c\"=\u003e895397833}, :Email=\u003e\"uklimitedcompany@example.com\", :FA_Account_Owner...me=\u003e\"Ed\", :LastName=\u003e\"Molyneux\", :Marketing_Consent__c=\u003e\"Implied\", :RecordTypeId=\u003e\"01230000000c8rd\"}","full_description":"Salesforce::Models::User#to_create_hash copilot_info_requested When activated_signup.copilot_info_requested is true is expected to eq {:Account=\u003e{\"FA_Company_ID__c\"=\u003e895397833}, :Email=\u003e\"uklimitedcompany@example.com\", :FA_Account_Owner...me=\u003e\"Ed\", :LastName=\u003e\"Molyneux\", :Marketing_Consent__c=\u003e\"Implied\", :RecordTypeId=\u003e\"01230000000c8rd\"}","status":"passed","file_path":"./spec/models/salesforce/models/user_spec.rb","line_number":204,"run_time":0.445181775,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/user_spec.rb[1:3:3:2:1]","description":"is expected to eq {:Account=\u003e{\"FA_Company_ID__c\"=\u003e895397833}, :Email=\u003e\"uklimitedcompany@example.com\", :FA_Account_Owner...me=\u003e\"Ed\", :LastName=\u003e\"Molyneux\", :Marketing_Consent__c=\u003e\"Implied\", :RecordTypeId=\u003e\"01230000000c8rd\"}","full_description":"Salesforce::Models::User#to_create_hash copilot_info_requested When activated_signup.copilot_info_requested is false is expected to eq {:Account=\u003e{\"FA_Company_ID__c\"=\u003e895397833}, :Email=\u003e\"uklimitedcompany@example.com\", :FA_Account_Owner...me=\u003e\"Ed\", :LastName=\u003e\"Molyneux\", :Marketing_Consent__c=\u003e\"Implied\", :RecordTypeId=\u003e\"01230000000c8rd\"}","status":"passed","file_path":"./spec/models/salesforce/models/user_spec.rb","line_number":212,"run_time":0.100974828,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/user_spec.rb[1:3:3:3:1]","description":"is expected to eq {:Account=\u003e{\"FA_Company_ID__c\"=\u003e895397833}, :Email=\u003e\"uklimitedcompany@example.com\", :FA_Account_Owner...me=\u003e\"Ed\", :LastName=\u003e\"Molyneux\", :Marketing_Consent__c=\u003e\"Implied\", :RecordTypeId=\u003e\"01230000000c8rd\"}","full_description":"Salesforce::Models::User#to_create_hash copilot_info_requested When activated_signup.copilot_info_requested is nil is expected to eq {:Account=\u003e{\"FA_Company_ID__c\"=\u003e895397833}, :Email=\u003e\"uklimitedcompany@example.com\", :FA_Account_Owner...me=\u003e\"Ed\", :LastName=\u003e\"Molyneux\", :Marketing_Consent__c=\u003e\"Implied\", :RecordTypeId=\u003e\"01230000000c8rd\"}","status":"passed","file_path":"./spec/models/salesforce/models/user_spec.rb","line_number":220,"run_time":0.127743367,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/user_spec.rb[1:3:5:1]","description":"truncates first and last name","full_description":"Salesforce::Models::User#to_create_hash with a user with a first and last name longer than the Salesforce limits truncates first and last name","status":"passed","file_path":"./spec/models/salesforce/models/user_spec.rb","line_number":243,"run_time":0.119231716,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/user_spec.rb[1:4:1]","description":"sends event to Salesforce","full_description":"Salesforce::Models::User#sync_updated_user sends event to Salesforce","status":"passed","file_path":"./spec/models/salesforce/models/user_spec.rb","line_number":252,"run_time":0.010453709,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/user_spec.rb[1:5:1]","description":"sends event to Salesforce","full_description":"Salesforce::Models::User#sync_new_user sends event to Salesforce","status":"passed","file_path":"./spec/models/salesforce/models/user_spec.rb","line_number":262,"run_time":0.017360532,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/user_spec.rb[1:6:1]","description":"sends event to Salesforce","full_description":"Salesforce::Models::User#track_copilot_accountant_grid_viewed sends event to Salesforce","status":"passed","file_path":"./spec/models/salesforce/models/user_spec.rb","line_number":272,"run_time":0.008424655,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/user_spec.rb[1:7:1]","description":"sends event to Salesforce","full_description":"Salesforce::Models::User#track_copilot_accountant_profile_viewed sends event to Salesforce","status":"passed","file_path":"./spec/models/salesforce/models/user_spec.rb","line_number":280,"run_time":0.007691765,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/user_spec.rb[1:8:1]","description":"sends event to Salesforce","full_description":"Salesforce::Models::User#track_hiscox_guide_price_requested sends event to Salesforce","status":"passed","file_path":"./spec/models/salesforce/models/user_spec.rb","line_number":288,"run_time":0.008586519,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/user_spec.rb[1:9:1]","description":"sends event to Salesforce","full_description":"Salesforce::Models::User#track_hiscox_customer sends event to Salesforce","status":"passed","file_path":"./spec/models/salesforce/models/user_spec.rb","line_number":296,"run_time":0.007462975,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/user_spec.rb[1:10:1]","description":"sends event to Salesforce","full_description":"Salesforce::Models::User#track_re_engagement sends event to Salesforce","status":"passed","file_path":"./spec/models/salesforce/models/user_spec.rb","line_number":304,"run_time":0.006045165,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/user_spec.rb[1:11:1]","description":"sends event to Salesforce","full_description":"Salesforce::Models::User#mark_as_deleted sends event to Salesforce","status":"passed","file_path":"./spec/models/salesforce/models/user_spec.rb","line_number":312,"run_time":0.006039125,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/user_spec.rb[1:12:1]","description":"sends event to Salesforce","full_description":"Salesforce::Models::User#sync_marketing_consent sends event to Salesforce","status":"passed","file_path":"./spec/models/salesforce/models/user_spec.rb","line_number":324,"run_time":0.099980644,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/user_spec.rb[1:13:1:1]","description":"sends the reminder date to Salesforce","full_description":"Salesforce::Models::User#sync_insurance_reminder when a user sets up an insurance reminder sends the reminder date to Salesforce","status":"passed","file_path":"./spec/models/salesforce/models/user_spec.rb","line_number":343,"run_time":0.015437495,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/user_spec.rb[1:13:2:1]","description":"sends a nil value to Salesforce to clear the reminder date","full_description":"Salesforce::Models::User#sync_insurance_reminder when a user deletes their insurance reminder sends a nil value to Salesforce to clear the reminder date","status":"passed","file_path":"./spec/models/salesforce/models/user_spec.rb","line_number":361,"run_time":0.008950473,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2017_18/nic_compensation.feature[1:1:1]","description":"Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a 30 year old female Employee payroll profile with NI letter A -\u003e And the partner details are provided -\u003e And they are paid the following statutory maternity pay and shared parental pay -\u003e Then the NIC compensation for the year will be -\u003e And the NIC compensation for each month will be","full_description":"NIC compensation 2018 Calculating NIC compensation for statutory maternity pay and shared parental pay Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a 30 year old female Employee payroll profile with NI letter A -\u003e And the partner details are provided -\u003e And they are paid the following statutory maternity pay and shared parental pay -\u003e Then the NIC compensation for the year will be -\u003e And the NIC compensation for each month will be","status":"passed","file_path":"./spec/acceptance/payroll/2017_18/nic_compensation.feature","line_number":11,"run_time":2.218022091,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:1:49:1]","description":"deletes them for bank account entries, bills, expenses, invoices, journals and stock items","full_description":"Company::ForgetCompanyData Deleting all data for a VAT registered UK company for stock transactions deletes them for bank account entries, bills, expenses, invoices, journals and stock items","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":746,"run_time":2.159831885,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/accounting_year_end_spec.rb[1:1:1:1:1]","description":"returns a category defined on the Insight model","full_description":"Radar::Insights::Rules::AccountingYearEnd behaves like an insight rule behaves like a ping rule #category returns a category defined on the Insight model","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":11,"run_time":0.005171782,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/accounting_year_end_spec.rb[1:1:1:2:1]","description":"returns a boolean","full_description":"Radar::Insights::Rules::AccountingYearEnd behaves like an insight rule behaves like a ping rule #send_notifications? returns a boolean","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":17,"run_time":0.004308562,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/accounting_year_end_spec.rb[1:1:2:1]","description":"has category Insight","full_description":"Radar::Insights::Rules::AccountingYearEnd behaves like an insight rule #category has category Insight","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rules/concerns/insight_category.rb","line_number":10,"run_time":0.003955635,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/accounting_year_end_spec.rb[1:2:1]","description":"returns eligible users to be notified","full_description":"Radar::Insights::Rules::AccountingYearEnd behaves like notifier for users with level 8 only returns eligible users to be notified","status":"passed","file_path":"./spec/support/shared_examples/insights_rules_permission_level_examples.rb","line_number":49,"run_time":0.042279606,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/accounting_year_end_spec.rb[1:2:2]","description":"does not return ineligible users to be notified","full_description":"Radar::Insights::Rules::AccountingYearEnd behaves like notifier for users with level 8 only does not return ineligible users to be notified","status":"passed","file_path":"./spec/support/shared_examples/insights_rules_permission_level_examples.rb","line_number":53,"run_time":0.04127074,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/accounting_year_end_spec.rb[1:3:1]","description":"only contains the correct companies","full_description":"Radar::Insights::Rules::AccountingYearEnd.companies_for_evaluation only contains the correct companies","status":"passed","file_path":"./spec/models/radar/insights/rules/accounting_year_end_spec.rb","line_number":35,"run_time":0.247666138,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/accounting_year_end_spec.rb[1:4:1]","description":"is expected to eq \"accounting_year_end:895398360:2020-04-30\"","full_description":"Radar::Insights::Rules::AccountingYearEnd#key is expected to eq \"accounting_year_end:895398360:2020-04-30\"","status":"passed","file_path":"./spec/models/radar/insights/rules/accounting_year_end_spec.rb","line_number":50,"run_time":0.089212346,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/accounting_year_end_spec.rb[1:5:1:1:1]","description":"is expected to be truthy","full_description":"Radar::Insights::Rules::AccountingYearEnd#can_create_insight? when the company is a full access company and it is the company's accounting year end date is expected to be truthy","status":"passed","file_path":"./spec/models/radar/insights/rules/accounting_year_end_spec.rb","line_number":63,"run_time":0.095250451,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/accounting_year_end_spec.rb[1:5:1:2:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::AccountingYearEnd#can_create_insight? when the company is a full access company and it is not the company's accounting year end date is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/accounting_year_end_spec.rb","line_number":75,"run_time":0.083199435,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/accounting_year_end_spec.rb[1:6:1:1]","description":"is expected to be truthy","full_description":"Radar::Insights::Rules::AccountingYearEnd#should_notify? for an account owner is expected to be truthy","status":"passed","file_path":"./spec/models/radar/insights/rules/accounting_year_end_spec.rb","line_number":87,"run_time":0.11406517,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/accounting_year_end_spec.rb[1:6:2:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::AccountingYearEnd#should_notify? for a non-account owner is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/accounting_year_end_spec.rb","line_number":93,"run_time":0.104063618,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/accounting_year_end_spec.rb[1:6:3:1]","description":"is expected to be truthy","full_description":"Radar::Insights::Rules::AccountingYearEnd#should_notify? for an account manager is expected to be truthy","status":"passed","file_path":"./spec/models/radar/insights/rules/accounting_year_end_spec.rb","line_number":103,"run_time":0.143842335,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/accounting_year_end_spec.rb[1:7:1]","description":"is expected to eq Thu, 30 Apr 2020","full_description":"Radar::Insights::Rules::AccountingYearEnd#get_accounting_year_end_date is expected to eq Thu, 30 Apr 2020","status":"passed","file_path":"./spec/models/radar/insights/rules/accounting_year_end_spec.rb","line_number":116,"run_time":0.102114623,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/accounting_year_end_spec.rb[1:8:1]","description":"includes all companies","full_description":"Radar::Insights::Rules::AccountingYearEnd behaves like an insight for all companies includes all companies","status":"passed","file_path":"./spec/support/shared_examples/insights_inscope_companies.rb","line_number":6,"run_time":0.695752322,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/accounting_year_end_spec.rb[1:9:1:1]","description":"returns the category","full_description":"Radar::Insights::Rules::AccountingYearEnd behaves like a valid insight rule #category returns the category","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":14,"run_time":0.100315109,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/accounting_year_end_spec.rb[1:9:2:1]","description":"creates a new insight","full_description":"Radar::Insights::Rules::AccountingYearEnd behaves like a valid insight rule #evaluate creates a new insight","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":20,"run_time":0.137860168,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/accounting_year_end_spec.rb[1:9:2:2]","description":"persists insight details","full_description":"Radar::Insights::Rules::AccountingYearEnd behaves like a valid insight rule #evaluate persists insight details","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":28,"run_time":0.129449937,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/accounting_year_end_spec.rb[1:9:2:3]","description":"notifies users in the company","full_description":"Radar::Insights::Rules::AccountingYearEnd behaves like a valid insight rule #evaluate notifies users in the company","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":36,"run_time":0.120766766,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/accounting_year_end_spec.rb[1:9:3:1]","description":"creates a user insight notification for all notifiable users","full_description":"Radar::Insights::Rules::AccountingYearEnd behaves like a valid insight rule #notify creates a user insight notification for all notifiable users","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":44,"run_time":0.109384042,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/accounting_year_end_spec.rb[1:10:1:1]","description":"the correct generation event is published","full_description":"Radar::Insights::Rules::AccountingYearEnd event tracking on creation the correct generation event is published","status":"passed","file_path":"./spec/models/radar/insights/rules/accounting_year_end_spec.rb","line_number":143,"run_time":0.010861369,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/tax_year20182019/student_loans.feature[1:1:1]","description":"Given a UK sole trader with company start date: 2018-01-31, first accounting year end: 2019-04-05 -\u003e And the customer opts into the other uk income section for 2018/19 -\u003e And the customer fills in the following boxes for 2018/19: -\u003e When the customer opts into the student loans section for 2018/19 -\u003e Then the SA302 calculation table for 2018/19 will include \"Student Loan repayments (plan 01)\"","full_description":"Self Assessment Student Loan Plan Type Default: No plan type selected Given a UK sole trader with company start date: 2018-01-31, first accounting year end: 2019-04-05 -\u003e And the customer opts into the other uk income section for 2018/19 -\u003e And the customer fills in the following boxes for 2018/19: -\u003e When the customer opts into the student loans section for 2018/19 -\u003e Then the SA302 calculation table for 2018/19 will include \"Student Loan repayments (plan 01)\"","status":"passed","file_path":"./spec/acceptance/self_assessment/tax_year20182019/student_loans.feature","line_number":10,"run_time":0.634273442,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/tax_year20182019/student_loans.feature[1:2:1]","description":"Given a UK sole trader with company start date: 2018-01-31, first accounting year end: 2019-04-05 -\u003e And the customer opts into the other uk income section for 2018/19 -\u003e And the customer fills in the following boxes for 2018/19: -\u003e When the customer opts into the student loans section for 2018/19 -\u003e And the customer fills in the following boxes for 2018/19: -\u003e Then the SA302 calculation table for 2018/19 will include \"Student Loan repayments (plan 01)\"","full_description":"Self Assessment Student Loan Plan Type Student Loan Plan Type 01 is selected Given a UK sole trader with company start date: 2018-01-31, first accounting year end: 2019-04-05 -\u003e And the customer opts into the other uk income section for 2018/19 -\u003e And the customer fills in the following boxes for 2018/19: -\u003e When the customer opts into the student loans section for 2018/19 -\u003e And the customer fills in the following boxes for 2018/19: -\u003e Then the SA302 calculation table for 2018/19 will include \"Student Loan repayments (plan 01)\"","status":"passed","file_path":"./spec/acceptance/self_assessment/tax_year20182019/student_loans.feature","line_number":14,"run_time":0.8849832,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/tax_year20182019/student_loans.feature[1:3:1]","description":"Given a UK sole trader with company start date: 2018-01-31, first accounting year end: 2019-04-05 -\u003e And the customer opts into the other uk income section for 2018/19 -\u003e And the customer fills in the following boxes for 2018/19: -\u003e When the customer opts into the student loans section for 2018/19 -\u003e And the customer fills in the following boxes for 2018/19: -\u003e Then the SA302 calculation table for 2018/19 will include \"Student Loan repayments (plan 02)\"","full_description":"Self Assessment Student Loan Plan Type Student Loan Plan Type 02 is selected Given a UK sole trader with company start date: 2018-01-31, first accounting year end: 2019-04-05 -\u003e And the customer opts into the other uk income section for 2018/19 -\u003e And the customer fills in the following boxes for 2018/19: -\u003e When the customer opts into the student loans section for 2018/19 -\u003e And the customer fills in the following boxes for 2018/19: -\u003e Then the SA302 calculation table for 2018/19 will include \"Student Loan repayments (plan 02)\"","status":"passed","file_path":"./spec/acceptance/self_assessment/tax_year20182019/student_loans.feature","line_number":21,"run_time":0.860439133,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:1:9]","description":"deletes the company","full_description":"Company::ForgetCompanyData Deleting all data for a VAT registered UK company deletes the company","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":172,"run_time":1.074857359,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:1:48]","description":"deletes sales tax effects","full_description":"Company::ForgetCompanyData Deleting all data for a VAT registered UK company deletes sales tax effects","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":737,"run_time":1.128724659,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bills/destroy_spec.rb[1:1:1]","description":"removes the bill","full_description":"when deleting a bill when the bill can be deleted removes the bill","status":"passed","file_path":"./spec/requests/api/bills/destroy_spec.rb","line_number":19,"run_time":0.226162854,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bills/destroy_spec.rb[1:1:2]","description":"publishes the BILL_DELETED event","full_description":"when deleting a bill when the bill can be deleted publishes the BILL_DELETED event","status":"passed","file_path":"./spec/requests/api/bills/destroy_spec.rb","line_number":27,"run_time":0.238049717,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bills/destroy_spec.rb[1:2:1]","description":"does not remove the bill","full_description":"when deleting a bill when bill is not deleteable does not remove the bill","status":"passed","file_path":"./spec/requests/api/bills/destroy_spec.rb","line_number":59,"run_time":0.427912349,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bills/destroy_spec.rb[1:3:1]","description":"returns a not found status","full_description":"when deleting a bill with an invalid bill_id returns a not found status","status":"passed","file_path":"./spec/requests/api/bills/destroy_spec.rb","line_number":73,"run_time":0.18342957,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bills/destroy_spec.rb[1:4:1]","description":"does not removes the bill","full_description":"when deleting a bill and the user does not have permission to bills does not removes the bill","status":"passed","file_path":"./spec/requests/api/bills/destroy_spec.rb","line_number":89,"run_time":0.178049176,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/inline/seeder/payroll_periods_spec.rb[1:1:1]","description":"should return true if the company doesn't have all 12 payroll periods generated for the year","full_description":"Admin::Inline::Seeder::PayrollPeriods#available? should return true if the company doesn't have all 12 payroll periods generated for the year","status":"passed","file_path":"./spec/models/admin/inline/seeder/payroll_periods_spec.rb","line_number":18,"run_time":0.03526373,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/inline/seeder/payroll_periods_spec.rb[1:2:1]","description":"should create payroll periods","full_description":"Admin::Inline::Seeder::PayrollPeriods#seed should create payroll periods","status":"passed","file_path":"./spec/models/admin/inline/seeder/payroll_periods_spec.rb","line_number":33,"run_time":0.24505649,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/inline/seeder/payroll_periods_spec.rb[1:2:2]","description":"should default to unfiled status","full_description":"Admin::Inline::Seeder::PayrollPeriods#seed should default to unfiled status","status":"passed","file_path":"./spec/models/admin/inline/seeder/payroll_periods_spec.rb","line_number":37,"run_time":0.203626521,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/inline/seeder/payroll_periods_spec.rb[1:2:3]","description":"should set the defaults for employment allowance","full_description":"Admin::Inline::Seeder::PayrollPeriods#seed should set the defaults for employment allowance","status":"passed","file_path":"./spec/models/admin/inline/seeder/payroll_periods_spec.rb","line_number":41,"run_time":0.230763232,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/inline/seeder/payroll_periods_spec.rb[1:2:4:1]","description":"should update the payroll state","full_description":"Admin::Inline::Seeder::PayrollPeriods#seed marking as filed should update the payroll state","status":"passed","file_path":"./spec/models/admin/inline/seeder/payroll_periods_spec.rb","line_number":50,"run_time":0.393971645,"pending_message":null,"screenshot":null},{"id":"./spec/models/flip_helper_spec.rb[1:1]","description":"enables a new feature","full_description":"Flip Helper enables a new feature","status":"passed","file_path":"./spec/models/flip_helper_spec.rb","line_number":6,"run_time":0.007786762,"pending_message":null,"screenshot":null},{"id":"./spec/models/flip_helper_spec.rb[1:4]","description":"enables an existing feature","full_description":"Flip Helper enables an existing feature","status":"passed","file_path":"./spec/models/flip_helper_spec.rb","line_number":33,"run_time":0.010671324,"pending_message":null,"screenshot":null},{"id":"./spec/models/flip_helper_spec.rb[1:7]","description":"disables a new feature","full_description":"Flip Helper disables a new feature","status":"passed","file_path":"./spec/models/flip_helper_spec.rb","line_number":63,"run_time":0.007054089,"pending_message":null,"screenshot":null},{"id":"./spec/models/flip_helper_spec.rb[1:8]","description":"disables an existing feature","full_description":"Flip Helper disables an existing feature","status":"passed","file_path":"./spec/models/flip_helper_spec.rb","line_number":68,"run_time":0.010389219,"pending_message":null,"screenshot":null},{"id":"./spec/models/flip_helper_spec.rb[1:2:1]","description":"enables correctly","full_description":"Flip Helper enabling a new feature for a company enables correctly","status":"passed","file_path":"./spec/models/flip_helper_spec.rb","line_number":18,"run_time":0.114403777,"pending_message":null,"screenshot":null},{"id":"./spec/models/flip_helper_spec.rb[1:2:2]","description":"disables correctly","full_description":"Flip Helper enabling a new feature for a company disables correctly","status":"passed","file_path":"./spec/models/flip_helper_spec.rb","line_number":19,"run_time":0.09093502,"pending_message":null,"screenshot":null},{"id":"./spec/models/flip_helper_spec.rb[1:3:1]","description":"enables correctly","full_description":"Flip Helper enabling a new feature for an accountancy practice enables correctly","status":"passed","file_path":"./spec/models/flip_helper_spec.rb","line_number":29,"run_time":0.083294986,"pending_message":null,"screenshot":null},{"id":"./spec/models/flip_helper_spec.rb[1:3:2]","description":"disables correctly","full_description":"Flip Helper enabling a new feature for an accountancy practice disables correctly","status":"passed","file_path":"./spec/models/flip_helper_spec.rb","line_number":30,"run_time":0.075285157,"pending_message":null,"screenshot":null},{"id":"./spec/models/flip_helper_spec.rb[1:5:1]","description":"enables correctly","full_description":"Flip Helper enabling an existing feature for a company enables correctly","status":"passed","file_path":"./spec/models/flip_helper_spec.rb","line_number":47,"run_time":0.09270487,"pending_message":null,"screenshot":null},{"id":"./spec/models/flip_helper_spec.rb[1:5:2]","description":"disables correctly","full_description":"Flip Helper enabling an existing feature for a company disables correctly","status":"passed","file_path":"./spec/models/flip_helper_spec.rb","line_number":48,"run_time":0.0907104,"pending_message":null,"screenshot":null},{"id":"./spec/models/flip_helper_spec.rb[1:6:1]","description":"enables correctly","full_description":"Flip Helper enabling an existing feature for an accountancy practice enables correctly","status":"passed","file_path":"./spec/models/flip_helper_spec.rb","line_number":59,"run_time":0.078869264,"pending_message":null,"screenshot":null},{"id":"./spec/models/flip_helper_spec.rb[1:6:2]","description":"disables correctly","full_description":"Flip Helper enabling an existing feature for an accountancy practice disables correctly","status":"passed","file_path":"./spec/models/flip_helper_spec.rb","line_number":60,"run_time":0.078695564,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/self_assessment/page_helper_spec.rb[1:1]","description":" should yield SelfAssessment::PagePresenter instance","full_description":"SelfAssessment::PageHelper  should yield SelfAssessment::PagePresenter instance","status":"passed","file_path":"./spec/helpers/self_assessment/page_helper_spec.rb","line_number":27,"run_time":0.091338962,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/self_assessment/page_helper_spec.rb[1:2:1]","description":"is expected not to raise Exception","full_description":"SelfAssessment::PageHelper overpaid_bank_account_options is expected not to raise Exception","status":"passed","file_path":"./spec/helpers/self_assessment/page_helper_spec.rb","line_number":46,"run_time":0.229066876,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/vat_returns/show.html.erb_spec.rb[1:1:1]","description":"doesn't show any submission details","full_description":"admin/companies/vat_returns/show when there isn't a submission doesn't show any submission details","status":"passed","file_path":"./spec/views/admin/companies/vat_returns/show.html.erb_spec.rb","line_number":17,"run_time":0.476405886,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/vat_returns/show.html.erb_spec.rb[1:2:1]","description":"shows the submission details","full_description":"admin/companies/vat_returns/show when there is a submission shows the submission details","status":"passed","file_path":"./spec/views/admin/companies/vat_returns/show.html.erb_spec.rb","line_number":28,"run_time":0.483921478,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/weekly_timesheets/tasks_controller_spec.rb[1:1:1:1]","description":"responds with not found","full_description":"WeeklyTimesheets::TasksController#show when the project does not belong to the company responds with not found","status":"passed","file_path":"./spec/controllers/weekly_timesheets/tasks_controller_spec.rb","line_number":18,"run_time":0.20676097,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/weekly_timesheets/tasks_controller_spec.rb[1:1:2:1]","description":"renders the task list for timeslips","full_description":"WeeklyTimesheets::TasksController#show when the project does not have any tasks renders the task list for timeslips","status":"passed","file_path":"./spec/controllers/weekly_timesheets/tasks_controller_spec.rb","line_number":26,"run_time":0.04311353,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/weekly_timesheets/tasks_controller_spec.rb[1:1:3:1]","description":"renders the task list for timeslips","full_description":"WeeklyTimesheets::TasksController#show when the project has an existing task renders the task list for timeslips","status":"passed","file_path":"./spec/controllers/weekly_timesheets/tasks_controller_spec.rb","line_number":41,"run_time":0.042463688,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/weekly_timesheets/tasks_controller_spec.rb[1:2:2]","description":"renders the modal for a new task","full_description":"WeeklyTimesheets::TasksController#new renders the modal for a new task","status":"passed","file_path":"./spec/controllers/weekly_timesheets/tasks_controller_spec.rb","line_number":65,"run_time":0.041531693,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/weekly_timesheets/tasks_controller_spec.rb[1:2:1:1]","description":"responds with not found","full_description":"WeeklyTimesheets::TasksController#new when the project does not belong to the company responds with not found","status":"passed","file_path":"./spec/controllers/weekly_timesheets/tasks_controller_spec.rb","line_number":58,"run_time":0.219092379,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/weekly_timesheets/tasks_controller_spec.rb[1:3:1:1]","description":"responds with not found","full_description":"WeeklyTimesheets::TasksController#create when the project does not belong to the company responds with not found","status":"passed","file_path":"./spec/controllers/weekly_timesheets/tasks_controller_spec.rb","line_number":81,"run_time":0.183147949,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/weekly_timesheets/tasks_controller_spec.rb[1:3:2:1]","description":"removes the modal and updates the task auto-suggest","full_description":"WeeklyTimesheets::TasksController#create when creating a valid task removes the modal and updates the task auto-suggest","status":"passed","file_path":"./spec/controllers/weekly_timesheets/tasks_controller_spec.rb","line_number":89,"run_time":0.058654643,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/weekly_timesheets/tasks_controller_spec.rb[1:3:3:1]","description":"does not save the task and updates the add task modal","full_description":"WeeklyTimesheets::TasksController#create when the task is invalid does not save the task and updates the add task modal","status":"passed","file_path":"./spec/controllers/weekly_timesheets/tasks_controller_spec.rb","line_number":119,"run_time":0.063023079,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/recurring_invoices_payments_spec.rb[1:1:1:1]","description":"includes payments from active recurring invoices","full_description":"Cashflow::RecurringInvoicesPayments#payments_on #payment_series includes payments from active recurring invoices","status":"passed","file_path":"./spec/freeagent/cashflow/recurring_invoices_payments_spec.rb","line_number":16,"run_time":0.157618271,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/recurring_invoices_payments_spec.rb[1:1:1:2]","description":"ignores payments from inactive recurring invoices","full_description":"Cashflow::RecurringInvoicesPayments#payments_on #payment_series ignores payments from inactive recurring invoices","status":"passed","file_path":"./spec/freeagent/cashflow/recurring_invoices_payments_spec.rb","line_number":35,"run_time":0.129987826,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/recurring_invoices_payments_spec.rb[1:1:1:3]","description":"ignores payments from foreign currency recurring invoices","full_description":"Cashflow::RecurringInvoicesPayments#payments_on #payment_series ignores payments from foreign currency recurring invoices","status":"passed","file_path":"./spec/freeagent/cashflow/recurring_invoices_payments_spec.rb","line_number":48,"run_time":0.140033595,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/recurring_invoices_payments_spec.rb[1:1:2:1:1]","description":"returns payments from when it recurs and not after it ends","full_description":"Cashflow::RecurringInvoicesPayments#payments_on #payments_on recurring invoices with an end date returns payments from when it recurs and not after it ends","status":"passed","file_path":"./spec/freeagent/cashflow/recurring_invoices_payments_spec.rb","line_number":78,"run_time":0.134850987,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/recurring_invoices_payments_spec.rb[1:1:2:2:1]","description":"returns payments from when it recurs, up to the cutoff","full_description":"Cashflow::RecurringInvoicesPayments#payments_on #payments_on recurring invoices without an end date returns payments from when it recurs, up to the cutoff","status":"passed","file_path":"./spec/freeagent/cashflow/recurring_invoices_payments_spec.rb","line_number":112,"run_time":0.133647866,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/recurring_invoices_payments_spec.rb[1:1:2:3:1]","description":"doesn't include the first payment as it would double count the invoice","full_description":"Cashflow::RecurringInvoicesPayments#payments_on #payments_on for recurring invoices that have been activated doesn't include the first payment as it would double count the invoice","status":"passed","file_path":"./spec/freeagent/cashflow/recurring_invoices_payments_spec.rb","line_number":147,"run_time":0.30997641,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/accounting_basis_controller_spec.rb[1:1:1:1]","description":"renders the edit template","full_description":"Admin::Companies::AccountingBasisController GET edit when the company is eligible for accounting basis toggling renders the edit template","status":"passed","file_path":"./spec/controllers/admin/companies/accounting_basis_controller_spec.rb","line_number":14,"run_time":0.166799075,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/accounting_basis_controller_spec.rb[1:1:2:1]","description":"redirects to the company show page","full_description":"Admin::Companies::AccountingBasisController GET edit when the company is not eligible for accounting basis toggling redirects to the company show page","status":"passed","file_path":"./spec/controllers/admin/companies/accounting_basis_controller_spec.rb","line_number":24,"run_time":0.097852887,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/accounting_basis_controller_spec.rb[1:2:1:1:1]","description":"sets a success flash message and redirects to the company show page","full_description":"Admin::Companies::AccountingBasisController PUT update when the company is eligible for accounting basis toggling when the update is successful sets a success flash message and redirects to the company show page","status":"passed","file_path":"./spec/controllers/admin/companies/accounting_basis_controller_spec.rb","line_number":44,"run_time":0.130891274,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/accounting_basis_controller_spec.rb[1:2:1:2:1]","description":"sets an error flash message and redirects to the company show page","full_description":"Admin::Companies::AccountingBasisController PUT update when the company is eligible for accounting basis toggling when the update is unsuccessful sets an error flash message and redirects to the company show page","status":"passed","file_path":"./spec/controllers/admin/companies/accounting_basis_controller_spec.rb","line_number":59,"run_time":0.044253178,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/accounting_basis_controller_spec.rb[1:2:2:1]","description":"redirects to the company show page","full_description":"Admin::Companies::AccountingBasisController PUT update when the company is not eligible for accounting basis toggling redirects to the company show page","status":"passed","file_path":"./spec/controllers/admin/companies/accounting_basis_controller_spec.rb","line_number":72,"run_time":0.108416068,"pending_message":null,"screenshot":null},{"id":"./spec/models/yodlee_bank_feed_spec.rb[1:1:1:1:1]","description":"is nil","full_description":"YodleeBankFeed#member_item_id a bank feed in setup without a yodlee profile is nil","status":"passed","file_path":"./spec/models/yodlee_bank_feed_spec.rb","line_number":34,"run_time":0.067044378,"pending_message":null,"screenshot":null},{"id":"./spec/models/yodlee_bank_feed_spec.rb[1:1:1:2:1:1]","description":"is the highest bank_auth_id","full_description":"YodleeBankFeed#member_item_id a bank feed in setup with a yodlee profile with bank auths is the highest bank_auth_id","status":"passed","file_path":"./spec/models/yodlee_bank_feed_spec.rb","line_number":16,"run_time":0.077580895,"pending_message":null,"screenshot":null},{"id":"./spec/models/yodlee_bank_feed_spec.rb[1:1:1:2:2:1]","description":"is nil","full_description":"YodleeBankFeed#member_item_id a bank feed in setup with a yodlee profile without bank auths is nil","status":"passed","file_path":"./spec/models/yodlee_bank_feed_spec.rb","line_number":24,"run_time":0.06315505,"pending_message":null,"screenshot":null},{"id":"./spec/models/yodlee_bank_feed_spec.rb[1:1:2:1:1]","description":"is the highest bank_auth_id","full_description":"YodleeBankFeed#member_item_id a pending bank feed with bank auths is the highest bank_auth_id","status":"passed","file_path":"./spec/models/yodlee_bank_feed_spec.rb","line_number":16,"run_time":0.077222698,"pending_message":null,"screenshot":null},{"id":"./spec/models/yodlee_bank_feed_spec.rb[1:1:2:2:1]","description":"is nil","full_description":"YodleeBankFeed#member_item_id a pending bank feed without bank auths is nil","status":"passed","file_path":"./spec/models/yodlee_bank_feed_spec.rb","line_number":24,"run_time":0.069130372,"pending_message":null,"screenshot":null},{"id":"./spec/models/yodlee_bank_feed_spec.rb[1:1:3:1]","description":"is the bank auth reference","full_description":"YodleeBankFeed#member_item_id an enabled bank feed is the bank auth reference","status":"passed","file_path":"./spec/models/yodlee_bank_feed_spec.rb","line_number":60,"run_time":0.069444861,"pending_message":null,"screenshot":null},{"id":"./spec/models/yodlee_bank_feed_spec.rb[1:1:3:2]","description":"can't be switched to Virgin Money","full_description":"YodleeBankFeed#member_item_id an enabled bank feed can't be switched to Virgin Money","status":"passed","file_path":"./spec/models/yodlee_bank_feed_spec.rb","line_number":64,"run_time":0.079823859,"pending_message":null,"screenshot":null},{"id":"./spec/views/accounting_categories/cost_of_sales_categories/_edit.html.erb_spec.rb[1:1:1]","description":"has the correct naming of Cost of Services in the modal header","full_description":"accounting_categories/cost_of_sales_categories/_edit for a UK unincorporated landlord company has the correct naming of Cost of Services in the modal header","status":"passed","file_path":"./spec/views/accounting_categories/cost_of_sales_categories/_edit.html.erb_spec.rb","line_number":17,"run_time":0.318598599,"pending_message":null,"screenshot":null},{"id":"./spec/views/accounting_categories/cost_of_sales_categories/_edit.html.erb_spec.rb[1:2:1]","description":"has the correct naming of Cost of Sales in the modal header","full_description":"accounting_categories/cost_of_sales_categories/_edit for a non UK unincorporated landlord company has the correct naming of Cost of Sales in the modal header","status":"passed","file_path":"./spec/views/accounting_categories/cost_of_sales_categories/_edit.html.erb_spec.rb","line_number":27,"run_time":0.335508524,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/companies_house/xml_validator_spec.rb[1:1:1:1]","description":"uses the credentials stored with the submission","full_description":"Accounting::FinalAccounts::CompaniesHouse::XmlValidator#initialize when credentials are present uses the credentials stored with the submission","status":"passed","file_path":"./spec/models/accounting/final_accounts/companies_house/xml_validator_spec.rb","line_number":16,"run_time":0.018881553,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/companies_house/xml_validator_spec.rb[1:1:2:1]","description":"uses the sample credentials if it's not a new record","full_description":"Accounting::FinalAccounts::CompaniesHouse::XmlValidator#initialize when credentials are not present uses the sample credentials if it's not a new record","status":"passed","file_path":"./spec/models/accounting/final_accounts/companies_house/xml_validator_spec.rb","line_number":25,"run_time":0.270237111,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/companies_house/xml_validator_spec.rb[1:2:1:1]","description":"is returns an empty array","full_description":"Accounting::FinalAccounts::CompaniesHouse::XmlValidator#errors when the submission xml is valid is returns an empty array","status":"passed","file_path":"./spec/models/accounting/final_accounts/companies_house/xml_validator_spec.rb","line_number":40,"run_time":0.102123494,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/companies_house/xml_validator_spec.rb[1:2:2:1]","description":"returns an array of specific errors","full_description":"Accounting::FinalAccounts::CompaniesHouse::XmlValidator#errors when the TransactionID is invalid returns an array of specific errors","status":"passed","file_path":"./spec/models/accounting/final_accounts/companies_house/xml_validator_spec.rb","line_number":46,"run_time":0.104789649,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/companies_house/xml_validator_spec.rb[1:2:3:1]","description":"returns a specific error","full_description":"Accounting::FinalAccounts::CompaniesHouse::XmlValidator#errors when the CompanyNumber is blank returns a specific error","status":"passed","file_path":"./spec/models/accounting/final_accounts/companies_house/xml_validator_spec.rb","line_number":59,"run_time":0.116316849,"pending_message":null,"screenshot":null},{"id":"./spec/policies/accounting/opening_balances_import_policy_spec.rb[1:1:1:1]","description":"has no access","full_description":"Accounting::OpeningBalancesImportPolicy an unmanaged company a user with permission level below FULL_ACCESS has no access","status":"passed","file_path":"./spec/policies/accounting/opening_balances_import_policy_spec.rb","line_number":17,"run_time":0.009889094,"pending_message":null,"screenshot":null},{"id":"./spec/policies/accounting/opening_balances_import_policy_spec.rb[1:1:2:1]","description":"has full access","full_description":"Accounting::OpeningBalancesImportPolicy an unmanaged company a user with permission level FULL_ACCESS has full access","status":"passed","file_path":"./spec/policies/accounting/opening_balances_import_policy_spec.rb","line_number":27,"run_time":0.008800498,"pending_message":null,"screenshot":null},{"id":"./spec/policies/accounting/opening_balances_import_policy_spec.rb[1:2:1:1]","description":"has no access","full_description":"Accounting::OpeningBalancesImportPolicy a UK Landlord a user with permission level below FULL_ACCESS has no access","status":"passed","file_path":"./spec/policies/accounting/opening_balances_import_policy_spec.rb","line_number":17,"run_time":0.008785744,"pending_message":null,"screenshot":null},{"id":"./spec/policies/accounting/opening_balances_import_policy_spec.rb[1:2:2:1]","description":"has no access","full_description":"Accounting::OpeningBalancesImportPolicy a UK Landlord a user with permission level FULL_ACCESS has no access","status":"passed","file_path":"./spec/policies/accounting/opening_balances_import_policy_spec.rb","line_number":17,"run_time":0.008482259,"pending_message":null,"screenshot":null},{"id":"./spec/policies/accounting/opening_balances_import_policy_spec.rb[1:3:1:1]","description":"has no access","full_description":"Accounting::OpeningBalancesImportPolicy a practice managed company a user with permission level below FULL_ACCESS has no access","status":"passed","file_path":"./spec/policies/accounting/opening_balances_import_policy_spec.rb","line_number":17,"run_time":0.057030381,"pending_message":null,"screenshot":null},{"id":"./spec/policies/accounting/opening_balances_import_policy_spec.rb[1:3:2:1]","description":"has full access","full_description":"Accounting::OpeningBalancesImportPolicy a practice managed company a user with permission level FULL_ACCESS has full access","status":"passed","file_path":"./spec/policies/accounting/opening_balances_import_policy_spec.rb","line_number":27,"run_time":0.060907476,"pending_message":null,"screenshot":null},{"id":"./spec/policies/accounting/opening_balances_import_policy_spec.rb[1:3:3:1]","description":"has full access","full_description":"Accounting::OpeningBalancesImportPolicy a practice managed company an account manager has full access","status":"passed","file_path":"./spec/policies/accounting/opening_balances_import_policy_spec.rb","line_number":27,"run_time":0.058473466,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[20:3]","description":"shows the totals when viewing only draft invoices","full_description":"InvoicesController A draft foreign currency invoice shows the totals when viewing only draft invoices","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":2236,"run_time":0.275120728,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/scrapped_before_depreciated.feature[1:1:1]","description":"Given a uk sole trader -\u003e And a capital asset: scrapped before depreciated -\u003e Given VAT settings: Not registered -\u003e Then it does not appear on the VAT return report -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase scrapped before fully depreciated No VAT Given a uk sole trader -\u003e And a capital asset: scrapped before depreciated -\u003e Given VAT settings: Not registered -\u003e Then it does not appear on the VAT return report -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/scrapped_before_depreciated.feature","line_number":7,"run_time":0.033270634,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/scrapped_before_depreciated.feature[1:2:1]","description":"Given a uk sole trader -\u003e And a capital asset: scrapped before depreciated -\u003e Given VAT settings: Any basis, FRS, then de-registered -\u003e Then it does not appear on the VAT return report -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase scrapped before fully depreciated No VAT Given a uk sole trader -\u003e And a capital asset: scrapped before depreciated -\u003e Given VAT settings: Any basis, FRS, then de-registered -\u003e Then it does not appear on the VAT return report -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/scrapped_before_depreciated.feature","line_number":7,"run_time":0.026427277,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/scrapped_before_depreciated.feature[1:3:1]","description":"Given a uk sole trader -\u003e And a capital asset: scrapped before depreciated -\u003e Given VAT settings: Any basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase scrapped before fully depreciated No VAT Given a uk sole trader -\u003e And a capital asset: scrapped before depreciated -\u003e Given VAT settings: Any basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/scrapped_before_depreciated.feature","line_number":7,"run_time":0.022656713,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/scrapped_before_depreciated.feature[1:4:1]","description":"Given a uk sole trader -\u003e And a capital asset: scrapped before depreciated -\u003e Given VAT settings: Any basis, FRS, then Any basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase scrapped before fully depreciated No VAT Given a uk sole trader -\u003e And a capital asset: scrapped before depreciated -\u003e Given VAT settings: Any basis, FRS, then Any basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/scrapped_before_depreciated.feature","line_number":7,"run_time":0.017868906,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/scrapped_before_depreciated.feature[1:5:1]","description":"Given a uk sole trader -\u003e And a capital asset: scrapped before depreciated -\u003e Given VAT settings: Any basis, FRS, then Any basis, not FRS -\u003e Then it does not appear on the VAT return report -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase scrapped before fully depreciated No VAT Given a uk sole trader -\u003e And a capital asset: scrapped before depreciated -\u003e Given VAT settings: Any basis, FRS, then Any basis, not FRS -\u003e Then it does not appear on the VAT return report -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/scrapped_before_depreciated.feature","line_number":7,"run_time":0.023259797,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/scrapped_before_depreciated.feature[1:6:1]","description":"Given a uk sole trader -\u003e And a capital asset: scrapped before depreciated -\u003e Given VAT settings: Not registered, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase scrapped before fully depreciated VAT reclaimed on registration with depreciation adjustment Given a uk sole trader -\u003e And a capital asset: scrapped before depreciated -\u003e Given VAT settings: Not registered, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/scrapped_before_depreciated.feature","line_number":31,"run_time":0.019719385,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/scrapped_before_depreciated.feature[1:7:1]","description":"Given a uk sole trader -\u003e And a capital asset: scrapped before depreciated -\u003e Given VAT settings: Not registered, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase scrapped before fully depreciated VAT reclaimed on registration with depreciation adjustment Given a uk sole trader -\u003e And a capital asset: scrapped before depreciated -\u003e Given VAT settings: Not registered, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/scrapped_before_depreciated.feature","line_number":31,"run_time":0.019302586,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/scrapped_before_depreciated.feature[1:8:1]","description":"Given a uk sole trader -\u003e And a capital asset: scrapped before depreciated -\u003e Given VAT settings: Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase scrapped before fully depreciated VAT reclaimed on purchase date, paid on disposal date Given a uk sole trader -\u003e And a capital asset: scrapped before depreciated -\u003e Given VAT settings: Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/scrapped_before_depreciated.feature","line_number":58,"run_time":0.01769009,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/scrapped_before_depreciated.feature[1:9:1]","description":"Given a uk sole trader -\u003e And a capital asset: scrapped before depreciated -\u003e Given VAT settings: Any basis, not FRS, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase scrapped before fully depreciated VAT reclaimed on purchase date, paid on disposal date Given a uk sole trader -\u003e And a capital asset: scrapped before depreciated -\u003e Given VAT settings: Any basis, not FRS, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/scrapped_before_depreciated.feature","line_number":58,"run_time":0.022044626,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/scrapped_before_depreciated.feature[1:10:1]","description":"Given a uk sole trader -\u003e And a capital asset: scrapped before depreciated -\u003e Given VAT settings: Any basis, not FRS, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase scrapped before fully depreciated VAT reclaimed on purchase date, paid on disposal date Given a uk sole trader -\u003e And a capital asset: scrapped before depreciated -\u003e Given VAT settings: Any basis, not FRS, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/scrapped_before_depreciated.feature","line_number":58,"run_time":0.024287011,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/scrapped_before_depreciated.feature[1:11:1]","description":"Given a uk sole trader -\u003e And a capital asset: scrapped before depreciated -\u003e Given VAT settings: Any basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase scrapped before fully depreciated VAT reclaimed on purchase date, paid on disposal date Given a uk sole trader -\u003e And a capital asset: scrapped before depreciated -\u003e Given VAT settings: Any basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/scrapped_before_depreciated.feature","line_number":58,"run_time":0.01831487,"pending_message":null,"screenshot":null},{"id":"./spec/views/settings/property_ownerships/new.html.erb_spec.rb[1:1]","description":"renders the page header","full_description":"settings/property_ownerships/new renders the page header","status":"passed","file_path":"./spec/views/settings/property_ownerships/new.html.erb_spec.rb","line_number":13,"run_time":0.10967781,"pending_message":null,"screenshot":null},{"id":"./spec/views/settings/property_ownerships/new.html.erb_spec.rb[1:2]","description":"renders the shared notice","full_description":"settings/property_ownerships/new renders the shared notice","status":"passed","file_path":"./spec/views/settings/property_ownerships/new.html.erb_spec.rb","line_number":19,"run_time":0.102921641,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/notices_helper_spec.rb[1:1:1]","description":"renders date in local time zone","full_description":"NoticesHelper#notice_title renders date in local time zone","status":"passed","file_path":"./spec/helpers/notices_helper_spec.rb","line_number":13,"run_time":0.015259782,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/notices_helper_spec.rb[1:1:2]","description":"only displays one date if downtime occurs within one day","full_description":"NoticesHelper#notice_title only displays one date if downtime occurs within one day","status":"passed","file_path":"./spec/helpers/notices_helper_spec.rb","line_number":18,"run_time":0.00765175,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/notices_helper_spec.rb[1:2:1]","description":"is true when there are notices for the given type","full_description":"NoticesHelper#notices_for? is true when there are notices for the given type","status":"passed","file_path":"./spec/helpers/notices_helper_spec.rb","line_number":30,"run_time":0.012479521,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/notices_helper_spec.rb[1:2:2]","description":"is false when there are no notices for the given type that would be shown","full_description":"NoticesHelper#notices_for? is false when there are no notices for the given type that would be shown","status":"passed","file_path":"./spec/helpers/notices_helper_spec.rb","line_number":34,"run_time":0.011119305,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/notices_helper_spec.rb[1:3:1:1:1]","description":"is expected to have text \"Tyl by NatWest Downtime\"","full_description":"NoticesHelper#payment_processor_notices_for when there is a notice for Tyl with a Tyl invoice is expected to have text \"Tyl by NatWest Downtime\"","status":"passed","file_path":"./spec/helpers/notices_helper_spec.rb","line_number":48,"run_time":0.064700422,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/notices_helper_spec.rb[1:3:1:1:2:1]","description":"is expected to be blank","full_description":"NoticesHelper#payment_processor_notices_for when there is a notice for Tyl with a Tyl invoice that is paid is expected to be blank","status":"passed","file_path":"./spec/helpers/notices_helper_spec.rb","line_number":53,"run_time":0.041503124,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/notices_helper_spec.rb[1:3:1:1:3:1]","description":"is expected to be blank","full_description":"NoticesHelper#payment_processor_notices_for when there is a notice for Tyl with a Tyl invoice that is cancelled is expected to be blank","status":"passed","file_path":"./spec/helpers/notices_helper_spec.rb","line_number":59,"run_time":0.037633952,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/notices_helper_spec.rb[1:3:1:2:1]","description":"is expected to be blank","full_description":"NoticesHelper#payment_processor_notices_for when there is a notice for Tyl with a non-Tyl invoice is expected to be blank","status":"passed","file_path":"./spec/helpers/notices_helper_spec.rb","line_number":66,"run_time":0.07082515,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/payroll/clients/_client.html.erb_spec.rb[1:1]","description":"applies the included row styling for an included client","full_description":"practice_dashboard/payroll/clients/_client applies the included row styling for an included client","status":"passed","file_path":"./spec/views/practice_dashboard/payroll/clients/_client.html.erb_spec.rb","line_number":36,"run_time":0.127612131,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/payroll/clients/_client.html.erb_spec.rb[1:2:1]","description":"applies the excluded row styling","full_description":"practice_dashboard/payroll/clients/_client for an excluded client applies the excluded row styling","status":"passed","file_path":"./spec/views/practice_dashboard/payroll/clients/_client.html.erb_spec.rb","line_number":55,"run_time":0.028104292,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/payroll/clients/_client.html.erb_spec.rb[1:3:1]","description":"shows all 10 columns","full_description":"practice_dashboard/payroll/clients/_client with multiple payruns shows all 10 columns","status":"passed","file_path":"./spec/views/practice_dashboard/payroll/clients/_client.html.erb_spec.rb","line_number":69,"run_time":0.026592998,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/payroll/clients/_client.html.erb_spec.rb[1:3:2]","description":"shows pay, tax and NI values from the current payrun","full_description":"practice_dashboard/payroll/clients/_client with multiple payruns shows pay, tax and NI values from the current payrun","status":"passed","file_path":"./spec/views/practice_dashboard/payroll/clients/_client.html.erb_spec.rb","line_number":73,"run_time":0.021469379,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/payroll/clients/_client.html.erb_spec.rb[1:3:3]","description":"shows pay from the previous period","full_description":"practice_dashboard/payroll/clients/_client with multiple payruns shows pay from the previous period","status":"passed","file_path":"./spec/views/practice_dashboard/payroll/clients/_client.html.erb_spec.rb","line_number":79,"run_time":0.020159898,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/payroll/clients/_client.html.erb_spec.rb[1:4:1]","description":"shows 8 columns","full_description":"practice_dashboard/payroll/clients/_client with a single prepared payrun shows 8 columns","status":"passed","file_path":"./spec/views/practice_dashboard/payroll/clients/_client.html.erb_spec.rb","line_number":89,"run_time":0.028088003,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/payroll/clients/_client.html.erb_spec.rb[1:4:2]","description":"shows pay, tax and NI values from the current payrun","full_description":"practice_dashboard/payroll/clients/_client with a single prepared payrun shows pay, tax and NI values from the current payrun","status":"passed","file_path":"./spec/views/practice_dashboard/payroll/clients/_client.html.erb_spec.rb","line_number":93,"run_time":0.020162367,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/payroll/clients/_client.html.erb_spec.rb[1:5:1]","description":"shows 8 columns","full_description":"practice_dashboard/payroll/clients/_client with no payruns shows 8 columns","status":"passed","file_path":"./spec/views/practice_dashboard/payroll/clients/_client.html.erb_spec.rb","line_number":101,"run_time":0.02756492,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/payroll/clients/_client.html.erb_spec.rb[1:5:2]","description":"shows the estimated pay from the payroll profile and no tax or NI","full_description":"practice_dashboard/payroll/clients/_client with no payruns shows the estimated pay from the payroll profile and no tax or NI","status":"passed","file_path":"./spec/views/practice_dashboard/payroll/clients/_client.html.erb_spec.rb","line_number":105,"run_time":0.024961301,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/line_item_functionality_spec.rb[1:1:1:1]","description":"should default to the standard UK rate of VAT","full_description":"LineItemFunctionality VAT registered UK company An invoice for a VAT registered company should default to the standard UK rate of VAT","status":"passed","file_path":"./spec/models/modules/line_item_functionality_spec.rb","line_number":14,"run_time":0.017180306,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/line_item_functionality_spec.rb[1:1:2:1]","description":"should default to the standard Belgian rate of VAT","full_description":"LineItemFunctionality VAT registered UK company A MOSS tagged estimate for a VAT registered company should default to the standard Belgian rate of VAT","status":"passed","file_path":"./spec/models/modules/line_item_functionality_spec.rb","line_number":28,"run_time":0.018915648,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/line_item_functionality_spec.rb[1:2:1:1]","description":"should not have a default","full_description":"LineItemFunctionality Non-VAT registered UK company An estimate for a non-VAT registered company should not have a default","status":"passed","file_path":"./spec/models/modules/line_item_functionality_spec.rb","line_number":44,"run_time":0.106596011,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/line_item_functionality_spec.rb[1:2:2:1]","description":"should default to the standard Belgian rate of VAT","full_description":"LineItemFunctionality Non-VAT registered UK company A MOSS tagged invoice for a non-VAT registered sole trader should default to the standard Belgian rate of VAT","status":"passed","file_path":"./spec/models/modules/line_item_functionality_spec.rb","line_number":57,"run_time":0.095561027,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/line_item_functionality_spec.rb[1:3:1:1]","description":"returns default locale from invoice","full_description":"LineItemFunctionality both invoice and contact have an empty locale set #locale returns default locale from invoice","status":"passed","file_path":"./spec/models/modules/line_item_functionality_spec.rb","line_number":72,"run_time":0.010289284,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/overview/_account_usage.html.erb_spec.rb[1:1:1]","description":"displays a property count","full_description":"admin/companies/overview/_account_usage when the company is a UK landlord displays a property count","status":"passed","file_path":"./spec/views/admin/companies/overview/_account_usage.html.erb_spec.rb","line_number":12,"run_time":0.169397462,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/overview/_account_usage.html.erb_spec.rb[1:2:1]","description":"does not display a property count","full_description":"admin/companies/overview/_account_usage when the company is not a UK landlord does not display a property count","status":"passed","file_path":"./spec/views/admin/companies/overview/_account_usage.html.erb_spec.rb","line_number":22,"run_time":0.087088384,"pending_message":null,"screenshot":null},{"id":"./spec/views/payroll/shared/_pay_fields.html.erb_spec.rb[1:1:1]","description":"displays absence payments field with correct amount","full_description":"payroll/shared/_pay_fields absence payments displays absence payments field with correct amount","status":"passed","file_path":"./spec/views/payroll/shared/_pay_fields.html.erb_spec.rb","line_number":12,"run_time":0.192881914,"pending_message":null,"screenshot":null}],"summary":{"duration":2.262306614,"example_count":370,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"370 examples, 0 failures"}