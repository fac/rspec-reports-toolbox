{"version":"3.11.0","messages":["Run options:\n  include {:ids=\u003e{\"./spec/models/invoice_spec.rb\"=\u003e[\"1:108:4:1\"]}}\n  exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/acceptance/payroll/2016_17/national_insurance.feature[1:1:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When running payroll for a period -\u003e Then total employee NI should be £159.36 -\u003e And total employer NI should be £182.71","full_description":"Payroll NI calculations 2017 Generating payslips for an existing employee Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When running payroll for a period -\u003e Then total employee NI should be £159.36 -\u003e And total employer NI should be £182.71","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/national_insurance.feature","line_number":10,"run_time":0.947133851,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2016_17/national_insurance.feature[1:2:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Director payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When running payroll for the whole tax year -\u003e Then total employee NI should be £1912.80 -\u003e And total employer NI should be £2192.54 -\u003e And the monthly NI payments should look like","full_description":"Payroll NI calculations 2017 Generating payslips for an existing director Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Director payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When running payroll for the whole tax year -\u003e Then total employee NI should be £1912.80 -\u003e And total employer NI should be £2192.54 -\u003e And the monthly NI payments should look like","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/national_insurance.feature","line_number":17,"run_time":1.706082452,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2016_17/national_insurance.feature[1:3:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When they switch to Director NI contributions in month 4 with a directorship start date of 2016-07-01 -\u003e When running payroll for the whole tax year -\u003e Then they should pay 3 months using employee calculations and 9 months using director calculations -\u003e And total employee NI should be £1894.08 -\u003e And total employer NI should be £2171.01 -\u003e And the monthly NI payments should look like","full_description":"Payroll NI calculations 2017 Generating payslips for an existing employee becoming a director in month 3 Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When they switch to Director NI contributions in month 4 with a directorship start date of 2016-07-01 -\u003e When running payroll for the whole tax year -\u003e Then they should pay 3 months using employee calculations and 9 months using director calculations -\u003e And total employee NI should be £1894.08 -\u003e And total employer NI should be £2171.01 -\u003e And the monthly NI payments should look like","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/national_insurance.feature","line_number":38,"run_time":1.784687636,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2016_17/national_insurance.feature[1:4:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When they switch to Director NI contributions in month 3 with a directorship start date of 2016-07-01 -\u003e When running payroll for the whole tax year -\u003e Then they should pay 2 months using employee calculations and 10 months using director calculations -\u003e And total employee NI should be £1974.72 -\u003e And total employer NI should be £2264.30 -\u003e And the monthly NI payments should look like","full_description":"Payroll NI calculations 2017 Generating payslips for an existing employee becoming a director who is paid as a director before their start date Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When they switch to Director NI contributions in month 3 with a directorship start date of 2016-07-01 -\u003e When running payroll for the whole tax year -\u003e Then they should pay 2 months using employee calculations and 10 months using director calculations -\u003e And total employee NI should be £1974.72 -\u003e And total employer NI should be £2264.30 -\u003e And the monthly NI payments should look like","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/national_insurance.feature","line_number":61,"run_time":1.753228527,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2016_17/national_insurance.feature[1:5:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Director payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e And they started employment on 2016-06-06 -\u003e When running payroll for the whole tax year -\u003e Then total employee NI should be £1581.60 -\u003e And total employer NI should be £1812.77 -\u003e And the monthly NI payments should look like","full_description":"Payroll NI calculations 2017 Generating payslips for a new starting director Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Director payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e And they started employment on 2016-06-06 -\u003e When running payroll for the whole tax year -\u003e Then total employee NI should be £1581.60 -\u003e And total employer NI should be £1812.77 -\u003e And the monthly NI payments should look like","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/national_insurance.feature","line_number":84,"run_time":1.682454121,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2016_17/national_insurance.feature[1:6:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Director payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e And they started employment on 2016-06-26 -\u003e When running payroll for the whole tax year -\u003e Then total employee NI should be £1637.40 -\u003e And total employer NI should be £1877.35 -\u003e And the monthly NI payments should look like","full_description":"Payroll NI calculations 2017 Generating payslips for a new starting director who is paid in advance of starting their directorship Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Director payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e And they started employment on 2016-06-26 -\u003e When running payroll for the whole tax year -\u003e Then total employee NI should be £1637.40 -\u003e And total employer NI should be £1877.35 -\u003e And the monthly NI payments should look like","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/national_insurance.feature","line_number":106,"run_time":2.441401923,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2016_17/national_insurance.feature[1:7:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Director payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When they switch to Employee NI contributions in month 3 -\u003e When running payroll for the whole tax year -\u003e Then they should pay 0 months using employee calculations and 12 months using director calculations -\u003e Then total employee NI should be £1912.80 -\u003e And total employer NI should be £2192.54 -\u003e And the monthly NI payments should look like","full_description":"Payroll NI calculations 2017 Generating payslips for an existing director who steps down and becomes an employee Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Director payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When they switch to Employee NI contributions in month 3 -\u003e When running payroll for the whole tax year -\u003e Then they should pay 0 months using employee calculations and 12 months using director calculations -\u003e Then total employee NI should be £1912.80 -\u003e And total employer NI should be £2192.54 -\u003e And the monthly NI payments should look like","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/national_insurance.feature","line_number":128,"run_time":1.955516089,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2016_17/national_insurance.feature[1:8:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When running payroll for the whole tax year -\u003e Then total employee NI should be £1912.80 -\u003e And total employer NI should be £2192.54 -\u003e And the monthly NI payments should look like","full_description":"Payroll NI calculations 2017 Generating payslips for an existing director using the alternate arrangements Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When running payroll for the whole tax year -\u003e Then total employee NI should be £1912.80 -\u003e And total employer NI should be £2192.54 -\u003e And the monthly NI payments should look like","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/national_insurance.feature","line_number":151,"run_time":2.023102551,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2016_17/national_insurance.feature[1:9:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When they switch to Employee NI contributions in month 6 -\u003e When running payroll for the whole tax year -\u003e Then total employee NI should be £1912.80 -\u003e And total employer NI should be £2192.54 -\u003e And the monthly NI payments should look like","full_description":"Payroll NI calculations 2017 Generating payslips for an existing director using the alternate arrangements steps down mid-year Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When they switch to Employee NI contributions in month 6 -\u003e When running payroll for the whole tax year -\u003e Then total employee NI should be £1912.80 -\u003e And total employer NI should be £2192.54 -\u003e And the monthly NI payments should look like","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/national_insurance.feature","line_number":172,"run_time":2.056047765,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2016_17/national_insurance.feature[1:10:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When they switch to Director NI contributions in month 6 -\u003e When running payroll for the whole tax year -\u003e Then total employee NI should be £1912.80 -\u003e And total employer NI should be £2192.54 -\u003e And the monthly NI payments should look like","full_description":"Payroll NI calculations 2017 Generating payslips for an existing director using the alternate arrangements who switches to Director arrangments mid-year Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When they switch to Director NI contributions in month 6 -\u003e When running payroll for the whole tax year -\u003e Then total employee NI should be £1912.80 -\u003e And total employer NI should be £2192.54 -\u003e And the monthly NI payments should look like","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/national_insurance.feature","line_number":194,"run_time":2.109034562,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2016_17/national_insurance.feature[1:11:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When they leave employment on 2016-09-01 -\u003e And running payroll for a period -\u003e Then total employee NI should be £232.80 -\u003e And total employer NI should be £260.54 -\u003e And the monthly NI payments should look like","full_description":"Payroll NI calculations 2017 Generating payslips for an existing director using the alternate arrangements who leaves employment mid-year after their final salary has been paid and filed Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When they leave employment on 2016-09-01 -\u003e And running payroll for a period -\u003e Then total employee NI should be £232.80 -\u003e And total employer NI should be £260.54 -\u003e And the monthly NI payments should look like","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/national_insurance.feature","line_number":216,"run_time":1.789234021,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2016_17/national_insurance.feature[1:12:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When they leave employment on 2016-08-15 -\u003e And running payroll for the whole tax year -\u003e Then total employee NI should be £232.80 -\u003e And total employer NI should be £260.54 -\u003e And the monthly NI payments should look like","full_description":"Payroll NI calculations 2017 Generating payslips for an existing director using the alternate arrangements who leaves employment mid-year before payroll is filed Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When they leave employment on 2016-08-15 -\u003e And running payroll for the whole tax year -\u003e Then total employee NI should be £232.80 -\u003e And total employer NI should be £260.54 -\u003e And the monthly NI payments should look like","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/national_insurance.feature","line_number":232,"run_time":1.678850187,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2016_17/national_insurance.feature[1:13:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given an Director payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When they leave employment on 2016-08-15 -\u003e And running payroll for the whole tax year -\u003e Then total employee NI should be £232.80 -\u003e And total employer NI should be £260.54 -\u003e And the monthly NI payments should look like","full_description":"Payroll NI calculations 2017 Generating payslips for an existing director using the annual arrangements who leaves employment mid-year before payroll is filed Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given an Director payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When they leave employment on 2016-08-15 -\u003e And running payroll for the whole tax year -\u003e Then total employee NI should be £232.80 -\u003e And total employer NI should be £260.54 -\u003e And the monthly NI payments should look like","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/national_insurance.feature","line_number":247,"run_time":1.639505031,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2016_17/national_insurance.feature[1:14:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given an Employee payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When they leave employment on 2016-09-01 -\u003e And running payroll for a period -\u003e Then total employee NI should be £796.80 -\u003e And total employer NI should be £913.55 -\u003e And the monthly NI payments should look like","full_description":"Payroll NI calculations 2017 Generating payslips for an existing employee who leaves employment mid-year after payroll is filed Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given an Employee payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When they leave employment on 2016-09-01 -\u003e And running payroll for a period -\u003e Then total employee NI should be £796.80 -\u003e And total employer NI should be £913.55 -\u003e And the monthly NI payments should look like","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/national_insurance.feature","line_number":262,"run_time":1.115650566,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2016_17/national_insurance.feature[1:15:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Director payroll profile with NI letter A -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e And they are paid £671 monthly -\u003e And they were migrated in month 5 with £2684 gross pay, £0 tax and £0 student loan deductions -\u003e And they have migrated earnings -\u003e When running payroll for the rest of the tax year -\u003e Then they should pay 0 months using employee calculations and 7 months using director calculations -\u003e Then total employee NI should be £0 -\u003e And total employer NI should be £0 -\u003e And the monthly NI payments should look like","full_description":"Payroll NI calculations 2017 Generating payslips for an existing director with migrated pay, just under the PT/ST limit Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Director payroll profile with NI letter A -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e And they are paid £671 monthly -\u003e And they were migrated in month 5 with £2684 gross pay, £0 tax and £0 student loan deductions -\u003e And they have migrated earnings -\u003e When running payroll for the rest of the tax year -\u003e Then they should pay 0 months using employee calculations and 7 months using director calculations -\u003e Then total employee NI should be £0 -\u003e And total employer NI should be £0 -\u003e And the monthly NI payments should look like","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/national_insurance.feature","line_number":278,"run_time":1.32531949,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2016_17/national_insurance.feature[1:16:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £4000 monthly -\u003e And they were first paid in month 5 -\u003e And they started employment on 2016-08-01 -\u003e When in month 10 they resign from being a director but continue in employment -\u003e And they run payroll in month 12 -\u003e Then total employee NIC should be £2947.40 -\u003e And total employer NIC should be £3640.99 -\u003e And the monthly NI payments should look like","full_description":"Payroll NI calculations 2017 Calculating NIC for a new Alternate Director resigning but continuing employment Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £4000 monthly -\u003e And they were first paid in month 5 -\u003e And they started employment on 2016-08-01 -\u003e When in month 10 they resign from being a director but continue in employment -\u003e And they run payroll in month 12 -\u003e Then total employee NIC should be £2947.40 -\u003e And total employer NIC should be £3640.99 -\u003e And the monthly NI payments should look like","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/national_insurance.feature","line_number":301,"run_time":1.522006245,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:1:1:1]","description":"should be unauthorized","full_description":"DocumentsController for permission_level \u003c 4 users GET on #index should be unauthorized","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":34,"run_time":1.351420176,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:2:1:1:1]","description":"should return only shared files","full_description":"DocumentsController given a few shared and personal files for permission_level 4-6 users GET on #index should return only shared files","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":68,"run_time":0.858214896,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:2:1:2:1]","description":"should not be able to update the privacy level","full_description":"DocumentsController given a few shared and personal files for permission_level 4-6 users PUT on #update should not be able to update the privacy level","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":74,"run_time":0.794441729,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:2:2:1:1]","description":"should return company shared files and their own private files","full_description":"DocumentsController given a few shared and personal files for permission_level 7-8 users GET on #index should return company shared files and their own private files","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":88,"run_time":0.867190187,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:2:2:1:2]","description":"should not return other users' private files","full_description":"DocumentsController given a few shared and personal files for permission_level 7-8 users GET on #index should not return other users' private files","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":93,"run_time":0.861198402,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:2:2:2:1:1]","description":"can change the privacy level from shared to personal","full_description":"DocumentsController given a few shared and personal files for permission_level 7-8 users PUT on #update when the document belongs to the logged in user can change the privacy level from shared to personal","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":102,"run_time":0.826590338,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:2:2:2:1:2]","description":"can change the privacy level from personal to shared","full_description":"DocumentsController given a few shared and personal files for permission_level 7-8 users PUT on #update when the document belongs to the logged in user can change the privacy level from personal to shared","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":111,"run_time":0.792672712,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:2:2:2:2:1]","description":"can not change the privacy level from shared to personal","full_description":"DocumentsController given a few shared and personal files for permission_level 7-8 users PUT on #update when the document does not belong to the logged in user can not change the privacy level from shared to personal","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":122,"run_time":0.854589969,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:2:2:2:2:2]","description":"can not change the privacy level from personal to shared","full_description":"DocumentsController given a few shared and personal files for permission_level 7-8 users PUT on #update when the document does not belong to the logged in user can not change the privacy level from personal to shared","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":131,"run_time":0.724730469,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:2:3:1:1:1]","description":"can not change the privacy level from shared to personal","full_description":"DocumentsController given a few shared and personal files for an account manager PUT on #update when the document belongs to the logged in account manager can not change the privacy level from shared to personal","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":154,"run_time":0.787867324,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:2:3:1:1:2]","description":"can not change the privacy level from personal to shared","full_description":"DocumentsController given a few shared and personal files for an account manager PUT on #update when the document belongs to the logged in account manager can not change the privacy level from personal to shared","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":163,"run_time":0.824329753,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:2:3:1:2:1]","description":"can not change the privacy level from shared to personal","full_description":"DocumentsController given a few shared and personal files for an account manager PUT on #update when the document does not belong to the logged in account manager can not change the privacy level from shared to personal","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":174,"run_time":0.816835008,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:2:3:1:2:2]","description":"can not change the privacy level from personal to shared","full_description":"DocumentsController given a few shared and personal files for an account manager PUT on #update when the document does not belong to the logged in account manager can not change the privacy level from personal to shared","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":182,"run_time":0.852188093,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:2:3:2:1]","description":"can create a document, but ignores the privacy/kind if specified","full_description":"DocumentsController given a few shared and personal files for an account manager POST on #create can create a document, but ignores the privacy/kind if specified","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":194,"run_time":0.806400141,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:3:1]","description":"GET on #index","full_description":"DocumentsController signed in super-user GET on #index","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":213,"run_time":1.339627392,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:3:2]","description":"POST on #create","full_description":"DocumentsController signed in super-user POST on #create","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":230,"run_time":0.473056777,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:3:4]","description":"AJAX POST on #create ","full_description":"DocumentsController signed in super-user AJAX POST on #create ","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":261,"run_time":0.449961137,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:3:5]","description":"AJAX POST on #create with unicode filename","full_description":"DocumentsController signed in super-user AJAX POST on #create with unicode filename","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":261,"run_time":0.466137308,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:3:6]","description":"AJAX POST on #create with emoji filename","full_description":"DocumentsController signed in super-user AJAX POST on #create with emoji filename","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":261,"run_time":0.455285259,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:3:7]","description":"POST on #create without a file","full_description":"DocumentsController signed in super-user POST on #create without a file","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":282,"run_time":0.577991489,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:3:8]","description":"GET on #show","full_description":"DocumentsController signed in super-user GET on #show","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":294,"run_time":0.447499223,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:3:9]","description":"GET on #edit","full_description":"DocumentsController signed in super-user GET on #edit","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":299,"run_time":0.479753223,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:3:10]","description":"PUT on #update","full_description":"DocumentsController signed in super-user PUT on #update","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":307,"run_time":0.473946834,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:3:11]","description":"PUT on #update with emoji in filename","full_description":"DocumentsController signed in super-user PUT on #update with emoji in filename","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":318,"run_time":0.447979552,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:3:12]","description":"PUT on #update with invalid parameters","full_description":"DocumentsController signed in super-user PUT on #update with invalid parameters","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":329,"run_time":0.443489141,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:3:13]","description":"DELETE on #destroy","full_description":"DocumentsController signed in super-user DELETE on #destroy","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":340,"run_time":0.507986018,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:3:3:1]","description":"emits a FILE_UPLOADED event","full_description":"DocumentsController signed in super-user on successful create emits a FILE_UPLOADED event","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":247,"run_time":0.525565041,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:4:1]","description":"allows GET on #index","full_description":"DocumentsController signed in user on an expired trial allows GET on #index","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":358,"run_time":0.591480935,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:4:2]","description":"allows GET on #show","full_description":"DocumentsController signed in user on an expired trial allows GET on #show","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":365,"run_time":0.533592987,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:4:3]","description":"redirects POST on #create to new payment path","full_description":"DocumentsController signed in user on an expired trial redirects POST on #create to new payment path","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":370,"run_time":0.428681726,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:4:4]","description":"redirects GET on #edit to new payment path","full_description":"DocumentsController signed in user on an expired trial redirects GET on #edit to new payment path","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":379,"run_time":0.489708473,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:4:5]","description":"redirects PUT on #update to new payment path","full_description":"DocumentsController signed in user on an expired trial redirects PUT on #update to new payment path","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":384,"run_time":0.455195724,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:4:6]","description":"redirects DELETE on #destroy to new payment path","full_description":"DocumentsController signed in user on an expired trial redirects DELETE on #destroy to new payment path","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":389,"run_time":0.451391855,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:5:1]","description":"allows GET on #index","full_description":"DocumentsController signed in user on a suspended company allows GET on #index","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":400,"run_time":0.600293607,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:5:2]","description":"allows GET on #show","full_description":"DocumentsController signed in user on a suspended company allows GET on #show","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":407,"run_time":0.463379864,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:5:3]","description":"redirects POST on #create to expired payments path","full_description":"DocumentsController signed in user on a suspended company redirects POST on #create to expired payments path","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":412,"run_time":0.465466081,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:5:4]","description":"redirects GET on #edit to expired payments path","full_description":"DocumentsController signed in user on a suspended company redirects GET on #edit to expired payments path","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":421,"run_time":0.474031319,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:5:5]","description":"redirects PUT on #update to expired payments path","full_description":"DocumentsController signed in user on a suspended company redirects PUT on #update to expired payments path","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":426,"run_time":0.497348158,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/documents_controller_spec.rb[1:5:6]","description":"redirects DELETE on #destroy to expired payments path","full_description":"DocumentsController signed in user on a suspended company redirects DELETE on #destroy to expired payments path","status":"passed","file_path":"./spec/controllers/documents_controller_spec.rb","line_number":431,"run_time":0.490995548,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:1:1]","description":"is expected to belong to company required: false","full_description":"Document The Document model is expected to belong to company required: false","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":12,"run_time":0.133605872,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:1:2]","description":"is expected to have one attachment dependent =\u003e destroy","full_description":"Document The Document model is expected to have one attachment dependent =\u003e destroy","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":13,"run_time":0.12090324,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:1:3]","description":"is expected to have many email_documents dependent =\u003e destroy","full_description":"Document The Document model is expected to have many email_documents dependent =\u003e destroy","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":14,"run_time":0.11013461,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:1:4]","description":"is expected to have many email_template_documents","full_description":"Document The Document model is expected to have many email_template_documents","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":15,"run_time":0.108497195,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:1:5]","description":"is expected to have many email_templates through email_template_documents","full_description":"Document The Document model is expected to have many email_templates through email_template_documents","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":16,"run_time":0.1276966,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:1:6]","description":"is expected to validate that :company cannot be empty/falsy","full_description":"Document The Document model is expected to validate that :company cannot be empty/falsy","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":18,"run_time":0.127784753,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:1:7:1]","description":"defaults to created_at descending with no parameters","full_description":"Document The Document model #ordered scope defaults to created_at descending with no parameters","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":41,"run_time":1.361798912,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:1:7:2]","description":"orders by file name ascending","full_description":"Document The Document model #ordered scope orders by file name ascending","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":45,"run_time":0.622642705,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:1:7:3]","description":"orders by file name descending","full_description":"Document The Document model #ordered scope orders by file name descending","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":50,"run_time":0.591899126,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:1:7:4]","description":"orders by file size ascending","full_description":"Document The Document model #ordered scope orders by file size ascending","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":54,"run_time":0.67138908,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:1:7:5]","description":"orders by file size descending","full_description":"Document The Document model #ordered scope orders by file size descending","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":59,"run_time":0.606018827,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:1:7:6]","description":"orders by created_at ascending","full_description":"Document The Document model #ordered scope orders by created_at ascending","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":63,"run_time":0.624382048,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:1:7:7]","description":"orders by created_at descending","full_description":"Document The Document model #ordered scope orders by created_at descending","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":68,"run_time":0.642753584,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:1:7:8]","description":"orders by user ascending","full_description":"Document The Document model #ordered scope orders by user ascending","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":72,"run_time":0.644712062,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:1:7:9]","description":"orders by user descending","full_description":"Document The Document model #ordered scope orders by user descending","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":77,"run_time":0.651768101,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:1:7:10]","description":"orders by privacy ascending","full_description":"Document The Document model #ordered scope orders by privacy ascending","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":81,"run_time":0.61797154,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:1:7:11]","description":"orders by privacy descending","full_description":"Document The Document model #ordered scope orders by privacy descending","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":86,"run_time":0.668199628,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:1:8:1:1]","description":"sees uploaded documents","full_description":"Document The Document model available documents for account manager sees uploaded documents","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":105,"run_time":0.262968261,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:1:8:1:2]","description":"only sees documents for this company","full_description":"Document The Document model available documents for account manager only sees documents for this company","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":108,"run_time":0.240791901,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:1:8:2:1]","description":"sees uploaded documents","full_description":"Document The Document model available documents for user with full access sees uploaded documents","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":117,"run_time":0.223495667,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:1:8:2:2]","description":"only sees documents for this company","full_description":"Document The Document model available documents for user with full access only sees documents for this company","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":120,"run_time":0.220529048,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:1:8:3:1]","description":"sees uploaded documents","full_description":"Document The Document model available documents for user with only files access sees uploaded documents","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":129,"run_time":0.239347226,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:1:8:3:2]","description":"only sees documents for this company","full_description":"Document The Document model available documents for user with only files access only sees documents for this company","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":133,"run_time":0.26692835,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:1:8:4:1]","description":"sees no documents","full_description":"Document The Document model available documents for user with no files access sees no documents","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":141,"run_time":0.218515366,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:1:9:1]","description":"returns documents not associated to email templates","full_description":"Document The Document model .unlocked returns documents not associated to email templates","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":153,"run_time":0.255424201,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:2:1]","description":"returns an unsaved, valid Document","full_description":"Document Document#from_pdf with valid data returns an unsaved, valid Document","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":165,"run_time":0.013582744,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:2:2]","description":"assigns document for the company specified","full_description":"Document Document#from_pdf with valid data assigns document for the company specified","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":171,"run_time":0.01028112,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:2:3]","description":"saves the attachment with the correct filename and content type","full_description":"Document Document#from_pdf with valid data saves the attachment with the correct filename and content type","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":175,"run_time":0.020948785,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:2:4]","description":"is valid","full_description":"Document Document#from_pdf with valid data is valid","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":181,"run_time":0.013735484,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:2:5]","description":"is not saved","full_description":"Document Document#from_pdf with valid data is not saved","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":185,"run_time":0.010681178,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:2:6]","description":"assigns document to the company specified","full_description":"Document Document#from_pdf with valid data assigns document to the company specified","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":189,"run_time":0.010872595,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:3:1]","description":"is not valid","full_description":"Document Document#from_pdf with invalid data is not valid","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":200,"run_time":0.013902162,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:4:1]","description":"returns an unsaved, valid document","full_description":"Document#from_removed_attachment returns an unsaved, valid document","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":209,"run_time":0.016684262,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:4:2:1]","description":"doesn't set user id","full_description":"Document#from_removed_attachment user is an account manager doesn't set user id","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":221,"run_time":0.047556935,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:4:3:1]","description":"sets text extraction enabled to true","full_description":"Document#from_removed_attachment attachment has sensibill data sets text extraction enabled to true","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":236,"run_time":0.053264357,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:5:1]","description":"displays an appropriate message for a non-present attachment","full_description":"Document A Document instance displays an appropriate message for a non-present attachment","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":252,"run_time":0.00566868,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:5:2]","description":"displays an appropriate message for a large attachment in an unacceptable format","full_description":"Document A Document instance displays an appropriate message for a large attachment in an unacceptable format","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":260,"run_time":0.047320878,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:5:3]","description":"does not allow file name to be set to a blank string","full_description":"Document A Document instance does not allow file name to be set to a blank string","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":276,"run_time":0.14364837,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:5:4]","description":"validates the length of a new file name","full_description":"Document A Document instance validates the length of a new file name","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":284,"run_time":0.12918003,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:5:5]","description":"does not validate if company file storage limit has been exceeded","full_description":"Document A Document instance does not validate if company file storage limit has been exceeded","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":292,"run_time":0.110287562,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:5:6]","description":"sets company_id for the attachment when saved","full_description":"Document A Document instance sets company_id for the attachment when saved","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":301,"run_time":0.133884978,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:5:7]","description":"returns the attachment content type","full_description":"Document A Document instance returns the attachment content type","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":307,"run_time":0.126217475,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:5:8]","description":"is not locked by default","full_description":"Document A Document instance is not locked by default","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":311,"run_time":0.20238073,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:5:11]","description":"updates the attachment filename with #file_name_without_extension setter","full_description":"Document A Document instance updates the attachment filename with #file_name_without_extension setter","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":377,"run_time":0.508839431,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:5:12]","description":"strips unsupported emoji from the file name","full_description":"Document A Document instance strips unsupported emoji from the file name","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":384,"run_time":0.312405234,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:5:9:1]","description":"is locked","full_description":"Document A Document instance when attached to an email template is locked","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":322,"run_time":0.124430747,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:5:10:1]","description":"returns file name without an extension","full_description":"Document A Document instance #file_name_without_extension returns file name without an extension","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":329,"run_time":0.120407875,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:5:10:2]","description":"deals with files with multiple stops in the file name","full_description":"Document A Document instance #file_name_without_extension deals with files with multiple stops in the file name","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":334,"run_time":0.113177862,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:5:10:3]","description":"deals with files without an extension","full_description":"Document A Document instance #file_name_without_extension deals with files without an extension","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":340,"run_time":0.023637224,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:5:10:4]","description":"returns new file name when renamed","full_description":"Document A Document instance #file_name_without_extension returns new file name when renamed","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":355,"run_time":0.11892071,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:5:10:5]","description":"returns empty string when renamed file name is blank","full_description":"Document A Document instance #file_name_without_extension returns empty string when renamed file name is blank","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":362,"run_time":0.115356894,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:5:10:6]","description":"returns new file name when rename fails validations","full_description":"Document A Document instance #file_name_without_extension returns new file name when rename fails validations","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":369,"run_time":0.123624825,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:6:1]","description":"returns its humanized size","full_description":"Document An uploaded file returns its humanized size","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":397,"run_time":0.117522028,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:7:1]","description":"returns true","full_description":"Document#attachable? returns true","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":403,"run_time":0.004143906,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:8:1:1]","description":"is expected to equal nil","full_description":"Document#text_extraction_availability when text extraction is disabled is expected to equal nil","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":413,"run_time":0.102074953,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:8:2:1:1]","description":"is expected to eq \"pending\"","full_description":"Document#text_extraction_availability when text extraction is enabled and there is no Sensibill extract is expected to eq \"pending\"","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":419,"run_time":0.120803879,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:8:2:2:1:1]","description":"is expected to eq \"pending\"","full_description":"Document#text_extraction_availability when text extraction is enabled and there is a Sensibill extract pending extraction is expected to eq \"pending\"","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":425,"run_time":0.320998355,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:8:2:2:2:1]","description":"is expected to eq \"available\"","full_description":"Document#text_extraction_availability when text extraction is enabled and there is a Sensibill extract completed with available data is expected to eq \"available\"","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":430,"run_time":0.295615238,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:8:2:2:3:1]","description":"is expected to eq \"unavailable\"","full_description":"Document#text_extraction_availability when text extraction is enabled and there is a Sensibill extract completed with no data is expected to eq \"unavailable\"","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":435,"run_time":0.337992496,"pending_message":null,"screenshot":null},{"id":"./spec/models/document_spec.rb[1:8:2:2:4:1]","description":"is expected to eq \"unavailable\"","full_description":"Document#text_extraction_availability when text extraction is enabled and there is a Sensibill extract failed extraction is expected to eq \"unavailable\"","status":"passed","file_path":"./spec/models/document_spec.rb","line_number":440,"run_time":0.332602874,"pending_message":null,"screenshot":null},{"id":"./spec/features/invoicing/credit_note_listing_spec.rb[1:1:1]","description":"I see credit notes","full_description":"Listing credit notes When visiting /invoices I see credit notes","status":"passed","file_path":"./spec/features/invoicing/credit_note_listing_spec.rb","line_number":14,"run_time":1.496691243,"pending_message":null,"screenshot":null},{"id":"./spec/features/invoicing/credit_note_listing_spec.rb[1:1:2]","description":"A draft credit note affects the GBP total or but does not affect the total due","full_description":"Listing credit notes When visiting /invoices A draft credit note affects the GBP total or but does not affect the total due","status":"passed","file_path":"./spec/features/invoicing/credit_note_listing_spec.rb","line_number":32,"run_time":1.225441644,"pending_message":null,"screenshot":null},{"id":"./spec/features/invoicing/credit_note_listing_spec.rb[1:1:3]","description":"A sent credit note affects the GBP total and the total due","full_description":"Listing credit notes When visiting /invoices A sent credit note affects the GBP total and the total due","status":"passed","file_path":"./spec/features/invoicing/credit_note_listing_spec.rb","line_number":39,"run_time":1.075035818,"pending_message":null,"screenshot":null},{"id":"./spec/features/invoicing/credit_note_listing_spec.rb[1:1:4]","description":"I can delete a draft credit note","full_description":"Listing credit notes When visiting /invoices I can delete a draft credit note","status":"passed","file_path":"./spec/features/invoicing/credit_note_listing_spec.rb","line_number":49,"run_time":1.309886814,"pending_message":null,"screenshot":null},{"id":"./spec/features/invoicing/credit_note_listing_spec.rb[1:2:1]","description":"I see credit notes","full_description":"Listing credit notes When visiting /projects/:project_id/invoices I see credit notes","status":"passed","file_path":"./spec/features/invoicing/credit_note_listing_spec.rb","line_number":72,"run_time":1.232886524,"pending_message":null,"screenshot":null},{"id":"./spec/features/invoicing/credit_note_listing_spec.rb[1:2:2]","description":"A draft credit note affects the GBP total or but does not affect the total due","full_description":"Listing credit notes When visiting /projects/:project_id/invoices A draft credit note affects the GBP total or but does not affect the total due","status":"passed","file_path":"./spec/features/invoicing/credit_note_listing_spec.rb","line_number":90,"run_time":0.98503214,"pending_message":null,"screenshot":null},{"id":"./spec/features/invoicing/credit_note_listing_spec.rb[1:2:3]","description":"A sent credit note affects the GBP total and the total due","full_description":"Listing credit notes When visiting /projects/:project_id/invoices A sent credit note affects the GBP total and the total due","status":"passed","file_path":"./spec/features/invoicing/credit_note_listing_spec.rb","line_number":97,"run_time":1.057339287,"pending_message":null,"screenshot":null},{"id":"./spec/features/invoicing/credit_note_listing_spec.rb[1:2:4]","description":"I can delete a draft credit note","full_description":"Listing credit notes When visiting /projects/:project_id/invoices I can delete a draft credit note","status":"passed","file_path":"./spec/features/invoicing/credit_note_listing_spec.rb","line_number":107,"run_time":1.245070475,"pending_message":null,"screenshot":null},{"id":"./spec/features/invoicing/credit_note_listing_spec.rb[1:3:1]","description":"I see credit notes","full_description":"Listing credit notes When visiting /contacts/:contact_id/invoices I see credit notes","status":"passed","file_path":"./spec/features/invoicing/credit_note_listing_spec.rb","line_number":128,"run_time":1.018695705,"pending_message":null,"screenshot":null},{"id":"./spec/features/invoicing/credit_note_listing_spec.rb[1:3:2]","description":"A draft credit note does not affect the total due","full_description":"Listing credit notes When visiting /contacts/:contact_id/invoices A draft credit note does not affect the total due","status":"passed","file_path":"./spec/features/invoicing/credit_note_listing_spec.rb","line_number":144,"run_time":0.933557102,"pending_message":null,"screenshot":null},{"id":"./spec/features/invoicing/credit_note_listing_spec.rb[1:3:3]","description":"A sent credit note affects affect the total due","full_description":"Listing credit notes When visiting /contacts/:contact_id/invoices A sent credit note affects affect the total due","status":"passed","file_path":"./spec/features/invoicing/credit_note_listing_spec.rb","line_number":150,"run_time":1.029885954,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:1:1]","description":"renders the old_status_bar template","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is disabled renders the old_status_bar template","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":27,"run_time":0.105356488,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:1:1:1]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a draft state and the credit note has no line items is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":48,"run_time":0.105308227,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:1:1:2]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a draft state and the credit note has no line items is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":49,"run_time":0.092198992,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:1:1:3]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eRefunded\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a draft state and the credit note has no line items is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eRefunded\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":50,"run_time":0.100137722,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:1:2:1]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a draft state and the credit note has a positive total value is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":58,"run_time":0.120525757,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:1:2:2]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a draft state and the credit note has a positive total value is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":59,"run_time":0.104194895,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:1:2:3]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eRefunded\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a draft state and the credit note has a positive total value is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eRefunded\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":60,"run_time":0.122075879,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:1:3:1]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a draft state and the user is not permitted to manage credit notes and the credit note is sendable is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":70,"run_time":0.1411415,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:1:3:2]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a draft state and the user is not permitted to manage credit notes and the credit note is sendable is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":71,"run_time":0.120049366,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:1:3:3]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eRefunded\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a draft state and the user is not permitted to manage credit notes and the credit note is sendable is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eRefunded\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":72,"run_time":0.116596554,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:1:4:1]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a draft state and the credit note has a negative total value is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":80,"run_time":0.136805597,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:1:4:2]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click...e-link-on-click-target=\\\"disable\\\" data-method=\\\"put\\\" data-turbo=\\\"false\\\"\u003eMark as Sent\u003c/a\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a draft state and the credit note has a negative total value is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click...e-link-on-click-target=\\\"disable\\\" data-method=\\\"put\\\" data-turbo=\\\"false\\\"\u003eMark as Sent\u003c/a\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":81,"run_time":0.118091853,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:1:4:3]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eRefunded\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a draft state and the credit note has a negative total value is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eRefunded\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":91,"run_time":0.116787808,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:2:1:1]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003ca class=\\\"fe-Statu...ble-link-on-click-target=\\\"disable\\\" data-method=\\\"put\\\" data-turbo=\\\"false\\\"\u003eMake Draft\u003c/a\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a sent state and the credit note has no payments is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003ca class=\\\"fe-Statu...ble-link-on-click-target=\\\"disable\\\" data-method=\\\"put\\\" data-turbo=\\\"false\\\"\u003eMake Draft\u003c/a\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":101,"run_time":0.127505199,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:2:1:2]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a sent state and the credit note has no payments is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":110,"run_time":0.117303928,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:2:1:3]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eRefunded\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a sent state and the credit note has no payments is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eRefunded\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":111,"run_time":0.108359182,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:2:2:1]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a sent state and the user does not have permission to manage credit notes is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":120,"run_time":0.127648964,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:2:2:2]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a sent state and the user does not have permission to manage credit notes is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":121,"run_time":0.165002602,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:2:2:3]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eRefunded\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a sent state and the user does not have permission to manage credit notes is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eRefunded\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":122,"run_time":0.124324342,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:2:3:1]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a sent state and the credit note is part refunded is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":130,"run_time":0.468803911,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:2:3:2]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a sent state and the credit note is part refunded is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":131,"run_time":0.458720774,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:2:3:3]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eRefunded\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a sent state and the credit note is part refunded is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eRefunded\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":132,"run_time":0.419435839,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:3:1]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is refunded with a bank transaction is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":156,"run_time":0.422314196,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:3:2]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is refunded with a bank transaction is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":157,"run_time":0.430303281,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:3:3]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\...isable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eRefunded on 05 Apr 20\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is refunded with a bank transaction is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\...isable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eRefunded on 05 Apr 20\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":158,"run_time":0.424090993,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:4:1]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is fully applied against an invoice is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":195,"run_time":0.625130465,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:4:2]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is fully applied against an invoice is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":196,"run_time":1.00890705,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:4:3]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\...click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eApplied against invoice on 05 Mar 20\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is fully applied against an invoice is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\...click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eApplied against invoice on 05 Mar 20\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":197,"run_time":0.893064244,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:5:1]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is cancelled is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":211,"run_time":0.106262631,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:5:2]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is cancelled is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":212,"run_time":0.10823037,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:5:3]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\...on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eUnpaid - Written-off on 05 Mar 20\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is cancelled is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\...on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eUnpaid - Written-off on 05 Mar 20\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":213,"run_time":0.123117077,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:6:1]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is part-cancelled is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":254,"run_time":0.641887156,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:6:2]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is part-cancelled is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":255,"run_time":0.571355181,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:6:3]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\...n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003ePart Paid - -£199.00 written-off on 05 Mar 20\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is part-cancelled is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\...n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003ePart Paid - -£199.00 written-off on 05 Mar 20\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":256,"run_time":0.550711729,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:7:1:1]","description":"is expected not to include \"Actions\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled apply invoice action and there are no actions to display is expected not to include \"Actions\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":267,"run_time":0.099551079,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:7:2:1]","description":"is expected to include \"\u003ca title=\\\"Apply to invoice\\\" class=\\\"fe-ActionList-item\\\" tabindex=\\\"-1\\\" data-remote=\\\"true\\\" href=\\\"/invoices/42/credit_note_reconciliations/new\\\"\u003eApply to invoice\u003c/a\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled apply invoice action and the credit note can be reconciled with an invoice is expected to include \"\u003ca title=\\\"Apply to invoice\\\" class=\\\"fe-ActionList-item\\\" tabindex=\\\"-1\\\" data-remote=\\\"true\\\" href=\\\"/invoices/42/credit_note_reconciliations/new\\\"\u003eApply to invoice\u003c/a\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":285,"run_time":0.274334285,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:7:3:1]","description":"is expected not to include \"Apply to invoice\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled apply invoice action and credit_note_reconciliations feature switch is disabled is expected not to include \"Apply to invoice\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":313,"run_time":0.262091578,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:7:4:1]","description":"is expected not to include \"Apply to invoice\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled apply invoice action and the credit note is not sent is expected not to include \"Apply to invoice\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":331,"run_time":0.176927824,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:7:5:1]","description":"is expected not to include \"Apply to invoice\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled apply invoice action and the user cannot manage bank account entries is expected not to include \"Apply to invoice\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":350,"run_time":0.210988118,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:7:6:1]","description":"is expected not to include \"Apply to invoice\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled apply invoice action and the contact does not have any invoices in the same currency is expected not to include \"Apply to invoice\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":374,"run_time":0.237208281,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:8:1:1]","description":"is expected to include \"\u003ca data-turbo=\\\"false\\\" separator=\\\"true\\\" title=\\\"Add manual bank transaction\\\" class=\\\"fe-ActionLi...tionList-item--separator\\\" tabindex=\\\"-1\\\" href=\\\"/invoices/1/pay\\\"\u003eAdd manual bank transaction\u003c/a\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled add manual bank transaction action and the credit note is payable is expected to include \"\u003ca data-turbo=\\\"false\\\" separator=\\\"true\\\" title=\\\"Add manual bank transaction\\\" class=\\\"fe-ActionLi...tionList-item--separator\\\" tabindex=\\\"-1\\\" href=\\\"/invoices/1/pay\\\"\u003eAdd manual bank transaction\u003c/a\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":384,"run_time":0.127975411,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:8:2:1]","description":"is expected not to include \"Add manual bank transaction\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled add manual bank transaction action and the credit note is not payable is expected not to include \"Add manual bank transaction\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":403,"run_time":0.536909606,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:8:3:1]","description":"is expected not to include \"Add manual bank transaction\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled add manual bank transaction action and the user does not have permissions to create bank account entries is expected not to include \"Add manual bank transaction\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":412,"run_time":0.137151006,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:9:1:1]","description":"is expected to include \"\u003ca data-method=\\\"put\\\" data-turbo=\\\"false\\\" title=\\\"Reopen\\\" class=\\\"fe-ActionList-item\\\" tabindex=\\\"-1\\\" href=\\\"/invoices/1/status/mark_as_sent\\\"\u003eReopen\u003c/a\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when displaying reopen action and the credit note is reopenable is expected to include \"\u003ca data-method=\\\"put\\\" data-turbo=\\\"false\\\" title=\\\"Reopen\\\" class=\\\"fe-ActionList-item\\\" tabindex=\\\"-1\\\" href=\\\"/invoices/1/status/mark_as_sent\\\"\u003eReopen\u003c/a\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":422,"run_time":0.112085871,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:9:2:1]","description":"is expected not to include \"Reopen\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when displaying reopen action and the credit note is not reopenable is expected not to include \"Reopen\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":440,"run_time":0.093416986,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:9:3:1]","description":"is expected not to include \"Reopen\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when displaying reopen action and the user does not have permissions to manage credit notes is expected not to include \"Reopen\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":449,"run_time":0.121944764,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:1:1:1:1]","description":"is expected to be a multipart email","full_description":"ExportMailer company export completed email for a direct company requested by a user is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":14,"run_time":0.111116025,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:1:1:1:2]","description":"has FreeAgent header","full_description":"ExportMailer company export completed email for a direct company requested by a user has FreeAgent header","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":16,"run_time":0.095441714,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:1:1:1:3]","description":"is expected to have click tracking","full_description":"ExportMailer company export completed email for a direct company requested by a user is expected to have click tracking","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":28,"run_time":0.101970658,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:1:1:1:4:1]","description":"is expected to match /FreeAgent account data/","full_description":"ExportMailer company export completed email for a direct company requested by a user text part is expected to match /FreeAgent account data/","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":33,"run_time":0.09472977,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:1:1:1:4:2]","description":"is expected to match /Happy accounting!\\nTeam FreeAgent/","full_description":"ExportMailer company export completed email for a direct company requested by a user text part is expected to match /Happy accounting!\\nTeam FreeAgent/","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":34,"run_time":0.101119508,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:1:1:1:4:3]","description":"is expected to match /\\/exports\\/company/","full_description":"ExportMailer company export completed email for a direct company requested by a user text part is expected to match /\\/exports\\/company/","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":35,"run_time":0.097857741,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:1:1:1:4:4]","description":"is expected to match \"Export Data section\"","full_description":"ExportMailer company export completed email for a direct company requested by a user text part is expected to match \"Export Data section\"","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":36,"run_time":0.100919497,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:1:1:1:5:1]","description":"is expected to match /FreeAgent account data/","full_description":"ExportMailer company export completed email for a direct company requested by a user html part is expected to match /FreeAgent account data/","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":42,"run_time":0.10563621,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:1:1:1:5:2]","description":"is expected to match /Happy accounting!\u003cbr\u003e\\s+Team FreeAgent/","full_description":"ExportMailer company export completed email for a direct company requested by a user html part is expected to match /Happy accounting!\u003cbr\u003e\\s+Team FreeAgent/","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":43,"run_time":0.092947472,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:1:1:1:5:3]","description":"is expected to match /\\/exports\\/company/","full_description":"ExportMailer company export completed email for a direct company requested by a user html part is expected to match /\\/exports\\/company/","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":44,"run_time":0.09646779,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:1:1:1:5:4]","description":"is expected to match \"Export Data section\"","full_description":"ExportMailer company export completed email for a direct company requested by a user html part is expected to match \"Export Data section\"","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":45,"run_time":0.109504539,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:1:2:1:1]","description":"is expected not to be a multipart email","full_description":"ExportMailer company export completed email for a whitelabelled company requested by a user is expected not to be a multipart email","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":61,"run_time":0.177257689,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:1:2:1:2:1]","description":"is expected not to match /freeagent/i","full_description":"ExportMailer company export completed email for a whitelabelled company requested by a user text part is expected not to match /freeagent/i","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":66,"run_time":0.182711712,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:1:2:1:2:2]","description":"is expected to include \"Open Accounting\"","full_description":"ExportMailer company export completed email for a whitelabelled company requested by a user text part is expected to include \"Open Accounting\"","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":67,"run_time":0.166805754,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:1:2:2:1]","description":"is expected not to be a multipart email","full_description":"ExportMailer company export completed email for a whitelabelled company requested by an account manager is expected not to be a multipart email","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":81,"run_time":0.16897598,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:1:2:2:2:1]","description":"is expected not to match /freeagent/i","full_description":"ExportMailer company export completed email for a whitelabelled company requested by an account manager text part is expected not to match /freeagent/i","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":86,"run_time":0.186074994,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:1:2:2:2:2]","description":"is expected to include \"Open Accounting\"","full_description":"ExportMailer company export completed email for a whitelabelled company requested by an account manager text part is expected to include \"Open Accounting\"","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":87,"run_time":0.190588581,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:2:3]","description":"handles the requester not being found","full_description":"ExportMailer attachment export completed email handles the requester not being found","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":192,"run_time":0.095830694,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:2:4]","description":"handles the company not being found","full_description":"ExportMailer attachment export completed email handles the company not being found","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":197,"run_time":0.082824896,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:2:1:1:1]","description":"is expected to be a multipart email","full_description":"ExportMailer attachment export completed email for a direct company requested by a user is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":118,"run_time":0.081523036,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:2:1:1:2]","description":"has FreeAgent header","full_description":"ExportMailer attachment export completed email for a direct company requested by a user has FreeAgent header","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":120,"run_time":0.083308798,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:2:1:1:3]","description":"is expected to have click tracking","full_description":"ExportMailer attachment export completed email for a direct company requested by a user is expected to have click tracking","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":131,"run_time":0.080702953,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:2:1:1:4:1]","description":"is expected to match /Happy accounting!\\nTeam FreeAgent/","full_description":"ExportMailer attachment export completed email for a direct company requested by a user text part is expected to match /Happy accounting!\\nTeam FreeAgent/","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":136,"run_time":0.088292274,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:2:1:1:4:2]","description":"is expected to include \"/exports/13\"","full_description":"ExportMailer attachment export completed email for a direct company requested by a user text part is expected to include \"/exports/13\"","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":137,"run_time":0.086384443,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:2:1:1:4:3]","description":"is expected to include \"/exports/16\"","full_description":"ExportMailer attachment export completed email for a direct company requested by a user text part is expected to include \"/exports/16\"","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":138,"run_time":0.080015746,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:2:1:1:4:4]","description":"is expected to include \"files and attachments from FreeAgent\"","full_description":"ExportMailer attachment export completed email for a direct company requested by a user text part is expected to include \"files and attachments from FreeAgent\"","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":139,"run_time":0.084599047,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:2:1:1:5:1]","description":"is expected to match /Happy accounting!\u003cbr\u003e\\s+Team FreeAgent/","full_description":"ExportMailer attachment export completed email for a direct company requested by a user html part is expected to match /Happy accounting!\u003cbr\u003e\\s+Team FreeAgent/","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":145,"run_time":0.089229191,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:2:1:1:5:2]","description":"is expected to include \"/exports/21\"","full_description":"ExportMailer attachment export completed email for a direct company requested by a user html part is expected to include \"/exports/21\"","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":146,"run_time":0.150715717,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:2:1:1:5:3]","description":"is expected to include \"/exports/24\"","full_description":"ExportMailer attachment export completed email for a direct company requested by a user html part is expected to include \"/exports/24\"","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":147,"run_time":0.095443624,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:2:1:1:5:4]","description":"is expected to include \"files and attachments from FreeAgent\"","full_description":"ExportMailer attachment export completed email for a direct company requested by a user html part is expected to include \"files and attachments from FreeAgent\"","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":148,"run_time":0.094435445,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:2:2:1:1:1]","description":"is expected not to be a multipart email","full_description":"ExportMailer attachment export completed email for a whitelabelled company requested by a user behaves like an attachment export email for a whitelabelled company is expected not to be a multipart email","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":162,"run_time":0.287124384,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:2:2:1:1:2:1]","description":"is expected not to match /freeagent/i","full_description":"ExportMailer attachment export completed email for a whitelabelled company requested by a user behaves like an attachment export email for a whitelabelled company text part is expected not to match /freeagent/i","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":167,"run_time":0.278180797,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:2:2:1:1:2:2]","description":"is expected to include \"Open Accounting\"","full_description":"ExportMailer attachment export completed email for a whitelabelled company requested by a user behaves like an attachment export email for a whitelabelled company text part is expected to include \"Open Accounting\"","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":168,"run_time":0.268278645,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:2:2:2:1:1]","description":"is expected not to be a multipart email","full_description":"ExportMailer attachment export completed email for a whitelabelled company requested by an account manager behaves like an attachment export email for a whitelabelled company is expected not to be a multipart email","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":162,"run_time":0.252383579,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:2:2:2:1:2:1]","description":"is expected not to match /freeagent/i","full_description":"ExportMailer attachment export completed email for a whitelabelled company requested by an account manager behaves like an attachment export email for a whitelabelled company text part is expected not to match /freeagent/i","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":167,"run_time":0.283838308,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/export_mailer_spec.rb[1:2:2:2:1:2:2]","description":"is expected to include \"Open Accounting\"","full_description":"ExportMailer attachment export completed email for a whitelabelled company requested by an account manager behaves like an attachment export email for a whitelabelled company text part is expected to include \"Open Accounting\"","status":"passed","file_path":"./spec/mailers/export_mailer_spec.rb","line_number":168,"run_time":0.294909012,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:1]","description":"notifies the error service when an invalid request ID is passed in","full_description":"InvitationMailer notifies the error service when an invalid request ID is passed in","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":6,"run_time":0.015131497,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:2:1]","description":"falls back on FreeAgent's support email for direct users","full_description":"InvitationMailer When no sending user email is provided falls back on FreeAgent's support email for direct users","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":14,"run_time":0.060946129,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:2:2]","description":"falls back on support email for a whitelabelled practice","full_description":"InvitationMailer When no sending user email is provided falls back on support email for a whitelabelled practice","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":24,"run_time":0.245055729,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:3:1]","description":"falls back on FreeAgent's support email for direct users","full_description":"InvitationMailer When the sending user email is nil falls back on FreeAgent's support email for direct users","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":38,"run_time":0.056154118,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:3:2]","description":"falls back on support email for a whitelabelled practice","full_description":"InvitationMailer When the sending user email is nil falls back on support email for a whitelabelled practice","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":49,"run_time":0.243296206,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:4:1]","description":"renders the text part correctly","full_description":"InvitationMailer When the invitation message is nil renders the text part correctly","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":72,"run_time":0.045031122,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:4:2]","description":"renders the html part correctly","full_description":"InvitationMailer When the invitation message is nil renders the html part correctly","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":76,"run_time":0.050611692,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:5:1]","description":"has the invitation header","full_description":"InvitationMailer Direct user's invitation mail has the invitation header","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":96,"run_time":0.044788637,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:5:2]","description":"is expected not to have click tracking","full_description":"InvitationMailer Direct user's invitation mail is expected not to have click tracking","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":107,"run_time":0.037761332,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:5:3]","description":"is expected to be a multipart email","full_description":"InvitationMailer Direct user's invitation mail is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":109,"run_time":0.044125347,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:5:4]","description":"has the header","full_description":"InvitationMailer Direct user's invitation mail has the header","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":111,"run_time":0.045989413,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:5:5]","description":"has the text part","full_description":"InvitationMailer Direct user's invitation mail has the text part","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":115,"run_time":0.048817761,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:5:6]","description":"contains the text part content with message","full_description":"InvitationMailer Direct user's invitation mail contains the text part content with message","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":119,"run_time":0.048801326,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:5:7]","description":"includes the email verification code in the url","full_description":"InvitationMailer Direct user's invitation mail includes the email verification code in the url","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":124,"run_time":0.049700119,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:5:8]","description":"has the html part","full_description":"InvitationMailer Direct user's invitation mail has the html part","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":129,"run_time":0.052389065,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:5:9]","description":"contains the html part content with message","full_description":"InvitationMailer Direct user's invitation mail contains the html part content with message","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":133,"run_time":0.050240513,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:5:10]","description":"does not contain the Accountant invite message","full_description":"InvitationMailer Direct user's invitation mail does not contain the Accountant invite message","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":138,"run_time":0.046206526,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:6:1]","description":"has the accountant invite message","full_description":"InvitationMailer Direct company invitation to an Accountant user has the accountant invite message","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":157,"run_time":0.057237165,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:7:1]","description":"does not have the accountant invite message","full_description":"InvitationMailer Invitation to an Account Manager does not have the accountant invite message","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":178,"run_time":0.076017082,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:7:2]","description":"includes a link to set their password","full_description":"InvitationMailer Invitation to an Account Manager includes a link to set their password","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":185,"run_time":0.0640069,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:7:3:1]","description":"includes a link to the login page","full_description":"InvitationMailer Invitation to an Account Manager when the accountancy practice requires login with SSO includes a link to the login page","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":195,"run_time":0.064701256,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:8:1]","description":"does not have the accountant invite message","full_description":"InvitationMailer Non-direct company invitation to an Accountant user does not have the accountant invite message","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":212,"run_time":0.187924658,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:9:1]","description":"does not escape the plaintext invitation message","full_description":"InvitationMailer A user invitation with html entities in the invitation message does not escape the plaintext invitation message","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":228,"run_time":0.051501265,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:10:1]","description":"has the accountancy practice invitation header","full_description":"InvitationMailer Accountancy practice's invitation email has the accountancy practice invitation header","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":248,"run_time":0.265163818,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:10:2]","description":"is expected not to have click tracking","full_description":"InvitationMailer Accountancy practice's invitation email is expected not to have click tracking","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":259,"run_time":0.242778189,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:10:3]","description":"is expected to be a multipart email","full_description":"InvitationMailer Accountancy practice's invitation email is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":261,"run_time":0.236425916,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:10:4]","description":"has the header","full_description":"InvitationMailer Accountancy practice's invitation email has the header","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":263,"run_time":0.259143732,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:10:5]","description":"has the text part","full_description":"InvitationMailer Accountancy practice's invitation email has the text part","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":267,"run_time":0.202692618,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:10:6]","description":"contains the text part content with message","full_description":"InvitationMailer Accountancy practice's invitation email contains the text part content with message","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":271,"run_time":0.275501688,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:10:7]","description":"has the html part","full_description":"InvitationMailer Accountancy practice's invitation email has the html part","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":276,"run_time":0.253223231,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:10:8]","description":"contains the html part content with message","full_description":"InvitationMailer Accountancy practice's invitation email contains the html part content with message","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":280,"run_time":0.265933291,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:11:1]","description":"has the mbw invitation header","full_description":"InvitationMailer MyBusinessWorks invitation email has the mbw invitation header","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":300,"run_time":0.035149422,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:11:2]","description":"is expected not to have click tracking","full_description":"InvitationMailer MyBusinessWorks invitation email is expected not to have click tracking","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":311,"run_time":0.028686495,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:11:3]","description":"is expected to be a multipart email","full_description":"InvitationMailer MyBusinessWorks invitation email is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":313,"run_time":0.028092334,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:11:4]","description":"has the header","full_description":"InvitationMailer MyBusinessWorks invitation email has the header","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":315,"run_time":0.023728891,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:11:5]","description":"has the text part","full_description":"InvitationMailer MyBusinessWorks invitation email has the text part","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":319,"run_time":0.022776721,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:11:6]","description":"contains the text part content with message","full_description":"InvitationMailer MyBusinessWorks invitation email contains the text part content with message","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":323,"run_time":0.031322378,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:11:7]","description":"has the html part","full_description":"InvitationMailer MyBusinessWorks invitation email has the html part","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":328,"run_time":0.031916571,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:11:8]","description":"contains the html part content with message","full_description":"InvitationMailer MyBusinessWorks invitation email contains the html part content with message","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":332,"run_time":0.02953727,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:11:9]","description":"contains the html part content","full_description":"InvitationMailer MyBusinessWorks invitation email contains the html part content","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":336,"run_time":0.029134912,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:12:1]","description":"has the whitelabelled invitation header","full_description":"InvitationMailer Whitelabelled accountancy practice invitation mail has the whitelabelled invitation header","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":356,"run_time":0.224544556,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:12:2]","description":"is expected not to be a multipart email","full_description":"InvitationMailer Whitelabelled accountancy practice invitation mail is expected not to be a multipart email","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":367,"run_time":0.241566671,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:12:3]","description":"has the header","full_description":"InvitationMailer Whitelabelled accountancy practice invitation mail has the header","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":369,"run_time":0.226975224,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:12:4]","description":"has the body with message","full_description":"InvitationMailer Whitelabelled accountancy practice invitation mail has the body with message","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":373,"run_time":0.197938675,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:12:5]","description":"does not have the html part","full_description":"InvitationMailer Whitelabelled accountancy practice invitation mail does not have the html part","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":377,"run_time":0.226033565,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/invitation_mailer_spec.rb[1:12:6]","description":"does not mention FreeAgent","full_description":"InvitationMailer Whitelabelled accountancy practice invitation mail does not mention FreeAgent","status":"passed","file_path":"./spec/mailers/invitation_mailer_spec.rb","line_number":381,"run_time":0.234142748,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:1:1]","description":"is expected to be a multipart email","full_description":"Payit::PaymentRejectionMailer#send with a non whitelabelled company is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":25,"run_time":0.25267778,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:1:2]","description":"is expected to eql \"uklimitedcompany@example.com\"","full_description":"Payit::PaymentRejectionMailer#send with a non whitelabelled company is expected to eql \"uklimitedcompany@example.com\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":27,"run_time":0.206877984,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:1:3]","description":"is expected to eql \"support@freeagent.com\"","full_description":"Payit::PaymentRejectionMailer#send with a non whitelabelled company is expected to eql \"support@freeagent.com\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":29,"run_time":0.236196804,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:1:4]","description":"is expected to eql \"Notice: your bill payment was unsuccessful\"","full_description":"Payit::PaymentRejectionMailer#send with a non whitelabelled company is expected to eql \"Notice: your bill payment was unsuccessful\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":31,"run_time":0.235683861,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:1:5]","description":"is expected to eql \"support@freeagent.com\"","full_description":"Payit::PaymentRejectionMailer#send with a non whitelabelled company is expected to eql \"support@freeagent.com\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":33,"run_time":0.219116851,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:1:6]","description":"is expected to eql \"bounces@freeagent.com\"","full_description":"Payit::PaymentRejectionMailer#send with a non whitelabelled company is expected to eql \"bounces@freeagent.com\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":34,"run_time":0.213928302,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:1:7:1]","description":"is expected to match \"Hi Ed,\"","full_description":"Payit::PaymentRejectionMailer#send with a non whitelabelled company with text format is expected to match \"Hi Ed,\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":39,"run_time":0.201070538,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:1:7:2]","description":"is expected to match \"bill REF001 on 20 April 2020 10:04 was unsuccessful.\"","full_description":"Payit::PaymentRejectionMailer#send with a non whitelabelled company with text format is expected to match \"bill REF001 on 20 April 2020 10:04 was unsuccessful.\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":40,"run_time":0.197499931,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:1:8:1]","description":"is expected to have text \"Hi Ed,\"","full_description":"Payit::PaymentRejectionMailer#send with a non whitelabelled company with html format is expected to have text \"Hi Ed,\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":48,"run_time":0.215546392,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:1:8:2]","description":"is expected to have text \"bill REF001 on 20 April 2020 10:04 was unsuccessful.\"","full_description":"Payit::PaymentRejectionMailer#send with a non whitelabelled company with html format is expected to have text \"bill REF001 on 20 April 2020 10:04 was unsuccessful.\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":49,"run_time":0.218257444,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:1:8:3]","description":"is expected to have visible link \"log in to your FreeAgent account\" with href \"http://uklimitedcompany.fac-test.host/bills/22\"","full_description":"Payit::PaymentRejectionMailer#send with a non whitelabelled company with html format is expected to have visible link \"log in to your FreeAgent account\" with href \"http://uklimitedcompany.fac-test.host/bills/22\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":50,"run_time":0.205431012,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:2:1]","description":"is expected not to be a multipart email","full_description":"Payit::PaymentRejectionMailer#send with a whitelabelled company is expected not to be a multipart email","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":76,"run_time":0.296402163,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:2:2]","description":"is expected to eql \"user_8@example.com\"","full_description":"Payit::PaymentRejectionMailer#send with a whitelabelled company is expected to eql \"user_8@example.com\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":78,"run_time":0.261163542,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:2:3]","description":"is expected to eql \"support@\"","full_description":"Payit::PaymentRejectionMailer#send with a whitelabelled company is expected to eql \"support@\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":80,"run_time":0.291014635,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:2:4]","description":"is expected to eql \"Notice: your bill payment was unsuccessful\"","full_description":"Payit::PaymentRejectionMailer#send with a whitelabelled company is expected to eql \"Notice: your bill payment was unsuccessful\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":82,"run_time":0.28097296,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:2:5]","description":"is expected to match \"Hi Ed,\"","full_description":"Payit::PaymentRejectionMailer#send with a whitelabelled company is expected to match \"Hi Ed,\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":84,"run_time":0.308016944,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:2:6]","description":"is expected to match \"bill REF001 on 20 April 2020 10:04 was unsuccessful.\"","full_description":"Payit::PaymentRejectionMailer#send with a whitelabelled company is expected to match \"bill REF001 on 20 April 2020 10:04 was unsuccessful.\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":85,"run_time":0.302843152,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:2:7]","description":"is expected to eql \"support@\"","full_description":"Payit::PaymentRejectionMailer#send with a whitelabelled company is expected to eql \"support@\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":87,"run_time":0.302178562,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:2:8]","description":"is expected to eql \"support@\"","full_description":"Payit::PaymentRejectionMailer#send with a whitelabelled company is expected to eql \"support@\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":88,"run_time":0.272536159,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:1:1:1:1]","description":"is expected to equal false","full_description":"ChatHelper#zendesk_widget_enabled? when feature switch is enabled and using a mobile device is expected to equal false","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":34,"run_time":0.096983676,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:1:1:2:1]","description":"is expected to equal false","full_description":"ChatHelper#zendesk_widget_enabled? when feature switch is enabled and using a tablet device is expected to equal false","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":39,"run_time":0.087217651,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:1:1:3:1]","description":"is expected to equal true","full_description":"ChatHelper#zendesk_widget_enabled? when feature switch is enabled when no user is logged in is expected to equal true","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":44,"run_time":0.093131588,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:1:1:4:1]","description":"is expected to equal true","full_description":"ChatHelper#zendesk_widget_enabled? when feature switch is enabled for no company is expected to equal true","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":50,"run_time":0.026842235,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:1:1:5:1]","description":"is expected to equal true","full_description":"ChatHelper#zendesk_widget_enabled? when feature switch is enabled for a non-practice-managed company is expected to equal true","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":54,"run_time":0.09344297,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:1:1:6:1:1]","description":"is expected to equal true","full_description":"ChatHelper#zendesk_widget_enabled? when feature switch is enabled for linked company when logged in as a user is expected to equal true","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":61,"run_time":0.150446294,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:1:1:6:2:1]","description":"is expected to equal true","full_description":"ChatHelper#zendesk_widget_enabled? when feature switch is enabled for linked company when logged in as an account manager is expected to equal true","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":66,"run_time":0.14855756,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:1:1:7:1:1]","description":"is expected to equal false","full_description":"ChatHelper#zendesk_widget_enabled? when feature switch is enabled for a practice managed company when logged in as a user is expected to equal false","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":75,"run_time":0.191463437,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:1:1:7:2:1]","description":"is expected to equal true","full_description":"ChatHelper#zendesk_widget_enabled? when feature switch is enabled for a practice managed company when logged in as an account manager is expected to equal true","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":80,"run_time":0.152710245,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:1:1:7:2:2:1]","description":"is expected to equal false","full_description":"ChatHelper#zendesk_widget_enabled? when feature switch is enabled for a practice managed company when logged in as an account manager when the switch is disabled is expected to equal false","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":84,"run_time":0.142679466,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:1:2:1]","description":"is expected to equal false","full_description":"ChatHelper#zendesk_widget_enabled? when feature switch is disabled is expected to equal false","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":92,"run_time":0.102940027,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:2:1:1:1]","description":"returns false","full_description":"ChatHelper zendesk_widget_enabled_for_practice? when the zendesk_widget feature is enabled when using a phone returns false","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":105,"run_time":0.046455841,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:2:1:2:1]","description":"returns false","full_description":"ChatHelper zendesk_widget_enabled_for_practice? when the zendesk_widget feature is enabled when using a tablet returns false","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":113,"run_time":0.049265082,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:2:1:3:1]","description":"returns true","full_description":"ChatHelper zendesk_widget_enabled_for_practice? when the zendesk_widget feature is enabled when the zendesk_widget_practice_managed feature is enabled returns true","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":119,"run_time":0.04725271,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:2:1:4:1]","description":"returns false","full_description":"ChatHelper zendesk_widget_enabled_for_practice? when the zendesk_widget feature is enabled when the zendesk_widget_practice_managed feature is disabled returns false","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":127,"run_time":0.05598498,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:2:1:5:1]","description":"returns false","full_description":"ChatHelper zendesk_widget_enabled_for_practice? when the zendesk_widget feature is enabled when there is no accountancy practice returns false","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":135,"run_time":0.015612424,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:2:2:1]","description":"returns false","full_description":"ChatHelper zendesk_widget_enabled_for_practice? when the zendesk_widget feature is disabled returns false","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":144,"run_time":0.051351427,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:3:1:1:1]","description":"renders with the current user's email address","full_description":"ChatHelper#zendesk_widget_button when the widget is enabled when turbo is enabled renders with the current user's email address","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":163,"run_time":0.147391365,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:3:1:1:2:1]","description":"renders with the correct departments","full_description":"ChatHelper#zendesk_widget_button when the widget is enabled when turbo is enabled when the current user is not an account manager renders with the correct departments","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":169,"run_time":0.117302014,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:3:1:1:3:1]","description":"renders with the correct departments","full_description":"ChatHelper#zendesk_widget_button when the widget is enabled when turbo is enabled when the current user is an account manager renders with the correct departments","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":178,"run_time":0.169168348,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:3:1:1:4:1]","description":"renders with no user information","full_description":"ChatHelper#zendesk_widget_button when the widget is enabled when turbo is enabled and no user is logged in renders with no user information","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":186,"run_time":0.116885915,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:3:1:1:5:1]","description":"renders the button label with the custom text","full_description":"ChatHelper#zendesk_widget_button when the widget is enabled when turbo is enabled when custom label_text is provided renders the button label with the custom text","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":194,"run_time":0.143433995,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:3:1:1:6:1]","description":"renders the button label with the default 'Help'","full_description":"ChatHelper#zendesk_widget_button when the widget is enabled when turbo is enabled when no custom label_text is provided renders the button label with the default 'Help'","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":200,"run_time":0.12371609,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:3:1:2:1]","description":"is expected to equal nil","full_description":"ChatHelper#zendesk_widget_button when the widget is enabled when turbo is disabled is expected to equal nil","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":208,"run_time":0.109811049,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:3:2:1:1]","description":"is expected to equal nil","full_description":"ChatHelper#zendesk_widget_button when the widget is disabled when turbo is enabled is expected to equal nil","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":220,"run_time":0.103451181,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:3:2:2:1]","description":"is expected to equal nil","full_description":"ChatHelper#zendesk_widget_button when the widget is disabled when turbo is disabled is expected to equal nil","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":225,"run_time":0.105176956,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:4:1:1]","description":"returns the zendesk web widget button html when turbo is enabled","full_description":"ChatHelper#practice_dashboard_zendesk_widget_button when the zendesk_widget_practice_dashboard feature is enabled returns the zendesk web widget button html when turbo is enabled","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":238,"run_time":0.063199779,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:4:1:2]","description":"returns the correct departments for an account manager","full_description":"ChatHelper#practice_dashboard_zendesk_widget_button when the zendesk_widget_practice_dashboard feature is enabled returns the correct departments for an account manager","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":245,"run_time":0.060240629,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:4:1:3]","description":"returns nil when turbo is disabled","full_description":"ChatHelper#practice_dashboard_zendesk_widget_button when the zendesk_widget_practice_dashboard feature is enabled returns nil when turbo is disabled","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":251,"run_time":0.061537496,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:4:1:4:1]","description":"returns nil","full_description":"ChatHelper#practice_dashboard_zendesk_widget_button when the zendesk_widget_practice_dashboard feature is enabled when web widget is not enabled for the practice returns nil","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":263,"run_time":0.057767015,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:4:2:1]","description":"returns nil when turbo is disabled","full_description":"ChatHelper#practice_dashboard_zendesk_widget_button when the zendesk_widget_practice_dashboard feature is disabled returns nil when turbo is disabled","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":272,"run_time":0.019434407,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:4:2:2]","description":"returns nil when turbo is enabled","full_description":"ChatHelper#practice_dashboard_zendesk_widget_button when the zendesk_widget_practice_dashboard feature is disabled returns nil when turbo is enabled","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":278,"run_time":0.017038879,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:5:1:1:1]","description":"is expected to equal nil","full_description":"ChatHelper#zendesk_widget_script when the widget is enabled when turbo is enabled is expected to equal nil","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":301,"run_time":0.11579085,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:5:1:2:1]","description":"renders with the current user's email address","full_description":"ChatHelper#zendesk_widget_script when the widget is enabled when turbo is disabled renders with the current user's email address","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":306,"run_time":0.165087702,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:5:1:2:2:1]","description":"renders with the correct departments","full_description":"ChatHelper#zendesk_widget_script when the widget is enabled when turbo is disabled when the current user is not an account manager renders with the correct departments","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":312,"run_time":0.326080577,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:5:1:2:3:1]","description":"renders with the correct departments","full_description":"ChatHelper#zendesk_widget_script when the widget is enabled when turbo is disabled when the current user is an account manager renders with the correct departments","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":321,"run_time":0.421216193,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:5:1:2:4:1]","description":"renders with no user information","full_description":"ChatHelper#zendesk_widget_script when the widget is enabled when turbo is disabled and no user is logged in renders with no user information","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":328,"run_time":0.295098849,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:5:2:1:1]","description":"is expected to equal nil","full_description":"ChatHelper#zendesk_widget_script when the widget is disabled when turbo is enabled is expected to equal nil","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":343,"run_time":0.108525667,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:5:2:2:1]","description":"is expected to equal nil","full_description":"ChatHelper#zendesk_widget_script when the widget is disabled when turbo is disabled is expected to equal nil","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":348,"run_time":0.108580979,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:6:1:1]","description":"returns the web widget script when turbo is disabled","full_description":"ChatHelper#practice_dashboard_zendesk_widget_script when the zendesk_widget_practice_dashboard feature is enabled returns the web widget script when turbo is disabled","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":363,"run_time":0.064308819,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:6:1:2]","description":"returns the correct departments for an account manager","full_description":"ChatHelper#practice_dashboard_zendesk_widget_script when the zendesk_widget_practice_dashboard feature is enabled returns the correct departments for an account manager","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":370,"run_time":0.058766192,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:6:1:3]","description":"returns nil when turbo is enabled","full_description":"ChatHelper#practice_dashboard_zendesk_widget_script when the zendesk_widget_practice_dashboard feature is enabled returns nil when turbo is enabled","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":376,"run_time":0.062756941,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:6:1:4:1]","description":"returns nil","full_description":"ChatHelper#practice_dashboard_zendesk_widget_script when the zendesk_widget_practice_dashboard feature is enabled when web widget is not enabled for the practice returns nil","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":388,"run_time":0.060547234,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:6:2:1]","description":"returns nil when turbo is disabled","full_description":"ChatHelper#practice_dashboard_zendesk_widget_script when the zendesk_widget_practice_dashboard feature is disabled returns nil when turbo is disabled","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":397,"run_time":0.021147859,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:6:2:2]","description":"returns nil when turbo is enabled","full_description":"ChatHelper#practice_dashboard_zendesk_widget_script when the zendesk_widget_practice_dashboard feature is disabled returns nil when turbo is enabled","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":403,"run_time":0.018829075,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:7:1:1]","description":"is expected to equal false","full_description":"ChatHelper#suppress_zendesk_chat? when no user is logged in is expected to equal false","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":416,"run_time":0.100430518,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:7:2:1]","description":"is expected to equal false","full_description":"ChatHelper#suppress_zendesk_chat? for no company is expected to equal false","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":422,"run_time":0.021980364,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:7:3:1]","description":"is expected to equal true","full_description":"ChatHelper#suppress_zendesk_chat? company has supress chat feature is expected to equal true","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":429,"run_time":0.132626813,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:8:1:1]","description":"returns the departments which are enabled for a user","full_description":"ChatHelper#enabled_departments_for_user when the user is not an account manager returns the departments which are enabled for a user","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":437,"run_time":0.026040345,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/chat_helper_spec.rb[1:8:2:1]","description":"returns the departments which are enabled for n account owner","full_description":"ChatHelper#enabled_departments_for_user when the user is an account manager returns the departments which are enabled for n account owner","status":"passed","file_path":"./spec/helpers/chat_helper_spec.rb","line_number":446,"run_time":0.053107988,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:1:1]","description":"is expected to respond with a success status code (2xx)","full_description":"Admin::RefundsController#new is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":14,"run_time":0.156119594,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:2:1:1]","description":"is expected to respond with a success status code (2xx)","full_description":"Admin::RefundsController#create with valid parameters is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":34,"run_time":0.149197557,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:2:1:2]","description":"is expected to redirect to \"/admin/companies/895398298\"","full_description":"Admin::RefundsController#create with valid parameters is expected to redirect to \"/admin/companies/895398298\"","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":35,"run_time":0.114932732,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:2:1:3]","description":"creates a refund successfully","full_description":"Admin::RefundsController#create with valid parameters creates a refund successfully","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":37,"run_time":0.13872604,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:2:2:1]","description":"doesn't create a refund","full_description":"Admin::RefundsController#create with invalid parameters doesn't create a refund","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":46,"run_time":0.144216745,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:2:3:3]","description":"rescues from error correctly for an invalid billing profile","full_description":"Admin::RefundsController#create for a direct company with a cancelled yearly subscription rescues from error correctly for an invalid billing profile","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":158,"run_time":0.129598486,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:2:3:1:1:1:1]","description":"updates the next_payment_date to the cancelled_at date","full_description":"Admin::RefundsController#create for a direct company with a cancelled yearly subscription given a full refund with a cancelled_at date before the partial refund window behaves like fully refunded subscription updates the next_payment_date to the cancelled_at date","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":75,"run_time":0.148234027,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:2:3:1:2:1:1]","description":"updates the next_payment_date to the cancelled_at date","full_description":"Admin::RefundsController#create for a direct company with a cancelled yearly subscription given a full refund with a cancelled_at date within the partial refund window behaves like fully refunded subscription updates the next_payment_date to the cancelled_at date","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":75,"run_time":0.144573225,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:2:3:1:3:1:1]","description":"updates the next_payment_date to the cancelled_at date","full_description":"Admin::RefundsController#create for a direct company with a cancelled yearly subscription given a full refund with a cancelled_at date after the partial refund window behaves like fully refunded subscription updates the next_payment_date to the cancelled_at date","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":75,"run_time":0.13511445,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:2:3:2:1:1]","description":"updates the next_payment_date to be the last subs date plus 1 month","full_description":"Admin::RefundsController#create for a direct company with a cancelled yearly subscription for a partial refund in the partial refund window where the total refunded value is less than the subscription invoices value updates the next_payment_date to be the last subs date plus 1 month","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":116,"run_time":0.11796744,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:2:3:2:2:1]","description":"updates the next_payment_date to the cancelled_at date","full_description":"Admin::RefundsController#create for a direct company with a cancelled yearly subscription for a partial refund in the partial refund window where the total refunded value becomes equal to the subscription invoices value updates the next_payment_date to the cancelled_at date","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":140,"run_time":0.207218508,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:2:4:1]","description":"creates a refund successfully","full_description":"Admin::RefundsController#create for an active RBSG company that has at least one previous subscription invoice creates a refund successfully","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":185,"run_time":0.192104747,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:2:5:1]","description":"creates a refund successfully","full_description":"Admin::RefundsController#create for a cancelled RBSG company that has at least one previous subscription invoice creates a refund successfully","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":212,"run_time":0.157420086,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:2:6:1:1]","description":"redirects to the company subscription tab","full_description":"Admin::RefundsController#create when the admin user has the new_sudo_company_show_page feature when creating a valid refund redirects to the company subscription tab","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":240,"run_time":0.148527463,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:2:6:2:1]","description":"redirects to the company subscription tab","full_description":"Admin::RefundsController#create when the admin user has the new_sudo_company_show_page feature when creating an invalid refund redirects to the company subscription tab","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":256,"run_time":0.164840058,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:3:1:1]","description":"returns successful status","full_description":"Admin::RefundsController#destroy with existing refund returns successful status","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":287,"run_time":0.149124094,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:3:1:2]","description":"destroys the refund","full_description":"Admin::RefundsController#destroy with existing refund destroys the refund","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":293,"run_time":0.132787119,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:3:2:1]","description":"redirects to company page and displays error message","full_description":"Admin::RefundsController#destroy with id of non-refund subscription payment redirects to company page and displays error message","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":303,"run_time":0.113432917,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:3:2:2]","description":"does not destroy the refund","full_description":"Admin::RefundsController#destroy with id of non-refund subscription payment does not destroy the refund","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":308,"run_time":0.106091229,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:3:3:1]","description":"returns a not found status","full_description":"Admin::RefundsController#destroy with a non-existent id returns a not found status","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":318,"run_time":0.104969469,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:3:4:1:1]","description":"redirects to the company subscription tab","full_description":"Admin::RefundsController#destroy when the admin user has the new_sudo_company_show_page feature with existing refund redirects to the company subscription tab","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":335,"run_time":0.146722719,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:3:4:2:1]","description":"redirects to the company subscription tab","full_description":"Admin::RefundsController#destroy when the admin user has the new_sudo_company_show_page feature with id of non-refund subscription payment redirects to the company subscription tab","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":347,"run_time":0.11769528,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/billing/duplicator_spec.rb[1:1:1]","description":"has the correct date","full_description":"Billing::Duplicator with a single bill item has the correct date","status":"passed","file_path":"./spec/freeagent/billing/duplicator_spec.rb","line_number":41,"run_time":0.155559334,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/billing/duplicator_spec.rb[1:1:2]","description":"increments the reference","full_description":"Billing::Duplicator with a single bill item increments the reference","status":"passed","file_path":"./spec/freeagent/billing/duplicator_spec.rb","line_number":45,"run_time":0.1162136,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/billing/duplicator_spec.rb[1:1:3]","description":"has the correct terms","full_description":"Billing::Duplicator with a single bill item has the correct terms","status":"passed","file_path":"./spec/freeagent/billing/duplicator_spec.rb","line_number":49,"run_time":0.112289305,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/billing/duplicator_spec.rb[1:1:4]","description":"resets the cached paid value","full_description":"Billing::Duplicator with a single bill item resets the cached paid value","status":"passed","file_path":"./spec/freeagent/billing/duplicator_spec.rb","line_number":53,"run_time":0.117552463,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/billing/duplicator_spec.rb[1:1:5]","description":"resets the bill items count","full_description":"Billing::Duplicator with a single bill item resets the bill items count","status":"passed","file_path":"./spec/freeagent/billing/duplicator_spec.rb","line_number":57,"run_time":0.119502228,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/billing/duplicator_spec.rb[1:1:6]","description":"duplicates the attributes from the original bill","full_description":"Billing::Duplicator with a single bill item duplicates the attributes from the original bill","status":"passed","file_path":"./spec/freeagent/billing/duplicator_spec.rb","line_number":61,"run_time":0.119130348,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/billing/duplicator_spec.rb[1:1:7]","description":"duplicates the nested bill items from the original bill","full_description":"Billing::Duplicator with a single bill item duplicates the nested bill items from the original bill","status":"passed","file_path":"./spec/freeagent/billing/duplicator_spec.rb","line_number":71,"run_time":0.109960393,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/billing/duplicator_spec.rb[1:1:8]","description":"updates the sales tax rate","full_description":"Billing::Duplicator with a single bill item updates the sales tax rate","status":"passed","file_path":"./spec/freeagent/billing/duplicator_spec.rb","line_number":80,"run_time":0.109750869,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/billing/duplicator_spec.rb[1:1:9]","description":"works if the manual_sales_tax_amount is nil","full_description":"Billing::Duplicator with a single bill item works if the manual_sales_tax_amount is nil","status":"passed","file_path":"./spec/freeagent/billing/duplicator_spec.rb","line_number":94,"run_time":0.102141385,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/billing/duplicator_spec.rb[1:1:10:1]","description":"stops recurring","full_description":"Billing::Duplicator with a single bill item when the end date is approaching stops recurring","status":"passed","file_path":"./spec/freeagent/billing/duplicator_spec.rb","line_number":102,"run_time":0.123108325,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/billing/duplicator_spec.rb[1:1:11:1]","description":"creates new bill items","full_description":"Billing::Duplicator with a single bill item with no recurring end date creates new bill items","status":"passed","file_path":"./spec/freeagent/billing/duplicator_spec.rb","line_number":130,"run_time":0.028593187,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/billing/duplicator_spec.rb[1:1:12:1]","description":"is scheduled to be recurred","full_description":"Billing::Duplicator with a single bill item and it is the 2nd last time bill will recur is scheduled to be recurred","status":"passed","file_path":"./spec/freeagent/billing/duplicator_spec.rb","line_number":155,"run_time":0.028109673,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/billing/duplicator_spec.rb[1:1:12:2]","description":"creates new bill items","full_description":"Billing::Duplicator with a single bill item and it is the 2nd last time bill will recur creates new bill items","status":"passed","file_path":"./spec/freeagent/billing/duplicator_spec.rb","line_number":160,"run_time":0.02449382,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/billing/duplicator_spec.rb[1:1:13:1]","description":"not to be schedule to recur","full_description":"Billing::Duplicator with a single bill item and it is the last time bill will recur not to be schedule to recur","status":"passed","file_path":"./spec/freeagent/billing/duplicator_spec.rb","line_number":185,"run_time":0.020938888,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/billing/duplicator_spec.rb[1:1:13:2]","description":"creates new bill items","full_description":"Billing::Duplicator with a single bill item and it is the last time bill will recur creates new bill items","status":"passed","file_path":"./spec/freeagent/billing/duplicator_spec.rb","line_number":189,"run_time":0.021288934,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/billing/duplicator_spec.rb[1:2:1]","description":"has the correct date","full_description":"Billing::Duplicator with multiple bill items has the correct date","status":"passed","file_path":"./spec/freeagent/billing/duplicator_spec.rb","line_number":217,"run_time":0.115756061,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/billing/duplicator_spec.rb[1:2:2]","description":"increments the reference","full_description":"Billing::Duplicator with multiple bill items increments the reference","status":"passed","file_path":"./spec/freeagent/billing/duplicator_spec.rb","line_number":221,"run_time":0.113697696,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/billing/duplicator_spec.rb[1:2:3]","description":"has the correct terms","full_description":"Billing::Duplicator with multiple bill items has the correct terms","status":"passed","file_path":"./spec/freeagent/billing/duplicator_spec.rb","line_number":225,"run_time":0.130807909,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/billing/duplicator_spec.rb[1:2:4]","description":"resets the cached paid value","full_description":"Billing::Duplicator with multiple bill items resets the cached paid value","status":"passed","file_path":"./spec/freeagent/billing/duplicator_spec.rb","line_number":229,"run_time":0.132866587,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/billing/duplicator_spec.rb[1:2:5]","description":"duplicates the attributes from the original bill","full_description":"Billing::Duplicator with multiple bill items duplicates the attributes from the original bill","status":"passed","file_path":"./spec/freeagent/billing/duplicator_spec.rb","line_number":233,"run_time":0.142702582,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/billing/duplicator_spec.rb[1:2:6]","description":"duplicates the nested bill items from the original bill","full_description":"Billing::Duplicator with multiple bill items duplicates the nested bill items from the original bill","status":"passed","file_path":"./spec/freeagent/billing/duplicator_spec.rb","line_number":243,"run_time":0.14923967,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/billing/duplicator_spec.rb[1:2:7]","description":"updates the sales tax rate","full_description":"Billing::Duplicator with multiple bill items updates the sales tax rate","status":"passed","file_path":"./spec/freeagent/billing/duplicator_spec.rb","line_number":253,"run_time":0.124957758,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/billing/duplicator_spec.rb[1:2:8:1]","description":"stops recurring","full_description":"Billing::Duplicator with multiple bill items when the end date is approaching stops recurring","status":"passed","file_path":"./spec/freeagent/billing/duplicator_spec.rb","line_number":270,"run_time":0.138100282,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/billing/duplicator_spec.rb[1:2:9:1]","description":"creates new bill items","full_description":"Billing::Duplicator with multiple bill items with no recurring end date creates new bill items","status":"passed","file_path":"./spec/freeagent/billing/duplicator_spec.rb","line_number":300,"run_time":0.133841718,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/billing/duplicator_spec.rb[1:2:10:1]","description":"is scheduled to be recurred","full_description":"Billing::Duplicator with multiple bill items and it is the 2nd last time bill will recur is scheduled to be recurred","status":"passed","file_path":"./spec/freeagent/billing/duplicator_spec.rb","line_number":309,"run_time":0.120808085,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/billing/duplicator_spec.rb[1:2:10:2]","description":"creates new bill items","full_description":"Billing::Duplicator with multiple bill items and it is the 2nd last time bill will recur creates new bill items","status":"passed","file_path":"./spec/freeagent/billing/duplicator_spec.rb","line_number":314,"run_time":0.144343403,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/billing/duplicator_spec.rb[1:2:11:1]","description":"not to be schedule to recur","full_description":"Billing::Duplicator with multiple bill items and it is the last time bill will recur not to be schedule to recur","status":"passed","file_path":"./spec/freeagent/billing/duplicator_spec.rb","line_number":323,"run_time":0.146174606,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/billing/duplicator_spec.rb[1:2:11:2]","description":"creates new bill items","full_description":"Billing::Duplicator with multiple bill items and it is the last time bill will recur creates new bill items","status":"passed","file_path":"./spec/freeagent/billing/duplicator_spec.rb","line_number":327,"run_time":0.14721949,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rules/turnover_threshold_spec.rb[1:1]","description":"is registered in the AlertRule types list","full_description":"PracticeAlerts::Rules::TurnoverThreshold is registered in the AlertRule types list","status":"passed","file_path":"./spec/models/practice_alerts/rules/turnover_threshold_spec.rb","line_number":19,"run_time":0.005078008,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rules/turnover_threshold_spec.rb[1:2]","description":"validates the threshold value","full_description":"PracticeAlerts::Rules::TurnoverThreshold validates the threshold value","status":"passed","file_path":"./spec/models/practice_alerts/rules/turnover_threshold_spec.rb","line_number":23,"run_time":0.05919861,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rules/turnover_threshold_spec.rb[1:3:1:1]","description":"does not add notifications","full_description":"PracticeAlerts::Rules::TurnoverThreshold#run when turnover is below limit does not add notifications","status":"passed","file_path":"./spec/models/practice_alerts/rules/turnover_threshold_spec.rb","line_number":66,"run_time":0.740258977,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rules/turnover_threshold_spec.rb[1:3:2:1]","description":"adds notifications","full_description":"PracticeAlerts::Rules::TurnoverThreshold#run with turnover over limit adds notifications","status":"passed","file_path":"./spec/models/practice_alerts/rules/turnover_threshold_spec.rb","line_number":109,"run_time":0.558413234,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rules/turnover_threshold_spec.rb[1:3:3:1]","description":"it does not add notifications","full_description":"PracticeAlerts::Rules::TurnoverThreshold#run with turnover equal to limit it does not add notifications","status":"passed","file_path":"./spec/models/practice_alerts/rules/turnover_threshold_spec.rb","line_number":149,"run_time":0.58008889,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rules/turnover_threshold_spec.rb[1:3:4:1]","description":"only uses values within the 12 month scope","full_description":"PracticeAlerts::Rules::TurnoverThreshold#run turnover date calculation range only uses values within the 12 month scope","status":"passed","file_path":"./spec/models/practice_alerts/rules/turnover_threshold_spec.rb","line_number":175,"run_time":0.519452175,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rules/turnover_threshold_spec.rb[1:3:5:1]","description":"excludes companies that are vat registered","full_description":"PracticeAlerts::Rules::TurnoverThreshold#run when companies are vat registered excludes companies that are vat registered","status":"passed","file_path":"./spec/models/practice_alerts/rules/turnover_threshold_spec.rb","line_number":207,"run_time":0.525448066,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/evangelist_payment_metrics_spec.rb[1:1:1]","description":"should generate the expected report data","full_description":"Metrics::EvangelistPaymentMetrics when an evangelist has 11 payments this month should generate the expected report data","status":"passed","file_path":"./spec/models/metrics/evangelist_payment_metrics_spec.rb","line_number":24,"run_time":1.514298509,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/evangelist_payment_metrics_spec.rb[1:2:1]","description":"should generate the expected report data","full_description":"Metrics::EvangelistPaymentMetrics when an evangelist has 10 payments including a yearly subscriber with no payment should generate the expected report data","status":"passed","file_path":"./spec/models/metrics/evangelist_payment_metrics_spec.rb","line_number":66,"run_time":1.400491631,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/evangelist_payment_metrics_spec.rb[1:3:1]","description":"returns the default filename","full_description":"Metrics::EvangelistPaymentMetrics#filename returns the default filename","status":"passed","file_path":"./spec/models/metrics/evangelist_payment_metrics_spec.rb","line_number":91,"run_time":0.004551079,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb[1:1:1:1]","description":"returns true when the subscription is editable","full_description":"Admin::Companies::SubscriptionsHelper#admin_user_can_edit_or_cancel_subscription? when the admin user has the edit subscriptions permission returns true when the subscription is editable","status":"passed","file_path":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb","line_number":12,"run_time":0.132101536,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb[1:1:1:2]","description":"returns true when the company is cancellable","full_description":"Admin::Companies::SubscriptionsHelper#admin_user_can_edit_or_cancel_subscription? when the admin user has the edit subscriptions permission returns true when the company is cancellable","status":"passed","file_path":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb","line_number":19,"run_time":0.125152784,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb[1:1:2:1]","description":"returns false","full_description":"Admin::Companies::SubscriptionsHelper#admin_user_can_edit_or_cancel_subscription? when the admin user does not have the edit subscriptions permission returns false","status":"passed","file_path":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb","line_number":30,"run_time":0.138783579,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb[1:2:1]","description":"returns false when the company is neither practice managed or on a free trial","full_description":"Admin::Companies::SubscriptionsHelper#subscription_editable? returns false when the company is neither practice managed or on a free trial","status":"passed","file_path":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb","line_number":42,"run_time":0.121362135,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb[1:2:2]","description":"returns true when the company is practice managed","full_description":"Admin::Companies::SubscriptionsHelper#subscription_editable? returns true when the company is practice managed","status":"passed","file_path":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb","line_number":46,"run_time":0.13174486,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb[1:2:3]","description":"returns true when the company is on a free trial","full_description":"Admin::Companies::SubscriptionsHelper#subscription_editable? returns true when the company is on a free trial","status":"passed","file_path":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb","line_number":50,"run_time":0.173473852,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb[1:3:1:1]","description":"returns true when the company can be cancelled","full_description":"Admin::Companies::SubscriptionsHelper#company_cancellable? when the company is not scheduled for deletion returns true when the company can be cancelled","status":"passed","file_path":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb","line_number":61,"run_time":0.015888276,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb[1:3:1:2]","description":"returns false when the company can't be cancelled","full_description":"Admin::Companies::SubscriptionsHelper#company_cancellable? when the company is not scheduled for deletion returns false when the company can't be cancelled","status":"passed","file_path":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb","line_number":65,"run_time":0.008301056,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb[1:3:2:1]","description":"returns false","full_description":"Admin::Companies::SubscriptionsHelper#company_cancellable? when the company is scheduled for deletion returns false","status":"passed","file_path":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb","line_number":76,"run_time":0.037314422,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb[1:4:1:1]","description":"is expected to be truthy","full_description":"Admin::Companies::SubscriptionsHelper#can_be_made_complimentary? with a direct subscription is expected to be truthy","status":"passed","file_path":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb","line_number":87,"run_time":0.096491393,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb[1:4:2:1]","description":"is expected to be truthy","full_description":"Admin::Companies::SubscriptionsHelper#can_be_made_complimentary? with an Apple free trial subscription is expected to be truthy","status":"passed","file_path":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb","line_number":92,"run_time":0.091876238,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb[1:4:3:1]","description":"is expected to be falsey","full_description":"Admin::Companies::SubscriptionsHelper#can_be_made_complimentary? with an Apple subscribed subscription is expected to be falsey","status":"passed","file_path":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb","line_number":97,"run_time":0.131145855,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb[1:4:4:1]","description":"is expected to be falsey","full_description":"Admin::Companies::SubscriptionsHelper#can_be_made_complimentary? with a practice managed subscription is expected to be falsey","status":"passed","file_path":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb","line_number":102,"run_time":0.145641271,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb[1:4:5:1]","description":"is expected to be falsey","full_description":"Admin::Companies::SubscriptionsHelper#can_be_made_complimentary? with an RBSG subscription is expected to be falsey","status":"passed","file_path":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb","line_number":107,"run_time":0.110516671,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb[1:5:1:1]","description":"returns true when the company is subscribed","full_description":"Admin::Companies::SubscriptionsHelper#can_change_next_payment_date? when the admin user has the edit subscriptions permission returns true when the company is subscribed","status":"passed","file_path":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb","line_number":117,"run_time":0.131524518,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb[1:5:1:2]","description":"returns false if the subscription channel is Apple","full_description":"Admin::Companies::SubscriptionsHelper#can_change_next_payment_date? when the admin user has the edit subscriptions permission returns false if the subscription channel is Apple","status":"passed","file_path":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb","line_number":121,"run_time":0.116241771,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb[1:5:2:1]","description":"returns false","full_description":"Admin::Companies::SubscriptionsHelper#can_change_next_payment_date? when the admin user does not have the edit subscriptions permission returns false","status":"passed","file_path":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb","line_number":129,"run_time":0.170494918,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb[1:6:1:1]","description":"returns true","full_description":"Admin::Companies::SubscriptionsHelper#show_practice_client_churn_fields? when the company has a practice managed subscription returns true","status":"passed","file_path":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb","line_number":141,"run_time":0.156343201,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb[1:6:1:2:1]","description":"returns false","full_description":"Admin::Companies::SubscriptionsHelper#show_practice_client_churn_fields? when the company has a practice managed subscription when the practice_client_churn feature flag is disabled for the company's practice returns false","status":"passed","file_path":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb","line_number":148,"run_time":0.160851845,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb[1:6:2:1]","description":"returns true","full_description":"Admin::Companies::SubscriptionsHelper#show_practice_client_churn_fields? when the company's subscription is changing from practice managed to non-practice managed returns true","status":"passed","file_path":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb","line_number":161,"run_time":0.160101647,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb[1:6:2:2:1]","description":"returns false","full_description":"Admin::Companies::SubscriptionsHelper#show_practice_client_churn_fields? when the company's subscription is changing from practice managed to non-practice managed when the practice_client_churn feature flag is disabled for the company's practice returns false","status":"passed","file_path":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb","line_number":170,"run_time":0.146639415,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb[1:6:3:1]","description":"returns false","full_description":"Admin::Companies::SubscriptionsHelper#show_practice_client_churn_fields? when the company does not have a practice managed subscription returns false","status":"passed","file_path":"./spec/helpers/admin/companies/subscriptions_helper_spec.rb","line_number":181,"run_time":0.100413262,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/hmrc_authorizations/new.html.erb_spec.rb[1:1:1:1]","description":"renders only the connection link for MTD VAT","full_description":"practice_dashboard/hmrc_authorizations/new the connection link with the mtd_itsa_practices feature switch off renders only the connection link for MTD VAT","status":"passed","file_path":"./spec/views/practice_dashboard/hmrc_authorizations/new.html.erb_spec.rb","line_number":12,"run_time":0.026619951,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/hmrc_authorizations/new.html.erb_spec.rb[1:1:2:1]","description":"renders both links","full_description":"practice_dashboard/hmrc_authorizations/new the connection link with the mtd_itsa_practices feature switch on renders both links","status":"passed","file_path":"./spec/views/practice_dashboard/hmrc_authorizations/new.html.erb_spec.rb","line_number":24,"run_time":0.025596951,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:2:2:1:1:2]","description":"which has been sent","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the invoice accounting basis on the Flat Rate Scheme (at 5%) Invoices Given a native currency invoice with 3 line items in 2 categories which has been sent","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":4252,"run_time":0.856718951,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ir35/cumulative_payslips_spec.rb[1:1:1]","description":"returns the cumulative amounts","full_description":"Accounting::IR35::CumulativePayslips#employer_pension_up_to returns the cumulative amounts","status":"passed","file_path":"./spec/models/accounting/ir35/cumulative_payslips_spec.rb","line_number":46,"run_time":0.147537601,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ir35/cumulative_payslips_spec.rb[1:2:1]","description":"returns the cumulative amounts including other kind of pay","full_description":"Accounting::IR35::CumulativePayslips#salary_up_to returns the cumulative amounts including other kind of pay","status":"passed","file_path":"./spec/models/accounting/ir35/cumulative_payslips_spec.rb","line_number":63,"run_time":0.126581071,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ir35/cumulative_payslips_spec.rb[1:3:1]","description":"returns the cumulative amounts","full_description":"Accounting::IR35::CumulativePayslips#employer_nics_paid_up_to returns the cumulative amounts","status":"passed","file_path":"./spec/models/accounting/ir35/cumulative_payslips_spec.rb","line_number":85,"run_time":0.160113863,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ir35/cumulative_payslips_spec.rb[1:4:1]","description":"returns the cumulative amounts","full_description":"Accounting::IR35::CumulativePayslips#ea_correction_up_to returns the cumulative amounts","status":"passed","file_path":"./spec/models/accounting/ir35/cumulative_payslips_spec.rb","line_number":107,"run_time":0.153605133,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ir35/cumulative_payslips_spec.rb[1:5:1:1]","description":"returns the cumulative amounts including other kind of pay","full_description":"Accounting::IR35::CumulativePayslips in the 2020/21 tax year #salary_up_to returns the cumulative amounts including other kind of pay","status":"passed","file_path":"./spec/models/accounting/ir35/cumulative_payslips_spec.rb","line_number":140,"run_time":0.152391389,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/selected_user_spec.rb[1:1:1]","description":"loads the user from the :selected_user_id param","full_description":"SelectedUser as a regular user loads the user from the :selected_user_id param","status":"passed","file_path":"./spec/controllers/concerns/selected_user_spec.rb","line_number":24,"run_time":0.160687184,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/selected_user_spec.rb[1:1:2]","description":"loads my own user when :selected_user_id is `me`","full_description":"SelectedUser as a regular user loads my own user when :selected_user_id is `me`","status":"passed","file_path":"./spec/controllers/concerns/selected_user_spec.rb","line_number":30,"run_time":0.155795971,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/selected_user_spec.rb[1:1:3]","description":"remembers UTM params when :selected_user_id is `me`","full_description":"SelectedUser as a regular user remembers UTM params when :selected_user_id is `me`","status":"passed","file_path":"./spec/controllers/concerns/selected_user_spec.rb","line_number":36,"run_time":0.151276759,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/selected_user_spec.rb[1:2:1]","description":"loads the user from the :selected_user_id param","full_description":"SelectedUser as an advisor loads the user from the :selected_user_id param","status":"passed","file_path":"./spec/controllers/concerns/selected_user_spec.rb","line_number":51,"run_time":0.335391138,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/selected_user_spec.rb[1:2:2]","description":"loads a default user when :selected_user_id is `me`","full_description":"SelectedUser as an advisor loads a default user when :selected_user_id is `me`","status":"passed","file_path":"./spec/controllers/concerns/selected_user_spec.rb","line_number":57,"run_time":0.35220911,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/selected_user_spec.rb[1:3:1:1]","description":"is the account owner","full_description":"SelectedUser#default_selected_user when logged in as the account owner is the account owner","status":"passed","file_path":"./spec/controllers/concerns/selected_user_spec.rb","line_number":71,"run_time":0.020100717,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/selected_user_spec.rb[1:3:2:1]","description":"is the current user","full_description":"SelectedUser#default_selected_user when logged in as a non-owner user is the current user","status":"passed","file_path":"./spec/controllers/concerns/selected_user_spec.rb","line_number":81,"run_time":0.033884374,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/selected_user_spec.rb[1:3:3:1]","description":"is the account owner","full_description":"SelectedUser#default_selected_user when logged in as an account manager of a practice managed company is the account owner","status":"passed","file_path":"./spec/controllers/concerns/selected_user_spec.rb","line_number":93,"run_time":0.144386634,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/properties/income_controller_spec.rb[1:1:1]","description":"shows the index view in descending date order","full_description":"Properties::IncomeController GET #index shows the index view in descending date order","status":"passed","file_path":"./spec/controllers/properties/income_controller_spec.rb","line_number":27,"run_time":0.286295202,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/properties/income_controller_spec.rb[1:1:2:1]","description":"retrieves the items, earliest first","full_description":"Properties::IncomeController GET #index when sorted in ascending date order retrieves the items, earliest first","status":"passed","file_path":"./spec/controllers/properties/income_controller_spec.rb","line_number":54,"run_time":0.286672756,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/properties/income_controller_spec.rb[1:1:3:1]","description":"retrieves the items, latest first","full_description":"Properties::IncomeController GET #index when sorted in descending date order retrieves the items, latest first","status":"passed","file_path":"./spec/controllers/properties/income_controller_spec.rb","line_number":68,"run_time":0.282324024,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/properties/income_controller_spec.rb[1:1:4:1]","description":"filters the items, latest first","full_description":"Properties::IncomeController GET #index when filtering by item type filters the items, latest first","status":"passed","file_path":"./spec/controllers/properties/income_controller_spec.rb","line_number":82,"run_time":0.291475144,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/properties/income_controller_spec.rb[1:1:5:1]","description":"does not allow access","full_description":"Properties::IncomeController GET #index without required permissions does not allow access","status":"passed","file_path":"./spec/controllers/properties/income_controller_spec.rb","line_number":99,"run_time":0.231457813,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:134:2:1]","description":"is expected to eql true","full_description":"Invoice#has_overpaid_for_valudation? when the invoice has not been overpaid is expected to eql true","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":4323,"run_time":1.104772866,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:1:40:2]","description":"deletes the billing profile when the customer does not exist","full_description":"Company::ForgetCompanyData Deleting all data for a VAT registered UK company when subscribed deletes the billing profile when the customer does not exist","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":511,"run_time":1.323775169,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/orphaned_bank_transaction_check_spec.rb[1:1:1:1]","description":"doesn't return any errors","full_description":"OrphanedBankTransactionCheck when the check is run when the bank_account is still present doesn't return any errors","status":"passed","file_path":"./spec/models/health_robinson/check/orphaned_bank_transaction_check_spec.rb","line_number":14,"run_time":0.112217956,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/orphaned_bank_transaction_check_spec.rb[1:1:2:1]","description":"returns an error on the bank transaction","full_description":"OrphanedBankTransactionCheck when the check is run when the bank_account is gone returns an error on the bank transaction","status":"passed","file_path":"./spec/models/health_robinson/check/orphaned_bank_transaction_check_spec.rb","line_number":24,"run_time":0.123089219,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/orphaned_bank_transaction_check_spec.rb[1:1:2:2]","description":"gives an error description","full_description":"OrphanedBankTransactionCheck when the check is run when the bank_account is gone gives an error description","status":"passed","file_path":"./spec/models/health_robinson/check/orphaned_bank_transaction_check_spec.rb","line_number":28,"run_time":0.12627853,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/orphaned_bank_transaction_check_spec.rb[1:2:1]","description":"has a valid item check","full_description":"OrphanedBankTransactionCheck when the original item is deleted has a valid item check","status":"passed","file_path":"./spec/models/health_robinson/check/orphaned_bank_transaction_check_spec.rb","line_number":42,"run_time":0.143544306,"pending_message":null,"screenshot":null},{"id":"./spec/models/referrer_code_spec.rb[1:1:1]","description":"generates a code 8 characters long","full_description":"ReferrerCode Generating a company referrer code generates a code 8 characters long","status":"passed","file_path":"./spec/models/referrer_code_spec.rb","line_number":7,"run_time":0.004471166,"pending_message":null,"screenshot":null},{"id":"./spec/models/referrer_code_spec.rb[1:2:1]","description":"generates a code 6 characters long","full_description":"ReferrerCode Generating an affiliate referrer code generates a code 6 characters long","status":"passed","file_path":"./spec/models/referrer_code_spec.rb","line_number":14,"run_time":0.003964127,"pending_message":null,"screenshot":null},{"id":"./spec/models/referrer_code_spec.rb[1:3:1]","description":"generates a code 6 characters long","full_description":"ReferrerCode Generating a practice referrer code generates a code 6 characters long","status":"passed","file_path":"./spec/models/referrer_code_spec.rb","line_number":21,"run_time":0.003617773,"pending_message":null,"screenshot":null},{"id":"./spec/models/referrer_code_spec.rb[1:4:1:1]","description":"is expected to equal nil","full_description":"ReferrerCode.applied_code when no code has been applied is expected to equal nil","status":"passed","file_path":"./spec/models/referrer_code_spec.rb","line_number":32,"run_time":0.102692642,"pending_message":null,"screenshot":null},{"id":"./spec/models/referrer_code_spec.rb[1:4:2:1]","description":"is expected to eq \"referrer_code1\"","full_description":"ReferrerCode.applied_code when referred by another Company is expected to eq \"referrer_code1\"","status":"passed","file_path":"./spec/models/referrer_code_spec.rb","line_number":39,"run_time":0.104805681,"pending_message":null,"screenshot":null},{"id":"./spec/models/referrer_code_spec.rb[1:4:3:1]","description":"is expected to eq \"11xe6k\"","full_description":"ReferrerCode.applied_code when referred by an Affiliate is expected to eq \"11xe6k\"","status":"passed","file_path":"./spec/models/referrer_code_spec.rb","line_number":46,"run_time":0.017827498,"pending_message":null,"screenshot":null},{"id":"./spec/models/referrer_code_spec.rb[1:4:4:1]","description":"is expected to eq \"0001\"","full_description":"ReferrerCode.applied_code when a Promotion has been applied is expected to eq \"0001\"","status":"passed","file_path":"./spec/models/referrer_code_spec.rb","line_number":53,"run_time":0.017744242,"pending_message":null,"screenshot":null},{"id":"./spec/models/referrer_code_spec.rb[1:5:1]","description":"does not allow applying their own referral code","full_description":"ReferrerCode#apply does not allow applying their own referral code","status":"passed","file_path":"./spec/models/referrer_code_spec.rb","line_number":58,"run_time":0.005735908,"pending_message":null,"screenshot":null},{"id":"./spec/models/referrer_code_spec.rb[1:5:2]","description":"accepts referral codes from companies that provide a referral discount","full_description":"ReferrerCode#apply accepts referral codes from companies that provide a referral discount","status":"passed","file_path":"./spec/models/referrer_code_spec.rb","line_number":64,"run_time":0.1119105,"pending_message":null,"screenshot":null},{"id":"./spec/models/referrer_code_spec.rb[1:5:3]","description":"rejects referral codes from companies that do not provide a referral discount","full_description":"ReferrerCode#apply rejects referral codes from companies that do not provide a referral discount","status":"passed","file_path":"./spec/models/referrer_code_spec.rb","line_number":71,"run_time":0.099271472,"pending_message":null,"screenshot":null},{"id":"./spec/models/referrer_code_spec.rb[1:5:4]","description":"accepts referral codes from affiliates","full_description":"ReferrerCode#apply accepts referral codes from affiliates","status":"passed","file_path":"./spec/models/referrer_code_spec.rb","line_number":78,"run_time":0.014991659,"pending_message":null,"screenshot":null},{"id":"./spec/models/referrer_code_spec.rb[1:5:5]","description":"accepts referral codes from active promotions","full_description":"ReferrerCode#apply accepts referral codes from active promotions","status":"passed","file_path":"./spec/models/referrer_code_spec.rb","line_number":85,"run_time":0.014515595,"pending_message":null,"screenshot":null},{"id":"./spec/models/referrer_code_spec.rb[1:5:6]","description":"rejects referral codes from expired promotions","full_description":"ReferrerCode#apply rejects referral codes from expired promotions","status":"passed","file_path":"./spec/models/referrer_code_spec.rb","line_number":92,"run_time":0.013948621,"pending_message":null,"screenshot":null},{"id":"./spec/models/referrer_code_spec.rb[1:5:7]","description":"rejects referral codes from internal promotions","full_description":"ReferrerCode#apply rejects referral codes from internal promotions","status":"passed","file_path":"./spec/models/referrer_code_spec.rb","line_number":99,"run_time":0.014249747,"pending_message":null,"screenshot":null},{"id":"./spec/models/referrer_code_spec.rb[1:5:8:1]","description":"should not succeed","full_description":"ReferrerCode#apply apply referral to an non free trial company should not succeed","status":"passed","file_path":"./spec/models/referrer_code_spec.rb","line_number":111,"run_time":0.098639575,"pending_message":null,"screenshot":null},{"id":"./spec/models/referrer_code_spec.rb[1:5:9:1]","description":"should not succeed","full_description":"ReferrerCode#apply apply referral to an non free trial company should not succeed","status":"passed","file_path":"./spec/models/referrer_code_spec.rb","line_number":111,"run_time":0.104094835,"pending_message":null,"screenshot":null},{"id":"./spec/models/referrer_code_spec.rb[1:5:10:1]","description":"should not succeed","full_description":"ReferrerCode#apply apply referral to an non free trial company should not succeed","status":"passed","file_path":"./spec/models/referrer_code_spec.rb","line_number":111,"run_time":0.090927247,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/consents/show.html.erb_spec.rb[1:1]","description":"displays the authorised accounts ordered by authorised account name","full_description":"admin/companies/consents/show displays the authorised accounts ordered by authorised account name","status":"passed","file_path":"./spec/views/admin/companies/consents/show.html.erb_spec.rb","line_number":17,"run_time":0.500970768,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/consents/show.html.erb_spec.rb[1:2]","description":"provides a link to the sudo bank account page for each connected account","full_description":"admin/companies/consents/show provides a link to the sudo bank account page for each connected account","status":"passed","file_path":"./spec/views/admin/companies/consents/show.html.erb_spec.rb","line_number":30,"run_time":0.311807305,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/paypal_permission_checks_controller_spec.rb[1:1:1:1]","description":"is resets the checks with blank values","full_description":"PaypalPermissionChecksController inits when PaypalPoll already exists with values is resets the checks with blank values","status":"passed","file_path":"./spec/controllers/paypal_permission_checks_controller_spec.rb","line_number":28,"run_time":0.06324865,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/paypal_permission_checks_controller_spec.rb[1:1:2:1:1]","description":"doesn't create a PaypalPoll","full_description":"PaypalPermissionChecksController inits when no PaypalPoll already exists when email address is empty doesn't create a PaypalPoll","status":"passed","file_path":"./spec/controllers/paypal_permission_checks_controller_spec.rb","line_number":48,"run_time":0.036664758,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/paypal_permission_checks_controller_spec.rb[1:1:2:2:1]","description":"creates a PaypalPoll","full_description":"PaypalPermissionChecksController inits when no PaypalPoll already exists when provided email address isn't a sender email address creates a PaypalPoll","status":"passed","file_path":"./spec/controllers/paypal_permission_checks_controller_spec.rb","line_number":56,"run_time":0.051054309,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/paypal_permission_checks_controller_spec.rb[1:1:2:2:2]","description":"is initiated with blank values","full_description":"PaypalPermissionChecksController inits when no PaypalPoll already exists when provided email address isn't a sender email address is initiated with blank values","status":"passed","file_path":"./spec/controllers/paypal_permission_checks_controller_spec.rb","line_number":60,"run_time":0.051369034,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/paypal_permission_checks_controller_spec.rb[1:1:2:3:1]","description":"creates a PaypalPoll","full_description":"PaypalPermissionChecksController inits when no PaypalPoll already exists when email address is an unverified sender email address creates a PaypalPoll","status":"passed","file_path":"./spec/controllers/paypal_permission_checks_controller_spec.rb","line_number":69,"run_time":0.045299248,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/paypal_permission_checks_controller_spec.rb[1:1:2:3:2]","description":"is initiated with blank values","full_description":"PaypalPermissionChecksController inits when no PaypalPoll already exists when email address is an unverified sender email address is initiated with blank values","status":"passed","file_path":"./spec/controllers/paypal_permission_checks_controller_spec.rb","line_number":73,"run_time":0.04540227,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/paypal_permission_checks_controller_spec.rb[1:1:2:4:1]","description":"creates a PaypalPoll","full_description":"PaypalPermissionChecksController inits when no PaypalPoll already exists when email address is a verified sender email address creates a PaypalPoll","status":"passed","file_path":"./spec/controllers/paypal_permission_checks_controller_spec.rb","line_number":82,"run_time":0.043433488,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/paypal_permission_checks_controller_spec.rb[1:1:2:4:2]","description":"is initiated with blank values","full_description":"PaypalPermissionChecksController inits when no PaypalPoll already exists when email address is a verified sender email address is initiated with blank values","status":"passed","file_path":"./spec/controllers/paypal_permission_checks_controller_spec.rb","line_number":86,"run_time":0.048103016,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/paypal_permission_checks_controller_spec.rb[1:1:2:5:1]","description":"creates a PaypalPoll","full_description":"PaypalPermissionChecksController inits when no PaypalPoll already exists when email address is a verified sender email address with a plus symbol creates a PaypalPoll","status":"passed","file_path":"./spec/controllers/paypal_permission_checks_controller_spec.rb","line_number":95,"run_time":0.05460717,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/paypal_permission_checks_controller_spec.rb[1:1:2:5:2]","description":"is initiated with blank values","full_description":"PaypalPermissionChecksController inits when no PaypalPoll already exists when email address is a verified sender email address with a plus symbol is initiated with blank values","status":"passed","file_path":"./spec/controllers/paypal_permission_checks_controller_spec.rb","line_number":99,"run_time":0.054363002,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/paypal_permission_checks_controller_spec.rb[1:2:1:1]","description":"finds the correct PaypalPoll","full_description":"PaypalPermissionChecksController checks when email address is a verified sender email address finds the correct PaypalPoll","status":"passed","file_path":"./spec/controllers/paypal_permission_checks_controller_spec.rb","line_number":111,"run_time":0.043929271,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/paypal_permission_checks_controller_spec.rb[1:2:2:1]","description":"finds the correct PaypalPoll","full_description":"PaypalPermissionChecksController checks when email address is a verified sender email address with a plus symbol finds the correct PaypalPoll","status":"passed","file_path":"./spec/controllers/paypal_permission_checks_controller_spec.rb","line_number":121,"run_time":0.040145687,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[13:20:2:1:2:1]","description":"doesn't complete the add_property event","full_description":"InvoicesController POST create flying start event tracking behaves like FlyingStart::TrackAddPropertyCompletion for landlord companies on unsuccessful creation doesn't complete the add_property event","status":"passed","file_path":"./spec/support/shared_examples/flying_start/track_add_property_completion_examples.rb","line_number":23,"run_time":0.574134165,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/explained_status_match_check_spec.rb[1:1:1]","description":"is expected not to have a failure on #\u003cBankTransaction id: 12, bank_account_id: 950310730, transaction_type: nil, amount: -50.0 (BigDecima..._id: 895397833, explained: false, date_time_on: \"2022-12-22 00:00:00.000000000 +0000\", balance: nil\u003e","full_description":"ExplainedStatusMatchCheck partially explained and explained is false is expected not to have a failure on #\u003cBankTransaction id: 12, bank_account_id: 950310730, transaction_type: nil, amount: -50.0 (BigDecima..._id: 895397833, explained: false, date_time_on: \"2022-12-22 00:00:00.000000000 +0000\", balance: nil\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/explained_status_match_check_spec.rb","line_number":11,"run_time":0.159361973,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/explained_status_match_check_spec.rb[1:2:1]","description":"is expected to have a failure like /explained column doesn't match status/","full_description":"ExplainedStatusMatchCheck partially explained and explained is true is expected to have a failure like /explained column doesn't match status/","status":"passed","file_path":"./spec/models/health_robinson/check/explained_status_match_check_spec.rb","line_number":18,"run_time":0.123940541,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/explained_status_match_check_spec.rb[1:3:1]","description":"is expected to have a failure like /explained column doesn't match status/","full_description":"ExplainedStatusMatchCheck fully explained and explained is true is expected to have a failure like /explained column doesn't match status/","status":"passed","file_path":"./spec/models/health_robinson/check/explained_status_match_check_spec.rb","line_number":28,"run_time":0.117974361,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/explained_status_match_check_spec.rb[1:4:1]","description":"is expected not to have a failure on #\u003cBankTransaction id: 15, bank_account_id: 950310733, transaction_type: nil, amount: -50.0 (BigDecima...y_id: 895397833, explained: true, date_time_on: \"2022-12-22 00:00:00.000000000 +0000\", balance: nil\u003e","full_description":"ExplainedStatusMatchCheck fully explained and explained is true is expected not to have a failure on #\u003cBankTransaction id: 15, bank_account_id: 950310733, transaction_type: nil, amount: -50.0 (BigDecima...y_id: 895397833, explained: true, date_time_on: \"2022-12-22 00:00:00.000000000 +0000\", balance: nil\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/explained_status_match_check_spec.rb","line_number":38,"run_time":0.128877998,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_account_owner_change_spec.rb[1:1:1]","description":"raises exception if company argument invalid","full_description":"Company::AccountOwnerChange#new raises exception if company argument invalid","status":"passed","file_path":"./spec/models/company_account_owner_change_spec.rb","line_number":13,"run_time":0.02908331,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_account_owner_change_spec.rb[1:2:1]","description":"fails validation if user is ineligible","full_description":"Company::AccountOwnerChange#save fails validation if user is ineligible","status":"passed","file_path":"./spec/models/company_account_owner_change_spec.rb","line_number":20,"run_time":0.028170283,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_account_owner_change_spec.rb[1:2:2]","description":"fails validation if account owner has not been selected","full_description":"Company::AccountOwnerChange#save fails validation if account owner has not been selected","status":"passed","file_path":"./spec/models/company_account_owner_change_spec.rb","line_number":26,"run_time":0.028660063,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_account_owner_change_spec.rb[1:2:3]","description":"increases new account owner permission level to 8","full_description":"Company::AccountOwnerChange#save increases new account owner permission level to 8","status":"passed","file_path":"./spec/models/company_account_owner_change_spec.rb","line_number":32,"run_time":0.051239307,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_account_owner_change_spec.rb[1:2:4]","description":"changes the account owner","full_description":"Company::AccountOwnerChange#save changes the account owner","status":"passed","file_path":"./spec/models/company_account_owner_change_spec.rb","line_number":39,"run_time":0.047903498,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_account_owner_change_spec.rb[1:3:1]","description":"contains eligible users","full_description":"Company::AccountOwnerChange#eligible_users contains eligible users","status":"passed","file_path":"./spec/models/company_account_owner_change_spec.rb","line_number":48,"run_time":0.02883177,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_account_owner_change_spec.rb[1:3:2]","description":"does not contain ineligible users","full_description":"Company::AccountOwnerChange#eligible_users does not contain ineligible users","status":"passed","file_path":"./spec/models/company_account_owner_change_spec.rb","line_number":52,"run_time":0.062262121,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_account_owner_change_spec.rb[1:3:3]","description":"does not contain the current account owner","full_description":"Company::AccountOwnerChange#eligible_users does not contain the current account owner","status":"passed","file_path":"./spec/models/company_account_owner_change_spec.rb","line_number":56,"run_time":0.036696194,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/freeagent_tyl_spec.rb[1:1:1]","description":"is expected to delegate #enabled? to the #profile object as #ready_for_pay_by_link?","full_description":"FreeagentTyl#enabled? is expected to delegate #enabled? to the #profile object as #ready_for_pay_by_link?","status":"passed","file_path":"./spec/integrations/freeagent_tyl_spec.rb","line_number":22,"run_time":0.007325375,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/freeagent_tyl_spec.rb[1:2:1]","description":"is expected to delegate #consented? to the #profile object","full_description":"FreeagentTyl#consented? is expected to delegate #consented? to the #profile object","status":"passed","file_path":"./spec/integrations/freeagent_tyl_spec.rb","line_number":26,"run_time":0.006690296,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/freeagent_tyl_spec.rb[1:3:1:1]","description":"signs the oauth state uri as param","full_description":"FreeagentTyl#authorize_uri with the v1 API signs the oauth state uri as param","status":"passed","file_path":"./spec/integrations/freeagent_tyl_spec.rb","line_number":44,"run_time":0.013665324,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/freeagent_tyl_spec.rb[1:3:2:1]","description":"signs the oauth state uri as param","full_description":"FreeagentTyl#authorize_uri with the v2 API signs the oauth state uri as param","status":"passed","file_path":"./spec/integrations/freeagent_tyl_spec.rb","line_number":68,"run_time":0.010768748,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/freeagent_tyl_spec.rb[1:4:1:1]","description":"logs the token fetch attempt","full_description":"FreeagentTyl#connect when an access token has been successfully received logs the token fetch attempt","status":"passed","file_path":"./spec/integrations/freeagent_tyl_spec.rb","line_number":131,"run_time":0.019101185,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/freeagent_tyl_spec.rb[1:4:1:2]","description":"instructs a new profile to save the details","full_description":"FreeagentTyl#connect when an access token has been successfully received instructs a new profile to save the details","status":"passed","file_path":"./spec/integrations/freeagent_tyl_spec.rb","line_number":140,"run_time":0.015315469,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/freeagent_tyl_spec.rb[1:4:2:1]","description":"logs the token fetch attempt","full_description":"FreeagentTyl#connect when there is an Oauth exception logs the token fetch attempt","status":"passed","file_path":"./spec/integrations/freeagent_tyl_spec.rb","line_number":160,"run_time":0.014220808,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/freeagent_tyl_spec.rb[1:4:2:2]","description":"does not persist a TylProfile","full_description":"FreeagentTyl#connect when there is an Oauth exception does not persist a TylProfile","status":"passed","file_path":"./spec/integrations/freeagent_tyl_spec.rb","line_number":169,"run_time":0.01332282,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/freeagent_tyl_spec.rb[1:4:2:3]","description":"rescues and logs the error","full_description":"FreeagentTyl#connect when there is an Oauth exception rescues and logs the error","status":"passed","file_path":"./spec/integrations/freeagent_tyl_spec.rb","line_number":173,"run_time":0.012288104,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/freeagent_tyl_spec.rb[1:5:1:1]","description":"is expected to be truthy","full_description":"FreeagentTyl#disconnect when delinking is successful is expected to be truthy","status":"passed","file_path":"./spec/integrations/freeagent_tyl_spec.rb","line_number":198,"run_time":0.018289101,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/freeagent_tyl_spec.rb[1:5:1:2]","description":"removes the profile record","full_description":"FreeagentTyl#disconnect when delinking is successful removes the profile record","status":"passed","file_path":"./spec/integrations/freeagent_tyl_spec.rb","line_number":200,"run_time":0.018707002,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/freeagent_tyl_spec.rb[1:5:2:1]","description":"is expected to be falsey","full_description":"FreeagentTyl#disconnect when delinking is not successful is expected to be falsey","status":"passed","file_path":"./spec/integrations/freeagent_tyl_spec.rb","line_number":209,"run_time":0.012413683,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/freeagent_tyl_spec.rb[1:5:2:2]","description":"does not remove the profile record","full_description":"FreeagentTyl#disconnect when delinking is not successful does not remove the profile record","status":"passed","file_path":"./spec/integrations/freeagent_tyl_spec.rb","line_number":211,"run_time":0.015537755,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/freeagent_tyl_spec.rb[1:5:3:1]","description":"is expected to be truthy","full_description":"FreeagentTyl#disconnect when no Tyl account is linked is expected to be truthy","status":"passed","file_path":"./spec/integrations/freeagent_tyl_spec.rb","line_number":220,"run_time":0.008732106,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/freeagent_tyl_spec.rb[1:5:3:2]","description":"doesn't call the API","full_description":"FreeagentTyl#disconnect when no Tyl account is linked doesn't call the API","status":"passed","file_path":"./spec/integrations/freeagent_tyl_spec.rb","line_number":222,"run_time":0.007971434,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/freeagent_tyl_spec.rb[1:6:1:1]","description":"is expected to be nil","full_description":"FreeagentTyl#canonical_bin when the company has no BINs is expected to be nil","status":"passed","file_path":"./spec/integrations/freeagent_tyl_spec.rb","line_number":238,"run_time":0.00805335,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/freeagent_tyl_spec.rb[1:6:2:1]","description":"is expected to be present","full_description":"FreeagentTyl#canonical_bin when the company has a single BIN is expected to be present","status":"passed","file_path":"./spec/integrations/freeagent_tyl_spec.rb","line_number":243,"run_time":0.019463455,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/freeagent_tyl_spec.rb[1:6:3:1]","description":"is expected to be nil","full_description":"FreeagentTyl#canonical_bin when the company has multiple BINs is expected to be nil","status":"passed","file_path":"./spec/integrations/freeagent_tyl_spec.rb","line_number":248,"run_time":0.016330438,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/freeagent_tyl_spec.rb[1:7:1:1]","description":"is expected to be falsey","full_description":"FreeagentTyl#update_status when the customer hasn't yet consented is expected to be falsey","status":"passed","file_path":"./spec/integrations/freeagent_tyl_spec.rb","line_number":256,"run_time":0.008007763,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/freeagent_tyl_spec.rb[1:7:1:2]","description":"should not persist a profile","full_description":"FreeagentTyl#update_status when the customer hasn't yet consented should not persist a profile","status":"passed","file_path":"./spec/integrations/freeagent_tyl_spec.rb","line_number":258,"run_time":0.008204189,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/freeagent_tyl_spec.rb[1:7:2:1:1]","description":"is expected to be truthy","full_description":"FreeagentTyl#update_status when the customer has a Tyl Profile and the API responds with a new status is expected to be truthy","status":"passed","file_path":"./spec/integrations/freeagent_tyl_spec.rb","line_number":274,"run_time":0.020314886,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/freeagent_tyl_spec.rb[1:7:2:1:2]","description":"updates the stored state","full_description":"FreeagentTyl#update_status when the customer has a Tyl Profile and the API responds with a new status updates the stored state","status":"passed","file_path":"./spec/integrations/freeagent_tyl_spec.rb","line_number":276,"run_time":0.024143708,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/freeagent_tyl_spec.rb[1:7:2:2:1]","description":"raises the exception and leaves the profile state unchanged","full_description":"FreeagentTyl#update_status when the customer has a Tyl Profile and the API fails raises the exception and leaves the profile state unchanged","status":"passed","file_path":"./spec/integrations/freeagent_tyl_spec.rb","line_number":289,"run_time":0.014608288,"pending_message":null,"screenshot":null},{"id":"./spec/lib/event_system/concerns/event_context_request_spec.rb[1:1:1]","description":"creates a request specific context","full_description":"EventSystem::Concerns::EventContext#event_context creates a request specific context","status":"passed","file_path":"./spec/lib/event_system/concerns/event_context_request_spec.rb","line_number":9,"run_time":0.007106365,"pending_message":null,"screenshot":null},{"id":"./spec/lib/event_system/concerns/event_context_request_spec.rb[1:1:2:1]","description":"creates a request specific context","full_description":"EventSystem::Concerns::EventContext#event_context for base controllers creates a request specific context","status":"passed","file_path":"./spec/lib/event_system/concerns/event_context_request_spec.rb","line_number":26,"run_time":0.007225011,"pending_message":null,"screenshot":null},{"id":"./spec/lib/event_system/concerns/event_context_request_spec.rb[1:1:2:2]","description":"allows parameters to be overwritten","full_description":"EventSystem::Concerns::EventContext#event_context for base controllers allows parameters to be overwritten","status":"passed","file_path":"./spec/lib/event_system/concerns/event_context_request_spec.rb","line_number":39,"run_time":0.008817212,"pending_message":null,"screenshot":null},{"id":"./spec/lib/event_system/concerns/event_context_request_spec.rb[1:1:2:3:1]","description":"uses the defined parameters","full_description":"EventSystem::Concerns::EventContext#event_context for base controllers for base controllers with defined parameters uses the defined parameters","status":"passed","file_path":"./spec/lib/event_system/concerns/event_context_request_spec.rb","line_number":77,"run_time":0.225131282,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/channel_migration_spec.rb[1:1:1:1:1]","description":"successfully migrates","full_description":"Subscription::ChannelMigration#migrate given a Direct channel company moving to RBSG successfully migrates","status":"passed","file_path":"./spec/models/subscription/channel_migration_spec.rb","line_number":15,"run_time":0.041071467,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/channel_migration_spec.rb[1:1:1:1:2]","description":"adds a subscription history item","full_description":"Subscription::ChannelMigration#migrate given a Direct channel company moving to RBSG adds a subscription history item","status":"passed","file_path":"./spec/models/subscription/channel_migration_spec.rb","line_number":21,"run_time":0.043803039,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/channel_migration_spec.rb[1:1:2:1:1]","description":"successfully migrates","full_description":"Subscription::ChannelMigration#migrate given an RBSG channel company moving to Direct successfully migrates","status":"passed","file_path":"./spec/models/subscription/channel_migration_spec.rb","line_number":35,"run_time":0.109768532,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/channel_migration_spec.rb[1:1:2:1:2]","description":"adds a subscription history item","full_description":"Subscription::ChannelMigration#migrate given an RBSG channel company moving to Direct adds a subscription history item","status":"passed","file_path":"./spec/models/subscription/channel_migration_spec.rb","line_number":40,"run_time":0.105014171,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_icon.html.erb_spec.rb[1:1]","description":"renders the icon svg for the given icon name","full_description":"freestyle/components/_icon renders the icon svg for the given icon name","status":"passed","file_path":"./spec/views/freestyle/components/_icon.html.erb_spec.rb","line_number":4,"run_time":0.052859876,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_icon.html.erb_spec.rb[1:2]","description":"throws an error if a non existent icon is requested","full_description":"freestyle/components/_icon throws an error if a non existent icon is requested","status":"passed","file_path":"./spec/views/freestyle/components/_icon.html.erb_spec.rb","line_number":10,"run_time":0.048167959,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_icon.html.erb_spec.rb[1:3]","description":"adds any attributes to the wrapper span","full_description":"freestyle/components/_icon adds any attributes to the wrapper span","status":"passed","file_path":"./spec/views/freestyle/components/_icon.html.erb_spec.rb","line_number":17,"run_time":0.049766236,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_icon.html.erb_spec.rb[1:4]","description":"appends any extra classes to the classes on the wrapper","full_description":"freestyle/components/_icon appends any extra classes to the classes on the wrapper","status":"passed","file_path":"./spec/views/freestyle/components/_icon.html.erb_spec.rb","line_number":23,"run_time":0.047433607,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_icon.html.erb_spec.rb[1:5:1]","description":"has a class name as fe-Icon--major","full_description":"freestyle/components/_icon when the icon is a major icon has a class name as fe-Icon--major","status":"passed","file_path":"./spec/views/freestyle/components/_icon.html.erb_spec.rb","line_number":30,"run_time":0.052480821,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:108:4:1]","description":"can't be changed","full_description":"Invoice with a CIS category on a written off invoice can't be changed","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":3208,"run_time":0.280688775,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/open_banking/account_integrations_helper_spec.rb[1:1:1:1]","description":"doesn't display a curency","full_description":"OpenBanking::AccountIntegrationsHelper#authorised_account_select when the authorised account has a blank valid currency doesn't display a curency","status":"passed","file_path":"./spec/helpers/open_banking/account_integrations_helper_spec.rb","line_number":30,"run_time":0.049818613,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/open_banking/account_integrations_helper_spec.rb[1:2:1]","description":"returns a display name for an authorised account","full_description":"OpenBanking::AccountIntegrationsHelper#authorised_account_display_name returns a display name for an authorised account","status":"passed","file_path":"./spec/helpers/open_banking/account_integrations_helper_spec.rb","line_number":43,"run_time":0.044917185,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/open_banking/account_integrations_helper_spec.rb[1:2:2:1]","description":"doesn't display a curency","full_description":"OpenBanking::AccountIntegrationsHelper#authorised_account_display_name when a live balance is not available doesn't display a curency","status":"passed","file_path":"./spec/helpers/open_banking/account_integrations_helper_spec.rb","line_number":50,"run_time":0.049293693,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/open_banking/account_integrations_helper_spec.rb[1:2:3:1]","description":"returns a display name including linked info","full_description":"OpenBanking::AccountIntegrationsHelper#authorised_account_display_name authorised account is linked returns a display name including linked info","status":"passed","file_path":"./spec/helpers/open_banking/account_integrations_helper_spec.rb","line_number":62,"run_time":0.15613401,"pending_message":null,"screenshot":null}],"summary":{"duration":2.031689311,"example_count":517,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"517 examples, 0 failures"}