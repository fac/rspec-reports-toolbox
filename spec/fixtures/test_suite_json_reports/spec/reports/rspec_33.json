{"version":"3.11.0","messages":["Run options:\n  include {:ids=\u003e{\"./spec/models/invoice_spec.rb\"=\u003e[\"1:16:1:1\"]}}\n  exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/features/bills/manage_bill_spec.rb[1:1]","description":"displays the bill with all its items","full_description":"when managing bill items on a bill displays the bill with all its items","status":"passed","file_path":"./spec/features/bills/manage_bill_spec.rb","line_number":26,"run_time":21.073507434,"pending_message":null,"screenshot":null},{"id":"./spec/features/bills/manage_bill_spec.rb[1:2]","description":"displays the bill title correctly","full_description":"when managing bill items on a bill displays the bill title correctly","status":"passed","file_path":"./spec/features/bills/manage_bill_spec.rb","line_number":164,"run_time":2.997501944,"pending_message":null,"screenshot":null},{"id":"./spec/features/bills/manage_bill_spec.rb[1:3:1]","description":"displays the bill with all its items and allows limited editing","full_description":"when managing bill items on a bill with a paid bill displays the bill with all its items and allows limited editing","status":"passed","file_path":"./spec/features/bills/manage_bill_spec.rb","line_number":206,"run_time":2.798313536,"pending_message":null,"screenshot":null},{"id":"./spec/features/bills/manage_bill_spec.rb[1:4:1]","description":"displays the bill with all its items and allows no fields to be edited","full_description":"when managing bill items on a bill with a bill in a locked period displays the bill with all its items and allows no fields to be edited","status":"passed","file_path":"./spec/features/bills/manage_bill_spec.rb","line_number":260,"run_time":1.698004063,"pending_message":null,"screenshot":null},{"id":"./spec/features/bills/manage_bill_spec.rb[1:5:1]","description":"displays the bill with all its items","full_description":"when managing bill items on a bill with a foreign currency bill displays the bill with all its items","status":"passed","file_path":"./spec/features/bills/manage_bill_spec.rb","line_number":306,"run_time":2.507265654,"pending_message":null,"screenshot":null},{"id":"./spec/features/invoices/new_invoice_emails_spec.rb[1:1:1:1]","description":"supports including a payment button on the new invoice email template","full_description":"when sending emails for a new invoice when the email_payment_button feature switch is enabled when setting up a new invoice template and sending an invoice supports including a payment button on the new invoice email template","status":"passed","file_path":"./spec/features/invoices/new_invoice_emails_spec.rb","line_number":28,"run_time":5.281360782,"pending_message":null,"screenshot":null},{"id":"./spec/features/invoices/new_invoice_emails_spec.rb[1:1:2:1]","description":"supports including a payment button on the custom new invoice email template","full_description":"when sending emails for a new invoice when the email_payment_button feature switch is enabled when customising the new invoice template on a new invoice and sending it supports including a payment button on the custom new invoice email template","status":"passed","file_path":"./spec/features/invoices/new_invoice_emails_spec.rb","line_number":67,"run_time":6.212023888,"pending_message":null,"screenshot":null},{"id":"./spec/features/invoices/new_invoice_emails_spec.rb[1:1:2:2:1]","description":"should enable the 'include payment button' checkbox by default","full_description":"when sending emails for a new invoice when the email_payment_button feature switch is enabled when customising the new invoice template on a new invoice and sending it when the 'include payment button' is enabled on a new invoice email template should enable the 'include payment button' checkbox by default","status":"passed","file_path":"./spec/features/invoices/new_invoice_emails_spec.rb","line_number":122,"run_time":2.513592118,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2016_17/ni_letters_and_values.feature[1:1:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When running payroll for 4 months -\u003e Then the NI values for letter A should look like","full_description":"NI Letters and Values 2017 NI Letters and Values for a normal employee Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When running payroll for 4 months -\u003e Then the NI values for letter A should look like","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/ni_letters_and_values.feature","line_number":10,"run_time":1.022927427,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2016_17/ni_letters_and_values.feature[1:2:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e And they have migrated earnings -\u003e When running payroll for 4 months -\u003e Then the NI values for letter A should look like","full_description":"NI Letters and Values 2017 NI Letters and Values for an employee with migrated pay Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e And they have migrated earnings -\u003e When running payroll for 4 months -\u003e Then the NI values for letter A should look like","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/ni_letters_and_values.feature","line_number":21,"run_time":0.964212722,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2016_17/ni_letters_and_values.feature[1:3:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When running payroll for 4 months -\u003e And in month 5 they turn 65 so change to letter C -\u003e And they run payroll for 2 months -\u003e Then the NI values for letter A should look like -\u003e Then the NI values for letter C should look like","full_description":"NI Letters and Values 2017 NI Letters and Values for an employee with multiple NI letters Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When running payroll for 4 months -\u003e And in month 5 they turn 65 so change to letter C -\u003e And they run payroll for 2 months -\u003e Then the NI values for letter A should look like -\u003e Then the NI values for letter C should look like","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/ni_letters_and_values.feature","line_number":35,"run_time":1.230633435,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2016_17/ni_letters_and_values.feature[1:4:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Director payroll profile with NI letter A -\u003e And they are paid £3000 monthly -\u003e When running payroll for 4 months -\u003e Then the NI values for letter A should look like","full_description":"NI Letters and Values 2017 NI Letters and Values for a director Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Director payroll profile with NI letter A -\u003e And they are paid £3000 monthly -\u003e When running payroll for 4 months -\u003e Then the NI values for letter A should look like","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/ni_letters_and_values.feature","line_number":54,"run_time":0.813374221,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2016_17/ni_letters_and_values.feature[1:5:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Director payroll profile with NI letter A -\u003e And they are paid £3000 monthly -\u003e And they have migrated earnings -\u003e When running payroll for 4 months -\u003e Then the NI values for letter A should look like","full_description":"NI Letters and Values 2017 NI Letters and Values for a director with migrated pay Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Director payroll profile with NI letter A -\u003e And they are paid £3000 monthly -\u003e And they have migrated earnings -\u003e When running payroll for 4 months -\u003e Then the NI values for letter A should look like","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/ni_letters_and_values.feature","line_number":65,"run_time":0.82469064,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2016_17/ni_letters_and_values.feature[1:6:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Director payroll profile with NI letter A -\u003e And they are paid £3000 monthly -\u003e When running payroll for 4 months -\u003e And in month 5 they turn 65 so change to letter C -\u003e And they run payroll for 2 months -\u003e Then the NI values for letter A should look like -\u003e Then the NI values for letter C should look like","full_description":"NI Letters and Values 2017 NI Letters and Values for a director with multiple NI letters Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Director payroll profile with NI letter A -\u003e And they are paid £3000 monthly -\u003e When running payroll for 4 months -\u003e And in month 5 they turn 65 so change to letter C -\u003e And they run payroll for 2 months -\u003e Then the NI values for letter A should look like -\u003e Then the NI values for letter C should look like","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/ni_letters_and_values.feature","line_number":79,"run_time":1.170389069,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2016_17/ni_letters_and_values.feature[1:7:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When running payroll for 4 months -\u003e And they switch to Director NI contributions in month 5 with a directorship start date of 2016-08-06 -\u003e And they run payroll for the rest of the tax year -\u003e Then the NI values for letter A should look like","full_description":"NI Letters and Values 2017 NI Letters and Values for an employee who becomes a director Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When running payroll for 4 months -\u003e And they switch to Director NI contributions in month 5 with a directorship start date of 2016-08-06 -\u003e And they run payroll for the rest of the tax year -\u003e Then the NI values for letter A should look like","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/ni_letters_and_values.feature","line_number":98,"run_time":2.202298825,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2016_17/ni_letters_and_values.feature[1:8:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £3000 monthly -\u003e When they leave employment on 2016-07-25 -\u003e And they run payroll for a period -\u003e Then the NI values for letter A should look like","full_description":"NI Letters and Values 2017 NI Letters and Values for a director on the alternate method who steps down during the tax year Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £3000 monthly -\u003e When they leave employment on 2016-07-25 -\u003e And they run payroll for a period -\u003e Then the NI values for letter A should look like","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/ni_letters_and_values.feature","line_number":119,"run_time":0.779250452,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2016_17/ni_letters_and_values.feature[1:9:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And the user is a Director -\u003e And they are paid £3000 monthly -\u003e When running payroll for 12 months -\u003e Then the NI values for letter A should look like","full_description":"NI Letters and Values 2017 NI Letters and Values for a director, recorded as an employee Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And the user is a Director -\u003e And they are paid £3000 monthly -\u003e When running payroll for 12 months -\u003e Then the NI values for letter A should look like","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/ni_letters_and_values.feature","line_number":131,"run_time":2.356167301,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2016_17/ni_letters_and_values.feature[1:10:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e And they have migrated earnings -\u003e And they leave employment on 2016-07-25 -\u003e When running payroll for 4 months -\u003e Then the NI values for letter A should look like","full_description":"NI Letters and Values 2017 NI Letters and Values for a director on the alternate arrangements with migrated pay finishing the year Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e And they have migrated earnings -\u003e And they leave employment on 2016-07-25 -\u003e When running payroll for 4 months -\u003e Then the NI values for letter A should look like","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/ni_letters_and_values.feature","line_number":151,"run_time":1.167638721,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2016_17/ni_letters_and_values.feature[1:11:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And the user is a Director -\u003e And they are paid £4000 monthly -\u003e When running payroll for 12 months -\u003e Then the NI values for letter A should look like","full_description":"NI Letters and Values 2017 NI Letters and Values for Director on Alternative Arrangements earning above the Upper Earnings Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And the user is a Director -\u003e And they are paid £4000 monthly -\u003e When running payroll for 12 months -\u003e Then the NI values for letter A should look like","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/ni_letters_and_values.feature","line_number":166,"run_time":2.43919788,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:1:1]","description":"returns authorised accounts for the bank service","full_description":"OpenBanking::AuthorisedAccount.filter_by_bank_service returns authorised accounts for the bank service","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":234,"run_time":0.223670506,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:2:1]","description":"returns authorised accounts that are linked","full_description":"OpenBanking::AuthorisedAccount.linked returns authorised accounts that are linked","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":250,"run_time":0.186109635,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:3:1]","description":"returns the authorised accounts that match the bank account","full_description":"OpenBanking::AuthorisedAccount.filter_by_bank_account returns the authorised accounts that match the bank account","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":259,"run_time":0.149492425,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:3:2]","description":"returns all bank accounts when no bank account is passed in","full_description":"OpenBanking::AuthorisedAccount.filter_by_bank_account returns all bank accounts when no bank account is passed in","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":272,"run_time":0.157259953,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:3:3]","description":"returns all bank accounts when no account number and sort code are present","full_description":"OpenBanking::AuthorisedAccount.filter_by_bank_account returns all bank accounts when no account number and sort code are present","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":280,"run_time":0.164045752,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:3:4]","description":"is able to not allow blank matches","full_description":"OpenBanking::AuthorisedAccount.filter_by_bank_account is able to not allow blank matches","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":293,"run_time":0.057406162,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:4:1]","description":"is expected to eq \"open_banking_authorised_accounts\"","full_description":"OpenBanking::AuthorisedAccount.table_name is expected to eq \"open_banking_authorised_accounts\"","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":307,"run_time":0.00393878,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:5:1]","description":"is the sort code","full_description":"OpenBanking::AuthorisedAccount#sort_code is the sort code","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":311,"run_time":0.035717473,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:5:2]","description":"is the sort_code for pre v3 versions of the API","full_description":"OpenBanking::AuthorisedAccount#sort_code is the sort_code for pre v3 versions of the API","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":315,"run_time":0.039350795,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:5:3]","description":"is the sort code when the scheme name has different casing","full_description":"OpenBanking::AuthorisedAccount#sort_code is the sort code when the scheme name has different casing","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":321,"run_time":0.037829586,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:5:4]","description":"is nil when there is no sort code","full_description":"OpenBanking::AuthorisedAccount#sort_code is nil when there is no sort code","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":326,"run_time":0.037205487,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:6:1]","description":"is the account number","full_description":"OpenBanking::AuthorisedAccount#account_number is the account number","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":333,"run_time":0.038366094,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:6:2]","description":"is the account number for pre v3 versions of the API","full_description":"OpenBanking::AuthorisedAccount#account_number is the account number for pre v3 versions of the API","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":337,"run_time":0.036653482,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:6:3]","description":"is undefined when there is no account number","full_description":"OpenBanking::AuthorisedAccount#account_number is undefined when there is no account number","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":342,"run_time":0.029185996,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:6:4:1]","description":"returns the account number","full_description":"OpenBanking::AuthorisedAccount#account_number with an account number less than 8 digits returns the account number","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":350,"run_time":0.029359463,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:7:1]","description":"returns the last four digits of the identification","full_description":"OpenBanking::AuthorisedAccount sanitized_identification returns the last four digits of the identification","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":357,"run_time":0.03013326,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:8:1]","description":"returns a formatted nickname with identifier","full_description":"OpenBanking::AuthorisedAccount nickname_with_identifier returns a formatted nickname with identifier","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":363,"run_time":0.029442465,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:8:2:1]","description":"returns the identifier only","full_description":"OpenBanking::AuthorisedAccount nickname_with_identifier when the account nickname is not present returns the identifier only","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":371,"run_time":0.029544413,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:9:1]","description":"fetches the standing orders ","full_description":"OpenBanking::AuthorisedAccount#fetch_standing_orders fetches the standing orders ","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":391,"run_time":0.120771509,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:10:1]","description":"fetches the scheduled payments","full_description":"OpenBanking::AuthorisedAccount#fetch_scheduled_payments fetches the scheduled payments","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":430,"run_time":0.042066093,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:11:1]","description":"fetches the booked transactions by default","full_description":"OpenBanking::AuthorisedAccount#fetch_transactions fetches the booked transactions by default","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":449,"run_time":0.040737811,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:11:2:1]","description":"returns an empty collection","full_description":"OpenBanking::AuthorisedAccount#fetch_transactions when the from_date is greater than the to_date returns an empty collection","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":464,"run_time":0.035814438,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:11:2:2]","description":"does not make an api call","full_description":"OpenBanking::AuthorisedAccount#fetch_transactions when the from_date is greater than the to_date does not make an api call","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":469,"run_time":0.035668687,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:11:3:1]","description":"excludes the transactions dated outside the desired range","full_description":"OpenBanking::AuthorisedAccount#fetch_transactions when transactions outwith the request range are received excludes the transactions dated outside the desired range","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":476,"run_time":0.042172171,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:11:4:1]","description":"does not make an api call","full_description":"OpenBanking::AuthorisedAccount#fetch_transactions when the time zones come into play does not make an api call","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":484,"run_time":0.034123169,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:11:5:1]","description":"does not have any transaction ids in the transaction data","full_description":"OpenBanking::AuthorisedAccount#fetch_transactions when the provider config says to ignore transaction_ids does not have any transaction ids in the transaction data","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":521,"run_time":0.050777418,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:11:6:1]","description":"get transactions successfully","full_description":"OpenBanking::AuthorisedAccount#fetch_transactions when ActiveSupport::TimeWithZone provided as from/to Date get transactions successfully","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":537,"run_time":0.042203433,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:12:1:1]","description":"logs that all transactions have balances","full_description":"OpenBanking::AuthorisedAccount#fetch_transactions - balance_at_bank_logging when all transactions have balances logs that all transactions have balances","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":572,"run_time":0.04382944,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:12:2:1]","description":"logs that not all transactions have balances","full_description":"OpenBanking::AuthorisedAccount#fetch_transactions - balance_at_bank_logging when some transactions have balances logs that not all transactions have balances","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":595,"run_time":0.042637694,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:12:3:1]","description":"logs that not all transactions have balances","full_description":"OpenBanking::AuthorisedAccount#fetch_transactions - balance_at_bank_logging when no transactions have balances logs that not all transactions have balances","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":618,"run_time":0.044935721,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:12:4:1]","description":"logs correctly","full_description":"OpenBanking::AuthorisedAccount#fetch_transactions - balance_at_bank_logging when BankIntegration is missing logs correctly","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":646,"run_time":0.046349589,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:13:2]","description":"is nil when account matches but authorised_account consent not authorised","full_description":"OpenBanking::AuthorisedAccount.matching_account is nil when account matches but authorised_account consent not authorised","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":672,"run_time":0.073737027,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:13:3]","description":"is nil when there is not an authorised account that matches the bank account","full_description":"OpenBanking::AuthorisedAccount.matching_account is nil when there is not an authorised account that matches the bank account","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":676,"run_time":0.069876177,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:13:1:1]","description":"is the authorised account that matches the bank account","full_description":"OpenBanking::AuthorisedAccount.matching_account consent is authorised is the authorised account that matches the bank account","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":667,"run_time":0.069993429,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:14:3]","description":"is false when the identification is not supported","full_description":"OpenBanking::AuthorisedAccount#matches? is false when the identification is not supported","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":732,"run_time":0.160873876,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:14:1:1]","description":"is true when the account number and sort code match the authorised account","full_description":"OpenBanking::AuthorisedAccount#matches? for an authorised account with a sort code and account number is true when the account number and sort code match the authorised account","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":683,"run_time":0.051023202,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:14:1:2]","description":"is true when the account number and sort code match and the scheme name has different casing","full_description":"OpenBanking::AuthorisedAccount#matches? for an authorised account with a sort code and account number is true when the account number and sort code match and the scheme name has different casing","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":687,"run_time":0.049526164,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:14:1:3]","description":"is false when the account number and sort code do not match the authorised account","full_description":"OpenBanking::AuthorisedAccount#matches? for an authorised account with a sort code and account number is false when the account number and sort code do not match the authorised account","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":692,"run_time":0.057557334,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:14:1:4]","description":"is false when the bank account doesn't have an account number","full_description":"OpenBanking::AuthorisedAccount#matches? for an authorised account with a sort code and account number is false when the bank account doesn't have an account number","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":696,"run_time":0.082937223,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:14:1:5]","description":"is false when the bank account doesn't have a sort code","full_description":"OpenBanking::AuthorisedAccount#matches? for an authorised account with a sort code and account number is false when the bank account doesn't have a sort code","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":701,"run_time":0.071717567,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:14:1:6]","description":"is false if the currencies do not match","full_description":"OpenBanking::AuthorisedAccount#matches? for an authorised account with a sort code and account number is false if the currencies do not match","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":706,"run_time":0.12283933,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:14:2:1]","description":"is true when the IBAN matches the authorised account","full_description":"OpenBanking::AuthorisedAccount#matches? for an authorised account with an IBAN is true when the IBAN matches the authorised account","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":718,"run_time":0.062036018,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:14:2:2]","description":"is true when the IBAN matches and the scheme name has different casing","full_description":"OpenBanking::AuthorisedAccount#matches? for an authorised account with an IBAN is true when the IBAN matches and the scheme name has different casing","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":722,"run_time":0.061732665,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:14:2:3]","description":"is false when the IBAN does not match the authorised account","full_description":"OpenBanking::AuthorisedAccount#matches? for an authorised account with an IBAN is false when the IBAN does not match the authorised account","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":727,"run_time":0.070230489,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:14:4:1]","description":"returns true for a credit card bank account with matching account number","full_description":"OpenBanking::AuthorisedAccount#matches? for a credit card account returns true for a credit card bank account with matching account number","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":746,"run_time":0.073437627,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:14:4:2]","description":"returns false for a credit card bank account with non-matching account number","full_description":"OpenBanking::AuthorisedAccount#matches? for a credit card account returns false for a credit card bank account with non-matching account number","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":750,"run_time":0.05597647,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:14:4:3]","description":"returns false for a standard bank account","full_description":"OpenBanking::AuthorisedAccount#matches? for a credit card account returns false for a standard bank account","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":754,"run_time":0.069556956,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:14:5:1]","description":"matches the bank account and successfully obtains values for the sort code and account number","full_description":"OpenBanking::AuthorisedAccount#matches? for a Santander 'SavingsRollNumber' `scheme_name` matches the bank account and successfully obtains values for the sort code and account number","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":769,"run_time":0.072190213,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:14:5:2:1]","description":"returns false","full_description":"OpenBanking::AuthorisedAccount#matches? for a Santander 'SavingsRollNumber' `scheme_name` when the bank account does not have an account number returns false","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":779,"run_time":0.08508608,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:14:5:3:1]","description":"matches the bank account and returns values for the sort code and account number","full_description":"OpenBanking::AuthorisedAccount#matches? for a Santander 'SavingsRollNumber' `scheme_name` when the `identification` field has some non-numeric characters matches the bank account and returns values for the sort code and account number","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":787,"run_time":0.057662561,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:14:5:3:2:1]","description":"matches the bank account and returns values for the sort code and account number","full_description":"OpenBanking::AuthorisedAccount#matches? for a Santander 'SavingsRollNumber' `scheme_name` when the `identification` field has some non-numeric characters and the BankAccount does not have an account number or sort code matches the bank account and returns values for the sort code and account number","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":796,"run_time":0.080232604,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:15:1]","description":"returns false if authorised account has no account integration","full_description":"OpenBanking::AuthorisedAccount#linked? returns false if authorised account has no account integration","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":808,"run_time":0.038971215,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:15:2:1]","description":"returns true","full_description":"OpenBanking::AuthorisedAccount#linked? has an account integration returns true","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":817,"run_time":0.151061568,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:16:1]","description":"returns false by default","full_description":"OpenBanking::AuthorisedAccount#personal? returns false by default","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":824,"run_time":0.036096242,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:16:2]","description":"is true when the account_type is Personal","full_description":"OpenBanking::AuthorisedAccount#personal? is true when the account_type is Personal","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":828,"run_time":0.025187853,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:17:1]","description":"is false if the sub type isnt defined as a credit card","full_description":"OpenBanking::AuthorisedAccount#credit_card? is false if the sub type isnt defined as a credit card","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":835,"run_time":0.022887455,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:17:2]","description":"is true when the account_sub_type is CreditCard","full_description":"OpenBanking::AuthorisedAccount#credit_card? is true when the account_sub_type is CreditCard","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":840,"run_time":0.023916349,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:17:3]","description":"is true when the account_sub_type is ChargeCard","full_description":"OpenBanking::AuthorisedAccount#credit_card? is true when the account_sub_type is ChargeCard","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":845,"run_time":0.025478793,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:18:1]","description":"is true for lowercase v6","full_description":"OpenBanking::AuthorisedAccount#rbsg_foundation? is true for lowercase v6","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":852,"run_time":0.036356785,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:18:2]","description":"is true for uppercase V6","full_description":"OpenBanking::AuthorisedAccount#rbsg_foundation? is true for uppercase V6","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":857,"run_time":0.035944533,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:18:3]","description":"is false when string is not v6","full_description":"OpenBanking::AuthorisedAccount#rbsg_foundation? is false when string is not v6","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":862,"run_time":0.042293064,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:18:4]","description":"is false when v6 is a substring","full_description":"OpenBanking::AuthorisedAccount#rbsg_foundation? is false when v6 is a substring","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":867,"run_time":0.036033174,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:18:5]","description":"is false when the product id is nil","full_description":"OpenBanking::AuthorisedAccount#rbsg_foundation? is false when the product id is nil","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":872,"run_time":0.037923926,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:19:1]","description":"saves the product id","full_description":"OpenBanking::AuthorisedAccount#fetch_and_save_product_id! saves the product id","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":879,"run_time":0.041939974,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:20:1]","description":"returns the last four digits of the authorised_account.identification for a PAN account","full_description":"OpenBanking::AuthorisedAccount#display_account_number returns the last four digits of the authorised_account.identification for a PAN account","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":891,"run_time":0.019967316,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:20:2]","description":"returns the last four digits of the authorised_account.identification for an IBAN account","full_description":"OpenBanking::AuthorisedAccount#display_account_number returns the last four digits of the authorised_account.identification for an IBAN account","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":896,"run_time":0.018747014,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:20:3]","description":"returns the bank account number for a UK.OBIE.SortCodeAccountNumber account","full_description":"OpenBanking::AuthorisedAccount#display_account_number returns the bank account number for a UK.OBIE.SortCodeAccountNumber account","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":901,"run_time":0.017168234,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:20:4]","description":"returns the bank account number for a santander savings scheme account","full_description":"OpenBanking::AuthorisedAccount#display_account_number returns the bank account number for a santander savings scheme account","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":906,"run_time":0.020182619,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:21:1]","description":"favours InterimBooked","full_description":"OpenBanking::AuthorisedAccount#live_balance_detail favours InterimBooked","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":926,"run_time":0.133608922,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:21:3]","description":"is not lazy instantiated","full_description":"OpenBanking::AuthorisedAccount#live_balance_detail is not lazy instantiated","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":954,"run_time":0.140428026,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:21:2:1]","description":"returns nil when the API returns an error","full_description":"OpenBanking::AuthorisedAccount#live_balance_detail when the API returns an error returns nil when the API returns an error","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":940,"run_time":0.140958862,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:21:2:2]","description":"logs an error","full_description":"OpenBanking::AuthorisedAccount#live_balance_detail when the API returns an error logs an error","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":944,"run_time":0.13327858,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:22:1]","description":"can redact card numbers","full_description":"OpenBanking::AuthorisedAccount#card_number can redact card numbers","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":970,"run_time":0.029802378,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:22:2]","description":"can return the full card number","full_description":"OpenBanking::AuthorisedAccount#card_number can return the full card number","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":974,"run_time":0.034923229,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:22:3]","description":"is nil when there is no card number","full_description":"OpenBanking::AuthorisedAccount#card_number is nil when there is no card number","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":978,"run_time":0.040511508,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:23:1]","description":"is nil when there is no card number","full_description":"OpenBanking::AuthorisedAccount#last_4_digits_of_card_number is nil when there is no card number","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":991,"run_time":0.040223424,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:23:2]","description":"is the last 4 digits of the card number","full_description":"OpenBanking::AuthorisedAccount#last_4_digits_of_card_number is the last 4 digits of the card number","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":995,"run_time":0.042373286,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:24:1:1]","description":"does not support balance at bank","full_description":"OpenBanking::AuthorisedAccount#supports_balance_at_bank? when the feature is disabled does not support balance at bank","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":1006,"run_time":0.043020344,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:24:2:1:1]","description":"does not support balance at bank","full_description":"OpenBanking::AuthorisedAccount#supports_balance_at_bank? when the feature is enabled when the provider doesn't support balance at bank does not support balance at bank","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":1017,"run_time":0.044412373,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:24:2:2:1]","description":"supports balance at bank","full_description":"OpenBanking::AuthorisedAccount#supports_balance_at_bank? when the feature is enabled when the provider supports balance at bank supports balance at bank","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":1028,"run_time":0.05637708,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:25:1:1]","description":"updates balances_at_bank for days with an existing balance_at_bank","full_description":"OpenBanking::AuthorisedAccount#create_balances_at_bank_from_transactions for a provider that returns transactions in date DESC order updates balances_at_bank for days with an existing balance_at_bank","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":1075,"run_time":0.173579108,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:25:1:2]","description":"creates balances_at_bank for days without a balance_at_bank","full_description":"OpenBanking::AuthorisedAccount#create_balances_at_bank_from_transactions for a provider that returns transactions in date DESC order creates balances_at_bank for days without a balance_at_bank","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":1082,"run_time":0.184779742,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:25:1:3]","description":"doesn't create balances_at_bank when transactions don't have balances","full_description":"OpenBanking::AuthorisedAccount#create_balances_at_bank_from_transactions for a provider that returns transactions in date DESC order doesn't create balances_at_bank when transactions don't have balances","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":1092,"run_time":0.192801788,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:25:2:1]","description":"updates balances_at_bank for days with an existing balance_at_bank","full_description":"OpenBanking::AuthorisedAccount#create_balances_at_bank_from_transactions for a provider that returns transactions in date ASC order updates balances_at_bank for days with an existing balance_at_bank","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":1112,"run_time":0.178407707,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:25:2:2]","description":"creates balances_at_bank for days without a balance_at_bank","full_description":"OpenBanking::AuthorisedAccount#create_balances_at_bank_from_transactions for a provider that returns transactions in date ASC order creates balances_at_bank for days without a balance_at_bank","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":1119,"run_time":0.213834651,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:25:2:3]","description":"doesn't create balances_at_bank when transactions don't have balances","full_description":"OpenBanking::AuthorisedAccount#create_balances_at_bank_from_transactions for a provider that returns transactions in date ASC order doesn't create balances_at_bank when transactions don't have balances","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":1129,"run_time":0.187733451,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:25:3:1:1]","description":"retries and succeeds on the second attempt","full_description":"OpenBanking::AuthorisedAccount#create_balances_at_bank_from_transactions when there is a race condition between jobs with a ActiveRecord::RecordNotUnique retries and succeeds on the second attempt","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":1156,"run_time":0.19122924,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:25:3:1:2]","description":"removes any non-persisted Balances at Bank on the Authorised Account","full_description":"OpenBanking::AuthorisedAccount#create_balances_at_bank_from_transactions when there is a race condition between jobs with a ActiveRecord::RecordNotUnique removes any non-persisted Balances at Bank on the Authorised Account","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":1163,"run_time":0.197038057,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:25:3:1:3:1]","description":"raises a BalanceAtBankError","full_description":"OpenBanking::AuthorisedAccount#create_balances_at_bank_from_transactions when there is a race condition between jobs with a ActiveRecord::RecordNotUnique after 5 attempts raises a BalanceAtBankError","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":1181,"run_time":0.19907294,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:25:3:2:1]","description":"retries and succeeds on the second attempt","full_description":"OpenBanking::AuthorisedAccount#create_balances_at_bank_from_transactions when there is a race condition between jobs with a ActiveRecord::RecordInvalid retries and succeeds on the second attempt","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":1156,"run_time":0.192801787,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:25:3:2:2]","description":"removes any non-persisted Balances at Bank on the Authorised Account","full_description":"OpenBanking::AuthorisedAccount#create_balances_at_bank_from_transactions when there is a race condition between jobs with a ActiveRecord::RecordInvalid removes any non-persisted Balances at Bank on the Authorised Account","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":1163,"run_time":0.20056947,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:25:3:2:3:1]","description":"raises a BalanceAtBankError","full_description":"OpenBanking::AuthorisedAccount#create_balances_at_bank_from_transactions when there is a race condition between jobs with a ActiveRecord::RecordInvalid after 5 attempts raises a BalanceAtBankError","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":1181,"run_time":0.190102193,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:25:4:1]","description":"logs an error","full_description":"OpenBanking::AuthorisedAccount#create_balances_at_bank_from_transactions when BankAccount is missing logs an error","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":1200,"run_time":0.240424348,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:25:5:1]","description":"doesn't create any Balance at Bank records","full_description":"OpenBanking::AuthorisedAccount#create_balances_at_bank_from_transactions when the AuthorisedAccount is not connected to a Bank Account doesn't create any Balance at Bank records","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":1215,"run_time":0.192373953,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:26:1:1]","description":"is expected to eq 0","full_description":"OpenBanking::AuthorisedAccount#balance when no balances_at_bank is expected to eq 0","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":1228,"run_time":0.040905044,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:26:2:1]","description":"is expected to eq 50.0 (BigDecimal)","full_description":"OpenBanking::AuthorisedAccount#balance when balances_at_bank is expected to eq 50.0 (BigDecimal)","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":1236,"run_time":0.248391188,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:27:1]","description":"raises RuntimeError if company hasn't granted Open Banking Support Access","full_description":"OpenBanking::AuthorisedAccount#configured_with_open_banking_support_access raises RuntimeError if company hasn't granted Open Banking Support Access","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":1243,"run_time":0.040006497,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:27:2:1]","description":"causes subsequent #fetch_transactions calls to use the customer-present API client","full_description":"OpenBanking::AuthorisedAccount#configured_with_open_banking_support_access configured with open banking support access causes subsequent #fetch_transactions calls to use the customer-present API client","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":1293,"run_time":0.043446048,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:27:2:2]","description":"causes subsequent #fetch_scheduled_payments calls to use the customer-present API client","full_description":"OpenBanking::AuthorisedAccount#configured_with_open_banking_support_access configured with open banking support access causes subsequent #fetch_scheduled_payments calls to use the customer-present API client","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":1301,"run_time":0.03953815,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:27:2:3]","description":"causes subsequent #fetch_standing_orders calls to use the customer-present API client","full_description":"OpenBanking::AuthorisedAccount#configured_with_open_banking_support_access configured with open banking support access causes subsequent #fetch_standing_orders calls to use the customer-present API client","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":1306,"run_time":0.031309884,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:27:2:4]","description":"returns a clone of itself","full_description":"OpenBanking::AuthorisedAccount#configured_with_open_banking_support_access configured with open banking support access returns a clone of itself","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":1311,"run_time":0.033332215,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:28:1]","description":"sets `opening_balance_warning_dismissed` to false","full_description":"OpenBanking::AuthorisedAccount#schedule_opening_balance_job sets `opening_balance_warning_dismissed` to false","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":1321,"run_time":0.033294792,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:28:2:1]","description":"schedules a Balance at Bank job","full_description":"OpenBanking::AuthorisedAccount#schedule_opening_balance_job with Balance at Bank on for the provider schedules a Balance at Bank job","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":1333,"run_time":0.051507653,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/authorised_account_spec.rb[1:28:3:1]","description":"does not schedule a Balance at Bank job","full_description":"OpenBanking::AuthorisedAccount#schedule_opening_balance_job with Balance at Bank off for the provider does not schedule a Balance at Bank job","status":"passed","file_path":"./spec/models/open_banking/authorised_account_spec.rb","line_number":1340,"run_time":0.041590125,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:1:1:1:1]","description":"responds with the standard contact fields, and contact route as the :path","full_description":"Api::ContactsIntegration GET /contacts with permission_level above My Money with active projects responds with the standard contact fields, and contact route as the :path","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":150,"run_time":0.140258451,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:1:1:2:1]","description":"responds with an array of contacts","full_description":"Api::ContactsIntegration GET /contacts with permission_level above My Money with 3 contacts responds with an array of contacts","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":163,"run_time":0.129781781,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:1:1:3:1:1]","description":"responds with an array of contacts","full_description":"Api::ContactsIntegration GET /contacts with permission_level above My Money pagination with less entries then the default items per page responds with an array of contacts","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":180,"run_time":0.126545965,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:1:1:3:2:1:1]","description":"responds with an array of contacts","full_description":"Api::ContactsIntegration GET /contacts with permission_level above My Money pagination with more entries then the default items per page on the first page responds with an array of contacts","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":197,"run_time":0.115447188,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:1:1:3:2:2:1]","description":"responds with an array of contacts","full_description":"Api::ContactsIntegration GET /contacts with permission_level above My Money pagination with more entries then the default items per page on the last page responds with an array of contacts","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":211,"run_time":0.124462398,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:1:1:4:1]","description":"returns contacts with the default name ordering","full_description":"Api::ContactsIntegration GET /contacts with permission_level above My Money without a :sort parameter returns contacts with the default name ordering","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":231,"run_time":0.176174038,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:1:1:5:1:1]","description":"returns contacts with the default ordering","full_description":"Api::ContactsIntegration GET /contacts with permission_level above My Money with a :sort parameter for :name returns contacts with the default ordering","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":251,"run_time":0.124843909,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:1:1:5:2:1]","description":"returns contacts with the default ordering reversed","full_description":"Api::ContactsIntegration GET /contacts with permission_level above My Money with a :sort parameter for :name descending returns contacts with the default ordering reversed","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":262,"run_time":0.137928853,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:1:1:5:3:1:1]","description":"returns the contacts sorted by :created_at","full_description":"Api::ContactsIntegration GET /contacts with permission_level above My Money with a :sort parameter for :created_at ascending returns the contacts sorted by :created_at","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":275,"run_time":0.138491413,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:1:1:5:3:1:2]","description":"returns the contacts ordered by id when the sort field matches","full_description":"Api::ContactsIntegration GET /contacts with permission_level above My Money with a :sort parameter for :created_at ascending returns the contacts ordered by id when the sort field matches","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":280,"run_time":0.123907531,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:1:1:5:3:2:1]","description":"returns the contacts sorted by :created_at","full_description":"Api::ContactsIntegration GET /contacts with permission_level above My Money with a :sort parameter for :created_at descending returns the contacts sorted by :created_at","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":292,"run_time":0.143378252,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:1:1:5:3:2:2]","description":"returns the contacts ordered by id when the sort field matches","full_description":"Api::ContactsIntegration GET /contacts with permission_level above My Money with a :sort parameter for :created_at descending returns the contacts ordered by id when the sort field matches","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":297,"run_time":0.135237324,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:1:1:5:4:1:1]","description":"returns the contacts sorted by :updated_at","full_description":"Api::ContactsIntegration GET /contacts with permission_level above My Money with a :sort parameter for :updated_at ascending returns the contacts sorted by :updated_at","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":275,"run_time":0.126483218,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:1:1:5:4:1:2]","description":"returns the contacts ordered by id when the sort field matches","full_description":"Api::ContactsIntegration GET /contacts with permission_level above My Money with a :sort parameter for :updated_at ascending returns the contacts ordered by id when the sort field matches","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":280,"run_time":0.125584138,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:1:1:5:4:2:1]","description":"returns the contacts sorted by :updated_at","full_description":"Api::ContactsIntegration GET /contacts with permission_level above My Money with a :sort parameter for :updated_at descending returns the contacts sorted by :updated_at","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":292,"run_time":0.130478729,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:1:1:5:4:2:2]","description":"returns the contacts ordered by id when the sort field matches","full_description":"Api::ContactsIntegration GET /contacts with permission_level above My Money with a :sort parameter for :updated_at descending returns the contacts ordered by id when the sort field matches","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":297,"run_time":0.138205053,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:1:1:5:5:1]","description":"returns a suitable error message","full_description":"Api::ContactsIntegration GET /contacts with permission_level above My Money with a :sort parameter for an invalid field returns a suitable error message","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":311,"run_time":0.115138618,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:1:1:6:1:1:1]","description":"responds with an array of contacts","full_description":"Api::ContactsIntegration GET /contacts with permission_level above My Money filter by view with a valid filter by all responds with an array of contacts","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":339,"run_time":0.250537942,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:1:1:6:1:2:1]","description":"responds with an array of contacts","full_description":"Api::ContactsIntegration GET /contacts with permission_level above My Money filter by view with a valid filter by clients responds with an array of contacts","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":339,"run_time":0.227607908,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:1:1:6:1:3:1]","description":"responds with an array of contacts","full_description":"Api::ContactsIntegration GET /contacts with permission_level above My Money filter by view with a valid filter by suppliers responds with an array of contacts","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":339,"run_time":0.230119188,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:1:1:6:1:4:1]","description":"responds with an array of contacts","full_description":"Api::ContactsIntegration GET /contacts with permission_level above My Money filter by view with a valid filter by active_projects responds with an array of contacts","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":339,"run_time":0.225815092,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:1:1:6:1:5:1]","description":"responds with an array of contacts","full_description":"Api::ContactsIntegration GET /contacts with permission_level above My Money filter by view with a valid filter by completed_projects responds with an array of contacts","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":339,"run_time":0.220502027,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:1:1:6:1:6:1]","description":"responds with an array of contacts","full_description":"Api::ContactsIntegration GET /contacts with permission_level above My Money filter by view with a valid filter by open_clients responds with an array of contacts","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":339,"run_time":0.582187276,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:1:1:6:1:7:1]","description":"responds with an array of contacts","full_description":"Api::ContactsIntegration GET /contacts with permission_level above My Money filter by view with a valid filter by open_suppliers responds with an array of contacts","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":339,"run_time":0.561724493,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:1:1:6:1:8:1]","description":"responds with an array of contacts","full_description":"Api::ContactsIntegration GET /contacts with permission_level above My Money filter by view with a valid filter by active responds with an array of contacts","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":339,"run_time":0.221237302,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:1:1:6:1:9:1]","description":"responds with an array of contacts","full_description":"Api::ContactsIntegration GET /contacts with permission_level above My Money filter by view with a valid filter by hidden responds with an array of contacts","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":339,"run_time":0.253076556,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:1:1:6:2:1]","description":"is expected to respond with status code :bad_request (400)","full_description":"Api::ContactsIntegration GET /contacts with permission_level above My Money filter by view with an invalid filter is expected to respond with status code :bad_request (400)","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":356,"run_time":0.076628047,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:1:2:1]","description":"responds with an array of contacts","full_description":"Api::ContactsIntegration GET /contacts with Time or My Money permission_level responds with an array of contacts","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":367,"run_time":0.102373116,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:2:1:1:1]","description":"responds with the standard contact fields","full_description":"Api::ContactsIntegration GET /contacts/contact_id with permission_level above My Money with valid contact_id responds with the standard contact fields","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":386,"run_time":0.102001411,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:2:1:2:1]","description":"is expected to respond with a missing status code (404)","full_description":"Api::ContactsIntegration GET /contacts/contact_id with permission_level above My Money with invalid contact_id is expected to respond with a missing status code (404)","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":397,"run_time":0.106648339,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:2:2:1]","description":"responds with limited contact fields","full_description":"Api::ContactsIntegration GET /contacts/contact_id with Time or My Money permission_level responds with limited contact fields","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":406,"run_time":0.112994962,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:3:1:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::ContactsIntegration GET /contacts/contact_id/summary with permission level less than ESTIMATES_AND_INVOICES is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":441,"run_time":0.309875817,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:3:2:1]","description":"should include the estimates and invoices only","full_description":"Api::ContactsIntegration GET /contacts/contact_id/summary with ESTIMATES_AND_INVOICES permission level should include the estimates and invoices only","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":451,"run_time":0.375830527,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:3:3:1]","description":"should include bills, estimates, invoices and an account summary","full_description":"Api::ContactsIntegration GET /contacts/contact_id/summary with BILLS permission level should include bills, estimates, invoices and an account summary","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":463,"run_time":0.352598977,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:3:3:2:1]","description":"returns nested items for bills, estimates and invoices","full_description":"Api::ContactsIntegration GET /contacts/contact_id/summary with BILLS permission level when nested attributes are requested returns nested items for bills, estimates and invoices","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":482,"run_time":0.416170758,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:4:1:1:2]","description":"allows the contact's status to be set to hidden","full_description":"Api::ContactsIntegration POST /contacts with permission_level above My Money with valid type allows the contact's status to be set to hidden","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":517,"run_time":0.117188518,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:4:1:1:1:1]","description":"has created a contact record for the current company","full_description":"Api::ContactsIntegration POST /contacts with permission_level above My Money with valid type with valid attributes has created a contact record for the current company","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":506,"run_time":0.114420938,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:4:1:1:1:2]","description":"is expected to have published \"contact created\"","full_description":"Api::ContactsIntegration POST /contacts with permission_level above My Money with valid type with valid attributes is expected to have published \"contact created\"","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":514,"run_time":0.110999197,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:4:1:1:3:1:1]","description":"has the same number of contacts after posting attempt","full_description":"Api::ContactsIntegration POST /contacts with permission_level above My Money with valid type with invalid attributes name has the same number of contacts after posting attempt","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":533,"run_time":0.095430821,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:4:1:1:3:2:1]","description":"does not persist the contact","full_description":"Api::ContactsIntegration POST /contacts with permission_level above My Money with valid type with invalid attributes locale does not persist the contact","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":548,"run_time":0.11516256,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:4:1:2:1]","description":"has the same number of contacts after posting attempt","full_description":"Api::ContactsIntegration POST /contacts with permission_level above My Money with invalid type has the same number of contacts after posting attempt","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":563,"run_time":0.098116335,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:4:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::ContactsIntegration POST /contacts with permission_level Time or My Money is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":576,"run_time":0.131489542,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:5:1:1:2]","description":"allows the contact's status to be set to hidden","full_description":"Api::ContactsIntegration PUT /contacts/contact_id with permission_level above My Money with valid contact_id allows the contact's status to be set to hidden","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":600,"run_time":0.123905521,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:5:1:1:3]","description":"allows the contact's status to be set to active","full_description":"Api::ContactsIntegration PUT /contacts/contact_id with permission_level above My Money with valid contact_id allows the contact's status to be set to active","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":608,"run_time":0.113884633,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:5:1:1:1:1]","description":"does not have an additional contact after one has been updated","full_description":"Api::ContactsIntegration PUT /contacts/contact_id with permission_level above My Money with valid contact_id with valid attributes does not have an additional contact after one has been updated","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":594,"run_time":0.108952757,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:5:1:1:4:1:1]","description":"has the same number of contacts after posting attempt","full_description":"Api::ContactsIntegration PUT /contacts/contact_id with permission_level above My Money with valid contact_id with invalid attributes name has the same number of contacts after posting attempt","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":626,"run_time":0.110517778,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:5:1:2:1]","description":"is expected to respond with a not_found status code (404)","full_description":"Api::ContactsIntegration PUT /contacts/contact_id with permission_level above My Money with invalid contact_id is expected to respond with a not_found status code (404)","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":639,"run_time":0.094452555,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:5:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::ContactsIntegration PUT /contacts/contact_id with permission_level Time or My Money is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":650,"run_time":0.091198489,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:6:1:1:1:1]","description":"has one less contact after deletion","full_description":"Api::ContactsIntegration DELETE /contacts/contact_id with permission_level above My Money with valid contact_id deleteable (no contact entries) has one less contact after deletion","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":667,"run_time":0.131795214,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:6:1:1:2:1]","description":"has the same number of contacts after deletion attempt","full_description":"Api::ContactsIntegration DELETE /contacts/contact_id with permission_level above My Money with valid contact_id not deleteable (with contact entries) has the same number of contacts after deletion attempt","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":680,"run_time":0.114875568,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:6:1:2:1]","description":"is expected to respond with a not_found status code (404)","full_description":"Api::ContactsIntegration DELETE /contacts/contact_id with permission_level above My Money with invalid contact_id is expected to respond with a not_found status code (404)","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":692,"run_time":0.09161327,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts_integration_spec.rb[1:6:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::ContactsIntegration DELETE /contacts/contact_id with permission_level Time or My Money is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/contacts_integration_spec.rb","line_number":702,"run_time":0.101979105,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/inline_form/inline_form_spec.rb[1:1]","description":"clicking a transaction toggles the inline form","full_description":"The banking inline form clicking a transaction toggles the inline form","status":"passed","file_path":"./spec/features/new_banking/inline_form/inline_form_spec.rb","line_number":27,"run_time":2.228044095,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/inline_form/inline_form_spec.rb[1:2]","description":"adding a new explanation","full_description":"The banking inline form adding a new explanation","status":"pending","file_path":"./spec/features/new_banking/inline_form/inline_form_spec.rb","line_number":54,"run_time":3.0572e-05,"pending_message":"Temporarily disabled with xscenario","screenshot":null},{"id":"./spec/features/new_banking/inline_form/inline_form_spec.rb[1:3]","description":"updating a transaction explanation description","full_description":"The banking inline form updating a transaction explanation description","status":"passed","file_path":"./spec/features/new_banking/inline_form/inline_form_spec.rb","line_number":74,"run_time":2.483443548,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/inline_form/inline_form_spec.rb[1:4]","description":"updating a manual transaction amount","full_description":"The banking inline form updating a manual transaction amount","status":"passed","file_path":"./spec/features/new_banking/inline_form/inline_form_spec.rb","line_number":97,"run_time":2.054775564,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/inline_form/inline_form_spec.rb[1:5]","description":"add an attachment to an explanation","full_description":"The banking inline form add an attachment to an explanation","status":"passed","file_path":"./spec/features/new_banking/inline_form/inline_form_spec.rb","line_number":117,"run_time":2.099142176,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_withdraw_transaction_spec.rb[1:1:1]","description":"cannot import if the auto reconciliation is turned off","full_description":"GocardlessWithdrawTransaction#can_import? cannot import if the auto reconciliation is turned off","status":"passed","file_path":"./spec/models/gocardless_withdraw_transaction_spec.rb","line_number":32,"run_time":0.211871914,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_withdraw_transaction_spec.rb[1:1:2]","description":"cannot import if the gocardless settings is destroyed","full_description":"GocardlessWithdrawTransaction#can_import? cannot import if the gocardless settings is destroyed","status":"passed","file_path":"./spec/models/gocardless_withdraw_transaction_spec.rb","line_number":39,"run_time":0.202620048,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_withdraw_transaction_spec.rb[1:1:3]","description":"cannot import if the gocardless integration is disabled","full_description":"GocardlessWithdrawTransaction#can_import? cannot import if the gocardless integration is disabled","status":"passed","file_path":"./spec/models/gocardless_withdraw_transaction_spec.rb","line_number":46,"run_time":0.17320367,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_withdraw_transaction_spec.rb[1:1:4]","description":"cannot import if the transaction's already been created","full_description":"GocardlessWithdrawTransaction#can_import? cannot import if the transaction's already been created","status":"passed","file_path":"./spec/models/gocardless_withdraw_transaction_spec.rb","line_number":53,"run_time":0.467405063,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_withdraw_transaction_spec.rb[1:1:5]","description":"cannot import if the bank account does not exists","full_description":"GocardlessWithdrawTransaction#can_import? cannot import if the bank account does not exists","status":"passed","file_path":"./spec/models/gocardless_withdraw_transaction_spec.rb","line_number":59,"run_time":0.182234742,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_withdraw_transaction_spec.rb[1:1:6]","description":"can import if everything is OK","full_description":"GocardlessWithdrawTransaction#can_import? can import if everything is OK","status":"passed","file_path":"./spec/models/gocardless_withdraw_transaction_spec.rb","line_number":65,"run_time":0.192834902,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_withdraw_transaction_spec.rb[1:1:7:1]","description":"cannot import","full_description":"GocardlessWithdrawTransaction#can_import? for a euro payment cannot import","status":"passed","file_path":"./spec/models/gocardless_withdraw_transaction_spec.rb","line_number":73,"run_time":0.17033681,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_withdraw_transaction_spec.rb[1:2:1]","description":"gocardless_payment should be withdrawn","full_description":"GocardlessWithdrawTransaction#import! gocardless_payment should be withdrawn","status":"passed","file_path":"./spec/models/gocardless_withdraw_transaction_spec.rb","line_number":85,"run_time":0.449516762,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_withdraw_transaction_spec.rb[1:2:2]","description":"creates a bank transaction after withdrawn","full_description":"GocardlessWithdrawTransaction#import! creates a bank transaction after withdrawn","status":"passed","file_path":"./spec/models/gocardless_withdraw_transaction_spec.rb","line_number":91,"run_time":0.433482991,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_withdraw_transaction_spec.rb[1:2:3]","description":"creates one entry for a single bank transaction","full_description":"GocardlessWithdrawTransaction#import! creates one entry for a single bank transaction","status":"passed","file_path":"./spec/models/gocardless_withdraw_transaction_spec.rb","line_number":106,"run_time":0.527454346,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_withdraw_transaction_spec.rb[1:2:4]","description":"creates audit entries","full_description":"GocardlessWithdrawTransaction#import! creates audit entries","status":"passed","file_path":"./spec/models/gocardless_withdraw_transaction_spec.rb","line_number":115,"run_time":0.469577495,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_withdraw_transaction_spec.rb[1:2:5]","description":"publishes a bank transaction created event","full_description":"GocardlessWithdrawTransaction#import! publishes a bank transaction created event","status":"passed","file_path":"./spec/models/gocardless_withdraw_transaction_spec.rb","line_number":139,"run_time":0.409567871,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_withdraw_transaction_spec.rb[1:2:6]","description":"creates an unexplained transaction if the gocardless payment doesn't exist","full_description":"GocardlessWithdrawTransaction#import! creates an unexplained transaction if the gocardless payment doesn't exist","status":"passed","file_path":"./spec/models/gocardless_withdraw_transaction_spec.rb","line_number":152,"run_time":0.167687084,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_withdraw_transaction_spec.rb[1:2:7]","description":"does not create an invoice receipt if the invoice is already fully paid","full_description":"GocardlessWithdrawTransaction#import! does not create an invoice receipt if the invoice is already fully paid","status":"passed","file_path":"./spec/models/gocardless_withdraw_transaction_spec.rb","line_number":161,"run_time":0.425812252,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_withdraw_transaction_spec.rb[1:2:8]","description":"still create the transaction when the invoice's been written off","full_description":"GocardlessWithdrawTransaction#import! still create the transaction when the invoice's been written off","status":"passed","file_path":"./spec/models/gocardless_withdraw_transaction_spec.rb","line_number":171,"run_time":0.295580017,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_withdraw_transaction_spec.rb[1:2:9]","description":"still create the transaction when the invoice's unpaid value is less than the gocardless payment","full_description":"GocardlessWithdrawTransaction#import! still create the transaction when the invoice's unpaid value is less than the gocardless payment","status":"passed","file_path":"./spec/models/gocardless_withdraw_transaction_spec.rb","line_number":176,"run_time":0.467647144,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_withdraw_transaction_spec.rb[1:2:10]","description":"raises TransactionError when something when wrong","full_description":"GocardlessWithdrawTransaction#import! raises TransactionError when something when wrong","status":"passed","file_path":"./spec/models/gocardless_withdraw_transaction_spec.rb","line_number":185,"run_time":0.174764882,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_withdraw_transaction_spec.rb[1:2:11]","description":"send a bank_transaction_explained event with the correct source","full_description":"GocardlessWithdrawTransaction#import! send a bank_transaction_explained event with the correct source","status":"passed","file_path":"./spec/models/gocardless_withdraw_transaction_spec.rb","line_number":192,"run_time":0.45934902,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_withdraw_transaction_spec.rb[1:2:13]","description":"does not create a charges entry if there are no charges","full_description":"GocardlessWithdrawTransaction#import! does not create a charges entry if there are no charges","status":"passed","file_path":"./spec/models/gocardless_withdraw_transaction_spec.rb","line_number":212,"run_time":0.444662235,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_withdraw_transaction_spec.rb[1:2:12:1]","description":"creates no transactions","full_description":"GocardlessWithdrawTransaction#import! when transaction already exists creates no transactions","status":"passed","file_path":"./spec/models/gocardless_withdraw_transaction_spec.rb","line_number":207,"run_time":0.452964016,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_withdraw_transaction_spec.rb[1:2:14:1]","description":"creates one entry for a single bank transaction","full_description":"GocardlessWithdrawTransaction#import! as a landlord company creates one entry for a single bank transaction","status":"passed","file_path":"./spec/models/gocardless_withdraw_transaction_spec.rb","line_number":223,"run_time":0.514528131,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/currency_gains_calculations_spec.rb[1:1:1:1]","description":"sums the value of the payments in native bank account","full_description":"Bill when calculating the paid value of the bill in the bill currency with payment from the native bank account sums the value of the payments in native bank account","status":"passed","file_path":"./spec/models/bills/currency_gains_calculations_spec.rb","line_number":43,"run_time":1.349857385,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/currency_gains_calculations_spec.rb[1:1:2:1]","description":"sums the value of the payments in the foreign bank account","full_description":"Bill when calculating the paid value of the bill in the bill currency with payment from a matching foreign currency account sums the value of the payments in the foreign bank account","status":"passed","file_path":"./spec/models/bills/currency_gains_calculations_spec.rb","line_number":58,"run_time":0.621972434,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/currency_gains_calculations_spec.rb[1:1:3:1]","description":"sums the value of the payments in the foreign bank account","full_description":"Bill when calculating the paid value of the bill in the bill currency with payment from a both a native and foreign bank accounts sums the value of the payments in the foreign bank account","status":"passed","file_path":"./spec/models/bills/currency_gains_calculations_spec.rb","line_number":80,"run_time":1.049171475,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/currency_gains_calculations_spec.rb[1:2:1]","description":"#unrealized_currency_gains returns the gains for the remaining bill amount","full_description":"Bill when calculating the current currency gains information #unrealized_currency_gains returns the gains for the remaining bill amount","status":"passed","file_path":"./spec/models/bills/currency_gains_calculations_spec.rb","line_number":105,"run_time":0.550906426,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/currency_gains_calculations_spec.rb[1:2:2]","description":"#realized_currency_gains returns the gains for amount of bill paid","full_description":"Bill when calculating the current currency gains information #realized_currency_gains returns the gains for amount of bill paid","status":"passed","file_path":"./spec/models/bills/currency_gains_calculations_spec.rb","line_number":111,"run_time":0.557424247,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/currency_gains_calculations_spec.rb[1:2:3]","description":"#net_currency_gains_at returns the total of realized and unrealized currency gains","full_description":"Bill when calculating the current currency gains information #net_currency_gains_at returns the total of realized and unrealized currency gains","status":"passed","file_path":"./spec/models/bills/currency_gains_calculations_spec.rb","line_number":117,"run_time":0.553463802,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/currency_gains_calculations_spec.rb[1:2:4]","description":"#native_due_value_at return the native due value for a given date","full_description":"Bill when calculating the current currency gains information #native_due_value_at return the native due value for a given date","status":"passed","file_path":"./spec/models/bills/currency_gains_calculations_spec.rb","line_number":123,"run_time":0.585760022,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/currency_gains_calculations_spec.rb[1:2:5]","description":"#native_total_value_at return the native due value for a given date","full_description":"Bill when calculating the current currency gains information #native_total_value_at return the native due value for a given date","status":"passed","file_path":"./spec/models/bills/currency_gains_calculations_spec.rb","line_number":129,"run_time":0.527093748,"pending_message":null,"screenshot":null},{"id":"./spec/features/self_assessment/hmrc_gateway_submission_spec.rb[1:1]","description":"submission can be successfully built","full_description":"HMRC Gateway Submission submission can be successfully built","status":"passed","file_path":"./spec/features/self_assessment/hmrc_gateway_submission_spec.rb","line_number":24,"run_time":5.235988108,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/recurring_invoice_job_spec.rb[1:1:1:1]","description":"raises Jobs::FailAndRetry","full_description":"RecurringInvoiceJob#perform when runtime is equal to stop_after raises Jobs::FailAndRetry","status":"passed","file_path":"./spec/jobs/recurring_invoice_job_spec.rb","line_number":22,"run_time":0.354293035,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/recurring_invoice_job_spec.rb[1:1:2:1]","description":"raises Jobs::FailAndRetry","full_description":"RecurringInvoiceJob#perform when runtime is greater than stop_after raises Jobs::FailAndRetry","status":"passed","file_path":"./spec/jobs/recurring_invoice_job_spec.rb","line_number":29,"run_time":0.300544426,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/recurring_invoice_job_spec.rb[1:2:1]","description":"is 15 minutes from now","full_description":"RecurringInvoiceJob.default_stop_after is 15 minutes from now","status":"passed","file_path":"./spec/jobs/recurring_invoice_job_spec.rb","line_number":37,"run_time":0.004218953,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/recurring_invoice_job_spec.rb[1:3:1:1]","description":"recurs ACTIVE recurring invoices whose next_recurs_on date has arrived","full_description":"RecurringInvoiceJob.generate_recurring_invoices for company with access to their account recurs ACTIVE recurring invoices whose next_recurs_on date has arrived","status":"passed","file_path":"./spec/jobs/recurring_invoice_job_spec.rb","line_number":109,"run_time":0.602033073,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/recurring_invoice_job_spec.rb[1:3:1:2]","description":"does not recur ACTIVE recurring invoices whose next_recurs_on date has not arrived","full_description":"RecurringInvoiceJob.generate_recurring_invoices for company with access to their account does not recur ACTIVE recurring invoices whose next_recurs_on date has not arrived","status":"passed","file_path":"./spec/jobs/recurring_invoice_job_spec.rb","line_number":129,"run_time":0.56915282,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/recurring_invoice_job_spec.rb[1:3:1:3]","description":"does not recur INACTIVE recurring invoices","full_description":"RecurringInvoiceJob.generate_recurring_invoices for company with access to their account does not recur INACTIVE recurring invoices","status":"passed","file_path":"./spec/jobs/recurring_invoice_job_spec.rb","line_number":133,"run_time":0.632825412,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/recurring_invoice_job_spec.rb[1:3:1:4]","description":"does not recur DRAFT recurring invoices","full_description":"RecurringInvoiceJob.generate_recurring_invoices for company with access to their account does not recur DRAFT recurring invoices","status":"passed","file_path":"./spec/jobs/recurring_invoice_job_spec.rb","line_number":139,"run_time":0.568688282,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/recurring_invoice_job_spec.rb[1:3:1:5]","description":"does not recur ACTIVE recurring invoices with hidden contacts (and they're set to DRAFT)","full_description":"RecurringInvoiceJob.generate_recurring_invoices for company with access to their account does not recur ACTIVE recurring invoices with hidden contacts (and they're set to DRAFT)","status":"passed","file_path":"./spec/jobs/recurring_invoice_job_spec.rb","line_number":145,"run_time":0.586105552,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/recurring_invoice_job_spec.rb[1:3:2:1]","description":"does not recur recurring invoices","full_description":"RecurringInvoiceJob.generate_recurring_invoices for an expired free trial company does not recur recurring invoices","status":"passed","file_path":"./spec/jobs/recurring_invoice_job_spec.rb","line_number":164,"run_time":0.136999407,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/recurring_invoice_job_spec.rb[1:3:2:2]","description":"does not create any audit entries","full_description":"RecurringInvoiceJob.generate_recurring_invoices for an expired free trial company does not create any audit entries","status":"passed","file_path":"./spec/jobs/recurring_invoice_job_spec.rb","line_number":170,"run_time":0.12537326,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/recurring_invoice_job_spec.rb[1:3:3:1]","description":"does not recur recurring invoices","full_description":"RecurringInvoiceJob.generate_recurring_invoices for a suspended company does not recur recurring invoices","status":"passed","file_path":"./spec/jobs/recurring_invoice_job_spec.rb","line_number":191,"run_time":0.169967441,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/recurring_invoice_job_spec.rb[1:3:3:2]","description":"does not create any audit entries","full_description":"RecurringInvoiceJob.generate_recurring_invoices for a suspended company does not create any audit entries","status":"passed","file_path":"./spec/jobs/recurring_invoice_job_spec.rb","line_number":197,"run_time":0.010480592,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/recurring_invoice_job_spec.rb[1:3:4:1]","description":"does not recur recurring invoices","full_description":"RecurringInvoiceJob.generate_recurring_invoices for a cancelled company does not recur recurring invoices","status":"passed","file_path":"./spec/jobs/recurring_invoice_job_spec.rb","line_number":218,"run_time":0.153798431,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/recurring_invoice_job_spec.rb[1:3:4:2]","description":"does not create any audit entries","full_description":"RecurringInvoiceJob.generate_recurring_invoices for a cancelled company does not create any audit entries","status":"passed","file_path":"./spec/jobs/recurring_invoice_job_spec.rb","line_number":224,"run_time":0.008265687,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/emailable_spec.rb[1:1:1]","description":"should return the Email sent if successful","full_description":"Emailable#send email should return the Email sent if successful","status":"passed","file_path":"./spec/models/modules/emailable_spec.rb","line_number":21,"run_time":0.119785122,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/emailable_spec.rb[1:1:2]","description":"should return nil if the sending failed","full_description":"Emailable#send email should return nil if the sending failed","status":"passed","file_path":"./spec/models/modules/emailable_spec.rb","line_number":26,"run_time":0.11896682,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/emailable_spec.rb[1:1:3]","description":"turns the sender into a full email address when a single email address is provided","full_description":"Emailable#send email turns the sender into a full email address when a single email address is provided","status":"passed","file_path":"./spec/models/modules/emailable_spec.rb","line_number":32,"run_time":0.110603155,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/emailable_spec.rb[1:1:4]","description":"sends the email to the sender if email_to_sender is true","full_description":"Emailable#send email sends the email to the sender if email_to_sender is true","status":"passed","file_path":"./spec/models/modules/emailable_spec.rb","line_number":37,"run_time":0.155154273,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/emailable_spec.rb[1:1:5]","description":"doesn't send the email to the sender if email_to_sender is false","full_description":"Emailable#send email doesn't send the email to the sender if email_to_sender is false","status":"passed","file_path":"./spec/models/modules/emailable_spec.rb","line_number":42,"run_time":0.144408725,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/emailable_spec.rb[1:1:6]","description":"sends the email to the sender if email_to_sender is not provided","full_description":"Emailable#send email sends the email to the sender if email_to_sender is not provided","status":"passed","file_path":"./spec/models/modules/emailable_spec.rb","line_number":47,"run_time":0.130994196,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/emailable_spec.rb[1:1:7]","description":"returns nil if the recipients are blocked","full_description":"Emailable#send email returns nil if the recipients are blocked","status":"passed","file_path":"./spec/models/modules/emailable_spec.rb","line_number":52,"run_time":0.292704194,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/emailable_spec.rb[1:1:9]","description":"logs to Sqreen","full_description":"Emailable#send email logs to Sqreen","status":"passed","file_path":"./spec/models/modules/emailable_spec.rb","line_number":88,"run_time":0.300226814,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/emailable_spec.rb[1:1:8:1]","description":"does not send the email","full_description":"Emailable#send email when provided sender isn't supported does not send the email","status":"passed","file_path":"./spec/models/modules/emailable_spec.rb","line_number":72,"run_time":0.113692098,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/emailable_spec.rb[1:1:8:2]","description":"params from should be updated to be nil","full_description":"Emailable#send email when provided sender isn't supported params from should be updated to be nil","status":"passed","file_path":"./spec/models/modules/emailable_spec.rb","line_number":76,"run_time":0.119054121,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/emailable_spec.rb[1:1:8:3]","description":"gives a relevant error","full_description":"Emailable#send email when provided sender isn't supported gives a relevant error","status":"passed","file_path":"./spec/models/modules/emailable_spec.rb","line_number":80,"run_time":0.114314875,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/emailable_spec.rb[1:2:1]","description":"returns an empty list with no hard bounced delivery statuses","full_description":"Emailable#hard_bounced_in_last_attempt returns an empty list with no hard bounced delivery statuses","status":"passed","file_path":"./spec/models/modules/emailable_spec.rb","line_number":112,"run_time":0.097330698,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/emailable_spec.rb[1:2:2]","description":"returns the recipient email address in a list with one hard bounced delivery status","full_description":"Emailable#hard_bounced_in_last_attempt returns the recipient email address in a list with one hard bounced delivery status","status":"passed","file_path":"./spec/models/modules/emailable_spec.rb","line_number":116,"run_time":0.254494112,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/emailable_spec.rb[1:2:3]","description":"returns the recipient email address in a list when unable to remove from bounce list","full_description":"Emailable#hard_bounced_in_last_attempt returns the recipient email address in a list when unable to remove from bounce list","status":"passed","file_path":"./spec/models/modules/emailable_spec.rb","line_number":128,"run_time":0.239027191,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/emailable_spec.rb[1:2:4]","description":"returns an empty list with a hard bounced delivery that was eventually successful","full_description":"Emailable#hard_bounced_in_last_attempt returns an empty list with a hard bounced delivery that was eventually successful","status":"passed","file_path":"./spec/models/modules/emailable_spec.rb","line_number":140,"run_time":0.237738925,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/emailable_spec.rb[1:2:5]","description":"returns the recipient email address in a list with a hard bounced delivery after a successful delivery","full_description":"Emailable#hard_bounced_in_last_attempt returns the recipient email address in a list with a hard bounced delivery after a successful delivery","status":"passed","file_path":"./spec/models/modules/emailable_spec.rb","line_number":162,"run_time":0.265392764,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/emailable_spec.rb[1:2:6]","description":"is scoped to all company email delivery attempts","full_description":"Emailable#hard_bounced_in_last_attempt is scoped to all company email delivery attempts","status":"passed","file_path":"./spec/models/modules/emailable_spec.rb","line_number":185,"run_time":0.405286913,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/emailable_spec.rb[1:3:1]","description":"returns an empty list when there are no hard bounced delivery statuses","full_description":"Emailable#blocked_recipients returns an empty list when there are no hard bounced delivery statuses","status":"passed","file_path":"./spec/models/modules/emailable_spec.rb","line_number":208,"run_time":0.092817785,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/emailable_spec.rb[1:3:2]","description":"returns the recipient email address when there are three failures in the last 24 hours","full_description":"Emailable#blocked_recipients returns the recipient email address when there are three failures in the last 24 hours","status":"passed","file_path":"./spec/models/modules/emailable_spec.rb","line_number":212,"run_time":0.296291477,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/emailable_spec.rb[1:3:3]","description":"returns an empty list when there was one failure in the last 24 hours","full_description":"Emailable#blocked_recipients returns an empty list when there was one failure in the last 24 hours","status":"passed","file_path":"./spec/models/modules/emailable_spec.rb","line_number":227,"run_time":0.280375402,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/emailable_spec.rb[1:3:4]","description":"returns an empty list when there were three failures two days ago","full_description":"Emailable#blocked_recipients returns an empty list when there were three failures two days ago","status":"passed","file_path":"./spec/models/modules/emailable_spec.rb","line_number":234,"run_time":0.267054247,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/emailable_spec.rb[1:4:1]","description":"returns falsey for empty recipients","full_description":"Emailable#blocked_from_sending? returns falsey for empty recipients","status":"passed","file_path":"./spec/models/modules/emailable_spec.rb","line_number":253,"run_time":0.020321706,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/emailable_spec.rb[1:4:2]","description":"returns falsey when no recipients are blocked","full_description":"Emailable#blocked_from_sending? returns falsey when no recipients are blocked","status":"passed","file_path":"./spec/models/modules/emailable_spec.rb","line_number":257,"run_time":0.018455928,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/emailable_spec.rb[1:4:3]","description":"returns true for a single blocked recipient","full_description":"Emailable#blocked_from_sending? returns true for a single blocked recipient","status":"passed","file_path":"./spec/models/modules/emailable_spec.rb","line_number":263,"run_time":0.018191546,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/emailable_spec.rb[1:4:4]","description":"returns true for multiple blocked recipients separated by commas and spaces","full_description":"Emailable#blocked_from_sending? returns true for multiple blocked recipients separated by commas and spaces","status":"passed","file_path":"./spec/models/modules/emailable_spec.rb","line_number":269,"run_time":0.019931133,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/emailable_spec.rb[1:4:5]","description":"returns true for a mixture of blocked and unblocked","full_description":"Emailable#blocked_from_sending? returns true for a mixture of blocked and unblocked","status":"passed","file_path":"./spec/models/modules/emailable_spec.rb","line_number":275,"run_time":0.024670807,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/show.html.erb_spec.rb[1:1:1]","description":"renders 'Add Transaction' link","full_description":"bank_accounts/show a StandardBankAccount renders 'Add Transaction' link","status":"passed","file_path":"./spec/views/bank_accounts/show.html.erb_spec.rb","line_number":19,"run_time":0.218052483,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/show.html.erb_spec.rb[1:1:2:1]","description":"renders 'Guess Rules' link","full_description":"bank_accounts/show a StandardBankAccount Guess rule settings appear when guess transaction explanations is enabled renders 'Guess Rules' link","status":"passed","file_path":"./spec/views/bank_accounts/show.html.erb_spec.rb","line_number":28,"run_time":0.218644165,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/show.html.erb_spec.rb[1:1:3:1]","description":"renders 'Guess Rules' link","full_description":"bank_accounts/show a StandardBankAccount Guess rule settings do not appear when guess transaction explanations is disabled renders 'Guess Rules' link","status":"passed","file_path":"./spec/views/bank_accounts/show.html.erb_spec.rb","line_number":38,"run_time":0.219669886,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/show.html.erb_spec.rb[1:1:4:1]","description":"renders 'Guess Rules' link","full_description":"bank_accounts/show a StandardBankAccount Guess rule settings do not appear when guess is unavailable but enabled renders 'Guess Rules' link","status":"passed","file_path":"./spec/views/bank_accounts/show.html.erb_spec.rb","line_number":48,"run_time":0.230407957,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/show.html.erb_spec.rb[1:1:5:1:1]","description":"renders the empty list","full_description":"bank_accounts/show a StandardBankAccount data-pending-operations with no bulk operations in progress renders the empty list","status":"passed","file_path":"./spec/views/bank_accounts/show.html.erb_spec.rb","line_number":59,"run_time":0.219858549,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/show.html.erb_spec.rb[1:1:5:2:1:1]","description":"renders the empty list","full_description":"bank_accounts/show a StandardBankAccount data-pending-operations with bulk operations in progress that are older than 24 hours renders the empty list","status":"passed","file_path":"./spec/views/bank_accounts/show.html.erb_spec.rb","line_number":75,"run_time":0.250965085,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/show.html.erb_spec.rb[1:1:5:2:2:1]","description":"renders the bulk operation ids","full_description":"bank_accounts/show a StandardBankAccount data-pending-operations with bulk operations in progress that are recent renders the bulk operation ids","status":"passed","file_path":"./spec/views/bank_accounts/show.html.erb_spec.rb","line_number":84,"run_time":0.215529105,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/show.html.erb_spec.rb[1:2:1]","description":"does not render 'Add Transaction' link","full_description":"bank_accounts/show a GocardlessAccount does not render 'Add Transaction' link","status":"passed","file_path":"./spec/views/bank_accounts/show.html.erb_spec.rb","line_number":97,"run_time":0.210628288,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/show.html.erb_spec.rb[1:2:2]","description":"does not render 'Edit Details' link","full_description":"bank_accounts/show a GocardlessAccount does not render 'Edit Details' link","status":"passed","file_path":"./spec/views/bank_accounts/show.html.erb_spec.rb","line_number":105,"run_time":0.228632822,"pending_message":null,"screenshot":null},{"id":"./spec/models/saml_request_handler_spec.rb[1:1:1]","description":"only tries to get a saml response once if valid","full_description":"SamlRequestHandler#consume! only tries to get a saml response once if valid","status":"passed","file_path":"./spec/models/saml_request_handler_spec.rb","line_number":15,"run_time":0.005028501,"pending_message":null,"screenshot":null},{"id":"./spec/models/saml_request_handler_spec.rb[1:1:2]","description":"will retry the saml response if invalid and the settings have rollover","full_description":"SamlRequestHandler#consume! will retry the saml response if invalid and the settings have rollover","status":"passed","file_path":"./spec/models/saml_request_handler_spec.rb","line_number":21,"run_time":0.004743099,"pending_message":null,"screenshot":null},{"id":"./spec/models/saml_request_handler_spec.rb[1:2:1]","description":"returns nil for unknown attribute","full_description":"SamlRequestHandler#get_attribute returns nil for unknown attribute","status":"passed","file_path":"./spec/models/saml_request_handler_spec.rb","line_number":35,"run_time":0.064400893,"pending_message":null,"screenshot":null},{"id":"./spec/models/saml_request_handler_spec.rb[1:2:2]","description":"returns nil for blank attribute","full_description":"SamlRequestHandler#get_attribute returns nil for blank attribute","status":"passed","file_path":"./spec/models/saml_request_handler_spec.rb","line_number":39,"run_time":0.020072882,"pending_message":null,"screenshot":null},{"id":"./spec/models/saml_request_handler_spec.rb[1:2:3]","description":"returns value of non-blank attribute","full_description":"SamlRequestHandler#get_attribute returns value of non-blank attribute","status":"passed","file_path":"./spec/models/saml_request_handler_spec.rb","line_number":43,"run_time":0.018978293,"pending_message":null,"screenshot":null},{"id":"./spec/models/saml_request_handler_spec.rb[1:3:1]","description":"is marked as resold","full_description":"SamlRequestHandler With a MyBusiness Works SAML Request is marked as resold","status":"passed","file_path":"./spec/models/saml_request_handler_spec.rb","line_number":56,"run_time":0.024513727,"pending_message":null,"screenshot":null},{"id":"./spec/models/saml_request_handler_spec.rb[1:3:2]","description":"is able to retrieve the attributes expected","full_description":"SamlRequestHandler With a MyBusiness Works SAML Request is able to retrieve the attributes expected","status":"passed","file_path":"./spec/models/saml_request_handler_spec.rb","line_number":60,"run_time":0.02015589,"pending_message":null,"screenshot":null},{"id":"./spec/models/saml_request_handler_spec.rb[1:3:3:1]","description":"creates a company with the details from the SAML request","full_description":"SamlRequestHandler With a MyBusiness Works SAML Request which then goes on to create a company creates a company with the details from the SAML request","status":"passed","file_path":"./spec/models/saml_request_handler_spec.rb","line_number":70,"run_time":0.216087743,"pending_message":null,"screenshot":null},{"id":"./spec/models/saml_request_handler_spec.rb[1:3:3:2]","description":"sets the correct company type","full_description":"SamlRequestHandler With a MyBusiness Works SAML Request which then goes on to create a company sets the correct company type","status":"passed","file_path":"./spec/models/saml_request_handler_spec.rb","line_number":75,"run_time":0.160061622,"pending_message":null,"screenshot":null},{"id":"./spec/models/saml_request_handler_spec.rb[1:3:3:3]","description":"is in the Getting Started process","full_description":"SamlRequestHandler With a MyBusiness Works SAML Request which then goes on to create a company is in the Getting Started process","status":"passed","file_path":"./spec/models/saml_request_handler_spec.rb","line_number":79,"run_time":0.145391354,"pending_message":null,"screenshot":null},{"id":"./spec/models/saml_request_handler_spec.rb[1:3:3:4]","description":"has the account owner set to the user identified in the request","full_description":"SamlRequestHandler With a MyBusiness Works SAML Request which then goes on to create a company has the account owner set to the user identified in the request","status":"passed","file_path":"./spec/models/saml_request_handler_spec.rb","line_number":83,"run_time":0.168138379,"pending_message":null,"screenshot":null},{"id":"./spec/models/saml_request_handler_spec.rb[1:3:3:5]","description":"has a signup that knows it's a My Business Works signup!","full_description":"SamlRequestHandler With a MyBusiness Works SAML Request which then goes on to create a company has a signup that knows it's a My Business Works signup!","status":"passed","file_path":"./spec/models/saml_request_handler_spec.rb","line_number":88,"run_time":0.156430972,"pending_message":null,"screenshot":null},{"id":"./spec/models/saml_request_handler_spec.rb[1:3:3:6]","description":"does not leave a signup lying around!","full_description":"SamlRequestHandler With a MyBusiness Works SAML Request which then goes on to create a company does not leave a signup lying around!","status":"passed","file_path":"./spec/models/saml_request_handler_spec.rb","line_number":92,"run_time":0.16859717,"pending_message":null,"screenshot":null},{"id":"./spec/models/saml_request_handler_spec.rb[1:4:1]","description":"raises an error","full_description":"SamlRequestHandler create_new_signup! where saml_reference already exists raises an error","status":"passed","file_path":"./spec/models/saml_request_handler_spec.rb","line_number":109,"run_time":0.04884701,"pending_message":null,"screenshot":null},{"id":"./spec/models/saml_request_handler_spec.rb[1:5:1]","description":"is not valid","full_description":"SamlRequestHandler with a failed auth payload is not valid","status":"passed","file_path":"./spec/models/saml_request_handler_spec.rb","line_number":121,"run_time":0.007804253,"pending_message":null,"screenshot":null},{"id":"./spec/models/saml_request_handler_spec.rb[1:6:1]","description":"creates signup successfully","full_description":"SamlRequestHandler with a payload containing a blank companyName attribute creates signup successfully","status":"passed","file_path":"./spec/models/saml_request_handler_spec.rb","line_number":137,"run_time":0.167252622,"pending_message":null,"screenshot":null},{"id":"./spec/models/saml_request_handler_spec.rb[1:6:2]","description":"does not have a nil company name","full_description":"SamlRequestHandler with a payload containing a blank companyName attribute does not have a nil company name","status":"passed","file_path":"./spec/models/saml_request_handler_spec.rb","line_number":141,"run_time":0.522895968,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2022_23/ni_category_changes.feature[1:1:1]","description":"Given the current date is 2022-04-06 -\u003e And a UK Limited Company which was started on 2018-01-01 -\u003e And they are running payroll in the 2023 tax year on the 25th of each month -\u003e Given a Director payroll profile calculated on the annual basis with NI letter A -\u003e And they are paid £4000 monthly -\u003e When in month 10 they become a veteran and change to letter V -\u003e And they run payroll in month 12 -\u003e Then total employee NIC should be £4594.51 -\u003e And total employer NIC should be £3908.57","full_description":"Payroll NI Calculations 2023 Calculating NIC for an existing Director who starts receiving veteran NIC relief Given the current date is 2022-04-06 -\u003e And a UK Limited Company which was started on 2018-01-01 -\u003e And they are running payroll in the 2023 tax year on the 25th of each month -\u003e Given a Director payroll profile calculated on the annual basis with NI letter A -\u003e And they are paid £4000 monthly -\u003e When in month 10 they become a veteran and change to letter V -\u003e And they run payroll in month 12 -\u003e Then total employee NIC should be £4594.51 -\u003e And total employer NIC should be £3908.57","status":"passed","file_path":"./spec/acceptance/payroll/2022_23/ni_category_changes.feature","line_number":11,"run_time":2.174001774,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:1]","description":"is expected to belong to company required: false","full_description":"OpenBanking::PreAssessedLimit is expected to belong to company required: false","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":9,"run_time":0.007422474,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:2:1]","description":"instantiates a Pre-Assessed Limit?","full_description":"OpenBanking::PreAssessedLimit.for? instantiates a Pre-Assessed Limit?","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":12,"run_time":0.121635276,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:3:1]","description":"is expected to validate that :amount looks like a number greater than or equal to -1 as long as it is not nil","full_description":"OpenBanking::PreAssessedLimit#amount is expected to validate that :amount looks like a number greater than or equal to -1 as long as it is not nil","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":19,"run_time":0.010283842,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:4:1]","description":"is available","full_description":"OpenBanking::PreAssessedLimit#available? is available","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":25,"run_time":0.120552304,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:4:2]","description":"is not available when the user has disabled the Pre-Assessed Limit","full_description":"OpenBanking::PreAssessedLimit#available? is not available when the user has disabled the Pre-Assessed Limit","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":32,"run_time":0.122822215,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:4:3]","description":"is not available when the Pre-Assessed Limit is not configurable","full_description":"OpenBanking::PreAssessedLimit#available? is not available when the Pre-Assessed Limit is not configurable","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":39,"run_time":0.111016005,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:5:1]","description":"is configurable","full_description":"OpenBanking::PreAssessedLimit#configurable? is configurable","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":48,"run_time":0.091496267,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:5:2]","description":"is not configurable when the company is not eligible for a Pre-Assessed Limit","full_description":"OpenBanking::PreAssessedLimit#configurable? is not configurable when the company is not eligible for a Pre-Assessed Limit","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":59,"run_time":0.117091248,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:5:3]","description":"is not configurable when the user is not eligible for a Pre-Assessed Limit","full_description":"OpenBanking::PreAssessedLimit#configurable? is not configurable when the user is not eligible for a Pre-Assessed Limit","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":70,"run_time":0.10186437,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:5:4]","description":"is not configurable when we have disabled the Pre-Assessed Limit for this company","full_description":"OpenBanking::PreAssessedLimit#configurable? is not configurable when we have disabled the Pre-Assessed Limit for this company","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":81,"run_time":0.099355074,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:6:1]","description":"is available for the consent","full_description":"OpenBanking::PreAssessedLimit#available_for_consent? is available for the consent","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":97,"run_time":0.122806913,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:6:2]","description":"is not available when the Pre-Assessed Limit is not available for the user","full_description":"OpenBanking::PreAssessedLimit#available_for_consent? is not available when the Pre-Assessed Limit is not available for the user","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":105,"run_time":0.124654452,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:6:3]","description":"is not available when the Pre-Assessed Limit is not available for the consent","full_description":"OpenBanking::PreAssessedLimit#available_for_consent? is not available when the Pre-Assessed Limit is not available for the consent","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":113,"run_time":0.107713815,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:7:1:1]","description":"is expected to be visible #\u003cUser id: 975572417, first_name: \"Ed\", email: \"user_1@example.com\", created_at: \"2022-12-23 10:46:48..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","full_description":"OpenBanking::PreAssessedLimit#visible? available and greater than threshold is expected to be visible #\u003cUser id: 975572417, first_name: \"Ed\", email: \"user_1@example.com\", created_at: \"2022-12-23 10:46:48..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":135,"run_time":0.104462017,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:7:2:1]","description":"is expected not to be visible #\u003cUser id: 975572418, first_name: \"Ed\", email: \"user_1@example.com\", created_at: \"2022-12-23 10:46:48..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","full_description":"OpenBanking::PreAssessedLimit#visible? available but visibility feature off is expected not to be visible #\u003cUser id: 975572418, first_name: \"Ed\", email: \"user_1@example.com\", created_at: \"2022-12-23 10:46:48..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":146,"run_time":0.119428126,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:7:3:1]","description":"is expected not to be visible #\u003cUser id: 975572419, first_name: \"Ed\", email: \"user_1@example.com\", created_at: \"2022-12-23 10:46:48..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","full_description":"OpenBanking::PreAssessedLimit#visible? available but zero is expected not to be visible #\u003cUser id: 975572419, first_name: \"Ed\", email: \"user_1@example.com\", created_at: \"2022-12-23 10:46:48..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":154,"run_time":0.125650765,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:7:4:1]","description":"is expected not to be visible #\u003cUser id: 975572420, first_name: \"Ed\", email: \"user_1@example.com\", created_at: \"2022-12-23 10:46:48..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","full_description":"OpenBanking::PreAssessedLimit#visible? available but less than threshold is expected not to be visible #\u003cUser id: 975572420, first_name: \"Ed\", email: \"user_1@example.com\", created_at: \"2022-12-23 10:46:48..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":162,"run_time":0.11799978,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:7:5:1]","description":"is expected not to be visible #\u003cUser id: 975572421, first_name: \"Ed\", email: \"user_1@example.com\", created_at: \"2022-12-23 10:46:48..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","full_description":"OpenBanking::PreAssessedLimit#visible? available but nil is expected not to be visible #\u003cUser id: 975572421, first_name: \"Ed\", email: \"user_1@example.com\", created_at: \"2022-12-23 10:46:48..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":170,"run_time":0.113651136,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:7:6:1]","description":"is expected not to be visible #\u003cUser id: 975572422, first_name: \"Ed\", email: \"user_1@example.com\", created_at: \"2022-12-23 10:46:48..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","full_description":"OpenBanking::PreAssessedLimit#visible? not available but greater than threshold is expected not to be visible #\u003cUser id: 975572422, first_name: \"Ed\", email: \"user_1@example.com\", created_at: \"2022-12-23 10:46:48..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":178,"run_time":0.124578948,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:7:7:1]","description":"is expected not to be visible #\u003cUser id: 975572423, first_name: \"Ed\", email: \"user_1@example.com\", created_at: \"2022-12-23 10:46:48..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","full_description":"OpenBanking::PreAssessedLimit#visible? not visible to reseller is expected not to be visible #\u003cUser id: 975572423, first_name: \"Ed\", email: \"user_1@example.com\", created_at: \"2022-12-23 10:46:48..., hmrc_mtd_itsa_activated_at: nil, hmrc_mtd_itsa_start_date: nil, subscribed_to_company_digest: nil\u003e","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":191,"run_time":0.12783692,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:8:1:1]","description":"is expected to eq \"£999\"","full_description":"OpenBanking::PreAssessedLimit#to_s less than a thousand is expected to eq \"£999\"","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":199,"run_time":0.018008201,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:8:2:1]","description":"is expected to eq \"£50,000\"","full_description":"OpenBanking::PreAssessedLimit#to_s over a thousand is expected to eq \"£50,000\"","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":205,"run_time":0.016374312,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:8:3:1]","description":"is expected to eq \"£0\"","full_description":"OpenBanking::PreAssessedLimit#to_s zero is expected to eq \"£0\"","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":211,"run_time":0.012521438,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_spec.rb[1:8:4:1]","description":"is expected to be empty","full_description":"OpenBanking::PreAssessedLimit#to_s nil is expected to be empty","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_spec.rb","line_number":217,"run_time":0.011997562,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/cancelled_company_next_payment_date_spec.rb[1:1:1:1:1]","description":"sets the next_payment_date to the cancelled_at date","full_description":"Subscription::CancelledCompanyNextPaymentDate #next_payment_date for a cancelled annual direct company with a full refund after cancelling in the first 7 days of a subscription sets the next_payment_date to the cancelled_at date","status":"passed","file_path":"./spec/models/subscription/cancelled_company_next_payment_date_spec.rb","line_number":26,"run_time":0.21738423,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/cancelled_company_next_payment_date_spec.rb[1:1:1:2:1:1]","description":"correctly sets the next_payment_date to the last subs date plus 1 month","full_description":"Subscription::CancelledCompanyNextPaymentDate #next_payment_date for a cancelled annual direct company that cancelled during days 8 to 30 of the subscription with a partial refund correctly sets the next_payment_date to the last subs date plus 1 month","status":"passed","file_path":"./spec/models/subscription/cancelled_company_next_payment_date_spec.rb","line_number":40,"run_time":0.211050762,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/cancelled_company_next_payment_date_spec.rb[1:1:1:2:2:1]","description":"sets the next_payment_date to the cancelled_at date","full_description":"Subscription::CancelledCompanyNextPaymentDate #next_payment_date for a cancelled annual direct company that cancelled during days 8 to 30 of the subscription with a full refund sets the next_payment_date to the cancelled_at date","status":"passed","file_path":"./spec/models/subscription/cancelled_company_next_payment_date_spec.rb","line_number":49,"run_time":0.211649936,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/cancelled_company_next_payment_date_spec.rb[1:1:1:2:3:1]","description":"sets the next_payment_date to the cancelled_at date","full_description":"Subscription::CancelledCompanyNextPaymentDate #next_payment_date for a cancelled annual direct company that cancelled during days 8 to 30 of the subscription with two partial refunds which make up to a full refund sets the next_payment_date to the cancelled_at date","status":"passed","file_path":"./spec/models/subscription/cancelled_company_next_payment_date_spec.rb","line_number":62,"run_time":0.269736367,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/cancelled_company_next_payment_date_spec.rb[1:1:1:3:1]","description":"sets the next_payment_date to the cancelled_at date by default","full_description":"Subscription::CancelledCompanyNextPaymentDate #next_payment_date for a cancelled annual direct company with a refund after cancelling beyond 30 days of subs being taken sets the next_payment_date to the cancelled_at date by default","status":"passed","file_path":"./spec/models/subscription/cancelled_company_next_payment_date_spec.rb","line_number":73,"run_time":0.23233417,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/cancelled_company_next_payment_date_spec.rb[1:1:2:1:1]","description":"sets the next_payment_date to the cancelled_at date","full_description":"Subscription::CancelledCompanyNextPaymentDate #next_payment_date for a cancelled monthly direct company with a full refund sets the next_payment_date to the cancelled_at date","status":"passed","file_path":"./spec/models/subscription/cancelled_company_next_payment_date_spec.rb","line_number":95,"run_time":0.177060942,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/cancelled_company_next_payment_date_spec.rb[1:1:3:1:1]","description":"returns the current next_payment_date","full_description":"Subscription::CancelledCompanyNextPaymentDate #next_payment_date for an active direct company with a full refund returns the current next_payment_date","status":"passed","file_path":"./spec/models/subscription/cancelled_company_next_payment_date_spec.rb","line_number":115,"run_time":0.204239599,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/cancelled_company_next_payment_date_spec.rb[1:1:4:1]","description":"returns nil","full_description":"Subscription::CancelledCompanyNextPaymentDate #next_payment_date for an RBSG company with previous subscription invoice returns nil","status":"passed","file_path":"./spec/models/subscription/cancelled_company_next_payment_date_spec.rb","line_number":130,"run_time":0.199565748,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:1:1:3:3]","description":"representing business entertaining admin expense","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the cash accounting basis not on the Flat Rate Scheme Expenses representing business entertaining admin expense","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":2621,"run_time":0.475721311,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:55:1:1]","description":"marks the credit note as paid","full_description":"Invoice Given an outstanding credit note,  adding a credit note refund marks the credit note as paid","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":1404,"run_time":0.498550607,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:1:50:2]","description":"deletes login credentials","full_description":"Company::ForgetCompanyData Deleting all data for a VAT registered UK company for company users deletes login credentials","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":796,"run_time":1.141473484,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb[1:2]","description":"should identify if a transaction is a duplicate","full_description":"BankFeeds::TransactionDeduplicator should identify if a transaction is a duplicate","status":"passed","file_path":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb","line_number":117,"run_time":0.005763858,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb[1:1:1]","description":"should not match on different amount","full_description":"BankFeeds::TransactionDeduplicator identifing existing transactions should not match on different amount","status":"passed","file_path":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb","line_number":14,"run_time":0.00420846,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb[1:1:2]","description":"should not match on different name","full_description":"BankFeeds::TransactionDeduplicator identifing existing transactions should not match on different name","status":"passed","file_path":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb","line_number":21,"run_time":0.005169225,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb[1:1:3]","description":"should not match on different dated_on","full_description":"BankFeeds::TransactionDeduplicator identifing existing transactions should not match on different dated_on","status":"passed","file_path":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb","line_number":28,"run_time":0.003976923,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb[1:1:4]","description":"should match on amount, name and dated_on","full_description":"BankFeeds::TransactionDeduplicator identifing existing transactions should match on amount, name and dated_on","status":"passed","file_path":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb","line_number":35,"run_time":0.003868655,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb[1:1:5]","description":"should handle nil names","full_description":"BankFeeds::TransactionDeduplicator identifing existing transactions should handle nil names","status":"passed","file_path":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb","line_number":40,"run_time":0.003500553,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb[1:1:6]","description":"should match when both have the same transaction_id, amount, dated_on and name","full_description":"BankFeeds::TransactionDeduplicator identifing existing transactions should match when both have the same transaction_id, amount, dated_on and name","status":"passed","file_path":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb","line_number":49,"run_time":0.003620798,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb[1:1:7]","description":"should not match when both transactions have a different transaction_id even when other fields match","full_description":"BankFeeds::TransactionDeduplicator identifing existing transactions should not match when both transactions have a different transaction_id even when other fields match","status":"passed","file_path":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb","line_number":57,"run_time":0.003163979,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb[1:1:8]","description":"should match when both have the same transaction_id and amount even when the other fields differ","full_description":"BankFeeds::TransactionDeduplicator identifing existing transactions should match when both have the same transaction_id and amount even when the other fields differ","status":"passed","file_path":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb","line_number":64,"run_time":0.003591823,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb[1:1:9]","description":"should not match when both have the same transaction_id but the amount is also different","full_description":"BankFeeds::TransactionDeduplicator identifing existing transactions should not match when both have the same transaction_id but the amount is also different","status":"passed","file_path":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb","line_number":74,"run_time":0.003175547,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb[1:1:10]","description":"should match when the transaction_ids are the same but of different types and the amount is the same","full_description":"BankFeeds::TransactionDeduplicator identifing existing transactions should match when the transaction_ids are the same but of different types and the amount is the same","status":"passed","file_path":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb","line_number":83,"run_time":0.003238006,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb[1:1:11]","description":"should match and ignore transaction_id when one of them has a nil transaction_id but the other fields match","full_description":"BankFeeds::TransactionDeduplicator identifing existing transactions should match and ignore transaction_id when one of them has a nil transaction_id but the other fields match","status":"passed","file_path":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb","line_number":93,"run_time":0.003336618,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb[1:1:12]","description":"should match and ignore transaction_id when one of them is an empty string transaction_id but the other fields match","full_description":"BankFeeds::TransactionDeduplicator identifing existing transactions should match and ignore transaction_id when one of them is an empty string transaction_id but the other fields match","status":"passed","file_path":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb","line_number":100,"run_time":0.003519792,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb[1:1:13]","description":"should not match when one of the transaction_ids are blank and the name is different","full_description":"BankFeeds::TransactionDeduplicator identifing existing transactions should not match when one of the transaction_ids are blank and the name is different","status":"passed","file_path":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb","line_number":107,"run_time":0.003530229,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb[1:3:1:1]","description":"should result in an empty collection","full_description":"BankFeeds::TransactionDeduplicator removing duplicates from matching collections should result in an empty collection","status":"passed","file_path":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb","line_number":145,"run_time":0.004048857,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb[1:3:2:1]","description":"should not change the statements","full_description":"BankFeeds::TransactionDeduplicator removing duplicates from entirely different collections should not change the statements","status":"passed","file_path":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb","line_number":157,"run_time":0.004084645,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb[1:3:3:1]","description":"should only delete the dup","full_description":"BankFeeds::TransactionDeduplicator removing duplicates from partially different collections should only delete the dup","status":"passed","file_path":"./spec/models/bank_feeds/transaction_deduplicator_spec.rb","line_number":169,"run_time":0.004102312,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb[1:1:1:1]","description":"is expected to respond with numeric status code 400","full_description":"CustomerBilling::StripeWebhooksController#create with no payload is expected to respond with numeric status code 400","status":"passed","file_path":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb","line_number":16,"run_time":0.098545463,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb[1:1:2:1]","description":"is expected to respond with numeric status code 400","full_description":"CustomerBilling::StripeWebhooksController#create with invalid json is expected to respond with numeric status code 400","status":"passed","file_path":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb","line_number":24,"run_time":0.094058551,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb[1:1:2:2]","description":"reports an error","full_description":"CustomerBilling::StripeWebhooksController#create with invalid json reports an error","status":"passed","file_path":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb","line_number":26,"run_time":0.095114049,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb[1:1:3:1]","description":"is expected to respond with numeric status code 400","full_description":"CustomerBilling::StripeWebhooksController#create with invalid signature is expected to respond with numeric status code 400","status":"passed","file_path":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb","line_number":41,"run_time":0.101774926,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb[1:1:3:2]","description":"reports an error","full_description":"CustomerBilling::StripeWebhooksController#create with invalid signature reports an error","status":"passed","file_path":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb","line_number":43,"run_time":0.093407327,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb[1:1:4:1:1:1]","description":"is expected to respond with status code :ok (200)","full_description":"CustomerBilling::StripeWebhooksController#create with a valid update payment_method.automatically_updated to the current payment method is expected to respond with status code :ok (200)","status":"passed","file_path":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb","line_number":74,"run_time":0.101913177,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb[1:1:4:1:1:2]","description":"updates the billing profiles with new card details","full_description":"CustomerBilling::StripeWebhooksController#create with a valid update payment_method.automatically_updated to the current payment method updates the billing profiles with new card details","status":"passed","file_path":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb","line_number":76,"run_time":0.098375774,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb[1:1:4:1:2:1]","description":"is expected to respond with status code :ok (200)","full_description":"CustomerBilling::StripeWebhooksController#create with a valid update payment_method.automatically_updated to a non-current payment method is expected to respond with status code :ok (200)","status":"passed","file_path":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb","line_number":91,"run_time":0.098679115,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb[1:1:4:1:2:2]","description":"does not update the billing profile with new card details","full_description":"CustomerBilling::StripeWebhooksController#create with a valid update payment_method.automatically_updated to a non-current payment method does not update the billing profile with new card details","status":"passed","file_path":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb","line_number":93,"run_time":0.100073657,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb[1:1:4:1:3:1]","description":"is expected to respond with status code :ok (200)","full_description":"CustomerBilling::StripeWebhooksController#create with a valid update payment_method.automatically_updated to a customer with no billing profile is expected to respond with status code :ok (200)","status":"passed","file_path":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb","line_number":109,"run_time":0.099304595,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/subscriptions/_invoices_and_payment_failures.html.erb_spec.rb[1:1:1]","description":"shows filter options for the table","full_description":"admin/companies/subscriptions/_invoices_and_payment_failures when there is both a successful and failed payment shows filter options for the table","status":"passed","file_path":"./spec/views/admin/companies/subscriptions/_invoices_and_payment_failures.html.erb_spec.rb","line_number":26,"run_time":0.189333549,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/subscriptions/_invoices_and_payment_failures.html.erb_spec.rb[1:1:2]","description":"shows the subscription invoices","full_description":"admin/companies/subscriptions/_invoices_and_payment_failures when there is both a successful and failed payment shows the subscription invoices","status":"passed","file_path":"./spec/views/admin/companies/subscriptions/_invoices_and_payment_failures.html.erb_spec.rb","line_number":32,"run_time":0.126731044,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/subscriptions/_invoices_and_payment_failures.html.erb_spec.rb[1:1:3]","description":"shows the subscription payment failures","full_description":"admin/companies/subscriptions/_invoices_and_payment_failures when there is both a successful and failed payment shows the subscription payment failures","status":"passed","file_path":"./spec/views/admin/companies/subscriptions/_invoices_and_payment_failures.html.erb_spec.rb","line_number":36,"run_time":0.131520614,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/subscriptions/_invoices_and_payment_failures.html.erb_spec.rb[1:1:4]","description":"shows the pagination options","full_description":"admin/companies/subscriptions/_invoices_and_payment_failures when there is both a successful and failed payment shows the pagination options","status":"passed","file_path":"./spec/views/admin/companies/subscriptions/_invoices_and_payment_failures.html.erb_spec.rb","line_number":40,"run_time":0.122328967,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/subscriptions/_invoices_and_payment_failures.html.erb_spec.rb[1:1:5:1]","description":"shows the 'Refund' button when there is a subscription payment","full_description":"admin/companies/subscriptions/_invoices_and_payment_failures when there is both a successful and failed payment when the admin user can edit subscriptions shows the 'Refund' button when there is a subscription payment","status":"passed","file_path":"./spec/views/admin/companies/subscriptions/_invoices_and_payment_failures.html.erb_spec.rb","line_number":45,"run_time":0.164868235,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/subscriptions/_invoices_and_payment_failures.html.erb_spec.rb[1:1:6:1]","description":"does not show the 'Refund' button","full_description":"admin/companies/subscriptions/_invoices_and_payment_failures when there is both a successful and failed payment when the admin user can't edit subscriptions does not show the 'Refund' button","status":"passed","file_path":"./spec/views/admin/companies/subscriptions/_invoices_and_payment_failures.html.erb_spec.rb","line_number":53,"run_time":0.125050532,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/subscriptions/_invoices_and_payment_failures.html.erb_spec.rb[1:2:1]","description":"shows a message explaining that there are no results for the given filter status","full_description":"admin/companies/subscriptions/_invoices_and_payment_failures when there are neither successful or failed payments shows a message explaining that there are no results for the given filter status","status":"passed","file_path":"./spec/views/admin/companies/subscriptions/_invoices_and_payment_failures.html.erb_spec.rb","line_number":66,"run_time":0.128015171,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/subscriptions/_invoices_and_payment_failures.html.erb_spec.rb[1:3:1]","description":"does not show the 'Refund' button","full_description":"admin/companies/subscriptions/_invoices_and_payment_failures when there is only a payment failure does not show the 'Refund' button","status":"passed","file_path":"./spec/views/admin/companies/subscriptions/_invoices_and_payment_failures.html.erb_spec.rb","line_number":78,"run_time":0.121144346,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/onboarding/task_completion_spec.rb[1:1:1]","description":"only includes companies that were tracked by the ADDED_CLIENT_TO_DASHBOARD event","full_description":"PracticeDashboard::Onboarding::TaskCompletion.added_client_events only includes companies that were tracked by the ADDED_CLIENT_TO_DASHBOARD event","status":"passed","file_path":"./spec/models/practice_dashboard/onboarding/task_completion_spec.rb","line_number":21,"run_time":0.26461618,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/onboarding/task_completion_spec.rb[1:2:1]","description":"only includes companies that are currently managed by the account manager","full_description":"PracticeDashboard::Onboarding::TaskCompletion.for_managed_clients only includes companies that are currently managed by the account manager","status":"passed","file_path":"./spec/models/practice_dashboard/onboarding/task_completion_spec.rb","line_number":45,"run_time":0.234147727,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/onboarding/task_completion_spec.rb[1:3:1:1]","description":"creates a record with the correct attributes","full_description":"PracticeDashboard::Onboarding::TaskCompletion.track when the task hasn't been completed by the account manager creates a record with the correct attributes","status":"passed","file_path":"./spec/models/practice_dashboard/onboarding/task_completion_spec.rb","line_number":68,"run_time":0.040188079,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/onboarding/task_completion_spec.rb[1:3:2:1]","description":"doesn't record the event","full_description":"PracticeDashboard::Onboarding::TaskCompletion.track when the task has already been completed by the account manager doesn't record the event","status":"passed","file_path":"./spec/models/practice_dashboard/onboarding/task_completion_spec.rb","line_number":83,"run_time":0.043180406,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/onboarding/task_completion_spec.rb[1:3:3:1]","description":"creates a record with the correct attributes","full_description":"PracticeDashboard::Onboarding::TaskCompletion.track when the task has already been completed for the same practice by another account manager creates a record with the correct attributes","status":"passed","file_path":"./spec/models/practice_dashboard/onboarding/task_completion_spec.rb","line_number":97,"run_time":0.050390267,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/onboarding/task_completion_spec.rb[1:3:4:1]","description":"creates a record with the correct attributes","full_description":"PracticeDashboard::Onboarding::TaskCompletion.track with a company creates a record with the correct attributes","status":"passed","file_path":"./spec/models/practice_dashboard/onboarding/task_completion_spec.rb","line_number":112,"run_time":0.043747638,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/onboarding/task_completion_spec.rb[1:3:4:2:1]","description":"creates a record with the correct attributes","full_description":"PracticeDashboard::Onboarding::TaskCompletion.track with a company when the task has already been completed for a different company creates a record with the correct attributes","status":"passed","file_path":"./spec/models/practice_dashboard/onboarding/task_completion_spec.rb","line_number":129,"run_time":0.124696627,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/onboarding/task_completion_spec.rb[1:3:5:1]","description":"creates a record with the correct attributes","full_description":"PracticeDashboard::Onboarding::TaskCompletion.track .track_view creates a record with the correct attributes","status":"passed","file_path":"./spec/models/practice_dashboard/onboarding/task_completion_spec.rb","line_number":144,"run_time":0.038372412,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/onboarding/task_completion_spec.rb[1:3:6:1]","description":"creates a record with the correct attributes","full_description":"PracticeDashboard::Onboarding::TaskCompletion.track .track_dismiss creates a record with the correct attributes","status":"passed","file_path":"./spec/models/practice_dashboard/onboarding/task_completion_spec.rb","line_number":158,"run_time":0.038915001,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:2:1:1]","description":"includes the group name","full_description":"Invoice behaves like a todo dependency group target #dependency_attrs includes the group name","status":"passed","file_path":"./spec/support/shared_examples/radar/todo_dependency_group_target.rb","line_number":5,"run_time":0.064447142,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/admin_users/admin_user_permissions_controller_spec.rb[1:1:1:1]","description":"renders successfully","full_description":"Admin::AdminUsers::AdminUserPermissionsController#index as a superhero renders successfully","status":"passed","file_path":"./spec/controllers/admin/admin_users/admin_user_permissions_controller_spec.rb","line_number":16,"run_time":0.07248931,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/admin_users/admin_user_permissions_controller_spec.rb[1:1:1:2]","description":"assigns @sorted_granted_default_permissions","full_description":"Admin::AdminUsers::AdminUserPermissionsController#index as a superhero assigns @sorted_granted_default_permissions","status":"passed","file_path":"./spec/controllers/admin/admin_users/admin_user_permissions_controller_spec.rb","line_number":20,"run_time":0.047090777,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/admin_users/admin_user_permissions_controller_spec.rb[1:1:1:3]","description":"assigns @sorted_revoked_default_permissions","full_description":"Admin::AdminUsers::AdminUserPermissionsController#index as a superhero assigns @sorted_revoked_default_permissions","status":"passed","file_path":"./spec/controllers/admin/admin_users/admin_user_permissions_controller_spec.rb","line_number":28,"run_time":0.048579073,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/admin_users/admin_user_permissions_controller_spec.rb[1:1:1:4]","description":"shows Revoke button for an existing permission","full_description":"Admin::AdminUsers::AdminUserPermissionsController#index as a superhero shows Revoke button for an existing permission","status":"passed","file_path":"./spec/controllers/admin/admin_users/admin_user_permissions_controller_spec.rb","line_number":36,"run_time":0.049375633,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/admin_users/admin_user_permissions_controller_spec.rb[1:1:1:5:1]","description":"assigns @sorted_additional_permissions","full_description":"Admin::AdminUsers::AdminUserPermissionsController#index as a superhero for an admin user with additional permissions assigns @sorted_additional_permissions","status":"passed","file_path":"./spec/controllers/admin/admin_users/admin_user_permissions_controller_spec.rb","line_number":50,"run_time":0.086859554,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/admin_users/admin_user_permissions_controller_spec.rb[1:1:1:5:2]","description":"shows a Delete button for an additional permission","full_description":"Admin::AdminUsers::AdminUserPermissionsController#index as a superhero for an admin user with additional permissions shows a Delete button for an additional permission","status":"passed","file_path":"./spec/controllers/admin/admin_users/admin_user_permissions_controller_spec.rb","line_number":58,"run_time":0.347561903,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/admin_users/admin_user_permissions_controller_spec.rb[1:1:2:1]","description":"forbids access","full_description":"Admin::AdminUsers::AdminUserPermissionsController#index as a non-superhero forbids access","status":"passed","file_path":"./spec/controllers/admin/admin_users/admin_user_permissions_controller_spec.rb","line_number":67,"run_time":0.175354629,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/admin_users/admin_user_permissions_controller_spec.rb[1:2:1:1]","description":"allows DELETE request","full_description":"Admin::AdminUsers::AdminUserPermissionsController#destroy as a superhero allows DELETE request","status":"passed","file_path":"./spec/controllers/admin/admin_users/admin_user_permissions_controller_spec.rb","line_number":81,"run_time":0.134381406,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/admin_users/admin_user_permissions_controller_spec.rb[1:2:2:1]","description":"forbids DELETE request","full_description":"Admin::AdminUsers::AdminUserPermissionsController#destroy as a non-superhero forbids DELETE request","status":"passed","file_path":"./spec/controllers/admin/admin_users/admin_user_permissions_controller_spec.rb","line_number":93,"run_time":0.3393189,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/admin_users/admin_user_permissions_controller_spec.rb[1:3:1:1]","description":"allows POST request to create additional permission","full_description":"Admin::AdminUsers::AdminUserPermissionsController#create as a superhero allows POST request to create additional permission","status":"passed","file_path":"./spec/controllers/admin/admin_users/admin_user_permissions_controller_spec.rb","line_number":109,"run_time":0.041685481,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/admin_users/admin_user_permissions_controller_spec.rb[1:3:1:2]","description":"prevents a duplicate permission being added","full_description":"Admin::AdminUsers::AdminUserPermissionsController#create as a superhero prevents a duplicate permission being added","status":"passed","file_path":"./spec/controllers/admin/admin_users/admin_user_permissions_controller_spec.rb","line_number":117,"run_time":0.035304138,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/admin_users/admin_user_permissions_controller_spec.rb[1:3:1:3]","description":"prevents a permission being added where user has the all permission","full_description":"Admin::AdminUsers::AdminUserPermissionsController#create as a superhero prevents a permission being added where user has the all permission","status":"passed","file_path":"./spec/controllers/admin/admin_users/admin_user_permissions_controller_spec.rb","line_number":126,"run_time":0.035134972,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/admin_users/admin_user_permissions_controller_spec.rb[1:3:1:4]","description":"prevents a permission being added to a superhero","full_description":"Admin::AdminUsers::AdminUserPermissionsController#create as a superhero prevents a permission being added to a superhero","status":"passed","file_path":"./spec/controllers/admin/admin_users/admin_user_permissions_controller_spec.rb","line_number":135,"run_time":0.042525286,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/admin_users/admin_user_permissions_controller_spec.rb[1:3:1:5]","description":"removes leading or trailing spaces from the action and subject parameters","full_description":"Admin::AdminUsers::AdminUserPermissionsController#create as a superhero removes leading or trailing spaces from the action and subject parameters","status":"passed","file_path":"./spec/controllers/admin/admin_users/admin_user_permissions_controller_spec.rb","line_number":143,"run_time":0.033591489,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/admin_users/admin_user_permissions_controller_spec.rb[1:3:2:1]","description":"forbids a POST request","full_description":"Admin::AdminUsers::AdminUserPermissionsController#create as a non-superhero forbids a POST request","status":"passed","file_path":"./spec/controllers/admin/admin_users/admin_user_permissions_controller_spec.rb","line_number":157,"run_time":0.037123238,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:2:2:1:3:2]","description":"which has been sent","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the invoice accounting basis on the Flat Rate Scheme (at 5%) Invoices Given a foreign currency invoice (exchange rate 2:1) with 3 line items in 2 categories which has been sent","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":4379,"run_time":0.753398951,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/opening_balances_imports_helper_spec.rb[1:1:1]","description":"includes general ledger accounts","full_description":"Accounting::OpeningBalancesImportsHelper#opening_balances_account_autocomplete_data includes general ledger accounts","status":"passed","file_path":"./spec/helpers/accounting/opening_balances_imports_helper_spec.rb","line_number":33,"run_time":0.132104153,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/opening_balances_imports_helper_spec.rb[1:1:2]","description":"includes bank accounts","full_description":"Accounting::OpeningBalancesImportsHelper#opening_balances_account_autocomplete_data includes bank accounts","status":"passed","file_path":"./spec/helpers/accounting/opening_balances_imports_helper_spec.rb","line_number":37,"run_time":0.156571268,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/opening_balances_imports_helper_spec.rb[1:1:3]","description":"sorts the accounts by label","full_description":"Accounting::OpeningBalancesImportsHelper#opening_balances_account_autocomplete_data sorts the accounts by label","status":"passed","file_path":"./spec/helpers/accounting/opening_balances_imports_helper_spec.rb","line_number":41,"run_time":0.131588985,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/opening_balances_imports_helper_spec.rb[1:2:1]","description":"includes stock items","full_description":"Accounting::OpeningBalancesImportsHelper#opening_balances_general_ledger_account_autocomplete_data includes stock items","status":"passed","file_path":"./spec/helpers/accounting/opening_balances_imports_helper_spec.rb","line_number":61,"run_time":0.174818497,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/opening_balances_imports_helper_spec.rb[1:3:1:1]","description":"returns nil","full_description":"Accounting::OpeningBalancesImportsHelper#opening_balances_account_code_and_name when code is nil returns nil","status":"passed","file_path":"./spec/helpers/accounting/opening_balances_imports_helper_spec.rb","line_number":79,"run_time":0.014898588,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/opening_balances_imports_helper_spec.rb[1:3:2:1]","description":"returns nil","full_description":"Accounting::OpeningBalancesImportsHelper#opening_balances_account_code_and_name when code is empty returns nil","status":"passed","file_path":"./spec/helpers/accounting/opening_balances_imports_helper_spec.rb","line_number":87,"run_time":0.012949997,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/opening_balances_imports_helper_spec.rb[1:3:3:1]","description":"returns the code and account name separated by a hyphen","full_description":"Accounting::OpeningBalancesImportsHelper#opening_balances_account_code_and_name when code is a string returns the code and account name separated by a hyphen","status":"passed","file_path":"./spec/helpers/accounting/opening_balances_imports_helper_spec.rb","line_number":96,"run_time":0.010001906,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[3:16:1:2]","description":"after due date","full_description":"InvoicesController GET :index timezone support for an overview invoice when company's timezone is GMT after due date","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":377,"run_time":0.790940709,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/rbsg/frontbook_onboarding/fetch_new_applicants_job_spec.rb[1:1:1:1:1]","description":"does not schedule any jobs","full_description":"Rbsg::FrontbookOnboarding::FetchNewApplicantsJob#perform when the feature switch is disabled and there are valid applicants does not schedule any jobs","status":"passed","file_path":"./spec/jobs/rbsg/frontbook_onboarding/fetch_new_applicants_job_spec.rb","line_number":54,"run_time":0.014153996,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/rbsg/frontbook_onboarding/fetch_new_applicants_job_spec.rb[1:1:2:1]","description":"runs successfully","full_description":"Rbsg::FrontbookOnboarding::FetchNewApplicantsJob#perform when there are valid applicants runs successfully","status":"passed","file_path":"./spec/jobs/rbsg/frontbook_onboarding/fetch_new_applicants_job_spec.rb","line_number":70,"run_time":0.013263727,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/rbsg/frontbook_onboarding/fetch_new_applicants_job_spec.rb[1:1:2:2]","description":"schedules a job for each applicant","full_description":"Rbsg::FrontbookOnboarding::FetchNewApplicantsJob#perform when there are valid applicants schedules a job for each applicant","status":"passed","file_path":"./spec/jobs/rbsg/frontbook_onboarding/fetch_new_applicants_job_spec.rb","line_number":76,"run_time":0.012779052,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/rbsg/frontbook_onboarding/fetch_new_applicants_job_spec.rb[1:1:3:1]","description":"only schedules a job for new applicants","full_description":"Rbsg::FrontbookOnboarding::FetchNewApplicantsJob#perform when the first applicant has already been provisioned only schedules a job for new applicants","status":"passed","file_path":"./spec/jobs/rbsg/frontbook_onboarding/fetch_new_applicants_job_spec.rb","line_number":95,"run_time":0.108639281,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/rbsg/frontbook_onboarding/fetch_new_applicants_job_spec.rb[1:1:3:2]","description":"logs a message to explain that the existing applicant has been skipped","full_description":"Rbsg::FrontbookOnboarding::FetchNewApplicantsJob#perform when the first applicant has already been provisioned logs a message to explain that the existing applicant has been skipped","status":"passed","file_path":"./spec/jobs/rbsg/frontbook_onboarding/fetch_new_applicants_job_spec.rb","line_number":102,"run_time":0.164366401,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/rbsg/frontbook_onboarding/fetch_new_applicants_job_spec.rb[1:1:4:1]","description":"does not schedule any jobs","full_description":"Rbsg::FrontbookOnboarding::FetchNewApplicantsJob#perform when there are no applicants does not schedule any jobs","status":"passed","file_path":"./spec/jobs/rbsg/frontbook_onboarding/fetch_new_applicants_job_spec.rb","line_number":122,"run_time":0.016892165,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/rbsg/frontbook_onboarding/fetch_new_applicants_job_spec.rb[1:1:4:2]","description":"logs a message to explain no applicants were provisioned","full_description":"Rbsg::FrontbookOnboarding::FetchNewApplicantsJob#perform when there are no applicants logs a message to explain no applicants were provisioned","status":"passed","file_path":"./spec/jobs/rbsg/frontbook_onboarding/fetch_new_applicants_job_spec.rb","line_number":128,"run_time":0.012679036,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/rbsg/frontbook_onboarding/fetch_new_applicants_job_spec.rb[1:1:5:1]","description":"does not schedule any jobs","full_description":"Rbsg::FrontbookOnboarding::FetchNewApplicantsJob#perform when the API client raises an error does not schedule any jobs","status":"passed","file_path":"./spec/jobs/rbsg/frontbook_onboarding/fetch_new_applicants_job_spec.rb","line_number":144,"run_time":0.014437577,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/annual_subscription_refund_job_spec.rb[1:1:1]","description":"enqueues a job","full_description":"AnnualSubscriptionRefundJob.enqueue enqueues a job","status":"passed","file_path":"./spec/jobs/annual_subscription_refund_job_spec.rb","line_number":13,"run_time":0.114429022,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/annual_subscription_refund_job_spec.rb[1:2:1]","description":"runs successfully","full_description":"AnnualSubscriptionRefundJob#perform runs successfully","status":"passed","file_path":"./spec/jobs/annual_subscription_refund_job_spec.rb","line_number":34,"run_time":0.120703878,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/annual_subscription_refund_job_spec.rb[1:2:2:1]","description":"does not attempt to refund again","full_description":"AnnualSubscriptionRefundJob#perform when the invoice has already been refunded does not attempt to refund again","status":"passed","file_path":"./spec/jobs/annual_subscription_refund_job_spec.rb","line_number":44,"run_time":0.119349821,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/reseller/_rbsg_details.html.erb_spec.rb[1:1:1]","description":"shows whether a company has accepted data sharing","full_description":"admin/companies/reseller/_rbsg_details data sharing shows whether a company has accepted data sharing","status":"passed","file_path":"./spec/views/admin/companies/reseller/_rbsg_details.html.erb_spec.rb","line_number":17,"run_time":0.025747173,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/reseller/_rbsg_details.html.erb_spec.rb[1:1:2]","description":"shows whether a company has declined data sharing","full_description":"admin/companies/reseller/_rbsg_details data sharing shows whether a company has declined data sharing","status":"passed","file_path":"./spec/views/admin/companies/reseller/_rbsg_details.html.erb_spec.rb","line_number":24,"run_time":0.017878394,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/reseller/_rbsg_details.html.erb_spec.rb[1:2:1]","description":"displays a self-serve signup source type","full_description":"admin/companies/reseller/_rbsg_details for a self-serve signup displays a self-serve signup source type","status":"passed","file_path":"./spec/views/admin/companies/reseller/_rbsg_details.html.erb_spec.rb","line_number":34,"run_time":0.023505973,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/reseller/_rbsg_details.html.erb_spec.rb[1:2:2]","description":"does not display an agent racfid","full_description":"admin/companies/reseller/_rbsg_details for a self-serve signup does not display an agent racfid","status":"passed","file_path":"./spec/views/admin/companies/reseller/_rbsg_details.html.erb_spec.rb","line_number":40,"run_time":0.018383248,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/reseller/_rbsg_details.html.erb_spec.rb[1:2:3]","description":"does not display a frontbook application reference number","full_description":"admin/companies/reseller/_rbsg_details for a self-serve signup does not display a frontbook application reference number","status":"passed","file_path":"./spec/views/admin/companies/reseller/_rbsg_details.html.erb_spec.rb","line_number":46,"run_time":0.019924976,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/reseller/_rbsg_details.html.erb_spec.rb[1:3:1]","description":"displays an agent signup source type","full_description":"admin/companies/reseller/_rbsg_details for an agent signup displays an agent signup source type","status":"passed","file_path":"./spec/views/admin/companies/reseller/_rbsg_details.html.erb_spec.rb","line_number":55,"run_time":0.029424418,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/reseller/_rbsg_details.html.erb_spec.rb[1:3:2]","description":"shows an agent racfid","full_description":"admin/companies/reseller/_rbsg_details for an agent signup shows an agent racfid","status":"passed","file_path":"./spec/views/admin/companies/reseller/_rbsg_details.html.erb_spec.rb","line_number":61,"run_time":0.019771064,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/reseller/_rbsg_details.html.erb_spec.rb[1:4:1]","description":"displays a self-serve signup source type","full_description":"admin/companies/reseller/_rbsg_details for a frontbook applicant displays a self-serve signup source type","status":"passed","file_path":"./spec/views/admin/companies/reseller/_rbsg_details.html.erb_spec.rb","line_number":71,"run_time":0.024053864,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/reseller/_rbsg_details.html.erb_spec.rb[1:4:2]","description":"does not display an agent racfid","full_description":"admin/companies/reseller/_rbsg_details for a frontbook applicant does not display an agent racfid","status":"passed","file_path":"./spec/views/admin/companies/reseller/_rbsg_details.html.erb_spec.rb","line_number":77,"run_time":0.018485636,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/reseller/_rbsg_details.html.erb_spec.rb[1:4:3]","description":"displays a frontbook application reference number","full_description":"admin/companies/reseller/_rbsg_details for a frontbook applicant displays a frontbook application reference number","status":"passed","file_path":"./spec/views/admin/companies/reseller/_rbsg_details.html.erb_spec.rb","line_number":83,"run_time":0.018376692,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/reseller/_rbsg_details.html.erb_spec.rb[1:5:1]","description":"displays a self-serve signup source type","full_description":"admin/companies/reseller/_rbsg_details for a smart provisioned signup displays a self-serve signup source type","status":"passed","file_path":"./spec/views/admin/companies/reseller/_rbsg_details.html.erb_spec.rb","line_number":93,"run_time":0.023715354,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/reseller/_rbsg_details.html.erb_spec.rb[1:5:2]","description":"does not display an agent racfid","full_description":"admin/companies/reseller/_rbsg_details for a smart provisioned signup does not display an agent racfid","status":"passed","file_path":"./spec/views/admin/companies/reseller/_rbsg_details.html.erb_spec.rb","line_number":99,"run_time":0.018085109,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/reseller/_rbsg_details.html.erb_spec.rb[1:5:3]","description":"does not display a frontbook application reference number","full_description":"admin/companies/reseller/_rbsg_details for a smart provisioned signup does not display a frontbook application reference number","status":"passed","file_path":"./spec/views/admin/companies/reseller/_rbsg_details.html.erb_spec.rb","line_number":105,"run_time":0.018044695,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/reseller/_rbsg_details.html.erb_spec.rb[1:6:1]","description":"does not display a self serve signup type","full_description":"admin/companies/reseller/_rbsg_details for a signup without a recorded signup type does not display a self serve signup type","status":"passed","file_path":"./spec/views/admin/companies/reseller/_rbsg_details.html.erb_spec.rb","line_number":114,"run_time":0.026199525,"pending_message":null,"screenshot":null},{"id":"./spec/views/properties/income/index.html.erb_spec.rb[1:1:1]","description":"renders a list of income sources","full_description":"properties/income/index when there are income sources renders a list of income sources","status":"passed","file_path":"./spec/views/properties/income/index.html.erb_spec.rb","line_number":25,"run_time":0.210182737,"pending_message":null,"screenshot":null},{"id":"./spec/views/properties/income/index.html.erb_spec.rb[1:2:1]","description":"shows a message explaining why","full_description":"properties/income/index when there are no income sources shows a message explaining why","status":"passed","file_path":"./spec/views/properties/income/index.html.erb_spec.rb","line_number":34,"run_time":0.154538188,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/finance/report_spec.rb[1:1:1]","description":"validates that a dated_on date is present","full_description":"Admin::Finance::Report validators validates that a dated_on date is present","status":"passed","file_path":"./spec/models/admin/finance/report_spec.rb","line_number":10,"run_time":0.013069059,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/finance/report_spec.rb[1:1:2]","description":"validates that the dated_on date is in the past","full_description":"Admin::Finance::Report validators validates that the dated_on date is in the past","status":"passed","file_path":"./spec/models/admin/finance/report_spec.rb","line_number":16,"run_time":0.004285687,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/finance/report_spec.rb[1:1:3]","description":"validates that a report_type is present","full_description":"Admin::Finance::Report validators validates that a report_type is present","status":"passed","file_path":"./spec/models/admin/finance/report_spec.rb","line_number":22,"run_time":0.004518965,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/finance/report_spec.rb[1:1:4]","description":"validates that the report_type is in the expected list","full_description":"Admin::Finance::Report validators validates that the report_type is in the expected list","status":"passed","file_path":"./spec/models/admin/finance/report_spec.rb","line_number":28,"run_time":0.004239756,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/finance/report_spec.rb[1:1:5]","description":"validates that a status is present","full_description":"Admin::Finance::Report validators validates that a status is present","status":"passed","file_path":"./spec/models/admin/finance/report_spec.rb","line_number":34,"run_time":0.005453141,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/finance/report_spec.rb[1:2:1]","description":"updates the status to generating and schedules job to generate report","full_description":"Admin::Finance::Report#prepare updates the status to generating and schedules job to generate report","status":"passed","file_path":"./spec/models/admin/finance/report_spec.rb","line_number":47,"run_time":0.032243195,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/finance/report_spec.rb[1:3:1:1]","description":"returns false if the report is not in the generating state","full_description":"Admin::Finance::Report generate when the report_type is SubscriptionPayment returns false if the report is not in the generating state","status":"passed","file_path":"./spec/models/admin/finance/report_spec.rb","line_number":62,"run_time":0.109764872,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/finance/report_spec.rb[1:3:1:2]","description":"generates a SubscriptionPaymentReport","full_description":"Admin::Finance::Report generate when the report_type is SubscriptionPayment generates a SubscriptionPaymentReport","status":"passed","file_path":"./spec/models/admin/finance/report_spec.rb","line_number":67,"run_time":0.180585319,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:2:1:4:2]","description":"representing admin expenses","full_description":"UkAccountsMapper Accounts Mapper for UK companies who have applied for VAT registration before their registration effective date Bills representing admin expenses","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":1268,"run_time":0.292383253,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:108:3:1]","description":"can't be changed","full_description":"Invoice with a CIS category on a sent invoice can't be changed","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":3188,"run_time":0.265559247,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/suite/block_builder_helper_spec.rb[1:1:1]","description":"returns nil when an unset field is called","full_description":"Suite::BlockBuilderHelper A block builder returns nil when an unset field is called","status":"passed","file_path":"./spec/helpers/suite/block_builder_helper_spec.rb","line_number":12,"run_time":0.006152697,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/suite/block_builder_helper_spec.rb[1:1:2:1]","description":"returns the constant string","full_description":"Suite::BlockBuilderHelper A block builder when a field has been set with a block that returns a constant string returns the constant string","status":"passed","file_path":"./spec/helpers/suite/block_builder_helper_spec.rb","line_number":21,"run_time":0.004509278,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/suite/block_builder_helper_spec.rb[1:1:3:1]","description":"returns nil when called","full_description":"Suite::BlockBuilderHelper A block builder when a field has been set with a block that returns a a string returns nil when called","status":"passed","file_path":"./spec/helpers/suite/block_builder_helper_spec.rb","line_number":31,"run_time":0.00449256,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/suite/block_builder_helper_spec.rb[1:1:4:1]","description":"re-executes the block when called","full_description":"Suite::BlockBuilderHelper A block builder when a field has been set as a block that is sensitive to external values re-executes the block when called","status":"passed","file_path":"./spec/helpers/suite/block_builder_helper_spec.rb","line_number":41,"run_time":0.004413164,"pending_message":null,"screenshot":null},{"id":"./spec/lib/ip_address_check_spec.rb[1:1:1]","description":"returns -1 on a timeout exception","full_description":"IpAddressCheck#quality_score returns -1 on a timeout exception","status":"passed","file_path":"./spec/lib/ip_address_check_spec.rb","line_number":7,"run_time":0.007522348,"pending_message":null,"screenshot":null},{"id":"./spec/lib/ip_address_check_spec.rb[1:1:2]","description":"returns -1 on an error response","full_description":"IpAddressCheck#quality_score returns -1 on an error response","status":"passed","file_path":"./spec/lib/ip_address_check_spec.rb","line_number":13,"run_time":0.005244565,"pending_message":null,"screenshot":null},{"id":"./spec/lib/ip_address_check_spec.rb[1:1:3]","description":"returns the response score on success","full_description":"IpAddressCheck#quality_score returns the response score on success","status":"passed","file_path":"./spec/lib/ip_address_check_spec.rb","line_number":19,"run_time":0.005268412,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/row_factory_spec.rb[1:1:1]","description":"converts the value type into a readable name","full_description":"Accounting::FinalAccounts::RowFactory#row converts the value type into a readable name","status":"passed","file_path":"./spec/models/accounting/final_accounts/row_factory_spec.rb","line_number":42,"run_time":0.004836497,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/row_factory_spec.rb[1:1:2]","description":"runs the query for current period breakdown","full_description":"Accounting::FinalAccounts::RowFactory#row runs the query for current period breakdown","status":"passed","file_path":"./spec/models/accounting/final_accounts/row_factory_spec.rb","line_number":46,"run_time":0.003787634,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/row_factory_spec.rb[1:1:3]","description":"has the correct totals of the breakdown for current and comparative periods","full_description":"Accounting::FinalAccounts::RowFactory#row has the correct totals of the breakdown for current and comparative periods","status":"passed","file_path":"./spec/models/accounting/final_accounts/row_factory_spec.rb","line_number":50,"run_time":0.003987452,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/row_factory_spec.rb[1:1:4:1]","description":"has zero for the comparative period","full_description":"Accounting::FinalAccounts::RowFactory#row when there is no comparative data has zero for the comparative period","status":"passed","file_path":"./spec/models/accounting/final_accounts/row_factory_spec.rb","line_number":58,"run_time":0.004043903,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/row_factory_spec.rb[1:1:5:1]","description":"has nil for the comparative period","full_description":"Accounting::FinalAccounts::RowFactory#row when there is no comparative period has nil for the comparative period","status":"passed","file_path":"./spec/models/accounting/final_accounts/row_factory_spec.rb","line_number":67,"run_time":0.004299,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/events/bank_transaction_sent_to_banquo_spec.rb[1:1:1]","description":"invokes the event system with the default data and default context","full_description":"Banking::Events::BankTransactionSentToBanquo with no context provided invokes the event system with the default data and default context","status":"passed","file_path":"./spec/freeagent/banking/events/bank_transaction_sent_to_banquo_spec.rb","line_number":22,"run_time":0.00868311,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/events/bank_transaction_sent_to_banquo_spec.rb[1:2:1]","description":"invokes the event system with the default data and the custom context","full_description":"Banking::Events::BankTransactionSentToBanquo with a custom context provided invokes the event system with the default data and the custom context","status":"passed","file_path":"./spec/freeagent/banking/events/bank_transaction_sent_to_banquo_spec.rb","line_number":37,"run_time":0.009008817,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/free_style/table_helper_spec.rb[1:1:1]","description":"renders a table wrapper","full_description":"FreeStyle::TableHelper#freestyle_table_wrapper renders a table wrapper","status":"passed","file_path":"./spec/helpers/free_style/table_helper_spec.rb","line_number":10,"run_time":0.005242051,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/free_style/table_helper_spec.rb[1:2:1]","description":"renders a scrollable table wrapper","full_description":"FreeStyle::TableHelper#freestyle_table_scroller renders a scrollable table wrapper","status":"passed","file_path":"./spec/helpers/free_style/table_helper_spec.rb","line_number":17,"run_time":0.004735419,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/free_style/table_helper_spec.rb[1:2:2]","description":"renders a scrolling shadow when the parameter is passed","full_description":"FreeStyle::TableHelper#freestyle_table_scroller renders a scrolling shadow when the parameter is passed","status":"passed","file_path":"./spec/helpers/free_style/table_helper_spec.rb","line_number":22,"run_time":0.003669558,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/payit/requests/reconcilation_file_list_spec.rb[1:1:1]","description":"is expected to eql :get","full_description":"Payit::Requests::ReconciliationFileList#request_method is expected to eql :get","status":"passed","file_path":"./spec/integrations/payit/requests/reconcilation_file_list_spec.rb","line_number":19,"run_time":0.003021748,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/payit/requests/reconcilation_file_list_spec.rb[1:2:1]","description":"returns the payit v2 reconciliation file list url","full_description":"Payit::Requests::ReconciliationFileList#url returns the payit v2 reconciliation file list url","status":"passed","file_path":"./spec/integrations/payit/requests/reconcilation_file_list_spec.rb","line_number":35,"run_time":0.003049288,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/payit/requests/reconcilation_file_list_spec.rb[1:3:1]","description":"is expected to eql {\"Authorization\"=\u003e\"Bearer abc.123.xyz\", \"Content-Type\"=\u003e\"application/json\", \"brandidentification\"=\u003e\"2\", \"companyidentification\"=\u003e\"1\"}","full_description":"Payit::Requests::ReconciliationFileList#headers is expected to eql {\"Authorization\"=\u003e\"Bearer abc.123.xyz\", \"Content-Type\"=\u003e\"application/json\", \"brandidentification\"=\u003e\"2\", \"companyidentification\"=\u003e\"1\"}","status":"passed","file_path":"./spec/integrations/payit/requests/reconcilation_file_list_spec.rb","line_number":68,"run_time":0.003036427,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/payit/requests/reconcilation_file_list_spec.rb[1:4:1]","description":"is expected to eql \"\"","full_description":"Payit::Requests::ReconciliationFileList#payload is expected to eql \"\"","status":"passed","file_path":"./spec/integrations/payit/requests/reconcilation_file_list_spec.rb","line_number":72,"run_time":0.00277343,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/payit/requests/reconcilation_file_list_spec.rb[1:5:1]","description":"is expected to eql :reconciliation_file_list","full_description":"Payit::Requests::ReconciliationFileList#type is expected to eql :reconciliation_file_list","status":"passed","file_path":"./spec/integrations/payit/requests/reconcilation_file_list_spec.rb","line_number":76,"run_time":0.002538753,"pending_message":null,"screenshot":null},{"id":"./spec/validators/recurring/end_date_validator_spec.rb[1:1]","description":"adds an error when end date is before next recurs on","full_description":"Recurring::EndDateValidator adds an error when end date is before next recurs on","status":"passed","file_path":"./spec/validators/recurring/end_date_validator_spec.rb","line_number":15,"run_time":0.002925865,"pending_message":null,"screenshot":null},{"id":"./spec/validators/recurring/end_date_validator_spec.rb[1:2]","description":"does not add an error when recurring end dated on next_recurs_on","full_description":"Recurring::EndDateValidator does not add an error when recurring end dated on next_recurs_on","status":"passed","file_path":"./spec/validators/recurring/end_date_validator_spec.rb","line_number":23,"run_time":0.003444914,"pending_message":null,"screenshot":null},{"id":"./spec/validators/recurring/end_date_validator_spec.rb[1:3]","description":"does not add an error when dated on is not present","full_description":"Recurring::EndDateValidator does not add an error when dated on is not present","status":"passed","file_path":"./spec/validators/recurring/end_date_validator_spec.rb","line_number":29,"run_time":0.003463027,"pending_message":null,"screenshot":null},{"id":"./spec/validators/recurring/end_date_validator_spec.rb[1:4]","description":"does not add an error when recurring is not present","full_description":"Recurring::EndDateValidator does not add an error when recurring is not present","status":"passed","file_path":"./spec/validators/recurring/end_date_validator_spec.rb","line_number":35,"run_time":0.003859124,"pending_message":null,"screenshot":null},{"id":"./spec/validators/recurring/end_date_validator_spec.rb[1:5]","description":"does not add an error when recurring is not present","full_description":"Recurring::EndDateValidator does not add an error when recurring is not present","status":"passed","file_path":"./spec/validators/recurring/end_date_validator_spec.rb","line_number":41,"run_time":0.003341722,"pending_message":null,"screenshot":null},{"id":"./spec/models/presenters/time_tracking/day_presenter_spec.rb[1:1:1]","description":"should have a dom_id based on its date","full_description":"TimeTracking::DayPresenter a timetracking day with a few timeslips should have a dom_id based on its date","status":"passed","file_path":"./spec/models/presenters/time_tracking/day_presenter_spec.rb","line_number":15,"run_time":0.009739455,"pending_message":null,"screenshot":null},{"id":"./spec/models/presenters/time_tracking/day_presenter_spec.rb[1:1:2]","description":"should format the total time as hours and minutes","full_description":"TimeTracking::DayPresenter a timetracking day with a few timeslips should format the total time as hours and minutes","status":"passed","file_path":"./spec/models/presenters/time_tracking/day_presenter_spec.rb","line_number":19,"run_time":0.004575795,"pending_message":null,"screenshot":null},{"id":"./spec/models/presenters/time_tracking/day_presenter_spec.rb[1:2:1]","description":"should correctly round the hours","full_description":"TimeTracking::DayPresenter hours rounding should correctly round the hours","status":"passed","file_path":"./spec/models/presenters/time_tracking/day_presenter_spec.rb","line_number":42,"run_time":0.00434548,"pending_message":null,"screenshot":null},{"id":"./spec/models/presenters/time_tracking/day_presenter_spec.rb[1:3:1]","description":"should never round the minutes to 60","full_description":"TimeTracking::DayPresenter a day with hours very close to a int number of hours should never round the minutes to 60","status":"passed","file_path":"./spec/models/presenters/time_tracking/day_presenter_spec.rb","line_number":56,"run_time":0.004050066,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/responses/create_payment_link_spec.rb[1:1:1]","description":"is the payment url from the response body","full_description":"Tyl::Responses::CreatePaymentLink#payment_url is the payment url from the response body","status":"passed","file_path":"./spec/integrations/tyl/responses/create_payment_link_spec.rb","line_number":24,"run_time":0.004313263,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/responses/create_payment_link_spec.rb[1:1:2:1]","description":"extracts the old key from the response body","full_description":"Tyl::Responses::CreatePaymentLink#payment_url when using the MVP API extracts the old key from the response body","status":"passed","file_path":"./spec/integrations/tyl/responses/create_payment_link_spec.rb","line_number":38,"run_time":0.008964825,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/responses/create_payment_link_spec.rb[1:2:1]","description":"is the order id from the response body","full_description":"Tyl::Responses::CreatePaymentLink#order_id is the order id from the response body","status":"passed","file_path":"./spec/integrations/tyl/responses/create_payment_link_spec.rb","line_number":45,"run_time":0.004479579,"pending_message":null,"screenshot":null},{"id":"./spec/models/prohibited_jurisdiction_spec.rb[1:1:1]","description":"fails validation and raises the correct error message","full_description":"ProhibitedJurisdiction when it is attempted to create a jurisdiction with non-unique country attribute fails validation and raises the correct error message","status":"passed","file_path":"./spec/models/prohibited_jurisdiction_spec.rb","line_number":9,"run_time":0.012022883,"pending_message":null,"screenshot":null},{"id":"./spec/models/prohibited_jurisdiction_spec.rb[1:2:1]","description":"fails validation and raises the correct error message","full_description":"ProhibitedJurisdiction when it is attempted to create a jurisdiction with a country attribute which is suggested at setup fails validation and raises the correct error message","status":"passed","file_path":"./spec/models/prohibited_jurisdiction_spec.rb","line_number":17,"run_time":0.007007977,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/free_style/builder/radar/table_header_builder_spec.rb[1:1]","description":"renders a table header","full_description":"FreeStyle::Builder::Radar::TableHeaderBuilder renders a table header","status":"passed","file_path":"./spec/helpers/free_style/builder/radar/table_header_builder_spec.rb","line_number":13,"run_time":0.013084534,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/free_style/builder/radar/table_header_builder_spec.rb[1:2]","description":"has a type of table header","full_description":"FreeStyle::Builder::Radar::TableHeaderBuilder has a type of table header","status":"passed","file_path":"./spec/helpers/free_style/builder/radar/table_header_builder_spec.rb","line_number":19,"run_time":0.005019028,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:16:1:1]","description":"returns nothing","full_description":"Invoice#optional_due_value given an unpaid invoice returns nothing","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":288,"run_time":0.012471917,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/form/user_auto_suggest_component_spec.rb[1:1:1]","description":"has an auto suggest list for users","full_description":"Timeslips::Form::UserAutoSuggestComponent behaves like a timeslip user selector has an auto suggest list for users","status":"passed","file_path":"./spec/support/shared_examples/timeslips/auto_suggest_components.rb","line_number":4,"run_time":0.036399631,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/delete_company_index_request_spec.rb[1:1]","description":"should require a company","full_description":"Search::DeleteCompanyIndexRequest should require a company","status":"passed","file_path":"./spec/models/search/delete_company_index_request_spec.rb","line_number":10,"run_time":0.003921247,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/delete_company_index_request_spec.rb[1:2:1]","description":"should know the given company","full_description":"Search::DeleteCompanyIndexRequest deletion request should know the given company","status":"passed","file_path":"./spec/models/search/delete_company_index_request_spec.rb","line_number":23,"run_time":0.004172562,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/delete_company_index_request_spec.rb[1:2:2]","description":"should have the correct query body","full_description":"Search::DeleteCompanyIndexRequest deletion request should have the correct query body","status":"passed","file_path":"./spec/models/search/delete_company_index_request_spec.rb","line_number":27,"run_time":0.003810962,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/free_style/overlay_banner_helper_spec.rb[1:1:1]","description":"renders the Overlay Banner component partial","full_description":"FreeStyle::OverlayBannerHelper#freestyle_overlay_banner renders the Overlay Banner component partial","status":"passed","file_path":"./spec/helpers/free_style/overlay_banner_helper_spec.rb","line_number":7,"run_time":0.013016889,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/capital_one_provider_configuration_spec.rb[1:1:1]","description":"is the custom acr value","full_description":"OpenBanking::CapitalOneProviderConfiguration#authentication_context_class_reference is the custom acr value","status":"passed","file_path":"./spec/models/open_banking/capital_one_provider_configuration_spec.rb","line_number":9,"run_time":0.01564611,"pending_message":null,"screenshot":null},{"id":"./spec/models/branding/bcsg_spec.rb[1:1]","description":"should define its own app domain name","full_description":"Branding::Reseller::Bcsg should define its own app domain name","status":"passed","file_path":"./spec/models/branding/bcsg_spec.rb","line_number":8,"run_time":0.006310984,"pending_message":null,"screenshot":null},{"id":"./spec/models/branding/bcsg_spec.rb[1:2]","description":"should define its own host name","full_description":"Branding::Reseller::Bcsg should define its own host name","status":"passed","file_path":"./spec/models/branding/bcsg_spec.rb","line_number":12,"run_time":0.00472695,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/identifier/base_spec.rb[1:1:1]","description":"raises error","full_description":"Disengagement::Identifier::Base#companies_disengaged_between raises error","status":"passed","file_path":"./spec/models/disengagement/identifier/base_spec.rb","line_number":13,"run_time":0.003194715,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/identifier/base_spec.rb[1:2:1]","description":"delegates to #companies_disengaged_between with specific arguments to look at a single day","full_description":"Disengagement::Identifier::Base#companies_disengaged_before delegates to #companies_disengaged_between with specific arguments to look at a single day","status":"passed","file_path":"./spec/models/disengagement/identifier/base_spec.rb","line_number":20,"run_time":0.004989601,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/future_dated_spec.rb[1:1:1]","description":"is expected to eq \"Future Dated Transaction\"","full_description":"Cashflow::Payment::FutureDated.type is expected to eq \"Future Dated Transaction\"","status":"passed","file_path":"./spec/freeagent/cashflow/payment/future_dated_spec.rb","line_number":22,"run_time":0.002985178,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/future_dated_spec.rb[1:2:1]","description":"returns false","full_description":"Cashflow::Payment::FutureDated#recurring? returns false","status":"passed","file_path":"./spec/freeagent/cashflow/payment/future_dated_spec.rb","line_number":26,"run_time":0.002755934,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/future_dated_spec.rb[1:3:1]","description":"returns a unique fingerprint","full_description":"Cashflow::Payment::FutureDated#fingerprint returns a unique fingerprint","status":"passed","file_path":"./spec/freeagent/cashflow/payment/future_dated_spec.rb","line_number":32,"run_time":0.003235599,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/free_style/blank_slate_helper_spec.rb[1:1:1]","description":"renders the Blank Slate component partial","full_description":"FreeStyle::BlankSlateHelper#freestyle_blank_slate renders the Blank Slate component partial","status":"passed","file_path":"./spec/helpers/free_style/blank_slate_helper_spec.rb","line_number":8,"run_time":0.009291854,"pending_message":null,"screenshot":null},{"id":"./spec/models/attribute_locking/payment_check_spec.rb[1:1:1]","description":"returns a reason when asked","full_description":"AttributeLocking::PaymentCheck payment check returns a reason when asked","status":"passed","file_path":"./spec/models/attribute_locking/payment_check_spec.rb","line_number":7,"run_time":0.003714976,"pending_message":null,"screenshot":null},{"id":"./spec/models/attribute_locking/payment_check_spec.rb[1:1:2]","description":"returns true when there are payments","full_description":"AttributeLocking::PaymentCheck payment check returns true when there are payments","status":"passed","file_path":"./spec/models/attribute_locking/payment_check_spec.rb","line_number":11,"run_time":0.003773969,"pending_message":null,"screenshot":null},{"id":"./spec/models/attribute_locking/payment_check_spec.rb[1:1:3]","description":"returns false when there are no payments","full_description":"AttributeLocking::PaymentCheck payment check returns false when there are no payments","status":"passed","file_path":"./spec/models/attribute_locking/payment_check_spec.rb","line_number":17,"run_time":0.003459554,"pending_message":null,"screenshot":null},{"id":"./spec/lib/tasks/assets_spec.rb[1:1]","description":"uploads the source maps to the error service","full_description":"when compiling assets uploads the source maps to the error service","status":"passed","file_path":"./spec/lib/tasks/assets_spec.rb","line_number":10,"run_time":0.006181348,"pending_message":null,"screenshot":null},{"id":"./spec/lib/tasks/assets_spec.rb[1:2]","description":"generates source maps for all javascript files","full_description":"when compiling assets generates source maps for all javascript files","status":"passed","file_path":"./spec/lib/tasks/assets_spec.rb","line_number":16,"run_time":0.005916826,"pending_message":null,"screenshot":null},{"id":"./spec/validators/rebilling/rebill_project_validator_spec.rb[1:1]","description":"adds an error when rebill factor is set but no project present","full_description":"Rebilling::RebillProjectValidator adds an error when rebill factor is set but no project present","status":"passed","file_path":"./spec/validators/rebilling/rebill_project_validator_spec.rb","line_number":13,"run_time":0.003648013,"pending_message":null,"screenshot":null},{"id":"./spec/validators/rebilling/rebill_project_validator_spec.rb[1:2]","description":"does not add an error when rebill type is valid and project is present","full_description":"Rebilling::RebillProjectValidator does not add an error when rebill type is valid and project is present","status":"passed","file_path":"./spec/validators/rebilling/rebill_project_validator_spec.rb","line_number":22,"run_time":0.002970556,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/webhook_signature_spec.rb[1:1:1:1]","description":"is expected to equal true","full_description":"Tyl::WebhookSignature#valid? when the provided signature is correct is expected to equal true","status":"passed","file_path":"./spec/integrations/tyl/webhook_signature_spec.rb","line_number":28,"run_time":0.003874243,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/webhook_signature_spec.rb[1:1:2:1]","description":"is expected to equal false","full_description":"Tyl::WebhookSignature#valid? when the provided signature is incorrect is expected to equal false","status":"passed","file_path":"./spec/integrations/tyl/webhook_signature_spec.rb","line_number":34,"run_time":0.003577358,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/importer/opening_balances/bank_account_zeroer_spec.rb[1:1:1]","description":"returns true","full_description":"Importer::OpeningBalances::BankAccountZeroer#validate returns true","status":"passed","file_path":"./spec/integrations/importer/opening_balances/bank_account_zeroer_spec.rb","line_number":13,"run_time":0.002915003,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/importer/opening_balances/bank_account_zeroer_spec.rb[1:2:1]","description":"updates the opening balance on the bank account to zero","full_description":"Importer::OpeningBalances::BankAccountZeroer#update updates the opening balance on the bank account to zero","status":"passed","file_path":"./spec/integrations/importer/opening_balances/bank_account_zeroer_spec.rb","line_number":19,"run_time":0.003118914,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/responses/delete_link_spec.rb[1:1:1]","description":"is the request status from the response body","full_description":"Tyl::Responses::DeleteLink#request_status is the request status from the response body","status":"passed","file_path":"./spec/integrations/tyl/responses/delete_link_spec.rb","line_number":20,"run_time":0.003187907,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/responses/delete_link_spec.rb[1:2:1]","description":"is the api_trace_id from the response body","full_description":"Tyl::Responses::DeleteLink#api_trace_id is the api_trace_id from the response body","status":"passed","file_path":"./spec/integrations/tyl/responses/delete_link_spec.rb","line_number":26,"run_time":0.002830128,"pending_message":null,"screenshot":null},{"id":"./spec/tools/data_integrity/failure_spec.rb[1:1:1]","description":"is high for £200 and above","full_description":"DataIntegrity::Failure#risk_level is high for £200 and above","status":"passed","file_path":"./spec/tools/data_integrity/failure_spec.rb","line_number":7,"run_time":0.002905316,"pending_message":null,"screenshot":null},{"id":"./spec/tools/data_integrity/failure_spec.rb[1:1:2]","description":"is low for £1 and below","full_description":"DataIntegrity::Failure#risk_level is low for £1 and below","status":"passed","file_path":"./spec/tools/data_integrity/failure_spec.rb","line_number":12,"run_time":0.002813819,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects_spec.rb[1:1]","description":"has subclasses for each association in rebuild_sales_tax_item_associations","full_description":"SalesTaxEffects has subclasses for each association in rebuild_sales_tax_item_associations","status":"passed","file_path":"./spec/models/health_robinson/check/sales_tax_effects_spec.rb","line_number":7,"run_time":0.004733093,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/csv_helper_spec.rb[1:1]","description":"format_number","full_description":"CsvStatements::CsvHelper format_number","status":"passed","file_path":"./spec/helpers/csv_helper_spec.rb","line_number":6,"run_time":0.003670192,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/events/event_spec.rb[1:1:1]","description":"raises an AbstractMethodError","full_description":"Banking::Events::Event#data raises an AbstractMethodError","status":"passed","file_path":"./spec/freeagent/banking/events/event_spec.rb","line_number":8,"run_time":0.002927705,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/writers/array_spec.rb[1:1:1]","description":"returns a CSV representation of the result","full_description":"Exporter::Writers::Array to_csv returns a CSV representation of the result","status":"passed","file_path":"./spec/models/integrations/exporter/writers/array_spec.rb","line_number":7,"run_time":0.003287522,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/reporting_area_query_spec.rb[1:1:1]","description":"disallows composing queries with differing directions","full_description":"Accounting::FinalAccounts::RowQuery.compose disallows composing queries with differing directions","status":"passed","file_path":"./spec/models/accounting/final_accounts/reporting_area_query_spec.rb","line_number":5,"run_time":0.00316063,"pending_message":null,"screenshot":null}],"summary":{"duration":0.43306031,"example_count":491,"failure_count":0,"pending_count":1,"errors_outside_of_examples_count":0},"summary_line":"491 examples, 0 failures, 1 pending"}