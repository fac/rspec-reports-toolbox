{"version":"3.11.0","messages":["Run options:\n  include {:ids=\u003e{\"./spec/models/invoice_spec.rb\"=\u003e[\"1:89:1\", \"1:20\", \"1:128:1:1\", \"1:129:1:1\", \"1:33\", \"1:57:1\", \"1:70:1:2:1\"], \"./spec/controllers/invoices_controller_spec.rb\"=\u003e[\"29:1:4\"]}}\n  exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/features/invoicing/invoice_raising_spec.rb[1:1]","description":"Raising an invoice","full_description":"Raising an invoice Raising an invoice","status":"passed","file_path":"./spec/features/invoicing/invoice_raising_spec.rb","line_number":8,"run_time":11.919935836,"pending_message":null,"screenshot":null},{"id":"./spec/features/invoicing/invoice_raising_spec.rb[1:2]","description":"Raising an invoice from blank slate","full_description":"Raising an invoice Raising an invoice from blank slate","status":"passed","file_path":"./spec/features/invoicing/invoice_raising_spec.rb","line_number":45,"run_time":2.204637262,"pending_message":null,"screenshot":null},{"id":"./spec/features/invoicing/invoice_raising_spec.rb[1:3]","description":"Raising an invoice for a contact","full_description":"Raising an invoice Raising an invoice for a contact","status":"passed","file_path":"./spec/features/invoicing/invoice_raising_spec.rb","line_number":68,"run_time":2.046492899,"pending_message":null,"screenshot":null},{"id":"./spec/features/invoicing/invoice_raising_spec.rb[1:4]","description":"Raising an invoice and adding a new contact at the same time","full_description":"Raising an invoice Raising an invoice and adding a new contact at the same time","status":"passed","file_path":"./spec/features/invoicing/invoice_raising_spec.rb","line_number":85,"run_time":2.543110963,"pending_message":null,"screenshot":null},{"id":"./spec/features/invoicing/invoice_raising_spec.rb[1:5]","description":"Raising an invoice for a project","full_description":"Raising an invoice Raising an invoice for a project","status":"passed","file_path":"./spec/features/invoicing/invoice_raising_spec.rb","line_number":108,"run_time":2.022633654,"pending_message":null,"screenshot":null},{"id":"./spec/features/invoicing/invoice_raising_spec.rb[1:6]","description":"Tracking path taken to the new invoice form","full_description":"Raising an invoice Tracking path taken to the new invoice form","status":"passed","file_path":"./spec/features/invoicing/invoice_raising_spec.rb","line_number":127,"run_time":2.607480259,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:1:1]","description":"responds with an array of expenses with standard expense fields","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level with 3 expenses responds with an array of expenses with standard expense fields","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":125,"run_time":0.290144474,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:2:1]","description":"should nest the project object","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level with nesting should nest the project object","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":143,"run_time":0.192596574,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:3:1:1]","description":"responds with an array of expenses and no link header","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level pagination with less entries then the default items per page responds with an array of expenses and no link header","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":156,"run_time":0.243205763,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:3:2:1:1]","description":"responds with an array of expenses and a link header","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level pagination with more entries then the default items per page on the first page responds with an array of expenses and a link header","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":173,"run_time":0.248075443,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:3:2:2:1]","description":"responds with an array of expenses and the Link Header","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level pagination with more entries then the default items per page on the last page responds with an array of expenses and the Link Header","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":187,"run_time":0.23679237,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:4:1:1:1:1]","description":"responds with an array of expenses","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level filter by view valid filter all responds with an array of expenses","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":212,"run_time":0.18850648,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:4:1:1:2:1]","description":"responds with an array of expenses","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level filter by view valid filter recent responds with an array of expenses","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":230,"run_time":0.197391052,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:4:1:1:3:1]","description":"responds with an array of expenses","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level filter by view valid filter recurring responds with an array of expenses","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":248,"run_time":0.233635851,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:4:1:2:1]","description":"is expected to respond with status code :bad_request (400)","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level filter by view invalid filter is expected to respond with status code :bad_request (400)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":264,"run_time":0.068867516,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:4:2:1:1:1]","description":"responds with an array of expenses","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level filter by date valid date from_date responds with an array of expenses","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":282,"run_time":0.260655275,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:4:2:1:2:1]","description":"responds with an array of expenses","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level filter by date valid date to_date responds with an array of expenses","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":294,"run_time":0.237779015,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:4:2:1:3:1]","description":"responds with an array of expenses","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level filter by date valid date from_date_to_date responds with an array of expenses","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":306,"run_time":0.237790269,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:4:2:1:4:1]","description":"responds with an array of expenses","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level filter by date valid date updated_since responds with an array of expenses","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":318,"run_time":0.235332181,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:4:2:2:1]","description":"is expected to respond with status code :bad_request (400)","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level filter by date invalid date is expected to respond with status code :bad_request (400)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":331,"run_time":0.068549391,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:4:3:1]","description":"does not return other user's expenses","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level filter by user does not return other user's expenses","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":341,"run_time":0.159010381,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:4:4:1:1]","description":"responds with invoices only for the specified project","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level filter by project when filtering by the first project responds with invoices only for the specified project","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":364,"run_time":0.263309128,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:4:4:2:1]","description":"responds with invoices only for the specified project","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level filter by project when filtering by the second project responds with invoices only for the specified project","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":376,"run_time":0.241445186,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:2:1]","description":"by default","full_description":"Api::ExpenseIntegration GET /expenses with the TAX_AND_LIMITED_ACCOUNTING permission_level by default","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":390,"run_time":0.196689018,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:2:2]","description":"when filtering by a user","full_description":"Api::ExpenseIntegration GET /expenses with the TAX_AND_LIMITED_ACCOUNTING permission_level when filtering by a user","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":408,"run_time":0.239656571,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:3:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::ExpenseIntegration GET /expenses without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":427,"run_time":0.076224937,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:2:1:1:1]","description":"returns settings based on expense defaults","full_description":"Api::ExpenseIntegration GET /expenses/new for a UK company with the right permission_level and no existing expense returns settings based on expense defaults","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":444,"run_time":0.112754165,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:2:1:1:2:1:1]","description":"sets the description to the attachment file name","full_description":"Api::ExpenseIntegration GET /expenses/new for a UK company with the right permission_level and no existing expense with a file as the FA mobile app for a document with text extraction disabled sets the description to the attachment file name","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":465,"run_time":0.227077671,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:2:1:1:2:2:1]","description":"sets the description to the attachment file name and has extracted data fields","full_description":"Api::ExpenseIntegration GET /expenses/new for a UK company with the right permission_level and no existing expense with a file as the FA mobile app for a document with text extraction enabled sets the description to the attachment file name and has extracted data fields","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":478,"run_time":0.44715844,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:2:1:1:2:3:1]","description":"responds with a file not found error message","full_description":"Api::ExpenseIntegration GET /expenses/new for a UK company with the right permission_level and no existing expense with a file as the FA mobile app for an unscoped document responds with a file not found error message","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":502,"run_time":0.187104427,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:2:1:1:3:1]","description":"ignores the file and does not set the description","full_description":"Api::ExpenseIntegration GET /expenses/new for a UK company with the right permission_level and no existing expense with a file as a non-FA API integration ignores the file and does not set the description","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":513,"run_time":0.200748471,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:2:1:2:1]","description":"returns settings based on latest expense","full_description":"Api::ExpenseIntegration GET /expenses/new for a UK company with the right permission_level and an existing expense returns settings based on latest expense","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":528,"run_time":0.146155845,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:2:1:2:2:1]","description":"returns a new expense with auto sales tax","full_description":"Api::ExpenseIntegration GET /expenses/new for a UK company with the right permission_level and an existing expense with a manual sales tax amount returns a new expense with auto sales tax","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":550,"run_time":0.173569469,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:2:1:2:3:1:1]","description":"sets the description to the attachment file name","full_description":"Api::ExpenseIntegration GET /expenses/new for a UK company with the right permission_level and an existing expense with a file as the FA mobile app for a document with text extraction disabled sets the description to the attachment file name","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":566,"run_time":0.240077573,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:2:1:2:3:2:1]","description":"sets the description to the attachment file name","full_description":"Api::ExpenseIntegration GET /expenses/new for a UK company with the right permission_level and an existing expense with a file as the FA mobile app for a document with text extraction enabled sets the description to the attachment file name","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":582,"run_time":0.446230947,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:2:1:2:3:3:1]","description":"responds with a file not found error message","full_description":"Api::ExpenseIntegration GET /expenses/new for a UK company with the right permission_level and an existing expense with a file as the FA mobile app for an unscoped document responds with a file not found error message","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":604,"run_time":0.288877112,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:2:1:2:4:1]","description":"ignores the file and does not set the description","full_description":"Api::ExpenseIntegration GET /expenses/new for a UK company with the right permission_level and an existing expense with a file as a non-FA API integration ignores the file and does not set the description","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":615,"run_time":0.246590911,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:2:2:1:1]","description":"correctly returns the default admin expense category","full_description":"Api::ExpenseIntegration GET /expenses/new for a Universal company with right permission_level and not registered for sales tax correctly returns the default admin expense category","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":632,"run_time":0.170651509,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:2:2:2:1]","description":"returns sales tax rate defaults in the period containing expense date","full_description":"Api::ExpenseIntegration GET /expenses/new for a Universal company with right permission_level and registered for sales tax returns sales tax rate defaults in the period containing expense date","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":644,"run_time":0.18653261,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:2:3:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::ExpenseIntegration GET /expenses/new without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":656,"run_time":0.068552309,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:3:1:1]","description":"sets the vehicle_type to Car if no previous mileage exists","full_description":"Api::ExpenseIntegration GET /expenses/new?type=Mileage with the right permission_level sets the vehicle_type to Car if no previous mileage exists","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":668,"run_time":0.20808344,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:3:1:2]","description":"shows latest mileage settings","full_description":"Api::ExpenseIntegration GET /expenses/new?type=Mileage with the right permission_level shows latest mileage settings","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":675,"run_time":0.136416969,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:3:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::ExpenseIntegration GET /expenses/new?type=Mileage without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":703,"run_time":0.076853261,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:4:1:1:1]","description":"responds with the standard expense fields","full_description":"Api::ExpenseIntegration GET /expenses/expense_id with the right permission_level with valid expense_id responds with the standard expense fields","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":718,"run_time":0.162669415,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:4:1:2:1]","description":"is expected to respond with a missing status code (404)","full_description":"Api::ExpenseIntegration GET /expenses/expense_id with the right permission_level with invalid expense_id is expected to respond with a missing status code (404)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":729,"run_time":0.071076007,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:4:1:3:1]","description":"includes the sales tax attributes","full_description":"Api::ExpenseIntegration GET /expenses/expense_id with the right permission_level for an expense linked to a non UK contact involving sales tax includes the sales tax attributes","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":740,"run_time":0.179785897,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:4:1:4:1]","description":"includes the sales tax attributes and not sales_tax_rate","full_description":"Api::ExpenseIntegration GET /expenses/expense_id with the right permission_level for an foreign currency expense linked to a non UK contact involving sales tax includes the sales tax attributes and not sales_tax_rate","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":763,"run_time":0.204883966,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:4:1:5:1]","description":"translates the sales tax status attributes into the API format","full_description":"Api::ExpenseIntegration GET /expenses/expense_id with the right permission_level sales tax status translates the sales tax status attributes into the API format","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":795,"run_time":0.893825755,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:4:1:6:1]","description":"translates the sales tax status attributes into the API format","full_description":"Api::ExpenseIntegration GET /expenses/expense_id with the right permission_level second sales tax status translates the sales tax status attributes into the API format","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":823,"run_time":0.236996969,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:4:2:1:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::ExpenseIntegration GET /expenses/expense_id without the right permission_level with valid expense_id is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":838,"run_time":0.144131443,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:1:1]","description":"returns an error on the expense type","full_description":"Api::ExpenseIntegration POST /expenses when an expense with a category of Capital Account (901) is passed returns an error on the expense type","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":870,"run_time":0.097485032,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:1:1:1]","description":"creates an audit entry","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level audit trail with a single expense creates an audit entry","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":880,"run_time":0.18258796,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:1:2:1]","description":"creates audit entries","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level audit trail with multiple expenses creates audit entries","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":901,"run_time":0.235746893,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:2:1:1]","description":"has created an expense record for the current company","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level setting attachment from new attachment upload (attachment) has created an expense record for the current company","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":939,"run_time":0.207167525,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:2:2:1:1]","description":"has created a new expense record for the current company","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level setting attachment from existing file attachment as the FA mobile app for a shared file has created a new expense record for the current company","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":965,"run_time":0.355476462,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:2:2:2:1]","description":"has created a new expense record for the current company","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level setting attachment from existing file attachment as the FA mobile app for a personal file owned by the current user has created a new expense record for the current company","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":983,"run_time":0.285125801,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:2:2:3:1]","description":"responds with a file not found error message","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level setting attachment from existing file attachment as the FA mobile app for a personal file owned by another user responds with a file not found error message","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1004,"run_time":0.275809544,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:2:2:4:1]","description":"responds with an error message","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level setting attachment from existing file attachment as the FA mobile app for a locked file responds with an error message","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1021,"run_time":0.257355666,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:2:3:1]","description":"does not create a new expense record","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level setting attachment when passing both attachment and file as the FA mobile app does not create a new expense record","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1043,"run_time":0.214487499,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:2:4:1]","description":"ignores file and does not attach file to expense","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level setting attachment from existing file attachment as a non-FA API integration ignores file and does not attach file to expense","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1061,"run_time":0.285232192,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:3:1:1]","description":"has created two new expenses","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level multiple file expenses as the FA mobile app from two shared files has created two new expenses","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1086,"run_time":0.442606572,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:3:2:1]","description":"responds with a file not found error message","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level multiple file expenses as the FA mobile app from a shared file and a restricted file responds with a file not found error message","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1116,"run_time":0.345881448,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:4:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with user on another company is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1129,"run_time":0.195582745,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:5:1:1]","description":"creates the expense successfully with MY_MONEY permission_level","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level without a user present with the MY_MONEY permission level creates the expense successfully with MY_MONEY permission_level","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1140,"run_time":0.162929663,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:5:2:1]","description":"explains that the user attribute is missing with TAX_AND_LIMITED_ACCOUNTING permission_level","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level without a user present with the TAX_AND_LIMITED_ACCOUNTING permission level explains that the user attribute is missing with TAX_AND_LIMITED_ACCOUNTING permission_level","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1149,"run_time":0.116095351,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:6:1]","description":"has created an expense record for the current company","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with valid attributes and no attachment has created an expense record for the current company","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1165,"run_time":0.193448754,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:6:2]","description":"publishes the EXPENSE_CREATED event","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with valid attributes and no attachment publishes the EXPENSE_CREATED event","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1174,"run_time":0.178016531,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:7:1]","description":"sets the manual_sales_tax_amount with valid attributes ","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with valid attributes and a manual_sales_tax_amount specified sets the manual_sales_tax_amount with valid attributes ","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1190,"run_time":0.180529779,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:7:2]","description":"sets the sales_tax_rate with valid attributes ","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with valid attributes and a manual_sales_tax_amount specified sets the sales_tax_rate with valid attributes ","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1194,"run_time":0.175010306,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:8:1]","description":"sets the sales_tax_rate, calculated from the manual sales tax amount","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with both a manual_sales_tax_amount and sales_tax_rate specified sets the sales_tax_rate, calculated from the manual sales tax amount","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1210,"run_time":0.16285366,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:9:1]","description":"sets the sales_tax_rate automatically","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level and the sales_tax_rate set to AUTO sets the sales_tax_rate automatically","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1223,"run_time":0.17659358,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:10:1]","description":"sets the sales_tax_rate to out of scope","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with the sales_tax_status set to OUT_OF_SCOPE sets the sales_tax_rate to out of scope","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1235,"run_time":0.147238778,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:11:1]","description":"sets the second_sales_tax_rate to out of scope","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with the second_sales_tax_status set to OUT_OF_SCOPE sets the second_sales_tax_rate to out of scope","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1247,"run_time":0.179000279,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:12:1]","description":"has created an expense record for the current company that recurs","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with valid recurring attributes and no attachment has created an expense record for the current company that recurs","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1265,"run_time":0.175506452,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:13:1]","description":"has created an expense record for the current company","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with valid attributes for a foreign currency expense has created an expense record for the current company","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1293,"run_time":0.180100505,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:13:2]","description":"publishes the FOREIGN_CURRENCY_EXPENSE_CREATED event","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with valid attributes for a foreign currency expense publishes the FOREIGN_CURRENCY_EXPENSE_CREATED event","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1314,"run_time":0.163422394,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:14:1:1]","description":"has the same number of expenses after posting attempt","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with invalid attributes dated_on has the same number of expenses after posting attempt","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1328,"run_time":0.136311327,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:14:2:1]","description":"returns a sensible error message","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with invalid attributes unused category code returns a sensible error message","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1341,"run_time":0.119833545,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:1:1:1]","description":"creates an expense with the correct ec_status","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to Non-EC (value as \"Non-EC\") creates an expense with the correct ec_status","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1350,"run_time":0.148758966,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:1:2:1]","description":"creates an expense with the correct ec_status","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to Non-EC (value as \"0\") creates an expense with the correct ec_status","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1350,"run_time":0.151839318,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:2:1:1:1]","description":"creates an expense with the correct ec_status","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to EC Services (value as \"EC Services\") when the company is in the EU on the record date creates an expense with the correct ec_status","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1350,"run_time":0.173883125,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:2:1:2:1:1]","description":"creates an expense with the correct ec_status","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to EC Services (value as \"EC Services\") when the company is not in the EU on the record date when the company has a NI postcode creates an expense with the correct ec_status","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1350,"run_time":0.146026282,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:2:1:2:2:1]","description":"creates an expense with the correct ec_status","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to EC Services (value as \"EC Services\") when the company is not in the EU on the record date when the company does not have a NI postcode creates an expense with the correct ec_status","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1350,"run_time":0.159831852,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:2:2:1:1]","description":"creates an expense with the correct ec_status","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to EC Services (value as \"1\") when the company is in the EU on the record date creates an expense with the correct ec_status","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1350,"run_time":0.165784195,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:2:2:2:1:1]","description":"creates an expense with the correct ec_status","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to EC Services (value as \"1\") when the company is not in the EU on the record date when the company has a NI postcode creates an expense with the correct ec_status","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1350,"run_time":0.165914403,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:2:2:2:2:1]","description":"creates an expense with the correct ec_status","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to EC Services (value as \"1\") when the company is not in the EU on the record date when the company does not have a NI postcode creates an expense with the correct ec_status","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1350,"run_time":0.144986013,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:3:1:1]","description":"creates an expense with the correct ec_status","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to EC Goods (value as \"EC Goods\") creates an expense with the correct ec_status","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1350,"run_time":0.165906809,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:3:2:1]","description":"creates an expense with the correct ec_status","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to EC Goods (value as \"2\") creates an expense with the correct ec_status","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1350,"run_time":0.151669561,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:4:1:1:1]","description":"is expected to respond with status code :bad_request (400)","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to EC VAT MOSS (value as \"EC VAT MOSS\") with a place of supply is expected to respond with status code :bad_request (400)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1437,"run_time":0.064342155,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:4:1:2:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to EC VAT MOSS (value as \"EC VAT MOSS\") without a place of supply is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1441,"run_time":0.093011218,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:4:2:1:1]","description":"is expected to respond with status code :bad_request (400)","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to EC VAT MOSS (value as \"3\") with a place of supply is expected to respond with status code :bad_request (400)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1437,"run_time":0.082925886,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:4:2:2:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to EC VAT MOSS (value as \"3\") without a place of supply is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1441,"run_time":0.095997227,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:5:1:1:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to Reverse Charge (value as \"Reverse Charge\") when the company is in the EU on the record date is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1455,"run_time":0.095990239,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:5:1:2:1:1]","description":"creates an expense with the correct ec_status","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to Reverse Charge (value as \"Reverse Charge\") when the company is not in the EU on the record date when the company has a NI postcode creates an expense with the correct ec_status","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1350,"run_time":0.168816342,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:5:1:2:2:1]","description":"creates an expense with the correct ec_status","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to Reverse Charge (value as \"Reverse Charge\") when the company is not in the EU on the record date when the company does not have a NI postcode creates an expense with the correct ec_status","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1350,"run_time":0.143782191,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:5:2:1:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to Reverse Charge (value as \"4\") when the company is in the EU on the record date is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1455,"run_time":0.108452145,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:5:2:2:1:1]","description":"creates an expense with the correct ec_status","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to Reverse Charge (value as \"4\") when the company is not in the EU on the record date when the company has a NI postcode creates an expense with the correct ec_status","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1350,"run_time":0.150073628,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:5:2:2:2:1]","description":"creates an expense with the correct ec_status","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to Reverse Charge (value as \"4\") when the company is not in the EU on the record date when the company does not have a NI postcode creates an expense with the correct ec_status","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1350,"run_time":0.152467904,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:6:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to an invalid value is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1478,"run_time":0.09399889,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:16:1]","description":"returns error message","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with neither expense nor expenses attributes returns error message","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1487,"run_time":0.071927938,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:17:1]","description":"has created 3 new records","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with multiple correct expenses has created 3 new records","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1519,"run_time":0.29396691,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:18:1]","description":"has the same number of expenses after posting attempt","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with multiple expenses and one error has the same number of expenses after posting attempt","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1538,"run_time":0.164617515,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:19:1]","description":"is expected to respond with status code :bad_request (400)","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with invalid attachment is expected to respond with status code :bad_request (400)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1556,"run_time":0.087330423,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:20:1:1]","description":"returns correct depreciation schedule","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level category is capital asset with depreciation schedule integer as string returns correct depreciation schedule","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1579,"run_time":0.208823402,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:20:2:1]","description":"returns correct depreciation schedule","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level category is capital asset with depreciation schedule as integer returns correct depreciation schedule","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1589,"run_time":0.210063642,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:20:3:1]","description":"returns correct depreciation schedule","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level category is capital asset with depreciation schedule with \"Years\" appended returns correct depreciation schedule","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1599,"run_time":0.214198681,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:20:4:1]","description":"defaults the depreciation schedule if not provided","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level category is capital asset without depreciation schedule specified defaults the depreciation schedule if not provided","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1612,"run_time":0.348088527,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:20:5:1]","description":"defaults the depreciation schedule if not provided","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level category is capital asset with invalid depreciation schedule specified defaults the depreciation schedule if not provided","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1622,"run_time":0.115060217,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:20:6:1]","description":"ignores the depreciation schedule","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level category is capital asset with depreciation schedule specified for non-capital asset category ignores the depreciation schedule","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1634,"run_time":0.16288683,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:21:1:1]","description":"returns stock item details","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level category is purchase of stock for successful request returns stock item details","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1664,"run_time":0.231782727,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:21:2:1]","description":"returns 422 unprocessable entity error","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level category is purchase of stock with invalid stock item returns 422 unprocessable entity error","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1687,"run_time":0.112013473,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:21:3:1]","description":"returns 400 bad request error","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level category is purchase of stock without stock item attribute returns 400 bad request error","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1705,"run_time":0.120167817,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:21:4:1]","description":"returns 422 unprocessable entity error","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level category is purchase of stock without stock altering quantity attribute returns 422 unprocessable entity error","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1724,"run_time":0.161163329,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:22:1]","description":"creates the mileage expense with the correct fields","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level creating a mileage claim creates the mileage expense with the correct fields","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1749,"run_time":0.180532846,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:22:2]","description":"publishes the MILEAGE_CLAIM_CREATED event","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level creating a mileage claim publishes the MILEAGE_CLAIM_CREATED event","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1771,"run_time":0.157088435,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:23:1]","description":"defaults to a Petrol car with the first engine type","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level creating a mileage claim without explicitly setting the engine type or size defaults to a Petrol car with the first engine type","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1792,"run_time":0.178518341,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:3:1]","description":"has created 2 new records","full_description":"Api::ExpenseIntegration POST /expenses creating multiple mileage claims has created 2 new records","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1834,"run_time":0.205747123,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:4:1]","description":"has the same number of expenses after posting attempt","full_description":"Api::ExpenseIntegration POST /expenses creating multiple mileage claims and one error has the same number of expenses after posting attempt","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1873,"run_time":0.161570434,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:5:1:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::ExpenseIntegration POST /expenses without the right permission_level with valid attributes is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1883,"run_time":0.081605383,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:6:1:1]","description":"sets the mileage rates to 0.4","full_description":"Api::ExpenseIntegration POST /expenses as a Universal user creating a mileage claim sets the mileage rates to 0.4","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1907,"run_time":0.224529011,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:7:1]","description":"sets the right mileage rates of 0.555","full_description":"Api::ExpenseIntegration POST /expenses as a US user creating a mileage claim sets the right mileage rates of 0.555","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1934,"run_time":0.313355272,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:8:1]","description":"creates an expense with the correct property","full_description":"Api::ExpenseIntegration POST /expenses as a UK Landlord creates an expense with the correct property","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1950,"run_time":0.332954427,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:3]","description":"Rebilling an expense","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id Rebilling an expense","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2246,"run_time":0.226918284,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:4]","description":"unlinking a rebilled expense","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id unlinking a rebilled expense","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2268,"run_time":0.244342601,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:1:1:1:1]","description":"creates an audit entry","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with the right permission_level with valid expense_id audit trail creates an audit entry","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1966,"run_time":0.198957159,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:1:1:2:1]","description":"does not have an additional expense after one has been updated","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with the right permission_level with valid expense_id with valid attributes does not have an additional expense after one has been updated","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1995,"run_time":0.233216127,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:1:1:3:1:1]","description":"has the same number of expenses after posting attempt","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with the right permission_level with valid expense_id with invalid attributes dated_on has the same number of expenses after posting attempt","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2011,"run_time":0.163449901,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:1:1:3:2:1]","description":"returns 400 bad request error","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with the right permission_level with valid expense_id with invalid attributes without stock item attribute when purchase of stock category returns 400 bad request error","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2027,"run_time":0.170655933,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:1:1:4:1:1]","description":"sets the new attachment","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with the right permission_level with valid expense_id update attachment from new attachment upload (attachment) sets the new attachment","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2053,"run_time":0.384373199,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:1:1:4:2:1:1]","description":"attaches file attachment to expense and does not create a new expense","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with the right permission_level with valid expense_id update attachment from existing file attachment as the FA mobile app for a shared file attaches file attachment to expense and does not create a new expense","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2069,"run_time":0.933188494,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:1:1:4:2:2:1]","description":"attaches file attachment to expense","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with the right permission_level with valid expense_id update attachment from existing file attachment as the FA mobile app for a personal file owned by the current user attaches file attachment to expense","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2086,"run_time":0.32871634,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:1:1:4:2:3:1]","description":"responds with a file not found error message","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with the right permission_level with valid expense_id update attachment from existing file attachment as the FA mobile app for a personal file owned by another user responds with a file not found error message","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2102,"run_time":0.268078619,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:1:1:4:2:4:1]","description":"responds with an error message","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with the right permission_level with valid expense_id update attachment from existing file attachment as the FA mobile app for a locked file responds with an error message","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2122,"run_time":0.229914905,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:1:1:4:2:5:1]","description":"responds with an error message","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with the right permission_level with valid expense_id update attachment from existing file attachment as the FA mobile app for an Expense with an existing attachment responds with an error message","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2137,"run_time":0.264184208,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:1:1:4:3:1]","description":"does not create a new expense","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with the right permission_level with valid expense_id update attachment when passing both attachment and file as the FA mobile app does not create a new expense","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2157,"run_time":0.262086897,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:1:1:4:4:1]","description":"ignores file and does not attach file to expense","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with the right permission_level with valid expense_id update attachment from existing file attachment as a non-FA API integration ignores file and does not attach file to expense","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2174,"run_time":0.311430763,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:1:1:4:5:1]","description":"removes the attachment and puts it back to the files area","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with the right permission_level with valid expense_id update attachment moving the attachment back to the files area removes the attachment and puts it back to the files area","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2186,"run_time":0.215809073,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:1:1:5:1]","description":"sets the sales_tax_rate to out of scope","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with the right permission_level with valid expense_id with the sales_tax_status set to OUT_OF_SCOPE sets the sales_tax_rate to out of scope","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2203,"run_time":0.194339812,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:1:1:6:1]","description":"sets the second_sales_tax_rate to out of scope","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with the right permission_level with valid expense_id with the second_sales_tax_status set to OUT_OF_SCOPE sets the second_sales_tax_rate to out of scope","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2217,"run_time":0.20589418,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:1:2:1]","description":"is expected to respond with a not_found status code (404)","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with the right permission_level with invalid expense_id is expected to respond with a not_found status code (404)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2229,"run_time":0.083223558,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:2:1:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id without the right permission_level with valid expense_id is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2242,"run_time":0.171817612,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:5:1:1]","description":"returns correct depreciation schedule","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with capital asset category with valid depreciation schedule returns correct depreciation schedule","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2306,"run_time":0.334978213,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:5:2:1]","description":"returns error","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with capital asset category with null depreciation schedule returns error","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2315,"run_time":0.230528012,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:5:3:1]","description":"returns existing depreciation schedule","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with capital asset category without depreciation schedule returns existing depreciation schedule","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2324,"run_time":0.312179159,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:5:4:1]","description":"returns error","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with capital asset category with invalid depreciation schedule returns error","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2334,"run_time":0.210150991,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:5:5:1]","description":"ignore the depreciation schedule","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with capital asset category with depreciation schedule on non capital asset category ignore the depreciation schedule","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2345,"run_time":0.277401044,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:6:1]","description":"updates the expense with the correct property","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id as a UK Landlord updates the expense with the correct property","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2363,"run_time":0.287469667,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:6:2:1]","description":"updates the expense from one that requires a property to one which does not","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id as a UK Landlord when updating from a type that requires a property to one which does not updates the expense from one that requires a property to one which does not","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2371,"run_time":0.326603724,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:6:3:1]","description":"updates the expense from one which does not require a property to one which does","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id as a UK Landlord when updating from a type which does not require a property to one which does updates the expense from one which does not require a property to one which does","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2381,"run_time":0.34960361,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:7:1:1:1:1]","description":"creates an audit entry","full_description":"Api::ExpenseIntegration DELETE /expenses/expense_id with the right permission_level with valid expense_id audit trail creates an audit entry","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2399,"run_time":0.160290426,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:7:1:1:2:1]","description":"has one less expense after deletion","full_description":"Api::ExpenseIntegration DELETE /expenses/expense_id with the right permission_level with valid expense_id deleteable (not rebilled_on_invoice_item_id) has one less expense after deletion","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2419,"run_time":0.180757903,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:7:1:1:3:1]","description":"does not delete the attachment","full_description":"Api::ExpenseIntegration DELETE /expenses/expense_id with the right permission_level with valid expense_id return attachment to files flag is present does not delete the attachment","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2436,"run_time":0.20221402,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:7:1:1:3:2]","description":"returns the attachment to a document","full_description":"Api::ExpenseIntegration DELETE /expenses/expense_id with the right permission_level with valid expense_id return attachment to files flag is present returns the attachment to a document","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2442,"run_time":0.236326789,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:7:1:1:4:1]","description":"has the same number of expenses after deletion attempt","full_description":"Api::ExpenseIntegration DELETE /expenses/expense_id with the right permission_level with valid expense_id not deleteable (rebilled_on_invoice_item_id) has the same number of expenses after deletion attempt","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2452,"run_time":0.161447267,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:7:1:2:1]","description":"is expected to respond with a not_found status code (404)","full_description":"Api::ExpenseIntegration DELETE /expenses/expense_id with the right permission_level with invalid expense_id is expected to respond with a not_found status code (404)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2462,"run_time":0.144843327,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:7:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::ExpenseIntegration DELETE /expenses/expense_id without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2469,"run_time":0.133670775,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:8:1]","description":"does not reset the sales tax when PUTing an update without sales tax","full_description":"Api::ExpenseIntegration posting followed by updating the same expense does not reset the sales tax when PUTing an update without sales tax","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2497,"run_time":0.280362126,"pending_message":null,"screenshot":null},{"id":"./spec/requests/application_errors_spec.rb[1:1:1]","description":"requesting a non-existent page","full_description":"Application Errors not logged-in requesting a non-existent page","status":"passed","file_path":"./spec/requests/application_errors_spec.rb","line_number":38,"run_time":1.53499242,"pending_message":null,"screenshot":null},{"id":"./spec/requests/application_errors_spec.rb[1:1:2]","description":"requesting an error page","full_description":"Application Errors not logged-in requesting an error page","status":"passed","file_path":"./spec/requests/application_errors_spec.rb","line_number":45,"run_time":0.96730716,"pending_message":null,"screenshot":null},{"id":"./spec/requests/application_errors_spec.rb[1:2:1]","description":"requesting a non-existent page","full_description":"Application Errors logged-in to a regular FAC company account requesting a non-existent page","status":"passed","file_path":"./spec/requests/application_errors_spec.rb","line_number":60,"run_time":1.090504203,"pending_message":null,"screenshot":null},{"id":"./spec/requests/application_errors_spec.rb[1:2:2]","description":"requesting a missing controller action","full_description":"Application Errors logged-in to a regular FAC company account requesting a missing controller action","status":"passed","file_path":"./spec/requests/application_errors_spec.rb","line_number":68,"run_time":1.761788844,"pending_message":null,"screenshot":null},{"id":"./spec/requests/application_errors_spec.rb[1:2:3]","description":"requesting an error page","full_description":"Application Errors logged-in to a regular FAC company account requesting an error page","status":"passed","file_path":"./spec/requests/application_errors_spec.rb","line_number":78,"run_time":1.20076504,"pending_message":null,"screenshot":null},{"id":"./spec/requests/application_errors_spec.rb[1:3:1]","description":"requesting a non-existent page","full_description":"Application Errors logged-in to an accountancy practice's dashboard requesting a non-existent page","status":"passed","file_path":"./spec/requests/application_errors_spec.rb","line_number":95,"run_time":0.963497091,"pending_message":null,"screenshot":null},{"id":"./spec/requests/application_errors_spec.rb[1:3:2]","description":"requesting an error page","full_description":"Application Errors logged-in to an accountancy practice's dashboard requesting an error page","status":"passed","file_path":"./spec/requests/application_errors_spec.rb","line_number":103,"run_time":1.245640569,"pending_message":null,"screenshot":null},{"id":"./spec/requests/application_errors_spec.rb[1:4:1]","description":"requesting a non-existent resource","full_description":"Application Errors logged-in as an admin, in sudo requesting a non-existent resource","status":"passed","file_path":"./spec/requests/application_errors_spec.rb","line_number":119,"run_time":1.231360338,"pending_message":null,"screenshot":null},{"id":"./spec/requests/application_errors_spec.rb[1:4:2]","description":"requesting an error page","full_description":"Application Errors logged-in as an admin, in sudo requesting an error page","status":"passed","file_path":"./spec/requests/application_errors_spec.rb","line_number":127,"run_time":1.064277973,"pending_message":null,"screenshot":null},{"id":"./spec/requests/application_errors_spec.rb[1:5:1]","description":"responds with an appropriate status code","full_description":"Application Errors HEAD request responds with an appropriate status code","status":"passed","file_path":"./spec/requests/application_errors_spec.rb","line_number":137,"run_time":0.899406463,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:1]","description":"GET /users with 5 users","full_description":"Api::UserIntegration GET /users with 5 users","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":28,"run_time":0.140487348,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:3]","description":"GET /users for a banking permission level user","full_description":"Api::UserIntegration GET /users for a banking permission level user","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":70,"run_time":0.123546545,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:4]","description":"GET /users/user_id with valid user id","full_description":"Api::UserIntegration GET /users/user_id with valid user id","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":75,"run_time":0.104653463,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:5]","description":"GET /users/user_id with invalid user id","full_description":"Api::UserIntegration GET /users/user_id with invalid user id","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":82,"run_time":0.11348376,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:6]","description":"GET /users/me","full_description":"Api::UserIntegration GET /users/me","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":87,"run_time":0.138945643,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:2:1]","description":"with less entries than the default items per page","full_description":"Api::UserIntegration GET /users paginated with less entries than the default items per page","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":38,"run_time":0.124348194,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:2:2]","description":"with more entries then the default items per page","full_description":"Api::UserIntegration GET /users paginated with more entries then the default items per page","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":47,"run_time":0.197806492,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:7:1]","description":"when user has level 1 permissions","full_description":"Api::UserIntegration POST /users/me/send_verification_email when user has level 1 permissions","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":100,"run_time":0.127191017,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:7:2]","description":"when user has already verified their email","full_description":"Api::UserIntegration POST /users/me/send_verification_email when user has already verified their email","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":106,"run_time":0.131172449,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:8:1]","description":"when view is 'all'","full_description":"Api::UserIntegration GET /users with a :view parameter when view is 'all'","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":115,"run_time":0.112720561,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:8:2]","description":"when view is 'staff'","full_description":"Api::UserIntegration GET /users with a :view parameter when view is 'staff'","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":124,"run_time":0.120418469,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:8:3]","description":"when view is 'active_staff'","full_description":"Api::UserIntegration GET /users with a :view parameter when view is 'active_staff'","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":133,"run_time":0.11736186,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:8:4]","description":"when view is 'advisors'","full_description":"Api::UserIntegration GET /users with a :view parameter when view is 'advisors'","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":152,"run_time":0.116235512,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:8:5]","description":"when view is 'active_advisors'","full_description":"Api::UserIntegration GET /users with a :view parameter when view is 'active_advisors'","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":164,"run_time":0.120832458,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:9:1]","description":"GET /users","full_description":"Api::UserIntegration when a company has a payroll profile GET /users","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":190,"run_time":0.161923551,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:9:2]","description":"GET /users/:user_id","full_description":"Api::UserIntegration when a company has a payroll profile GET /users/:user_id","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":208,"run_time":0.118408075,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:9:3]","description":"GET /user/:user_id for a banking permission level user","full_description":"Api::UserIntegration when a company has a payroll profile GET /user/:user_id for a banking permission level user","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":222,"run_time":0.131035634,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:10:1]","description":"with valid attributes","full_description":"Api::UserIntegration POST /users with valid attributes","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":236,"run_time":0.182238027,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:10:2]","description":"with an accountant user","full_description":"Api::UserIntegration POST /users with an accountant user","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":257,"run_time":0.160029251,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:10:3]","description":"with invalid attributes","full_description":"Api::UserIntegration POST /users with invalid attributes","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":270,"run_time":0.127136827,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:10:4]","description":"with higher permission level than their own","full_description":"Api::UserIntegration POST /users with higher permission level than their own","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":280,"run_time":0.157501819,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:10:5]","description":"with lower permission level than their own","full_description":"Api::UserIntegration POST /users with lower permission level than their own","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":290,"run_time":0.199756566,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:10:8]","description":"for a banking permission_level user","full_description":"Api::UserIntegration POST /users for a banking permission_level user","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":353,"run_time":0.134848303,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:10:6:1]","description":"prevents creation","full_description":"Api::UserIntegration POST /users for an linked account manager prevents creation","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":312,"run_time":0.264266569,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:10:7:1]","description":"allows creation","full_description":"Api::UserIntegration POST /users for a practice-managed account manager allows creation","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":341,"run_time":0.288986045,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:11:4]","description":"does not update their own permission level","full_description":"Api::UserIntegration PUT /users/user_id does not update their own permission level","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":560,"run_time":0.167630068,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:11:5]","description":"does not update user when malicious parameters are passed (mass assignment attack)","full_description":"Api::UserIntegration PUT /users/user_id does not update user when malicious parameters are passed (mass assignment attack)","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":571,"run_time":0.125643612,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:11:6]","description":"for a banking permission_level user","full_description":"Api::UserIntegration PUT /users/user_id for a banking permission_level user","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":579,"run_time":0.133636384,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:11:1:2]","description":"with only a send invitation request","full_description":"Api::UserIntegration PUT /users/user_id as a full access user with only a send invitation request","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":417,"run_time":0.109503177,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:11:1:3]","description":"with valid user_id and invalid attributes","full_description":"Api::UserIntegration PUT /users/user_id as a full access user with valid user_id and invalid attributes","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":427,"run_time":0.114461217,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:11:1:4]","description":"with invalid user_id","full_description":"Api::UserIntegration PUT /users/user_id as a full access user with invalid user_id","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":437,"run_time":0.099592175,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:11:1:5]","description":"when updating another user's permission level","full_description":"Api::UserIntegration PUT /users/user_id as a full access user when updating another user's permission level","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":442,"run_time":0.123783397,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:11:1:6]","description":"when updating the account owner's permissions","full_description":"Api::UserIntegration PUT /users/user_id as a full access user when updating the account owner's permissions","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":451,"run_time":0.097920272,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:11:1:7]","description":"does not allow updating user passwords","full_description":"Api::UserIntegration PUT /users/user_id as a full access user does not allow updating user passwords","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":458,"run_time":0.130655559,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:11:1:1:1]","description":"rescans mileage, invites, updates the user and sends an email changed email","full_description":"Api::UserIntegration PUT /users/user_id as a full access user with valid user_id and attributes rescans mileage, invites, updates the user and sends an email changed email","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":381,"run_time":0.151805166,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:11:1:1:2]","description":"revokes user sessions when email changes","full_description":"Api::UserIntegration PUT /users/user_id as a full access user with valid user_id and attributes revokes user sessions when email changes","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":405,"run_time":0.194004216,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:11:2:1]","description":"when updating a user to a higher permission level than their own","full_description":"Api::UserIntegration PUT /users/user_id as a tax and limited accounting user when updating a user to a higher permission level than their own","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":478,"run_time":0.143478372,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:11:2:2]","description":"when updating any field on a user with a higher permission level than their own","full_description":"Api::UserIntegration PUT /users/user_id as a tax and limited accounting user when updating any field on a user with a higher permission level than their own","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":487,"run_time":0.112971787,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:11:2:3]","description":"when updating a user to a lower permission level than their own","full_description":"Api::UserIntegration PUT /users/user_id as a tax and limited accounting user when updating a user to a lower permission level than their own","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":494,"run_time":0.132281131,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:11:2:4]","description":"when updating the login details of a user with lower permissions","full_description":"Api::UserIntegration PUT /users/user_id as a tax and limited accounting user when updating the login details of a user with lower permissions","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":502,"run_time":0.139023328,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:11:3:1]","description":"when updating a user to a higher permission level than their own","full_description":"Api::UserIntegration PUT /users/user_id as a tax and limited accounting advisor (Accountant role) when updating a user to a higher permission level than their own","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":514,"run_time":0.132598998,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:11:3:2]","description":"when updating any field on a user with a higher permission level than their own","full_description":"Api::UserIntegration PUT /users/user_id as a tax and limited accounting advisor (Accountant role) when updating any field on a user with a higher permission level than their own","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":524,"run_time":0.109924588,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:11:3:3]","description":"when updating a user to a lower permission level than their own","full_description":"Api::UserIntegration PUT /users/user_id as a tax and limited accounting advisor (Accountant role) when updating a user to a lower permission level than their own","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":531,"run_time":0.151092007,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:11:3:4]","description":"when updating the login details of a user with lower permissions","full_description":"Api::UserIntegration PUT /users/user_id as a tax and limited accounting advisor (Accountant role) when updating the login details of a user with lower permissions","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":539,"run_time":0.142220634,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:11:3:5]","description":"when updating the account owner's permissions","full_description":"Api::UserIntegration PUT /users/user_id as a tax and limited accounting advisor (Accountant role) when updating the account owner's permissions","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":552,"run_time":0.111540385,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:12:1]","description":"if deleteable (with no expenses)","full_description":"Api::UserIntegration DELETE /users/user_id if deleteable (with no expenses)","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":590,"run_time":0.198322829,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:12:2]","description":"if not deletable (with expenses)","full_description":"Api::UserIntegration DELETE /users/user_id if not deletable (with expenses)","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":598,"run_time":0.208488975,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:12:3]","description":"if not deletable (account owner)","full_description":"Api::UserIntegration DELETE /users/user_id if not deletable (account owner)","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":608,"run_time":0.11537603,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:12:4]","description":"if not deletable (higher permission)","full_description":"Api::UserIntegration DELETE /users/user_id if not deletable (higher permission)","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":615,"run_time":0.146473982,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:12:5]","description":"if not deletable (themselves)","full_description":"Api::UserIntegration DELETE /users/user_id if not deletable (themselves)","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":622,"run_time":0.114503722,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:12:6]","description":"with invalid user_id","full_description":"Api::UserIntegration DELETE /users/user_id with invalid user_id","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":629,"run_time":0.127432245,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:12:7:1]","description":"prevents deletion","full_description":"Api::UserIntegration DELETE /users/user_id for an linked account manager prevents deletion","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":649,"run_time":0.258529457,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:12:8:1:1]","description":"allows changes to login details of the account owner of an fapd company","full_description":"Api::UserIntegration DELETE /users/user_id for a practice-managed account manager acting on a company with an fapd subscription allows changes to login details of the account owner of an fapd company","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":674,"run_time":0.283957721,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:12:8:2:1]","description":"allows changes to login details on an fapdrbsg company","full_description":"Api::UserIntegration DELETE /users/user_id for a practice-managed account manager acting on a company with an rbsgfapd subscription allows changes to login details on an fapdrbsg company","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":687,"run_time":0.316394461,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:12:8:3:1]","description":"allows deletion","full_description":"Api::UserIntegration DELETE /users/user_id for a practice-managed account manager acting on a company with an fapd subscription allows deletion","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":704,"run_time":0.338849587,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:12:8:3:2]","description":"prevents deletion of the account owner","full_description":"Api::UserIntegration DELETE /users/user_id for a practice-managed account manager acting on a company with an fapd subscription prevents deletion of the account owner","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":711,"run_time":0.237743206,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:12:8:3:3]","description":"prevents deletion of user with expenses","full_description":"Api::UserIntegration DELETE /users/user_id for a practice-managed account manager acting on a company with an fapd subscription prevents deletion of user with expenses","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":718,"run_time":0.335179889,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:12:8:4:1]","description":"allows deletion","full_description":"Api::UserIntegration DELETE /users/user_id for a practice-managed account manager acting on a company with an fapdrbsg subscription allows deletion","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":704,"run_time":0.327961053,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:12:8:4:2]","description":"prevents deletion of the account owner","full_description":"Api::UserIntegration DELETE /users/user_id for a practice-managed account manager acting on a company with an fapdrbsg subscription prevents deletion of the account owner","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":711,"run_time":0.279948493,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:12:8:4:3]","description":"prevents deletion of user with expenses","full_description":"Api::UserIntegration DELETE /users/user_id for a practice-managed account manager acting on a company with an fapdrbsg subscription prevents deletion of user with expenses","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":718,"run_time":0.344036853,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:12:9:2]","description":"with invalid attributes","full_description":"Api::UserIntegration DELETE /users/user_id PUT /users/me with invalid attributes","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":773,"run_time":0.130062161,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:12:9:3]","description":"does not update permission level","full_description":"Api::UserIntegration DELETE /users/user_id PUT /users/me does not update permission level","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":783,"run_time":0.157677745,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:12:9:4]","description":"does not update user when malicious parameters are passed (mass assignment attack)","full_description":"Api::UserIntegration DELETE /users/user_id PUT /users/me does not update user when malicious parameters are passed (mass assignment attack)","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":794,"run_time":0.178960561,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:12:9:1:1]","description":"updates the user","full_description":"Api::UserIntegration DELETE /users/user_id PUT /users/me with valid attributes updates the user","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":746,"run_time":0.156005134,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:12:9:1:2]","description":"responds with HTTP 2xx","full_description":"Api::UserIntegration DELETE /users/user_id PUT /users/me with valid attributes responds with HTTP 2xx","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":754,"run_time":0.195930912,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/user_integration_spec.rb[1:12:9:1:3]","description":"does not update the user's password","full_description":"Api::UserIntegration DELETE /users/user_id PUT /users/me with valid attributes does not update the user's password","status":"passed","file_path":"./spec/requests/api/user_integration_spec.rb","line_number":758,"run_time":0.169340529,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:1]","description":"indicates the company's native currency","full_description":"CompanyDigest a company digest indicates the company's native currency","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":12,"run_time":0.105317935,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:2]","description":"is irrelevant if there's nothing to report","full_description":"CompanyDigest a company digest is irrelevant if there's nothing to report","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":16,"run_time":0.72252259,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:3:1]","description":"returns 6 days into the future by default","full_description":"CompanyDigest a company digest #project_to returns 6 days into the future by default","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":21,"run_time":0.100876588,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:3:2]","description":"allows overriding by constructor","full_description":"CompanyDigest a company digest #project_to allows overriding by constructor","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":27,"run_time":0.091614557,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:4:1]","description":"only returns unbilled timeslips from active and completed projects","full_description":"CompanyDigest a company digest #unbilled_timeslips only returns unbilled timeslips from active and completed projects","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":35,"run_time":0.36334381,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:4:2]","description":"only includes billable timeslips","full_description":"CompanyDigest a company digest #unbilled_timeslips only includes billable timeslips","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":54,"run_time":0.178630774,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:4:3]","description":"only includes timeslips that haven't been invoiced","full_description":"CompanyDigest a company digest #unbilled_timeslips only includes timeslips that haven't been invoiced","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":65,"run_time":0.333314306,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:5:1]","description":"displays total value of bill items","full_description":"CompanyDigest a company digest #bills_open_total_value displays total value of bill items","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":95,"run_time":0.433560722,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:6:1:1:1]","description":"does not display PayIt advice","full_description":"CompanyDigest a company digest #display_pay_it_advice? with an open_bill and the company is not eligible for PayIt does not display PayIt advice","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":119,"run_time":0.332650831,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:6:1:2:1]","description":"displays PayIt advice","full_description":"CompanyDigest a company digest #display_pay_it_advice? with an open_bill and the company is eligible for PayIt displays PayIt advice","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":125,"run_time":0.288506461,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:6:2:1:1]","description":"does not display PayIt advice","full_description":"CompanyDigest a company digest #display_pay_it_advice? with an overdue_bill and the company is not eligible for PayIt does not display PayIt advice","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":119,"run_time":0.287132354,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:6:2:2:1]","description":"displays PayIt advice","full_description":"CompanyDigest a company digest #display_pay_it_advice? with an overdue_bill and the company is eligible for PayIt displays PayIt advice","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":125,"run_time":0.267314846,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:6:3:1:1]","description":"does not display PayIt advice","full_description":"CompanyDigest a company digest #display_pay_it_advice? without open or overdue bills and the company is eligible for PayIt does not display PayIt advice","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":134,"run_time":0.093767749,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:7:1]","description":"projects company timeline items up to one week ahead","full_description":"CompanyDigest a company digest with tax timeline items projects company timeline items up to one week ahead","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":153,"run_time":0.087595693,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:7:2]","description":"is newsworthy","full_description":"CompanyDigest a company digest with tax timeline items is newsworthy","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":159,"run_time":0.091554936,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:8:1]","description":"merges company and personal tax items into the timeline, projecting up to one week ahead","full_description":"CompanyDigest a company digest supporting personal tax merges company and personal tax items into the timeline, projecting up to one week ahead","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":189,"run_time":0.086084745,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:8:2]","description":"is newsworthy","full_description":"CompanyDigest a company digest supporting personal tax is newsworthy","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":198,"run_time":0.092188847,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:9:1]","description":"does not gather timeline items","full_description":"CompanyDigest a company digest for a company that hasn't finished setup does not gather timeline items","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":209,"run_time":0.177411571,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:9:2]","description":"projects an empty timeline","full_description":"CompanyDigest a company digest for a company that hasn't finished setup projects an empty timeline","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":214,"run_time":0.1584562,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:10:1]","description":"counts them","full_description":"CompanyDigest a company digest with open invoices counts them","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":224,"run_time":0.252017397,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:10:2]","description":"sums the native due values","full_description":"CompanyDigest a company digest with open invoices sums the native due values","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":228,"run_time":0.28335963,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:10:3]","description":"is newsworthy","full_description":"CompanyDigest a company digest with open invoices is newsworthy","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":232,"run_time":0.26569239,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:11:1]","description":"is expected to equal true","full_description":"CompanyDigest a company digest user with insights is expected to equal true","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":267,"run_time":0.772357394,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:11:2:1]","description":"is expected to equal false","full_description":"CompanyDigest a company digest user with insights insights are seen is expected to equal false","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":272,"run_time":0.688347137,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:11:3:1]","description":"is expected to equal false","full_description":"CompanyDigest a company digest user with insights when the rules don't apply is expected to equal false","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":279,"run_time":0.648549156,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:12:1]","description":"counts them","full_description":"CompanyDigest a company digest with unbilled timeslips counts them","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":289,"run_time":0.136770313,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:12:2]","description":"sums the hours","full_description":"CompanyDigest a company digest with unbilled timeslips sums the hours","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":293,"run_time":0.196740891,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:12:3]","description":"sums the native costs","full_description":"CompanyDigest a company digest with unbilled timeslips sums the native costs","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":297,"run_time":0.172079077,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:12:4]","description":"is newsworthy","full_description":"CompanyDigest a company digest with unbilled timeslips is newsworthy","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":301,"run_time":0.166094703,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:13:1]","description":"counts them","full_description":"CompanyDigest a company digest with sent estimates counts them","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":311,"run_time":0.15771707,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:13:2]","description":"sums the native total values","full_description":"CompanyDigest a company digest with sent estimates sums the native total values","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":315,"run_time":0.14122428,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:13:3]","description":"is newsworthy","full_description":"CompanyDigest a company digest with sent estimates is newsworthy","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":319,"run_time":0.146295304,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:14:1:1]","description":"todo statuses is empty","full_description":"CompanyDigest a company digest admin todo items without admin todo items todo statuses is empty","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":334,"run_time":0.167449295,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:14:1:2]","description":"returns todo statuses count","full_description":"CompanyDigest a company digest admin todo items without admin todo items returns todo statuses count","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":338,"run_time":0.152327864,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:14:1:3]","description":"isn't newsworthy","full_description":"CompanyDigest a company digest admin todo items without admin todo items isn't newsworthy","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":342,"run_time":0.713290207,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:14:2:1]","description":"todo statuses size is 1","full_description":"CompanyDigest a company digest admin todo items with 'undone' admin todo items todo statuses size is 1","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":352,"run_time":0.293691442,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:14:2:2]","description":"todo statuses count is 1","full_description":"CompanyDigest a company digest admin todo items with 'undone' admin todo items todo statuses count is 1","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":356,"run_time":0.265050045,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:14:2:3]","description":"is newsworthy","full_description":"CompanyDigest a company digest admin todo items with 'undone' admin todo items is newsworthy","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":360,"run_time":0.874028068,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:14:3:1]","description":"todo statuses is empty","full_description":"CompanyDigest a company digest admin todo items with 'done' admin todo items todo statuses is empty","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":370,"run_time":0.234199702,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:14:3:2]","description":"todo statuses count is 0","full_description":"CompanyDigest a company digest admin todo items with 'done' admin todo items todo statuses count is 0","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":374,"run_time":0.213558462,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_spec.rb[1:1:14:3:3]","description":"isn't newsworthy","full_description":"CompanyDigest a company digest admin todo items with 'done' admin todo items isn't newsworthy","status":"passed","file_path":"./spec/models/company_digest_spec.rb","line_number":378,"run_time":0.820920018,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/vat_returns/index.html.erb_spec.rb[1:1:1]","description":"displays a company's VAT returns from least to most recent","full_description":"admin/companies/vat_returns/index when the vat returns table is rendered displays a company's VAT returns from least to most recent","status":"passed","file_path":"./spec/views/admin/companies/vat_returns/index.html.erb_spec.rb","line_number":32,"run_time":0.433427399,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/vat_returns/index.html.erb_spec.rb[1:1:2]","description":"displays a lock when a VAT return is locked","full_description":"admin/companies/vat_returns/index when the vat returns table is rendered displays a lock when a VAT return is locked","status":"passed","file_path":"./spec/views/admin/companies/vat_returns/index.html.erb_spec.rb","line_number":40,"run_time":0.492895972,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/vat_returns/index.html.erb_spec.rb[1:1:3]","description":"does not display a lock when a VAT return is not locked","full_description":"admin/companies/vat_returns/index when the vat returns table is rendered does not display a lock when a VAT return is not locked","status":"passed","file_path":"./spec/views/admin/companies/vat_returns/index.html.erb_spec.rb","line_number":48,"run_time":0.408816932,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/vat_returns/index.html.erb_spec.rb[1:2:1]","description":"displays the MTD status card","full_description":"admin/companies/vat_returns/index when the MTD status card is rendered displays the MTD status card","status":"passed","file_path":"./spec/views/admin/companies/vat_returns/index.html.erb_spec.rb","line_number":56,"run_time":0.409910956,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/vat_returns/index.html.erb_spec.rb[1:2:2]","description":"shows the correct company MTD status when enabled","full_description":"admin/companies/vat_returns/index when the MTD status card is rendered shows the correct company MTD status when enabled","status":"passed","file_path":"./spec/views/admin/companies/vat_returns/index.html.erb_spec.rb","line_number":62,"run_time":0.416926668,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/vat_returns/index.html.erb_spec.rb[1:2:3]","description":"shows the correct company MTD status when disabled","full_description":"admin/companies/vat_returns/index when the MTD status card is rendered shows the correct company MTD status when disabled","status":"passed","file_path":"./spec/views/admin/companies/vat_returns/index.html.erb_spec.rb","line_number":72,"run_time":1.191799513,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/vat_returns/index.html.erb_spec.rb[1:2:4]","description":"displays that there is a dashboard connectionn","full_description":"admin/companies/vat_returns/index when the MTD status card is rendered displays that there is a dashboard connectionn","status":"passed","file_path":"./spec/views/admin/companies/vat_returns/index.html.erb_spec.rb","line_number":80,"run_time":0.446951381,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/vat_returns/index.html.erb_spec.rb[1:3:1]","description":"doesn't render account lock card when no account lock present","full_description":"admin/companies/vat_returns/index when the account lock card renders doesn't render account lock card when no account lock present","status":"passed","file_path":"./spec/views/admin/companies/vat_returns/index.html.erb_spec.rb","line_number":91,"run_time":0.39734338,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/vat_returns/index.html.erb_spec.rb[1:3:2]","description":"displays the account Lock card when account lock present","full_description":"admin/companies/vat_returns/index when the account lock card renders displays the account Lock card when account lock present","status":"passed","file_path":"./spec/views/admin/companies/vat_returns/index.html.erb_spec.rb","line_number":97,"run_time":0.448415072,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/vat_returns/index.html.erb_spec.rb[1:3:3]","description":"displays the account Lock end date","full_description":"admin/companies/vat_returns/index when the account lock card renders displays the account Lock end date","status":"passed","file_path":"./spec/views/admin/companies/vat_returns/index.html.erb_spec.rb","line_number":106,"run_time":0.405866283,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/vat_returns/index.html.erb_spec.rb[1:4:1]","description":"displays accounts rebuilding message","full_description":"admin/companies/vat_returns/index when company is rebuilding accounts displays accounts rebuilding message","status":"passed","file_path":"./spec/views/admin/companies/vat_returns/index.html.erb_spec.rb","line_number":120,"run_time":0.110981208,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/vat_returns/index.html.erb_spec.rb[1:4:2]","description":"polls for changes","full_description":"admin/companies/vat_returns/index when company is rebuilding accounts polls for changes","status":"passed","file_path":"./spec/views/admin/companies/vat_returns/index.html.erb_spec.rb","line_number":125,"run_time":0.102352847,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/vat_returns/index.html.erb_spec.rb[1:5:1]","description":"does not display accounts rebuilding message","full_description":"admin/companies/vat_returns/index when company is not rebuilding accounts does not display accounts rebuilding message","status":"passed","file_path":"./spec/views/admin/companies/vat_returns/index.html.erb_spec.rb","line_number":133,"run_time":0.358278005,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/vat_returns/index.html.erb_spec.rb[1:6:1]","description":"displays the accounts rebuilding message when unlocking","full_description":"admin/companies/vat_returns/index when there is a VAT unlock displays the accounts rebuilding message when unlocking","status":"passed","file_path":"./spec/views/admin/companies/vat_returns/index.html.erb_spec.rb","line_number":140,"run_time":0.415778493,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/vat_returns/index.html.erb_spec.rb[1:6:2]","description":"displays the failed message when unlock failed","full_description":"admin/companies/vat_returns/index when there is a VAT unlock displays the failed message when unlock failed","status":"passed","file_path":"./spec/views/admin/companies/vat_returns/index.html.erb_spec.rb","line_number":147,"run_time":0.481811173,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/vat_returns/index.html.erb_spec.rb[1:6:3]","description":"does not display the accounts rebuilding message when unlock idle","full_description":"admin/companies/vat_returns/index when there is a VAT unlock does not display the accounts rebuilding message when unlock idle","status":"passed","file_path":"./spec/views/admin/companies/vat_returns/index.html.erb_spec.rb","line_number":154,"run_time":0.445449742,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/clients_spec.rb[1:1:1]","description":"returns companies that can prepare payroll","full_description":"PracticeDashboard::Payroll::Clients#results returns companies that can prepare payroll","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/clients_spec.rb","line_number":42,"run_time":0.903097594,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/clients_spec.rb[1:1:2]","description":"includes errors for companies that have them","full_description":"PracticeDashboard::Payroll::Clients#results includes errors for companies that have them","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/clients_spec.rb","line_number":47,"run_time":0.776469546,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/clients_spec.rb[1:1:3]","description":"doesn't include errors from other payroll periods","full_description":"PracticeDashboard::Payroll::Clients#results doesn't include errors from other payroll periods","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/clients_spec.rb","line_number":59,"run_time":0.822929011,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/clients_spec.rb[1:1:4:1]","description":"only includes excluded companies","full_description":"PracticeDashboard::Payroll::Clients#results for excluded companies only includes excluded companies","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/clients_spec.rb","line_number":84,"run_time":0.886449987,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/clients_spec.rb[1:1:5:1]","description":"only includes excluded companies","full_description":"PracticeDashboard::Payroll::Clients#results for included companies only includes excluded companies","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/clients_spec.rb","line_number":95,"run_time":0.888634644,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/clients_spec.rb[1:1:6:1]","description":"include both included and excluded companies","full_description":"PracticeDashboard::Payroll::Clients#results for all companies include both included and excluded companies","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/clients_spec.rb","line_number":106,"run_time":0.809618273,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/clients_spec.rb[1:2:1]","description":"only includes companies that can prepare payroll or that have been prepared","full_description":"PracticeDashboard::Payroll::Clients#actionable only includes companies that can prepare payroll or that have been prepared","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/clients_spec.rb","line_number":132,"run_time":0.774592769,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/clients_spec.rb[1:3:1:1]","description":"returns true","full_description":"PracticeDashboard::Payroll::Clients#multiple_payrun? when client has multiple payruns returns true","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/clients_spec.rb","line_number":147,"run_time":0.495128727,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/clients_spec.rb[1:3:2:1]","description":"returns false","full_description":"PracticeDashboard::Payroll::Clients#multiple_payrun? when client doesn't have multiple payruns returns false","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/clients_spec.rb","line_number":160,"run_time":0.359831768,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:1:1]","description":"is expected to eq #\u003cStandardBankAccount id: 950310260, company_id: 895397833, position: 2, is_personal: false, secondar...al_here: false, currency: nil, open_banking_switch_notice: nil, enabled_for_cash_flow_horizon: true\u003e","full_description":"BankFeeds::ApiFeedsController#new is expected to eq #\u003cStandardBankAccount id: 950310260, company_id: 895397833, position: 2, is_personal: false, secondar...al_here: false, currency: nil, open_banking_switch_notice: nil, enabled_for_cash_flow_horizon: true\u003e","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":40,"run_time":0.151209513,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:1:2]","description":"is expected to eq #\u003cBankService id: 2, name: \"API Test Bank\", status: \"available\", status_message: nil, created_at: \"20...on_id: 2, yodlee_organisation_id: nil, open_banking_available: false, description: nil, ordering: 0\u003e","full_description":"BankFeeds::ApiFeedsController#new is expected to eq #\u003cBankService id: 2, name: \"API Test Bank\", status: \"available\", status_message: nil, created_at: \"20...on_id: 2, yodlee_organisation_id: nil, open_banking_available: false, description: nil, ordering: 0\u003e","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":41,"run_time":0.143865422,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:2:1:1]","description":"assigns bank_account","full_description":"BankFeeds::ApiFeedsController#create Mettle consent assigns bank_account","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":72,"run_time":0.251360799,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:2:1:2]","description":"assigns bank_service","full_description":"BankFeeds::ApiFeedsController#create Mettle consent assigns bank_service","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":77,"run_time":0.257350773,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:2:1:7]","description":"does not create a bank feed","full_description":"BankFeeds::ApiFeedsController#create Mettle consent does not create a bank feed","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":122,"run_time":0.279074069,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:2:1:8]","description":"renders the show view","full_description":"BankFeeds::ApiFeedsController#create Mettle consent renders the show view","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":126,"run_time":0.30620774,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:2:1:9]","description":"sets the correct url","full_description":"BankFeeds::ApiFeedsController#create Mettle consent sets the correct url","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":130,"run_time":0.268508955,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:2:1:10]","description":"has the correct type of provider_configuration","full_description":"BankFeeds::ApiFeedsController#create Mettle consent has the correct type of provider_configuration","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":135,"run_time":0.260873546,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:2:1:3:1]","description":"is expected to redirect to \"http://uklimitedcompany.fac.rails/bank_accounts/950310268\"","full_description":"BankFeeds::ApiFeedsController#create Mettle consent Cancel is expected to redirect to \"http://uklimitedcompany.fac.rails/bank_accounts/950310268\"","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":91,"run_time":0.067042575,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:2:1:4:1:1]","description":"renders the 'new' feed template","full_description":"BankFeeds::ApiFeedsController#create Mettle consent where there is already an existing Open Banking feed associated with the Bank Account behaves like it does not create new ApiBankFeed renders the 'new' feed template","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":46,"run_time":0.367001678,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:2:1:4:1:2]","description":"does not create a new ApiBankFeed","full_description":"BankFeeds::ApiFeedsController#create Mettle consent where there is already an existing Open Banking feed associated with the Bank Account behaves like it does not create new ApiBankFeed does not create a new ApiBankFeed","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":50,"run_time":0.284945397,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:2:1:4:1:3]","description":"contains the correct flash message","full_description":"BankFeeds::ApiFeedsController#create Mettle consent where there is already an existing Open Banking feed associated with the Bank Account behaves like it does not create new ApiBankFeed contains the correct flash message","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":54,"run_time":0.309095399,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:2:1:5:1:1]","description":"renders the 'new' feed template","full_description":"BankFeeds::ApiFeedsController#create Mettle consent where there is already an existing ApiBankFeed associated with the Bank Account behaves like it does not create new ApiBankFeed renders the 'new' feed template","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":46,"run_time":0.173781184,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:2:1:5:1:2]","description":"does not create a new ApiBankFeed","full_description":"BankFeeds::ApiFeedsController#create Mettle consent where there is already an existing ApiBankFeed associated with the Bank Account behaves like it does not create new ApiBankFeed does not create a new ApiBankFeed","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":50,"run_time":0.167719175,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:2:1:5:1:3]","description":"contains the correct flash message","full_description":"BankFeeds::ApiFeedsController#create Mettle consent where there is already an existing ApiBankFeed associated with the Bank Account behaves like it does not create new ApiBankFeed contains the correct flash message","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":54,"run_time":0.143245799,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:2:1:6:1]","description":"deletes the Yodlee Feed","full_description":"BankFeeds::ApiFeedsController#create Mettle consent where there is already an pending Yodlee feed associated with the Bank Account deletes the Yodlee Feed","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":112,"run_time":0.257319557,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:3:1:1]","description":"assigns bank_account","full_description":"BankFeeds::ApiFeedsController#edit Mettle reconsent assigns bank_account","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":161,"run_time":0.203547338,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:3:1:2]","description":"assigns bank_service","full_description":"BankFeeds::ApiFeedsController#edit Mettle reconsent assigns bank_service","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":166,"run_time":0.2276596,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:3:1:3:1]","description":"renders the show view","full_description":"BankFeeds::ApiFeedsController#edit Mettle reconsent when TPP consent is disabled renders the show view","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":174,"run_time":0.197712193,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:3:1:3:2]","description":"sets the correct url","full_description":"BankFeeds::ApiFeedsController#edit Mettle reconsent when TPP consent is disabled sets the correct url","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":178,"run_time":0.203220639,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:3:1:3:3]","description":"has the correct type of provider_configuration","full_description":"BankFeeds::ApiFeedsController#edit Mettle reconsent when TPP consent is disabled has the correct type of provider_configuration","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":183,"run_time":0.206917944,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:3:1:4:1]","description":"renders the TPP reconsent view","full_description":"BankFeeds::ApiFeedsController#edit Mettle reconsent when TPP consent is enabled renders the TPP reconsent view","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":192,"run_time":0.162286724,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:3:1:5:1]","description":"returns a 404","full_description":"BankFeeds::ApiFeedsController#edit Mettle reconsent when the feed cannot be found returns a 404","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":198,"run_time":0.199996207,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:4:1]","description":"update the `sca_expires_at` to 90 days in the future","full_description":"BankFeeds::ApiFeedsController#update update the `sca_expires_at` to 90 days in the future","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":214,"run_time":0.089241794,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:4:2]","description":"redirects back to the bank account","full_description":"BankFeeds::ApiFeedsController#update redirects back to the bank account","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":219,"run_time":0.092302225,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:4:3]","description":"sets a flash notice","full_description":"BankFeeds::ApiFeedsController#update sets a flash notice","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":224,"run_time":0.096838216,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:4:4]","description":"publishes the `API_BANK_FEED_CONSENT_UPDATED` event","full_description":"BankFeeds::ApiFeedsController#update publishes the `API_BANK_FEED_CONSENT_UPDATED` event","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":229,"run_time":0.094873641,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:4:5:1]","description":"returns a 404","full_description":"BankFeeds::ApiFeedsController#update when the feed cannot be found returns a 404","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":234,"run_time":0.160842295,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:5:1]","description":"is expected to render template _disable_feed","full_description":"BankFeeds::ApiFeedsController#confirm_disable is expected to render template _disable_feed","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":252,"run_time":0.066695822,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:5:2:1]","description":"returns a 404","full_description":"BankFeeds::ApiFeedsController#confirm_disable when the feed cannot be found returns a 404","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":260,"run_time":0.060069774,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:6:1:1]","description":"is expected to equal false","full_description":"BankFeeds::ApiFeedsController#disable deleting the bank feed record is expected to equal false","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":275,"run_time":0.083807774,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:6:1:2]","description":"is expected to eq \"Your bank feed has been disabled.\"","full_description":"BankFeeds::ApiFeedsController#disable deleting the bank feed record is expected to eq \"Your bank feed has been disabled.\"","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":276,"run_time":0.071525773,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:6:2:1]","description":"sends a message to DevDashboard to revoke the app's access","full_description":"BankFeeds::ApiFeedsController#disable revoking access sends a message to DevDashboard to revoke the app's access","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":280,"run_time":0.074260019,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:6:2:2:1]","description":"does not destroy the bank feed","full_description":"BankFeeds::ApiFeedsController#disable revoking access if DevDashboard is unavailable does not destroy the bank feed","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":293,"run_time":0.091513749,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:6:2:2:2]","description":"displays a flash message to the user","full_description":"BankFeeds::ApiFeedsController#disable revoking access if DevDashboard is unavailable displays a flash message to the user","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":297,"run_time":0.087619256,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:6:2:3:1]","description":"is expected to equal false","full_description":"BankFeeds::ApiFeedsController#disable revoking access if no apps are found for the given ID is expected to equal false","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":309,"run_time":0.084707301,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:6:2:3:2]","description":"is expected to eq \"Your bank feed has been disabled.\"","full_description":"BankFeeds::ApiFeedsController#disable revoking access if no apps are found for the given ID is expected to eq \"Your bank feed has been disabled.\"","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":310,"run_time":0.089901322,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb[1:6:3:1]","description":"returns a 404","full_description":"BankFeeds::ApiFeedsController#disable when the feed cannot be found returns a 404","status":"passed","file_path":"./spec/controllers/bank_feeds/api_feeds_controller_spec.rb","line_number":320,"run_time":0.157811728,"pending_message":null,"screenshot":null},{"id":"./spec/requests/legacy_api/iris_api_spec.rb[1:1:1]","description":"is able to access the trial balance CSV data of one of her client companies using HTTP basic","full_description":"Legacy IRIS API An non-senior account manager is able to access the trial balance CSV data of one of her client companies using HTTP basic","status":"passed","file_path":"./spec/requests/legacy_api/iris_api_spec.rb","line_number":18,"run_time":0.211443804,"pending_message":null,"screenshot":null},{"id":"./spec/requests/legacy_api/iris_api_spec.rb[1:1:2]","description":"is not able to access the trial balance CSV data of one of her client companies using the wrong HTTP basic credentials","full_description":"Legacy IRIS API An non-senior account manager is not able to access the trial balance CSV data of one of her client companies using the wrong HTTP basic credentials","status":"passed","file_path":"./spec/requests/legacy_api/iris_api_spec.rb","line_number":26,"run_time":0.204053258,"pending_message":null,"screenshot":null},{"id":"./spec/requests/legacy_api/iris_api_spec.rb[1:1:3]","description":"is not able to access the trial balance CSV data of a colleague's client company using HTTP basic","full_description":"Legacy IRIS API An non-senior account manager is not able to access the trial balance CSV data of a colleague's client company using HTTP basic","status":"passed","file_path":"./spec/requests/legacy_api/iris_api_spec.rb","line_number":34,"run_time":0.315104333,"pending_message":null,"screenshot":null},{"id":"./spec/requests/legacy_api/iris_api_spec.rb[1:1:4]","description":"is not able to access the trial balance CSV data through the practice domain","full_description":"Legacy IRIS API An non-senior account manager is not able to access the trial balance CSV data through the practice domain","status":"passed","file_path":"./spec/requests/legacy_api/iris_api_spec.rb","line_number":45,"run_time":0.168881972,"pending_message":null,"screenshot":null},{"id":"./spec/requests/legacy_api/iris_api_spec.rb[1:1:5]","description":"is able to access the /verify resource using the practice subdomain","full_description":"Legacy IRIS API An non-senior account manager is able to access the /verify resource using the practice subdomain","status":"passed","file_path":"./spec/requests/legacy_api/iris_api_spec.rb","line_number":53,"run_time":0.196532,"pending_message":null,"screenshot":null},{"id":"./spec/requests/legacy_api/iris_api_spec.rb[1:1:6]","description":"is able to access the /verify resource using the client company subdomain","full_description":"Legacy IRIS API An non-senior account manager is able to access the /verify resource using the client company subdomain","status":"passed","file_path":"./spec/requests/legacy_api/iris_api_spec.rb","line_number":58,"run_time":0.176044276,"pending_message":null,"screenshot":null},{"id":"./spec/requests/legacy_api/iris_api_spec.rb[1:1:7]","description":"is not able to access the /verify resource on a non-client company subdomain","full_description":"Legacy IRIS API An non-senior account manager is not able to access the /verify resource on a non-client company subdomain","status":"passed","file_path":"./spec/requests/legacy_api/iris_api_spec.rb","line_number":63,"run_time":0.193297993,"pending_message":null,"screenshot":null},{"id":"./spec/requests/legacy_api/iris_api_spec.rb[1:2:1:1]","description":"is able to access the trial balance CSV for her own company","full_description":"Legacy IRIS API Given an accountancy practice with two account managers each with a single client company a senior account manager is able to access the trial balance CSV for her own company","status":"passed","file_path":"./spec/requests/legacy_api/iris_api_spec.rb","line_number":78,"run_time":0.528132356,"pending_message":null,"screenshot":null},{"id":"./spec/requests/legacy_api/iris_api_spec.rb[1:2:1:2]","description":"is able to access the verification XML for her own company","full_description":"Legacy IRIS API Given an accountancy practice with two account managers each with a single client company a senior account manager is able to access the verification XML for her own company","status":"passed","file_path":"./spec/requests/legacy_api/iris_api_spec.rb","line_number":86,"run_time":0.464449907,"pending_message":null,"screenshot":null},{"id":"./spec/requests/legacy_api/iris_api_spec.rb[1:2:1:3]","description":"is able to access the trial balance CSV for the other company","full_description":"Legacy IRIS API Given an accountancy practice with two account managers each with a single client company a senior account manager is able to access the trial balance CSV for the other company","status":"passed","file_path":"./spec/requests/legacy_api/iris_api_spec.rb","line_number":94,"run_time":0.502142829,"pending_message":null,"screenshot":null},{"id":"./spec/requests/legacy_api/iris_api_spec.rb[1:2:1:4]","description":"is able to access the verification XML for the other company","full_description":"Legacy IRIS API Given an accountancy practice with two account managers each with a single client company a senior account manager is able to access the verification XML for the other company","status":"passed","file_path":"./spec/requests/legacy_api/iris_api_spec.rb","line_number":102,"run_time":0.52835219,"pending_message":null,"screenshot":null},{"id":"./spec/requests/legacy_api/iris_api_spec.rb[1:2:2:1]","description":"is able to access the trial balance CSV for her own company","full_description":"Legacy IRIS API Given an accountancy practice with two account managers each with a single client company a non-senior account manager is able to access the trial balance CSV for her own company","status":"passed","file_path":"./spec/requests/legacy_api/iris_api_spec.rb","line_number":112,"run_time":0.493198952,"pending_message":null,"screenshot":null},{"id":"./spec/requests/legacy_api/iris_api_spec.rb[1:2:2:2]","description":"is able to access the verification XML for her own company","full_description":"Legacy IRIS API Given an accountancy practice with two account managers each with a single client company a non-senior account manager is able to access the verification XML for her own company","status":"passed","file_path":"./spec/requests/legacy_api/iris_api_spec.rb","line_number":120,"run_time":0.499944665,"pending_message":null,"screenshot":null},{"id":"./spec/requests/legacy_api/iris_api_spec.rb[1:2:2:3]","description":"is not able to access the trial balance CSV for the other company","full_description":"Legacy IRIS API Given an accountancy practice with two account managers each with a single client company a non-senior account manager is not able to access the trial balance CSV for the other company","status":"passed","file_path":"./spec/requests/legacy_api/iris_api_spec.rb","line_number":128,"run_time":0.485477332,"pending_message":null,"screenshot":null},{"id":"./spec/requests/legacy_api/iris_api_spec.rb[1:2:2:4]","description":"is not able to access the verification XML for the other company","full_description":"Legacy IRIS API Given an accountancy practice with two account managers each with a single client company a non-senior account manager is not able to access the verification XML for the other company","status":"passed","file_path":"./spec/requests/legacy_api/iris_api_spec.rb","line_number":136,"run_time":0.448444317,"pending_message":null,"screenshot":null},{"id":"./spec/requests/legacy_api/iris_api_spec.rb[1:3:1]","description":"accessing the /verify URL","full_description":"Legacy IRIS API as an end user accessing the /verify URL","status":"passed","file_path":"./spec/requests/legacy_api/iris_api_spec.rb","line_number":155,"run_time":0.200128747,"pending_message":null,"screenshot":null},{"id":"./spec/requests/radar/insights/automatic_invoice_paid_thank_you_pro_tip_spec.rb[1:1:1:1]","description":"renders the AutomaticInvoiceReminderProTip copy","full_description":"AutomaticInvoicePaidThankYouProTip ping when explaining a transaction and the transaction is associated with an invoice that is being paid on time renders the AutomaticInvoiceReminderProTip copy","status":"passed","file_path":"./spec/requests/radar/insights/automatic_invoice_paid_thank_you_pro_tip_spec.rb","line_number":61,"run_time":0.775897419,"pending_message":null,"screenshot":null},{"id":"./spec/requests/radar/insights/automatic_invoice_paid_thank_you_pro_tip_spec.rb[1:1:1:2:1]","description":"renders the AutomaticInvoiceReminderProTip copy","full_description":"AutomaticInvoicePaidThankYouProTip ping when explaining a transaction and the transaction is associated with an invoice that is being paid on time and the company does not have thank you emails set up renders the AutomaticInvoiceReminderProTip copy","status":"passed","file_path":"./spec/requests/radar/insights/automatic_invoice_paid_thank_you_pro_tip_spec.rb","line_number":66,"run_time":0.702948934,"pending_message":null,"screenshot":null},{"id":"./spec/requests/radar/insights/automatic_invoice_paid_thank_you_pro_tip_spec.rb[1:1:1:3:1]","description":"doesn't render the AutomaticInvoiceReminderProTip copy","full_description":"AutomaticInvoicePaidThankYouProTip ping when explaining a transaction and the transaction is associated with an invoice that is being paid on time and the company has thank you emails set up doesn't render the AutomaticInvoiceReminderProTip copy","status":"passed","file_path":"./spec/requests/radar/insights/automatic_invoice_paid_thank_you_pro_tip_spec.rb","line_number":74,"run_time":0.671481253,"pending_message":null,"screenshot":null},{"id":"./spec/requests/radar/insights/automatic_invoice_paid_thank_you_pro_tip_spec.rb[1:1:2:1]","description":"doesn't render the AutomaticInvoiceReminderProTip copy","full_description":"AutomaticInvoicePaidThankYouProTip ping when explaining a transaction and the transaction is associated with an invoice that is being paid late doesn't render the AutomaticInvoiceReminderProTip copy","status":"passed","file_path":"./spec/requests/radar/insights/automatic_invoice_paid_thank_you_pro_tip_spec.rb","line_number":83,"run_time":0.616094309,"pending_message":null,"screenshot":null},{"id":"./spec/features/banking/cashflow_grouping_spec.rb[1:1:1:1:1]","description":"Shows the grouping in the correct order","full_description":"Banking Cashflow Grouping \u0026 Ordering Groups and orders Change expected date of a future item Shows the grouping in the correct order","status":"passed","file_path":"./spec/features/banking/cashflow_grouping_spec.rb","line_number":35,"run_time":2.946080633,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/accounting_basis_controller_spec.rb[1:1:1:1]","description":"renders the show page","full_description":"Settings::AccountingBasisController GET show when eligible to view accounting basis renders the show page","status":"passed","file_path":"./spec/controllers/settings/accounting_basis_controller_spec.rb","line_number":15,"run_time":0.24008852,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/accounting_basis_controller_spec.rb[1:1:2:1]","description":"renders 403","full_description":"Settings::AccountingBasisController GET show without permission to view accounting basis renders 403","status":"passed","file_path":"./spec/controllers/settings/accounting_basis_controller_spec.rb","line_number":26,"run_time":0.162590954,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/accounting_basis_controller_spec.rb[1:1:3:1]","description":"renders 404","full_description":"Settings::AccountingBasisController GET show when ineligible to view accounting basis renders 404","status":"passed","file_path":"./spec/controllers/settings/accounting_basis_controller_spec.rb","line_number":36,"run_time":0.101315611,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/accounting_basis_controller_spec.rb[1:2:1:1]","description":"renders the edit page","full_description":"Settings::AccountingBasisController GET edit when eligible to edit accounting basis renders the edit page","status":"passed","file_path":"./spec/controllers/settings/accounting_basis_controller_spec.rb","line_number":46,"run_time":0.225725319,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/accounting_basis_controller_spec.rb[1:2:2:1]","description":"renders 403","full_description":"Settings::AccountingBasisController GET edit without permission to edit accounting basis renders 403","status":"passed","file_path":"./spec/controllers/settings/accounting_basis_controller_spec.rb","line_number":57,"run_time":0.210673966,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/accounting_basis_controller_spec.rb[1:2:3:1]","description":"renders 404","full_description":"Settings::AccountingBasisController GET edit when ineligible to view accounting basis renders 404","status":"passed","file_path":"./spec/controllers/settings/accounting_basis_controller_spec.rb","line_number":67,"run_time":0.115701657,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/accounting_basis_controller_spec.rb[1:3:1:1:1]","description":"saves the company and redirects to the accounting basis show page","full_description":"Settings::AccountingBasisController PUT update when eligible to edit accounting basis when the confirmation checkbox is checked saves the company and redirects to the accounting basis show page","status":"passed","file_path":"./spec/controllers/settings/accounting_basis_controller_spec.rb","line_number":78,"run_time":0.169017599,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/accounting_basis_controller_spec.rb[1:3:1:2:1]","description":"renders the edit page","full_description":"Settings::AccountingBasisController PUT update when eligible to edit accounting basis when the confirmation checkbox is unchecked renders the edit page","status":"passed","file_path":"./spec/controllers/settings/accounting_basis_controller_spec.rb","line_number":92,"run_time":0.206794923,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/accounting_basis_controller_spec.rb[1:3:2:1]","description":"renders 403","full_description":"Settings::AccountingBasisController PUT update without permission to edit accounting basis renders 403","status":"passed","file_path":"./spec/controllers/settings/accounting_basis_controller_spec.rb","line_number":107,"run_time":0.212305688,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/accounting_basis_controller_spec.rb[1:3:3:1]","description":"renders 404","full_description":"Settings::AccountingBasisController PUT update when ineligible to view accounting basis renders 404","status":"passed","file_path":"./spec/controllers/settings/accounting_basis_controller_spec.rb","line_number":117,"run_time":0.110429628,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/capital_allowances/capital_allowances_shortened_periods_and_allowances_breached.feature[1:1:1]","description":"Given the \"capital_allowance_calculator_no_legacy_periods\" feature is enabled -\u003e And the current date is 2019-03-31 -\u003e And a UK Limited Company which was started on 2018-01-01 -\u003e And it starts trading on 2018-04-10 -\u003e And its first accounting year ends on 2019-03-31 -\u003e And it is VAT registered from 2018-01-01 -\u003e And it is Invoice accounting for VAT, not on the FRS -\u003e And the company has the following bank transactions: -\u003e Then the capital asset with description \"small asset\" has the following history -\u003e And for the corporation tax return ending on 2018-04-09 the capital allowance computations are -\u003e And the corporation tax return ending on 2018-04-09 should have ledger entries","full_description":"Capital Allowances The company's first corp tax period is split in two due to a trading start date and we look at the first period 2018-01-01 to 2018-04-09 Given the \"capital_allowance_calculator_no_legacy_periods\" feature is enabled -\u003e And the current date is 2019-03-31 -\u003e And a UK Limited Company which was started on 2018-01-01 -\u003e And it starts trading on 2018-04-10 -\u003e And its first accounting year ends on 2019-03-31 -\u003e And it is VAT registered from 2018-01-01 -\u003e And it is Invoice accounting for VAT, not on the FRS -\u003e And the company has the following bank transactions: -\u003e Then the capital asset with description \"small asset\" has the following history -\u003e And for the corporation tax return ending on 2018-04-09 the capital allowance computations are -\u003e And the corporation tax return ending on 2018-04-09 should have ledger entries","status":"passed","file_path":"./spec/acceptance/capital_allowances/capital_allowances_shortened_periods_and_allowances_breached.feature","line_number":21,"run_time":1.573918749,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/capital_allowances/capital_allowances_shortened_periods_and_allowances_breached.feature[1:2:1]","description":"Given the \"capital_allowance_calculator_no_legacy_periods\" feature is enabled -\u003e And the current date is 2019-03-31 -\u003e And a UK Limited Company which was started on 2018-01-01 -\u003e And it starts trading on 2018-04-10 -\u003e And its first accounting year ends on 2019-03-31 -\u003e And it is VAT registered from 2018-01-01 -\u003e And it is Invoice accounting for VAT, not on the FRS -\u003e And the company has the following bank transactions: -\u003e Then the capital asset with description \"big asset\" has the following history -\u003e And for the corporation tax return ending on 2019-03-31 the capital allowance computations are -\u003e And the corporation tax return ending on 2019-03-31 should have ledger entries","full_description":"Capital Allowances The company's first corp tax period is split in two due to a trading start date and we look at the second period 2018-04-10 to 2019-03-31 Given the \"capital_allowance_calculator_no_legacy_periods\" feature is enabled -\u003e And the current date is 2019-03-31 -\u003e And a UK Limited Company which was started on 2018-01-01 -\u003e And it starts trading on 2018-04-10 -\u003e And its first accounting year ends on 2019-03-31 -\u003e And it is VAT registered from 2018-01-01 -\u003e And it is Invoice accounting for VAT, not on the FRS -\u003e And the company has the following bank transactions: -\u003e Then the capital asset with description \"big asset\" has the following history -\u003e And for the corporation tax return ending on 2019-03-31 the capital allowance computations are -\u003e And the corporation tax return ending on 2019-03-31 should have ledger entries","status":"passed","file_path":"./spec/acceptance/capital_allowances/capital_allowances_shortened_periods_and_allowances_breached.feature","line_number":54,"run_time":1.49261514,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/line_items/account_totals_for_invoice_spec.rb[1:1:1]","description":"provides values for each combination of account and project","full_description":"LineItems::AccountTotals A native invoice with three items for two projects provides values for each combination of account and project","status":"passed","file_path":"./spec/freeagent/line_items/account_totals_for_invoice_spec.rb","line_number":25,"run_time":0.294666347,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/line_items/account_totals_for_invoice_spec.rb[1:2:1]","description":"has a nice round total","full_description":"LineItems::AccountTotals A native invoice with six items in three categories has a nice round total","status":"passed","file_path":"./spec/freeagent/line_items/account_totals_for_invoice_spec.rb","line_number":51,"run_time":0.441349598,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/line_items/account_totals_for_invoice_spec.rb[1:2:2:1]","description":"raises an error when calculating account totals","full_description":"LineItems::AccountTotals A native invoice with six items in three categories when the required correction is more than the allowable amount raises an error when calculating account totals","status":"passed","file_path":"./spec/freeagent/line_items/account_totals_for_invoice_spec.rb","line_number":58,"run_time":0.378391574,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/line_items/account_totals_for_invoice_spec.rb[1:2:3:1]","description":"does not raise an error when calculating account totals","full_description":"LineItems::AccountTotals A native invoice with six items in three categories when the require correction is equal to the allowable amount does not raise an error when calculating account totals","status":"passed","file_path":"./spec/freeagent/line_items/account_totals_for_invoice_spec.rb","line_number":66,"run_time":0.342293325,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/line_items/account_totals_for_invoice_spec.rb[1:2:4:1]","description":"distributes the rounding correction over the accounts","full_description":"LineItems::AccountTotals A native invoice with six items in three categories when correcting for rounding issues and the value is more than the account totals distributes the rounding correction over the accounts","status":"passed","file_path":"./spec/freeagent/line_items/account_totals_for_invoice_spec.rb","line_number":77,"run_time":0.369123299,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/line_items/account_totals_for_invoice_spec.rb[1:2:5:1]","description":"distributes the rounding correction over the accounts","full_description":"LineItems::AccountTotals A native invoice with six items in three categories when correcting for rounding issues and the value is less than the account totals distributes the rounding correction over the accounts","status":"passed","file_path":"./spec/freeagent/line_items/account_totals_for_invoice_spec.rb","line_number":94,"run_time":0.351571886,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/line_items/account_totals_for_invoice_spec.rb[1:3:1]","description":"groups the line items by accounts and sums the totals","full_description":"LineItems::AccountTotals A foreign currency invoice with three items in two categories and one comment item groups the line items by accounts and sums the totals","status":"passed","file_path":"./spec/freeagent/line_items/account_totals_for_invoice_spec.rb","line_number":124,"run_time":0.244418157,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/line_items/account_totals_for_invoice_spec.rb[1:3:2:1]","description":"rounds to an even value","full_description":"LineItems::AccountTotals A foreign currency invoice with three items in two categories and one comment item when correcting for rounding errors in category totals with a 2:1 exchange rate rounds to an even value","status":"passed","file_path":"./spec/freeagent/line_items/account_totals_for_invoice_spec.rb","line_number":133,"run_time":0.269153358,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_builder_spec.rb[1:2]","description":"should combine pricing items with the same discount rate and company type","full_description":"Fapd::Billing::InvoiceBuilder should combine pricing items with the same discount rate and company type","status":"passed","file_path":"./spec/models/fapd/billing/invoice_builder_spec.rb","line_number":156,"run_time":0.108365522,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_builder_spec.rb[1:3]","description":"should not combine items if the company type varies","full_description":"Fapd::Billing::InvoiceBuilder should not combine items if the company type varies","status":"passed","file_path":"./spec/models/fapd/billing/invoice_builder_spec.rb","line_number":166,"run_time":0.111482051,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_builder_spec.rb[1:4]","description":"should not combine items if the discount rate varies","full_description":"Fapd::Billing::InvoiceBuilder should not combine items if the discount rate varies","status":"passed","file_path":"./spec/models/fapd/billing/invoice_builder_spec.rb","line_number":177,"run_time":0.083603788,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_builder_spec.rb[1:5]","description":"should not combine items with different (grandfathered) unit prices","full_description":"Fapd::Billing::InvoiceBuilder should not combine items with different (grandfathered) unit prices","status":"passed","file_path":"./spec/models/fapd/billing/invoice_builder_spec.rb","line_number":188,"run_time":0.072877749,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_builder_spec.rb[1:6]","description":"should use the floor_price instead of the unit price if the discount pushes the unit price beneath the floor price","full_description":"Fapd::Billing::InvoiceBuilder should use the floor_price instead of the unit price if the discount pushes the unit price beneath the floor price","status":"passed","file_path":"./spec/models/fapd/billing/invoice_builder_spec.rb","line_number":199,"run_time":0.122519769,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_builder_spec.rb[1:7]","description":"should create appropriate descriptions for invoice items","full_description":"Fapd::Billing::InvoiceBuilder should create appropriate descriptions for invoice items","status":"passed","file_path":"./spec/models/fapd/billing/invoice_builder_spec.rb","line_number":264,"run_time":0.155118203,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_builder_spec.rb[1:8]","description":"should include sales tax rate on invoice items","full_description":"Fapd::Billing::InvoiceBuilder should include sales tax rate on invoice items","status":"passed","file_path":"./spec/models/fapd/billing/invoice_builder_spec.rb","line_number":274,"run_time":0.120936461,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_builder_spec.rb[1:1:1]","description":"should have a practice id","full_description":"Fapd::Billing::InvoiceBuilder#build should have a practice id","status":"passed","file_path":"./spec/models/fapd/billing/invoice_builder_spec.rb","line_number":58,"run_time":0.04356439,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_builder_spec.rb[1:1:2:1]","description":"is expected to have attributes {:accountancy_practice_id =\u003e 141, :currency =\u003e \"GBP\", :dated_on =\u003e Fri, 23 Dec 2022, :payment_option =\u003e \"bacs\", :reference =\u003e \"Acme Accountancy FA-002\", :status =\u003e \"Draft\"}","full_description":"Fapd::Billing::InvoiceBuilder#build invoice is expected to have attributes {:accountancy_practice_id =\u003e 141, :currency =\u003e \"GBP\", :dated_on =\u003e Fri, 23 Dec 2022, :payment_option =\u003e \"bacs\", :reference =\u003e \"Acme Accountancy FA-002\", :status =\u003e \"Draft\"}","status":"passed","file_path":"./spec/models/fapd/billing/invoice_builder_spec.rb","line_number":64,"run_time":0.075425706,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_builder_spec.rb[1:1:3:1]","description":"is expected to have attributes {:address1 =\u003e \"Suite 1\", :address2 =\u003e \"Acme House\", :address3 =\u003e \"Acme Street\", :billing_email =\u003e \"billing@ex...\"Acme Accountancy\", :postcode =\u003e \"EH7 8HQ\", :sales_tax_registration_number =\u003e \"123\", :town =\u003e \"Edinburgh\"}","full_description":"Fapd::Billing::InvoiceBuilder#build invoice contact is expected to have attributes {:address1 =\u003e \"Suite 1\", :address2 =\u003e \"Acme House\", :address3 =\u003e \"Acme Street\", :billing_email =\u003e \"billing@ex...\"Acme Accountancy\", :postcode =\u003e \"EH7 8HQ\", :sales_tax_registration_number =\u003e \"123\", :town =\u003e \"Edinburgh\"}","status":"passed","file_path":"./spec/models/fapd/billing/invoice_builder_spec.rb","line_number":77,"run_time":0.073355364,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_builder_spec.rb[1:1:4:1]","description":"is expected to have attributes {:count =\u003e 1}","full_description":"Fapd::Billing::InvoiceBuilder#build invoice items is expected to have attributes {:count =\u003e 1}","status":"passed","file_path":"./spec/models/fapd/billing/invoice_builder_spec.rb","line_number":93,"run_time":0.074950676,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_builder_spec.rb[1:1:4:2]","description":"is expected to all have attributes {:description =\u003e \"FreeAgent UK Limited Company Licences\", :price =\u003e 20.0 (BigDecimal), :quantity =\u003e 1.0 (BigDecimal), :sales_tax_rate =\u003e 20}","full_description":"Fapd::Billing::InvoiceBuilder#build invoice items is expected to all have attributes {:description =\u003e \"FreeAgent UK Limited Company Licences\", :price =\u003e 20.0 (BigDecimal), :quantity =\u003e 1.0 (BigDecimal), :sales_tax_rate =\u003e 20}","status":"passed","file_path":"./spec/models/fapd/billing/invoice_builder_spec.rb","line_number":95,"run_time":0.086486022,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_builder_spec.rb[1:1:4:4]","description":"has a discount","full_description":"Fapd::Billing::InvoiceBuilder#build invoice items has a discount","status":"passed","file_path":"./spec/models/fapd/billing/invoice_builder_spec.rb","line_number":110,"run_time":0.084579785,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_builder_spec.rb[1:1:4:3:1]","description":"has a zero sales tax rate","full_description":"Fapd::Billing::InvoiceBuilder#build invoice items for a practice based outside the UK VAT area has a zero sales tax rate","status":"passed","file_path":"./spec/models/fapd/billing/invoice_builder_spec.rb","line_number":105,"run_time":0.08267479,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_builder_spec.rb[1:1:5:1]","description":"is expected to have attributes {:count =\u003e 1}","full_description":"Fapd::Billing::InvoiceBuilder#build invoice clients is expected to have attributes {:count =\u003e 1}","status":"passed","file_path":"./spec/models/fapd/billing/invoice_builder_spec.rb","line_number":118,"run_time":0.080299119,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_builder_spec.rb[1:1:5:2]","description":"is expected to all have attributes {:company_name =\u003e \"Test company\", :company_type =\u003e \"UK Limited Company\", :discount_ra...000\", updated_at: \"2022-12-23 10:46:48.000000000 +0000\", payment_option: \"bacs\"\u003e, :net_cost =\u003e 14.0}","full_description":"Fapd::Billing::InvoiceBuilder#build invoice clients is expected to all have attributes {:company_name =\u003e \"Test company\", :company_type =\u003e \"UK Limited Company\", :discount_ra...000\", updated_at: \"2022-12-23 10:46:48.000000000 +0000\", payment_option: \"bacs\"\u003e, :net_cost =\u003e 14.0}","status":"passed","file_path":"./spec/models/fapd/billing/invoice_builder_spec.rb","line_number":120,"run_time":0.0933972,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_builder_spec.rb[1:1:5:3:1]","description":"is expected to all have attributes {:company_type =\u003e \"RBSG Subsidised Client\"}","full_description":"Fapd::Billing::InvoiceBuilder#build invoice clients with an RBSG subsidised client is expected to all have attributes {:company_type =\u003e \"RBSG Subsidised Client\"}","status":"passed","file_path":"./spec/models/fapd/billing/invoice_builder_spec.rb","line_number":133,"run_time":0.080367012,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_builder_spec.rb[1:1:5:4:1]","description":"is expected to all have attributes {:company_type =\u003e \"Linked Client\"}","full_description":"Fapd::Billing::InvoiceBuilder#build invoice clients with a linked client is expected to all have attributes {:company_type =\u003e \"Linked Client\"}","status":"passed","file_path":"./spec/models/fapd/billing/invoice_builder_spec.rb","line_number":141,"run_time":0.09413233,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_builder_spec.rb[1:1:5:5:1]","description":"is expected to all have attributes {:inactivated_at =\u003e Thu, 22 Dec 2022}","full_description":"Fapd::Billing::InvoiceBuilder#build invoice clients with an inactivated client snapshot is expected to all have attributes {:inactivated_at =\u003e Thu, 22 Dec 2022}","status":"passed","file_path":"./spec/models/fapd/billing/invoice_builder_spec.rb","line_number":149,"run_time":0.084801816,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/tax_year20172018/trading_income_allowance.feature[1:1:1]","description":"Given a UK sole trader with company start date: 2017-01-31, first accounting year end: 2018-04-05 -\u003e And the company has the following expenses: -\u003e Then the v3 self assessment return for 2017/18 will show the following boxes:","full_description":"Self Assessment Trading Income Allowance Trading Income Allowance is blank on the short form Given a UK sole trader with company start date: 2017-01-31, first accounting year end: 2018-04-05 -\u003e And the company has the following expenses: -\u003e Then the v3 self assessment return for 2017/18 will show the following boxes:","status":"passed","file_path":"./spec/acceptance/self_assessment/tax_year20172018/trading_income_allowance.feature","line_number":9,"run_time":0.242205671,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/tax_year20172018/trading_income_allowance.feature[1:2:1]","description":"Given a UK sole trader with company start date: 2017-01-31, first accounting year end: 2018-04-05 -\u003e And the company has the following expenses: -\u003e When the customer fills in the following boxes for 2017/18: -\u003e Then the v3 self assessment return for 2017/18 will show the following boxes:","full_description":"Self Assessment Trading Income Allowance Trading Income Allowance is entered on the short form Given a UK sole trader with company start date: 2017-01-31, first accounting year end: 2018-04-05 -\u003e And the company has the following expenses: -\u003e When the customer fills in the following boxes for 2017/18: -\u003e Then the v3 self assessment return for 2017/18 will show the following boxes:","status":"passed","file_path":"./spec/acceptance/self_assessment/tax_year20172018/trading_income_allowance.feature","line_number":14,"run_time":0.465206946,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/tax_year20172018/trading_income_allowance.feature[1:3:1]","description":"Given a UK sole trader with company start date: 2017-01-31, first accounting year end: 2018-04-05 -\u003e And the company has the following expenses: -\u003e When the SA103F is selected for 2017/18 -\u003e Then the v3 self assessment return for 2017/18 will show the following boxes:","full_description":"Self Assessment Trading Income Allowance Trading Income Allowance is blank on the long form Given a UK sole trader with company start date: 2017-01-31, first accounting year end: 2018-04-05 -\u003e And the company has the following expenses: -\u003e When the SA103F is selected for 2017/18 -\u003e Then the v3 self assessment return for 2017/18 will show the following boxes:","status":"passed","file_path":"./spec/acceptance/self_assessment/tax_year20172018/trading_income_allowance.feature","line_number":22,"run_time":0.307421372,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/tax_year20172018/trading_income_allowance.feature[1:4:1]","description":"Given a UK sole trader with company start date: 2017-01-31, first accounting year end: 2018-04-05 -\u003e And the company has the following expenses: -\u003e When the SA103F is selected for 2017/18 -\u003e And the customer fills in the following boxes for 2017/18: -\u003e Then the v3 self assessment return for 2017/18 will show the following boxes:","full_description":"Self Assessment Trading Income Allowance Trading Income Allowance is entered on the long form Given a UK sole trader with company start date: 2017-01-31, first accounting year end: 2018-04-05 -\u003e And the company has the following expenses: -\u003e When the SA103F is selected for 2017/18 -\u003e And the customer fills in the following boxes for 2017/18: -\u003e Then the v3 self assessment return for 2017/18 will show the following boxes:","status":"passed","file_path":"./spec/acceptance/self_assessment/tax_year20172018/trading_income_allowance.feature","line_number":28,"run_time":0.533627923,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/bill_spec.rb[1:1:1]","description":"is expected to eq #\u003cCashflow::Payment::Base:0x00007ff866171ab8 @original_date=Fri, 06 Jan 2023, @amount=-100.0 (BigDeci..., input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e, @context=#\u003cDouble (anonymous)\u003e\u003e","full_description":"Cashflow::Payment::Bill.from_bill is expected to eq #\u003cCashflow::Payment::Base:0x00007ff866171ab8 @original_date=Fri, 06 Jan 2023, @amount=-100.0 (BigDeci..., input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e, @context=#\u003cDouble (anonymous)\u003e\u003e","status":"passed","file_path":"./spec/freeagent/cashflow/payment/bill_spec.rb","line_number":24,"run_time":0.126566188,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/bill_spec.rb[1:2:1]","description":"returns false","full_description":"Cashflow::Payment::Bill#recurring? returns false","status":"passed","file_path":"./spec/freeagent/cashflow/payment/bill_spec.rb","line_number":28,"run_time":0.119580217,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/bill_spec.rb[1:3:1]","description":"returns a unique fingerprint","full_description":"Cashflow::Payment::Bill#fingerprint returns a unique fingerprint","status":"passed","file_path":"./spec/freeagent/cashflow/payment/bill_spec.rb","line_number":34,"run_time":0.117431566,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/bill_spec.rb[1:4:1:1]","description":"returns true","full_description":"Cashflow::Payment::Bill overdue? when the bill is overdue returns true","status":"passed","file_path":"./spec/freeagent/cashflow/payment/bill_spec.rb","line_number":52,"run_time":0.106926693,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/bill_spec.rb[1:4:1:2:1]","description":"returns false","full_description":"Cashflow::Payment::Bill overdue? when the bill is overdue when the bill is scheduled returns false","status":"passed","file_path":"./spec/freeagent/cashflow/payment/bill_spec.rb","line_number":61,"run_time":0.110311284,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/bill_spec.rb[1:4:2:1]","description":"returns false","full_description":"Cashflow::Payment::Bill overdue? when the bill is open returns false","status":"passed","file_path":"./spec/freeagent/cashflow/payment/bill_spec.rb","line_number":78,"run_time":0.131414795,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/bill_spec.rb[1:5:1:1]","description":"returns the original date","full_description":"Cashflow::Payment::Bill#date when the bill is due in the future returns the original date","status":"passed","file_path":"./spec/freeagent/cashflow/payment/bill_spec.rb","line_number":97,"run_time":0.109686422,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/bill_spec.rb[1:5:1:2:1]","description":"returns the scheduled_at date as a Date","full_description":"Cashflow::Payment::Bill#date when the bill is due in the future when the bill is scheduled returns the scheduled_at date as a Date","status":"passed","file_path":"./spec/freeagent/cashflow/payment/bill_spec.rb","line_number":106,"run_time":0.107291739,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/bill_spec.rb[1:5:2:1]","description":"returns today's date","full_description":"Cashflow::Payment::Bill#date when the bill is due today returns today's date","status":"passed","file_path":"./spec/freeagent/cashflow/payment/bill_spec.rb","line_number":125,"run_time":0.103420743,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/bill_spec.rb[1:5:2:2:1]","description":"returns the scheduled_at date as a Date","full_description":"Cashflow::Payment::Bill#date when the bill is due today when the bill is scheduled returns the scheduled_at date as a Date","status":"passed","file_path":"./spec/freeagent/cashflow/payment/bill_spec.rb","line_number":134,"run_time":0.112356795,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/bill_spec.rb[1:5:3:1]","description":"returns tomorrow's date","full_description":"Cashflow::Payment::Bill#date when the bill is due in the past returns tomorrow's date","status":"passed","file_path":"./spec/freeagent/cashflow/payment/bill_spec.rb","line_number":154,"run_time":0.091830053,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/bill_spec.rb[1:5:3:2:1]","description":"returns the scheduled_at date as a Date","full_description":"Cashflow::Payment::Bill#date when the bill is due in the past when the bill is scheduled returns the scheduled_at date as a Date","status":"passed","file_path":"./spec/freeagent/cashflow/payment/bill_spec.rb","line_number":163,"run_time":0.109536847,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/bill_spec.rb[1:6:1]","description":"is expected to eq \"Bill\"","full_description":"Cashflow::Payment::Bill.type is expected to eq \"Bill\"","status":"passed","file_path":"./spec/freeagent/cashflow/payment/bill_spec.rb","line_number":173,"run_time":0.00522894,"pending_message":null,"screenshot":null},{"id":"./spec/models/rescan_mileage_spec.rb[1:1:1:1]","description":"does not rescan","full_description":"RescanMileage single expense update in same tax year when mileage is below initial mileage limit does not rescan","status":"passed","file_path":"./spec/models/rescan_mileage_spec.rb","line_number":20,"run_time":0.223645572,"pending_message":null,"screenshot":null},{"id":"./spec/models/rescan_mileage_spec.rb[1:2:1]","description":"rescans correctly","full_description":"RescanMileage single expense update changing tax year rescans correctly","status":"passed","file_path":"./spec/models/rescan_mileage_spec.rb","line_number":35,"run_time":0.114786632,"pending_message":null,"screenshot":null},{"id":"./spec/models/rescan_mileage_spec.rb[1:3:1]","description":"groups expenses by user \u0026 year","full_description":"RescanMileage multiple expenses all in same year groups expenses by user \u0026 year","status":"passed","file_path":"./spec/models/rescan_mileage_spec.rb","line_number":49,"run_time":0.192719881,"pending_message":null,"screenshot":null},{"id":"./spec/models/rescan_mileage_spec.rb[1:3:2]","description":"correctly sets the mileage rate for the second car mileage expense","full_description":"RescanMileage multiple expenses all in same year correctly sets the mileage rate for the second car mileage expense","status":"passed","file_path":"./spec/models/rescan_mileage_spec.rb","line_number":54,"run_time":0.284076254,"pending_message":null,"screenshot":null},{"id":"./spec/models/rescan_mileage_spec.rb[1:3:3]","description":"accounts for expenses dated before company's FreeAgent start date","full_description":"RescanMileage multiple expenses all in same year accounts for expenses dated before company's FreeAgent start date","status":"passed","file_path":"./spec/models/rescan_mileage_spec.rb","line_number":61,"run_time":0.35638369,"pending_message":null,"screenshot":null},{"id":"./spec/models/rescan_mileage_spec.rb[1:4:1]","description":"does not schedule any rescans","full_description":"RescanMileage multiple expenses in different tax years for different users does not schedule any rescans","status":"passed","file_path":"./spec/models/rescan_mileage_spec.rb","line_number":78,"run_time":0.138372621,"pending_message":null,"screenshot":null},{"id":"./spec/models/rescan_mileage_spec.rb[1:5:1:1]","description":"does not trigger rescan","full_description":"RescanMileage Mileage claims for user with opening mileage still inside mileage limit does not trigger rescan","status":"passed","file_path":"./spec/models/rescan_mileage_spec.rb","line_number":89,"run_time":0.18065995,"pending_message":null,"screenshot":null},{"id":"./spec/models/rescan_mileage_spec.rb[1:5:2:1]","description":"triggers a rescan","full_description":"RescanMileage Mileage claims for user with opening mileage exceeding the mileage limit triggers a rescan","status":"passed","file_path":"./spec/models/rescan_mileage_spec.rb","line_number":101,"run_time":0.161168877,"pending_message":null,"screenshot":null},{"id":"./spec/models/companies_digest/invoice_collection_spec.rb[1:1:1]","description":"creates a new instance containing the companies open invoices","full_description":"CompanyDigest::InvoiceCollection.for_company creates a new instance containing the companies open invoices","status":"passed","file_path":"./spec/models/companies_digest/invoice_collection_spec.rb","line_number":8,"run_time":0.333191982,"pending_message":null,"screenshot":null},{"id":"./spec/models/companies_digest/invoice_collection_spec.rb[1:1:2]","description":"sets the local time based on the company","full_description":"CompanyDigest::InvoiceCollection.for_company sets the local time based on the company","status":"passed","file_path":"./spec/models/companies_digest/invoice_collection_spec.rb","line_number":19,"run_time":0.084379257,"pending_message":null,"screenshot":null},{"id":"./spec/models/companies_digest/invoice_collection_spec.rb[1:2:1]","description":"is false if the collection is empty","full_description":"CompanyDigest::InvoiceCollection#newsworthy? is false if the collection is empty","status":"passed","file_path":"./spec/models/companies_digest/invoice_collection_spec.rb","line_number":28,"run_time":0.004319927,"pending_message":null,"screenshot":null},{"id":"./spec/models/companies_digest/invoice_collection_spec.rb[1:2:2]","description":"is true if the collection has invoices","full_description":"CompanyDigest::InvoiceCollection#newsworthy? is true if the collection has invoices","status":"passed","file_path":"./spec/models/companies_digest/invoice_collection_spec.rb","line_number":34,"run_time":0.294432115,"pending_message":null,"screenshot":null},{"id":"./spec/models/companies_digest/invoice_collection_spec.rb[1:3:1]","description":"returns open invoices","full_description":"CompanyDigest::InvoiceCollection#open returns open invoices","status":"passed","file_path":"./spec/models/companies_digest/invoice_collection_spec.rb","line_number":43,"run_time":0.315515172,"pending_message":null,"screenshot":null},{"id":"./spec/models/companies_digest/invoice_collection_spec.rb[1:4:1]","description":"returns overdue invoices","full_description":"CompanyDigest::InvoiceCollection#overdue returns overdue invoices","status":"passed","file_path":"./spec/models/companies_digest/invoice_collection_spec.rb","line_number":53,"run_time":0.520355685,"pending_message":null,"screenshot":null},{"id":"./spec/models/companies_digest/invoice_collection_spec.rb[1:5:1]","description":"sums the value of open invoices, excluding overdue","full_description":"CompanyDigest::InvoiceCollection#open_total_due_value sums the value of open invoices, excluding overdue","status":"passed","file_path":"./spec/models/companies_digest/invoice_collection_spec.rb","line_number":63,"run_time":0.513421261,"pending_message":null,"screenshot":null},{"id":"./spec/models/companies_digest/invoice_collection_spec.rb[1:6:1]","description":"sums the value of overdue invoices","full_description":"CompanyDigest::InvoiceCollection#overdue_total_due_value sums the value of overdue invoices","status":"passed","file_path":"./spec/models/companies_digest/invoice_collection_spec.rb","line_number":74,"run_time":0.185589985,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/apple_subscriptions_controller_spec.rb[1:1:1:1]","description":"renders successfully","full_description":"Admin::Companies::AppleSubscriptionsController#show admin user has the all apple_subscriptions permission renders successfully","status":"passed","file_path":"./spec/controllers/admin/companies/apple_subscriptions_controller_spec.rb","line_number":10,"run_time":0.195208309,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/apple_subscriptions_controller_spec.rb[1:1:2:1]","description":"redirects to the admin unauthorised path","full_description":"Admin::Companies::AppleSubscriptionsController#show admin user does not have the all apple_subscriptions permission redirects to the admin unauthorised path","status":"passed","file_path":"./spec/controllers/admin/companies/apple_subscriptions_controller_spec.rb","line_number":24,"run_time":0.148251666,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/apple_subscriptions_controller_spec.rb[1:2:1:1]","description":"retrieves the latest purchase from the app store api and renders the app_store_receipt view","full_description":"Admin::Companies::AppleSubscriptionsController#app_store_receipt when the company has a valid Apple Store subscription retrieves the latest purchase from the app store api and renders the app_store_receipt view","status":"passed","file_path":"./spec/controllers/admin/companies/apple_subscriptions_controller_spec.rb","line_number":52,"run_time":0.156567465,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/apple_subscriptions_controller_spec.rb[1:2:1:2]","description":"renders the apple_auto_renews view when the 'auto_renews_only' parameter is passed","full_description":"Admin::Companies::AppleSubscriptionsController#app_store_receipt when the company has a valid Apple Store subscription renders the apple_auto_renews view when the 'auto_renews_only' parameter is passed","status":"passed","file_path":"./spec/controllers/admin/companies/apple_subscriptions_controller_spec.rb","line_number":59,"run_time":0.140860909,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/apple_subscriptions_controller_spec.rb[1:2:2:1:1]","description":"redirects to the admin company subscription path","full_description":"Admin::Companies::AppleSubscriptionsController#app_store_receipt when the company has an invalid Apple Store subscription when the admin user has the new_sudo_company_show_page feature redirects to the admin company subscription path","status":"passed","file_path":"./spec/controllers/admin/companies/apple_subscriptions_controller_spec.rb","line_number":73,"run_time":0.151185422,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/apple_subscriptions_controller_spec.rb[1:2:2:2:1]","description":"redirects to the company show page","full_description":"Admin::Companies::AppleSubscriptionsController#app_store_receipt when the company has an invalid Apple Store subscription when the admin user does not have the new_sudo_company_show_page feature redirects to the company show page","status":"passed","file_path":"./spec/controllers/admin/companies/apple_subscriptions_controller_spec.rb","line_number":83,"run_time":0.167410805,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:1:1:1:1]","description":"returns a boolean value","full_description":"Radar::Notifications::DigestNotifier MockNotifier behaves like a Radar digest notifier #skip_enqueue? returns a boolean value","status":"passed","file_path":"./spec/support/shared_examples/radar/notifications/digest_notifier.rb","line_number":3,"run_time":0.026525699,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:1:1:2:1]","description":"returns a boolean value","full_description":"Radar::Notifications::DigestNotifier MockNotifier behaves like a Radar digest notifier #skip_deliver? returns a boolean value","status":"passed","file_path":"./spec/support/shared_examples/radar/notifications/digest_notifier.rb","line_number":9,"run_time":0.02713011,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:1:1:3:1]","description":"returns a properly formatted string","full_description":"Radar::Notifications::DigestNotifier MockNotifier behaves like a Radar digest notifier #delivery_time returns a properly formatted string","status":"passed","file_path":"./spec/support/shared_examples/radar/notifications/digest_notifier.rb","line_number":15,"run_time":0.02333688,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:1:1:4:1]","description":"returns an enumerable","full_description":"Radar::Notifications::DigestNotifier MockNotifier behaves like a Radar digest notifier #find_content returns an enumerable","status":"passed","file_path":"./spec/support/shared_examples/radar/notifications/digest_notifier.rb","line_number":22,"run_time":0.020596613,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:1:1:5:1]","description":"returns a hash","full_description":"Radar::Notifications::DigestNotifier MockNotifier behaves like a Radar digest notifier #tracking_params returns a hash","status":"passed","file_path":"./spec/support/shared_examples/radar/notifications/digest_notifier.rb","line_number":28,"run_time":0.020724557,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:1:1:6:1]","description":"is expected to respond to #send_notification with 1 argument","full_description":"Radar::Notifications::DigestNotifier MockNotifier behaves like a Radar digest notifier #send_notification is expected to respond to #send_notification with 1 argument","status":"passed","file_path":"./spec/support/shared_examples/radar/notifications/digest_notifier.rb","line_number":39,"run_time":0.022489749,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:1:1:6:2]","description":"returns something truthy or falsey","full_description":"Radar::Notifications::DigestNotifier MockNotifier behaves like a Radar digest notifier #send_notification returns something truthy or falsey","status":"passed","file_path":"./spec/support/shared_examples/radar/notifications/digest_notifier.rb","line_number":41,"run_time":0.021562138,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:2:1:1:1]","description":"returns an object that responds to `#deliver`","full_description":"Radar::Notifications::DigestNotifier MockContent behaves like a piece of Radar content #new_content_notifier returns an object that responds to `#deliver`","status":"passed","file_path":"./spec/support/shared_examples/radar/notifications/content.rb","line_number":3,"run_time":0.008829187,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:2:1:2:1]","description":"returns a boolean","full_description":"Radar::Notifications::DigestNotifier MockContent behaves like a piece of Radar content #skip_new_content_notification? returns a boolean","status":"passed","file_path":"./spec/support/shared_examples/radar/notifications/content.rb","line_number":9,"run_time":0.004665019,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:2:1:3:1]","description":"returns an active record or nil","full_description":"Radar::Notifications::DigestNotifier MockContent behaves like a piece of Radar content #notifiable returns an active record or nil","status":"passed","file_path":"./spec/support/shared_examples/radar/notifications/content.rb","line_number":15,"run_time":0.004211674,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:3:1]","description":"is a convenience method of enqueuing with defaults","full_description":"Radar::Notifications::DigestNotifier.deliver is a convenience method of enqueuing with defaults","status":"passed","file_path":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb","line_number":100,"run_time":0.020939412,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:4:1]","description":"returns a time","full_description":"Radar::Notifications::DigestNotifier#deliver_at returns a time","status":"passed","file_path":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb","line_number":115,"run_time":0.027007547,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:4:2]","description":"can be overridden","full_description":"Radar::Notifications::DigestNotifier#deliver_at can be overridden","status":"passed","file_path":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb","line_number":121,"run_time":0.025026207,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:5:1]","description":"enqueues using the job class and delivery time","full_description":"Radar::Notifications::DigestNotifier#enqueue enqueues using the job class and delivery time","status":"passed","file_path":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb","line_number":129,"run_time":0.030110597,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:5:2]","description":"logs something meaningful","full_description":"Radar::Notifications::DigestNotifier#enqueue logs something meaningful","status":"passed","file_path":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb","line_number":138,"run_time":0.037795883,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:5:3:1]","description":"does not enqueue the notification","full_description":"Radar::Notifications::DigestNotifier#enqueue when skipping enqueue does not enqueue the notification","status":"passed","file_path":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb","line_number":156,"run_time":0.032131784,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:5:3:2]","description":"logs something meaningful","full_description":"Radar::Notifications::DigestNotifier#enqueue when skipping enqueue logs something meaningful","status":"passed","file_path":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb","line_number":167,"run_time":0.03292687,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:6:1]","description":"persists a notification","full_description":"Radar::Notifications::DigestNotifier#deliver persists a notification","status":"passed","file_path":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb","line_number":185,"run_time":0.041405233,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:6:2]","description":"calls #send_notification","full_description":"Radar::Notifications::DigestNotifier#deliver calls #send_notification","status":"passed","file_path":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb","line_number":199,"run_time":0.028898021,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:6:3]","description":"logs something meaningful","full_description":"Radar::Notifications::DigestNotifier#deliver logs something meaningful","status":"passed","file_path":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb","line_number":211,"run_time":0.027726519,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:6:4:1]","description":"doesn't persist a notification","full_description":"Radar::Notifications::DigestNotifier#deliver when #send_notification returns something falsey doesn't persist a notification","status":"passed","file_path":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb","line_number":230,"run_time":0.032365702,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:6:4:2]","description":"logs something meaningful","full_description":"Radar::Notifications::DigestNotifier#deliver when #send_notification returns something falsey logs something meaningful","status":"passed","file_path":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb","line_number":241,"run_time":0.0334955,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:6:5:1]","description":"doesn't persist a notification","full_description":"Radar::Notifications::DigestNotifier#deliver when #send_notification raises an exception doesn't persist a notification","status":"passed","file_path":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb","line_number":261,"run_time":0.032038194,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:6:5:2]","description":"logs something meaningful","full_description":"Radar::Notifications::DigestNotifier#deliver when #send_notification raises an exception logs something meaningful","status":"passed","file_path":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb","line_number":278,"run_time":0.032625513,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:6:6:1]","description":"doesn't create a notification or call #send_notification","full_description":"Radar::Notifications::DigestNotifier#deliver when our tracking params are invalid doesn't create a notification or call #send_notification","status":"passed","file_path":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb","line_number":304,"run_time":0.032446826,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:6:6:2]","description":"logs something meaningful","full_description":"Radar::Notifications::DigestNotifier#deliver when our tracking params are invalid logs something meaningful","status":"passed","file_path":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb","line_number":318,"run_time":0.032317371,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:6:7:1]","description":"does not deliver the notification to the recipient","full_description":"Radar::Notifications::DigestNotifier#deliver when delivery is skipped does not deliver the notification to the recipient","status":"passed","file_path":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb","line_number":339,"run_time":0.028269443,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:6:7:2]","description":"logs something meaningful","full_description":"Radar::Notifications::DigestNotifier#deliver when delivery is skipped logs something meaningful","status":"passed","file_path":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb","line_number":349,"run_time":0.027287522,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:6:8:1]","description":"doesn't create a notification or call #send_notification","full_description":"Radar::Notifications::DigestNotifier#deliver when #find_content returns something blank doesn't create a notification or call #send_notification","status":"passed","file_path":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb","line_number":367,"run_time":0.025747157,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:6:8:2]","description":"logs something meaningful","full_description":"Radar::Notifications::DigestNotifier#deliver when #find_content returns something blank logs something meaningful","status":"passed","file_path":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb","line_number":378,"run_time":0.025195393,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:7:1]","description":"needs to be implemented in subclass","full_description":"Radar::Notifications::DigestNotifier#delivery_time needs to be implemented in subclass","status":"passed","file_path":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb","line_number":397,"run_time":0.008323809,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:8:1]","description":"needs to be implemented in subclass","full_description":"Radar::Notifications::DigestNotifier#find_content needs to be implemented in subclass","status":"passed","file_path":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb","line_number":405,"run_time":0.008061508,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:9:1]","description":"needs to be implemented in subclass","full_description":"Radar::Notifications::DigestNotifier#tracking_params needs to be implemented in subclass","status":"passed","file_path":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb","line_number":413,"run_time":0.008158192,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:10:1]","description":"needs to be implemented in subclass","full_description":"Radar::Notifications::DigestNotifier#send_notification needs to be implemented in subclass","status":"passed","file_path":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb","line_number":421,"run_time":0.008011337,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:11:1]","description":"needs to be implemented in subclass","full_description":"Radar::Notifications::DigestNotifier#skip_deliver? needs to be implemented in subclass","status":"passed","file_path":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb","line_number":429,"run_time":0.008370334,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb[1:12:1]","description":"needs to be implemented in subclass","full_description":"Radar::Notifications::DigestNotifier#skip_enqueue? needs to be implemented in subclass","status":"passed","file_path":"./spec/freeagent/radar/notifications/digest_notifier_spec.rb","line_number":437,"run_time":0.00688338,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payit/payment_completes_controller_spec.rb[1:1:1]","description":"redirect to the bill payment for the host","full_description":"Payit::PaymentCompletesController when the payment intent exists redirect to the bill payment for the host","status":"passed","file_path":"./spec/controllers/payit/payment_completes_controller_spec.rb","line_number":42,"run_time":0.258131714,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payit/payment_completes_controller_spec.rb[1:2:1]","description":"returns the user a 404 error","full_description":"Payit::PaymentCompletesController when the payment intent cannot be found returns the user a 404 error","status":"passed","file_path":"./spec/controllers/payit/payment_completes_controller_spec.rb","line_number":76,"run_time":0.448174534,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payit/payment_completes_controller_spec.rb[1:3:1]","description":"returns the user a 404 error","full_description":"Payit::PaymentCompletesController when sent with no parameters returns the user a 404 error","status":"passed","file_path":"./spec/controllers/payit/payment_completes_controller_spec.rb","line_number":100,"run_time":0.188678473,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/hmrc_authorizations_controller_spec.rb[1:1:2]","description":"redirects if an authorisation does not exist","full_description":"PracticeDashboard::HMRCAuthorizationsController#destroy redirects if an authorisation does not exist","status":"passed","file_path":"./spec/controllers/practice_dashboard/hmrc_authorizations_controller_spec.rb","line_number":31,"run_time":0.057102967,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/hmrc_authorizations_controller_spec.rb[1:1:1:1]","description":"deletes the MTD authorisation if it exists","full_description":"PracticeDashboard::HMRCAuthorizationsController#destroy where an authorisation exists deletes the MTD authorisation if it exists","status":"passed","file_path":"./spec/controllers/practice_dashboard/hmrc_authorizations_controller_spec.rb","line_number":16,"run_time":0.068941522,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/hmrc_authorizations_controller_spec.rb[1:1:1:2]","description":"postpones showing the dashboard onboarding modal","full_description":"PracticeDashboard::HMRCAuthorizationsController#destroy where an authorisation exists postpones showing the dashboard onboarding modal","status":"passed","file_path":"./spec/controllers/practice_dashboard/hmrc_authorizations_controller_spec.rb","line_number":24,"run_time":0.063834709,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/hmrc_authorizations_controller_spec.rb[1:2:2]","description":"renders the create connection partial","full_description":"PracticeDashboard::HMRCAuthorizationsController GET #new renders the create connection partial","status":"passed","file_path":"./spec/controllers/practice_dashboard/hmrc_authorizations_controller_spec.rb","line_number":50,"run_time":0.117593444,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/hmrc_authorizations_controller_spec.rb[1:2:3]","description":"shows planned HMRC connection notices","full_description":"PracticeDashboard::HMRCAuthorizationsController GET #new shows planned HMRC connection notices","status":"passed","file_path":"./spec/controllers/practice_dashboard/hmrc_authorizations_controller_spec.rb","line_number":58,"run_time":0.08758277,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/hmrc_authorizations_controller_spec.rb[1:2:4]","description":"shows unplanned HMRC connection notices","full_description":"PracticeDashboard::HMRCAuthorizationsController GET #new shows unplanned HMRC connection notices","status":"passed","file_path":"./spec/controllers/practice_dashboard/hmrc_authorizations_controller_spec.rb","line_number":66,"run_time":0.089494089,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/hmrc_authorizations_controller_spec.rb[1:2:5]","description":"postpones showing the dashboard onboarding modal","full_description":"PracticeDashboard::HMRCAuthorizationsController GET #new postpones showing the dashboard onboarding modal","status":"passed","file_path":"./spec/controllers/practice_dashboard/hmrc_authorizations_controller_spec.rb","line_number":74,"run_time":0.081047739,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/hmrc_authorizations_controller_spec.rb[1:2:1:1]","description":"renders the create connection partial","full_description":"PracticeDashboard::HMRCAuthorizationsController GET #new with feature mtd_itsa_practices disabled renders the create connection partial","status":"passed","file_path":"./spec/controllers/practice_dashboard/hmrc_authorizations_controller_spec.rb","line_number":43,"run_time":0.097758284,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/hmrc_authorizations_controller_spec.rb[1:3:1]","description":"postpones showing the dashboard onboarding modal","full_description":"PracticeDashboard::HMRCAuthorizationsController GET #index postpones showing the dashboard onboarding modal","status":"passed","file_path":"./spec/controllers/practice_dashboard/hmrc_authorizations_controller_spec.rb","line_number":82,"run_time":0.049719481,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/hmrc_authorizations_controller_spec.rb[1:4:1]","description":"has a callback route","full_description":"PracticeDashboard::HMRCAuthorizationsController GET #callback has a callback route","status":"passed","file_path":"./spec/controllers/practice_dashboard/hmrc_authorizations_controller_spec.rb","line_number":90,"run_time":0.058122532,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/hmrc_authorizations_controller_spec.rb[1:4:2:1]","description":"redirects back with the error message","full_description":"PracticeDashboard::HMRCAuthorizationsController GET #callback when an MTD error raised redirects back with the error message","status":"passed","file_path":"./spec/controllers/practice_dashboard/hmrc_authorizations_controller_spec.rb","line_number":96,"run_time":0.053831365,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/hmrc_authorizations_controller_spec.rb[1:4:3:1]","description":"redirects to index and publishes an event","full_description":"PracticeDashboard::HMRCAuthorizationsController GET #callback when auth was saved redirects to index and publishes an event","status":"passed","file_path":"./spec/controllers/practice_dashboard/hmrc_authorizations_controller_spec.rb","line_number":108,"run_time":0.069942581,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_bulk_sync_spec.rb[1:1:1]","description":"schedules jobs to sync the Pre-Assessed Limit values for NatWest and RBS consents","full_description":"OpenBanking::PreAssessedLimitValueBulkSync#start schedules jobs to sync the Pre-Assessed Limit values for NatWest and RBS consents","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_bulk_sync_spec.rb","line_number":9,"run_time":0.182167422,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_bulk_sync_spec.rb[1:1:2]","description":"does not schedule a sync job for consents that are expired","full_description":"OpenBanking::PreAssessedLimitValueBulkSync#start does not schedule a sync job for consents that are expired","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_bulk_sync_spec.rb","line_number":24,"run_time":0.053739718,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_bulk_sync_spec.rb[1:1:3]","description":"does not schedule a sync job for unauthorised consents","full_description":"OpenBanking::PreAssessedLimitValueBulkSync#start does not schedule a sync job for unauthorised consents","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_bulk_sync_spec.rb","line_number":31,"run_time":0.043122785,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_bulk_sync_spec.rb[1:1:4]","description":"does not schedule a sync job for consents without the expected permissions","full_description":"OpenBanking::PreAssessedLimitValueBulkSync#start does not schedule a sync job for consents without the expected permissions","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_bulk_sync_spec.rb","line_number":39,"run_time":0.050997087,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_bulk_sync_spec.rb[1:1:5]","description":"does not schedule a sync job for consents that are neither RBS nor NatWest","full_description":"OpenBanking::PreAssessedLimitValueBulkSync#start does not schedule a sync job for consents that are neither RBS nor NatWest","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_bulk_sync_spec.rb","line_number":47,"run_time":0.091173091,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_bulk_sync_spec.rb[1:1:6]","description":"does not schedule multiple syncs for consents belonging to the same company","full_description":"OpenBanking::PreAssessedLimitValueBulkSync#start does not schedule multiple syncs for consents belonging to the same company","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_bulk_sync_spec.rb","line_number":55,"run_time":0.071699121,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/construction_industry_scheme_spec.rb[1:1:1]","description":"returns the construction industry scheme band for the given rate","full_description":"RecurringInvoiceProfile::ConstructionIndustryScheme#band returns the construction industry scheme band for the given rate","status":"passed","file_path":"./spec/models/recurring_invoice_profile/construction_industry_scheme_spec.rb","line_number":11,"run_time":0.038198681,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/construction_industry_scheme_spec.rb[1:2:1]","description":"returns the general ledger account for the company","full_description":"RecurringInvoiceProfile::ConstructionIndustryScheme#account returns the general ledger account for the company","status":"passed","file_path":"./spec/models/recurring_invoice_profile/construction_industry_scheme_spec.rb","line_number":23,"run_time":0.117169118,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/construction_industry_scheme_spec.rb[1:3:1:1]","description":"returns zero","full_description":"RecurringInvoiceProfile::ConstructionIndustryScheme#deduction with no items returns zero","status":"passed","file_path":"./spec/models/recurring_invoice_profile/construction_industry_scheme_spec.rb","line_number":40,"run_time":0.018548424,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/construction_industry_scheme_spec.rb[1:3:2:1]","description":"calculates the correct total CIS deduction from the items","full_description":"RecurringInvoiceProfile::ConstructionIndustryScheme#deduction with items calculates the correct total CIS deduction from the items","status":"passed","file_path":"./spec/models/recurring_invoice_profile/construction_industry_scheme_spec.rb","line_number":67,"run_time":0.231173174,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/construction_industry_scheme_spec.rb[1:4:1:1]","description":"return true when the construction industry scheme rate is set to cis_standard","full_description":"RecurringInvoiceProfile::ConstructionIndustryScheme#nonzero_deduction_rate? when the recurring invoice profile has a construction industry scheme rate return true when the construction industry scheme rate is set to cis_standard","status":"passed","file_path":"./spec/models/recurring_invoice_profile/construction_industry_scheme_spec.rb","line_number":75,"run_time":0.010910129,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/construction_industry_scheme_spec.rb[1:4:1:2]","description":"return true when the construction industry scheme rate is set to cis_higher","full_description":"RecurringInvoiceProfile::ConstructionIndustryScheme#nonzero_deduction_rate? when the recurring invoice profile has a construction industry scheme rate return true when the construction industry scheme rate is set to cis_higher","status":"passed","file_path":"./spec/models/recurring_invoice_profile/construction_industry_scheme_spec.rb","line_number":81,"run_time":0.009287484,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/construction_industry_scheme_spec.rb[1:4:2:1]","description":"returns false","full_description":"RecurringInvoiceProfile::ConstructionIndustryScheme#nonzero_deduction_rate? when the company has no construction industry scheme rate returns false","status":"passed","file_path":"./spec/models/recurring_invoice_profile/construction_industry_scheme_spec.rb","line_number":89,"run_time":0.00843623,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[4:13]","description":"is correctly rendered in a foreign locale","full_description":"InvoicesController GET :show for uk company is correctly rendered in a foreign locale","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":764,"run_time":0.449583658,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_under_2000.feature[1:1:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset under 2000 -\u003e Given VAT settings: Not registered -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets worth under £2000 No VAT Given a uk sole trader -\u003e And a bill: capital asset under 2000 -\u003e Given VAT settings: Not registered -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_under_2000.feature","line_number":15,"run_time":0.034466302,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_under_2000.feature[1:2:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset under 2000 -\u003e Given VAT settings: Any basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets worth under £2000 No VAT Given a uk sole trader -\u003e And a bill: capital asset under 2000 -\u003e Given VAT settings: Any basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_under_2000.feature","line_number":15,"run_time":0.02384404,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_under_2000.feature[1:3:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset under 2000 -\u003e Given VAT settings: Any basis, FRS, then Any basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets worth under £2000 No VAT Given a uk sole trader -\u003e And a bill: capital asset under 2000 -\u003e Given VAT settings: Any basis, FRS, then Any basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_under_2000.feature","line_number":15,"run_time":0.025380031,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_under_2000.feature[1:4:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset under 2000 -\u003e Given VAT settings: Any basis, FRS, then Any basis, not FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets worth under £2000 No VAT Given a uk sole trader -\u003e And a bill: capital asset under 2000 -\u003e Given VAT settings: Any basis, FRS, then Any basis, not FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_under_2000.feature","line_number":15,"run_time":0.035900785,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_under_2000.feature[1:5:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset under 2000 -\u003e Given VAT settings: Any basis, FRS, then de-registered -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets worth under £2000 No VAT Given a uk sole trader -\u003e And a bill: capital asset under 2000 -\u003e Given VAT settings: Any basis, FRS, then de-registered -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_under_2000.feature","line_number":15,"run_time":0.029805337,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_under_2000.feature[1:6:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset under 2000 -\u003e Given VAT settings: Not registered, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets worth under £2000 Pre-registration, reclaim VAT on registration Given a uk sole trader -\u003e And a bill: capital asset under 2000 -\u003e Given VAT settings: Not registered, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_under_2000.feature","line_number":46,"run_time":0.028005637,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_under_2000.feature[1:7:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset under 2000 -\u003e Given VAT settings: Not registered, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets worth under £2000 Pre-registration, reclaim VAT on registration Given a uk sole trader -\u003e And a bill: capital asset under 2000 -\u003e Given VAT settings: Not registered, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_under_2000.feature","line_number":46,"run_time":0.028884746,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_under_2000.feature[1:8:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset under 2000 -\u003e Given VAT settings: Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets worth under £2000 Reclaimed VAT on bill date Given a uk sole trader -\u003e And a bill: capital asset under 2000 -\u003e Given VAT settings: Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_under_2000.feature","line_number":85,"run_time":0.021245773,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_under_2000.feature[1:9:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset under 2000 -\u003e Given VAT settings: Invoice basis, not FRS, then Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets worth under £2000 Reclaimed VAT on bill date Given a uk sole trader -\u003e And a bill: capital asset under 2000 -\u003e Given VAT settings: Invoice basis, not FRS, then Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_under_2000.feature","line_number":85,"run_time":0.020779732,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_under_2000.feature[1:10:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset under 2000 -\u003e Given VAT settings: Invoice basis, not FRS, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets worth under £2000 Reclaimed VAT on bill date Given a uk sole trader -\u003e And a bill: capital asset under 2000 -\u003e Given VAT settings: Invoice basis, not FRS, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_under_2000.feature","line_number":85,"run_time":0.027174553,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_under_2000.feature[1:11:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset under 2000 -\u003e Given VAT settings: Invoice basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets worth under £2000 Reclaimed VAT on bill date Given a uk sole trader -\u003e And a bill: capital asset under 2000 -\u003e Given VAT settings: Invoice basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_under_2000.feature","line_number":85,"run_time":0.019981012,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_under_2000.feature[1:12:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset under 2000 -\u003e Given a uk sole trader -\u003e And VAT settings: Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets worth under £2000 Deferred VAT paid on bill date, reclaimed on payment date Given a uk sole trader -\u003e And a bill: capital asset under 2000 -\u003e Given a uk sole trader -\u003e And VAT settings: Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_under_2000.feature","line_number":125,"run_time":0.030327289,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_under_2000.feature[1:13:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset under 2000 -\u003e Given a uk sole trader -\u003e And VAT settings: Cash basis, not FRS, then Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets worth under £2000 Deferred VAT paid on bill date, reclaimed on payment date Given a uk sole trader -\u003e And a bill: capital asset under 2000 -\u003e Given a uk sole trader -\u003e And VAT settings: Cash basis, not FRS, then Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_under_2000.feature","line_number":125,"run_time":0.025033621,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_under_2000.feature[1:14:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset under 2000 -\u003e Given a uk sole trader -\u003e And VAT settings: Cash basis, not FRS, then Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets worth under £2000 Deferred VAT paid on bill date, reclaimed on payment date Given a uk sole trader -\u003e And a bill: capital asset under 2000 -\u003e Given a uk sole trader -\u003e And VAT settings: Cash basis, not FRS, then Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_under_2000.feature","line_number":125,"run_time":0.02585164,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_under_2000.feature[1:15:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset under 2000 -\u003e Given a uk sole trader -\u003e And VAT settings: Cash basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets worth under £2000 Deferred VAT paid on bill date, reclaimed on payment date Given a uk sole trader -\u003e And a bill: capital asset under 2000 -\u003e Given a uk sole trader -\u003e And VAT settings: Cash basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_under_2000.feature","line_number":125,"run_time":0.03072876,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_under_2000.feature[1:16:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset under 2000 -\u003e Given a uk sole trader -\u003e And VAT settings: Cash basis, not FRS, then Cash basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets worth under £2000 Deferred then undeferred Given a uk sole trader -\u003e And a bill: capital asset under 2000 -\u003e Given a uk sole trader -\u003e And VAT settings: Cash basis, not FRS, then Cash basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_under_2000.feature","line_number":169,"run_time":0.026601185,"pending_message":null,"screenshot":null},{"id":"./spec/models/attribute_locking/vat_check_spec.rb[1:1:1]","description":"should return a reason when asked","full_description":"AttributeLocking::VatCheck vat check should return a reason when asked","status":"passed","file_path":"./spec/models/attribute_locking/vat_check_spec.rb","line_number":9,"run_time":0.004014302,"pending_message":null,"screenshot":null},{"id":"./spec/models/attribute_locking/vat_check_spec.rb[1:1:2:1]","description":"should return locked for a vat locked journal entry","full_description":"AttributeLocking::VatCheck vat check journal entries should return locked for a vat locked journal entry","status":"passed","file_path":"./spec/models/attribute_locking/vat_check_spec.rb","line_number":16,"run_time":0.088169229,"pending_message":null,"screenshot":null},{"id":"./spec/models/attribute_locking/vat_check_spec.rb[1:1:2:2]","description":"should return unlocked for a unlocked journal entry","full_description":"AttributeLocking::VatCheck vat check journal entries should return unlocked for a unlocked journal entry","status":"passed","file_path":"./spec/models/attribute_locking/vat_check_spec.rb","line_number":24,"run_time":0.069975104,"pending_message":null,"screenshot":null},{"id":"./spec/models/attribute_locking/vat_check_spec.rb[1:1:2:3]","description":"returns locked for a journal entry that was moved out of the locked period","full_description":"AttributeLocking::VatCheck vat check journal entries returns locked for a journal entry that was moved out of the locked period","status":"passed","file_path":"./spec/models/attribute_locking/vat_check_spec.rb","line_number":31,"run_time":0.086441868,"pending_message":null,"screenshot":null},{"id":"./spec/models/attribute_locking/vat_check_spec.rb[1:1:2:4]","description":"returns locked_out for a journal entry that was not dated within the locked vat period but is now is","full_description":"AttributeLocking::VatCheck vat check journal entries returns locked_out for a journal entry that was not dated within the locked vat period but is now is","status":"passed","file_path":"./spec/models/attribute_locking/vat_check_spec.rb","line_number":40,"run_time":0.088899087,"pending_message":null,"screenshot":null},{"id":"./spec/models/attribute_locking/vat_check_spec.rb[1:1:2:5]","description":"should return true if not previously dated within the locked vat period and still isn't","full_description":"AttributeLocking::VatCheck vat check journal entries should return true if not previously dated within the locked vat period and still isn't","status":"passed","file_path":"./spec/models/attribute_locking/vat_check_spec.rb","line_number":49,"run_time":0.082608543,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:20]","description":"charges sales tax on UK contacts","full_description":"Invoice charges sales tax on UK contacts","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":433,"run_time":0.112003333,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:33]","description":"is sendable and scheduled to email if status is Scheduled","full_description":"Invoice is sendable and scheduled to email if status is Scheduled","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":714,"run_time":0.099019174,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:57:1]","description":"responds accordingly","full_description":"Invoice A foreign currency invoice, dated in the future, for a VAT-registered company responds accordingly","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":1481,"run_time":0.125213508,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:70:1:2:1]","description":"returns the contact's locale","full_description":"Invoice An invoice for a US company for a contact based in US for any other locale returns the contact's locale","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":2015,"run_time":0.13470196,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:89:1]","description":"matches the stored rate","full_description":"Invoice The calculated exchange rate matches the stored rate","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":2573,"run_time":0.116159046,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:128:1:1]","description":"is valid when the number of emails does not exceed the recipient limit","full_description":"Invoice#validate_recipient_limit when the company is an active free trial is valid when the number of emails does not exceed the recipient limit","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":3906,"run_time":0.121501521,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:129:1:1]","description":"returns a payment calculator","full_description":"Invoice#payment_calculator with credit_note_reconciliations feature switch disabled returns a payment calculator","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":3952,"run_time":0.128414272,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/report_value_spec.rb[1:1:1]","description":"requires a company","full_description":"Accounting::FinalAccounts::ReportValue validations requires a company","status":"passed","file_path":"./spec/models/accounting/final_accounts/report_value_spec.rb","line_number":11,"run_time":0.011666859,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/report_value_spec.rb[1:1:2]","description":"requires a final_accounts_report","full_description":"Accounting::FinalAccounts::ReportValue validations requires a final_accounts_report","status":"passed","file_path":"./spec/models/accounting/final_accounts/report_value_spec.rb","line_number":16,"run_time":0.005800464,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/report_value_spec.rb[1:1:3]","description":"requires a value_type","full_description":"Accounting::FinalAccounts::ReportValue validations requires a value_type","status":"passed","file_path":"./spec/models/accounting/final_accounts/report_value_spec.rb","line_number":21,"run_time":0.005362498,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/report_value_spec.rb[1:1:4]","description":"requires a valid value_type","full_description":"Accounting::FinalAccounts::ReportValue validations requires a valid value_type","status":"passed","file_path":"./spec/models/accounting/final_accounts/report_value_spec.rb","line_number":26,"run_time":0.004557537,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/report_value_spec.rb[1:1:5]","description":"requires a numerical value for the value fields","full_description":"Accounting::FinalAccounts::ReportValue validations requires a numerical value for the value fields","status":"passed","file_path":"./spec/models/accounting/final_accounts/report_value_spec.rb","line_number":32,"run_time":0.007016247,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/report_value_spec.rb[1:1:6]","description":"requires a value of 0 or more for average employees","full_description":"Accounting::FinalAccounts::ReportValue validations requires a value of 0 or more for average employees","status":"passed","file_path":"./spec/models/accounting/final_accounts/report_value_spec.rb","line_number":47,"run_time":0.005337259,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/report_value_spec.rb[1:1:7]","description":"requires a whole number for average employees","full_description":"Accounting::FinalAccounts::ReportValue validations requires a whole number for average employees","status":"passed","file_path":"./spec/models/accounting/final_accounts/report_value_spec.rb","line_number":59,"run_time":0.007094377,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/report_value_spec.rb[1:1:8:1]","description":"does not allow a manual_current_value for a non manual current value type","full_description":"Accounting::FinalAccounts::ReportValue validations with a company and report does not allow a manual_current_value for a non manual current value type","status":"passed","file_path":"./spec/models/accounting/final_accounts/report_value_spec.rb","line_number":74,"run_time":0.013692736,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/report_value_spec.rb[1:1:8:2]","description":"allows a manual_current_value for a valid manual current value type","full_description":"Accounting::FinalAccounts::ReportValue validations with a company and report allows a manual_current_value for a valid manual current value type","status":"passed","file_path":"./spec/models/accounting/final_accounts/report_value_spec.rb","line_number":83,"run_time":0.011731674,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/report_value_spec.rb[1:1:9:1]","description":"does not allow a manual_comparative_value","full_description":"Accounting::FinalAccounts::ReportValue validations with a report which does not allow manual comparative values does not allow a manual_comparative_value","status":"passed","file_path":"./spec/models/accounting/final_accounts/report_value_spec.rb","line_number":97,"run_time":0.013973474,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/report_value_spec.rb[1:1:10:1]","description":"allows a manual_comparative_value for a valid value type","full_description":"Accounting::FinalAccounts::ReportValue validations with a report which allows manual comparative values allows a manual_comparative_value for a valid value type","status":"passed","file_path":"./spec/models/accounting/final_accounts/report_value_spec.rb","line_number":114,"run_time":0.013590087,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/report_value_spec.rb[1:2:1]","description":"sets the company_id before validation","full_description":"Accounting::FinalAccounts::ReportValue setting the company id sets the company_id before validation","status":"passed","file_path":"./spec/models/accounting/final_accounts/report_value_spec.rb","line_number":127,"run_time":0.013583517,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/report_value_spec.rb[1:3:1]","description":"converts a positive value with a trailing .0 into an integer","full_description":"Accounting::FinalAccounts::ReportValue converting value to an integer converts a positive value with a trailing .0 into an integer","status":"passed","file_path":"./spec/models/accounting/final_accounts/report_value_spec.rb","line_number":139,"run_time":0.013419104,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/report_value_spec.rb[1:3:2]","description":"converts a negative value with a trailing .0 into an integer","full_description":"Accounting::FinalAccounts::ReportValue converting value to an integer converts a negative value with a trailing .0 into an integer","status":"passed","file_path":"./spec/models/accounting/final_accounts/report_value_spec.rb","line_number":145,"run_time":0.012025061,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/report_value_spec.rb[1:3:3]","description":"doesn't do anything if the value has anything other than .0","full_description":"Accounting::FinalAccounts::ReportValue converting value to an integer doesn't do anything if the value has anything other than .0","status":"passed","file_path":"./spec/models/accounting/final_accounts/report_value_spec.rb","line_number":151,"run_time":0.012510745,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/report_value_spec.rb[1:3:4]","description":"doesn't do anything if the value isn't a number","full_description":"Accounting::FinalAccounts::ReportValue converting value to an integer doesn't do anything if the value isn't a number","status":"passed","file_path":"./spec/models/accounting/final_accounts/report_value_spec.rb","line_number":157,"run_time":0.011902843,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/report_value_spec.rb[1:3:5]","description":"doesn't do anything to non-average employee values","full_description":"Accounting::FinalAccounts::ReportValue converting value to an integer doesn't do anything to non-average employee values","status":"passed","file_path":"./spec/models/accounting/final_accounts/report_value_spec.rb","line_number":164,"run_time":0.011932061,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/report_value_spec.rb[1:4:1:1]","description":"returns a humanized value type","full_description":"Accounting::FinalAccounts::ReportValue#label for a value type with no override present returns a humanized value type","status":"passed","file_path":"./spec/models/accounting/final_accounts/report_value_spec.rb","line_number":181,"run_time":0.004331602,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/report_value_spec.rb[1:4:2:1]","description":"returns the override value","full_description":"Accounting::FinalAccounts::ReportValue#label for a value type with an override present returns the override value","status":"passed","file_path":"./spec/models/accounting/final_accounts/report_value_spec.rb","line_number":189,"run_time":0.004087723,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/report_value_spec.rb[1:5:1]","description":"includes all the expected keys","full_description":"Accounting::FinalAccounts::ReportValue VALUE_TYPES_AND_TOTALS includes all the expected keys","status":"passed","file_path":"./spec/models/accounting/final_accounts/report_value_spec.rb","line_number":196,"run_time":0.003760971,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/guess_job_spec.rb[1:3]","description":"handles Sidekiq exceptions","full_description":"Banking::GuessJob handles Sidekiq exceptions","status":"passed","file_path":"./spec/jobs/banking/guess_job_spec.rb","line_number":114,"run_time":0.015806573,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/guess_job_spec.rb[1:1:1:1]","description":"schedules the job","full_description":"Banking::GuessJob#schedule with transaction ids schedules the job","status":"passed","file_path":"./spec/jobs/banking/guess_job_spec.rb","line_number":22,"run_time":0.013656637,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/guess_job_spec.rb[1:1:2:1]","description":"does not schedule the job","full_description":"Banking::GuessJob#schedule with no transaction ids does not schedule the job","status":"passed","file_path":"./spec/jobs/banking/guess_job_spec.rb","line_number":28,"run_time":0.012278658,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/guess_job_spec.rb[1:2:1:1]","description":"does not error","full_description":"Banking::GuessJob#perform with company, bank_account and transactions all valid does not error","status":"passed","file_path":"./spec/jobs/banking/guess_job_spec.rb","line_number":47,"run_time":0.013947399,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/guess_job_spec.rb[1:2:1:2]","description":"passes the bank_transactions collection to bank_account.guess","full_description":"Banking::GuessJob#perform with company, bank_account and transactions all valid passes the bank_transactions collection to bank_account.guess","status":"passed","file_path":"./spec/jobs/banking/guess_job_spec.rb","line_number":51,"run_time":0.014585703,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/guess_job_spec.rb[1:2:1:3]","description":"logs success","full_description":"Banking::GuessJob#perform with company, bank_account and transactions all valid logs success","status":"passed","file_path":"./spec/jobs/banking/guess_job_spec.rb","line_number":59,"run_time":0.013699898,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/guess_job_spec.rb[1:2:1:4:1]","description":"passes the transactions collection plus the guess_options hash to bank_account.guess","full_description":"Banking::GuessJob#perform with company, bank_account and transactions all valid with guess options passes the transactions collection plus the guess_options hash to bank_account.guess","status":"passed","file_path":"./spec/jobs/banking/guess_job_spec.rb","line_number":70,"run_time":0.013927167,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/guess_job_spec.rb[1:2:2:1]","description":"logs error and raises Jobs::FailAndRetry","full_description":"Banking::GuessJob#perform with a bank account id not associated with the company id logs error and raises Jobs::FailAndRetry","status":"passed","file_path":"./spec/jobs/banking/guess_job_spec.rb","line_number":91,"run_time":0.017458422,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/guess_job_spec.rb[1:2:3:1]","description":"does not error when performed","full_description":"Banking::GuessJob#perform with deleted bank transactions does not error when performed","status":"passed","file_path":"./spec/jobs/banking/guess_job_spec.rb","line_number":108,"run_time":0.01980586,"pending_message":null,"screenshot":null},{"id":"./spec/requests/request_tags_integration_spec.rb[1:1]","description":"adds the company id and section tags for a logged in company user","full_description":"RequestTags adds the company id and section tags for a logged in company user","status":"passed","file_path":"./spec/requests/request_tags_integration_spec.rb","line_number":6,"run_time":0.045582389,"pending_message":null,"screenshot":null},{"id":"./spec/requests/request_tags_integration_spec.rb[1:2]","description":"adds the practice id and section tags for a logged in practice user","full_description":"RequestTags adds the practice id and section tags for a logged in practice user","status":"passed","file_path":"./spec/requests/request_tags_integration_spec.rb","line_number":15,"run_time":0.070503164,"pending_message":null,"screenshot":null},{"id":"./spec/requests/request_tags_integration_spec.rb[1:3]","description":"sets the section as unauthed when not logged in","full_description":"RequestTags sets the section as unauthed when not logged in","status":"passed","file_path":"./spec/requests/request_tags_integration_spec.rb","line_number":24,"run_time":0.013120422,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[29:1:4]","description":"saves as a pdf","full_description":"InvoicesController Multiple projects on invoice Multiple projects on invoice saves as a pdf","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":2961,"run_time":0.151101773,"pending_message":null,"screenshot":null},{"id":"./spec/policies/settings/custom_email_domain_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Settings::CustomEmailDomainPolicy a user with permission level below TAX_AND_LIMITED_ACCOUNTING is expected to equal false","status":"passed","file_path":"./spec/policies/settings/custom_email_domain_policy_spec.rb","line_number":20,"run_time":0.011273277,"pending_message":null,"screenshot":null},{"id":"./spec/policies/settings/custom_email_domain_policy_spec.rb[1:2:1:1]","description":"is expected to equal false","full_description":"Settings::CustomEmailDomainPolicy with an unconfirmed company a user with permission level TAX_AND_LIMITED_ACCOUNTING is expected to equal false","status":"passed","file_path":"./spec/policies/settings/custom_email_domain_policy_spec.rb","line_number":36,"run_time":0.083143326,"pending_message":null,"screenshot":null},{"id":"./spec/policies/settings/custom_email_domain_policy_spec.rb[1:2:2:1]","description":"is expected to equal false","full_description":"Settings::CustomEmailDomainPolicy with an unconfirmed company an account manager is expected to equal false","status":"passed","file_path":"./spec/policies/settings/custom_email_domain_policy_spec.rb","line_number":51,"run_time":0.056530975,"pending_message":null,"screenshot":null},{"id":"./spec/policies/settings/custom_email_domain_policy_spec.rb[1:3:1:1]","description":"is expected to equal true","full_description":"Settings::CustomEmailDomainPolicy with a confirmed company a user with permission level TAX_AND_LIMITED_ACCOUNTING is expected to equal true","status":"passed","file_path":"./spec/policies/settings/custom_email_domain_policy_spec.rb","line_number":68,"run_time":0.01377648,"pending_message":null,"screenshot":null},{"id":"./spec/policies/settings/custom_email_domain_policy_spec.rb[1:3:2:1]","description":"is expected to equal true","full_description":"Settings::CustomEmailDomainPolicy with a confirmed company an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/settings/custom_email_domain_policy_spec.rb","line_number":83,"run_time":0.062786019,"pending_message":null,"screenshot":null},{"id":"./spec/views/accounting/_report_title.html.erb_spec.rb[1:1:1]","description":"has the link to Performance Benchmarking","full_description":"accounting/_report_title UK limited company with Performance Benchmarking enabled has the link to Performance Benchmarking","status":"passed","file_path":"./spec/views/accounting/_report_title.html.erb_spec.rb","line_number":16,"run_time":0.026496609,"pending_message":null,"screenshot":null},{"id":"./spec/views/accounting/_report_title.html.erb_spec.rb[1:2:1]","description":"does not show the link to Performance Benchmarking","full_description":"accounting/_report_title Non-UK company does not show the link to Performance Benchmarking","status":"passed","file_path":"./spec/views/accounting/_report_title.html.erb_spec.rb","line_number":28,"run_time":0.097724357,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard/alerts_helper_spec.rb[1:1:1]","description":"does not include up_to_date_rule as an option","full_description":"PracticeDashboard::AlertsHelper for practices without the client_up_to_date_confirmations feature does not include up_to_date_rule as an option","status":"passed","file_path":"./spec/helpers/practice_dashboard/alerts_helper_spec.rb","line_number":13,"run_time":0.039673924,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard/alerts_helper_spec.rb[1:2:1]","description":"includes up_to_date_rule as an option","full_description":"PracticeDashboard::AlertsHelper for practices with the client_up_to_date_confirmations feature includes up_to_date_rule as an option","status":"passed","file_path":"./spec/helpers/practice_dashboard/alerts_helper_spec.rb","line_number":23,"run_time":0.037313808,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard/alerts_helper_spec.rb[1:2:2]","description":"matches the amount of rules","full_description":"PracticeDashboard::AlertsHelper for practices with the client_up_to_date_confirmations feature matches the amount of rules","status":"passed","file_path":"./spec/helpers/practice_dashboard/alerts_helper_spec.rb","line_number":27,"run_time":0.036392103,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/backbook_onboarding/supported_brand_spec.rb[1:1:1:1]","description":"raises an exception","full_description":"Rbsg::BackbookOnboarding::SupportedBrand.from_api_id with a non NWG brand id raises an exception","status":"passed","file_path":"./spec/freeagent/rbsg/backbook_onboarding/supported_brand_spec.rb","line_number":13,"run_time":0.00366406,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/backbook_onboarding/supported_brand_spec.rb[1:1:2:1]","description":"raises an exception","full_description":"Rbsg::BackbookOnboarding::SupportedBrand.from_api_id with a non-supported NWG brand id raises an exception","status":"passed","file_path":"./spec/freeagent/rbsg/backbook_onboarding/supported_brand_spec.rb","line_number":21,"run_time":0.003187218,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/backbook_onboarding/supported_brand_spec.rb[1:1:3:1]","description":"returns an instance for the NatWest brand","full_description":"Rbsg::BackbookOnboarding::SupportedBrand.from_api_id with the NatWest brand id returns an instance for the NatWest brand","status":"passed","file_path":"./spec/freeagent/rbsg/backbook_onboarding/supported_brand_spec.rb","line_number":29,"run_time":0.003298989,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/backbook_onboarding/supported_brand_spec.rb[1:1:4:1]","description":"returns an instance for the RBS brand","full_description":"Rbsg::BackbookOnboarding::SupportedBrand.from_api_id with the Royal Bank of Scotland brand id returns an instance for the RBS brand","status":"passed","file_path":"./spec/freeagent/rbsg/backbook_onboarding/supported_brand_spec.rb","line_number":37,"run_time":0.002898295,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/backbook_onboarding/supported_brand_spec.rb[1:1:5:1]","description":"returns an instance for the UBN brand","full_description":"Rbsg::BackbookOnboarding::SupportedBrand.from_api_id with the Ulster Bank brand id returns an instance for the UBN brand","status":"passed","file_path":"./spec/freeagent/rbsg/backbook_onboarding/supported_brand_spec.rb","line_number":45,"run_time":0.00285405,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/backbook_onboarding/supported_brand_spec.rb[1:2:1]","description":"returns a provider configuration that matches the brand","full_description":"Rbsg::BackbookOnboarding::SupportedBrand#provider_config returns a provider configuration that matches the brand","status":"passed","file_path":"./spec/freeagent/rbsg/backbook_onboarding/supported_brand_spec.rb","line_number":60,"run_time":0.026593175,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/backbook_onboarding/supported_brand_spec.rb[1:2:2]","description":"returns a provider configuration that supports CIBA authentication","full_description":"Rbsg::BackbookOnboarding::SupportedBrand#provider_config returns a provider configuration that supports CIBA authentication","status":"passed","file_path":"./spec/freeagent/rbsg/backbook_onboarding/supported_brand_spec.rb","line_number":65,"run_time":0.017187372,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/backbook_onboarding/supported_brand_spec.rb[1:3:1]","description":"returns the bank institution for the NatWest brand","full_description":"Rbsg::BackbookOnboarding::SupportedBrand#bank_institution returns the bank institution for the NatWest brand","status":"passed","file_path":"./spec/freeagent/rbsg/backbook_onboarding/supported_brand_spec.rb","line_number":77,"run_time":0.00864401,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/backbook_onboarding/supported_brand_spec.rb[1:3:2]","description":"returns the bank institution for the RBS brand","full_description":"Rbsg::BackbookOnboarding::SupportedBrand#bank_institution returns the bank institution for the RBS brand","status":"passed","file_path":"./spec/freeagent/rbsg/backbook_onboarding/supported_brand_spec.rb","line_number":83,"run_time":0.007699395,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/backbook_onboarding/supported_brand_spec.rb[1:3:3]","description":"returns the bank institution for the UBN brand","full_description":"Rbsg::BackbookOnboarding::SupportedBrand#bank_institution returns the bank institution for the UBN brand","status":"passed","file_path":"./spec/freeagent/rbsg/backbook_onboarding/supported_brand_spec.rb","line_number":89,"run_time":0.008397353,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/backbook_onboarding/supported_brand_spec.rb[1:4:1]","description":"returns the reseller for the NatWest brand","full_description":"Rbsg::BackbookOnboarding::SupportedBrand#reseller returns the reseller for the NatWest brand","status":"passed","file_path":"./spec/freeagent/rbsg/backbook_onboarding/supported_brand_spec.rb","line_number":103,"run_time":0.010139842,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/backbook_onboarding/supported_brand_spec.rb[1:4:2]","description":"returns the reseller for the RBS brand","full_description":"Rbsg::BackbookOnboarding::SupportedBrand#reseller returns the reseller for the RBS brand","status":"passed","file_path":"./spec/freeagent/rbsg/backbook_onboarding/supported_brand_spec.rb","line_number":109,"run_time":0.009208299,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/backbook_onboarding/supported_brand_spec.rb[1:4:3]","description":"returns the reseller for the UBN brand","full_description":"Rbsg::BackbookOnboarding::SupportedBrand#reseller returns the reseller for the UBN brand","status":"passed","file_path":"./spec/freeagent/rbsg/backbook_onboarding/supported_brand_spec.rb","line_number":115,"run_time":0.008823749,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_scoped_spec.rb[1:1]","description":"is included in all the models that belong to a company","full_description":"CompanyScoped is included in all the models that belong to a company","status":"passed","file_path":"./spec/models/company_scoped_spec.rb","line_number":15,"run_time":0.124226833,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/cashflow/settings_controller_spec.rb[1:1:1]","description":"renders the bank_accounts template with the correct assigns","full_description":"Cashflow::SettingsController#bank_accounts renders the bank_accounts template with the correct assigns","status":"passed","file_path":"./spec/controllers/cashflow/settings_controller_spec.rb","line_number":12,"run_time":0.134263591,"pending_message":null,"screenshot":null}],"summary":{"duration":2.309952648,"example_count":588,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"588 examples, 0 failures"}