{"version":"3.11.0","messages":["Run options:\n  include {:ids=\u003e{\"./spec/models/invoice_spec.rb\"=\u003e[\"1:108:4:1\", \"1:1:2\"], \"./spec/controllers/invoices_controller_spec.rb\"=\u003e[\"7:1\"]}}\n  exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:1]","description":"does not allow deletion of a user with email templates","full_description":"User does not allow deletion of a user with email templates","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":7,"run_time":0.405018272,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:2]","description":"allows deletion of a user with email templates belonging to another company - security test","full_description":"User allows deletion of a user with email templates belonging to another company - security test","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":16,"run_time":0.14052012,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:3]","description":"allows creation of a user with valid NI number","full_description":"User allows creation of a user with valid NI number","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":26,"run_time":0.015292431,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:4]","description":"does not allow creation of a user with invalid NI number","full_description":"User does not allow creation of a user with invalid NI number","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":40,"run_time":0.010762086,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:5]","description":"find_latest_timeslip","full_description":"User find_latest_timeslip","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":49,"run_time":0.076338684,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:6]","description":"deletes ResetPasswordRequest when email changes","full_description":"User deletes ResetPasswordRequest when email changes","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":67,"run_time":0.044659924,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:7]","description":"does not delete ResetPasswordRequest when email does not changes","full_description":"User does not delete ResetPasswordRequest when email does not changes","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":76,"run_time":0.065014801,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:8]","description":"is not hidden by default","full_description":"User is not hidden by default","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":85,"run_time":0.003498474,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:9]","description":"cannot be hidden if it is an account owner","full_description":"User cannot be hidden if it is an account owner","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":89,"run_time":0.010049146,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:10]","description":"can be hidden if it is not an account owner","full_description":"User can be hidden if it is not an account owner","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":95,"run_time":0.008568684,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:13]","description":"not_be_able_to_set_permission_level_lower_than_tax_and_accounting_for_advisors","full_description":"User not_be_able_to_set_permission_level_lower_than_tax_and_accounting_for_advisors","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":251,"run_time":0.032173708,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:25]","description":"recent expense transactions should be returned in descending dated_on order","full_description":"User recent expense transactions should be returned in descending dated_on order","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":524,"run_time":0.375793458,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:30]","description":"deletes user record from Salesforce","full_description":"User deletes user record from Salesforce","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":636,"run_time":0.077392361,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:11:1]","description":"returns correctly sorted transactions from #recent_expense_transactions","full_description":"User expense transactions returns correctly sorted transactions from #recent_expense_transactions","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":133,"run_time":0.655823013,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:11:2]","description":"returns recent expenses from #recent_expenses","full_description":"User expense transactions returns recent expenses from #recent_expenses","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":148,"run_time":0.566998468,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:11:3:1]","description":"correctly calculates expense balance for the date","full_description":"User expense transactions #expense_balance_at_end_of correctly calculates expense balance for the date","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":153,"run_time":0.980861237,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:11:3:2]","description":"works with foreign currency expenses","full_description":"User expense transactions #expense_balance_at_end_of works with foreign currency expenses","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":162,"run_time":1.733995148,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:12:1:1]","description":"returns false","full_description":"User#deletable? when user is the account_owner returns false","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":191,"run_time":0.086391969,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:12:2:1]","description":"returns true","full_description":"User#deletable? when the user is not the account_owner returns true","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":201,"run_time":0.026860151,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:12:2:2:1]","description":"returns false","full_description":"User#deletable? when the user is not the account_owner and user has a timeslip returns false","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":211,"run_time":0.034553149,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:12:2:3:1]","description":"returns false","full_description":"User#deletable? when the user is not the account_owner and user has a payslip returns false","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":219,"run_time":0.054997121,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:12:2:4:1]","description":"returns false","full_description":"User#deletable? when the user is not the account_owner and user has an expense returns false","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":227,"run_time":0.070355241,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:12:2:5:1]","description":"returns false","full_description":"User#deletable? when the user is not the account_owner and user has a journal_entry returns false","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":236,"run_time":0.09192824,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:12:2:6:1]","description":"returns false","full_description":"User#deletable? when the user is not the account_owner and user has a payroll_profile returns false","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":244,"run_time":0.061359947,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:14:1]","description":"is not allowed to change their role to Accountant","full_description":"User An account owner is not allowed to change their role to Accountant","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":271,"run_time":0.016169393,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:15:1]","description":"does not have a company and is an account owner","full_description":"User A user in existence without a company does not have a company and is an account owner","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":284,"run_time":0.011228267,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:15:2]","description":"alerts that a user exists without a company","full_description":"User A user in existence without a company alerts that a user exists without a company","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":288,"run_time":0.01328984,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:16:1]","description":"has a company and is an account owner","full_description":"User The first user of a company has a company and is an account owner","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":301,"run_time":0.00666017,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:17:1]","description":"has a company but is not an account owner","full_description":"User The second user of a company has a company but is not an account owner","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":312,"run_time":0.028803472,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:18:1]","description":"has a role of Employee if an owner exists","full_description":"User New users for sole traders has a role of Employee if an owner exists","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":322,"run_time":0.095238543,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:18:2]","description":"has no default role if no owner already exists","full_description":"User New users for sole traders has no default role if no owner already exists","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":327,"run_time":0.105033489,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:19:1]","description":"is invalid if they are the first user for a company","full_description":"User An accountant is invalid if they are the first user for a company","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":344,"run_time":0.050710409,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:19:2:1]","description":"is valid","full_description":"User An accountant who is not the first user for a company is valid","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":360,"run_time":0.066332727,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:20:1]","description":"can change role to accountant","full_description":"User A non-accountant can change role to accountant","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":370,"run_time":0.029693378,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:20:2:1]","description":"cannot change role to accountant","full_description":"User A non-accountant with a payroll profile cannot change role to accountant","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":380,"run_time":0.051744179,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:20:3:1]","description":"cannot change role to accountant","full_description":"User A non-accountant with expenses cannot change role to accountant","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":391,"run_time":0.087399763,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:20:4:1]","description":"cannot change role to accountant","full_description":"User A non-accountant with payslips cannot change role to accountant","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":402,"run_time":0.090194886,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:20:5:1]","description":"cannot change role to accountant","full_description":"User A non-accountant with timeslips cannot change role to accountant","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":417,"run_time":0.053411609,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:20:6:1]","description":"cannot change role to accountant","full_description":"User A non-accountant with bank account entries cannot change role to accountant","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":428,"run_time":0.107311366,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:20:7:1]","description":"cannot change role to accountant","full_description":"User A non-accountant with journal entries cannot change role to accountant","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":440,"run_time":0.10705062,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:21:1]","description":"deletes that user's running_timers","full_description":"User Deleting a user deletes that user's running_timers","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":451,"run_time":0.047706574,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:21:2]","description":"marks the user as deleted in Salesforce","full_description":"User Deleting a user marks the user as deleted in Salesforce","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":457,"run_time":0.040858826,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:21:3:1]","description":"does not mark the company as deleted in Salesforce","full_description":"User Deleting a user if the user's company is being deleted does not mark the company as deleted in Salesforce","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":465,"run_time":0.04384176,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:22:1]","description":"changes the e-mail address if I give it a unique one","full_description":"User Updating an existing user form a SAML Request changes the e-mail address if I give it a unique one","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":480,"run_time":0.090605484,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:22:2]","description":"does not change the e-mail address if I use another user's email","full_description":"User Updating an existing user form a SAML Request does not change the e-mail address if I use another user's email","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":485,"run_time":0.009353685,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:23:1]","description":"recreates ledger entries for future payslips when the role changes from Employee to Director","full_description":"User a Employee with payslips recreates ledger entries for future payslips when the role changes from Employee to Director","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":506,"run_time":0.203544586,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:24:1]","description":"recreates ledger entries for future payslips when the role changes from Director to Employee","full_description":"User a Director with payslips recreates ledger entries for future payslips when the role changes from Director to Employee","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":506,"run_time":0.205112454,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:26:1]","description":"returns other user","full_description":"User#view_selected_user returns other user","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":546,"run_time":0.024901781,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:26:2]","description":"raises error if other user does not exist","full_description":"User#view_selected_user raises error if other user does not exist","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":552,"run_time":0.008076677,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:26:3]","description":"raises error if other user is in another company","full_description":"User#view_selected_user raises error if other user is in another company","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":558,"run_time":0.10095405,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:26:4]","description":"raises error if this user does not have permissions to view","full_description":"User#view_selected_user raises error if this user does not have permissions to view","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":566,"run_time":0.025971164,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:26:5]","description":"has access to self, even if user cannot view other users","full_description":"User#view_selected_user has access to self, even if user cannot view other users","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":574,"run_time":0.009171057,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:27:1]","description":"includes other user","full_description":"User#viewable_users includes other user","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":582,"run_time":0.022821453,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:27:2]","description":"returns no users for other companies","full_description":"User#viewable_users returns no users for other companies","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":587,"run_time":0.093844927,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:27:3]","description":"only includes self if this user does not have permissions to view","full_description":"User#viewable_users only includes self if this user does not have permissions to view","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":593,"run_time":0.021095731,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:28:1]","description":"returns a Salesforce user for the current user","full_description":"User#salesforce_user returns a Salesforce user for the current user","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":601,"run_time":0.007296859,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:29:1]","description":"defaults to 0 for employees with no filed SA return","full_description":"User partnership profit share defaults to 0 for employees with no filed SA return","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":608,"run_time":0.003751783,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:29:2]","description":"defaults to 0 for employees with a filed SA return with an incorrect partnership_profit_share of 1","full_description":"User partnership profit share defaults to 0 for employees with a filed SA return with an incorrect partnership_profit_share of 1","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":614,"run_time":0.003039777,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:29:3]","description":"defaults to 1 for partners with no filed SA return","full_description":"User partnership profit share defaults to 1 for partners with no filed SA return","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":621,"run_time":0.002742147,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:29:4]","description":"returns partnership_profit_share from SA return","full_description":"User partnership profit share returns partnership_profit_share from SA return","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":627,"run_time":0.002711624,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:31:1]","description":"returns nil by default","full_description":"User#external_authentication_mechanism returns nil by default","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":643,"run_time":0.002319486,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:31:2]","description":"returns :saml for account owners of companies signed up via SAML","full_description":"User#external_authentication_mechanism returns :saml for account owners of companies signed up via SAML","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":647,"run_time":0.012367717,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:32:1]","description":"defaults to false","full_description":"User#subscribed_to_company_digest? defaults to false","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":655,"run_time":0.00311397,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:32:2]","description":"returns the latest specified preference, if set","full_description":"User#subscribed_to_company_digest? returns the latest specified preference, if set","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":660,"run_time":0.005317097,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:33:1]","description":"marks the attribute as dirty if the value changes","full_description":"User#subscribed_to_company_digest= marks the attribute as dirty if the value changes","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":668,"run_time":0.002518552,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:33:2]","description":"does not mark the attribute as dirty if the value is unchanged","full_description":"User#subscribed_to_company_digest= does not mark the attribute as dirty if the value is unchanged","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":674,"run_time":0.00227895,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:34:1]","description":"stores the user's updated preference","full_description":"User saving after subscribed_to_company_digest was changed stores the user's updated preference","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":682,"run_time":0.030055538,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:35:1:1]","description":"is not valid","full_description":"User User is the second owner to UK Sole Trader company saving user, role has changed is not valid","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":698,"run_time":0.095829562,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:35:2:1]","description":"is valid","full_description":"User User is the second owner to UK Sole Trader company saving user, role hasn't changed is valid","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":706,"run_time":0.097165593,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:36:1]","description":"orders the dividends by date","full_description":"User#dividend_payments_in_date_range orders the dividends by date","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":724,"run_time":0.174277207,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:37:1]","description":"returns an un-persisted support code","full_description":"User A user with no support code returns an un-persisted support code","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":738,"run_time":0.021623459,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:38:1]","description":"returns the existing support code","full_description":"User A user with an existing support code returns the existing support code","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":746,"run_time":0.022705139,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:39:1]","description":"only includes the dividend_payment","full_description":"User#dividend_payments only includes the dividend_payment","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":762,"run_time":0.147838525,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:40:1]","description":"includes payments dated on the first expense date","full_description":"User#expense_balance_before includes payments dated on the first expense date","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":775,"run_time":0.157860846,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:40:2]","description":"includes handle earlier payments on the same day","full_description":"User#expense_balance_before includes handle earlier payments on the same day","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":787,"run_time":0.19211286,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:40:3]","description":"includes prior expenses on the first expense date","full_description":"User#expense_balance_before includes prior expenses on the first expense date","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":807,"run_time":0.126180428,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:41:1:1]","description":"is expected not to be freeagent internal account","full_description":"User#freeagent_internal_account? for a typical email address is expected not to be freeagent internal account","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":819,"run_time":0.00807735,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:41:2:1]","description":"is expected to be freeagent internal account","full_description":"User#freeagent_internal_account? for a freeagent.com email address is expected to be freeagent internal account","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":825,"run_time":0.007029752,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:41:3:1]","description":"is expected to be freeagent internal account","full_description":"User#freeagent_internal_account? for a medianode.com email address is expected to be freeagent internal account","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":831,"run_time":0.006896659,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:41:4:1]","description":"is expected to be freeagent internal account","full_description":"User#freeagent_internal_account? for a example.com email address is expected to be freeagent internal account","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":837,"run_time":0.006774,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:42:1]","description":"syncs with salesforce when the email changes","full_description":"User email marketing syncs with salesforce when the email changes","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":846,"run_time":0.017888511,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:42:2]","description":"syncs with salesforce when the position changes","full_description":"User email marketing syncs with salesforce when the position changes","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":852,"run_time":0.111220219,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:42:3]","description":"doesn't sync with Salesforce when the email has not changed","full_description":"User email marketing doesn't sync with Salesforce when the email has not changed","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":863,"run_time":0.032417477,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:42:4]","description":"syncs company and user to Salesforce when an account owner is first created","full_description":"User email marketing syncs company and user to Salesforce when an account owner is first created","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":870,"run_time":0.018688635,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:42:5]","description":"does not sync to Salesforce when a non-account owner is created","full_description":"User email marketing does not sync to Salesforce when a non-account owner is created","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":874,"run_time":0.018404148,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:42:6]","description":"does not sync to Salesforce when an account owner of a demo company is created","full_description":"User email marketing does not sync to Salesforce when an account owner of a demo company is created","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":878,"run_time":0.161013711,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:42:7]","description":"does not sync to Salesforce when non-account owners change their email address","full_description":"User email marketing does not sync to Salesforce when non-account owners change their email address","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":882,"run_time":0.046855676,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:42:8]","description":"does not sync to Salesforce when account owners of demo companies change their email address","full_description":"User email marketing does not sync to Salesforce when account owners of demo companies change their email address","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":891,"run_time":0.117556622,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:43:1:1]","description":"returns entries for a uk limited company","full_description":"User#paginated_expenses_in_date_range for a uk limited company user returns entries for a uk limited company","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":916,"run_time":0.290310864,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:43:1:2]","description":"only returns entries in range","full_description":"User#paginated_expenses_in_date_range for a uk limited company user only returns entries in range","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":924,"run_time":0.584505722,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:43:2:1]","description":"returns entries for a uk sole trader","full_description":"User#paginated_expenses_in_date_range for a sole trader user returns entries for a uk sole trader","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":944,"run_time":0.21541965,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:44:1]","description":"updates the general_ledger_account names","full_description":"User changing name updates the general_ledger_account names","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":956,"run_time":0.04672052,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:45:1:1:1]","description":"is expected to equal true","full_description":"User insights #insights_enabled? user has full access permission level is expected to equal true","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":980,"run_time":0.019598557,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:45:1:2:1]","description":"is expected to equal false","full_description":"User insights #insights_enabled? user has \u003c full access permission level is expected to equal false","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":985,"run_time":0.01889165,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:45:2:1:1:1]","description":"creates a 'product update insight for radar' notification","full_description":"User insights #notify_on_login_pings user existed before the radar page was launched user has full access permission level creates a 'product update insight for radar' notification","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":996,"run_time":0.348149329,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:45:2:1:1:2:1]","description":"skips creation if Radar configuration is set to true","full_description":"User insights #notify_on_login_pings user existed before the radar page was launched user has full access permission level radar config can set skipping product update ping generation skips creation if Radar configuration is set to true","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1018,"run_time":0.094670955,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:45:2:1:2:1]","description":"does not create a 'product update insight for radar' notification","full_description":"User insights #notify_on_login_pings user existed before the radar page was launched user has \u003c full access permission level does not create a 'product update insight for radar' notification","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1028,"run_time":0.102898508,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:45:2:2:1]","description":"does not create a 'product update insight for radar' notification","full_description":"User insights #notify_on_login_pings user is new, after the radar page was launched does not create a 'product update insight for radar' notification","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1041,"run_time":0.282258248,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:45:2:3:1:1]","description":"does not create a 'product update insight for covid furlough' notification","full_description":"User insights #notify_on_login_pings user existed before the covid furlough feature was launched user has full access permission level, but no recent payslips does not create a 'product update insight for covid furlough' notification","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1054,"run_time":0.282417133,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:45:2:3:2:1]","description":"creates a 'product update insight for covid furlough' notification","full_description":"User insights #notify_on_login_pings user existed before the covid furlough feature was launched user has full access permission level and a recent payslip creates a 'product update insight for covid furlough' notification","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1068,"run_time":0.394333664,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:45:2:3:3:1]","description":"does not create a 'product update insight for covid furlough' notification","full_description":"User insights #notify_on_login_pings user existed before the covid furlough feature was launched user has \u003c full access permission level does not create a 'product update insight for covid furlough' notification","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1084,"run_time":0.089031166,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:45:2:4:1]","description":"does not create a 'product update insight for covid furlough' notification","full_description":"User insights #notify_on_login_pings user is new, after the covid furlough feature was launched does not create a 'product update insight for covid furlough' notification","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1097,"run_time":0.291009746,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:45:2:5:1:1]","description":"creates the notification on first invocation","full_description":"User insights #notify_on_login_pings for a user who should see the SA 19/20 product update who was created before the launch date creates the notification on first invocation","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1110,"run_time":0.196895704,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:45:2:5:1:2]","description":"does not create another notification second time around","full_description":"User insights #notify_on_login_pings for a user who should see the SA 19/20 product update who was created before the launch date does not create another notification second time around","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1116,"run_time":0.228963488,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:45:2:5:2:1]","description":"does not create the notification","full_description":"User insights #notify_on_login_pings for a user who should see the SA 19/20 product update who was created after the launch date does not create the notification","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1126,"run_time":0.214142473,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:45:2:6:1]","description":"creates a 'product update insight for banking automation' notification","full_description":"User insights #notify_on_login_pings the banking automation product update creates a 'product update insight for banking automation' notification","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1141,"run_time":0.207663995,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:45:2:6:2]","description":"does not create an update when the user is created after the launch date","full_description":"User insights #notify_on_login_pings the banking automation product update does not create an update when the user is created after the launch date","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1154,"run_time":0.192453319,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:45:2:7:1:1]","description":"creates a 'product update insight for credit note reconciliations' notification","full_description":"User insights #notify_on_login_pings the credit note reconciliation product update when the feature is enabled creates a 'product update insight for credit note reconciliations' notification","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1171,"run_time":0.201811476,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:45:2:7:1:2]","description":"does not create an update when the user is created after the launch date","full_description":"User insights #notify_on_login_pings the credit note reconciliation product update when the feature is enabled does not create an update when the user is created after the launch date","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1185,"run_time":0.171389356,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:45:2:8:1:1]","description":"creates the notification on first invocation","full_description":"User insights #notify_on_login_pings the Capital Allowances product update for a user with correct permissions who was created before the launch date creates the notification on first invocation","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1208,"run_time":0.220670759,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:45:2:8:1:2]","description":"does not create another notification second time around","full_description":"User insights #notify_on_login_pings the Capital Allowances product update for a user with correct permissions who was created before the launch date does not create another notification second time around","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1214,"run_time":0.23171642,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:45:2:8:2:1]","description":"does not create the notification","full_description":"User insights #notify_on_login_pings the Capital Allowances product update for a user with correct permissions who was created after the launch date does not create the notification","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1224,"run_time":0.207726464,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:45:2:8:3:1]","description":"creates a notification","full_description":"User insights #notify_on_login_pings the Capital Allowances product update for a level 7 user who was created before the launch date creates a notification","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1234,"run_time":0.180747091,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:45:2:8:4:1]","description":"does not create a notification","full_description":"User insights #notify_on_login_pings the Capital Allowances product update for a user with incorrect permissions who was created before the launch date does not create a notification","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1244,"run_time":0.035946046,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:45:2:9:1:1:1]","description":"creates a product update insight for payit","full_description":"User insights #notify_on_login_pings the payit product update when the company is elgible for payit and the user level 8 account owner creates a product update insight for payit","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1273,"run_time":0.279064373,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:45:2:9:1:2:1]","description":"creates a product update insight for payit","full_description":"User insights #notify_on_login_pings the payit product update when the company is elgible for payit and the user is the account owner and level 7 creates a product update insight for payit","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1283,"run_time":0.315620732,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:45:2:9:1:3:1]","description":"does not create a product update insight for payit","full_description":"User insights #notify_on_login_pings the payit product update when the company is elgible for payit and the user is level 7 does not create a product update insight for payit","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1300,"run_time":0.315760341,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:45:2:9:1:4:1]","description":"does not create a product update insight for payit","full_description":"User insights #notify_on_login_pings the payit product update when the company is elgible for payit when the user is created after launch date does not create a product update insight for payit","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1308,"run_time":0.296891735,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:45:2:9:2:1]","description":"does not create a product update insight for payit","full_description":"User insights #notify_on_login_pings the payit product update when the company is not eligible for payit does not create a product update insight for payit","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1321,"run_time":0.183360626,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:45:2:10:1]","description":"creates a 'product update insight for manual invoice reminders","full_description":"User insights #notify_on_login_pings the manual invoice reminders product update creates a 'product update insight for manual invoice reminders","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1336,"run_time":0.199875662,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:45:2:10:2]","description":"does not create an update when the user is created after the launch date","full_description":"User insights #notify_on_login_pings the manual invoice reminders product update does not create an update when the user is created after the launch date","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1349,"run_time":0.185820086,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:45:3:1]","description":"pulls the right figures late in the tax year","full_description":"User insights tax/pay for current tax year pulls the right figures late in the tax year","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1380,"run_time":0.290037612,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:45:3:2]","description":"pulls the right figures early in the next tax year","full_description":"User insights tax/pay for current tax year pulls the right figures early in the next tax year","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1389,"run_time":0.254283447,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:46:1]","description":"updates sender addresses when a user's name is changed","full_description":"User#sync_name_with_sender_addresses updates sender addresses when a user's name is changed","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1401,"run_time":0.049960455,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:47:1]","description":"updates email templates when a user's name is changed","full_description":"User#sync_name_with_email_templates updates email templates when a user's name is changed","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1411,"run_time":0.122928819,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:48:1:1]","description":"is expected to equal false","full_description":"User#can_approve_api_apps? for an unconfirmed company is expected to equal false","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1428,"run_time":0.092090617,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:48:2:1]","description":"is expected to equal false","full_description":"User#can_approve_api_apps? for a company still in setup is expected to equal false","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1433,"run_time":0.08927689,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:48:3:1]","description":"is expected to equal true","full_description":"User#can_approve_api_apps? for a company which has confirmed and completed setup is expected to equal true","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1438,"run_time":0.089323411,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:49:1]","description":"returns false if user has no message subscriptions","full_description":"User#has_any_unread_messages? returns false if user has no message subscriptions","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1445,"run_time":0.025102411,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:49:2]","description":"returns true if the first subscription has unread messages","full_description":"User#has_any_unread_messages? returns true if the first subscription has unread messages","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1449,"run_time":0.339486568,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:50:1:1]","description":"returns 0","full_description":"User#total_unread_messages when the user has no thread subscriptions returns 0","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1461,"run_time":0.022320723,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:50:2:1]","description":"returns the unread message count of the thread subscription","full_description":"User#total_unread_messages when the user has one thread subscription returns the unread message count of the thread subscription","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1468,"run_time":0.169414304,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:50:3:1]","description":"returns the total unread message count of the thread subscription","full_description":"User#total_unread_messages when the user has one multiple thread subscription returns the total unread message count of the thread subscription","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1479,"run_time":0.310995297,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:51:1:1]","description":"is expected to equal nil","full_description":"User#latest_message when the user is not subscribed to any threads is expected to equal nil","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1493,"run_time":0.033066687,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:51:2:1:1]","description":"is expected to equal nil","full_description":"User#latest_message when the user is subscribed to a thread with no messages is expected to equal nil","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1503,"run_time":0.076813487,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:51:2:2:1]","description":"returns the last message","full_description":"User#latest_message when the user is subscribed to a thread where the last recorded message is from the current user returns the last message","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1518,"run_time":0.072194366,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:51:2:3:1]","description":"returns the last message","full_description":"User#latest_message when the user is subscribed to a thread where the last recorded message is from another sender returns the last message","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1535,"run_time":0.067395071,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:51:2:4:1]","description":"returns the last message","full_description":"User#latest_message when the user is subscribed to a thread when the last recorded message is blank returns the last message","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1553,"run_time":0.086030637,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:52:1:1:1]","description":"does not lock previously locked attributes","full_description":"User locking attributes for a frontbook provisioned company the account owner does not lock previously locked attributes","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1574,"run_time":0.150002465,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:52:1:2:1:1]","description":"doesn't have any of the expected attributes locked","full_description":"User locking attributes for a frontbook provisioned company a user that is not the account owner behaves like an unlocked user doesn't have any of the expected attributes locked","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1564,"run_time":0.130883327,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:52:2:1:1]","description":"doesn't have any of the expected attributes locked","full_description":"User locking attributes a non frontbook company behaves like an unlocked user doesn't have any of the expected attributes locked","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1564,"run_time":0.010141675,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:52:3:1:1]","description":"doesn't have any of the expected attributes locked","full_description":"User locking attributes when the user does not have a company behaves like an unlocked user doesn't have any of the expected attributes locked","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1564,"run_time":0.028866158,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:53:1:1]","description":"schedules a ContactEventDataSyncJob for the user","full_description":"User#sync_event_data_to_salesforce when the user is an account owner schedules a ContactEventDataSyncJob for the user","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1604,"run_time":0.008482436,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:53:2:1]","description":"does not schedule a job","full_description":"User#sync_event_data_to_salesforce when the user is not an account owner does not schedule a job","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1613,"run_time":0.026730921,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/user_spec.rb[1:53:3:1]","description":"does not schedule a job","full_description":"User#sync_event_data_to_salesforce when the user is not associated with a company does not schedule a job","status":"passed","file_path":"./spec/models/concerns/freeagent/user_spec.rb","line_number":1621,"run_time":0.02827639,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:1:1:1]","description":"responds with an array of estimates","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level with 3 estimates with 2 estimate items each with no nested estimate items responds with an array of estimates","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":115,"run_time":0.328982137,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:1:2:1]","description":"contains estimate_items fields","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level with 3 estimates with 2 estimate items each with nested_estimate_items=true contains estimate_items fields","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":142,"run_time":0.254449289,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:2:1:1]","description":"responds with an array of estimates","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level pagination with less entries then the default items per page responds with an array of estimates","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":160,"run_time":0.157038462,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:2:2:1:1]","description":"responds with an array of estimates","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level pagination with more entries then the default items per page on the first page responds with an array of estimates","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":177,"run_time":0.158139414,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:2:2:2:1]","description":"responds with an array of estimates","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level pagination with more entries then the default items per page on the last page responds with an array of estimates","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":191,"run_time":0.150485929,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:3:1:1:1:1]","description":"responds with an array of estimates","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level filter by view valid filter all responds with an array of estimates","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":232,"run_time":0.923786913,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:3:1:1:2:1]","description":"responds with an array of estimates","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level filter by view valid filter draft responds with an array of estimates","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":250,"run_time":0.880829315,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:3:1:1:3:1]","description":"responds with an array of estimates","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level filter by view valid filter non_draft responds with an array of estimates","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":268,"run_time":0.802364182,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:3:1:1:4:1]","description":"responds with an array of estimates","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level filter by view valid filter sent responds with an array of estimates","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":286,"run_time":0.838677424,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:3:1:1:5:1]","description":"responds with an array of estimates","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level filter by view valid filter approved responds with an array of estimates","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":304,"run_time":0.866422137,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:3:1:1:6:1]","description":"responds with an array of estimates","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level filter by view valid filter rejected responds with an array of estimates","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":322,"run_time":0.874481929,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:3:1:1:7:1]","description":"responds with an array of estimates","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level filter by view valid filter invoiced responds with an array of estimates","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":340,"run_time":0.869971467,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:3:1:2:1]","description":"is expected to respond with status code :bad_request (400)","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level filter by view invalid filter is expected to respond with status code :bad_request (400)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":357,"run_time":0.10117651,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:3:2:1:1:1]","description":"responds with an array of estimates","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level filter by date valid date from_date responds with an array of estimates","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":375,"run_time":0.43535851,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:3:2:1:2:1]","description":"responds with an array of estimates","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level filter by date valid date to_date responds with an array of estimates","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":387,"run_time":0.428123609,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:3:2:1:3:1]","description":"responds with an array of estimates","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level filter by date valid date from_date_to_date responds with an array of estimates","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":399,"run_time":0.413033242,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:3:2:1:4:1]","description":"responds with an array of estimates","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level filter by date valid date updated_since responds with an array of estimates","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":411,"run_time":0.372760267,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:3:2:2:1]","description":"is expected to respond with status code :bad_request (400)","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level filter by date invalid date is expected to respond with status code :bad_request (400)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":424,"run_time":0.110063847,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:4:1]","description":"sorts correctly","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level with a :sort parameter sorts correctly","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":441,"run_time":0.52316913,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::EstimateIntegration GET /estimates without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":470,"run_time":0.100206345,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:2:1:1:1:1]","description":"responds with the standard estimate fields","full_description":"Api::EstimateIntegration GET /estimates/estimate_id with the right permission_level with valid estimate_id with no estimate_items responds with the standard estimate fields","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":483,"run_time":0.117088352,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:2:1:1:2:1]","description":"appends an array of estimate_items","full_description":"Api::EstimateIntegration GET /estimates/estimate_id with the right permission_level with valid estimate_id with 3 estimate_items appends an array of estimate_items","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":500,"run_time":0.202706062,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:2:1:1:3:1]","description":"is marked as moss","full_description":"Api::EstimateIntegration GET /estimates/estimate_id with the right permission_level with valid estimate_id for a MOSS estimate is marked as moss","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":522,"run_time":0.129701651,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:2:1:1:4:1]","description":"translates the sales tax status attributes into the API format","full_description":"Api::EstimateIntegration GET /estimates/estimate_id with the right permission_level with valid estimate_id sales tax status translates the sales tax status attributes into the API format","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":548,"run_time":0.158195475,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:2:1:2:1]","description":"is expected to respond with a missing status code (404)","full_description":"Api::EstimateIntegration GET /estimates/estimate_id with the right permission_level with invalid estimate_id is expected to respond with a missing status code (404)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":560,"run_time":0.130503754,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:2:2:1:1]","description":"responds with estimates only for the specified contact","full_description":"Api::EstimateIntegration GET /estimates/estimate_id for a company with estimates by two different contacts when filtering by the first contact responds with estimates only for the specified contact","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":577,"run_time":0.303629727,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:2:2:2:1]","description":"responds with estimates only for the specified contact","full_description":"Api::EstimateIntegration GET /estimates/estimate_id for a company with estimates by two different contacts when filtering by the second contact responds with estimates only for the specified contact","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":589,"run_time":0.320768585,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:2:3:1:1]","description":"responds with estimates only for the specified project","full_description":"Api::EstimateIntegration GET /estimates/estimate_id for a company with estimates on two different projects when filtering by the first project responds with estimates only for the specified project","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":611,"run_time":0.34088516,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:2:3:2:1]","description":"responds with estimates only for the specified project","full_description":"Api::EstimateIntegration GET /estimates/estimate_id for a company with estimates on two different projects when filtering by the second project responds with estimates only for the specified project","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":623,"run_time":0.343052284,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:2:4:1:1]","description":"responds with estimates only for the specified invoice","full_description":"Api::EstimateIntegration GET /estimates/estimate_id for a company with estimates on two different invoices when filtering by the first invoice responds with estimates only for the specified invoice","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":645,"run_time":0.230025956,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:2:4:2:1]","description":"responds with estimates only for the specified invoice","full_description":"Api::EstimateIntegration GET /estimates/estimate_id for a company with estimates on two different invoices when filtering by the second invoice responds with estimates only for the specified invoice","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":657,"run_time":0.22226465,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:2:5:1:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::EstimateIntegration GET /estimates/estimate_id without the right permission_level with valid estimate_id is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":672,"run_time":0.110598492,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:3:1]","description":"returns base64 encoded PDF data with correct permissions","full_description":"Api::EstimateIntegration GET /estimates/estimate_id/pdf returns base64 encoded PDF data with correct permissions","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":685,"run_time":0.201571528,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:3:2]","description":"doesn't allow access without the right permission_level","full_description":"Api::EstimateIntegration GET /estimates/estimate_id/pdf doesn't allow access without the right permission_level","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":696,"run_time":0.136265237,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:4:1:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::EstimateIntegration GET /estimates/:id/email_template without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":709,"run_time":0.115996262,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:4:2:1]","description":"returns the correct estimate data","full_description":"Api::EstimateIntegration GET /estimates/:id/email_template with a default new estimate template returns the correct estimate data","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":735,"run_time":0.175105575,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:4:3:1]","description":"returns the correct estimate data","full_description":"Api::EstimateIntegration GET /estimates/:id/email_template without a default new estimate template returns the correct estimate data","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":752,"run_time":0.131995337,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:2]","description":"with estimate item with a stock list item","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with estimate item with a stock list item","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1215,"run_time":0.218007523,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:1:1]","description":"uses the company's selected estimate theme","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with the company's default estimate theme set to something other than the last theme uses the company's selected estimate theme","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":784,"run_time":0.327390947,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:2:1]","description":"creates a new estimate using the fallback default theme instead of the custom theme","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes when the company's default theme selection is the custom theme and the theme_customisation_circuit_breaker is broken creates a new estimate using the fallback default theme instead of the custom theme","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":801,"run_time":0.145686713,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:3:1]","description":"has created a estimate record for the current company and creates an audit entry","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with no estimate_items has created a estimate record for the current company and creates an audit entry","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":813,"run_time":0.144612361,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:4:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with contact on another company is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":842,"run_time":0.20801281,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:1:1:1]","description":"creates an estimate with the correct ec_status","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to Non-EC (value as \"Non-EC\") creates an estimate with the correct ec_status","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":847,"run_time":0.149222156,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:1:2:1]","description":"creates an estimate with the correct ec_status","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to Non-EC (value as \"0\") creates an estimate with the correct ec_status","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":847,"run_time":0.150270198,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:2:1:1:1]","description":"creates an estimate with the correct ec_status","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to EC Services (value as \"EC Services\") when the company is in the EU on the record date creates an estimate with the correct ec_status","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":847,"run_time":0.166277362,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:2:1:2:1:1]","description":"creates an estimate with the correct ec_status","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to EC Services (value as \"EC Services\") when the company is not in the EU on the record date when the company has a NI postcode creates an estimate with the correct ec_status","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":847,"run_time":0.158202196,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:2:1:2:2:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to EC Services (value as \"EC Services\") when the company is not in the EU on the record date when the company does not have a NI postcode is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":912,"run_time":0.199187485,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:2:2:1:1]","description":"creates an estimate with the correct ec_status","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to EC Services (value as \"1\") when the company is in the EU on the record date creates an estimate with the correct ec_status","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":847,"run_time":0.173128104,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:2:2:2:1:1]","description":"creates an estimate with the correct ec_status","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to EC Services (value as \"1\") when the company is not in the EU on the record date when the company has a NI postcode creates an estimate with the correct ec_status","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":847,"run_time":0.163352679,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:2:2:2:2:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to EC Services (value as \"1\") when the company is not in the EU on the record date when the company does not have a NI postcode is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":912,"run_time":0.132530182,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:3:1:1]","description":"creates an estimate with the correct ec_status","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to EC Goods (value as \"EC Goods\") creates an estimate with the correct ec_status","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":847,"run_time":0.171972036,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:3:2:1]","description":"creates an estimate with the correct ec_status","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to EC Goods (value as \"2\") creates an estimate with the correct ec_status","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":847,"run_time":0.174354997,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:4:1:1:1:1]","description":"creates an estimate with the correct ec_status","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to EC VAT MOSS (value as \"EC VAT MOSS\") invoice dated inside EU membership with a place of supply creates an estimate with the correct ec_status","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":953,"run_time":0.17640139,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:4:1:1:2:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to EC VAT MOSS (value as \"EC VAT MOSS\") invoice dated inside EU membership without a place of supply is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":967,"run_time":0.142348958,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:4:1:2:1:1]","description":"creates an estimate with the correct ec_status","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to EC VAT MOSS (value as \"EC VAT MOSS\") invoice dated outside EU membership with a place of supply creates an estimate with the correct ec_status","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":978,"run_time":0.157309466,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:4:1:2:2:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to EC VAT MOSS (value as \"EC VAT MOSS\") invoice dated outside EU membership without a place of supply is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":992,"run_time":0.144522294,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:4:2:1:1:1]","description":"creates an estimate with the correct ec_status","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to EC VAT MOSS (value as \"3\") invoice dated inside EU membership with a place of supply creates an estimate with the correct ec_status","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":953,"run_time":0.158665969,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:4:2:1:2:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to EC VAT MOSS (value as \"3\") invoice dated inside EU membership without a place of supply is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":967,"run_time":0.138270855,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:4:2:2:1:1]","description":"creates an estimate with the correct ec_status","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to EC VAT MOSS (value as \"3\") invoice dated outside EU membership with a place of supply creates an estimate with the correct ec_status","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":978,"run_time":0.156144306,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:4:2:2:2:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to EC VAT MOSS (value as \"3\") invoice dated outside EU membership without a place of supply is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":992,"run_time":0.123480567,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:5:1:1:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to Reverse Charge (value as \"Reverse Charge\") when the company is in the EU on the record date is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1012,"run_time":0.131018794,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:5:1:2:1:1]","description":"creates an estimate with the correct ec_status","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to Reverse Charge (value as \"Reverse Charge\") when the company is not in the EU on the record date when the company has a NI postcode creates an estimate with the correct ec_status","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":847,"run_time":0.148689658,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:5:1:2:2:1]","description":"creates an estimate with the correct ec_status","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to Reverse Charge (value as \"Reverse Charge\") when the company is not in the EU on the record date when the company does not have a NI postcode creates an estimate with the correct ec_status","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":847,"run_time":0.149754361,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:5:2:1:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to Reverse Charge (value as \"4\") when the company is in the EU on the record date is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1012,"run_time":0.140340037,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:5:2:2:1:1]","description":"creates an estimate with the correct ec_status","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to Reverse Charge (value as \"4\") when the company is not in the EU on the record date when the company has a NI postcode creates an estimate with the correct ec_status","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":847,"run_time":0.171398844,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:5:2:2:2:1]","description":"creates an estimate with the correct ec_status","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to Reverse Charge (value as \"4\") when the company is not in the EU on the record date when the company does not have a NI postcode creates an estimate with the correct ec_status","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":847,"run_time":0.172570483,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:6:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to an invalid value is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1043,"run_time":0.125037466,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:6:1]","description":"has created a estimate record for the current company","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with 3 estimate_items has created a estimate record for the current company","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1059,"run_time":0.174950839,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:7:1]","description":"has created a the estimate items in the correct order","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with 3 estimate_items with named positions has created a the estimate items in the correct order","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1101,"run_time":0.174777661,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:8:1]","description":"has created a estimate record for the current company","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with 3 estimate_items to different category has created a estimate record for the current company","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1130,"run_time":0.192444542,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:9:1]","description":"should create the estimate","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with a nil category should create the estimate","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1180,"run_time":0.146317667,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:10:1]","description":"sets the sales tax rate of the nested estimate item","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with estimate items with a sales tax status specified sets the sales tax rate of the nested estimate item","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1204,"run_time":0.267676749,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:3:1:1:1]","description":"has the same number of estimates after posting attempt","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with invalid attributes estimate dated_on has the same number of estimates after posting attempt","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1244,"run_time":0.287213268,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:3:2:1:1]","description":"has the same number of estimates after posting attempt","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with invalid attributes estimate_item price has the same number of estimates after posting attempt","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1264,"run_time":0.292736165,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:2:1:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::EstimateIntegration POST /estimates without the right permission_level with valid attributes is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1280,"run_time":0.229031754,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:6:1]","description":"should duplicate the correct estimate properties","full_description":"Api::EstimateIntegration POST /estimates/:id/duplicate should duplicate the correct estimate properties","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1296,"run_time":0.401034107,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:7:3]","description":"without the right permission_level","full_description":"Api::EstimateIntegration POST /estimates/build without the right permission_level","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1359,"run_time":0.105259087,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:7:1:1]","description":"returns default attributes for a new estimate","full_description":"Api::EstimateIntegration POST /estimates/build with no attributes returns default attributes for a new estimate","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1318,"run_time":0.12206231,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:7:2:1]","description":"returns default and custom attributes for a new estimate","full_description":"Api::EstimateIntegration POST /estimates/build with custom attributes returns default and custom attributes for a new estimate","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1344,"run_time":0.124249658,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:8:1:1:1:1:1]","description":"does not have an additional estimate after one has been updated and creates an audit entry","full_description":"Api::EstimateIntegration PUT /estimates/estimate_id with the right permission_level with valid estimate_id with valid attributes estimate does not have an additional estimate after one has been updated and creates an audit entry","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1384,"run_time":0.166252743,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:8:1:1:1:2:1:1]","description":"have an additional estimate_item after one has been 'posted' and creates an audit entry","full_description":"Api::EstimateIntegration PUT /estimates/estimate_id with the right permission_level with valid estimate_id with valid attributes estimate_items POST estimate_item_id have an additional estimate_item after one has been 'posted' and creates an audit entry","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1414,"run_time":0.22722874,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:8:1:1:1:2:2:1]","description":"updates the estimate item fields","full_description":"Api::EstimateIntegration PUT /estimates/estimate_id with the right permission_level with valid estimate_id with valid attributes estimate_items PUT estimate_item_id updates the estimate item fields","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1434,"run_time":0.197555601,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:8:1:1:1:2:2:2]","description":"updates estimate item sales tax statuses and creates an audit entry","full_description":"Api::EstimateIntegration PUT /estimates/estimate_id with the right permission_level with valid estimate_id with valid attributes estimate_items PUT estimate_item_id updates estimate item sales tax statuses and creates an audit entry","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1448,"run_time":0.222563759,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:8:1:1:1:2:3:1]","description":"deletes the estimate item","full_description":"Api::EstimateIntegration PUT /estimates/estimate_id with the right permission_level with valid estimate_id with valid attributes estimate_items DELETE estimate_item_id deletes the estimate item","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1483,"run_time":0.19588059,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:8:1:1:1:3:1]","description":"removes the project from the estimate","full_description":"Api::EstimateIntegration PUT /estimates/estimate_id with the right permission_level with valid estimate_id with valid attributes removing the project removes the project from the estimate","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1500,"run_time":0.148177249,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:8:1:1:2:1:1]","description":"has the same number of estimates after posting attempt","full_description":"Api::EstimateIntegration PUT /estimates/estimate_id with the right permission_level with valid estimate_id with invalid attributes dated_on has the same number of estimates after posting attempt","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1515,"run_time":0.152541984,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:8:1:2:1]","description":"is expected to respond with a not_found status code (404)","full_description":"Api::EstimateIntegration PUT /estimates/estimate_id with the right permission_level with invalid estimate_id is expected to respond with a not_found status code (404)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1529,"run_time":0.117609149,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:8:2:1:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::EstimateIntegration PUT /estimates/estimate_id without the right permission_level with valid estimate_id is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1540,"run_time":0.123336669,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:9:1:1:1:1]","description":"has one less estimate after deletion and creates an audit entry","full_description":"Api::EstimateIntegration DELETE /estimates/estimate_id with the right permission_level with valid estimate_id deleteable (not sent) has one less estimate after deletion and creates an audit entry","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1562,"run_time":0.146924379,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:9:1:1:2:1]","description":"has the same number of estimates after deletion attempt","full_description":"Api::EstimateIntegration DELETE /estimates/estimate_id with the right permission_level with valid estimate_id not deleteable (sent) has the same number of estimates after deletion attempt","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1588,"run_time":0.129146495,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:9:1:2:1]","description":"is expected to respond with a not_found status code (404)","full_description":"Api::EstimateIntegration DELETE /estimates/estimate_id with the right permission_level with invalid estimate_id is expected to respond with a not_found status code (404)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1601,"run_time":0.10578844,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:9:2:1:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::EstimateIntegration DELETE /estimates/estimate_id without the right permission_level with valid estimate_id is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1612,"run_time":0.10910833,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:10:1:1:1:1]","description":"creates an audit entry","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/mark_as_draft with the right permission_level with valid estimate_id allowed transition creates an audit entry","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1629,"run_time":0.180257213,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:10:1:1:2:1]","description":"does not create an audit entry","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/mark_as_draft with the right permission_level with valid estimate_id prohibited transition does not create an audit entry","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1653,"run_time":0.278555301,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:10:1:2:1]","description":"is expected to respond with a missing status code (404)","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/mark_as_draft with the right permission_level with invalid estimate_id is expected to respond with a missing status code (404)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1665,"run_time":0.103802953,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:10:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/mark_as_draft without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1675,"run_time":0.141912285,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:11:1:1:1:1]","description":"creates an audit entry","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/mark_as_sent with the right permission_level with valid estimate_id allowed transition creates an audit entry","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1691,"run_time":0.181353905,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:11:1:1:2:1]","description":"does not create an audit entry and returns an error about the lack of line items","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/mark_as_sent with the right permission_level with valid estimate_id prohibited transition due to lack of line items does not create an audit entry and returns an error about the lack of line items","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1715,"run_time":0.131196765,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:11:1:2:1]","description":"is expected to respond with a missing status code (404)","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/mark_as_sent with the right permission_level with invalid estimate_id is expected to respond with a missing status code (404)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1729,"run_time":0.091908323,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:11:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/mark_as_sent without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1739,"run_time":0.139758522,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:12:1:1:1:1]","description":"creates an audit entry","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/mark_as_approved with the right permission_level with valid estimate_id allowed transition creates an audit entry","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1755,"run_time":0.183975687,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:12:1:1:2:1]","description":"does not create an audit entry","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/mark_as_approved with the right permission_level with valid estimate_id prohibited transition does not create an audit entry","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1779,"run_time":0.130415835,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:12:1:2:1]","description":"is expected to respond with a missing status code (404)","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/mark_as_approved with the right permission_level with invalid estimate_id is expected to respond with a missing status code (404)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1791,"run_time":0.116145314,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:12:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/mark_as_approved without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1801,"run_time":0.145110493,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:13:1:1:1:1]","description":"creates an audit entry","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/mark_as_rejected with the right permission_level with valid estimate_id allowed transition creates an audit entry","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1817,"run_time":0.190211397,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:13:1:1:2:1]","description":"does not create an audit entry","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/mark_as_rejected with the right permission_level with valid estimate_id prohibited transition does not create an audit entry","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1841,"run_time":0.119290983,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:13:1:2:1]","description":"is expected to respond with a missing status code (404)","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/mark_as_rejected with the right permission_level with invalid estimate_id is expected to respond with a missing status code (404)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1853,"run_time":0.118682482,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:13:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/mark_as_rejected without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1863,"run_time":0.166967221,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:14:3]","description":"should not be allowed for a draft estimate","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/convert_to_invoice should not be allowed for a draft estimate","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1929,"run_time":0.154227682,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:14:4]","description":"should not be allowed for an already invoiced estimate","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/convert_to_invoice should not be allowed for an already invoiced estimate","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1937,"run_time":0.299373486,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:14:1:1]","description":"should update the estimate status and creates an audit entry","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/convert_to_invoice for a sent invoice should update the estimate status and creates an audit entry","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1875,"run_time":0.313838148,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:14:1:2]","description":"publishes an INVOICE_CREATED event","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/convert_to_invoice for a sent invoice publishes an INVOICE_CREATED event","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1905,"run_time":0.291708124,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:14:2:1]","description":"should return an error message","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/convert_to_invoice unsuccessful conversion should return an error message","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1921,"run_time":0.13666225,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:15:1]","description":"is always provided in the api response","full_description":"Api::EstimateIntegration the option to exclude sales tax is always provided in the api response","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1961,"run_time":0.131837995,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:15:2]","description":"defaults to including sales tax when the option is not specified","full_description":"Api::EstimateIntegration the option to exclude sales tax defaults to including sales tax when the option is not specified","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1969,"run_time":0.139509469,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:15:3]","description":"correctly sets the attribute to exclude sales tax from totals when specified in the params","full_description":"Api::EstimateIntegration the option to exclude sales tax correctly sets the attribute to exclude sales tax from totals when specified in the params","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1977,"run_time":0.12724264,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:15:4]","description":"can be updated via a PUT request","full_description":"Api::EstimateIntegration the option to exclude sales tax can be updated via a PUT request","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1987,"run_time":0.15498985,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:15:5]","description":"cannot be updated once it is sent","full_description":"Api::EstimateIntegration the option to exclude sales tax cannot be updated once it is sent","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1999,"run_time":0.127247117,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:1]","description":"when viewing a bank account","full_description":"BankAccountsController when viewing a bank account","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":8,"run_time":1.241957282,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:3]","description":"viewing a bank account with an active non-MFA Yodlee bank feed that has a problematic service with an enabled feed","full_description":"BankAccountsController viewing a bank account with an active non-MFA Yodlee bank feed that has a problematic service with an enabled feed","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":31,"run_time":0.124953045,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:4]","description":"viewing a bank account with an active Yodlee MFA bank feed that has a problematic service","full_description":"BankAccountsController viewing a bank account with an active Yodlee MFA bank feed that has a problematic service","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":46,"run_time":0.182854178,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:5]","description":"viewing a bank account with an active Yodlee MFA bank feed that has an unavailable service","full_description":"BankAccountsController viewing a bank account with an active Yodlee MFA bank feed that has an unavailable service","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":62,"run_time":0.145480161,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:6]","description":"viewing a bank account with an active bank feed that has an unavailable service","full_description":"BankAccountsController viewing a bank account with an active bank feed that has an unavailable service","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":78,"run_time":0.116541098,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:12]","description":"does not show the PayPal Feed section on the New PayPal Account page when the company is whitelabelled","full_description":"BankAccountsController does not show the PayPal Feed section on the New PayPal Account page when the company is whitelabelled","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":483,"run_time":0.308284488,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:13]","description":"A non-practice managed company","full_description":"BankAccountsController A non-practice managed company","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":492,"run_time":0.135808283,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:16]","description":"is OK when viewing a bank account with a transaction with no bank_account_entry","full_description":"BankAccountsController is OK when viewing a bank account with a transaction with no bank_account_entry","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":675,"run_time":0.170513819,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:18]","description":"and when viewing the banking #index page with a whitelabelled company","full_description":"BankAccountsController and when viewing the banking #index page with a whitelabelled company","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":719,"run_time":0.335169658,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:19]","description":"and when uploading a bank statement while on the #index page","full_description":"BankAccountsController and when uploading a bank statement while on the #index page","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":740,"run_time":0.152374662,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:22]","description":"edit a bank account with a non-ASCII sort code","full_description":"BankAccountsController edit a bank account with a non-ASCII sort code","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":795,"run_time":0.130554917,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:2:1]","description":"does not assign the page view google analytics url after setup","full_description":"BankAccountsController viewing a bank account with a pending non-MFA yodlee feed does not assign the page view google analytics url after setup","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":25,"run_time":0.181424928,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:7:1]","description":"indicates the service is problematic and show the status message with an enabled feed","full_description":"BankAccountsController viewing a bank account with an active bank feed that has a problematic service indicates the service is problematic and show the status message with an enabled feed","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":99,"run_time":0.086138892,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:8:1]","description":"includes reconsent url","full_description":"BankAccountsController Viewing a bank account with an OpenBanking bank feed includes reconsent url","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":124,"run_time":0.160314505,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:8:2]","description":"includes bank name","full_description":"BankAccountsController Viewing a bank account with an OpenBanking bank feed includes bank name","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":131,"run_time":0.104898609,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:8:3]","description":"includes consent expiration information","full_description":"BankAccountsController Viewing a bank account with an OpenBanking bank feed includes consent expiration information","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":135,"run_time":0.111211694,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:9:1]","description":"with an active feed","full_description":"BankAccountsController editing a bank account with a bank feed with an active feed","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":143,"run_time":0.165003238,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:9:2]","description":"with a disabled feed","full_description":"BankAccountsController editing a bank account with a bank feed with a disabled feed","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":158,"run_time":0.180427558,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:10:1]","description":"shows all bank accounts","full_description":"BankAccountsController with a uk limited company's bank accounts from the fixtures shows all bank accounts","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":181,"run_time":0.104568521,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:10:2]","description":"shows unexplained transactions for bank account","full_description":"BankAccountsController with a uk limited company's bank accounts from the fixtures shows unexplained transactions for bank account","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":187,"run_time":0.153997399,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:10:3]","description":"shows new bank account form","full_description":"BankAccountsController with a uk limited company's bank accounts from the fixtures shows new bank account form","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":192,"run_time":0.117213053,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:10:4]","description":"shows new credit card form","full_description":"BankAccountsController with a uk limited company's bank accounts from the fixtures shows new credit card form","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":199,"run_time":0.120895946,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:10:6]","description":"creates bank account","full_description":"BankAccountsController with a uk limited company's bank accounts from the fixtures creates bank account","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":247,"run_time":0.089951839,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:10:7]","description":"creates paypal bank account","full_description":"BankAccountsController with a uk limited company's bank accounts from the fixtures creates paypal bank account","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":267,"run_time":0.088893065,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:10:8]","description":"creates credit card account","full_description":"BankAccountsController with a uk limited company's bank accounts from the fixtures creates credit card account","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":288,"run_time":0.086997563,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:10:9]","description":"creates primary bank account","full_description":"BankAccountsController with a uk limited company's bank accounts from the fixtures creates primary bank account","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":309,"run_time":0.195516062,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:10:10]","description":"shows edit form","full_description":"BankAccountsController with a uk limited company's bank accounts from the fixtures shows edit form","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":340,"run_time":0.141869821,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:10:11]","description":"redirects to the 'show' page for the template if the bank account is not editable","full_description":"BankAccountsController with a uk limited company's bank accounts from the fixtures redirects to the 'show' page for the template if the bank account is not editable","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":347,"run_time":0.088758068,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:10:12]","description":"shows edit form for a credit card","full_description":"BankAccountsController with a uk limited company's bank accounts from the fixtures shows edit form for a credit card","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":354,"run_time":0.162122716,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:10:13]","description":"does not display 'primary' checkbox when editing primary account","full_description":"BankAccountsController with a uk limited company's bank accounts from the fixtures does not display 'primary' checkbox when editing primary account","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":362,"run_time":0.12312733,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:10:14]","description":"shows 'primary' checkbox when editing non-primary account","full_description":"BankAccountsController with a uk limited company's bank accounts from the fixtures shows 'primary' checkbox when editing non-primary account","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":370,"run_time":0.156576241,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:10:15]","description":"shows a checkbox for guess_enabled","full_description":"BankAccountsController with a uk limited company's bank accounts from the fixtures shows a checkbox for guess_enabled","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":383,"run_time":0.168897358,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:10:16]","description":"displays 'show_on_invoices' checkbox when editing primary account","full_description":"BankAccountsController with a uk limited company's bank accounts from the fixtures displays 'show_on_invoices' checkbox when editing primary account","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":389,"run_time":0.14207842,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:10:17]","description":"displays 'show_on_invoices' checkbox when editing non-primary account","full_description":"BankAccountsController with a uk limited company's bank accounts from the fixtures displays 'show_on_invoices' checkbox when editing non-primary account","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":395,"run_time":0.154626116,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:10:18]","description":"updates bank account","full_description":"BankAccountsController with a uk limited company's bank accounts from the fixtures updates bank account","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":402,"run_time":0.072958376,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:10:19]","description":"shows the edit form if update was unsuccessful","full_description":"BankAccountsController with a uk limited company's bank accounts from the fixtures shows the edit form if update was unsuccessful","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":410,"run_time":0.121945611,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:10:20]","description":"destroys bank account with entries","full_description":"BankAccountsController with a uk limited company's bank accounts from the fixtures destroys bank account with entries","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":418,"run_time":0.040038555,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:10:21]","description":"allows a GoCardless bank account to be destroyed when the integration is disabled","full_description":"BankAccountsController with a uk limited company's bank accounts from the fixtures allows a GoCardless bank account to be destroyed when the integration is disabled","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":428,"run_time":0.129177814,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:10:22]","description":"last_upload","full_description":"BankAccountsController with a uk limited company's bank accounts from the fixtures last_upload","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":437,"run_time":0.148973052,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:10:23]","description":"does not show an option for cashflow","full_description":"BankAccountsController with a uk limited company's bank accounts from the fixtures does not show an option for cashflow","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":449,"run_time":0.117983494,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:10:5:1:1]","description":"is disabled with a zero opening balance value","full_description":"BankAccountsController with a uk limited company's bank accounts from the fixtures with a period locked company a new bank account form is disabled with a zero opening balance value","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":217,"run_time":0.223821706,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:10:5:1:2]","description":"shows a checkbox for guess_enabled, defaulting to true","full_description":"BankAccountsController with a uk limited company's bank accounts from the fixtures with a period locked company a new bank account form shows a checkbox for guess_enabled, defaulting to true","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":221,"run_time":0.241673761,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:10:5:2:1]","description":"is disabled with a zero opening balance value","full_description":"BankAccountsController with a uk limited company's bank accounts from the fixtures with a period locked company a new credit card account form is disabled with a zero opening balance value","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":229,"run_time":0.257812917,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:10:5:2:2]","description":"shows a checkbox for guess_enabled, defaulting to true","full_description":"BankAccountsController with a uk limited company's bank accounts from the fixtures with a period locked company a new credit card account form shows a checkbox for guess_enabled, defaulting to true","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":233,"run_time":0.254807264,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:10:5:3:1]","description":"is disabled with a zero opening balance value","full_description":"BankAccountsController with a uk limited company's bank accounts from the fixtures with a period locked company new paypal account form is disabled with a zero opening balance value","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":241,"run_time":0.212145433,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:11:1]","description":"is not able to delete that bank account","full_description":"BankAccountsController A freshly created company with a single bank account is not able to delete that bank account","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":464,"run_time":0.053451764,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:11:2:1]","description":"shows the delete account button on the secondary account's show page","full_description":"BankAccountsController A freshly created company with a single bank account having created a secondary account shows the delete account button on the secondary account's show page","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":476,"run_time":0.188263441,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:14:1]","description":"when viewing the default index page","full_description":"BankAccountsController A company with multiple bank accounts when viewing the default index page","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":514,"run_time":0.14956459,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:14:2]","description":"when viewing the index page with an account specified","full_description":"BankAccountsController A company with multiple bank accounts when viewing the index page with an account specified","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":526,"run_time":0.193562455,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:14:3]","description":"when viewing the index page with all accounts specified","full_description":"BankAccountsController A company with multiple bank accounts when viewing the index page with all accounts specified","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":538,"run_time":0.168923187,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:14:4]","description":"when viewing the index page with a series specified","full_description":"BankAccountsController A company with multiple bank accounts when viewing the index page with a series specified","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":550,"run_time":0.163826959,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:14:5]","description":"when viewing the index page with a series and account specified","full_description":"BankAccountsController A company with multiple bank accounts when viewing the index page with a series and account specified","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":562,"run_time":0.149415902,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:15:1]","description":"when getting balance_history.js for that bank account","full_description":"BankAccountsController A company with a bank account when getting balance_history.js for that bank account","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":577,"run_time":0.035962602,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:15:2]","description":"when getting balance_history.js for all bank accounts","full_description":"BankAccountsController A company with a bank account when getting balance_history.js for all bank accounts","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":585,"run_time":0.044253455,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:15:3:1]","description":"balance history uses FA start date as start date","full_description":"BankAccountsController A company with a bank account when FreeAgent start date is within the last 12 months balance history uses FA start date as start date","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":601,"run_time":0.152538519,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:15:4:1]","description":"displays a link to correct the upload when getting show","full_description":"BankAccountsController A company with a bank account with a new uploaded statement setting the credits and debits incorrectly displays a link to correct the upload when getting show","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":647,"run_time":0.176152347,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:15:4:2:1]","description":"does not display a link to correct the upload when getting show","full_description":"BankAccountsController A company with a bank account with a new uploaded statement setting the credits and debits incorrectly when at least one transaction has been explained does not display a link to correct the upload when getting show","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":660,"run_time":0.225426475,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:15:5:1]","description":"does not display a link to correct the upload when getting show","full_description":"BankAccountsController A company with a bank account with no uploaded statement does not display a link to correct the upload when getting show","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":668,"run_time":0.150908,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:17:1]","description":"displays the kb article links","full_description":"BankAccountsController and when viewing the banking #index page with a brand new company displays the kb article links","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":696,"run_time":0.148828322,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:17:2]","description":"displays information about bank feeds","full_description":"BankAccountsController and when viewing the banking #index page with a brand new company displays information about bank feeds","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":701,"run_time":0.153704529,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:17:3:1]","description":"does not display information about bank feeds","full_description":"BankAccountsController and when viewing the banking #index page with a brand new company if BankFeeds::AccessChecker#available_for_company? returns false on the bank account company does not display information about bank feeds","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":712,"run_time":0.219494125,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:20:1]","description":"displays a message telling the user that the statement uploaded with success","full_description":"BankAccountsController and when a bank statement upload completes successfully while on the #index page displays a message telling the user that the statement uploaded with success","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":771,"run_time":0.162647054,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:21:1]","description":"displays a message telling the user that there was an error","full_description":"BankAccountsController and when an error occurs when uploading a bank statement while on the #index page displays a message telling the user that there was an error","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":790,"run_time":0.192636671,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:23:1]","description":"renders the non-ASCII details correctly","full_description":"BankAccountsController Viewing a bank account with non-ASCII details renders the non-ASCII details correctly","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":816,"run_time":0.203159773,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:24:1]","description":"tracks events when enable_express_checkout is selected","full_description":"BankAccountsController PUT update when enabling paypal express checkout tracks events when enable_express_checkout is selected","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":828,"run_time":0.104792744,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:24:2]","description":"does not track any events when enable_express_checkout is not selected","full_description":"BankAccountsController PUT update when enabling paypal express checkout does not track any events when enable_express_checkout is not selected","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":839,"run_time":0.093088067,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:25:1]","description":"tracks events when enable_express_checkout is selected","full_description":"BankAccountsController POST create when enabling paypal express checkout tracks events when enable_express_checkout is selected","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":858,"run_time":0.077702199,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:25:2]","description":"does not track any events when enable_express_checkout is not selected","full_description":"BankAccountsController POST create when enabling paypal express checkout does not track any events when enable_express_checkout is not selected","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":871,"run_time":0.075674216,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:26:1]","description":"publishes the BANK_STATEMENT_UPLOADED event when the import is complete","full_description":"BankAccountsController GET index with an existing bank statement import publishes the BANK_STATEMENT_UPLOADED event when the import is complete","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":889,"run_time":0.155655646,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:26:2]","description":"does not track the BANK_STATEMENT_UPLOADED event when the import is not complete","full_description":"BankAccountsController GET index with an existing bank statement import does not track the BANK_STATEMENT_UPLOADED event when the import is not complete","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":896,"run_time":0.151006663,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:26:3]","description":"publishes the BANK_STATEMENT_UPLOAD_FAILED event when the import failed","full_description":"BankAccountsController GET index with an existing bank statement import publishes the BANK_STATEMENT_UPLOAD_FAILED event when the import failed","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":903,"run_time":0.146594136,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:26:4]","description":"does not track the BANK_STATEMENT_UPLOAD_FAILED event when the import did not fail","full_description":"BankAccountsController GET index with an existing bank statement import does not track the BANK_STATEMENT_UPLOAD_FAILED event when the import did not fail","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":909,"run_time":0.159851685,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:27:1:1]","description":"has a link to delete the bank account","full_description":"BankAccountsController GET #confirm_delete deletable bank account has a link to delete the bank account","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":925,"run_time":0.054644819,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:27:2:1]","description":"does not have a link to delete the bank account","full_description":"BankAccountsController GET #confirm_delete non-deletable bank account does not have a link to delete the bank account","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":937,"run_time":0.06528245,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:27:2:2]","description":"gives a list of reasons why the account cannot be deleted","full_description":"BankAccountsController GET #confirm_delete non-deletable bank account gives a list of reasons why the account cannot be deleted","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":942,"run_time":0.057413371,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:28:1:1]","description":"sets the staff_data instance variable","full_description":"BankAccountsController a company with multiple staff GET #show sets the staff_data instance variable","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":961,"run_time":0.192043539,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:29:1]","description":"returns matching bank accounts by name","full_description":"BankAccountsController autocomplete search for bank account returns matching bank accounts by name","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":992,"run_time":0.197350231,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:30:1:1:1]","description":"sets expiration_warning false","full_description":"BankAccountsController#index with an open banking feed with all active open banking consents sets expiration_warning false","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1019,"run_time":0.467882878,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:30:1:2:1]","description":"sets expiration_warning true","full_description":"BankAccountsController#index with an open banking feed with a consent that expires within 10 days sets expiration_warning true","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1027,"run_time":0.483903581,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:30:1:3:1]","description":"sets expiration_warning true","full_description":"BankAccountsController#index with an open banking feed with one expired consent sets expiration_warning true","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1035,"run_time":0.468744294,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:30:1:4:1]","description":"sets expiration_warning true","full_description":"BankAccountsController#index with an open banking feed with multiple expired consents sets expiration_warning true","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1044,"run_time":0.439537819,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:30:1:5:1]","description":"sets expiration_warning true","full_description":"BankAccountsController#index with an open banking feed with a mix of expiring and expired consents sets expiration_warning true","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1053,"run_time":0.469562171,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:30:2:1:1]","description":"sets expiration_warning true","full_description":"BankAccountsController#index with an API bank feed with an expired connection sets expiration_warning true","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1067,"run_time":0.160211475,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:30:2:2:1]","description":"sets expiration_warning true","full_description":"BankAccountsController#index with an API bank feed with a connection that's about to expire sets expiration_warning true","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1076,"run_time":0.145468261,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:30:2:3:1]","description":"sets expiration_warning false","full_description":"BankAccountsController#index with an API bank feed with an active connection sets expiration_warning false","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1085,"run_time":0.142522554,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:30:2:4:1]","description":"sets expiration_warning false","full_description":"BankAccountsController#index with an API bank feed with no sca_expires_at sets expiration_warning false","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1093,"run_time":0.130365154,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:30:3:1:1:1]","description":"sets expiration_warning false","full_description":"BankAccountsController#index with an API bank feed and an open banking feed with an active open banking consent with an active API bank feed connection sets expiration_warning false","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1110,"run_time":0.317842983,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:30:3:1:2:1]","description":"sets expiration_warning true","full_description":"BankAccountsController#index with an API bank feed and an open banking feed with an active open banking consent with an expired API bank feed connection sets expiration_warning true","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1119,"run_time":0.313952638,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:30:3:1:3:1]","description":"sets expiration_warning true","full_description":"BankAccountsController#index with an API bank feed and an open banking feed with an active open banking consent with an API bank feed connection that's about to expire sets expiration_warning true","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1128,"run_time":0.34863871,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:30:3:2:1:1]","description":"sets expiration_warning true","full_description":"BankAccountsController#index with an API bank feed and an open banking feed with an expired open banking consent with an active API bank feed connection sets expiration_warning true","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1141,"run_time":0.294360659,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:30:3:2:2:1]","description":"sets expiration_warning true","full_description":"BankAccountsController#index with an API bank feed and an open banking feed with an expired open banking consent with an expired API bank feed connection sets expiration_warning true","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1150,"run_time":0.291296266,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:30:3:2:3:1]","description":"sets expiration_warning true","full_description":"BankAccountsController#index with an API bank feed and an open banking feed with an expired open banking consent with an API bank feed connection that's about to expire sets expiration_warning true","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1159,"run_time":0.37339074,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:30:3:3:1:1]","description":"sets expiration_warning true","full_description":"BankAccountsController#index with an API bank feed and an open banking feed with an open banking consent which is about to expire with an active API bank feed connection sets expiration_warning true","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1172,"run_time":0.358538271,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:30:3:3:2:1]","description":"sets expiration_warning true","full_description":"BankAccountsController#index with an API bank feed and an open banking feed with an open banking consent which is about to expire with an expired API bank feed connection sets expiration_warning true","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1181,"run_time":0.351062535,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:30:3:3:3:1]","description":"sets expiration_warning true","full_description":"BankAccountsController#index with an API bank feed and an open banking feed with an open banking consent which is about to expire with an API bank feed connection that's about to expire sets expiration_warning true","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1190,"run_time":0.330581128,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:31:1]","description":"should show a 'Cancel' button","full_description":"BankAccountsController#new should show a 'Cancel' button","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1207,"run_time":0.112927026,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:31:2:1:1]","description":"has a 'Cancel' button that returns to the banking area","full_description":"BankAccountsController#new when a PayPal account is being created and the account creation flow was initiated from the Banking area has a 'Cancel' button that returns to the banking area","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1216,"run_time":0.119222329,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:31:2:2:1]","description":"has a 'Cancel' button that returns to the blank slate","full_description":"BankAccountsController#new when a PayPal account is being created and the account creation flow was initiated from the Connection \u0026 Add-ons area has a 'Cancel' button that returns to the blank slate","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1224,"run_time":0.107233516,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:32:1:1]","description":"should call check_tcf_eligibility","full_description":"BankAccountsController#create when a bank account is being created should call check_tcf_eligibility","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1256,"run_time":0.067519347,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:32:1:2]","description":"should redirect to the new bank account after it has been created","full_description":"BankAccountsController#create when a bank account is being created should redirect to the new bank account after it has been created","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1260,"run_time":0.068881607,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:32:2:1:1]","description":"should redirect to the new PayPal account after it has been created","full_description":"BankAccountsController#create when a PayPal account is being created and the account creation flow was initiated from the Banking area should redirect to the new PayPal account after it has been created","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1283,"run_time":0.061362564,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:32:2:2:1]","description":"should redirect to the blank slate so that the enabled modal is shown","full_description":"BankAccountsController#create when a PayPal account is being created and the account creation flow was initiated from the Connection \u0026 Add-ons area should redirect to the blank slate so that the enabled modal is shown","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1301,"run_time":0.066599008,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:33:1]","description":"should show a 'Cancel' button","full_description":"BankAccountsController#edit should show a 'Cancel' button","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1316,"run_time":0.165166416,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:34:1:1]","description":"should call check_tcf_eligibility","full_description":"BankAccountsController#update when a bank account is being updated should call check_tcf_eligibility","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1348,"run_time":0.072327479,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:34:1:2]","description":"should redirect to the bank account after it has been updated","full_description":"BankAccountsController#update when a bank account is being updated should redirect to the bank account after it has been updated","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1352,"run_time":0.066940698,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:34:2:1:1]","description":"should redirect to the PayPal account after it has been updated","full_description":"BankAccountsController#update when a PayPal account is being updated and the account update flow was initiated from the Banking area should redirect to the PayPal account after it has been updated","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1379,"run_time":0.081798947,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:35:1]","description":"should call display_tcf_eligible_notice","full_description":"BankAccountsController#show should call display_tcf_eligible_notice","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1399,"run_time":0.168924971,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:36:1:1]","description":"sets enabled_for_cash_flow_horizon on the bank account to true","full_description":"BankAccountsController#enabled_for_cash_flow_horizon when given a parameter of ?enabled=1 sets enabled_for_cash_flow_horizon on the bank account to true","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1415,"run_time":0.078147933,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:36:1:2]","description":"redirects to cashflow settings","full_description":"BankAccountsController#enabled_for_cash_flow_horizon when given a parameter of ?enabled=1 redirects to cashflow settings","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1421,"run_time":0.088360566,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:36:1:3:1]","description":"returns a 404","full_description":"BankAccountsController#enabled_for_cash_flow_horizon when given a parameter of ?enabled=1 given another user returns a 404","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1432,"run_time":0.229754608,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:36:2:1]","description":"sets enabled_for_cash_flow_horizon on the bank account to false","full_description":"BankAccountsController#enabled_for_cash_flow_horizon when given a parameter of ?enabled=0 sets enabled_for_cash_flow_horizon on the bank account to false","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1449,"run_time":0.090042102,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:36:2:2]","description":"redirects to cashflow settings","full_description":"BankAccountsController#enabled_for_cash_flow_horizon when given a parameter of ?enabled=0 redirects to cashflow settings","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1455,"run_time":0.07944645,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:36:2:3:1]","description":"returns a 404","full_description":"BankAccountsController#enabled_for_cash_flow_horizon when given a parameter of ?enabled=0 given another user returns a 404","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1466,"run_time":0.222224281,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:36:3:1]","description":"returns an error","full_description":"BankAccountsController#enabled_for_cash_flow_horizon when given no enabled parameter returns an error","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1483,"run_time":0.062217235,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_spec.rb[1:36:4:1]","description":"returns an error","full_description":"BankAccountsController#enabled_for_cash_flow_horizon when an invalid enabled returns an error","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_spec.rb","line_number":1499,"run_time":0.064508652,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/communication_settings_spec.rb[1:3]","description":"updating commercial propositions","full_description":"User updates their communication settings updating commercial propositions","status":"passed","file_path":"./spec/features/settings/communication_settings_spec.rb","line_number":58,"run_time":2.197774168,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/communication_settings_spec.rb[1:4]","description":"updating email notifications","full_description":"User updates their communication settings updating email notifications","status":"passed","file_path":"./spec/features/settings/communication_settings_spec.rb","line_number":75,"run_time":1.842498227,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/communication_settings_spec.rb[1:5]","description":"updating push notifications","full_description":"User updates their communication settings updating push notifications","status":"passed","file_path":"./spec/features/settings/communication_settings_spec.rb","line_number":98,"run_time":1.86218677,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/communication_settings_spec.rb[1:1:1]","description":"visiting the settings page","full_description":"User updates their communication settings as a user without permission to visit the communication settings page visiting the settings page","status":"passed","file_path":"./spec/features/settings/communication_settings_spec.rb","line_number":16,"run_time":0.607323428,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/communication_settings_spec.rb[1:2:1:1]","description":"doesn't show the preferences link or allow visiting the page","full_description":"User updates their communication settings as a user with permission to visit the communication settings page with no available settings doesn't show the preferences link or allow visiting the page","status":"passed","file_path":"./spec/features/settings/communication_settings_spec.rb","line_number":30,"run_time":1.212413123,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/communication_settings_spec.rb[1:2:2:1]","description":"shows the preferences link and allows visiting the page","full_description":"User updates their communication settings as a user with permission to visit the communication settings page with available settings shows the preferences link and allows visiting the page","status":"passed","file_path":"./spec/features/settings/communication_settings_spec.rb","line_number":44,"run_time":0.871612681,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/project_profit_and_loss/native_currencies.feature[1:1:1]","description":"Given the current date is 2019-07-18 -\u003e Given a UK Limited Company which was started on 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it starts using FreeAgent on 2019-01-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And the company has a project A -\u003e And the company has the following bank transactions: -\u003e And the company has the following bills: -\u003e And the company has the following expenses: -\u003e And the company has the following invoices: -\u003e Then the P\u0026L for 'Current Year to Date' for the project will be: -\u003e And its profit will be £1560","full_description":"Project Level Profit and Loss for projects in native currency Adding costs and income to native currency project (VAT Registered) Given the current date is 2019-07-18 -\u003e Given a UK Limited Company which was started on 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it starts using FreeAgent on 2019-01-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And the company has a project A -\u003e And the company has the following bank transactions: -\u003e And the company has the following bills: -\u003e And the company has the following expenses: -\u003e And the company has the following invoices: -\u003e Then the P\u0026L for 'Current Year to Date' for the project will be: -\u003e And its profit will be £1560","status":"passed","file_path":"./spec/acceptance/project_profit_and_loss/native_currencies.feature","line_number":6,"run_time":1.225236332,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/project_profit_and_loss/native_currencies.feature[1:2:1]","description":"Given the current date is 2019-07-18 -\u003e Given a UK Limited Company which was started on 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it starts using FreeAgent on 2019-01-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And the company has a project A -\u003e And the company has a project B -\u003e And there is a custom income account with code \"002\" and name \"Secret Sales\" -\u003e And project A has a multi-project invoice that looks like: -\u003e Then the P\u0026L for 'Current Year to Date' for project A will be: -\u003e And the P\u0026L for 'Current Year to Date' for project B will be:","full_description":"Project Level Profit and Loss for projects in native currency Adding income that goes into different categories onto one invoice that is split across two projects (VAT Registered) Given the current date is 2019-07-18 -\u003e Given a UK Limited Company which was started on 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it starts using FreeAgent on 2019-01-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And the company has a project A -\u003e And the company has a project B -\u003e And there is a custom income account with code \"002\" and name \"Secret Sales\" -\u003e And project A has a multi-project invoice that looks like: -\u003e Then the P\u0026L for 'Current Year to Date' for project A will be: -\u003e And the P\u0026L for 'Current Year to Date' for project B will be:","status":"passed","file_path":"./spec/acceptance/project_profit_and_loss/native_currencies.feature","line_number":34,"run_time":1.186384683,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/project_profit_and_loss/native_currencies.feature[1:3:1]","description":"Given the current date is 2019-07-18 -\u003e Given a UK Limited Company which was started on 2018-01-01 -\u003e And its first accounting year ends on 2018-12-31 -\u003e And it starts using FreeAgent on 2019-01-01 -\u003e And it is VAT registered from 2018-01-01 -\u003e And it is Invoice accounting for VAT, on the \"Limited cost trader\" flat rate scheme -\u003e And the company has a project A -\u003e And the company has the following bank transactions: -\u003e And the company has the following bills: -\u003e And the company has the following expenses: -\u003e And the company has the following invoices: -\u003e Then the P\u0026L for 'Current Year to Date' for the project will be: -\u003e And its profit will be £1476","full_description":"Project Level Profit and Loss for projects in native currency Adding costs and income to native currency project (VAT Registered Invoice basis FRS) Given the current date is 2019-07-18 -\u003e Given a UK Limited Company which was started on 2018-01-01 -\u003e And its first accounting year ends on 2018-12-31 -\u003e And it starts using FreeAgent on 2019-01-01 -\u003e And it is VAT registered from 2018-01-01 -\u003e And it is Invoice accounting for VAT, on the \"Limited cost trader\" flat rate scheme -\u003e And the company has a project A -\u003e And the company has the following bank transactions: -\u003e And the company has the following bills: -\u003e And the company has the following expenses: -\u003e And the company has the following invoices: -\u003e Then the P\u0026L for 'Current Year to Date' for the project will be: -\u003e And its profit will be £1476","status":"passed","file_path":"./spec/acceptance/project_profit_and_loss/native_currencies.feature","line_number":59,"run_time":1.119969997,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/project_profit_and_loss/native_currencies.feature[1:4:1]","description":"Given the current date is 2019-07-18 -\u003e Given a UK Limited Company which was started on 2018-01-01 -\u003e And its first accounting year ends on 2018-12-31 -\u003e And it starts using FreeAgent on 2019-01-01 -\u003e And it is VAT registered from 2018-01-01 -\u003e And it is Cash accounting for VAT, on the \"Limited cost trader\" flat rate scheme -\u003e And the company has a project A -\u003e And the company has the following bank transactions: -\u003e And the company has the following bills: -\u003e And the company has the following expenses: -\u003e And the company has the following invoices: -\u003e Then the P\u0026L for 'Current Year to Date' for the project will be: -\u003e And its profit will be £1474","full_description":"Project Level Profit and Loss for projects in native currency Adding costs and income to native currency project (VAT Registered Cash basis FRS) Given the current date is 2019-07-18 -\u003e Given a UK Limited Company which was started on 2018-01-01 -\u003e And its first accounting year ends on 2018-12-31 -\u003e And it starts using FreeAgent on 2019-01-01 -\u003e And it is VAT registered from 2018-01-01 -\u003e And it is Cash accounting for VAT, on the \"Limited cost trader\" flat rate scheme -\u003e And the company has a project A -\u003e And the company has the following bank transactions: -\u003e And the company has the following bills: -\u003e And the company has the following expenses: -\u003e And the company has the following invoices: -\u003e Then the P\u0026L for 'Current Year to Date' for the project will be: -\u003e And its profit will be £1474","status":"passed","file_path":"./spec/acceptance/project_profit_and_loss/native_currencies.feature","line_number":89,"run_time":1.507498386,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/project_profit_and_loss/native_currencies.feature[1:5:1]","description":"Given the current date is 2019-07-18 -\u003e Given a UK Limited Company which was started on 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it starts using FreeAgent on 2019-01-01 -\u003e And the company has a project A -\u003e And the company has the following bank transactions: -\u003e And the company has the following bills: -\u003e And the company has the following expenses: -\u003e And the company has the following invoices: -\u003e Then the P\u0026L for 'Current Year to Date' for the project will be: -\u003e And its profit will be £1472","full_description":"Project Level Profit and Loss for projects in native currency Adding costs and income to native currency project (Not VAT Registered) Given the current date is 2019-07-18 -\u003e Given a UK Limited Company which was started on 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it starts using FreeAgent on 2019-01-01 -\u003e And the company has a project A -\u003e And the company has the following bank transactions: -\u003e And the company has the following bills: -\u003e And the company has the following expenses: -\u003e And the company has the following invoices: -\u003e Then the P\u0026L for 'Current Year to Date' for the project will be: -\u003e And its profit will be £1472","status":"passed","file_path":"./spec/acceptance/project_profit_and_loss/native_currencies.feature","line_number":120,"run_time":0.726673353,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/project_profit_and_loss/native_currencies.feature[1:6:1]","description":"Given the current date is 2019-07-18 -\u003e Given a Universal Company which was started on 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it starts using FreeAgent on 2019-01-01 -\u003e And the company has a project A -\u003e And the company has the following bank transactions: -\u003e And the company has the following bills: -\u003e And the company has the following expenses: -\u003e And the company has the following invoices: -\u003e Then the P\u0026L for 'Current Year to Date' for the project will be: -\u003e And its profit will be $1472","full_description":"Project Level Profit and Loss for projects in native currency Adding costs and income to native currency project (Universal, Not VAT Registered) Given the current date is 2019-07-18 -\u003e Given a Universal Company which was started on 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it starts using FreeAgent on 2019-01-01 -\u003e And the company has a project A -\u003e And the company has the following bank transactions: -\u003e And the company has the following bills: -\u003e And the company has the following expenses: -\u003e And the company has the following invoices: -\u003e Then the P\u0026L for 'Current Year to Date' for the project will be: -\u003e And its profit will be $1472","status":"passed","file_path":"./spec/acceptance/project_profit_and_loss/native_currencies.feature","line_number":146,"run_time":0.716659246,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/project_profit_and_loss/native_currencies.feature[1:7:1]","description":"Given the current date is 2019-07-18 -\u003e Given a Universal Company which was started on 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it starts using FreeAgent on 2019-01-01 -\u003e And it is registered for PST sales tax at 3%, 6%, 9% from 2019-01-01 -\u003e And sales tax is value added from 2019-01-01 -\u003e And the company has a project A -\u003e And the company has the following bank transactions: -\u003e And the company has the following bills: -\u003e And the company has the following expenses: -\u003e And the company has the following invoices: -\u003e Then the P\u0026L for 'Current Year to Date' for the project will be: -\u003e And its profit will be $1486","full_description":"Project Level Profit and Loss for projects in native currency Adding costs and income to native currency project (Universal, VAT Registered) Given the current date is 2019-07-18 -\u003e Given a Universal Company which was started on 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it starts using FreeAgent on 2019-01-01 -\u003e And it is registered for PST sales tax at 3%, 6%, 9% from 2019-01-01 -\u003e And sales tax is value added from 2019-01-01 -\u003e And the company has a project A -\u003e And the company has the following bank transactions: -\u003e And the company has the following bills: -\u003e And the company has the following expenses: -\u003e And the company has the following invoices: -\u003e Then the P\u0026L for 'Current Year to Date' for the project will be: -\u003e And its profit will be $1486","status":"passed","file_path":"./spec/acceptance/project_profit_and_loss/native_currencies.feature","line_number":173,"run_time":1.488281434,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/project_profit_and_loss/native_currencies.feature[1:8:1]","description":"Given the current date is 2019-07-18 -\u003e Given a Universal Company which was started on 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it starts using FreeAgent on 2019-01-01 -\u003e And it is registered for PST sales tax at 3%, 6%, 9% from 2019-01-01 -\u003e And it is registered for SST second sales tax at 2%, 4%, 6% compound from 2019-01-01 -\u003e And sales tax is value added from 2019-01-01 -\u003e And the company has a project A -\u003e And the company has the following bank transactions: -\u003e And the company has the following bills: -\u003e And the company has the following expenses: -\u003e And the company has the following invoices: -\u003e Then the P\u0026L for 'Current Year to Date' for the project will be: -\u003e And its profit will be $1486","full_description":"Project Level Profit and Loss for projects in native currency Adding costs and income to native currency project (Universal, VAT Registered, Second Sales Tax Rate) Given the current date is 2019-07-18 -\u003e Given a Universal Company which was started on 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it starts using FreeAgent on 2019-01-01 -\u003e And it is registered for PST sales tax at 3%, 6%, 9% from 2019-01-01 -\u003e And it is registered for SST second sales tax at 2%, 4%, 6% compound from 2019-01-01 -\u003e And sales tax is value added from 2019-01-01 -\u003e And the company has a project A -\u003e And the company has the following bank transactions: -\u003e And the company has the following bills: -\u003e And the company has the following expenses: -\u003e And the company has the following invoices: -\u003e Then the P\u0026L for 'Current Year to Date' for the project will be: -\u003e And its profit will be $1486","status":"passed","file_path":"./spec/acceptance/project_profit_and_loss/native_currencies.feature","line_number":202,"run_time":0.781072226,"pending_message":null,"screenshot":null},{"id":"./spec/requests/admin/admin_companies_integration_spec.rb[1:1:1]","description":"viewing the index page","full_description":"AdminCompaniesIntegration When using the admin companies page viewing the index page","status":"passed","file_path":"./spec/requests/admin/admin_companies_integration_spec.rb","line_number":16,"run_time":1.757478775,"pending_message":null,"screenshot":null},{"id":"./spec/requests/admin/admin_companies_integration_spec.rb[1:1:2:1:1]","description":"displays today's activation breakdown","full_description":"AdminCompaniesIntegration When using the admin companies page viewing the activations table with new activations displays today's activation breakdown","status":"passed","file_path":"./spec/requests/admin/admin_companies_integration_spec.rb","line_number":32,"run_time":0.918124683,"pending_message":null,"screenshot":null},{"id":"./spec/requests/admin/admin_companies_integration_spec.rb[1:1:2:1:2]","description":"displays a table of activations per channel","full_description":"AdminCompaniesIntegration When using the admin companies page viewing the activations table with new activations displays a table of activations per channel","status":"passed","file_path":"./spec/requests/admin/admin_companies_integration_spec.rb","line_number":38,"run_time":0.976977718,"pending_message":null,"screenshot":null},{"id":"./spec/requests/admin/admin_companies_integration_spec.rb[1:1:2:2:1]","description":"shows a blank slate message","full_description":"AdminCompaniesIntegration When using the admin companies page viewing the activations table with no new activations shows a blank slate message","status":"passed","file_path":"./spec/requests/admin/admin_companies_integration_spec.rb","line_number":55,"run_time":0.94232154,"pending_message":null,"screenshot":null},{"id":"./spec/requests/admin/admin_companies_integration_spec.rb[1:1:3:1:1]","description":"displays that company in the results","full_description":"AdminCompaniesIntegration When using the admin companies page searching for an existing company by subdomain displays that company in the results","status":"passed","file_path":"./spec/requests/admin/admin_companies_integration_spec.rb","line_number":68,"run_time":1.067746372,"pending_message":null,"screenshot":null},{"id":"./spec/requests/admin/admin_companies_integration_spec.rb[1:1:3:2:1]","description":"displays that company in the results","full_description":"AdminCompaniesIntegration When using the admin companies page searching for an existing company by name displays that company in the results","status":"passed","file_path":"./spec/requests/admin/admin_companies_integration_spec.rb","line_number":78,"run_time":1.012902665,"pending_message":null,"screenshot":null},{"id":"./spec/requests/admin/admin_companies_integration_spec.rb[1:1:4:1]","description":"displays nothing in the results","full_description":"AdminCompaniesIntegration When using the admin companies page searching for a missing company displays nothing in the results","status":"passed","file_path":"./spec/requests/admin/admin_companies_integration_spec.rb","line_number":89,"run_time":0.996108297,"pending_message":null,"screenshot":null},{"id":"./spec/requests/admin/admin_companies_integration_spec.rb[1:1:5:1]","description":"is remembered","full_description":"AdminCompaniesIntegration When using the admin companies page the entrypoint is remembered","status":"passed","file_path":"./spec/requests/admin/admin_companies_integration_spec.rb","line_number":102,"run_time":0.908112877,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:1]","description":"has correct reseller names","full_description":"Reseller has correct reseller names","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":7,"run_time":0.005111967,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:2]","description":"throws a FK exception when creating a company with an invalid reseller","full_description":"Reseller throws a FK exception when creating a company with an invalid reseller","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":17,"run_time":0.032944906,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:3]","description":"has a secure code","full_description":"Reseller has a secure code","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":25,"run_time":0.005009275,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:4]","description":"is findable by secure code","full_description":"Reseller is findable by secure code","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":29,"run_time":0.008705612,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:5:1]","description":"is expected to validate that :name is case-sensitively unique","full_description":"Reseller BCSG is expected to validate that :name is case-sensitively unique","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":34,"run_time":0.013207243,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:5:2]","description":"includes a count of active resold companies in a reseller report","full_description":"Reseller BCSG includes a count of active resold companies in a reseller report","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":36,"run_time":0.452416499,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:5:3]","description":"does not include test companies in a reseller report count","full_description":"Reseller BCSG does not include test companies in a reseller report count","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":42,"run_time":0.107845955,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:5:4]","description":"does not include cancelled resold companies in a reseller report count","full_description":"Reseller BCSG does not include cancelled resold companies in a reseller report count","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":47,"run_time":0.511651288,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:5:6]","description":"orders active companies by creation date","full_description":"Reseller BCSG orders active companies by creation date","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":84,"run_time":0.305302402,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:5:5:1]","description":"considers free trials to be active","full_description":"Reseller BCSG with a free trial, a couple of subscribed companies, a cancelled company and a test company considers free trials to be active","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":62,"run_time":0.849515611,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:5:5:2]","description":"considers subscribed companies to be active","full_description":"Reseller BCSG with a free trial, a couple of subscribed companies, a cancelled company and a test company considers subscribed companies to be active","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":66,"run_time":0.771855787,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:5:5:3]","description":"does not consider cancelled companies to be active","full_description":"Reseller BCSG with a free trial, a couple of subscribed companies, a cancelled company and a test company does not consider cancelled companies to be active","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":70,"run_time":0.7993622,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:5:5:4]","description":"does not consider otherwise active companies called 'BCSG' to be active","full_description":"Reseller BCSG with a free trial, a couple of subscribed companies, a cancelled company and a test company does not consider otherwise active companies called 'BCSG' to be active","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":74,"run_time":0.829634228,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:5:5:5]","description":"correctly counts the number of active companies for the reseller","full_description":"Reseller BCSG with a free trial, a couple of subscribed companies, a cancelled company and a test company correctly counts the number of active companies for the reseller","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":78,"run_time":0.77876504,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:6:1:1]","description":"correctly computes counts of active companies for each reseller","full_description":"Reseller mixed collection of resellers .reports correctly computes counts of active companies for each reseller","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":108,"run_time":0.831673132,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:6:2:1]","description":"lists companies that have been resold by a reseller","full_description":"Reseller mixed collection of resellers #active_companies lists companies that have been resold by a reseller","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":116,"run_time":0.804840241,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:6:2:2]","description":"lists companies that have been resold by an RBSG reseller","full_description":"Reseller mixed collection of resellers #active_companies lists companies that have been resold by an RBSG reseller","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":120,"run_time":0.815117477,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:7:1]","description":"returns true for the four RBSG resellers (Natwest, Royal Bank of Scotland, Mettle, Ulster Bank)","full_description":"Reseller#rbsg? returns true for the four RBSG resellers (Natwest, Royal Bank of Scotland, Mettle, Ulster Bank)","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":127,"run_time":0.005377424,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:7:2]","description":"returns false for other Resellers","full_description":"Reseller#rbsg? returns false for other Resellers","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":134,"run_time":0.003076276,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:8:1:1]","description":"is expected to have attributes {:name =\u003e \"Royal Bank of Scotland\"}","full_description":"Reseller#rbsg_brand RBSG reseller is expected to have attributes {:name =\u003e \"Royal Bank of Scotland\"}","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":143,"run_time":0.006634205,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:8:2:1]","description":"is expected to eq nil","full_description":"Reseller#rbsg_brand non-RBSG reseller is expected to eq nil","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":149,"run_time":0.00656031,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:9:1:1]","description":"is expected to be mettle","full_description":"Reseller#mettle? Mettle reseller is expected to be mettle","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":157,"run_time":0.007987451,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:9:2:1]","description":"is expected not to be mettle","full_description":"Reseller#mettle? RBS reseller is expected not to be mettle","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":163,"run_time":0.007855345,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:10:1:1]","description":"is expected to be ulster bank","full_description":"Reseller#ulster_bank? Ulster Bank reseller is expected to be ulster bank","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":171,"run_time":0.007182922,"pending_message":null,"screenshot":null},{"id":"./spec/models/reseller_spec.rb[1:10:2:1]","description":"is expected not to be ulster bank","full_description":"Reseller#ulster_bank? RBS reseller is expected not to be ulster bank","status":"passed","file_path":"./spec/models/reseller_spec.rb","line_number":177,"run_time":0.007802982,"pending_message":null,"screenshot":null},{"id":"./spec/features/bank_feeds/yodlee_feed_spec.rb[1:1]","description":"from blank slate","full_description":"Enable Yodlee Feed from blank slate","status":"passed","file_path":"./spec/features/bank_feeds/yodlee_feed_spec.rb","line_number":16,"run_time":3.534540326,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:1:1]","description":"has a applies? class method","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions behaves like an admin todo item has a applies? class method","status":"passed","file_path":"./spec/support/shared_examples/admin_todo_items.rb","line_number":4,"run_time":0.045314395,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:1:2]","description":"has a done? method","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions behaves like an admin todo item has a done? method","status":"passed","file_path":"./spec/support/shared_examples/admin_todo_items.rb","line_number":8,"run_time":0.033375394,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:1:3]","description":"has an active? method","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions behaves like an admin todo item has an active? method","status":"passed","file_path":"./spec/support/shared_examples/admin_todo_items.rb","line_number":12,"run_time":0.036273312,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:1:4]","description":"has a message description","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions behaves like an admin todo item has a message description","status":"passed","file_path":"./spec/support/shared_examples/admin_todo_items.rb","line_number":16,"run_time":0.033596325,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:1:5]","description":"has a url method","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions behaves like an admin todo item has a url method","status":"passed","file_path":"./spec/support/shared_examples/admin_todo_items.rb","line_number":20,"run_time":0.033670963,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:1:6]","description":"has a track_action method","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions behaves like an admin todo item has a track_action method","status":"passed","file_path":"./spec/support/shared_examples/admin_todo_items.rb","line_number":24,"run_time":0.029362972,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:1:7]","description":"has a type method","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions behaves like an admin todo item has a type method","status":"passed","file_path":"./spec/support/shared_examples/admin_todo_items.rb","line_number":28,"run_time":0.031749277,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:1:8]","description":"has a details method","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions behaves like an admin todo item has a details method","status":"passed","file_path":"./spec/support/shared_examples/admin_todo_items.rb","line_number":32,"run_time":0.028516329,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:1:9]","description":"has a should_renotify_users? method","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions behaves like an admin todo item has a should_renotify_users? method","status":"passed","file_path":"./spec/support/shared_examples/admin_todo_items.rb","line_number":36,"run_time":0.029026012,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:1:10]","description":"has a min_user_level method","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions behaves like an admin todo item has a min_user_level method","status":"passed","file_path":"./spec/support/shared_examples/admin_todo_items.rb","line_number":40,"run_time":0.031732354,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:1:11]","description":"has a display_priority method with a value in range","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions behaves like an admin todo item has a display_priority method with a value in range","status":"passed","file_path":"./spec/support/shared_examples/admin_todo_items.rb","line_number":44,"run_time":0.030367059,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:1:12]","description":"has a should_notify? method","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions behaves like an admin todo item has a should_notify? method","status":"passed","file_path":"./spec/support/shared_examples/admin_todo_items.rb","line_number":48,"run_time":0.033878545,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:2:1]","description":"is true given a correct dependency type","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions.applies? is true given a correct dependency type","status":"passed","file_path":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb","line_number":24,"run_time":0.034886117,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:2:2:1]","description":"is false","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions.applies? given an incorrect dependency type is false","status":"passed","file_path":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb","line_number":30,"run_time":0.166992678,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:3:1]","description":"is expected to eq \"explain_transactions\"","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions#view_type is expected to eq \"explain_transactions\"","status":"passed","file_path":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb","line_number":38,"run_time":0.036878543,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:4:1:1]","description":"is expected to eq \"Explain 1 Natwest bank transaction\"","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions#description with one unexplained transaction is expected to eq \"Explain 1 Natwest bank transaction\"","status":"passed","file_path":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb","line_number":49,"run_time":0.130496404,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:4:2:1]","description":"is expected to eq \"Explain 2 Natwest bank transactions\"","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions#description with more than one transaction is expected to eq \"Explain 2 Natwest bank transactions\"","status":"passed","file_path":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb","line_number":54,"run_time":0.182291348,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:4:3:1]","description":"is expected to eq \"All Natwest bank transactions explained\"","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions#description when the todo item is completed is expected to eq \"All Natwest bank transactions explained\"","status":"passed","file_path":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb","line_number":59,"run_time":0.141568533,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:5:1]","description":"is expected to match /\\/bank_accounts\\/\\d+\\?type=unexplained\u0026view=all/","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions#url is expected to match /\\/bank_accounts\\/\\d+\\?type=unexplained\u0026view=all/","status":"passed","file_path":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb","line_number":65,"run_time":0.031839701,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:6:1]","description":"is expected to eq \"ADMIN_TODO_EXPLAIN_TRANSACTIONS\"","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions#track_action is expected to eq \"ADMIN_TODO_EXPLAIN_TRANSACTIONS\"","status":"passed","file_path":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb","line_number":70,"run_time":0.029347586,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:7:1:1]","description":"is expected to eq 1","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions#transaction_count with one unexplained transaction is expected to eq 1","status":"passed","file_path":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb","line_number":78,"run_time":0.11780474,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:7:2:1]","description":"is expected to eq 2","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions#transaction_count with more than one transaction is expected to eq 2","status":"passed","file_path":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb","line_number":83,"run_time":0.189024301,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:8:1:1]","description":"is expected to eq {:count=\u003e0}","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions#calculated_details with no added transactions is expected to eq {:count=\u003e0}","status":"passed","file_path":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb","line_number":91,"run_time":0.040157167,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:8:2:1]","description":"is expected to eq {:count=\u003e1}","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions#calculated_details when there is one unexplained transactions is expected to eq {:count=\u003e1}","status":"passed","file_path":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb","line_number":96,"run_time":0.120996009,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:8:3:1]","description":"is expected to eq {:count=\u003e2}","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions#calculated_details when there are two unexplained transactions is expected to eq {:count=\u003e2}","status":"passed","file_path":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb","line_number":105,"run_time":0.180760718,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:9:1:1]","description":"is expected to equal false","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions#active? when there are no unexplained explained is expected to equal false","status":"passed","file_path":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb","line_number":114,"run_time":0.131683237,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:9:2:1]","description":"is expected to equal true","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions#active? when there are unexplained transactions is expected to equal true","status":"passed","file_path":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb","line_number":119,"run_time":0.258141447,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:9:3:1]","description":"is expected to equal false","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions#active? when the unexplained transaction is locked is expected to equal false","status":"passed","file_path":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb","line_number":130,"run_time":0.219144896,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:10:1:1]","description":"is expected to equal true","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions#should_renotify_users? and the new details have more transactions is expected to equal true","status":"passed","file_path":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb","line_number":147,"run_time":0.01849396,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:10:2:1]","description":"is expected to equal false","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions#should_renotify_users? and the new details have the same number of transactions is expected to equal false","status":"passed","file_path":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb","line_number":153,"run_time":0.015640802,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:10:3:1]","description":"is expected to equal false","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions#should_renotify_users? and the new details have fewer transactions is expected to equal false","status":"passed","file_path":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb","line_number":158,"run_time":0.016066948,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:10:4:1]","description":"doesn't raise an error","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions#should_renotify_users? when new details is calculated using calculated details doesn't raise an error","status":"passed","file_path":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb","line_number":164,"run_time":0.015170054,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:11:1]","description":"is expected to eq 7","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions#min_user_level is expected to eq 7","status":"passed","file_path":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb","line_number":174,"run_time":0.0317734,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:12:1:1]","description":"persists the todos and returns the correct admin to do","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions admin todo manager integration with an unexplained transaction persists the todos and returns the correct admin to do","status":"passed","file_path":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb","line_number":205,"run_time":0.261310243,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:12:1:2:1]","description":"updates the admin todo item","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions admin todo manager integration with an unexplained transaction when the number of unexplained transactions changes updates the admin todo item","status":"passed","file_path":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb","line_number":225,"run_time":0.351265954,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:12:1:3:1]","description":"persists the todos and returns the correct admin to do","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions admin todo manager integration with an unexplained transaction with an account manager persists the todos and returns the correct admin to do","status":"passed","file_path":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb","line_number":248,"run_time":0.27052584,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:12:1:4:1]","description":"doesn't persist any todos","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions admin todo manager integration with an unexplained transaction with a user who doesn't have permission to view the admin todo list doesn't persist any todos","status":"passed","file_path":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb","line_number":265,"run_time":0.239851856,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb[1:12:2:1]","description":"persists the todos and returns the correct admin to do","full_description":"Radar::TodoItems::AccountWithUnexplainedTransactions admin todo manager integration with a transaction for review another unexplained persists the todos and returns the correct admin to do","status":"passed","file_path":"./spec/models/radar/todo_items/account_with_unexplained_transactions_spec.rb","line_number":277,"run_time":0.242406623,"pending_message":null,"screenshot":null},{"id":"./spec/features/admin/migrate_to_fapdrbsg_spec.rb[1:1]","description":"migrates successfully","full_description":"Migrate from RBSG to FAPDRBSG migrates successfully","status":"passed","file_path":"./spec/features/admin/migrate_to_fapdrbsg_spec.rb","line_number":10,"run_time":2.463851132,"pending_message":null,"screenshot":null},{"id":"./spec/features/admin/migrate_to_fapdrbsg_spec.rb[1:2]","description":"does not show the link for practice managed subscriptions","full_description":"Migrate from RBSG to FAPDRBSG does not show the link for practice managed subscriptions","status":"passed","file_path":"./spec/features/admin/migrate_to_fapdrbsg_spec.rb","line_number":42,"run_time":1.214040094,"pending_message":null,"screenshot":null},{"id":"./spec/models/paypal/paypal_feed_spec.rb[1:14]","description":"includes foreign currency refunds which have been held","full_description":"Paypal::PaypalFeed includes foreign currency refunds which have been held","status":"passed","file_path":"./spec/models/paypal/paypal_feed_spec.rb","line_number":477,"run_time":0.038082529,"pending_message":null,"screenshot":null},{"id":"./spec/models/paypal/paypal_feed_spec.rb[1:15]","description":"handles an empty search result","full_description":"Paypal::PaypalFeed handles an empty search result","status":"passed","file_path":"./spec/models/paypal/paypal_feed_spec.rb","line_number":499,"run_time":0.033638765,"pending_message":null,"screenshot":null},{"id":"./spec/models/paypal/paypal_feed_spec.rb[1:1:1]","description":"should return the transaction","full_description":"Paypal::PaypalFeed An account with one GBP transaction should return the transaction","status":"passed","file_path":"./spec/models/paypal/paypal_feed_spec.rb","line_number":52,"run_time":0.143902059,"pending_message":null,"screenshot":null},{"id":"./spec/models/paypal/paypal_feed_spec.rb[1:2:1]","description":"should return one transaction","full_description":"Paypal::PaypalFeed An account with foreign currency transactions should return one transaction","status":"passed","file_path":"./spec/models/paypal/paypal_feed_spec.rb","line_number":88,"run_time":0.143655202,"pending_message":null,"screenshot":null},{"id":"./spec/models/paypal/paypal_feed_spec.rb[1:2:2]","description":"should convert the amount to GBP","full_description":"Paypal::PaypalFeed An account with foreign currency transactions should convert the amount to GBP","status":"passed","file_path":"./spec/models/paypal/paypal_feed_spec.rb","line_number":92,"run_time":0.153667366,"pending_message":null,"screenshot":null},{"id":"./spec/models/paypal/paypal_feed_spec.rb[1:3:1]","description":"should return one transaction","full_description":"Paypal::PaypalFeed An account with foreign expense should return one transaction","status":"passed","file_path":"./spec/models/paypal/paypal_feed_spec.rb","line_number":130,"run_time":0.133869281,"pending_message":null,"screenshot":null},{"id":"./spec/models/paypal/paypal_feed_spec.rb[1:3:2]","description":"should convert the amount to GBP","full_description":"Paypal::PaypalFeed An account with foreign expense should convert the amount to GBP","status":"passed","file_path":"./spec/models/paypal/paypal_feed_spec.rb","line_number":134,"run_time":0.132404191,"pending_message":null,"screenshot":null},{"id":"./spec/models/paypal/paypal_feed_spec.rb[1:4:1]","description":"should return one transaction","full_description":"Paypal::PaypalFeed An account with an out-of-order foreign expense should return one transaction","status":"passed","file_path":"./spec/models/paypal/paypal_feed_spec.rb","line_number":165,"run_time":0.141980695,"pending_message":null,"screenshot":null},{"id":"./spec/models/paypal/paypal_feed_spec.rb[1:4:2]","description":"should convert the amount to GBP","full_description":"Paypal::PaypalFeed An account with an out-of-order foreign expense should convert the amount to GBP","status":"passed","file_path":"./spec/models/paypal/paypal_feed_spec.rb","line_number":169,"run_time":0.147054541,"pending_message":null,"screenshot":null},{"id":"./spec/models/paypal/paypal_feed_spec.rb[1:5:1]","description":"should return one transaction","full_description":"Paypal::PaypalFeed An account with another case of out-of-order foreign expense should return one transaction","status":"passed","file_path":"./spec/models/paypal/paypal_feed_spec.rb","line_number":199,"run_time":0.166562976,"pending_message":null,"screenshot":null},{"id":"./spec/models/paypal/paypal_feed_spec.rb[1:5:2]","description":"should convert the amount to GBP","full_description":"Paypal::PaypalFeed An account with another case of out-of-order foreign expense should convert the amount to GBP","status":"passed","file_path":"./spec/models/paypal/paypal_feed_spec.rb","line_number":203,"run_time":0.145260473,"pending_message":null,"screenshot":null},{"id":"./spec/models/paypal/paypal_feed_spec.rb[1:6:1]","description":"should return no transactions","full_description":"Paypal::PaypalFeed An account with an incomplete currency conversion should return no transactions","status":"passed","file_path":"./spec/models/paypal/paypal_feed_spec.rb","line_number":224,"run_time":0.14996631,"pending_message":null,"screenshot":null},{"id":"./spec/models/paypal/paypal_feed_spec.rb[1:7:1:1]","description":"has a transaction to cover the conversion","full_description":"Paypal::PaypalFeed An account with a transaction paid by partial currency conversion USD account has a transaction to cover the conversion","status":"passed","file_path":"./spec/models/paypal/paypal_feed_spec.rb","line_number":286,"run_time":0.159160284,"pending_message":null,"screenshot":null},{"id":"./spec/models/paypal/paypal_feed_spec.rb[1:7:2:1]","description":"has another transaction to make up the difference","full_description":"Paypal::PaypalFeed An account with a transaction paid by partial currency conversion GBP account has another transaction to make up the difference","status":"passed","file_path":"./spec/models/paypal/paypal_feed_spec.rb","line_number":295,"run_time":0.161816994,"pending_message":null,"screenshot":null},{"id":"./spec/models/paypal/paypal_feed_spec.rb[1:8:1]","description":"should return the transaction","full_description":"Paypal::PaypalFeed An account with a transfer should return the transaction","status":"passed","file_path":"./spec/models/paypal/paypal_feed_spec.rb","line_number":312,"run_time":0.136216599,"pending_message":null,"screenshot":null},{"id":"./spec/models/paypal/paypal_feed_spec.rb[1:9:1]","description":"should markup missing fees","full_description":"Paypal::PaypalFeed complete_details should markup missing fees","status":"passed","file_path":"./spec/models/paypal/paypal_feed_spec.rb","line_number":353,"run_time":0.139139603,"pending_message":null,"screenshot":null},{"id":"./spec/models/paypal/paypal_feed_spec.rb[1:10:1]","description":"should only return the payment","full_description":"Paypal::PaypalFeed with duplicate fees should only return the payment","status":"passed","file_path":"./spec/models/paypal/paypal_feed_spec.rb","line_number":398,"run_time":0.135507951,"pending_message":null,"screenshot":null},{"id":"./spec/models/paypal/paypal_feed_spec.rb[1:11:1]","description":"should only return the payment","full_description":"Paypal::PaypalFeed with duplicate fee reversal should only return the payment","status":"passed","file_path":"./spec/models/paypal/paypal_feed_spec.rb","line_number":428,"run_time":0.139026541,"pending_message":null,"screenshot":null},{"id":"./spec/models/paypal/paypal_feed_spec.rb[1:12:1]","description":"should be filtered from the list of transactions","full_description":"Paypal::PaypalFeed a 'Pending Balance Payment' transaction should be filtered from the list of transactions","status":"passed","file_path":"./spec/models/paypal/paypal_feed_spec.rb","line_number":444,"run_time":0.133479268,"pending_message":null,"screenshot":null},{"id":"./spec/models/paypal/paypal_feed_spec.rb[1:13:1]","description":"is filtered from the list of transactions","full_description":"Paypal::PaypalFeed an 'Authorization' transaction is filtered from the list of transactions","status":"passed","file_path":"./spec/models/paypal/paypal_feed_spec.rb","line_number":470,"run_time":0.150832455,"pending_message":null,"screenshot":null},{"id":"./spec/models/paypal/paypal_feed_spec.rb[1:16:1:1]","description":"should get one page","full_description":"Paypal::PaypalFeed Fetching transactions single page fetch_transactions should get one page","status":"passed","file_path":"./spec/models/paypal/paypal_feed_spec.rb","line_number":529,"run_time":0.209701604,"pending_message":null,"screenshot":null},{"id":"./spec/models/paypal/paypal_feed_spec.rb[1:16:2:1]","description":"should get two pages","full_description":"Paypal::PaypalFeed Fetching transactions multiple page fetch_transactions should get two pages","status":"passed","file_path":"./spec/models/paypal/paypal_feed_spec.rb","line_number":545,"run_time":0.282741328,"pending_message":null,"screenshot":null},{"id":"./spec/models/paypal/paypal_feed_spec.rb[1:16:3:1]","description":"should get two pages","full_description":"Paypal::PaypalFeed Fetching transactions multiple page fetch_transactions with duplicate and multiple passes should get two pages","status":"passed","file_path":"./spec/models/paypal/paypal_feed_spec.rb","line_number":565,"run_time":0.250618913,"pending_message":null,"screenshot":null},{"id":"./spec/models/paypal/paypal_feed_spec.rb[1:16:4:1]","description":"should report details of the offending transaction","full_description":"Paypal::PaypalFeed Fetching transactions fetch_transactions encountering a missing transaction timestamp should report details of the offending transaction","status":"passed","file_path":"./spec/models/paypal/paypal_feed_spec.rb","line_number":581,"run_time":0.258181423,"pending_message":null,"screenshot":null},{"id":"./spec/models/paypal/paypal_feed_spec.rb[1:16:5:1]","description":"should raise error","full_description":"Paypal::PaypalFeed Fetching transactions get_transactions(@account.paypal_sync_date_range) is unauthorised should raise error","status":"passed","file_path":"./spec/models/paypal/paypal_feed_spec.rb","line_number":597,"run_time":0.258957721,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/bank_integrations/_bank_integration_common_spec.rb[1:1:1]","description":"are included","full_description":"api/bank_integrations/_bank_integrations_common.rbapi bank_integration details are included","status":"passed","file_path":"./spec/views/api/bank_integrations/_bank_integration_common_spec.rb","line_number":27,"run_time":0.199607584,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/bank_integrations/_bank_integration_common_spec.rb[1:2:1:1]","description":"are all included","full_description":"api/bank_integrations/_bank_integrations_common.rbapi authorised_accounts authorised_accounts not expired are all included","status":"passed","file_path":"./spec/views/api/bank_integrations/_bank_integration_common_spec.rb","line_number":48,"run_time":0.198165482,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/bank_integrations/_bank_integration_common_spec.rb[1:2:1:2]","description":"contain the expected values","full_description":"api/bank_integrations/_bank_integrations_common.rbapi authorised_accounts authorised_accounts not expired contain the expected values","status":"passed","file_path":"./spec/views/api/bank_integrations/_bank_integration_common_spec.rb","line_number":52,"run_time":0.166047122,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/bank_integrations/_bank_integration_common_spec.rb[1:2:1:3]","description":"contains the expected linked_bank_account values","full_description":"api/bank_integrations/_bank_integrations_common.rbapi authorised_accounts authorised_accounts not expired contains the expected linked_bank_account values","status":"passed","file_path":"./spec/views/api/bank_integrations/_bank_integration_common_spec.rb","line_number":63,"run_time":0.177296229,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/bank_integrations/_bank_integration_common_spec.rb[1:2:2:1]","description":"has an expiry date in the past","full_description":"api/bank_integrations/_bank_integrations_common.rbapi authorised_accounts authorised_accounts expired has an expiry date in the past","status":"passed","file_path":"./spec/views/api/bank_integrations/_bank_integration_common_spec.rb","line_number":77,"run_time":0.208793757,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/bank_integrations/_bank_integration_common_spec.rb[1:2:3:1]","description":"does not have bank_account details","full_description":"api/bank_integrations/_bank_integrations_common.rbapi authorised_accounts with no account_integration does not have bank_account details","status":"passed","file_path":"./spec/views/api/bank_integrations/_bank_integration_common_spec.rb","line_number":89,"run_time":0.173292182,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/bank_integrations/_bank_integration_common_spec.rb[1:2:4:1]","description":"knows if a bank account was provisioned","full_description":"api/bank_integrations/_bank_integrations_common.rbapi authorised_accounts bank account provisioning knows if a bank account was provisioned","status":"passed","file_path":"./spec/views/api/bank_integrations/_bank_integration_common_spec.rb","line_number":96,"run_time":0.191856748,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/bank_integrations/_bank_integration_common_spec.rb[1:2:4:2]","description":"knows if a bank account was not provisioned","full_description":"api/bank_integrations/_bank_integrations_common.rbapi authorised_accounts bank account provisioning knows if a bank account was not provisioned","status":"passed","file_path":"./spec/views/api/bank_integrations/_bank_integration_common_spec.rb","line_number":110,"run_time":0.198067493,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/bank_integrations/_bank_integration_common_spec.rb[1:2:4:3]","description":"still works when we don't know if a bank account was provisioned","full_description":"api/bank_integrations/_bank_integrations_common.rbapi authorised_accounts bank account provisioning still works when we don't know if a bank account was provisioned","status":"passed","file_path":"./spec/views/api/bank_integrations/_bank_integration_common_spec.rb","line_number":124,"run_time":0.233952231,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/bank_integrations/_bank_integration_common_spec.rb[1:2:4:4]","description":"knows the connection status for accounts we tried to link","full_description":"api/bank_integrations/_bank_integrations_common.rbapi authorised_accounts bank account provisioning knows the connection status for accounts we tried to link","status":"passed","file_path":"./spec/views/api/bank_integrations/_bank_integration_common_spec.rb","line_number":128,"run_time":0.190597783,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/bank_integrations/_bank_integration_common_spec.rb[1:2:4:5]","description":"doesn't show connection status for authorised accounts we didn't try to link","full_description":"api/bank_integrations/_bank_integrations_common.rbapi authorised_accounts bank account provisioning doesn't show connection status for authorised accounts we didn't try to link","status":"passed","file_path":"./spec/views/api/bank_integrations/_bank_integration_common_spec.rb","line_number":142,"run_time":0.204237405,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/explanation_tracker_spec.rb[1:1]","description":"creates a GuessedExplanation","full_description":"Banking::Guess::ExplanationTracker creates a GuessedExplanation","status":"passed","file_path":"./spec/models/banking/guess/explanation_tracker_spec.rb","line_number":6,"run_time":0.122840973,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/explanation_tracker_spec.rb[1:2]","description":"takes an optional source_explanation parameter","full_description":"Banking::Guess::ExplanationTracker takes an optional source_explanation parameter","status":"passed","file_path":"./spec/models/banking/guess/explanation_tracker_spec.rb","line_number":30,"run_time":0.284781373,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/explanation_tracker_spec.rb[1:3]","description":"publishes explanation created event with invoice id","full_description":"Banking::Guess::ExplanationTracker publishes explanation created event with invoice id","status":"passed","file_path":"./spec/models/banking/guess/explanation_tracker_spec.rb","line_number":48,"run_time":0.348076715,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/explanation_tracker_spec.rb[1:4]","description":"publishes explanation created event with bill id","full_description":"Banking::Guess::ExplanationTracker publishes explanation created event with bill id","status":"passed","file_path":"./spec/models/banking/guess/explanation_tracker_spec.rb","line_number":71,"run_time":0.429429606,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/explanation_tracker_spec.rb[1:5]","description":"publishes explanation created event with linked transfer explanation id","full_description":"Banking::Guess::ExplanationTracker publishes explanation created event with linked transfer explanation id","status":"passed","file_path":"./spec/models/banking/guess/explanation_tracker_spec.rb","line_number":94,"run_time":0.308397696,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/explanation_tracker_spec.rb[1:6]","description":"publishes explanation created event with source explanation id","full_description":"Banking::Guess::ExplanationTracker publishes explanation created event with source explanation id","status":"passed","file_path":"./spec/models/banking/guess/explanation_tracker_spec.rb","line_number":118,"run_time":0.327155088,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/explanation_tracker_spec.rb[1:7]","description":"publishes whether the explanation was auto-approved","full_description":"Banking::Guess::ExplanationTracker publishes whether the explanation was auto-approved","status":"passed","file_path":"./spec/models/banking/guess/explanation_tracker_spec.rb","line_number":141,"run_time":0.125662275,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template_spec.rb[1:1:1]","description":"is expected not to allow :template_type to be ‹\"abcd\"›","full_description":"EmailTemplate when validating an EmailTemplate is expected not to allow :template_type to be ‹\"abcd\"›","status":"passed","file_path":"./spec/models/email_template_spec.rb","line_number":9,"run_time":0.01547131,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template_spec.rb[1:1:2]","description":"is expected not to allow :template_type to be ‹1234›","full_description":"EmailTemplate when validating an EmailTemplate is expected not to allow :template_type to be ‹1234›","status":"passed","file_path":"./spec/models/email_template_spec.rb","line_number":10,"run_time":0.013941012,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template_spec.rb[1:1:3]","description":"is expected to allow :template_type to be ‹\"new_invoice\"›","full_description":"EmailTemplate when validating an EmailTemplate is expected to allow :template_type to be ‹\"new_invoice\"›","status":"passed","file_path":"./spec/models/email_template_spec.rb","line_number":12,"run_time":0.014337031,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template_spec.rb[1:1:4]","description":"is expected to allow :template_type to be ‹\"reminder\"›","full_description":"EmailTemplate when validating an EmailTemplate is expected to allow :template_type to be ‹\"reminder\"›","status":"passed","file_path":"./spec/models/email_template_spec.rb","line_number":13,"run_time":0.01438406,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template_spec.rb[1:1:5]","description":"is expected to allow :template_type to be ‹\"quick_send_reminder\"›","full_description":"EmailTemplate when validating an EmailTemplate is expected to allow :template_type to be ‹\"quick_send_reminder\"›","status":"passed","file_path":"./spec/models/email_template_spec.rb","line_number":14,"run_time":0.013741911,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template_spec.rb[1:1:6]","description":"is expected to allow :template_type to be ‹\"thank_you\"›","full_description":"EmailTemplate when validating an EmailTemplate is expected to allow :template_type to be ‹\"thank_you\"›","status":"passed","file_path":"./spec/models/email_template_spec.rb","line_number":15,"run_time":0.013764836,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template_spec.rb[1:1:7]","description":"is expected to validate that :subject cannot be empty/falsy","full_description":"EmailTemplate when validating an EmailTemplate is expected to validate that :subject cannot be empty/falsy","status":"passed","file_path":"./spec/models/email_template_spec.rb","line_number":17,"run_time":0.018510152,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template_spec.rb[1:1:8]","description":"is expected to validate that :body cannot be empty/falsy","full_description":"EmailTemplate when validating an EmailTemplate is expected to validate that :body cannot be empty/falsy","status":"passed","file_path":"./spec/models/email_template_spec.rb","line_number":18,"run_time":0.017883943,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template_spec.rb[1:1:9]","description":"is expected to validate that :from cannot be empty/falsy","full_description":"EmailTemplate when validating an EmailTemplate is expected to validate that :from cannot be empty/falsy","status":"passed","file_path":"./spec/models/email_template_spec.rb","line_number":19,"run_time":0.019642207,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template_spec.rb[1:1:10]","description":"is expected to validate that :to cannot be empty/falsy","full_description":"EmailTemplate when validating an EmailTemplate is expected to validate that :to cannot be empty/falsy","status":"passed","file_path":"./spec/models/email_template_spec.rb","line_number":20,"run_time":0.017695993,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template_spec.rb[1:1:11]","description":"is expected to validate that :company cannot be empty/falsy","full_description":"EmailTemplate when validating an EmailTemplate is expected to validate that :company cannot be empty/falsy","status":"passed","file_path":"./spec/models/email_template_spec.rb","line_number":21,"run_time":0.017674265,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template_spec.rb[1:1:12]","description":"is expected not to allow :to to be ‹\"blah\"› or ‹\"blah, test@test.com\"›","full_description":"EmailTemplate when validating an EmailTemplate is expected not to allow :to to be ‹\"blah\"› or ‹\"blah, test@test.com\"›","status":"passed","file_path":"./spec/models/email_template_spec.rb","line_number":23,"run_time":0.014167989,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template_spec.rb[1:1:13]","description":"is expected not to allow :from to be ‹\"Prince Ali \u003cprince.ali@whitehouse.com\u003e\"›","full_description":"EmailTemplate when validating an EmailTemplate is expected not to allow :from to be ‹\"Prince Ali \u003cprince.ali@whitehouse.com\u003e\"›","status":"passed","file_path":"./spec/models/email_template_spec.rb","line_number":24,"run_time":0.014333792,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template_spec.rb[1:1:15]","description":"allows macros in 'to' field","full_description":"EmailTemplate when validating an EmailTemplate allows macros in 'to' field","status":"passed","file_path":"./spec/models/email_template_spec.rb","line_number":36,"run_time":0.013929967,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template_spec.rb[1:1:14:1]","description":"allows multiple comma-separated email addresses","full_description":"EmailTemplate when validating an EmailTemplate when validating recipient limit allows multiple comma-separated email addresses","status":"passed","file_path":"./spec/models/email_template_spec.rb","line_number":27,"run_time":0.014037838,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template_spec.rb[1:1:14:2]","description":"allows multiple fails if the number of address exceeds the account limit","full_description":"EmailTemplate when validating an EmailTemplate when validating recipient limit allows multiple fails if the number of address exceeds the account limit","status":"passed","file_path":"./spec/models/email_template_spec.rb","line_number":31,"run_time":0.013761507,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template_spec.rb[1:1:16:1:1:1]","description":"is expected to eql","full_description":"EmailTemplate when validating an EmailTemplate when validating email template documents when validating the owner of the documents with documents owned by the same company is expected to eql","status":"passed","file_path":"./spec/models/email_template_spec.rb","line_number":52,"run_time":0.135725361,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template_spec.rb[1:1:16:1:2:1]","description":"is expected to eql \"do not belong to you!\"","full_description":"EmailTemplate when validating an EmailTemplate when validating email template documents when validating the owner of the documents with documents owned by a different company is expected to eql \"do not belong to you!\"","status":"passed","file_path":"./spec/models/email_template_spec.rb","line_number":65,"run_time":0.126121512,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template_spec.rb[1:1:16:2:1]","description":"is expected to include \"is invalid\"","full_description":"EmailTemplate when validating an EmailTemplate when validating email template documents when the email template has an invalid document is expected to include \"is invalid\"","status":"passed","file_path":"./spec/models/email_template_spec.rb","line_number":83,"run_time":0.181447536,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template_spec.rb[1:1:16:3:1:1]","description":"is expected not to include \"Too many attachments! You can send a maximum of 10\"","full_description":"EmailTemplate when validating an EmailTemplate when validating email template documents when attaching multiple documents to an email_template when attaching the maximum number of documents allowed is expected not to include \"Too many attachments! You can send a maximum of 10\"","status":"passed","file_path":"./spec/models/email_template_spec.rb","line_number":98,"run_time":0.204854624,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template_spec.rb[1:1:16:3:2:1]","description":"is expected to include \"Too many attachments! You can send a maximum of 10\"","full_description":"EmailTemplate when validating an EmailTemplate when validating email template documents when attaching multiple documents to an email_template when attaching more documents than allowed is expected to include \"Too many attachments! You can send a maximum of 10\"","status":"passed","file_path":"./spec/models/email_template_spec.rb","line_number":116,"run_time":0.232867644,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template_spec.rb[1:2:1:1]","description":"stores the emoji from the subjects and keeps other unicode characters","full_description":"EmailTemplate when sanitizing the email content when the subject has emojis and text stores the emoji from the subjects and keeps other unicode characters","status":"passed","file_path":"./spec/models/email_template_spec.rb","line_number":139,"run_time":0.094542206,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template_spec.rb[1:2:2:1]","description":"accepts subjects only with emojis","full_description":"EmailTemplate when sanitizing the email content when the subject has only emojis accepts subjects only with emojis","status":"passed","file_path":"./spec/models/email_template_spec.rb","line_number":147,"run_time":0.108275513,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template_spec.rb[1:2:3:1]","description":"stores the emoji from the body and keeps other unicode characters","full_description":"EmailTemplate when sanitizing the email content when the body has emojis and text stores the emoji from the body and keeps other unicode characters","status":"passed","file_path":"./spec/models/email_template_spec.rb","line_number":157,"run_time":0.09437858,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template_spec.rb[1:2:4:1]","description":"accepts messages only with emojis","full_description":"EmailTemplate when sanitizing the email content when the body has only emojis accepts messages only with emojis","status":"passed","file_path":"./spec/models/email_template_spec.rb","line_number":167,"run_time":0.111266012,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template_spec.rb[1:2:5:1]","description":"strips surrounding whitespace from email_template body","full_description":"EmailTemplate when sanitizing the email content when the body has extra white space before and after text strips surrounding whitespace from email_template body","status":"passed","file_path":"./spec/models/email_template_spec.rb","line_number":175,"run_time":0.11898538,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template_spec.rb[1:2:6:1]","description":"strips surrounding non breaking whitespace from email_template body","full_description":"EmailTemplate when sanitizing the email content when the body is surrounded by a combination of whitespace and non-breaking whitespace strips surrounding non breaking whitespace from email_template body","status":"passed","file_path":"./spec/models/email_template_spec.rb","line_number":183,"run_time":0.101561487,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template_spec.rb[1:2:7:1]","description":"is expected to raise ActiveRecord::RecordInvalid","full_description":"EmailTemplate when sanitizing the email content when theb body contains only html tags is expected to raise ActiveRecord::RecordInvalid","status":"passed","file_path":"./spec/models/email_template_spec.rb","line_number":191,"run_time":0.110360202,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template_spec.rb[1:3:1:1]","description":"is expected to eq {:body=\u003e\"Message\", :category=\u003e\"invoice\", :document_ids=\u003e[1261], :email_to_sender=\u003efalse, :from=\u003e\"Jerry Smith \u003cjerry.smith@c137.com\u003e\", :subject=\u003e\"Default Subject\", :to=\u003e\"olly@lylo.co.uk\"}","full_description":"EmailTemplate#email_attributes when the email_payment_button feature switch is disabled is expected to eq {:body=\u003e\"Message\", :category=\u003e\"invoice\", :document_ids=\u003e[1261], :email_to_sender=\u003efalse, :from=\u003e\"Jerry Smith \u003cjerry.smith@c137.com\u003e\", :subject=\u003e\"Default Subject\", :to=\u003e\"olly@lylo.co.uk\"}","status":"passed","file_path":"./spec/models/email_template_spec.rb","line_number":215,"run_time":0.029506286,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template_spec.rb[1:3:2:1]","description":"is expected to eq {:body=\u003e\"Message\", :category=\u003e\"invoice\", :document_ids=\u003e[1273], :email_to_sender=\u003efalse, :from=\u003e\"Jerr...mith@c137.com\u003e\", :include_payment_button=\u003etrue, :subject=\u003e\"Default Subject\", :to=\u003e\"olly@lylo.co.uk\"}","full_description":"EmailTemplate#email_attributes when the email_payment_button feature switch is enabled is expected to eq {:body=\u003e\"Message\", :category=\u003e\"invoice\", :document_ids=\u003e[1273], :email_to_sender=\u003efalse, :from=\u003e\"Jerr...mith@c137.com\u003e\", :include_payment_button=\u003etrue, :subject=\u003e\"Default Subject\", :to=\u003e\"olly@lylo.co.uk\"}","status":"passed","file_path":"./spec/models/email_template_spec.rb","line_number":236,"run_time":0.024166198,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_template_spec.rb[1:4:1]","description":"is expected to be a kind of EmailTemplate::PaymentMethods","full_description":"EmailTemplate#payment_methods is expected to be a kind of EmailTemplate::PaymentMethods","status":"passed","file_path":"./spec/models/email_template_spec.rb","line_number":244,"run_time":0.093637095,"pending_message":null,"screenshot":null},{"id":"./spec/views/properties/expenses/index.html.erb_spec.rb[1:1:1]","description":"renders a list of expenses sources","full_description":"properties/expenses/index when there are expenses sources renders a list of expenses sources","status":"passed","file_path":"./spec/views/properties/expenses/index.html.erb_spec.rb","line_number":25,"run_time":0.330091816,"pending_message":null,"screenshot":null},{"id":"./spec/views/properties/expenses/index.html.erb_spec.rb[1:2:1]","description":"shows a message explaining why","full_description":"properties/expenses/index when there are no expenses sources shows a message explaining why","status":"passed","file_path":"./spec/views/properties/expenses/index.html.erb_spec.rb","line_number":34,"run_time":0.109994663,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/open_banking_setups_controller_spec.rb[1:1:1]","description":"renders the open banking setups template","full_description":"GettingStarted::OpenBankingSetupsController#show renders the open banking setups template","status":"passed","file_path":"./spec/controllers/getting_started/open_banking_setups_controller_spec.rb","line_number":24,"run_time":0.23213415,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/open_banking_setups_controller_spec.rb[1:1:2:1]","description":"redirects to open_banking_banking_details","full_description":"GettingStarted::OpenBankingSetupsController#show with the bank services being beta services redirects to open_banking_banking_details","status":"passed","file_path":"./spec/controllers/getting_started/open_banking_setups_controller_spec.rb","line_number":36,"run_time":0.165979695,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/open_banking_setups_controller_spec.rb[1:1:3:1]","description":"redirects to open_banking_banking_details","full_description":"GettingStarted::OpenBankingSetupsController#show with the bank institution not having an open banking service redirects to open_banking_banking_details","status":"passed","file_path":"./spec/controllers/getting_started/open_banking_setups_controller_spec.rb","line_number":51,"run_time":0.312824973,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/open_banking_setups_controller_spec.rb[1:2:1]","description":"creates a bank account","full_description":"GettingStarted::OpenBankingSetupsController#update creates a bank account","status":"passed","file_path":"./spec/controllers/getting_started/open_banking_setups_controller_spec.rb","line_number":76,"run_time":0.239847632,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/open_banking_setups_controller_spec.rb[1:2:2]","description":"redirects to open banking authorise url","full_description":"GettingStarted::OpenBankingSetupsController#update redirects to open banking authorise url","status":"passed","file_path":"./spec/controllers/getting_started/open_banking_setups_controller_spec.rb","line_number":88,"run_time":0.246771761,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/open_banking_setups_controller_spec.rb[1:2:4]","description":"publishes an event","full_description":"GettingStarted::OpenBankingSetupsController#update publishes an event","status":"passed","file_path":"./spec/controllers/getting_started/open_banking_setups_controller_spec.rb","line_number":108,"run_time":0.239036789,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/open_banking_setups_controller_spec.rb[1:2:3:1]","description":"renders the show page","full_description":"GettingStarted::OpenBankingSetupsController#update when there is an error in consent creation renders the show page","status":"passed","file_path":"./spec/controllers/getting_started/open_banking_setups_controller_spec.rb","line_number":99,"run_time":0.261548041,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/open_banking_setups_controller_spec.rb[1:2:3:2]","description":"sets a flash error message","full_description":"GettingStarted::OpenBankingSetupsController#update when there is an error in consent creation sets a flash error message","status":"passed","file_path":"./spec/controllers/getting_started/open_banking_setups_controller_spec.rb","line_number":103,"run_time":0.236399898,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:69:6:1]","description":"does not switch to involving sales tax when changing the status to sent","full_description":"Invoice A VAT-registered UK company with a written off invoice not involving sales tax does not switch to involving sales tax when changing the status to sent","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":1969,"run_time":0.35437304,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:1:1:2:7:4:3]","description":"posts one ledger entry to the bank account for the gross value","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the cash accounting basis not on the Flat Rate Scheme Bank Account Entries for the payment of a bill representing out of VAT scope admin expense posts one ledger entry to the bank account for the gross value","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":2540,"run_time":0.952501274,"pending_message":null,"screenshot":null},{"id":"./spec/views/recurring_invoices/new.html.erb_spec.rb[1:1:1]","description":"does not show any property related fields or drop-downs","full_description":"recurring_invoices/new for a non-landlord company does not show any property related fields or drop-downs","status":"passed","file_path":"./spec/views/recurring_invoices/new.html.erb_spec.rb","line_number":14,"run_time":0.121707933,"pending_message":null,"screenshot":null},{"id":"./spec/views/recurring_invoices/new.html.erb_spec.rb[1:2:1]","description":"has the correct fields and sections","full_description":"recurring_invoices/new for a landlord company has the correct fields and sections","status":"passed","file_path":"./spec/views/recurring_invoices/new.html.erb_spec.rb","line_number":23,"run_time":0.220796407,"pending_message":null,"screenshot":null},{"id":"./spec/views/recurring_invoices/new.html.erb_spec.rb[1:2:2:1]","description":"has the correct fields and sections","full_description":"recurring_invoices/new for a landlord company which already has properties, contacts and projects has the correct fields and sections","status":"passed","file_path":"./spec/views/recurring_invoices/new.html.erb_spec.rb","line_number":48,"run_time":0.248820622,"pending_message":null,"screenshot":null},{"id":"./spec/views/recurring_invoices/new.html.erb_spec.rb[1:2:3:1]","description":"has the correct fields and sections","full_description":"recurring_invoices/new for a landlord company which already has properties but no contacts has the correct fields and sections","status":"passed","file_path":"./spec/views/recurring_invoices/new.html.erb_spec.rb","line_number":64,"run_time":0.228991269,"pending_message":null,"screenshot":null},{"id":"./spec/views/recurring_invoices/new.html.erb_spec.rb[1:2:4:1]","description":"has the correct fields and sections","full_description":"recurring_invoices/new for a landlord company which already has contacts but no properties has the correct fields and sections","status":"passed","file_path":"./spec/views/recurring_invoices/new.html.erb_spec.rb","line_number":83,"run_time":0.154100165,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/accountancy_practice_unlinker_spec.rb[1:1:1:1]","description":"rejects attempt to unlink the company","full_description":"Subscription::AccountancyPracticeUnlinker#unlink! with a company without an account manager rejects attempt to unlink the company","status":"passed","file_path":"./spec/models/subscription/accountancy_practice_unlinker_spec.rb","line_number":11,"run_time":0.086137852,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/accountancy_practice_unlinker_spec.rb[1:1:2:1]","description":"allows the account manager to be removed to unlink company from the practice dashboard","full_description":"Subscription::AccountancyPracticeUnlinker#unlink! with a linked company allows the account manager to be removed to unlink company from the practice dashboard","status":"passed","file_path":"./spec/models/subscription/accountancy_practice_unlinker_spec.rb","line_number":25,"run_time":0.120054477,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/accountancy_practice_unlinker_spec.rb[1:1:2:2]","description":"deletes the PracticeClient::Relationship","full_description":"Subscription::AccountancyPracticeUnlinker#unlink! with a linked company deletes the PracticeClient::Relationship","status":"passed","file_path":"./spec/models/subscription/accountancy_practice_unlinker_spec.rb","line_number":32,"run_time":0.131300791,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/accountancy_practice_unlinker_spec.rb[1:1:3:1]","description":"rejects attempt to unlink","full_description":"Subscription::AccountancyPracticeUnlinker#unlink! with a practice managed company rejects attempt to unlink","status":"passed","file_path":"./spec/models/subscription/accountancy_practice_unlinker_spec.rb","line_number":49,"run_time":0.114205116,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/accountancy_practice_unlinker_spec.rb[1:1:4:1]","description":"rejects attempt to unlink","full_description":"Subscription::AccountancyPracticeUnlinker#unlink! with a CoPilot enabled company rejects attempt to unlink","status":"passed","file_path":"./spec/models/subscription/accountancy_practice_unlinker_spec.rb","line_number":67,"run_time":0.169859059,"pending_message":null,"screenshot":null},{"id":"./spec/views/vat_transactions/vat_purchases.html.erb_spec.rb[1:1:1:1]","description":"has the correct tooltip for box 9","full_description":"vat_transactions/vat_purchases tooltips a VAT return starting before Brexit has the correct tooltip for box 9","status":"passed","file_path":"./spec/views/vat_transactions/vat_purchases.html.erb_spec.rb","line_number":22,"run_time":0.065316245,"pending_message":null,"screenshot":null},{"id":"./spec/views/vat_transactions/vat_purchases.html.erb_spec.rb[1:1:1:2]","description":"has the correct tooltip for box 4","full_description":"vat_transactions/vat_purchases tooltips a VAT return starting before Brexit has the correct tooltip for box 4","status":"passed","file_path":"./spec/views/vat_transactions/vat_purchases.html.erb_spec.rb","line_number":28,"run_time":0.049075382,"pending_message":null,"screenshot":null},{"id":"./spec/views/vat_transactions/vat_purchases.html.erb_spec.rb[1:1:2:1]","description":"has the correct tooltip for box 9","full_description":"vat_transactions/vat_purchases tooltips a VAT return starting after Brexit has the correct tooltip for box 9","status":"passed","file_path":"./spec/views/vat_transactions/vat_purchases.html.erb_spec.rb","line_number":38,"run_time":0.07022256,"pending_message":null,"screenshot":null},{"id":"./spec/views/vat_transactions/vat_purchases.html.erb_spec.rb[1:1:2:2]","description":"has the correct tooltip for box 4","full_description":"vat_transactions/vat_purchases tooltips a VAT return starting after Brexit has the correct tooltip for box 4","status":"passed","file_path":"./spec/views/vat_transactions/vat_purchases.html.erb_spec.rb","line_number":44,"run_time":0.050938647,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/hmrc_controller_spec.rb[1:1:1]","description":"assigns the company and latest_vat_registration","full_description":"Admin::Companies::HMRCController#index assigns the company and latest_vat_registration","status":"passed","file_path":"./spec/controllers/admin/companies/hmrc_controller_spec.rb","line_number":16,"run_time":0.110350504,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/hmrc_controller_spec.rb[1:1:2:1]","description":"assigns latest_payroll_period","full_description":"Admin::Companies::HMRCController#index when the company has setup payroll assigns latest_payroll_period","status":"passed","file_path":"./spec/controllers/admin/companies/hmrc_controller_spec.rb","line_number":29,"run_time":0.346938232,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/hmrc_controller_spec.rb[1:1:3:1]","description":"assigns latest_payroll_period to nil","full_description":"Admin::Companies::HMRCController#index when the company has not setup payroll assigns latest_payroll_period to nil","status":"passed","file_path":"./spec/controllers/admin/companies/hmrc_controller_spec.rb","line_number":39,"run_time":0.072921484,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/hmrc_controller_spec.rb[1:1:4:1:1]","description":"assigns current_year_end to nil","full_description":"Admin::Companies::HMRCController#index when the company is a limited company with no year ends assigns current_year_end to nil","status":"passed","file_path":"./spec/controllers/admin/companies/hmrc_controller_spec.rb","line_number":55,"run_time":0.152084546,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/hmrc_controller_spec.rb[1:1:4:2:1]","description":"assigns the current year end to the incomplete year end","full_description":"Admin::Companies::HMRCController#index when the company is a limited company with one incomplete year end assigns the current year end to the incomplete year end","status":"passed","file_path":"./spec/controllers/admin/companies/hmrc_controller_spec.rb","line_number":65,"run_time":0.142679204,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/hmrc_controller_spec.rb[1:1:4:3:1]","description":"assigns the current year end to the incomplete year end","full_description":"Admin::Companies::HMRCController#index when the company is a limited company with one complete and one incomplete year end assigns the current year end to the incomplete year end","status":"passed","file_path":"./spec/controllers/admin/companies/hmrc_controller_spec.rb","line_number":88,"run_time":0.143945709,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/hmrc_controller_spec.rb[1:1:5:1]","description":"does not assign current_year_end","full_description":"Admin::Companies::HMRCController#index when the company is not a limited company does not assign current_year_end","status":"passed","file_path":"./spec/controllers/admin/companies/hmrc_controller_spec.rb","line_number":99,"run_time":0.158034593,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/estimates/default_additional_text_spec.rb[1:1:1:1]","description":"returns 200 and empty response is returned","full_description":"Api::Estimates::DefaultAdditionalTextController GET :default_additional_text a valid request - default additional text not set returns 200 and empty response is returned","status":"passed","file_path":"./spec/controllers/api/estimates/default_additional_text_spec.rb","line_number":17,"run_time":0.12702195,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/estimates/default_additional_text_spec.rb[1:1:2:1]","description":"returns 200 and company default estimate additional text is returned","full_description":"Api::Estimates::DefaultAdditionalTextController GET :default_additional_text a valid request - default additional text exists returns 200 and company default estimate additional text is returned","status":"passed","file_path":"./spec/controllers/api/estimates/default_additional_text_spec.rb","line_number":35,"run_time":0.148376174,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/estimates/default_additional_text_spec.rb[1:1:3:1]","description":"returns 403 forbidden error","full_description":"Api::Estimates::DefaultAdditionalTextController GET :default_additional_text invalid request - user does not have permissions returns 403 forbidden error","status":"passed","file_path":"./spec/controllers/api/estimates/default_additional_text_spec.rb","line_number":46,"run_time":0.197664986,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/estimates/default_additional_text_spec.rb[1:2:1:1]","description":"returns 200 and default_additional_text is updated","full_description":"Api::Estimates::DefaultAdditionalTextController PUT :default_additional_text a valid request returns 200 and default_additional_text is updated","status":"passed","file_path":"./spec/controllers/api/estimates/default_additional_text_spec.rb","line_number":61,"run_time":0.140058614,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/estimates/default_additional_text_spec.rb[1:2:2:1]","description":"returns 400 and an error","full_description":"Api::Estimates::DefaultAdditionalTextController PUT :default_additional_text invalid request - no payload returns 400 and an error","status":"passed","file_path":"./spec/controllers/api/estimates/default_additional_text_spec.rb","line_number":73,"run_time":0.139506203,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/estimates/default_additional_text_spec.rb[1:2:3:1]","description":"returns 403 forbidden error","full_description":"Api::Estimates::DefaultAdditionalTextController PUT :default_additional_text invalid request - user does not have permissions returns 403 forbidden error","status":"passed","file_path":"./spec/controllers/api/estimates/default_additional_text_spec.rb","line_number":84,"run_time":0.164325498,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/estimates/default_additional_text_spec.rb[1:3:1:1]","description":"returns 200 and company default estimate additional text is nil","full_description":"Api::Estimates::DefaultAdditionalTextController DELETE :default_additional_text a valid request returns 200 and company default estimate additional text is nil","status":"passed","file_path":"./spec/controllers/api/estimates/default_additional_text_spec.rb","line_number":104,"run_time":0.159265973,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/estimates/default_additional_text_spec.rb[1:3:2:1]","description":"returns 403 forbidden error","full_description":"Api::Estimates::DefaultAdditionalTextController DELETE :default_additional_text invalid request - user does not have permissions returns 403 forbidden error","status":"passed","file_path":"./spec/controllers/api/estimates/default_additional_text_spec.rb","line_number":114,"run_time":0.13673509,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/account_owner_changes_controller_spec.rb[1:1:1]","description":"only has eligible users in the list","full_description":"Admin::AccountOwnerChangesController GET :new only has eligible users in the list","status":"passed","file_path":"./spec/controllers/admin/account_owner_changes_controller_spec.rb","line_number":14,"run_time":0.084323725,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/account_owner_changes_controller_spec.rb[1:1:2]","description":"redirects to the unauthorised page if the user has no permissions","full_description":"Admin::AccountOwnerChangesController GET :new redirects to the unauthorised page if the user has no permissions","status":"passed","file_path":"./spec/controllers/admin/account_owner_changes_controller_spec.rb","line_number":21,"run_time":0.067762404,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/account_owner_changes_controller_spec.rb[1:2:1]","description":"changes the account owner to an eligible user","full_description":"Admin::AccountOwnerChangesController POST create changes the account owner to an eligible user","status":"passed","file_path":"./spec/controllers/admin/account_owner_changes_controller_spec.rb","line_number":29,"run_time":0.082601895,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/account_owner_changes_controller_spec.rb[1:2:2]","description":"redirects to the unauthorised page if the user has no permissions","full_description":"Admin::AccountOwnerChangesController POST create redirects to the unauthorised page if the user has no permissions","status":"passed","file_path":"./spec/controllers/admin/account_owner_changes_controller_spec.rb","line_number":38,"run_time":0.067347433,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/account_owner_changes_controller_spec.rb[1:2:3]","description":"rejects an ineligible user","full_description":"Admin::AccountOwnerChangesController POST create rejects an ineligible user","status":"passed","file_path":"./spec/controllers/admin/account_owner_changes_controller_spec.rb","line_number":45,"run_time":0.070165315,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/account_owner_changes_controller_spec.rb[1:2:4]","description":"rejects an accountant","full_description":"Admin::AccountOwnerChangesController POST create rejects an accountant","status":"passed","file_path":"./spec/controllers/admin/account_owner_changes_controller_spec.rb","line_number":55,"run_time":0.0667172,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/account_owner_changes_controller_spec.rb[1:2:5:1]","description":"updates the message thread to subscribe an eligible user","full_description":"Admin::AccountOwnerChangesController POST create for a CoPilot subscribed company updates the message thread to subscribe an eligible user","status":"passed","file_path":"./spec/controllers/admin/account_owner_changes_controller_spec.rb","line_number":77,"run_time":0.250189861,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/account_owner_changes_controller_spec.rb[1:2:5:2]","description":"unsubscribes the previous account manager","full_description":"Admin::AccountOwnerChangesController POST create for a CoPilot subscribed company unsubscribes the previous account manager","status":"passed","file_path":"./spec/controllers/admin/account_owner_changes_controller_spec.rb","line_number":86,"run_time":0.248440949,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/admin/vat_return_unlocker_job_spec.rb[1:1:1:1]","description":"unlocks the VAT return with the correct admin user","full_description":"Admin::VatReturnUnlockerJob#perform the status of the unlocker is unlocking unlocks the VAT return with the correct admin user","status":"passed","file_path":"./spec/jobs/admin/vat_return_unlocker_job_spec.rb","line_number":19,"run_time":1.570785037,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/admin/vat_return_unlocker_job_spec.rb[1:1:2:1]","description":"unlocks the VAT return and cleans up the admin user","full_description":"Admin::VatReturnUnlockerJob#perform the status of the unlocker is not unlocking unlocks the VAT return and cleans up the admin user","status":"passed","file_path":"./spec/jobs/admin/vat_return_unlocker_job_spec.rb","line_number":34,"run_time":0.155243913,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/admin/vat_return_unlocker_job_spec.rb[1:1:3:1]","description":"log an error, but does not alert","full_description":"Admin::VatReturnUnlockerJob#perform when a VatUnlockError is raised while unlocking the vat return log an error, but does not alert","status":"passed","file_path":"./spec/jobs/admin/vat_return_unlocker_job_spec.rb","line_number":46,"run_time":0.180079041,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/guess/excluded_terms_controller_spec.rb[1:1:1]","description":"sets the excluded term variable","full_description":"Guess::ExcludedTermsController#index sets the excluded term variable","status":"passed","file_path":"./spec/controllers/guess/excluded_terms_controller_spec.rb","line_number":19,"run_time":0.164009373,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/guess/excluded_terms_controller_spec.rb[1:2:1]","description":"renders the modal","full_description":"Guess::ExcludedTermsController#new renders the modal","status":"passed","file_path":"./spec/controllers/guess/excluded_terms_controller_spec.rb","line_number":26,"run_time":0.02226855,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/guess/excluded_terms_controller_spec.rb[1:2:2:1]","description":"renders the modal","full_description":"Guess::ExcludedTermsController#new with term set renders the modal","status":"passed","file_path":"./spec/controllers/guess/excluded_terms_controller_spec.rb","line_number":32,"run_time":0.021830036,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/guess/excluded_terms_controller_spec.rb[1:2:2:2]","description":"contains the term passed in","full_description":"Guess::ExcludedTermsController#new with term set contains the term passed in","status":"passed","file_path":"./spec/controllers/guess/excluded_terms_controller_spec.rb","line_number":37,"run_time":0.021692039,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/guess/excluded_terms_controller_spec.rb[1:3:1]","description":"renders the modal","full_description":"Guess::ExcludedTermsController#remote_new renders the modal","status":"passed","file_path":"./spec/controllers/guess/excluded_terms_controller_spec.rb","line_number":45,"run_time":0.026075187,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/guess/excluded_terms_controller_spec.rb[1:3:2:1]","description":"renders the modal","full_description":"Guess::ExcludedTermsController#remote_new with term set renders the modal","status":"passed","file_path":"./spec/controllers/guess/excluded_terms_controller_spec.rb","line_number":51,"run_time":0.022560019,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/guess/excluded_terms_controller_spec.rb[1:3:2:2]","description":"contains the term passed in","full_description":"Guess::ExcludedTermsController#remote_new with term set contains the term passed in","status":"passed","file_path":"./spec/controllers/guess/excluded_terms_controller_spec.rb","line_number":56,"run_time":0.021538123,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/guess/excluded_terms_controller_spec.rb[1:4:1]","description":"renders the modal","full_description":"Guess::ExcludedTermsController#edit renders the modal","status":"passed","file_path":"./spec/controllers/guess/excluded_terms_controller_spec.rb","line_number":65,"run_time":0.031329229,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/guess/excluded_terms_controller_spec.rb[1:5:1:1]","description":"creates new terms","full_description":"Guess::ExcludedTermsController#create POST as html creates new terms","status":"passed","file_path":"./spec/controllers/guess/excluded_terms_controller_spec.rb","line_number":74,"run_time":0.034111317,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/guess/excluded_terms_controller_spec.rb[1:5:1:2]","description":"shows an error when something goes wrong","full_description":"Guess::ExcludedTermsController#create POST as html shows an error when something goes wrong","status":"passed","file_path":"./spec/controllers/guess/excluded_terms_controller_spec.rb","line_number":82,"run_time":0.035084644,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/guess/excluded_terms_controller_spec.rb[1:5:2:1]","description":"creates new terms","full_description":"Guess::ExcludedTermsController#create POST as JS creates new terms","status":"passed","file_path":"./spec/controllers/guess/excluded_terms_controller_spec.rb","line_number":92,"run_time":0.023313139,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/guess/excluded_terms_controller_spec.rb[1:5:2:2]","description":"shows an error when something goes wrong","full_description":"Guess::ExcludedTermsController#create POST as JS shows an error when something goes wrong","status":"passed","file_path":"./spec/controllers/guess/excluded_terms_controller_spec.rb","line_number":100,"run_time":0.022480125,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/guess/excluded_terms_controller_spec.rb[1:6:1]","description":"updates the term","full_description":"Guess::ExcludedTermsController#update updates the term","status":"passed","file_path":"./spec/controllers/guess/excluded_terms_controller_spec.rb","line_number":113,"run_time":0.03670568,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/guess/excluded_terms_controller_spec.rb[1:6:2]","description":"shows an error when something goes wrong","full_description":"Guess::ExcludedTermsController#update shows an error when something goes wrong","status":"passed","file_path":"./spec/controllers/guess/excluded_terms_controller_spec.rb","line_number":120,"run_time":0.034674814,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/guess/excluded_terms_controller_spec.rb[1:7:1]","description":"destroys the term","full_description":"Guess::ExcludedTermsController#destroy destroys the term","status":"passed","file_path":"./spec/controllers/guess/excluded_terms_controller_spec.rb","line_number":131,"run_time":0.034879213,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/bank_feeds/index.html.erb_spec.rb[1:1]","description":"renders \"1 Feed Disabled\" when @feeds contains a single disabled feed","full_description":"admin/bank_feeds/index renders \"1 Feed Disabled\" when @feeds contains a single disabled feed","status":"passed","file_path":"./spec/views/admin/bank_feeds/index.html.erb_spec.rb","line_number":31,"run_time":0.16534998,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/bank_feeds/index.html.erb_spec.rb[1:2]","description":"renders open banking support access disabled details","full_description":"admin/bank_feeds/index renders open banking support access disabled details","status":"passed","file_path":"./spec/views/admin/bank_feeds/index.html.erb_spec.rb","line_number":38,"run_time":0.155038574,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/bank_feeds/index.html.erb_spec.rb[1:3]","description":"renders open banking support access enabled details","full_description":"admin/bank_feeds/index renders open banking support access enabled details","status":"passed","file_path":"./spec/views/admin/bank_feeds/index.html.erb_spec.rb","line_number":43,"run_time":0.170800559,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:1:1:2:1:1]","description":"associated with a account","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the cash accounting basis not on the Flat Rate Scheme Bank Account Entries representing income associated with a account","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":2271,"run_time":0.479204761,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:56:2:1]","description":"marks the credit note as unpaid","full_description":"Invoice An over-refunded credit note when the refund is removed marks the credit note as unpaid","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":1460,"run_time":0.477353912,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/dev_dashboard/apps/cards/_app_card.html.erb_spec.rb[1:1]","description":"renders an app information partial from a response","full_description":"admin/dev_dashboard/apps/cards/_app_card renders an app information partial from a response","status":"passed","file_path":"./spec/views/admin/dev_dashboard/apps/cards/_app_card.html.erb_spec.rb","line_number":11,"run_time":0.052029788,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/dev_dashboard/apps/cards/_app_card.html.erb_spec.rb[1:2]","description":"checks the api enabled conditional when api_enabled is true","full_description":"admin/dev_dashboard/apps/cards/_app_card checks the api enabled conditional when api_enabled is true","status":"passed","file_path":"./spec/views/admin/dev_dashboard/apps/cards/_app_card.html.erb_spec.rb","line_number":22,"run_time":0.040712723,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/dev_dashboard/apps/cards/_app_card.html.erb_spec.rb[1:3]","description":"checks the api enabled conditional when api_enabled is false","full_description":"admin/dev_dashboard/apps/cards/_app_card checks the api enabled conditional when api_enabled is false","status":"passed","file_path":"./spec/views/admin/dev_dashboard/apps/cards/_app_card.html.erb_spec.rb","line_number":29,"run_time":0.041065262,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/dev_dashboard/apps/cards/_app_card.html.erb_spec.rb[1:4]","description":"checks the practice enabled conditional when practice_enabled is true","full_description":"admin/dev_dashboard/apps/cards/_app_card checks the practice enabled conditional when practice_enabled is true","status":"passed","file_path":"./spec/views/admin/dev_dashboard/apps/cards/_app_card.html.erb_spec.rb","line_number":36,"run_time":0.039095018,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/dev_dashboard/apps/cards/_app_card.html.erb_spec.rb[1:5]","description":"checks the practice enabled conditional when practice_enabled is false","full_description":"admin/dev_dashboard/apps/cards/_app_card checks the practice enabled conditional when practice_enabled is false","status":"passed","file_path":"./spec/views/admin/dev_dashboard/apps/cards/_app_card.html.erb_spec.rb","line_number":43,"run_time":0.038824486,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:1:2]","description":"is expected to have many expenses through invoice_items","full_description":"Invoice default settings is expected to have many expenses through invoice_items","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":21,"run_time":0.061486466,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:108:4:1]","description":"can't be changed","full_description":"Invoice with a CIS category on a written off invoice can't be changed","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":3208,"run_time":0.316731363,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoice_profile_items_controller/new_spec.rb[1:1]","description":"returns the modal for the invoice item","full_description":"RecurringInvoiceProfileItemsController GET #new returns the modal for the invoice item","status":"passed","file_path":"./spec/controllers/recurring_invoice_profile_items_controller/new_spec.rb","line_number":14,"run_time":0.100149541,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoice_profile_items_controller/new_spec.rb[1:2:1]","description":"uses the price list item to populate the new recurring invoice profile item","full_description":"RecurringInvoiceProfileItemsController GET #new when a price list item id is sent uses the price list item to populate the new recurring invoice profile item","status":"passed","file_path":"./spec/controllers/recurring_invoice_profile_items_controller/new_spec.rb","line_number":32,"run_time":0.084862597,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoice_profile_items_controller/new_spec.rb[1:3:1]","description":"responds with as an unacceptable request","full_description":"RecurringInvoiceProfileItemsController GET #new when requesting html responds with as an unacceptable request","status":"passed","file_path":"./spec/controllers/recurring_invoice_profile_items_controller/new_spec.rb","line_number":49,"run_time":0.048625434,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[7:1]","description":"displays the bic and iban numbers if set on the primary bank account","full_description":"InvoicesController GET show with an invoice with 'always_show_bic_and_iban' displays the bic and iban numbers if set on the primary bank account","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":870,"run_time":0.30994751,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/accounting/year_end_approved_email_job_spec.rb[1:1:1]","description":"sends the email","full_description":"Accounting::YearEndApprovedEmailJob#perform sends the email","status":"passed","file_path":"./spec/jobs/accounting/year_end_approved_email_job_spec.rb","line_number":10,"run_time":0.175510958,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/accounting/year_end_approved_email_job_spec.rb[1:1:2:1]","description":"does not send the emails","full_description":"Accounting::YearEndApprovedEmailJob#perform when the year end has been deleted does not send the emails","status":"passed","file_path":"./spec/jobs/accounting/year_end_approved_email_job_spec.rb","line_number":17,"run_time":0.145390173,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/importer/sanitiser_spec.rb[1:1:1]","description":"is expected to be a kind of CSV::Row","full_description":"Importer::Sanitiser.sanitise_row is expected to be a kind of CSV::Row","status":"passed","file_path":"./spec/integrations/importer/sanitiser_spec.rb","line_number":10,"run_time":0.004794036,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/importer/sanitiser_spec.rb[1:1:2]","description":"sanitises a csv row","full_description":"Importer::Sanitiser.sanitise_row sanitises a csv row","status":"passed","file_path":"./spec/integrations/importer/sanitiser_spec.rb","line_number":12,"run_time":0.003509253,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/importer/sanitiser_spec.rb[1:2:1]","description":"is expected to eq [\"Awesome Header\", \"Awesome Field\"]","full_description":"Importer::Sanitiser.sanitise_array! is expected to eq [\"Awesome Header\", \"Awesome Field\"]","status":"passed","file_path":"./spec/integrations/importer/sanitiser_spec.rb","line_number":22,"run_time":0.006106092,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/importer/sanitiser_spec.rb[1:3:1]","description":"is expected to eq \"Awesome Header,Awesome Field\"","full_description":"Importer::Sanitiser.sanitise_string is expected to eq \"Awesome Header,Awesome Field\"","status":"passed","file_path":"./spec/integrations/importer/sanitiser_spec.rb","line_number":30,"run_time":0.003639548,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/importer/sanitiser_spec.rb[1:3:2:1]","description":"is expected to eq \"Only one value\"","full_description":"Importer::Sanitiser.sanitise_string when sanitising a string is expected to eq \"Only one value\"","status":"passed","file_path":"./spec/integrations/importer/sanitiser_spec.rb","line_number":35,"run_time":0.003676232,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/importer/sanitiser_spec.rb[1:3:3:1]","description":"is expected to eq \"Awesome\"","full_description":"Importer::Sanitiser.sanitise_string when spliting the csv we have a empty string as result is expected to eq \"Awesome\"","status":"passed","file_path":"./spec/integrations/importer/sanitiser_spec.rb","line_number":41,"run_time":0.003464129,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/importer/sanitiser_spec.rb[1:3:4:1]","description":"is expected to eq \"\"","full_description":"Importer::Sanitiser.sanitise_string when passing an empty string is expected to eq \"\"","status":"passed","file_path":"./spec/integrations/importer/sanitiser_spec.rb","line_number":47,"run_time":0.003545093,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/importer/sanitiser_spec.rb[1:3:5:1]","description":"is expected to eq \"\"","full_description":"Importer::Sanitiser.sanitise_string when passing a nil value is expected to eq \"\"","status":"passed","file_path":"./spec/integrations/importer/sanitiser_spec.rb","line_number":53,"run_time":0.003323698,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/vcards_controller_spec.rb[1:1]","description":"when downloading the VCards","full_description":"Contacts::VcardsController when downloading the VCards","status":"passed","file_path":"./spec/controllers/contacts/vcards_controller_spec.rb","line_number":15,"run_time":0.125238603,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/vcards_controller_spec.rb[1:2]","description":"download VCard for a single contact","full_description":"Contacts::VcardsController download VCard for a single contact","status":"passed","file_path":"./spec/controllers/contacts/vcards_controller_spec.rb","line_number":28,"run_time":0.128050881,"pending_message":null,"screenshot":null}],"summary":{"duration":1.759423114,"example_count":635,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"635 examples, 0 failures"}