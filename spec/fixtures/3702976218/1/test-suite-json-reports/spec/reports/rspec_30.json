{"version":"3.11.0","messages":["Run options:\n  include {:ids=\u003e{\"./spec/controllers/invoices_controller_spec.rb\"=\u003e[\"16:1\", \"15:8:2:1\"], \"./spec/models/invoice_spec.rb\"=\u003e[\"1:85:1:2\", \"1:112:2:2\", \"1:99:7\", \"1:98:3\"]}}\n  exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:1:1]","description":"renders the index page","full_description":"VatReturnsController GET #index renders the index page","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":50,"run_time":4.165614527,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:1:2]","description":"shows any journals in the liability column","full_description":"VatReturnsController GET #index shows any journals in the liability column","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":58,"run_time":0.625969573,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:1:3]","description":"shows all transactions to the VAT (817) account in the payment column","full_description":"VatReturnsController GET #index shows all transactions to the VAT (817) account in the payment column","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":83,"run_time":0.648642379,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:1:4]","description":"shows a (Refund) indicator on the refund","full_description":"VatReturnsController GET #index shows a (Refund) indicator on the refund","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":94,"run_time":0.580584055,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:1:5:1]","description":"shows a notice that the VAT returns could not be created","full_description":"VatReturnsController GET #index when the VAT returns cannot be created shows a notice that the VAT returns could not be created","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":104,"run_time":0.318001703,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:1:5:2:1]","description":"shows a notice that the VAT returns could not be created","full_description":"VatReturnsController GET #index when the VAT returns cannot be created for a re-registered company shows a notice that the VAT returns could not be created","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":123,"run_time":1.0387614,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:1:6:1]","description":"renders a 404","full_description":"VatReturnsController GET #index for a non UK company type renders a 404","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":134,"run_time":0.205909235,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:1:7:1]","description":"renders a 404","full_description":"VatReturnsController GET #index for a UK company type with no vat registration renders a 404","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":142,"run_time":0.184066591,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:1:8:1]","description":"sees the notice about completing de-registration","full_description":"VatReturnsController GET #index when a company is de-registered sees the notice about completing de-registration","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":151,"run_time":0.50704813,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:1:8:2:1]","description":"does not have the notice for completing de-registration","full_description":"VatReturnsController GET #index when a company is de-registered a fully de-registrered company does not have the notice for completing de-registration","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":159,"run_time":1.464500043,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:2:1]","description":"successfully returns the page, and does not have a grey details section","full_description":"VatReturnsController GET #show successfully returns the page, and does not have a grey details section","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":169,"run_time":0.461357874,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:2:2]","description":"has a filed dropdown and grey details section for a manually filed VAT return","full_description":"VatReturnsController GET #show has a filed dropdown and grey details section for a manually filed VAT return","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":176,"run_time":0.5464537,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:2:3]","description":"has a faux pending drop down and grey details section for a pending VAT return","full_description":"VatReturnsController GET #show has a faux pending drop down and grey details section for a pending VAT return","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":193,"run_time":0.502166863,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:2:4]","description":"provides an action dropdown for unfiled returns that can be filed","full_description":"VatReturnsController GET #show provides an action dropdown for unfiled returns that can be filed","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":205,"run_time":0.506637137,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:2:5]","description":"disables the action dropdown for unfiled returns that cannot yet be filed","full_description":"VatReturnsController GET #show disables the action dropdown for unfiled returns that cannot yet be filed","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":215,"run_time":0.590369898,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:2:6]","description":"provices a switch between the vat return and the full report","full_description":"VatReturnsController GET #show provices a switch between the vat return and the full report","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":221,"run_time":0.490291922,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:2:7]","description":"has the meta sidebar","full_description":"VatReturnsController GET #show has the meta sidebar","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":227,"run_time":0.503539717,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:2:8]","description":"has relevant vat return information in the meta sidebar","full_description":"VatReturnsController GET #show has relevant vat return information in the meta sidebar","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":233,"run_time":0.522396464,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:2:9:1]","description":"triggers the export report event","full_description":"VatReturnsController GET #show when pdf export params triggers the export report event","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":253,"run_time":0.378935193,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:2:9:2:1:1]","description":"includes the first VAT registration number","full_description":"VatReturnsController GET #show when pdf export params with multiple VAT registrations for a return in the first VAT registration includes the first VAT registration number","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":292,"run_time":0.891923902,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:2:9:2:2:1]","description":"includes the second VAT registration number","full_description":"VatReturnsController GET #show when pdf export params with multiple VAT registrations for a return in the second VAT registration includes the second VAT registration number","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":305,"run_time":0.932488264,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:2:10:1]","description":"links to file online with VAT MTD if the company has activated MTD","full_description":"VatReturnsController GET #show with an unfiled return links to file online with VAT MTD if the company has activated MTD","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":318,"run_time":0.608313887,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:2:10:2]","description":"does not show a link to file via the Transaction Engine if the company has not yet activated MTD","full_description":"VatReturnsController GET #show with an unfiled return does not show a link to file via the Transaction Engine if the company has not yet activated MTD","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":329,"run_time":0.563293817,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:2:11:1]","description":"does not link to file or refile","full_description":"VatReturnsController GET #show with a filed return does not link to file or refile","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":340,"run_time":1.212333774,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:2:12:1]","description":"links to file online with VAT MTD if the company has activated MTD","full_description":"VatReturnsController GET #show with a rejected return links to file online with VAT MTD if the company has activated MTD","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":354,"run_time":0.58884013,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:2:12:2]","description":"does not show a link to file via the Transaction Engine if the company has not yet activated MTD","full_description":"VatReturnsController GET #show with a rejected return does not show a link to file via the Transaction Engine if the company has not yet activated MTD","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":365,"run_time":0.584210141,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:2:13:1]","description":"doesn't show the link to file online if submissions have been disabled","full_description":"VatReturnsController GET #show vat submissions feature switch doesn't show the link to file online if submissions have been disabled","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":376,"run_time":0.607753832,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:2:13:2]","description":"shows the link to file online if submissions have been enabled","full_description":"VatReturnsController GET #show vat submissions feature switch shows the link to file online if submissions have been enabled","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":388,"run_time":0.624600234,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:3:1]","description":"succesfully processes the action","full_description":"VatReturnsController GET #edit succesfully processes the action","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":402,"run_time":0.3834874,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:3:2]","description":"disables the period_ends_on of your first return","full_description":"VatReturnsController GET #edit disables the period_ends_on of your first return","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":407,"run_time":0.447160318,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:3:3]","description":"doesn't allow editing of filed returns","full_description":"VatReturnsController GET #edit doesn't allow editing of filed returns","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":412,"run_time":0.296041663,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:4:1]","description":"files the selected return if currently unfiled","full_description":"VatReturnsController PUT #mark_as_filed files the selected return if currently unfiled","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":419,"run_time":0.425282988,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:4:2]","description":"archives all vat_submissions when marked as filed","full_description":"VatReturnsController PUT #mark_as_filed archives all vat_submissions when marked as filed","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":427,"run_time":0.496765526,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:4:3]","description":"adds audit entries for each vat return that gets marked as filed","full_description":"VatReturnsController PUT #mark_as_filed adds audit entries for each vat return that gets marked as filed","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":434,"run_time":0.544984502,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:5:1]","description":"unfiles the selected return if filed and any subsequent filed returns","full_description":"VatReturnsController PUT #unfile unfiles the selected return if filed and any subsequent filed returns","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":465,"run_time":0.592402692,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:5:2]","description":"adds audit entries for each vat return that gets unfiled","full_description":"VatReturnsController PUT #unfile adds audit entries for each vat return that gets unfiled","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":474,"run_time":0.58414454,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:6:1]","description":"can update the FRS type index","full_description":"VatReturnsController PUT #update can update the FRS type index","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":491,"run_time":0.425212129,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:6:2]","description":"updates the period_ends_on","full_description":"VatReturnsController PUT #update updates the period_ends_on","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":501,"run_time":0.383527957,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:6:3]","description":"allows you to move off the FRS scheme","full_description":"VatReturnsController PUT #update allows you to move off the FRS scheme","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":510,"run_time":0.401128636,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:6:4]","description":"displays an error message for invalid parameters","full_description":"VatReturnsController PUT #update displays an error message for invalid parameters","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":520,"run_time":0.436007562,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:6:5]","description":"displays a comical error message with a period_ends_on date before the starts_on date","full_description":"VatReturnsController PUT #update displays a comical error message with a period_ends_on date before the starts_on date","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":528,"run_time":0.418334742,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/vat_returns_controller_spec.rb[1:6:6]","description":"doesn't allow updating of filed returns","full_description":"VatReturnsController PUT #update doesn't allow updating of filed returns","status":"passed","file_path":"./spec/controllers/vat_returns_controller_spec.rb","line_number":536,"run_time":0.319811844,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2017_18/national_insurance.feature[1:1:1]","description":"Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When running payroll for a period -\u003e Then total employee NI should be £158.40 -\u003e And total employer NI should be £182.16","full_description":"Payroll NI calculations 2018 Generating payslips for an existing employee Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When running payroll for a period -\u003e Then total employee NI should be £158.40 -\u003e And total employer NI should be £182.16","status":"passed","file_path":"./spec/acceptance/payroll/2017_18/national_insurance.feature","line_number":11,"run_time":0.585227855,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2017_18/national_insurance.feature[1:2:1]","description":"Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a Director payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When running payroll for the whole tax year -\u003e Then total employee NI should be £1900.32 -\u003e And total employer NI should be £2185.37 -\u003e And the monthly NI payments should look like","full_description":"Payroll NI calculations 2018 Generating payslips for an existing director Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a Director payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When running payroll for the whole tax year -\u003e Then total employee NI should be £1900.32 -\u003e And total employer NI should be £2185.37 -\u003e And the monthly NI payments should look like","status":"passed","file_path":"./spec/acceptance/payroll/2017_18/national_insurance.feature","line_number":18,"run_time":1.947442345,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2017_18/national_insurance.feature[1:3:1]","description":"Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When they switch to Director NI contributions in month 4 with a directorship start date of 2017-07-01 -\u003e When running payroll for the whole tax year -\u003e Then they should pay 3 months using employee calculations and 9 months using director calculations -\u003e And total employee NI should be £1881.60 -\u003e And total employer NI should be £2163.84 -\u003e And the monthly NI payments should look like","full_description":"Payroll NI calculations 2018 Generating payslips for an existing employee becoming a director in month 3 Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When they switch to Director NI contributions in month 4 with a directorship start date of 2017-07-01 -\u003e When running payroll for the whole tax year -\u003e Then they should pay 3 months using employee calculations and 9 months using director calculations -\u003e And total employee NI should be £1881.60 -\u003e And total employer NI should be £2163.84 -\u003e And the monthly NI payments should look like","status":"passed","file_path":"./spec/acceptance/payroll/2017_18/national_insurance.feature","line_number":39,"run_time":2.058952078,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2017_18/national_insurance.feature[1:4:1]","description":"Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When they switch to Director NI contributions in month 3 with a directorship start date of 2017-07-01 -\u003e When running payroll for the whole tax year -\u003e Then they should pay 2 months using employee calculations and 10 months using director calculations -\u003e And total employee NI should be £1963.20 -\u003e And total employer NI should be £2257.68 -\u003e And the monthly NI payments should look like","full_description":"Payroll NI calculations 2018 Generating payslips for an existing employee becoming a director who is paid as a director before their start date Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When they switch to Director NI contributions in month 3 with a directorship start date of 2017-07-01 -\u003e When running payroll for the whole tax year -\u003e Then they should pay 2 months using employee calculations and 10 months using director calculations -\u003e And total employee NI should be £1963.20 -\u003e And total employer NI should be £2257.68 -\u003e And the monthly NI payments should look like","status":"passed","file_path":"./spec/acceptance/payroll/2017_18/national_insurance.feature","line_number":62,"run_time":2.659568854,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2017_18/national_insurance.feature[1:5:1]","description":"Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a Director payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e And they started employment on 2017-06-06 -\u003e When running payroll for the whole tax year -\u003e Then total employee NI should be £1571.04 -\u003e And total employer NI should be £1806.70 -\u003e And the monthly NI payments should look like","full_description":"Payroll NI calculations 2018 Generating payslips for a new starting director Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a Director payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e And they started employment on 2017-06-06 -\u003e When running payroll for the whole tax year -\u003e Then total employee NI should be £1571.04 -\u003e And total employer NI should be £1806.70 -\u003e And the monthly NI payments should look like","status":"passed","file_path":"./spec/acceptance/payroll/2017_18/national_insurance.feature","line_number":85,"run_time":1.919181161,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2017_18/national_insurance.feature[1:6:1]","description":"Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a Director payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e And they started employment on 2017-06-26 -\u003e When running payroll for the whole tax year -\u003e Then total employee NI should be £1627.56 -\u003e And total employer NI should be £1871.69 -\u003e And the monthly NI payments should look like","full_description":"Payroll NI calculations 2018 Generating payslips for a new starting director who is paid in advance of starting their directorship Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a Director payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e And they started employment on 2017-06-26 -\u003e When running payroll for the whole tax year -\u003e Then total employee NI should be £1627.56 -\u003e And total employer NI should be £1871.69 -\u003e And the monthly NI payments should look like","status":"passed","file_path":"./spec/acceptance/payroll/2017_18/national_insurance.feature","line_number":107,"run_time":1.90315948,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2017_18/national_insurance.feature[1:7:1]","description":"Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a Director payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When they switch to Employee NI contributions in month 3 -\u003e When running payroll for the whole tax year -\u003e Then they should pay 0 months using employee calculations and 12 months using director calculations -\u003e Then total employee NI should be £1900.32 -\u003e And total employer NI should be £2185.37 -\u003e And the monthly NI payments should look like","full_description":"Payroll NI calculations 2018 Generating payslips for an existing director who steps down and becomes an employee Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a Director payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When they switch to Employee NI contributions in month 3 -\u003e When running payroll for the whole tax year -\u003e Then they should pay 0 months using employee calculations and 12 months using director calculations -\u003e Then total employee NI should be £1900.32 -\u003e And total employer NI should be £2185.37 -\u003e And the monthly NI payments should look like","status":"passed","file_path":"./spec/acceptance/payroll/2017_18/national_insurance.feature","line_number":129,"run_time":1.969089552,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2017_18/national_insurance.feature[1:8:1]","description":"Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When running payroll for the whole tax year -\u003e Then total employee NI should be £1900.32 -\u003e And total employer NI should be £2185.37 -\u003e And the monthly NI payments should look like","full_description":"Payroll NI calculations 2018 Generating payslips for an existing director using the alternate arrangements Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When running payroll for the whole tax year -\u003e Then total employee NI should be £1900.32 -\u003e And total employer NI should be £2185.37 -\u003e And the monthly NI payments should look like","status":"passed","file_path":"./spec/acceptance/payroll/2017_18/national_insurance.feature","line_number":152,"run_time":1.954961774,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2017_18/national_insurance.feature[1:9:1]","description":"Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When they switch to Employee NI contributions in month 6 -\u003e When running payroll for the whole tax year -\u003e Then total employee NI should be £1900.32 -\u003e And total employer NI should be £2185.37 -\u003e And the monthly NI payments should look like","full_description":"Payroll NI calculations 2018 Generating payslips for an existing director using the alternate arrangements steps down mid-year Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When they switch to Employee NI contributions in month 6 -\u003e When running payroll for the whole tax year -\u003e Then total employee NI should be £1900.32 -\u003e And total employer NI should be £2185.37 -\u003e And the monthly NI payments should look like","status":"passed","file_path":"./spec/acceptance/payroll/2017_18/national_insurance.feature","line_number":173,"run_time":1.944060729,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2017_18/national_insurance.feature[1:10:1]","description":"Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When they switch to Director NI contributions in month 6 -\u003e When running payroll for the whole tax year -\u003e Then total employee NI should be £1900.32 -\u003e And total employer NI should be £2185.37 -\u003e And the monthly NI payments should look like","full_description":"Payroll NI calculations 2018 Generating payslips for an existing director using the alternate arrangements who switches to Director arrangments mid-year Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When they switch to Director NI contributions in month 6 -\u003e When running payroll for the whole tax year -\u003e Then total employee NI should be £1900.32 -\u003e And total employer NI should be £2185.37 -\u003e And the monthly NI payments should look like","status":"passed","file_path":"./spec/acceptance/payroll/2017_18/national_insurance.feature","line_number":195,"run_time":1.978483936,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2017_18/national_insurance.feature[1:11:1]","description":"Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When running payroll for 5 months -\u003e And they enter a leaving employment date on 2017-09-01 -\u003e And they receive their final salary payment in month 6 -\u003e Then total employee NI should be £220.32 -\u003e And total employer NI should be £253.37 -\u003e And the monthly NI payments should look like","full_description":"Payroll NI calculations 2018 Generating payslips for an existing director using the alternate arrangements who leaves employment mid-year after their final salary has been paid and filed Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When running payroll for 5 months -\u003e And they enter a leaving employment date on 2017-09-01 -\u003e And they receive their final salary payment in month 6 -\u003e Then total employee NI should be £220.32 -\u003e And total employer NI should be £253.37 -\u003e And the monthly NI payments should look like","status":"passed","file_path":"./spec/acceptance/payroll/2017_18/national_insurance.feature","line_number":217,"run_time":1.773870574,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2017_18/national_insurance.feature[1:12:1]","description":"Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When running payroll for 4 months -\u003e And they enter a leaving employment date on 2017-08-15 -\u003e And they receive their final salary payment in month 5 -\u003e Then total employee NI should be £220.32 -\u003e And total employer NI should be £253.37 -\u003e And the monthly NI payments should look like","full_description":"Payroll NI calculations 2018 Generating payslips for an existing director using the alternate arrangements who leaves employment mid-year before payroll is filed Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When running payroll for 4 months -\u003e And they enter a leaving employment date on 2017-08-15 -\u003e And they receive their final salary payment in month 5 -\u003e Then total employee NI should be £220.32 -\u003e And total employer NI should be £253.37 -\u003e And the monthly NI payments should look like","status":"passed","file_path":"./spec/acceptance/payroll/2017_18/national_insurance.feature","line_number":234,"run_time":1.0087903,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2017_18/national_insurance.feature[1:13:1]","description":"Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given an Director payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When they leave employment on 2017-08-15 -\u003e And running payroll for the whole tax year -\u003e Then total employee NI should be £220.32 -\u003e And total employer NI should be £253.37 -\u003e And the monthly NI payments should look like","full_description":"Payroll NI calculations 2018 Generating payslips for an existing director using the annual arrangements who leaves employment mid-year before payroll is filed Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given an Director payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When they leave employment on 2017-08-15 -\u003e And running payroll for the whole tax year -\u003e Then total employee NI should be £220.32 -\u003e And total employer NI should be £253.37 -\u003e And the monthly NI payments should look like","status":"passed","file_path":"./spec/acceptance/payroll/2017_18/national_insurance.feature","line_number":250,"run_time":1.674334152,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2017_18/national_insurance.feature[1:14:1]","description":"Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given an Employee payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When they leave employment on 2017-09-01 -\u003e And running payroll for a period -\u003e Then total employee NI should be £792.00 -\u003e And total employer NI should be £910.80 -\u003e And the monthly NI payments should look like","full_description":"Payroll NI calculations 2018 Generating payslips for an existing employee who leaves employment mid-year after payroll is filed Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given an Employee payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When they leave employment on 2017-09-01 -\u003e And running payroll for a period -\u003e Then total employee NI should be £792.00 -\u003e And total employer NI should be £910.80 -\u003e And the monthly NI payments should look like","status":"passed","file_path":"./spec/acceptance/payroll/2017_18/national_insurance.feature","line_number":265,"run_time":1.250867986,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2017_18/national_insurance.feature[1:15:1]","description":"Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a Director payroll profile with NI letter A -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e And they are paid £679 monthly -\u003e And they were migrated in month 5 with £2716 gross pay, £0 tax and £0 student loan deductions -\u003e And they have migrated earnings -\u003e When running payroll for the rest of the tax year -\u003e Then they should pay 0 months using employee calculations and 7 months using director calculations -\u003e Then total employee NI should be £0 -\u003e And total employer NI should be £0 -\u003e And the monthly NI payments should look like","full_description":"Payroll NI calculations 2018 Generating payslips for an existing director with migrated pay, just under the PT/ST limit Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a Director payroll profile with NI letter A -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e And they are paid £679 monthly -\u003e And they were migrated in month 5 with £2716 gross pay, £0 tax and £0 student loan deductions -\u003e And they have migrated earnings -\u003e When running payroll for the rest of the tax year -\u003e Then they should pay 0 months using employee calculations and 7 months using director calculations -\u003e Then total employee NI should be £0 -\u003e And total employer NI should be £0 -\u003e And the monthly NI payments should look like","status":"passed","file_path":"./spec/acceptance/payroll/2017_18/national_insurance.feature","line_number":281,"run_time":1.24430761,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2017_18/national_insurance.feature[1:16:1]","description":"Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £4000 monthly -\u003e And they were first paid in month 5 -\u003e And they started employment on 2017-08-01 -\u003e When in month 10 they resign from being a director but continue in employment -\u003e And they run payroll in month 12 -\u003e Then total employee NIC should be £3077.16 -\u003e And total employer NIC should be £3636.03 -\u003e And the monthly NI payments should look like","full_description":"Payroll NI calculations 2018 Calculating NIC for a new Alternate Director resigning but continuing employment Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £4000 monthly -\u003e And they were first paid in month 5 -\u003e And they started employment on 2017-08-01 -\u003e When in month 10 they resign from being a director but continue in employment -\u003e And they run payroll in month 12 -\u003e Then total employee NIC should be £3077.16 -\u003e And total employer NIC should be £3636.03 -\u003e And the monthly NI payments should look like","status":"passed","file_path":"./spec/acceptance/payroll/2017_18/national_insurance.feature","line_number":304,"run_time":1.425468642,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:7]","description":"renders an edit form for credit notes","full_description":"CreditNotesController renders an edit form for credit notes","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":511,"run_time":0.254808768,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:1:1:1]","description":"renders the new page","full_description":"CreditNotesController#new when user is authorised renders the new page","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":15,"run_time":0.107681537,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:1:1:2:1]","description":"sets those params as attributes on the credit note","full_description":"CreditNotesController#new when user is authorised when permitted params are passed sets those params as attributes on the credit note","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":30,"run_time":0.14479332,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:1:2:1]","description":"renders as unauthorized","full_description":"CreditNotesController#new when user is not authorised renders as unauthorized","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":45,"run_time":0.086269453,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:2:1:1:1]","description":"renders the new template","full_description":"CreditNotesController#create when user is authorised when params are invalid renders the new template","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":60,"run_time":0.106285216,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:2:1:2:2]","description":"creates the credit note","full_description":"CreditNotesController#create when user is authorised when valid creates the credit note","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":95,"run_time":0.094035041,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:2:1:2:3]","description":"sets the default company theme","full_description":"CreditNotesController#create when user is authorised when valid sets the default company theme","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":100,"run_time":0.112260246,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:2:1:2:4]","description":"tracks the event","full_description":"CreditNotesController#create when user is authorised when valid tracks the event","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":106,"run_time":0.101957079,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:2:1:2:5]","description":"creates an audit entry","full_description":"CreditNotesController#create when user is authorised when valid creates an audit entry","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":113,"run_time":0.107579286,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:2:1:2:6]","description":"redirects to the credit note","full_description":"CreditNotesController#create when user is authorised when valid redirects to the credit note","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":128,"run_time":0.091694214,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:2:1:2:1:1]","description":"creates a new invoice using the fallback default theme instead of the custom theme","full_description":"CreditNotesController#create when user is authorised when valid when the company's default theme selection is the custom theme and the theme_customisation_circuit_breaker is broken creates a new invoice using the fallback default theme instead of the custom theme","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":89,"run_time":0.096644987,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:2:1:3:1]","description":"can't create a new credit note with property attributes","full_description":"CreditNotesController#create when user is authorised as a non-landlord can't create a new credit note with property attributes","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":137,"run_time":0.210197127,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:2:1:3:2]","description":"can't create a new credit note with a property id","full_description":"CreditNotesController#create when user is authorised as a non-landlord can't create a new credit note with a property id","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":155,"run_time":0.266659861,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:2:1:4:1:1]","description":"creates the credit_note with the correct property","full_description":"CreditNotesController#create when user is authorised as a landlord with an existing property creates the credit_note with the correct property","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":179,"run_time":0.188466805,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:2:1:4:1:2]","description":"does not create a credit note without a property id","full_description":"CreditNotesController#create when user is authorised as a landlord with an existing property does not create a credit note without a property id","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":196,"run_time":0.236929453,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:2:1:4:2:1]","description":"creates new credit note with a new property when property attributes are present","full_description":"CreditNotesController#create when user is authorised as a landlord with not existing properties creates new credit note with a new property when property attributes are present","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":213,"run_time":0.202006758,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:2:1:5:1:1:1:1]","description":"completes the add_contact event","full_description":"CreditNotesController#create when user is authorised flying start event tracking behaves like FlyingStart::TrackAddContactCompletion for landlord companies on successful creation completes the add_contact event","status":"passed","file_path":"./spec/support/shared_examples/flying_start/track_add_contact_completion_examples.rb","line_number":15,"run_time":0.208029269,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:2:1:5:1:1:2:1]","description":"doesn't complete the add_contact event","full_description":"CreditNotesController#create when user is authorised flying start event tracking behaves like FlyingStart::TrackAddContactCompletion for landlord companies on unsuccessful creation doesn't complete the add_contact event","status":"passed","file_path":"./spec/support/shared_examples/flying_start/track_add_contact_completion_examples.rb","line_number":23,"run_time":0.222622927,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:2:1:5:1:2:1]","description":"doesn't complete the add_contact event","full_description":"CreditNotesController#create when user is authorised flying start event tracking behaves like FlyingStart::TrackAddContactCompletion for non-landlord companies doesn't complete the add_contact event","status":"passed","file_path":"./spec/support/shared_examples/flying_start/track_add_contact_completion_examples.rb","line_number":34,"run_time":0.100025209,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:2:1:5:2:1:1:1]","description":"completes the add_property event","full_description":"CreditNotesController#create when user is authorised flying start event tracking behaves like FlyingStart::TrackAddPropertyCompletion for landlord companies on successful creation completes the add_property event","status":"passed","file_path":"./spec/support/shared_examples/flying_start/track_add_property_completion_examples.rb","line_number":15,"run_time":0.231982427,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:2:1:5:2:1:2:1]","description":"doesn't complete the add_property event","full_description":"CreditNotesController#create when user is authorised flying start event tracking behaves like FlyingStart::TrackAddPropertyCompletion for landlord companies on unsuccessful creation doesn't complete the add_property event","status":"passed","file_path":"./spec/support/shared_examples/flying_start/track_add_property_completion_examples.rb","line_number":23,"run_time":0.222336319,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:2:1:5:2:2:1]","description":"doesn't complete the add_property event","full_description":"CreditNotesController#create when user is authorised flying start event tracking behaves like FlyingStart::TrackAddPropertyCompletion for non-landlord companies doesn't complete the add_property event","status":"passed","file_path":"./spec/support/shared_examples/flying_start/track_add_property_completion_examples.rb","line_number":34,"run_time":0.092660612,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:2:2:1]","description":"will render the request as unauthorized","full_description":"CreditNotesController#create when user is not authorised will render the request as unauthorized","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":265,"run_time":0.078020722,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:3:1]","description":"creates a credit note from the invoice","full_description":"CreditNotesController#create_from_invoice creates a credit note from the invoice","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":276,"run_time":0.231039393,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:3:2]","description":"creates a credit note from VAT MOSS invoice","full_description":"CreditNotesController#create_from_invoice creates a credit note from VAT MOSS invoice","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":291,"run_time":0.23945593,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:3:3]","description":"tracks metrics when a credit note is created from the invoice","full_description":"CreditNotesController#create_from_invoice tracks metrics when a credit note is created from the invoice","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":308,"run_time":0.334446424,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:3:4]","description":"creates an audit entry when a credit note is created from the invoice","full_description":"CreditNotesController#create_from_invoice creates an audit entry when a credit note is created from the invoice","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":317,"run_time":0.849513226,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:3:5]","description":"creates a credit note with an associated project when the invoice is associated with the project","full_description":"CreditNotesController#create_from_invoice creates a credit note with an associated project when the invoice is associated with the project","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":332,"run_time":0.223259592,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:3:6]","description":"redirects to the invoice if the credit note could not be saved","full_description":"CreditNotesController#create_from_invoice redirects to the invoice if the credit note could not be saved","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":343,"run_time":0.127624113,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:3:7:1]","description":"won't create a CreditNote","full_description":"CreditNotesController#create_from_invoice when user is not authorised won't create a CreditNote","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":358,"run_time":0.158626009,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:4:1:1]","description":"won't render the edit page","full_description":"CreditNotesController#edit when user is not authorised won't render the edit page","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":372,"run_time":0.160569914,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:5:2]","description":"updates a credit note","full_description":"CreditNotesController#update updates a credit note","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":395,"run_time":0.233942666,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:5:3]","description":"updates the project line items, when the credit note project is updated","full_description":"CreditNotesController#update updates the project line items, when the credit note project is updated","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":408,"run_time":0.231211148,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:5:4]","description":"does not update the credit note items if the credit note does not update succesfully","full_description":"CreditNotesController#update does not update the credit note items if the credit note does not update succesfully","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":420,"run_time":0.242559801,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:5:5]","description":"does not update the credit note if the credit note items do not also update succesfully","full_description":"CreditNotesController#update does not update the credit note if the credit note items do not also update succesfully","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":431,"run_time":0.351053808,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:5:6]","description":"displays validation errors if the credit note is updated without ref and date","full_description":"CreditNotesController#update displays validation errors if the credit note is updated without ref and date","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":444,"run_time":0.263927245,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:5:7]","description":"displays validation errors if the credit note is updated with invalid date","full_description":"CreditNotesController#update displays validation errors if the credit note is updated with invalid date","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":453,"run_time":0.240960214,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:5:1:1]","description":"won't update a CreditNote","full_description":"CreditNotesController#update when user is not authorised won't update a CreditNote","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":388,"run_time":0.182630319,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:6:1:1]","description":"won't destroy a CreditNote","full_description":"CreditNotesController#destroy when user is not authorised won't destroy a CreditNote","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":473,"run_time":0.166806548,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:6:2:1]","description":"deletes a draft credit note","full_description":"CreditNotesController#destroy when user is authorised deletes a draft credit note","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":481,"run_time":0.217947708,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:6:2:2]","description":"creates an audit entry","full_description":"CreditNotesController#destroy when user is authorised creates an audit entry","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":487,"run_time":0.191486909,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:6:2:3]","description":"does not delete a sent credit note","full_description":"CreditNotesController#destroy when user is authorised does not delete a sent credit note","status":"passed","file_path":"./spec/controllers/credit_notes_controller_spec.rb","line_number":500,"run_time":0.230630669,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:8:1:1:1:1]","description":"lets the user view the page","full_description":"CreditNotesController behaves like CheckLandlordUserCanCreateProperties for a UK Landlord company the index action for a user with User::TAX_AND_LIMITED_ACCOUNTING permissions or above when there are existing properties lets the user view the page","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":7,"run_time":0.14351058,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:8:1:1:2:1]","description":"lets the user view the page","full_description":"CreditNotesController behaves like CheckLandlordUserCanCreateProperties for a UK Landlord company the index action for a user with User::TAX_AND_LIMITED_ACCOUNTING permissions or above when there are no existing properties lets the user view the page","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":7,"run_time":0.10968392,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:8:1:2:1:1]","description":"lets the user view the page","full_description":"CreditNotesController behaves like CheckLandlordUserCanCreateProperties for a UK Landlord company the index action for a user with User::BANKING permissions or below when there are existing properties lets the user view the page","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":7,"run_time":0.128346988,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:8:1:2:2:1]","description":"shows the user the access denied page, as they cannot do anything without a property","full_description":"CreditNotesController behaves like CheckLandlordUserCanCreateProperties for a UK Landlord company the index action for a user with User::BANKING permissions or below when there are no existing properties shows the user the access denied page, as they cannot do anything without a property","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":57,"run_time":0.137232601,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:8:1:3:1:1]","description":"lets the user view the page","full_description":"CreditNotesController behaves like CheckLandlordUserCanCreateProperties for a UK Landlord company the new action for a user with User::TAX_AND_LIMITED_ACCOUNTING permissions or above when there are existing properties lets the user view the page","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":7,"run_time":0.262947726,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:8:1:3:2:1]","description":"lets the user view the page","full_description":"CreditNotesController behaves like CheckLandlordUserCanCreateProperties for a UK Landlord company the new action for a user with User::TAX_AND_LIMITED_ACCOUNTING permissions or above when there are no existing properties lets the user view the page","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":7,"run_time":0.230661786,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:8:1:4:1:1]","description":"lets the user view the page","full_description":"CreditNotesController behaves like CheckLandlordUserCanCreateProperties for a UK Landlord company the new action for a user with User::BANKING permissions or below when there are existing properties lets the user view the page","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":7,"run_time":0.212736254,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:8:1:4:2:1]","description":"shows the user the access denied page, as they cannot do anything without a property","full_description":"CreditNotesController behaves like CheckLandlordUserCanCreateProperties for a UK Landlord company the new action for a user with User::BANKING permissions or below when there are no existing properties shows the user the access denied page, as they cannot do anything without a property","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":57,"run_time":0.16859101,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:8:2:1:1]","description":"lets the user view the page","full_description":"CreditNotesController behaves like CheckLandlordUserCanCreateProperties for a non-Landlord company the index action for a user with User::TAX_AND_LIMITED_ACCOUNTING permissions or above lets the user view the page","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":7,"run_time":0.131978941,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:8:2:2:1]","description":"lets the user view the page","full_description":"CreditNotesController behaves like CheckLandlordUserCanCreateProperties for a non-Landlord company the index action for a user with User::BANKING permissions or below lets the user view the page","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":7,"run_time":0.121846249,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:8:2:3:1]","description":"lets the user view the page","full_description":"CreditNotesController behaves like CheckLandlordUserCanCreateProperties for a non-Landlord company the new action for a user with User::TAX_AND_LIMITED_ACCOUNTING permissions or above lets the user view the page","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":7,"run_time":0.22474925,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes_controller_spec.rb[1:8:2:4:1]","description":"lets the user view the page","full_description":"CreditNotesController behaves like CheckLandlordUserCanCreateProperties for a non-Landlord company the new action for a user with User::BANKING permissions or below lets the user view the page","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":7,"run_time":0.220069227,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:3]","description":"adds the project to the bill","full_description":"BillsController#update adds the project to the bill","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":187,"run_time":0.271561738,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:4]","description":"does not allow contact to be updated to someone outside the current company","full_description":"BillsController#update does not allow contact to be updated to someone outside the current company","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":199,"run_time":0.238257154,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:5]","description":"shows an error messages when updating bill and uploading an attachment \u003e 5MB","full_description":"BillsController#update shows an error messages when updating bill and uploading an attachment \u003e 5MB","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":216,"run_time":0.45634406,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:6]","description":"does not throw an error when total_value is blank","full_description":"BillsController#update does not throw an error when total_value is blank","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":232,"run_time":0.345060165,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:7]","description":"reassigns bill category when the nominal code is specified","full_description":"BillsController#update reassigns bill category when the nominal code is specified","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":248,"run_time":0.217262188,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:13]","description":"publishes the BILL_EDITED event","full_description":"BillsController#update publishes the BILL_EDITED event","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":550,"run_time":0.192128421,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:1:1]","description":"redirects to the bill show page","full_description":"BillsController#update when redirecting after update redirects to the bill show page","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":14,"run_time":0.194189638,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:2:1:1]","description":"updates the attachment comment","full_description":"BillsController#update bills with attachments updating an existing attachment updates the attachment comment","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":29,"run_time":0.307573815,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:2:2:1]","description":"replaces the bill's attachment","full_description":"BillsController#update bills with attachments attaching via user upload replaces the bill's attachment","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":77,"run_time":0.219219668,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:2:2:2]","description":"publishes an event when user uploads attachment","full_description":"BillsController#update bills with attachments attaching via user upload publishes an event when user uploads attachment","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":89,"run_time":0.231462022,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:2:3:1:1]","description":"redirects to the bill path","full_description":"BillsController#update bills with attachments attaching a file from files area for an available file redirects to the bill path","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":117,"run_time":0.382357997,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:2:3:1:2]","description":"updates the bill attachment","full_description":"BillsController#update bills with attachments attaching a file from files area for an available file updates the bill attachment","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":123,"run_time":0.438102394,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:2:3:1:3]","description":"removes file from files area","full_description":"BillsController#update bills with attachments attaching a file from files area for an available file removes file from files area","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":132,"run_time":0.399831641,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:2:3:1:4]","description":"publishes an event","full_description":"BillsController#update bills with attachments attaching a file from files area for an available file publishes an event","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":137,"run_time":0.358814349,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:2:3:2:1]","description":"displays an error to the user","full_description":"BillsController#update bills with attachments attaching a file from files area for a file that doesn't belong to user and company displays an error to the user","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":163,"run_time":0.548005705,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:2:3:2:2]","description":"does not attach the file to expense","full_description":"BillsController#update bills with attachments attaching a file from files area for a file that doesn't belong to user and company does not attach the file to expense","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":173,"run_time":0.491003126,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:2:3:2:3]","description":"does not remove the document","full_description":"BillsController#update bills with attachments attaching a file from files area for a file that doesn't belong to user and company does not remove the document","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":180,"run_time":0.264842909,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:8:1:1]","description":"updates the asset's depreciation schedule","full_description":"BillsController#update bills with capital assets updating an existing capital asset updates the asset's depreciation schedule","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":277,"run_time":0.427830852,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:9:1:1]","description":"does not have a hire purchase record","full_description":"BillsController#update #is_paid_by_hire_purchase a non hire purchase bill does not have a hire purchase record","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":300,"run_time":0.078159673,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:9:1:2:1]","description":"does not create a hire purchase record","full_description":"BillsController#update #is_paid_by_hire_purchase a non hire purchase bill when saving the bill without changing the hire purchase status does not create a hire purchase record","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":305,"run_time":0.142385382,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:9:1:3:1]","description":"creates a hire purchase record","full_description":"BillsController#update #is_paid_by_hire_purchase a non hire purchase bill when marking the bill as a hire purchase creates a hire purchase record","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":328,"run_time":0.149568114,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:9:1:3:2]","description":"publishes BILL_EDITED event with correct data","full_description":"BillsController#update #is_paid_by_hire_purchase a non hire purchase bill when marking the bill as a hire purchase publishes BILL_EDITED event with correct data","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":333,"run_time":0.151873973,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:9:2:1]","description":"has a hire purchase record","full_description":"BillsController#update #is_paid_by_hire_purchase a hire purchase bill has a hire purchase record","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":362,"run_time":0.072384465,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:9:2:2:1]","description":"does not destroy the associated hire purchase record","full_description":"BillsController#update #is_paid_by_hire_purchase a hire purchase bill when saving the bill without changing the hire purchase status does not destroy the associated hire purchase record","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":367,"run_time":0.166137981,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:9:2:3:1]","description":"destroys the associated hire purchase record","full_description":"BillsController#update #is_paid_by_hire_purchase a hire purchase bill when unmarking the bill as a hire purchase destroys the associated hire purchase record","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":390,"run_time":0.156617374,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:9:2:3:2]","description":"publishes BILL_EDITED event with correct data","full_description":"BillsController#update #is_paid_by_hire_purchase a hire purchase bill when unmarking the bill as a hire purchase publishes BILL_EDITED event with correct data","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":395,"run_time":0.148676235,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:10:1]","description":"creates an audit entry on successful update","full_description":"BillsController#update audit trail creates an audit entry on successful update","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":423,"run_time":0.17942888,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:10:2]","description":"does not create an audit entry on unsuccessful update","full_description":"BillsController#update audit trail does not create an audit entry on unsuccessful update","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":447,"run_time":0.207255224,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:11:1]","description":"updates the property_id","full_description":"BillsController#update for a UK landlord updates the property_id","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":487,"run_time":0.338944845,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:12:1:1]","description":"remains true (including tax)","full_description":"BillsController#update populating input_total_values_inc_tax changing a bill to the native currency remains true (including tax)","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":496,"run_time":0.259773597,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:12:2:1]","description":"stores true (including tax)","full_description":"BillsController#update populating input_total_values_inc_tax changing a bill to a foreign currency stores true (including tax)","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":506,"run_time":0.258919843,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:12:3:1]","description":"doesn't change the value","full_description":"BillsController#update populating input_total_values_inc_tax updating a bill doesn't change the value","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":516,"run_time":0.24042588,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:12:4:1]","description":"doesn't change the value by default","full_description":"BillsController#update populating input_total_values_inc_tax for a native currency bill doesn't change the value by default","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":526,"run_time":0.243758793,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:12:4:2]","description":"stores the passed value if given","full_description":"BillsController#update populating input_total_values_inc_tax for a native currency bill stores the passed value if given","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":532,"run_time":0.211096976,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:12:5:1]","description":"stores true (including tax)","full_description":"BillsController#update populating input_total_values_inc_tax changing a bill to a foreign currency stores true (including tax)","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":542,"run_time":0.238622479,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_vat_submissions_controller_spec.rb[1:1:1]","description":"redirects to VAT return show page if not fileable","full_description":"MTDVatSubmissionsController GET #new redirects to VAT return show page if not fileable","status":"passed","file_path":"./spec/controllers/mtd_vat_submissions_controller_spec.rb","line_number":28,"run_time":0.307302624,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_vat_submissions_controller_spec.rb[1:1:2]","description":"only allows access to level 8 users","full_description":"MTDVatSubmissionsController GET #new only allows access to level 8 users","status":"passed","file_path":"./spec/controllers/mtd_vat_submissions_controller_spec.rb","line_number":35,"run_time":0.354839401,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_vat_submissions_controller_spec.rb[1:1:3]","description":"redirects to VAT return show page if company does not file VAT via MTD","full_description":"MTDVatSubmissionsController GET #new redirects to VAT return show page if company does not file VAT via MTD","status":"passed","file_path":"./spec/controllers/mtd_vat_submissions_controller_spec.rb","line_number":44,"run_time":0.280931188,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_vat_submissions_controller_spec.rb[1:1:4:1]","description":"renders the preview page with errors","full_description":"MTDVatSubmissionsController GET #new when the client has no existing authorization renders the preview page with errors","status":"passed","file_path":"./spec/controllers/mtd_vat_submissions_controller_spec.rb","line_number":53,"run_time":0.374901084,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_vat_submissions_controller_spec.rb[1:1:5:1]","description":"renders the preview page with errors if the HMRC's servers go wrong","full_description":"MTDVatSubmissionsController GET #new when the client has existing authorization renders the preview page with errors if the HMRC's servers go wrong","status":"passed","file_path":"./spec/controllers/mtd_vat_submissions_controller_spec.rb","line_number":72,"run_time":0.413606408,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_vat_submissions_controller_spec.rb[1:1:5:2]","description":"renders the preview page with errors if the authorization is invalid","full_description":"MTDVatSubmissionsController GET #new when the client has existing authorization renders the preview page with errors if the authorization is invalid","status":"passed","file_path":"./spec/controllers/mtd_vat_submissions_controller_spec.rb","line_number":85,"run_time":0.414194885,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_vat_submissions_controller_spec.rb[1:1:5:3]","description":"renders the preview page with an error if it cannot fetch obligations","full_description":"MTDVatSubmissionsController GET #new when the client has existing authorization renders the preview page with an error if it cannot fetch obligations","status":"passed","file_path":"./spec/controllers/mtd_vat_submissions_controller_spec.rb","line_number":98,"run_time":0.410715741,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_vat_submissions_controller_spec.rb[1:1:5:5]","description":"renders the preview page with an error if the there are no obligations found","full_description":"MTDVatSubmissionsController GET #new when the client has existing authorization renders the preview page with an error if the there are no obligations found","status":"passed","file_path":"./spec/controllers/mtd_vat_submissions_controller_spec.rb","line_number":143,"run_time":0.409068456,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_vat_submissions_controller_spec.rb[1:1:5:6]","description":"renders the preview page with an error if the there are no matching obligations","full_description":"MTDVatSubmissionsController GET #new when the client has existing authorization renders the preview page with an error if the there are no matching obligations","status":"passed","file_path":"./spec/controllers/mtd_vat_submissions_controller_spec.rb","line_number":156,"run_time":0.419639466,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_vat_submissions_controller_spec.rb[1:1:5:7]","description":"renders the preview page with a warning if the there are previous obliged returns","full_description":"MTDVatSubmissionsController GET #new when the client has existing authorization renders the preview page with a warning if the there are previous obliged returns","status":"passed","file_path":"./spec/controllers/mtd_vat_submissions_controller_spec.rb","line_number":176,"run_time":0.403208748,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_vat_submissions_controller_spec.rb[1:1:5:8]","description":"renders the preview page with no warning if the previous obliged returns are marked as filed in FreeAgent","full_description":"MTDVatSubmissionsController GET #new when the client has existing authorization renders the preview page with no warning if the previous obliged returns are marked as filed in FreeAgent","status":"passed","file_path":"./spec/controllers/mtd_vat_submissions_controller_spec.rb","line_number":205,"run_time":0.487946246,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_vat_submissions_controller_spec.rb[1:1:5:9]","description":"renders the preview page with no warning if there is a pre-FreeAgent open return","full_description":"MTDVatSubmissionsController GET #new when the client has existing authorization renders the preview page with no warning if there is a pre-FreeAgent open return","status":"passed","file_path":"./spec/controllers/mtd_vat_submissions_controller_spec.rb","line_number":235,"run_time":0.382058293,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_vat_submissions_controller_spec.rb[1:1:5:10]","description":"renders the preview page with no warning if the there are no previous obliged returns","full_description":"MTDVatSubmissionsController GET #new when the client has existing authorization renders the preview page with no warning if the there are no previous obliged returns","status":"passed","file_path":"./spec/controllers/mtd_vat_submissions_controller_spec.rb","line_number":262,"run_time":0.399454204,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_vat_submissions_controller_spec.rb[1:1:5:4:1]","description":"renders the preview page with a special error if they aren't authorised","full_description":"MTDVatSubmissionsController GET #new when the client has existing authorization when logged in as an account manager renders the preview page with a special error if they aren't authorised","status":"passed","file_path":"./spec/controllers/mtd_vat_submissions_controller_spec.rb","line_number":120,"run_time":0.490861109,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_vat_submissions_controller_spec.rb[1:2:1]","description":"redirects to VAT return show page if not fileable","full_description":"MTDVatSubmissionsController POST #create redirects to VAT return show page if not fileable","status":"passed","file_path":"./spec/controllers/mtd_vat_submissions_controller_spec.rb","line_number":298,"run_time":0.313146277,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_vat_submissions_controller_spec.rb[1:2:3]","description":"only allows access to level 8 users","full_description":"MTDVatSubmissionsController POST #create only allows access to level 8 users","status":"passed","file_path":"./spec/controllers/mtd_vat_submissions_controller_spec.rb","line_number":355,"run_time":0.404814222,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_vat_submissions_controller_spec.rb[1:2:4]","description":"redirects to VAT return show page if company does not file VAT via MTD","full_description":"MTDVatSubmissionsController POST #create redirects to VAT return show page if company does not file VAT via MTD","status":"passed","file_path":"./spec/controllers/mtd_vat_submissions_controller_spec.rb","line_number":366,"run_time":0.276439458,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_vat_submissions_controller_spec.rb[1:2:2:1]","description":"redirects to MTD preview page if declaration not accepted","full_description":"MTDVatSubmissionsController POST #create when the VAT return is fileable redirects to MTD preview page if declaration not accepted","status":"passed","file_path":"./spec/controllers/mtd_vat_submissions_controller_spec.rb","line_number":312,"run_time":0.279051428,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_vat_submissions_controller_spec.rb[1:2:2:2]","description":"sends the correct period_key and the current user","full_description":"MTDVatSubmissionsController POST #create when the VAT return is fileable sends the correct period_key and the current user","status":"passed","file_path":"./spec/controllers/mtd_vat_submissions_controller_spec.rb","line_number":318,"run_time":0.4518772,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_vat_submissions_controller_spec.rb[1:2:2:3]","description":"creates a submitted audit entry","full_description":"MTDVatSubmissionsController POST #create when the VAT return is fileable creates a submitted audit entry","status":"passed","file_path":"./spec/controllers/mtd_vat_submissions_controller_spec.rb","line_number":336,"run_time":0.465687106,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_vat_submissions_controller_spec.rb[1:3:1]","description":"only allows access to level 8 users","full_description":"MTDVatSubmissionsController POST #cancel only allows access to level 8 users","status":"passed","file_path":"./spec/controllers/mtd_vat_submissions_controller_spec.rb","line_number":378,"run_time":0.377645926,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_vat_submissions_controller_spec.rb[1:3:2:1]","description":"cancels the submission","full_description":"MTDVatSubmissionsController POST #cancel there is a pending submission cancels the submission","status":"passed","file_path":"./spec/controllers/mtd_vat_submissions_controller_spec.rb","line_number":392,"run_time":0.366550774,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_vat_submissions_controller_spec.rb[1:3:3:1]","description":"does not cancel the submission","full_description":"MTDVatSubmissionsController POST #cancel there is a filed submission does not cancel the submission","status":"passed","file_path":"./spec/controllers/mtd_vat_submissions_controller_spec.rb","line_number":405,"run_time":0.337129409,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_vat_submissions_controller_spec.rb[1:3:4:1]","description":"does not cancel the submission","full_description":"MTDVatSubmissionsController POST #cancel there is a rejected submission does not cancel the submission","status":"passed","file_path":"./spec/controllers/mtd_vat_submissions_controller_spec.rb","line_number":418,"run_time":0.298919879,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/self_assessment/filing_controller_spec.rb[1:1:1:1:1:1]","description":"is expected to redirect to \"/tax/975572343/sa_returns/05-Apr-13\"","full_description":"SelfAssessment::FilingController logged in when self_assessment_returns exist for tax year 2012/13 when self_assessment_filing is disabled GET prepare is expected to redirect to \"/tax/975572343/sa_returns/05-Apr-13\"","status":"passed","file_path":"./spec/controllers/self_assessment/filing_controller_spec.rb","line_number":36,"run_time":0.516928761,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/self_assessment/filing_controller_spec.rb[1:1:1:1:2:1]","description":"is expected to redirect to \"/tax/975572344/sa_returns/05-Apr-13\"","full_description":"SelfAssessment::FilingController logged in when self_assessment_returns exist for tax year 2012/13 when self_assessment_filing is disabled PUT mark_as_filed is expected to redirect to \"/tax/975572344/sa_returns/05-Apr-13\"","status":"passed","file_path":"./spec/controllers/self_assessment/filing_controller_spec.rb","line_number":42,"run_time":0.413959238,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/self_assessment/filing_controller_spec.rb[1:1:1:1:3:1]","description":"is expected to redirect to \"/tax/975572345/sa_returns/05-Apr-13\"","full_description":"SelfAssessment::FilingController logged in when self_assessment_returns exist for tax year 2012/13 when self_assessment_filing is disabled GET capture_gateway_credentials is expected to redirect to \"/tax/975572345/sa_returns/05-Apr-13\"","status":"passed","file_path":"./spec/controllers/self_assessment/filing_controller_spec.rb","line_number":48,"run_time":0.420332745,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/self_assessment/filing_controller_spec.rb[1:1:1:1:4:1]","description":"is expected to redirect to \"/tax/975572346/sa_returns/05-Apr-13\"","full_description":"SelfAssessment::FilingController logged in when self_assessment_returns exist for tax year 2012/13 when self_assessment_filing is disabled PUT file is expected to redirect to \"/tax/975572346/sa_returns/05-Apr-13\"","status":"passed","file_path":"./spec/controllers/self_assessment/filing_controller_spec.rb","line_number":54,"run_time":0.395522724,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/self_assessment/filing_controller_spec.rb[1:1:1:2:1:1]","description":"marks the self_assessment_return as filed","full_description":"SelfAssessment::FilingController logged in when self_assessment_returns exist for tax year 2012/13 when self_assessment_filing is enabled PUT mark_as_filed marks the self_assessment_return as filed","status":"passed","file_path":"./spec/controllers/self_assessment/filing_controller_spec.rb","line_number":68,"run_time":0.467109675,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/self_assessment/filing_controller_spec.rb[1:1:1:2:1:2]","description":"redirects to the entrypoint url","full_description":"SelfAssessment::FilingController logged in when self_assessment_returns exist for tax year 2012/13 when self_assessment_filing is enabled PUT mark_as_filed redirects to the entrypoint url","status":"passed","file_path":"./spec/controllers/self_assessment/filing_controller_spec.rb","line_number":74,"run_time":0.462936842,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/self_assessment/filing_controller_spec.rb[1:1:1:2:1:3]","description":"publishes a SELF_ASSESSMENT_MARKED_AS_FILED event","full_description":"SelfAssessment::FilingController logged in when self_assessment_returns exist for tax year 2012/13 when self_assessment_filing is enabled PUT mark_as_filed publishes a SELF_ASSESSMENT_MARKED_AS_FILED event","status":"passed","file_path":"./spec/controllers/self_assessment/filing_controller_spec.rb","line_number":79,"run_time":0.448858953,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/self_assessment/filing_controller_spec.rb[1:1:1:2:2:1]","description":"marks the self_assessment_return as unfiled","full_description":"SelfAssessment::FilingController logged in when self_assessment_returns exist for tax year 2012/13 when self_assessment_filing is enabled PUT mark_as_unfiled marks the self_assessment_return as unfiled","status":"passed","file_path":"./spec/controllers/self_assessment/filing_controller_spec.rb","line_number":92,"run_time":0.377395941,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/self_assessment/filing_controller_spec.rb[1:1:1:2:2:2]","description":"redirects to the entrypoint url","full_description":"SelfAssessment::FilingController logged in when self_assessment_returns exist for tax year 2012/13 when self_assessment_filing is enabled PUT mark_as_unfiled redirects to the entrypoint url","status":"passed","file_path":"./spec/controllers/self_assessment/filing_controller_spec.rb","line_number":98,"run_time":0.601623808,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/self_assessment/filing_controller_spec.rb[1:1:1:2:2:3]","description":"publishes SELF_ASSESSMENT_UNFILED event","full_description":"SelfAssessment::FilingController logged in when self_assessment_returns exist for tax year 2012/13 when self_assessment_filing is enabled PUT mark_as_unfiled publishes SELF_ASSESSMENT_UNFILED event","status":"passed","file_path":"./spec/controllers/self_assessment/filing_controller_spec.rb","line_number":104,"run_time":0.626079972,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/self_assessment/filing_controller_spec.rb[1:1:1:2:3:1:1]","description":"does not render anything","full_description":"SelfAssessment::FilingController logged in when self_assessment_returns exist for tax year 2012/13 when self_assessment_filing is enabled GET capture_gateway_credentials for an incomplete return does not render anything","status":"passed","file_path":"./spec/controllers/self_assessment/filing_controller_spec.rb","line_number":119,"run_time":0.380064574,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/self_assessment/filing_controller_spec.rb[1:1:1:2:3:2:1]","description":"renders a modal form to capture the gateway credentials","full_description":"SelfAssessment::FilingController logged in when self_assessment_returns exist for tax year 2012/13 when self_assessment_filing is enabled GET capture_gateway_credentials for a complete return renders a modal form to capture the gateway credentials","status":"passed","file_path":"./spec/controllers/self_assessment/filing_controller_spec.rb","line_number":130,"run_time":0.383569946,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/self_assessment/filing_controller_spec.rb[1:1:1:2:4:1]","description":"is unauthorized when return can't be amended","full_description":"SelfAssessment::FilingController logged in when self_assessment_returns exist for tax year 2012/13 when self_assessment_filing is enabled GET confirm_unlocking is unauthorized when return can't be amended","status":"passed","file_path":"./spec/controllers/self_assessment/filing_controller_spec.rb","line_number":145,"run_time":0.418672556,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/self_assessment/filing_controller_spec.rb[1:1:1:2:5:1:1]","description":"is expected to redirect to \"/tax/975572356/sa_returns/05-Apr-13\"","full_description":"SelfAssessment::FilingController logged in when self_assessment_returns exist for tax year 2012/13 when self_assessment_filing is enabled when the self_assessment_return is in manually filed state GET prepare is expected to redirect to \"/tax/975572356/sa_returns/05-Apr-13\"","status":"passed","file_path":"./spec/controllers/self_assessment/filing_controller_spec.rb","line_number":160,"run_time":0.242466556,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/self_assessment/filing_controller_spec.rb[1:1:1:2:5:1:2]","description":"publishes SELF_ASSESSMENT_PREPARED event","full_description":"SelfAssessment::FilingController logged in when self_assessment_returns exist for tax year 2012/13 when self_assessment_filing is enabled when the self_assessment_return is in manually filed state GET prepare publishes SELF_ASSESSMENT_PREPARED event","status":"passed","file_path":"./spec/controllers/self_assessment/filing_controller_spec.rb","line_number":162,"run_time":0.2362199,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/self_assessment/filing_controller_spec.rb[1:1:1:2:6:1:1]","description":"marks the self_assessment_return as unfiled","full_description":"SelfAssessment::FilingController logged in when self_assessment_returns exist for tax year 2012/13 when self_assessment_filing is enabled when the self_assessment_return has been filed with HMRC PUT amend before the amendment date marks the self_assessment_return as unfiled","status":"passed","file_path":"./spec/controllers/self_assessment/filing_controller_spec.rb","line_number":188,"run_time":0.290876681,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/self_assessment/filing_controller_spec.rb[1:1:1:2:6:1:2]","description":"redirects to the entrypoint url","full_description":"SelfAssessment::FilingController logged in when self_assessment_returns exist for tax year 2012/13 when self_assessment_filing is enabled when the self_assessment_return has been filed with HMRC PUT amend before the amendment date redirects to the entrypoint url","status":"passed","file_path":"./spec/controllers/self_assessment/filing_controller_spec.rb","line_number":193,"run_time":0.314439655,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/self_assessment/filing_controller_spec.rb[1:1:1:2:6:1:3]","description":"sets the flash","full_description":"SelfAssessment::FilingController logged in when self_assessment_returns exist for tax year 2012/13 when self_assessment_filing is enabled when the self_assessment_return has been filed with HMRC PUT amend before the amendment date sets the flash","status":"passed","file_path":"./spec/controllers/self_assessment/filing_controller_spec.rb","line_number":198,"run_time":0.312881647,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/self_assessment/filing_controller_spec.rb[1:1:1:2:6:1:4]","description":"publishes SELF_ASSESSMENT_AMENDED event","full_description":"SelfAssessment::FilingController logged in when self_assessment_returns exist for tax year 2012/13 when self_assessment_filing is enabled when the self_assessment_return has been filed with HMRC PUT amend before the amendment date publishes SELF_ASSESSMENT_AMENDED event","status":"passed","file_path":"./spec/controllers/self_assessment/filing_controller_spec.rb","line_number":204,"run_time":0.302611681,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/self_assessment/filing_controller_spec.rb[1:1:1:2:6:2:1]","description":"does not change the status of the self assessment","full_description":"SelfAssessment::FilingController logged in when self_assessment_returns exist for tax year 2012/13 when self_assessment_filing is enabled when the self_assessment_return has been filed with HMRC PUT amend after the amendment date does not change the status of the self assessment","status":"passed","file_path":"./spec/controllers/self_assessment/filing_controller_spec.rb","line_number":218,"run_time":0.33538232,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/self_assessment/filing_controller_spec.rb[1:1:1:2:6:2:2]","description":"redirects to the entrypoint url","full_description":"SelfAssessment::FilingController logged in when self_assessment_returns exist for tax year 2012/13 when self_assessment_filing is enabled when the self_assessment_return has been filed with HMRC PUT amend after the amendment date redirects to the entrypoint url","status":"passed","file_path":"./spec/controllers/self_assessment/filing_controller_spec.rb","line_number":222,"run_time":0.287947921,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/self_assessment/filing_controller_spec.rb[1:1:1:2:6:2:3]","description":"sets the flash","full_description":"SelfAssessment::FilingController logged in when self_assessment_returns exist for tax year 2012/13 when self_assessment_filing is enabled when the self_assessment_return has been filed with HMRC PUT amend after the amendment date sets the flash","status":"passed","file_path":"./spec/controllers/self_assessment/filing_controller_spec.rb","line_number":226,"run_time":0.362707987,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/self_assessment/filing_controller_spec.rb[1:1:1:2:6:3:1]","description":"renders confirmation dialog","full_description":"SelfAssessment::FilingController logged in when self_assessment_returns exist for tax year 2012/13 when self_assessment_filing is enabled when the self_assessment_return has been filed with HMRC GET confirm_unlocking renders confirmation dialog","status":"passed","file_path":"./spec/controllers/self_assessment/filing_controller_spec.rb","line_number":240,"run_time":0.269723975,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/self_assessment/filing_controller_spec.rb[1:1:1:2:7:1]","description":"is expected to redirect to \"/tax/975572366/sa_returns/05-Apr-13\"","full_description":"SelfAssessment::FilingController logged in when self_assessment_returns exist for tax year 2012/13 when self_assessment_filing is enabled when the company is practice managed and filing is disabled for that practice is expected to redirect to \"/tax/975572366/sa_returns/05-Apr-13\"","status":"passed","file_path":"./spec/controllers/self_assessment/filing_controller_spec.rb","line_number":259,"run_time":0.475382889,"pending_message":null,"screenshot":null},{"id":"./spec/views/accounting/final_accounts/index.html.erb_spec.rb[1:1]","description":"displays the correct summary figures","full_description":"accounting/final_accounts/index displays the correct summary figures","status":"passed","file_path":"./spec/views/accounting/final_accounts/index.html.erb_spec.rb","line_number":40,"run_time":1.387535135,"pending_message":null,"screenshot":null},{"id":"./spec/views/accounting/final_accounts/index.html.erb_spec.rb[1:2]","description":"has a dropdown with links to navigate between different periods","full_description":"accounting/final_accounts/index has a dropdown with links to navigate between different periods","status":"passed","file_path":"./spec/views/accounting/final_accounts/index.html.erb_spec.rb","line_number":50,"run_time":1.29636328,"pending_message":null,"screenshot":null},{"id":"./spec/views/accounting/final_accounts/index.html.erb_spec.rb[1:3]","description":"has direct links to the different periods","full_description":"accounting/final_accounts/index has direct links to the different periods","status":"passed","file_path":"./spec/views/accounting/final_accounts/index.html.erb_spec.rb","line_number":63,"run_time":1.241288318,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/lending_applications_controller_spec.rb[1:1:1:1]","description":"is expected to eq \"https://www.business.rbs.co.uk/business/loans-and-finance/small-business-loan.html?extcam=R_CTA_LINK_SmallBusinessLoanFA\"","full_description":"OpenBanking::LendingApplicationsController#new Royal Bank of Scotland customer is expected to eq \"https://www.business.rbs.co.uk/business/loans-and-finance/small-business-loan.html?extcam=R_CTA_LINK_SmallBusinessLoanFA\"","status":"passed","file_path":"./spec/controllers/open_banking/lending_applications_controller_spec.rb","line_number":23,"run_time":0.26758781,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/lending_applications_controller_spec.rb[1:1:1:2]","description":"is expected to eq \"Royal Bank of Scotland\"","full_description":"OpenBanking::LendingApplicationsController#new Royal Bank of Scotland customer is expected to eq \"Royal Bank of Scotland\"","status":"passed","file_path":"./spec/controllers/open_banking/lending_applications_controller_spec.rb","line_number":28,"run_time":0.209776713,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/lending_applications_controller_spec.rb[1:1:1:3]","description":"is expected to eq \"£1,000\"","full_description":"OpenBanking::LendingApplicationsController#new Royal Bank of Scotland customer is expected to eq \"£1,000\"","status":"passed","file_path":"./spec/controllers/open_banking/lending_applications_controller_spec.rb","line_number":29,"run_time":0.197084114,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/lending_applications_controller_spec.rb[1:1:1:4]","description":"is expected to eq \"application/open_banking/rbs_icon.png\"","full_description":"OpenBanking::LendingApplicationsController#new Royal Bank of Scotland customer is expected to eq \"application/open_banking/rbs_icon.png\"","status":"passed","file_path":"./spec/controllers/open_banking/lending_applications_controller_spec.rb","line_number":30,"run_time":0.211386362,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/lending_applications_controller_spec.rb[1:1:2:1]","description":"is expected to eq \"https://www.business.natwest.com/business/loans-and-finance/small-business-loan.html?extcam=N_CTA_LINK_SmallBusinessLoanFA\"","full_description":"OpenBanking::LendingApplicationsController#new NatWest customer is expected to eq \"https://www.business.natwest.com/business/loans-and-finance/small-business-loan.html?extcam=N_CTA_LINK_SmallBusinessLoanFA\"","status":"passed","file_path":"./spec/controllers/open_banking/lending_applications_controller_spec.rb","line_number":39,"run_time":0.217742765,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/lending_applications_controller_spec.rb[1:1:2:2]","description":"is expected to eq \"NatWest\"","full_description":"OpenBanking::LendingApplicationsController#new NatWest customer is expected to eq \"NatWest\"","status":"passed","file_path":"./spec/controllers/open_banking/lending_applications_controller_spec.rb","line_number":44,"run_time":0.22849491,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/lending_applications_controller_spec.rb[1:1:2:3]","description":"is expected to eq \"£2,000\"","full_description":"OpenBanking::LendingApplicationsController#new NatWest customer is expected to eq \"£2,000\"","status":"passed","file_path":"./spec/controllers/open_banking/lending_applications_controller_spec.rb","line_number":45,"run_time":0.191643919,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/lending_applications_controller_spec.rb[1:1:2:4]","description":"is expected to eq \"application/open_banking/natwest_icon.png\"","full_description":"OpenBanking::LendingApplicationsController#new NatWest customer is expected to eq \"application/open_banking/natwest_icon.png\"","status":"passed","file_path":"./spec/controllers/open_banking/lending_applications_controller_spec.rb","line_number":46,"run_time":0.192500658,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/lending_applications_controller_spec.rb[1:1:3:1]","description":"is expected to redirect to \"http://subdomain000001.fac.rails/bank_accounts\"","full_description":"OpenBanking::LendingApplicationsController#new Mettle customer is expected to redirect to \"http://subdomain000001.fac.rails/bank_accounts\"","status":"passed","file_path":"./spec/controllers/open_banking/lending_applications_controller_spec.rb","line_number":55,"run_time":0.166568255,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/lending_applications_controller_spec.rb[1:1:4:1]","description":"is expected to redirect to \"http://subdomain000001.fac.rails/bank_accounts\"","full_description":"OpenBanking::LendingApplicationsController#new nil PAL amount is expected to redirect to \"http://subdomain000001.fac.rails/bank_accounts\"","status":"passed","file_path":"./spec/controllers/open_banking/lending_applications_controller_spec.rb","line_number":64,"run_time":0.146931248,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/lending_applications_controller_spec.rb[1:2:1]","description":"creates a new lending application record","full_description":"OpenBanking::LendingApplicationsController#create creates a new lending application record","status":"passed","file_path":"./spec/controllers/open_banking/lending_applications_controller_spec.rb","line_number":72,"run_time":0.133007233,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/lending_applications_controller_spec.rb[1:2:2]","description":"redirects to show view","full_description":"OpenBanking::LendingApplicationsController#create redirects to show view","status":"passed","file_path":"./spec/controllers/open_banking/lending_applications_controller_spec.rb","line_number":76,"run_time":0.121692721,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/lending_applications_controller_spec.rb[1:2:3]","description":"has the current time","full_description":"OpenBanking::LendingApplicationsController#create has the current time","status":"passed","file_path":"./spec/controllers/open_banking/lending_applications_controller_spec.rb","line_number":81,"run_time":0.123306371,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/lending_applications_controller_spec.rb[1:2:4]","description":"belongs to the company","full_description":"OpenBanking::LendingApplicationsController#create belongs to the company","status":"passed","file_path":"./spec/controllers/open_banking/lending_applications_controller_spec.rb","line_number":91,"run_time":0.137500908,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/lending_applications_controller_spec.rb[1:3:1:1]","description":"is expected to eq #\u003cOpenBanking::LendingApplication id: 5, company_id: 895397991, created_at: \"2022-12-15 10:01:01.239965000 +0000\", updated_at: \"2022-12-15 10:01:01.239965000 +0000\"\u003e","full_description":"OpenBanking::LendingApplicationsController#show Royal Bank of Scotland customer is expected to eq #\u003cOpenBanking::LendingApplication id: 5, company_id: 895397991, created_at: \"2022-12-15 10:01:01.239965000 +0000\", updated_at: \"2022-12-15 10:01:01.239965000 +0000\"\u003e","status":"passed","file_path":"./spec/controllers/open_banking/lending_applications_controller_spec.rb","line_number":107,"run_time":0.219714582,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/lending_applications_controller_spec.rb[1:3:1:2]","description":"is expected to eq \"Royal Bank of Scotland\"","full_description":"OpenBanking::LendingApplicationsController#show Royal Bank of Scotland customer is expected to eq \"Royal Bank of Scotland\"","status":"passed","file_path":"./spec/controllers/open_banking/lending_applications_controller_spec.rb","line_number":108,"run_time":0.186698254,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/lending_applications_controller_spec.rb[1:3:1:3]","description":"is expected to eq \"application/open_banking/rbs_icon.png\"","full_description":"OpenBanking::LendingApplicationsController#show Royal Bank of Scotland customer is expected to eq \"application/open_banking/rbs_icon.png\"","status":"passed","file_path":"./spec/controllers/open_banking/lending_applications_controller_spec.rb","line_number":109,"run_time":0.188727176,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/lending_applications_controller_spec.rb[1:3:2:1]","description":"is expected to eq \"NatWest\"","full_description":"OpenBanking::LendingApplicationsController#show NatWest customer is expected to eq \"NatWest\"","status":"passed","file_path":"./spec/controllers/open_banking/lending_applications_controller_spec.rb","line_number":121,"run_time":0.183095637,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/lending_applications_controller_spec.rb[1:3:2:2]","description":"is expected to eq \"application/open_banking/natwest_icon.png\"","full_description":"OpenBanking::LendingApplicationsController#show NatWest customer is expected to eq \"application/open_banking/natwest_icon.png\"","status":"passed","file_path":"./spec/controllers/open_banking/lending_applications_controller_spec.rb","line_number":122,"run_time":0.204233779,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/lending_applications_controller_spec.rb[1:3:3:1]","description":"is expected to redirect to \"http://subdomain000001.fac.rails/bank_accounts\"","full_description":"OpenBanking::LendingApplicationsController#show Mettle customer is expected to redirect to \"http://subdomain000001.fac.rails/bank_accounts\"","status":"passed","file_path":"./spec/controllers/open_banking/lending_applications_controller_spec.rb","line_number":134,"run_time":0.136628975,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/lending_applications_controller_spec.rb[1:3:4:1]","description":"is expected to redirect to \"http://subdomain000002.fac.rails/bank_accounts\"","full_description":"OpenBanking::LendingApplicationsController#show another user is expected to redirect to \"http://subdomain000002.fac.rails/bank_accounts\"","status":"passed","file_path":"./spec/controllers/open_banking/lending_applications_controller_spec.rb","line_number":148,"run_time":0.226060496,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/lending_applications_controller_spec.rb[1:4:1:1]","description":"is expected to redirect to \"http://subdomain000001.fac.rails/bank_accounts\"","full_description":"OpenBanking::LendingApplicationsController not authorised #new is expected to redirect to \"http://subdomain000001.fac.rails/bank_accounts\"","status":"passed","file_path":"./spec/controllers/open_banking/lending_applications_controller_spec.rb","line_number":159,"run_time":0.120140618,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/lending_applications_controller_spec.rb[1:4:2:1]","description":"is expected not to change `OpenBanking::LendingApplication.count`","full_description":"OpenBanking::LendingApplicationsController not authorised #create is expected not to change `OpenBanking::LendingApplication.count`","status":"passed","file_path":"./spec/controllers/open_banking/lending_applications_controller_spec.rb","line_number":163,"run_time":0.14429322,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/lending_applications_controller_spec.rb[1:4:2:2]","description":"is expected to redirect to \"http://subdomain000001.fac.rails/bank_accounts\"","full_description":"OpenBanking::LendingApplicationsController not authorised #create is expected to redirect to \"http://subdomain000001.fac.rails/bank_accounts\"","status":"passed","file_path":"./spec/controllers/open_banking/lending_applications_controller_spec.rb","line_number":167,"run_time":0.14404342,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/lending_applications_controller_spec.rb[1:4:3:1]","description":"is expected to redirect to \"http://subdomain000001.fac.rails/bank_accounts\"","full_description":"OpenBanking::LendingApplicationsController not authorised #show is expected to redirect to \"http://subdomain000001.fac.rails/bank_accounts\"","status":"passed","file_path":"./spec/controllers/open_banking/lending_applications_controller_spec.rb","line_number":176,"run_time":0.151998327,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/payment_link_manager_spec.rb[1:1:1:1:1]","description":"saves a new TylPayment record with data from the API response","full_description":"Tyl::PaymentLinkManager#call when the invoice is still due when there are no live tyl payments saves a new TylPayment record with data from the API response","status":"passed","file_path":"./spec/integrations/tyl/payment_link_manager_spec.rb","line_number":34,"run_time":0.151331737,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/payment_link_manager_spec.rb[1:1:1:2:1:1]","description":"cancels the stale record and creates a new one","full_description":"Tyl::PaymentLinkManager#call when the invoice is still due when there is 1 live tyl payment and it is stale cancels the stale record and creates a new one","status":"passed","file_path":"./spec/integrations/tyl/payment_link_manager_spec.rb","line_number":51,"run_time":0.141776347,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/payment_link_manager_spec.rb[1:1:1:2:1:2]","description":"enqueues a link cancellation job","full_description":"Tyl::PaymentLinkManager#call when the invoice is still due when there is 1 live tyl payment and it is stale enqueues a link cancellation job","status":"passed","file_path":"./spec/integrations/tyl/payment_link_manager_spec.rb","line_number":65,"run_time":0.146795836,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/payment_link_manager_spec.rb[1:1:1:2:2:1]","description":"cancels the expiring record and creates a new one","full_description":"Tyl::PaymentLinkManager#call when the invoice is still due when there is 1 live tyl payment and it is expiring soon cancels the expiring record and creates a new one","status":"passed","file_path":"./spec/integrations/tyl/payment_link_manager_spec.rb","line_number":82,"run_time":0.13089304,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/payment_link_manager_spec.rb[1:1:1:2:2:2]","description":"enqueues a link cancellation job","full_description":"Tyl::PaymentLinkManager#call when the invoice is still due when there is 1 live tyl payment and it is expiring soon enqueues a link cancellation job","status":"passed","file_path":"./spec/integrations/tyl/payment_link_manager_spec.rb","line_number":94,"run_time":0.147103127,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/payment_link_manager_spec.rb[1:1:1:2:3:1]","description":"leaves it live and does not create a new one","full_description":"Tyl::PaymentLinkManager#call when the invoice is still due when there is 1 live tyl payment and it is not stale leaves it live and does not create a new one","status":"passed","file_path":"./spec/integrations/tyl/payment_link_manager_spec.rb","line_number":102,"run_time":0.151739927,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/payment_link_manager_spec.rb[1:1:1:3:1:1]","description":"cancels all but the latest one","full_description":"Tyl::PaymentLinkManager#call when the invoice is still due when there are more than 1 live tyl payments and none are stale cancels all but the latest one","status":"passed","file_path":"./spec/integrations/tyl/payment_link_manager_spec.rb","line_number":124,"run_time":0.134283981,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/payment_link_manager_spec.rb[1:1:1:3:1:2]","description":"enqueues a link cancellation job","full_description":"Tyl::PaymentLinkManager#call when the invoice is still due when there are more than 1 live tyl payments and none are stale enqueues a link cancellation job","status":"passed","file_path":"./spec/integrations/tyl/payment_link_manager_spec.rb","line_number":136,"run_time":0.128302707,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/payment_link_manager_spec.rb[1:1:1:3:2:1]","description":"cancels the stale ones and creates a new one","full_description":"Tyl::PaymentLinkManager#call when the invoice is still due when there are more than 1 live tyl payments and all are stale cancels the stale ones and creates a new one","status":"passed","file_path":"./spec/integrations/tyl/payment_link_manager_spec.rb","line_number":153,"run_time":0.132406075,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/payment_link_manager_spec.rb[1:1:1:3:2:2]","description":"enqueues a link cancellation job for each stale payment","full_description":"Tyl::PaymentLinkManager#call when the invoice is still due when there are more than 1 live tyl payments and all are stale enqueues a link cancellation job for each stale payment","status":"passed","file_path":"./spec/integrations/tyl/payment_link_manager_spec.rb","line_number":162,"run_time":0.138269858,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/payment_link_manager_spec.rb[1:1:2:1:1:1]","description":"doesn't create a new one","full_description":"Tyl::PaymentLinkManager#call when the invoice is no longer due because it has been cancelled when there are no live tyl payments doesn't create a new one","status":"passed","file_path":"./spec/integrations/tyl/payment_link_manager_spec.rb","line_number":178,"run_time":0.111434478,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/payment_link_manager_spec.rb[1:1:2:1:2:1]","description":"cancels all and doesn't create a new one","full_description":"Tyl::PaymentLinkManager#call when the invoice is no longer due because it has been cancelled when there are live tyl payments cancels all and doesn't create a new one","status":"passed","file_path":"./spec/integrations/tyl/payment_link_manager_spec.rb","line_number":196,"run_time":0.125466132,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/payment_link_manager_spec.rb[1:1:2:1:2:2]","description":"enqueues a link cancellation job for each redundant payment","full_description":"Tyl::PaymentLinkManager#call when the invoice is no longer due because it has been cancelled when there are live tyl payments enqueues a link cancellation job for each redundant payment","status":"passed","file_path":"./spec/integrations/tyl/payment_link_manager_spec.rb","line_number":203,"run_time":0.137130279,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/payment_link_manager_spec.rb[1:1:2:2:1:1]","description":"doesn't create a new one","full_description":"Tyl::PaymentLinkManager#call when the invoice is no longer due because it has been paid by another means when there are no live tyl payments doesn't create a new one","status":"passed","file_path":"./spec/integrations/tyl/payment_link_manager_spec.rb","line_number":221,"run_time":0.324472668,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/payment_link_manager_spec.rb[1:1:2:2:2:1]","description":"cancels all and doesn't create a new one","full_description":"Tyl::PaymentLinkManager#call when the invoice is no longer due because it has been paid by another means when there are live tyl payments cancels all and doesn't create a new one","status":"passed","file_path":"./spec/integrations/tyl/payment_link_manager_spec.rb","line_number":246,"run_time":0.369004143,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/payment_link_manager_spec.rb[1:1:2:2:2:2]","description":"enqueues a link cancellation job for each redundant payment","full_description":"Tyl::PaymentLinkManager#call when the invoice is no longer due because it has been paid by another means when there are live tyl payments enqueues a link cancellation job for each redundant payment","status":"passed","file_path":"./spec/integrations/tyl/payment_link_manager_spec.rb","line_number":253,"run_time":0.34117548,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/payment_link_manager_spec.rb[1:1:2:3:1]","description":"does not attempt to cancel the processed Tyl payment link","full_description":"Tyl::PaymentLinkManager#call when the invoice is no longer due because it was paid by Tyl does not attempt to cancel the processed Tyl payment link","status":"passed","file_path":"./spec/integrations/tyl/payment_link_manager_spec.rb","line_number":275,"run_time":0.335018364,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/payment_link_manager_spec.rb[1:1:2:3:2]","description":"does not enqueue a link cancellation job","full_description":"Tyl::PaymentLinkManager#call when the invoice is no longer due because it was paid by Tyl does not enqueue a link cancellation job","status":"passed","file_path":"./spec/integrations/tyl/payment_link_manager_spec.rb","line_number":282,"run_time":0.317189457,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/payment_link_manager_spec.rb[1:1:3:1:1]","description":"doesn't create a new one","full_description":"Tyl::PaymentLinkManager#call when Tyl is no longer enabled on the invoice when there are no live tyl payments doesn't create a new one","status":"passed","file_path":"./spec/integrations/tyl/payment_link_manager_spec.rb","line_number":298,"run_time":0.135261778,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/payment_link_manager_spec.rb[1:1:3:2:1]","description":"cancels all and doesn't create a new one","full_description":"Tyl::PaymentLinkManager#call when Tyl is no longer enabled on the invoice when there are live tyl payments cancels all and doesn't create a new one","status":"passed","file_path":"./spec/integrations/tyl/payment_link_manager_spec.rb","line_number":316,"run_time":0.155573598,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/payment_link_manager_spec.rb[1:1:3:2:2]","description":"enqueues a link cancellation job for each redundant payment","full_description":"Tyl::PaymentLinkManager#call when Tyl is no longer enabled on the invoice when there are live tyl payments enqueues a link cancellation job for each redundant payment","status":"passed","file_path":"./spec/integrations/tyl/payment_link_manager_spec.rb","line_number":323,"run_time":0.130393026,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/payment_link_manager_spec.rb[1:1:4:1]","description":"creates no links and logs a message","full_description":"Tyl::PaymentLinkManager#call when Tyl is no longer connected creates no links and logs a message","status":"passed","file_path":"./spec/integrations/tyl/payment_link_manager_spec.rb","line_number":333,"run_time":0.102807795,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:1:1]","description":"is expected to be a multipart email","full_description":"Payit::PaymentRejectionMailer#send with a non whitelabelled company is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":25,"run_time":0.255183279,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:1:2]","description":"is expected to eql \"uklimitedcompany@example.com\"","full_description":"Payit::PaymentRejectionMailer#send with a non whitelabelled company is expected to eql \"uklimitedcompany@example.com\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":27,"run_time":0.233820294,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:1:3]","description":"is expected to eql \"support@freeagent.com\"","full_description":"Payit::PaymentRejectionMailer#send with a non whitelabelled company is expected to eql \"support@freeagent.com\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":29,"run_time":0.246364408,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:1:4]","description":"is expected to eql \"Notice: your bill payment was unsuccessful\"","full_description":"Payit::PaymentRejectionMailer#send with a non whitelabelled company is expected to eql \"Notice: your bill payment was unsuccessful\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":31,"run_time":0.199031123,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:1:5]","description":"is expected to eql \"support@freeagent.com\"","full_description":"Payit::PaymentRejectionMailer#send with a non whitelabelled company is expected to eql \"support@freeagent.com\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":33,"run_time":0.197859832,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:1:6]","description":"is expected to eql \"bounces@freeagent.com\"","full_description":"Payit::PaymentRejectionMailer#send with a non whitelabelled company is expected to eql \"bounces@freeagent.com\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":34,"run_time":0.219766299,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:1:7:1]","description":"is expected to match \"Hi Ed,\"","full_description":"Payit::PaymentRejectionMailer#send with a non whitelabelled company with text format is expected to match \"Hi Ed,\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":39,"run_time":0.217360756,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:1:7:2]","description":"is expected to match \"bill REF001 on 20 April 2020 10:04 was unsuccessful.\"","full_description":"Payit::PaymentRejectionMailer#send with a non whitelabelled company with text format is expected to match \"bill REF001 on 20 April 2020 10:04 was unsuccessful.\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":40,"run_time":0.173564888,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:1:8:1]","description":"is expected to have text \"Hi Ed,\"","full_description":"Payit::PaymentRejectionMailer#send with a non whitelabelled company with html format is expected to have text \"Hi Ed,\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":48,"run_time":0.196365249,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:1:8:2]","description":"is expected to have text \"bill REF001 on 20 April 2020 10:04 was unsuccessful.\"","full_description":"Payit::PaymentRejectionMailer#send with a non whitelabelled company with html format is expected to have text \"bill REF001 on 20 April 2020 10:04 was unsuccessful.\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":49,"run_time":0.201894315,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:1:8:3]","description":"is expected to have visible link \"log in to your FreeAgent account\" with href \"http://uklimitedcompany.fac-test.host/bills/57\"","full_description":"Payit::PaymentRejectionMailer#send with a non whitelabelled company with html format is expected to have visible link \"log in to your FreeAgent account\" with href \"http://uklimitedcompany.fac-test.host/bills/57\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":50,"run_time":0.189670619,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:2:1]","description":"is expected not to be a multipart email","full_description":"Payit::PaymentRejectionMailer#send with a whitelabelled company is expected not to be a multipart email","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":76,"run_time":0.253804766,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:2:2]","description":"is expected to eql \"user_8@example.com\"","full_description":"Payit::PaymentRejectionMailer#send with a whitelabelled company is expected to eql \"user_8@example.com\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":78,"run_time":0.276389915,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:2:3]","description":"is expected to eql \"support@\"","full_description":"Payit::PaymentRejectionMailer#send with a whitelabelled company is expected to eql \"support@\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":80,"run_time":0.244661521,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:2:4]","description":"is expected to eql \"Notice: your bill payment was unsuccessful\"","full_description":"Payit::PaymentRejectionMailer#send with a whitelabelled company is expected to eql \"Notice: your bill payment was unsuccessful\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":82,"run_time":0.264972252,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:2:5]","description":"is expected to match \"Hi Ed,\"","full_description":"Payit::PaymentRejectionMailer#send with a whitelabelled company is expected to match \"Hi Ed,\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":84,"run_time":0.30150767,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:2:6]","description":"is expected to match \"bill REF001 on 20 April 2020 10:04 was unsuccessful.\"","full_description":"Payit::PaymentRejectionMailer#send with a whitelabelled company is expected to match \"bill REF001 on 20 April 2020 10:04 was unsuccessful.\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":85,"run_time":0.251852806,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:2:7]","description":"is expected to eql \"support@\"","full_description":"Payit::PaymentRejectionMailer#send with a whitelabelled company is expected to eql \"support@\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":87,"run_time":0.263139398,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/payit/payment_rejection_mailer_spec.rb[1:1:2:8]","description":"is expected to eql \"support@\"","full_description":"Payit::PaymentRejectionMailer#send with a whitelabelled company is expected to eql \"support@\"","status":"passed","file_path":"./spec/mailers/payit/payment_rejection_mailer_spec.rb","line_number":88,"run_time":0.28509991,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/reporting_date_range_spec.rb[1:1:1]","description":"defaults to the company's YTD period","full_description":"ReportingDateRange with no parameters defaults to the company's YTD period","status":"passed","file_path":"./spec/controllers/concerns/reporting_date_range_spec.rb","line_number":26,"run_time":0.216588254,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/reporting_date_range_spec.rb[1:2:1]","description":"uses the company's YTD period","full_description":"ReportingDateRange with a YTD parameter uses the company's YTD period","status":"passed","file_path":"./spec/controllers/concerns/reporting_date_range_spec.rb","line_number":35,"run_time":0.203307525,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/reporting_date_range_spec.rb[1:3:1]","description":"uses the company's opening balance period","full_description":"ReportingDateRange with the opening balance period parameter uses the company's opening balance period","status":"passed","file_path":"./spec/controllers/concerns/reporting_date_range_spec.rb","line_number":42,"run_time":0.206621168,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/reporting_date_range_spec.rb[1:4:1]","description":"uses the correct period and range for ap=2005-04-30_2005-07-14","full_description":"ReportingDateRange with an ap parameter uses the correct period and range for ap=2005-04-30_2005-07-14","status":"passed","file_path":"./spec/controllers/concerns/reporting_date_range_spec.rb","line_number":52,"run_time":0.211474245,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/reporting_date_range_spec.rb[1:4:2]","description":"uses the correct period and range for ap=2006-08-31_2010-03-15","full_description":"ReportingDateRange with an ap parameter uses the correct period and range for ap=2006-08-31_2010-03-15","status":"passed","file_path":"./spec/controllers/concerns/reporting_date_range_spec.rb","line_number":52,"run_time":0.225170539,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/reporting_date_range_spec.rb[1:4:3]","description":"uses the correct period and range for ap=2008-12-01_2012-01-16","full_description":"ReportingDateRange with an ap parameter uses the correct period and range for ap=2008-12-01_2012-01-16","status":"passed","file_path":"./spec/controllers/concerns/reporting_date_range_spec.rb","line_number":52,"run_time":0.238580143,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/reporting_date_range_spec.rb[1:5:1]","description":"uses the correct period and range for switch_ap=2005-04-30_2005-07-14","full_description":"ReportingDateRange with a switch_ap parameter uses the correct period and range for switch_ap=2005-04-30_2005-07-14","status":"passed","file_path":"./spec/controllers/concerns/reporting_date_range_spec.rb","line_number":66,"run_time":0.204208353,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/reporting_date_range_spec.rb[1:5:2]","description":"uses the correct period and range for a custom range from 2005-04-30 to 2005-07-14","full_description":"ReportingDateRange with a switch_ap parameter uses the correct period and range for a custom range from 2005-04-30 to 2005-07-14","status":"passed","file_path":"./spec/controllers/concerns/reporting_date_range_spec.rb","line_number":75,"run_time":0.220269737,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/reporting_date_range_spec.rb[1:5:3]","description":"uses the correct period and range for switch_ap=2006-08-31_2010-03-15","full_description":"ReportingDateRange with a switch_ap parameter uses the correct period and range for switch_ap=2006-08-31_2010-03-15","status":"passed","file_path":"./spec/controllers/concerns/reporting_date_range_spec.rb","line_number":66,"run_time":0.201698709,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/reporting_date_range_spec.rb[1:5:4]","description":"uses the correct period and range for a custom range from 2006-08-31 to 2010-03-15","full_description":"ReportingDateRange with a switch_ap parameter uses the correct period and range for a custom range from 2006-08-31 to 2010-03-15","status":"passed","file_path":"./spec/controllers/concerns/reporting_date_range_spec.rb","line_number":75,"run_time":0.200998998,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/reporting_date_range_spec.rb[1:5:5]","description":"uses the correct period and range for switch_ap=2008-12-01_2012-01-16","full_description":"ReportingDateRange with a switch_ap parameter uses the correct period and range for switch_ap=2008-12-01_2012-01-16","status":"passed","file_path":"./spec/controllers/concerns/reporting_date_range_spec.rb","line_number":66,"run_time":0.236557002,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/reporting_date_range_spec.rb[1:5:6]","description":"uses the correct period and range for a custom range from 2008-12-01 to 2012-01-16","full_description":"ReportingDateRange with a switch_ap parameter uses the correct period and range for a custom range from 2008-12-01 to 2012-01-16","status":"passed","file_path":"./spec/controllers/concerns/reporting_date_range_spec.rb","line_number":75,"run_time":0.201773947,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/rounding.feature[1:1:1]","description":"Given the current date is 2019-01-07 -\u003e And a UK Limited Company which was started on 2018-01-01 -\u003e And its first accounting year ends on 2018-12-31 -\u003e And it starts using FreeAgent on 2018-01-01 -\u003e And it is VAT registered from 2018-01-01 -\u003e Given the company is Invoice accounting for VAT, not on the FRS -\u003e And it has a contact in United Kingdom named John Bull -\u003e When an invoice is sent to \"John Bull\" for £12833.75 with 20% VAT dated on 2018-12-01 -\u003e Then the VAT return covering 2018-12-31 should have exact values -\u003e And the VAT return covering 2018-12-31 will submit these boxes","full_description":"Rounding rules for 9 boxes on VAT returns Submitting a VAT return with output VAT and not on the flat rate scheme Given the current date is 2019-01-07 -\u003e And a UK Limited Company which was started on 2018-01-01 -\u003e And its first accounting year ends on 2018-12-31 -\u003e And it starts using FreeAgent on 2018-01-01 -\u003e And it is VAT registered from 2018-01-01 -\u003e Given the company is Invoice accounting for VAT, not on the FRS -\u003e And it has a contact in United Kingdom named John Bull -\u003e When an invoice is sent to \"John Bull\" for £12833.75 with 20% VAT dated on 2018-12-01 -\u003e Then the VAT return covering 2018-12-31 should have exact values -\u003e And the VAT return covering 2018-12-31 will submit these boxes","status":"passed","file_path":"./spec/acceptance/vat/rounding.feature","line_number":11,"run_time":0.957234896,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/rounding.feature[1:2:1]","description":"Given the current date is 2019-01-07 -\u003e And a UK Limited Company which was started on 2018-01-01 -\u003e And its first accounting year ends on 2018-12-31 -\u003e And it starts using FreeAgent on 2018-01-01 -\u003e And it is VAT registered from 2018-01-01 -\u003e Given the company is Invoice accounting for VAT, not on the FRS -\u003e And it has a contact in United Kingdom named John Bull -\u003e When a sent credit note to John Bull dated on 2018-12-01 -\u003e And the credit note has a line for 1 of \"Wheat\" @ £12833.75 + 20% VAT -\u003e Then the credit note should be valid -\u003e And the VAT return covering 2018-12-31 should have exact values -\u003e And the VAT return covering 2018-12-31 will submit these boxes","full_description":"Rounding rules for 9 boxes on VAT returns Submitting a VAT return with output VAT and not on the flat rate scheme Given the current date is 2019-01-07 -\u003e And a UK Limited Company which was started on 2018-01-01 -\u003e And its first accounting year ends on 2018-12-31 -\u003e And it starts using FreeAgent on 2018-01-01 -\u003e And it is VAT registered from 2018-01-01 -\u003e Given the company is Invoice accounting for VAT, not on the FRS -\u003e And it has a contact in United Kingdom named John Bull -\u003e When a sent credit note to John Bull dated on 2018-12-01 -\u003e And the credit note has a line for 1 of \"Wheat\" @ £12833.75 + 20% VAT -\u003e Then the credit note should be valid -\u003e And the VAT return covering 2018-12-31 should have exact values -\u003e And the VAT return covering 2018-12-31 will submit these boxes","status":"passed","file_path":"./spec/acceptance/vat/rounding.feature","line_number":39,"run_time":0.730943842,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/rounding.feature[1:3:1]","description":"Given the current date is 2019-01-07 -\u003e And a UK Limited Company which was started on 2018-01-01 -\u003e And its first accounting year ends on 2018-12-31 -\u003e And it starts using FreeAgent on 2018-01-01 -\u003e And it is VAT registered from 2018-01-01 -\u003e Given the company is Invoice accounting for VAT, on the \"Limited cost trader\" flat rate scheme -\u003e And it has a contact in United Kingdom named John Bull -\u003e When an invoice is sent to \"John Bull\" for £12,565.75 with 20% VAT dated on 2018-12-01 -\u003e Then the VAT return covering 2018-12-31 should have exact values -\u003e And the VAT return covering 2018-12-31 will submit these boxes","full_description":"Rounding rules for 9 boxes on VAT returns Submitting a VAT return with output VAT and on the flat rate scheme Given the current date is 2019-01-07 -\u003e And a UK Limited Company which was started on 2018-01-01 -\u003e And its first accounting year ends on 2018-12-31 -\u003e And it starts using FreeAgent on 2018-01-01 -\u003e And it is VAT registered from 2018-01-01 -\u003e Given the company is Invoice accounting for VAT, on the \"Limited cost trader\" flat rate scheme -\u003e And it has a contact in United Kingdom named John Bull -\u003e When an invoice is sent to \"John Bull\" for £12,565.75 with 20% VAT dated on 2018-12-01 -\u003e Then the VAT return covering 2018-12-31 should have exact values -\u003e And the VAT return covering 2018-12-31 will submit these boxes","status":"passed","file_path":"./spec/acceptance/vat/rounding.feature","line_number":69,"run_time":0.924447298,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_integrations_controller_spec.rb[1:1:1]","description":"renders the bank_integrations index when support access is enabled","full_description":"Admin::Companies::BankIntegrationsController#index renders the bank_integrations index when support access is enabled","status":"passed","file_path":"./spec/controllers/admin/bank_integrations_controller_spec.rb","line_number":11,"run_time":0.16371743,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_integrations_controller_spec.rb[1:1:2]","description":"redirects to the company show page when support access is not enabled","full_description":"Admin::Companies::BankIntegrationsController#index redirects to the company show page when support access is not enabled","status":"passed","file_path":"./spec/controllers/admin/bank_integrations_controller_spec.rb","line_number":16,"run_time":0.127489448,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_integrations_controller_spec.rb[1:1:3]","description":"sets the bank integrations attributes","full_description":"Admin::Companies::BankIntegrationsController#index sets the bank integrations attributes","status":"passed","file_path":"./spec/controllers/admin/bank_integrations_controller_spec.rb","line_number":22,"run_time":0.156001357,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_integrations_controller_spec.rb[1:1:4]","description":"redirects to the admin unauthorised page when the admin user does not have the correct permissions","full_description":"Admin::Companies::BankIntegrationsController#index redirects to the admin unauthorised page when the admin user does not have the correct permissions","status":"passed","file_path":"./spec/controllers/admin/bank_integrations_controller_spec.rb","line_number":28,"run_time":0.132133042,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_integrations_controller_spec.rb[1:2:1]","description":"renders the bank_integration show page when support access is enabled","full_description":"Admin::Companies::BankIntegrationsController#show renders the bank_integration show page when support access is enabled","status":"passed","file_path":"./spec/controllers/admin/bank_integrations_controller_spec.rb","line_number":41,"run_time":0.266739084,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_integrations_controller_spec.rb[1:2:2]","description":"redirects to the company show page when support access is not enabled","full_description":"Admin::Companies::BankIntegrationsController#show redirects to the company show page when support access is not enabled","status":"passed","file_path":"./spec/controllers/admin/bank_integrations_controller_spec.rb","line_number":46,"run_time":0.159220289,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_integrations_controller_spec.rb[1:2:3]","description":"sets the bank integration attributes","full_description":"Admin::Companies::BankIntegrationsController#show sets the bank integration attributes","status":"passed","file_path":"./spec/controllers/admin/bank_integrations_controller_spec.rb","line_number":52,"run_time":0.173612384,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_integrations_controller_spec.rb[1:2:4]","description":"when a consent status is not defined sets the consents to show as all consents","full_description":"Admin::Companies::BankIntegrationsController#show when a consent status is not defined sets the consents to show as all consents","status":"passed","file_path":"./spec/controllers/admin/bank_integrations_controller_spec.rb","line_number":62,"run_time":0.344231854,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_integrations_controller_spec.rb[1:2:6]","description":"redirects to the admin unauthorised page when the admin user does not have the correct permissions","full_description":"Admin::Companies::BankIntegrationsController#show redirects to the admin unauthorised page when the admin user does not have the correct permissions","status":"passed","file_path":"./spec/controllers/admin/bank_integrations_controller_spec.rb","line_number":122,"run_time":0.149985077,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_integrations_controller_spec.rb[1:2:5:1:1]","description":"sets the consents to show as all consents","full_description":"Admin::Companies::BankIntegrationsController#show when the consent status is set as 'all' sets the consents to show as all consents","status":"passed","file_path":"./spec/controllers/admin/bank_integrations_controller_spec.rb","line_number":72,"run_time":0.281353702,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_integrations_controller_spec.rb[1:2:5:2:1]","description":"sets the consents to show as all consents with status 'authorised","full_description":"Admin::Companies::BankIntegrationsController#show when the consent status is set as 'authorised' sets the consents to show as all consents with status 'authorised","status":"passed","file_path":"./spec/controllers/admin/bank_integrations_controller_spec.rb","line_number":82,"run_time":0.271462883,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_integrations_controller_spec.rb[1:2:5:3:1]","description":"sets the consents to show as all consents with status 'awaiting_authorisation","full_description":"Admin::Companies::BankIntegrationsController#show when the consent status is set as 'awaiting_authorisation' sets the consents to show as all consents with status 'awaiting_authorisation","status":"passed","file_path":"./spec/controllers/admin/bank_integrations_controller_spec.rb","line_number":92,"run_time":0.294693227,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_integrations_controller_spec.rb[1:2:5:4:1]","description":"sets the consents to show as all consents with status 'rejected'","full_description":"Admin::Companies::BankIntegrationsController#show when the consent status is set as 'rejected' sets the consents to show as all consents with status 'rejected'","status":"passed","file_path":"./spec/controllers/admin/bank_integrations_controller_spec.rb","line_number":102,"run_time":0.185645227,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_integrations_controller_spec.rb[1:2:5:5:1]","description":"sets the consents to show as all consents with status 'revoked","full_description":"Admin::Companies::BankIntegrationsController#show when the consent status is set as 'revoked' sets the consents to show as all consents with status 'revoked","status":"passed","file_path":"./spec/controllers/admin/bank_integrations_controller_spec.rb","line_number":112,"run_time":0.164064039,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/practice_details_spec.rb[1:1:1]","description":"should be able to add a link if not whitelabelled and practice referrals are allowed","full_description":"Practice Details Add / edit referral links should be able to add a link if not whitelabelled and practice referrals are allowed","status":"passed","file_path":"./spec/features/practice_dashboard/practice_details_spec.rb","line_number":8,"run_time":1.533062163,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/practice_details_spec.rb[1:1:2]","description":"should NOT be able to add if the practice is whitelabelled","full_description":"Practice Details Add / edit referral links should NOT be able to add if the practice is whitelabelled","status":"passed","file_path":"./spec/features/practice_dashboard/practice_details_spec.rb","line_number":28,"run_time":0.589436016,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/practice_details_spec.rb[1:1:3]","description":"should NOT be able to add if practice referrals are not allowed","full_description":"Practice Details Add / edit referral links should NOT be able to add if practice referrals are not allowed","status":"passed","file_path":"./spec/features/practice_dashboard/practice_details_spec.rb","line_number":42,"run_time":0.629911023,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/evangelists_controller_spec.rb[1:1:1]","description":"is expected to respond with status code :ok (200)","full_description":"Admin::EvangelistsController GET :index is expected to respond with status code :ok (200)","status":"passed","file_path":"./spec/controllers/admin/evangelists_controller_spec.rb","line_number":18,"run_time":0.323411566,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/evangelists_controller_spec.rb[1:2:1]","description":"is expected to respond with status code :ok (200)","full_description":"Admin::EvangelistsController GET :new is expected to respond with status code :ok (200)","status":"passed","file_path":"./spec/controllers/admin/evangelists_controller_spec.rb","line_number":24,"run_time":0.03517179,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/evangelists_controller_spec.rb[1:3:1:1]","description":"saves the evangelist","full_description":"Admin::EvangelistsController POST :create with valid params saves the evangelist","status":"passed","file_path":"./spec/controllers/admin/evangelists_controller_spec.rb","line_number":33,"run_time":0.187467734,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/evangelists_controller_spec.rb[1:3:1:2]","description":"is expected to redirect to \"/admin/evangelists\"","full_description":"Admin::EvangelistsController POST :create with valid params is expected to redirect to \"/admin/evangelists\"","status":"passed","file_path":"./spec/controllers/admin/evangelists_controller_spec.rb","line_number":37,"run_time":0.215030643,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/evangelists_controller_spec.rb[1:3:2:1]","description":"is expected to respond with status code :ok (200)","full_description":"Admin::EvangelistsController POST :create with invalid params is expected to respond with status code :ok (200)","status":"passed","file_path":"./spec/controllers/admin/evangelists_controller_spec.rb","line_number":43,"run_time":0.033994499,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/evangelists_controller_spec.rb[1:3:2:2]","description":"is expected to render template new","full_description":"Admin::EvangelistsController POST :create with invalid params is expected to render template new","status":"passed","file_path":"./spec/controllers/admin/evangelists_controller_spec.rb","line_number":44,"run_time":0.0316278,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/evangelists_controller_spec.rb[1:4:1]","description":"is expected to respond with status code :ok (200)","full_description":"Admin::EvangelistsController GET :edit is expected to respond with status code :ok (200)","status":"passed","file_path":"./spec/controllers/admin/evangelists_controller_spec.rb","line_number":52,"run_time":0.245528796,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/evangelists_controller_spec.rb[1:5:1:1]","description":"updates the evangelist","full_description":"Admin::EvangelistsController PUT :update with valid params updates the evangelist","status":"passed","file_path":"./spec/controllers/admin/evangelists_controller_spec.rb","line_number":63,"run_time":0.252897167,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/evangelists_controller_spec.rb[1:5:1:2]","description":"is expected to redirect to \"/admin/evangelists\"","full_description":"Admin::EvangelistsController PUT :update with valid params is expected to redirect to \"/admin/evangelists\"","status":"passed","file_path":"./spec/controllers/admin/evangelists_controller_spec.rb","line_number":67,"run_time":0.199571819,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/evangelists_controller_spec.rb[1:5:2:1]","description":"is expected to respond with status code :ok (200)","full_description":"Admin::EvangelistsController PUT :update with invalid params is expected to respond with status code :ok (200)","status":"passed","file_path":"./spec/controllers/admin/evangelists_controller_spec.rb","line_number":73,"run_time":0.227137615,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/evangelists_controller_spec.rb[1:5:2:2]","description":"is expected to render template edit","full_description":"Admin::EvangelistsController PUT :update with invalid params is expected to render template edit","status":"passed","file_path":"./spec/controllers/admin/evangelists_controller_spec.rb","line_number":74,"run_time":0.20161877,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/evangelists_controller_spec.rb[1:6:1]","description":"destroys the evangelist","full_description":"Admin::EvangelistsController DELETE :destroy destroys the evangelist","status":"passed","file_path":"./spec/controllers/admin/evangelists_controller_spec.rb","line_number":82,"run_time":0.184430198,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/evangelists_controller_spec.rb[1:6:2]","description":"is expected to redirect to \"/admin/evangelists\"","full_description":"Admin::EvangelistsController DELETE :destroy is expected to redirect to \"/admin/evangelists\"","status":"passed","file_path":"./spec/controllers/admin/evangelists_controller_spec.rb","line_number":86,"run_time":0.222354285,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/evangelists_controller_spec.rb[1:6:3:1]","description":"does not allow deletion of evangelists","full_description":"Admin::EvangelistsController DELETE :destroy with read only permissions does not allow deletion of evangelists","status":"passed","file_path":"./spec/controllers/admin/evangelists_controller_spec.rb","line_number":93,"run_time":0.200009414,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/tax_year20192020/income_tax_rates.feature[1:1:1]","description":"Given a UK sole trader with company start date: 2019-01-31, first accounting year end: 2020-04-05 -\u003e When the customer fills in the following boxes for 2019/20: -\u003e Then the SA302 calculation table for 2019/20 will include \"Pay, pensions, profit etc. (Scottish income tax rate)\"","full_description":"Self Assessment Income Tax Rates Scottish Income Tax Rate choice is reflected on Tax Breakdown page Given a UK sole trader with company start date: 2019-01-31, first accounting year end: 2020-04-05 -\u003e When the customer fills in the following boxes for 2019/20: -\u003e Then the SA302 calculation table for 2019/20 will include \"Pay, pensions, profit etc. (Scottish income tax rate)\"","status":"passed","file_path":"./spec/acceptance/self_assessment/tax_year20192020/income_tax_rates.feature","line_number":6,"run_time":0.323427021,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/tax_year20192020/income_tax_rates.feature[1:2:1]","description":"Given a UK sole trader with company start date: 2019-01-31, first accounting year end: 2020-04-05 -\u003e When the customer fills in the following boxes for 2019/20: -\u003e Then the SA302 calculation table for 2019/20 will include \"Pay, pensions, profit etc. (Welsh income tax rate)\"","full_description":"Self Assessment Income Tax Rates Welsh Income Tax Rate choice is reflected on Tax Breakdown page Given a UK sole trader with company start date: 2019-01-31, first accounting year end: 2020-04-05 -\u003e When the customer fills in the following boxes for 2019/20: -\u003e Then the SA302 calculation table for 2019/20 will include \"Pay, pensions, profit etc. (Welsh income tax rate)\"","status":"passed","file_path":"./spec/acceptance/self_assessment/tax_year20192020/income_tax_rates.feature","line_number":13,"run_time":0.32947043,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/tax_year20192020/income_tax_rates.feature[1:3:1]","description":"Given a UK sole trader with company start date: 2019-01-31, first accounting year end: 2020-04-05 -\u003e And the customer fills in the following boxes for 2019/20: -\u003e Then the SA302 calculation table for 2019/20 will include \"Pay, pensions, profit etc. (UK rate for England and Northern Ireland)\"","full_description":"Self Assessment Income Tax Rates Rest of UK Income Tax Rate choice is reflected on Tax Breakdown page Given a UK sole trader with company start date: 2019-01-31, first accounting year end: 2020-04-05 -\u003e And the customer fills in the following boxes for 2019/20: -\u003e Then the SA302 calculation table for 2019/20 will include \"Pay, pensions, profit etc. (UK rate for England and Northern Ireland)\"","status":"passed","file_path":"./spec/acceptance/self_assessment/tax_year20192020/income_tax_rates.feature","line_number":20,"run_time":0.325854004,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2016_17/paye_with_scottish_tax_calculations_special_codes.feature[1:1:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Employee payroll profile with Tax Code SBR -\u003e And they are paid £5000 monthly -\u003e When running payroll for a period -\u003e Then the income tax deducted should be £1000","full_description":"PAYE Scottish Tax calculations - Special Codes 2017 Tax code SBR Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Employee payroll profile with Tax Code SBR -\u003e And they are paid £5000 monthly -\u003e When running payroll for a period -\u003e Then the income tax deducted should be £1000","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/paye_with_scottish_tax_calculations_special_codes.feature","line_number":10,"run_time":0.426192623,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2016_17/paye_with_scottish_tax_calculations_special_codes.feature[1:2:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Employee payroll profile with Tax Code SD0 -\u003e And they are paid £5000 monthly -\u003e When running payroll for a period -\u003e Then the income tax deducted should be £2000","full_description":"PAYE Scottish Tax calculations - Special Codes 2017 Tax code SD0 Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Employee payroll profile with Tax Code SD0 -\u003e And they are paid £5000 monthly -\u003e When running payroll for a period -\u003e Then the income tax deducted should be £2000","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/paye_with_scottish_tax_calculations_special_codes.feature","line_number":16,"run_time":0.401929003,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2016_17/paye_with_scottish_tax_calculations_special_codes.feature[1:3:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Employee payroll profile with Tax Code SD1 -\u003e And they are paid £5000 monthly -\u003e When running payroll for a period -\u003e Then the income tax deducted should be £2250","full_description":"PAYE Scottish Tax calculations - Special Codes 2017 Tax code SD1 Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Employee payroll profile with Tax Code SD1 -\u003e And they are paid £5000 monthly -\u003e When running payroll for a period -\u003e Then the income tax deducted should be £2250","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/paye_with_scottish_tax_calculations_special_codes.feature","line_number":22,"run_time":0.401666197,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2016_17/paye_with_scottish_tax_calculations_special_codes.feature[1:4:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Employee payroll profile with Tax Code SK500 -\u003e And they are paid £5000 monthly -\u003e When running payroll for a period -\u003e Then the income tax deducted should be £1633.46","full_description":"PAYE Scottish Tax calculations - Special Codes 2017 Tax code SK500 Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Employee payroll profile with Tax Code SK500 -\u003e And they are paid £5000 monthly -\u003e When running payroll for a period -\u003e Then the income tax deducted should be £1633.46","status":"passed","file_path":"./spec/acceptance/payroll/2016_17/paye_with_scottish_tax_calculations_special_codes.feature","line_number":28,"run_time":1.209032845,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/display_formats_controller_spec.rb[1:1:1:1:1]","description":"keeps the format","full_description":"GettingStarted::DisplayFormatsController GET #show for a company that has already set a short date format and is universal keeps the format","status":"passed","file_path":"./spec/controllers/getting_started/display_formats_controller_spec.rb","line_number":34,"run_time":0.20299835,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/display_formats_controller_spec.rb[1:1:1:2:1]","description":"keeps the format","full_description":"GettingStarted::DisplayFormatsController GET #show for a company that has already set a short date format and is US keeps the format","status":"passed","file_path":"./spec/controllers/getting_started/display_formats_controller_spec.rb","line_number":50,"run_time":0.242712283,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/display_formats_controller_spec.rb[1:1:2:1:1]","description":"sets a default short date format","full_description":"GettingStarted::DisplayFormatsController GET #show for a company that has not overridden the default short date and is Universal sets a default short date format","status":"passed","file_path":"./spec/controllers/getting_started/display_formats_controller_spec.rb","line_number":62,"run_time":0.144202354,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/display_formats_controller_spec.rb[1:1:2:2:1]","description":"selects US-specific defaults","full_description":"GettingStarted::DisplayFormatsController GET #show for a company that has not overridden the default short date and is US selects US-specific defaults","status":"passed","file_path":"./spec/controllers/getting_started/display_formats_controller_spec.rb","line_number":78,"run_time":0.163674695,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/display_formats_controller_spec.rb[1:1:3:1]","description":"redirects to current setup step","full_description":"GettingStarted::DisplayFormatsController GET #show for a UK company redirects to current setup step","status":"passed","file_path":"./spec/controllers/getting_started/display_formats_controller_spec.rb","line_number":95,"run_time":0.114368416,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/display_formats_controller_spec.rb[1:2:1]","description":"tracks and redirects to accounting dates step if locale settings are valid","full_description":"GettingStarted::DisplayFormatsController PUT #update tracks and redirects to accounting dates step if locale settings are valid","status":"passed","file_path":"./spec/controllers/getting_started/display_formats_controller_spec.rb","line_number":107,"run_time":0.114639655,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/display_formats_controller_spec.rb[1:2:2]","description":"does not track and display errors if locale settings are invalid - date format","full_description":"GettingStarted::DisplayFormatsController PUT #update does not track and display errors if locale settings are invalid - date format","status":"passed","file_path":"./spec/controllers/getting_started/display_formats_controller_spec.rb","line_number":122,"run_time":0.189820263,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/display_formats_controller_spec.rb[1:2:3]","description":"does not track and display errors if locale settings are invalid - time zone","full_description":"GettingStarted::DisplayFormatsController PUT #update does not track and display errors if locale settings are invalid - time zone","status":"passed","file_path":"./spec/controllers/getting_started/display_formats_controller_spec.rb","line_number":129,"run_time":0.150959786,"pending_message":null,"screenshot":null},{"id":"./spec/models/support_access_settings_spec.rb[1:1:1:1]","description":"is expected to eq true","full_description":"SupportAccessSettings#enabled with a company with support access enabled is expected to eq true","status":"passed","file_path":"./spec/models/support_access_settings_spec.rb","line_number":12,"run_time":0.003896188,"pending_message":null,"screenshot":null},{"id":"./spec/models/support_access_settings_spec.rb[1:1:1:2]","description":"is expected to eq true","full_description":"SupportAccessSettings#enabled with a company with support access enabled is expected to eq true","status":"passed","file_path":"./spec/models/support_access_settings_spec.rb","line_number":13,"run_time":0.003106306,"pending_message":null,"screenshot":null},{"id":"./spec/models/support_access_settings_spec.rb[1:1:2:1]","description":"is expected to eq false","full_description":"SupportAccessSettings#enabled with a company with support access disabled is expected to eq false","status":"passed","file_path":"./spec/models/support_access_settings_spec.rb","line_number":19,"run_time":0.002748444,"pending_message":null,"screenshot":null},{"id":"./spec/models/support_access_settings_spec.rb[1:1:2:2]","description":"is expected to eq false","full_description":"SupportAccessSettings#enabled with a company with support access disabled is expected to eq false","status":"passed","file_path":"./spec/models/support_access_settings_spec.rb","line_number":20,"run_time":0.00254545,"pending_message":null,"screenshot":null},{"id":"./spec/models/support_access_settings_spec.rb[1:2:1:1]","description":"is expected to eq false","full_description":"SupportAccessSettings#open_banking_enabled with a company with support access disabled is expected to eq false","status":"passed","file_path":"./spec/models/support_access_settings_spec.rb","line_number":30,"run_time":0.002472637,"pending_message":null,"screenshot":null},{"id":"./spec/models/support_access_settings_spec.rb[1:2:1:2]","description":"is expected to eq false","full_description":"SupportAccessSettings#open_banking_enabled with a company with support access disabled is expected to eq false","status":"passed","file_path":"./spec/models/support_access_settings_spec.rb","line_number":31,"run_time":0.002427354,"pending_message":null,"screenshot":null},{"id":"./spec/models/support_access_settings_spec.rb[1:2:2:1]","description":"is expected to eq false","full_description":"SupportAccessSettings#open_banking_enabled with a company without an active open banking support access grant is expected to eq false","status":"passed","file_path":"./spec/models/support_access_settings_spec.rb","line_number":41,"run_time":0.007841537,"pending_message":null,"screenshot":null},{"id":"./spec/models/support_access_settings_spec.rb[1:2:2:2]","description":"is expected to eq false","full_description":"SupportAccessSettings#open_banking_enabled with a company without an active open banking support access grant is expected to eq false","status":"passed","file_path":"./spec/models/support_access_settings_spec.rb","line_number":42,"run_time":0.003208045,"pending_message":null,"screenshot":null},{"id":"./spec/models/support_access_settings_spec.rb[1:2:3:1]","description":"is expected to eq true","full_description":"SupportAccessSettings#open_banking_enabled with a company with an active open banking support access grant is expected to eq true","status":"passed","file_path":"./spec/models/support_access_settings_spec.rb","line_number":53,"run_time":0.003168345,"pending_message":null,"screenshot":null},{"id":"./spec/models/support_access_settings_spec.rb[1:2:3:2]","description":"is expected to eq true","full_description":"SupportAccessSettings#open_banking_enabled with a company with an active open banking support access grant is expected to eq true","status":"passed","file_path":"./spec/models/support_access_settings_spec.rb","line_number":54,"run_time":0.002963985,"pending_message":null,"screenshot":null},{"id":"./spec/models/support_access_settings_spec.rb[1:3:1:1]","description":"setting enabled to false, open_banking_enabled to false","full_description":"SupportAccessSettings#update! with a company with support access disabled and open banking support access disabled setting enabled to false, open_banking_enabled to false","status":"passed","file_path":"./spec/models/support_access_settings_spec.rb","line_number":63,"run_time":0.099567143,"pending_message":null,"screenshot":null},{"id":"./spec/models/support_access_settings_spec.rb[1:3:1:2]","description":"setting enabled to true, open_banking_enabled to false","full_description":"SupportAccessSettings#update! with a company with support access disabled and open banking support access disabled setting enabled to true, open_banking_enabled to false","status":"passed","file_path":"./spec/models/support_access_settings_spec.rb","line_number":76,"run_time":0.100991476,"pending_message":null,"screenshot":null},{"id":"./spec/models/support_access_settings_spec.rb[1:3:1:3]","description":"updating enabled to false, open_banking_enabled to true sets both to false","full_description":"SupportAccessSettings#update! with a company with support access disabled and open banking support access disabled updating enabled to false, open_banking_enabled to true sets both to false","status":"passed","file_path":"./spec/models/support_access_settings_spec.rb","line_number":89,"run_time":0.098496549,"pending_message":null,"screenshot":null},{"id":"./spec/models/support_access_settings_spec.rb[1:3:1:4]","description":"setting enabled to true, open_banking_enabled to true","full_description":"SupportAccessSettings#update! with a company with support access disabled and open banking support access disabled setting enabled to true, open_banking_enabled to true","status":"passed","file_path":"./spec/models/support_access_settings_spec.rb","line_number":104,"run_time":0.122505839,"pending_message":null,"screenshot":null},{"id":"./spec/models/support_access_settings_spec.rb[1:3:2:1]","description":"setting enabled to false, open_banking_enabled to false","full_description":"SupportAccessSettings#update! with a company with support access enabled and open banking support access disabled setting enabled to false, open_banking_enabled to false","status":"passed","file_path":"./spec/models/support_access_settings_spec.rb","line_number":63,"run_time":0.091289031,"pending_message":null,"screenshot":null},{"id":"./spec/models/support_access_settings_spec.rb[1:3:2:2]","description":"setting enabled to true, open_banking_enabled to false","full_description":"SupportAccessSettings#update! with a company with support access enabled and open banking support access disabled setting enabled to true, open_banking_enabled to false","status":"passed","file_path":"./spec/models/support_access_settings_spec.rb","line_number":76,"run_time":0.098903573,"pending_message":null,"screenshot":null},{"id":"./spec/models/support_access_settings_spec.rb[1:3:2:3]","description":"updating enabled to false, open_banking_enabled to true sets both to false","full_description":"SupportAccessSettings#update! with a company with support access enabled and open banking support access disabled updating enabled to false, open_banking_enabled to true sets both to false","status":"passed","file_path":"./spec/models/support_access_settings_spec.rb","line_number":89,"run_time":0.109166146,"pending_message":null,"screenshot":null},{"id":"./spec/models/support_access_settings_spec.rb[1:3:2:4]","description":"setting enabled to true, open_banking_enabled to true","full_description":"SupportAccessSettings#update! with a company with support access enabled and open banking support access disabled setting enabled to true, open_banking_enabled to true","status":"passed","file_path":"./spec/models/support_access_settings_spec.rb","line_number":104,"run_time":0.106838809,"pending_message":null,"screenshot":null},{"id":"./spec/models/support_access_settings_spec.rb[1:3:3:1]","description":"setting enabled to false, open_banking_enabled to false","full_description":"SupportAccessSettings#update! with a company with support access enabled and open banking support access enabled setting enabled to false, open_banking_enabled to false","status":"passed","file_path":"./spec/models/support_access_settings_spec.rb","line_number":63,"run_time":0.153013809,"pending_message":null,"screenshot":null},{"id":"./spec/models/support_access_settings_spec.rb[1:3:3:2]","description":"setting enabled to true, open_banking_enabled to false","full_description":"SupportAccessSettings#update! with a company with support access enabled and open banking support access enabled setting enabled to true, open_banking_enabled to false","status":"passed","file_path":"./spec/models/support_access_settings_spec.rb","line_number":76,"run_time":0.142990332,"pending_message":null,"screenshot":null},{"id":"./spec/models/support_access_settings_spec.rb[1:3:3:3]","description":"updating enabled to false, open_banking_enabled to true sets both to false","full_description":"SupportAccessSettings#update! with a company with support access enabled and open banking support access enabled updating enabled to false, open_banking_enabled to true sets both to false","status":"passed","file_path":"./spec/models/support_access_settings_spec.rb","line_number":89,"run_time":0.111048165,"pending_message":null,"screenshot":null},{"id":"./spec/models/support_access_settings_spec.rb[1:3:3:4]","description":"setting enabled to true, open_banking_enabled to true","full_description":"SupportAccessSettings#update! with a company with support access enabled and open banking support access enabled setting enabled to true, open_banking_enabled to true","status":"passed","file_path":"./spec/models/support_access_settings_spec.rb","line_number":104,"run_time":0.124112989,"pending_message":null,"screenshot":null},{"id":"./spec/models/support_access_settings_spec.rb[1:4:1:1]","description":"returns the active grant","full_description":"SupportAccessSettings#active_open_banking_support_access_grant with a company with an active and expired grant returns the active grant","status":"passed","file_path":"./spec/models/support_access_settings_spec.rb","line_number":150,"run_time":0.1962965,"pending_message":null,"screenshot":null},{"id":"./spec/requests/radar/insights/hiscox_product_update_spec.rb[1:1]","description":"renders the Hiscox product update","full_description":"Hiscox product update renders the Hiscox product update","status":"passed","file_path":"./spec/requests/radar/insights/hiscox_product_update_spec.rb","line_number":19,"run_time":0.433269375,"pending_message":null,"screenshot":null},{"id":"./spec/requests/radar/insights/hiscox_product_update_spec.rb[1:2]","description":"doesn't log an errors and doesn't render the ping if the ping is updated to no longer apply","full_description":"Hiscox product update doesn't log an errors and doesn't render the ping if the ping is updated to no longer apply","status":"passed","file_path":"./spec/requests/radar/insights/hiscox_product_update_spec.rb","line_number":23,"run_time":0.425295716,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:2:2:3:5]","description":"representing non-category expense (purchase of capital asset, including depreciation)","full_description":"UkAccountsMapper Accounts Mapper for UK companies who have applied for VAT registration after their registration effective date Expenses representing non-category expense (purchase of capital asset, including depreciation)","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":1900,"run_time":0.245459974,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:2:2:3:5]","description":"representing non-category expense (purchase of capital asset, including depreciation)","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the invoice accounting basis on the Flat Rate Scheme (at 5%) Expenses representing non-category expense (purchase of capital asset, including depreciation)","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":4811,"run_time":0.53608849,"pending_message":null,"screenshot":null},{"id":"./spec/views/mtd_itsa/submissions/update.html.erb_spec.rb[1:1:1:1]","description":"shows the form and no fulfilment notice","full_description":"mtd_itsa/submissions/update with multiple update types when the update type does not fulfil a quarter shows the form and no fulfilment notice","status":"passed","file_path":"./spec/views/mtd_itsa/submissions/update.html.erb_spec.rb","line_number":48,"run_time":0.157868821,"pending_message":null,"screenshot":null},{"id":"./spec/views/mtd_itsa/submissions/update.html.erb_spec.rb[1:1:2:1]","description":"shows the form and a fulfilment notice","full_description":"mtd_itsa/submissions/update with multiple update types when the update type fulfils a quarter shows the form and a fulfilment notice","status":"passed","file_path":"./spec/views/mtd_itsa/submissions/update.html.erb_spec.rb","line_number":63,"run_time":0.138892295,"pending_message":null,"screenshot":null},{"id":"./spec/views/mtd_itsa/submissions/update.html.erb_spec.rb[1:2:1:1]","description":"shows no form or fulfilment notice","full_description":"mtd_itsa/submissions/update with a single update type when the update type does not fulfil a quarter shows no form or fulfilment notice","status":"passed","file_path":"./spec/views/mtd_itsa/submissions/update.html.erb_spec.rb","line_number":87,"run_time":0.144477364,"pending_message":null,"screenshot":null},{"id":"./spec/views/mtd_itsa/submissions/update.html.erb_spec.rb[1:2:2:1]","description":"shows the fulfilment notice","full_description":"mtd_itsa/submissions/update with a single update type when the update type fulfils a quarter shows the fulfilment notice","status":"passed","file_path":"./spec/views/mtd_itsa/submissions/update.html.erb_spec.rb","line_number":99,"run_time":0.125655245,"pending_message":null,"screenshot":null},{"id":"./spec/views/mtd_itsa/submissions/update.html.erb_spec.rb[1:3:1]","description":"shows the placeholder text","full_description":"mtd_itsa/submissions/update with no update types shows the placeholder text","status":"passed","file_path":"./spec/views/mtd_itsa/submissions/update.html.erb_spec.rb","line_number":113,"run_time":0.18514879,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/resellers_helper_spec.rb[1:1:1]","description":"it returns NatWest for an NWG company","full_description":"Admin::ResellersHelper rbsg_reseller_display_name it returns NatWest for an NWG company","status":"passed","file_path":"./spec/helpers/admin/resellers_helper_spec.rb","line_number":7,"run_time":0.091574563,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/resellers_helper_spec.rb[1:1:2]","description":"returns Royal Bank of Scotland for an RBS company","full_description":"Admin::ResellersHelper rbsg_reseller_display_name returns Royal Bank of Scotland for an RBS company","status":"passed","file_path":"./spec/helpers/admin/resellers_helper_spec.rb","line_number":13,"run_time":0.097689704,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/resellers_helper_spec.rb[1:1:3]","description":"returns Ulster Bank NI for an Ulster bank company","full_description":"Admin::ResellersHelper rbsg_reseller_display_name returns Ulster Bank NI for an Ulster bank company","status":"passed","file_path":"./spec/helpers/admin/resellers_helper_spec.rb","line_number":19,"run_time":0.094817573,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/resellers_helper_spec.rb[1:1:4]","description":"returns Mettle for a Mettle company","full_description":"Admin::ResellersHelper rbsg_reseller_display_name returns Mettle for a Mettle company","status":"passed","file_path":"./spec/helpers/admin/resellers_helper_spec.rb","line_number":25,"run_time":0.110007212,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/resellers_helper_spec.rb[1:1:5]","description":"returns nil for a BCSG company","full_description":"Admin::ResellersHelper rbsg_reseller_display_name returns nil for a BCSG company","status":"passed","file_path":"./spec/helpers/admin/resellers_helper_spec.rb","line_number":31,"run_time":0.096520305,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/resellers_helper_spec.rb[1:1:6]","description":"returns nil for a non-resold company","full_description":"Admin::ResellersHelper rbsg_reseller_display_name returns nil for a non-resold company","status":"passed","file_path":"./spec/helpers/admin/resellers_helper_spec.rb","line_number":37,"run_time":0.005458754,"pending_message":null,"screenshot":null},{"id":"./spec/models/guess_excluded_term_spec.rb[1:1:1]","description":"is expected to validate that :term cannot be empty/falsy","full_description":"GuessExcludedTerm validations is expected to validate that :term cannot be empty/falsy","status":"passed","file_path":"./spec/models/guess_excluded_term_spec.rb","line_number":12,"run_time":0.048506966,"pending_message":null,"screenshot":null},{"id":"./spec/models/guess_excluded_term_spec.rb[1:1:2]","description":"is expected to validate that :term is case-insensitively unique within the scope of :company_id, producing a custom validation error on failure","full_description":"GuessExcludedTerm validations is expected to validate that :term is case-insensitively unique within the scope of :company_id, producing a custom validation error on failure","status":"passed","file_path":"./spec/models/guess_excluded_term_spec.rb","line_number":13,"run_time":0.041098086,"pending_message":null,"screenshot":null},{"id":"./spec/models/guess_excluded_term_spec.rb[1:2:1:1]","description":"is expected to be truthy","full_description":"GuessExcludedTerm#transaction_excluded? when the term matches the transaction name is expected to be truthy","status":"passed","file_path":"./spec/models/guess_excluded_term_spec.rb","line_number":26,"run_time":0.135331088,"pending_message":null,"screenshot":null},{"id":"./spec/models/guess_excluded_term_spec.rb[1:2:2:1]","description":"is expected to be truthy","full_description":"GuessExcludedTerm#transaction_excluded? when the term is a substring of the transaction name is expected to be truthy","status":"passed","file_path":"./spec/models/guess_excluded_term_spec.rb","line_number":31,"run_time":0.125381146,"pending_message":null,"screenshot":null},{"id":"./spec/models/guess_excluded_term_spec.rb[1:2:3:1]","description":"is expected to be truthy","full_description":"GuessExcludedTerm#transaction_excluded? when the term matches the transaction name of a different case is expected to be truthy","status":"passed","file_path":"./spec/models/guess_excluded_term_spec.rb","line_number":36,"run_time":0.120042078,"pending_message":null,"screenshot":null},{"id":"./spec/models/guess_excluded_term_spec.rb[1:2:4:1]","description":"is expected to be falsey","full_description":"GuessExcludedTerm#transaction_excluded? when the term does not match the transaction name is expected to be falsey","status":"passed","file_path":"./spec/models/guess_excluded_term_spec.rb","line_number":41,"run_time":0.127521607,"pending_message":null,"screenshot":null},{"id":"./spec/models/guess_excluded_term_spec.rb[1:2:5:1]","description":"is expected to be falsey","full_description":"GuessExcludedTerm#transaction_excluded? when the term matches the transaction memo but not name is expected to be falsey","status":"passed","file_path":"./spec/models/guess_excluded_term_spec.rb","line_number":46,"run_time":0.109935382,"pending_message":null,"screenshot":null},{"id":"./spec/models/guess_excluded_term_spec.rb[1:2:6:1]","description":"is expected to be falsey","full_description":"GuessExcludedTerm#transaction_excluded? when the transaction name is blank is expected to be falsey","status":"passed","file_path":"./spec/models/guess_excluded_term_spec.rb","line_number":52,"run_time":0.095244656,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:1:1]","description":"is expected to validate that :account_number cannot be empty/falsy","full_description":"RbsgSignup validations is expected to validate that :account_number cannot be empty/falsy","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":11,"run_time":0.049728218,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:1:2]","description":"is expected to validate that the length of :account_number is at most 10","full_description":"RbsgSignup validations is expected to validate that the length of :account_number is at most 10","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":12,"run_time":0.025480098,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:1:3]","description":"is expected to validate that :account_number looks like a number, producing a custom validation error on failure","full_description":"RbsgSignup validations is expected to validate that :account_number looks like a number, producing a custom validation error on failure","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":13,"run_time":0.021951396,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:1:4]","description":"is expected to validate that :sort_code cannot be empty/falsy","full_description":"RbsgSignup validations is expected to validate that :sort_code cannot be empty/falsy","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":14,"run_time":0.024925848,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:1:5]","description":"is expected to validate that the length of :sort_code is 6","full_description":"RbsgSignup validations is expected to validate that the length of :sort_code is 6","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":15,"run_time":0.033361062,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:1:6]","description":"is expected to validate that :sort_code looks like a number, producing a custom validation error on failure","full_description":"RbsgSignup validations is expected to validate that :sort_code looks like a number, producing a custom validation error on failure","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":16,"run_time":0.028172266,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:1:7]","description":"is expected to validate that the length of :source is at most 31","full_description":"RbsgSignup validations is expected to validate that the length of :source is at most 31","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":17,"run_time":0.029821019,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:1:8]","description":"is expected to validate that the length of :campaign is at most 255","full_description":"RbsgSignup validations is expected to validate that the length of :campaign is at most 255","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":18,"run_time":0.027453231,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:1:9]","description":"is expected not to validate that :frontbook_application_reference_number cannot be empty/falsy","full_description":"RbsgSignup validations is expected not to validate that :frontbook_application_reference_number cannot be empty/falsy","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":20,"run_time":0.025553221,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:1:10:1:1]","description":"permits a valid NatWest sort code","full_description":"RbsgSignup validations whitespace and hyphens stripping reseller is NatWest permits a valid NatWest sort code","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":26,"run_time":0.022556669,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:1:10:1:2]","description":"permits a valid NatWest sort code with spaces","full_description":"RbsgSignup validations whitespace and hyphens stripping reseller is NatWest permits a valid NatWest sort code with spaces","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":32,"run_time":0.021414303,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:1:11:1:1]","description":"permits a valid NatWest sort code","full_description":"RbsgSignup validations validates sort code matches brand reseller is NatWest permits a valid NatWest sort code","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":44,"run_time":0.022200706,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:1:11:1:2]","description":"does not permit an invalid NatWest sort code","full_description":"RbsgSignup validations validates sort code matches brand reseller is NatWest does not permit an invalid NatWest sort code","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":49,"run_time":0.025026014,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:1:11:2:1]","description":"permits a valid RBS sort code","full_description":"RbsgSignup validations validates sort code matches brand reseller is RBS permits a valid RBS sort code","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":58,"run_time":0.023906241,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:1:11:2:2]","description":"does not permit an RBS NatWest sort code","full_description":"RbsgSignup validations validates sort code matches brand reseller is RBS does not permit an RBS NatWest sort code","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":63,"run_time":0.059848557,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:1:12:1]","description":"is expected not to validate that :account_number cannot be empty/falsy","full_description":"RbsgSignup validations optional validation for agent form specific fields is expected not to validate that :account_number cannot be empty/falsy","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":73,"run_time":0.008457152,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:1:12:2]","description":"is expected not to validate that :sort_code cannot be empty/falsy","full_description":"RbsgSignup validations optional validation for agent form specific fields is expected not to validate that :sort_code cannot be empty/falsy","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":74,"run_time":0.007108114,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:1:12:3]","description":"is expected to validate that :business_identification_number cannot be empty/falsy","full_description":"RbsgSignup validations optional validation for agent form specific fields is expected to validate that :business_identification_number cannot be empty/falsy","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":76,"run_time":0.009957235,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:1:12:4]","description":"is expected to validate that the length of :business_identification_number is 10","full_description":"RbsgSignup validations optional validation for agent form specific fields is expected to validate that the length of :business_identification_number is 10","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":77,"run_time":0.007180896,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:1:12:5]","description":"is expected to validate that :agent_racfid cannot be empty/falsy","full_description":"RbsgSignup validations optional validation for agent form specific fields is expected to validate that :agent_racfid cannot be empty/falsy","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":79,"run_time":0.007864059,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:1:12:6]","description":"is expected to validate that :agent_brand is either ‹\"royal_bank_of_scotland\"›, ‹\"natwest\"›, ‹\"mettle\"›, or ‹\"ulster_bank\"›","full_description":"RbsgSignup validations optional validation for agent form specific fields is expected to validate that :agent_brand is either ‹\"royal_bank_of_scotland\"›, ‹\"natwest\"›, ‹\"mettle\"›, or ‹\"ulster_bank\"›","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":80,"run_time":0.007246669,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:1:12:7]","description":"is expected to validate that :agent_signup_terms has been set to \"1\"","full_description":"RbsgSignup validations optional validation for agent form specific fields is expected to validate that :agent_signup_terms has been set to \"1\"","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":81,"run_time":0.004729781,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:1:13:1]","description":"is expected to validate that :frontbook_application_reference_number cannot be empty/falsy","full_description":"RbsgSignup validations optional validation for frontbook application is expected to validate that :frontbook_application_reference_number cannot be empty/falsy","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":87,"run_time":0.010341142,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:1:13:2]","description":"is expected to validate that :frontbook_application_reference_number is unique","full_description":"RbsgSignup validations optional validation for frontbook application is expected to validate that :frontbook_application_reference_number is unique","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":88,"run_time":0.010459125,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:1:13:3]","description":"is expected to validate that the length of :frontbook_application_reference_number is at most 11","full_description":"RbsgSignup validations optional validation for frontbook application is expected to validate that the length of :frontbook_application_reference_number is at most 11","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":91,"run_time":0.00763361,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:2:1]","description":"has a reseller","full_description":"RbsgSignup#reseller has a reseller","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":96,"run_time":0.022325174,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:3:1]","description":"has brand_data","full_description":"RbsgSignup#brand_data has brand_data","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":103,"run_time":0.023318522,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:4:1:1]","description":"is expected to eq \"Self-serve\"","full_description":"RbsgSignup#signup_source_name when record is a self-seve signup is expected to eq \"Self-serve\"","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":115,"run_time":0.023457346,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:4:2:1]","description":"is expected to eq \"Agent signup\"","full_description":"RbsgSignup#signup_source_name when record has an agent signup type is expected to eq \"Agent signup\"","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":120,"run_time":0.023864995,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:4:3:1]","description":"is expected to eq \"Frontbook applicant\"","full_description":"RbsgSignup#signup_source_name when record is a frontbook applicant is expected to eq \"Frontbook applicant\"","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":125,"run_time":0.022948834,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:4:4:1]","description":"is expected to eq \"Back book\"","full_description":"RbsgSignup#signup_source_name when record is a back book signup is expected to eq \"Back book\"","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":130,"run_time":0.022040974,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:4:5:1]","description":"is expected to eq \"Smart provisioning API\"","full_description":"RbsgSignup#signup_source_name when record is a smart provisioning signup is expected to eq \"Smart provisioning API\"","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":135,"run_time":0.0239344,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:4:6:1]","description":"is expected to eq \"\"","full_description":"RbsgSignup#signup_source_name when no signup type is recorded is expected to eq \"\"","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":140,"run_time":0.023035836,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:5:1:1]","description":"is expected to eq \"Self-serve\"","full_description":"RbsgSignup#data_warehouse_signup_source_name when record is a self-seve signup is expected to eq \"Self-serve\"","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":149,"run_time":0.022195143,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:5:2:1]","description":"is expected to eq \"Agent signup\"","full_description":"RbsgSignup#data_warehouse_signup_source_name when record has an agent signup type is expected to eq \"Agent signup\"","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":154,"run_time":0.024790325,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:5:3:1]","description":"is expected to eq \"Frontbook applicant\"","full_description":"RbsgSignup#data_warehouse_signup_source_name when record is a frontbook applicant is expected to eq \"Frontbook applicant\"","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":159,"run_time":0.025015972,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:5:4:1]","description":"is expected to eq \"Smart provisioning API\"","full_description":"RbsgSignup#data_warehouse_signup_source_name when record is a smart provisioning signup is expected to eq \"Smart provisioning API\"","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":164,"run_time":0.023389082,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:5:5:1]","description":"is expected to eq \"Self-serve\"","full_description":"RbsgSignup#data_warehouse_signup_source_name when no signup type is recorded is expected to eq \"Self-serve\"","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":169,"run_time":0.023812426,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:6:1:1]","description":"returns a null relation","full_description":"RbsgSignup.for_accounts with no account details returns a null relation","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":175,"run_time":0.003632623,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:6:2:1]","description":"generates a conjunction of accounts, all required to have the same type","full_description":"RbsgSignup.for_accounts with pairs of account details generates a conjunction of accounts, all required to have the same type","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":189,"run_time":0.004734446,"pending_message":null,"screenshot":null},{"id":"./spec/models/rbsg_signup_spec.rb[1:6:2:2]","description":"returns only the matching signups","full_description":"RbsgSignup.for_accounts with pairs of account details returns only the matching signups","status":"passed","file_path":"./spec/models/rbsg_signup_spec.rb","line_number":198,"run_time":0.012949032,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_refund_event_spec.rb[1:1]","description":"creates an unexplained refund transaction","full_description":"GocardlessRefundEvent creates an unexplained refund transaction","status":"passed","file_path":"./spec/models/gocardless_refund_event_spec.rb","line_number":38,"run_time":0.0788086,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_refund_event_spec.rb[1:2]","description":"creates an audit entry","full_description":"GocardlessRefundEvent creates an audit entry","status":"passed","file_path":"./spec/models/gocardless_refund_event_spec.rb","line_number":47,"run_time":0.078295349,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_refund_event_spec.rb[1:3]","description":"publishes a bank transaction created event","full_description":"GocardlessRefundEvent publishes a bank transaction created event","status":"passed","file_path":"./spec/models/gocardless_refund_event_spec.rb","line_number":60,"run_time":0.070951828,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_refund_event_spec.rb[1:4:1]","description":"creates transaction with invoice reference in name","full_description":"GocardlessRefundEvent for a existing known gocardless payment creates transaction with invoice reference in name","status":"passed","file_path":"./spec/models/gocardless_refund_event_spec.rb","line_number":84,"run_time":0.251417167,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_refund_event_spec.rb[1:5:1]","description":"raises an error","full_description":"GocardlessRefundEvent for an unknown event action raises an error","status":"passed","file_path":"./spec/models/gocardless_refund_event_spec.rb","line_number":93,"run_time":0.042418456,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_refund_event_spec.rb[1:6:1]","description":"does not create a transaction","full_description":"GocardlessRefundEvent auto reconciliation is disabled does not create a transaction","status":"passed","file_path":"./spec/models/gocardless_refund_event_spec.rb","line_number":103,"run_time":0.057736795,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_refund_event_spec.rb[1:7:1]","description":"does not create another transaction","full_description":"GocardlessRefundEvent transaction already imported does not create another transaction","status":"passed","file_path":"./spec/models/gocardless_refund_event_spec.rb","line_number":124,"run_time":0.050377643,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_refund_event_spec.rb[1:8:1]","description":"does not create a transaction","full_description":"GocardlessRefundEvent for non GBP refund currency does not create a transaction","status":"passed","file_path":"./spec/models/gocardless_refund_event_spec.rb","line_number":134,"run_time":0.047555037,"pending_message":null,"screenshot":null},{"id":"./spec/requests/radar/insights/cashflow_phase2_product_update_spec.rb[1:1]","description":"renders the CashflowPhase2ProductUpdate ping","full_description":"CashflowPhase2ProductUpdate ping renders the CashflowPhase2ProductUpdate ping","status":"passed","file_path":"./spec/requests/radar/insights/cashflow_phase2_product_update_spec.rb","line_number":26,"run_time":0.290471141,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/account_locks_controller_spec.rb[1:1]","description":"states there are no locks if there are none","full_description":"Admin::AccountLocksController states there are no locks if there are none","status":"passed","file_path":"./spec/controllers/admin/account_locks_controller_spec.rb","line_number":13,"run_time":0.116189759,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/account_locks_controller_spec.rb[1:2]","description":"shows a single lock","full_description":"Admin::AccountLocksController shows a single lock","status":"passed","file_path":"./spec/controllers/admin/account_locks_controller_spec.rb","line_number":18,"run_time":0.125961598,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/account_locks_controller_spec.rb[1:3]","description":"shows multiple locks","full_description":"Admin::AccountLocksController shows multiple locks","status":"passed","file_path":"./spec/controllers/admin/account_locks_controller_spec.rb","line_number":29,"run_time":0.141081681,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:1:2:2:4]","description":"representing business entertaining admin expense","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the cash accounting basis on the Flat Rate Scheme (at 5%) Bank Account Entries representing business entertaining admin expense","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":3142,"run_time":0.459830689,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:2:2:3:2]","description":"representing admin expenses","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the invoice accounting basis on the Flat Rate Scheme (at 5%) Expenses representing admin expenses","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":4760,"run_time":0.519318509,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:131:1:1]","description":"returns the month-by-month sum","full_description":"Invoice.monthly_total_due_value_in_native_currency with sent invoices returns the month-by-month sum","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":4124,"run_time":0.455313405,"pending_message":null,"screenshot":null},{"id":"./spec/models/api_bank_feed_webhooks_spec.rb[1:1:1:1]","description":"does not schedule a webhook delivery job","full_description":"ApiBankFeed webhooks when the bank account has an enabled ApiBankFeed record with the api_bank_feed_webhooks feature switch disabled does not schedule a webhook delivery job","status":"passed","file_path":"./spec/models/api_bank_feed_webhooks_spec.rb","line_number":15,"run_time":0.048642008,"pending_message":null,"screenshot":null},{"id":"./spec/models/api_bank_feed_webhooks_spec.rb[1:1:2:1]","description":"schedules a webhook delivery job","full_description":"ApiBankFeed webhooks when the bank account has an enabled ApiBankFeed record on creation schedules a webhook delivery job","status":"passed","file_path":"./spec/models/api_bank_feed_webhooks_spec.rb","line_number":31,"run_time":0.051547515,"pending_message":null,"screenshot":null},{"id":"./spec/models/api_bank_feed_webhooks_spec.rb[1:1:2:2:1]","description":"does not schedule a webhook delivery job","full_description":"ApiBankFeed webhooks when the bank account has an enabled ApiBankFeed record on creation when the bank feed is disabled does not schedule a webhook delivery job","status":"passed","file_path":"./spec/models/api_bank_feed_webhooks_spec.rb","line_number":45,"run_time":0.05301697,"pending_message":null,"screenshot":null},{"id":"./spec/models/api_bank_feed_webhooks_spec.rb[1:1:3:1:1]","description":"schedules a webhook delivery job","full_description":"ApiBankFeed webhooks when the bank account has an enabled ApiBankFeed record with an existing bank transaction on update schedules a webhook delivery job","status":"passed","file_path":"./spec/models/api_bank_feed_webhooks_spec.rb","line_number":56,"run_time":0.065473995,"pending_message":null,"screenshot":null},{"id":"./spec/models/api_bank_feed_webhooks_spec.rb[1:1:3:2:1]","description":"schedules a webhook delivery job","full_description":"ApiBankFeed webhooks when the bank account has an enabled ApiBankFeed record with an existing bank transaction on deletion schedules a webhook delivery job","status":"passed","file_path":"./spec/models/api_bank_feed_webhooks_spec.rb","line_number":73,"run_time":0.065549307,"pending_message":null,"screenshot":null},{"id":"./spec/models/api_bank_feed_webhooks_spec.rb[1:1:3:3:1]","description":"schedules a webhook delivery job","full_description":"ApiBankFeed webhooks when the bank account has an enabled ApiBankFeed record with an existing bank transaction adding a bank account entry schedules a webhook delivery job","status":"passed","file_path":"./spec/models/api_bank_feed_webhooks_spec.rb","line_number":90,"run_time":0.122166421,"pending_message":null,"screenshot":null},{"id":"./spec/models/api_bank_feed_webhooks_spec.rb[1:2:1]","description":"does not schedule a webhook delivery job","full_description":"ApiBankFeed webhooks when the bank account does not have an ApiBankFeed record does not schedule a webhook delivery job","status":"passed","file_path":"./spec/models/api_bank_feed_webhooks_spec.rb","line_number":107,"run_time":0.034751228,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/inline/seeder/payroll_periods_controller_spec.rb[1:1:1]","description":"shows form for Payroll Periods seeder","full_description":"Admin::Inline::Seeder::PayrollPeriodsController#new shows form for Payroll Periods seeder","status":"passed","file_path":"./spec/controllers/admin/inline/seeder/payroll_periods_controller_spec.rb","line_number":15,"run_time":0.033957773,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/inline/seeder/payroll_periods_controller_spec.rb[1:2:1]","description":"seeds Payroll Periods from params and redirect to Payroll path","full_description":"Admin::Inline::Seeder::PayrollPeriodsController#create seeds Payroll Periods from params and redirect to Payroll path","status":"passed","file_path":"./spec/controllers/admin/inline/seeder/payroll_periods_controller_spec.rb","line_number":24,"run_time":0.123667994,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[15:8:2:1]","description":"ignores include_payment_button if specified","full_description":"InvoicesController PUT :update include_payment_button parameter when the email_payment_button feature switch is disabled ignores include_payment_button if specified","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":2077,"run_time":0.139380321,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[16:1]","description":"creates an audit entry","full_description":"InvoicesController DELETE destroy creates an audit entry","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":2094,"run_time":0.179461777,"pending_message":null,"screenshot":null},{"id":"./spec/models/addon_spec.rb[1:1]","description":"is expected to validate that :name cannot be empty/falsy","full_description":"Addon is expected to validate that :name cannot be empty/falsy","status":"passed","file_path":"./spec/models/addon_spec.rb","line_number":6,"run_time":0.010308516,"pending_message":null,"screenshot":null},{"id":"./spec/models/addon_spec.rb[1:2]","description":"is expected to validate that :display_name cannot be empty/falsy","full_description":"Addon is expected to validate that :display_name cannot be empty/falsy","status":"passed","file_path":"./spec/models/addon_spec.rb","line_number":7,"run_time":0.007954811,"pending_message":null,"screenshot":null},{"id":"./spec/models/addon_spec.rb[1:3:1]","description":"populates addons list","full_description":"Addon seed populates addons list","status":"passed","file_path":"./spec/models/addon_spec.rb","line_number":10,"run_time":0.007854945,"pending_message":null,"screenshot":null},{"id":"./spec/models/addon_spec.rb[1:4:1]","description":"enables the addon when toggled to ENABLED","full_description":"Addon toggle enables the addon when toggled to ENABLED","status":"passed","file_path":"./spec/models/addon_spec.rb","line_number":28,"run_time":0.014344893,"pending_message":null,"screenshot":null},{"id":"./spec/models/addon_spec.rb[1:4:2]","description":"does not break if toggled to ENABLED when already enabled","full_description":"Addon toggle does not break if toggled to ENABLED when already enabled","status":"passed","file_path":"./spec/models/addon_spec.rb","line_number":33,"run_time":0.009590659,"pending_message":null,"screenshot":null},{"id":"./spec/models/addon_spec.rb[1:4:3]","description":"disables the addon when toggled to DISABLED","full_description":"Addon toggle disables the addon when toggled to DISABLED","status":"passed","file_path":"./spec/models/addon_spec.rb","line_number":39,"run_time":0.012048032,"pending_message":null,"screenshot":null},{"id":"./spec/models/addon_spec.rb[1:5:1]","description":"is able to enable it for a company","full_description":"Addon enabling and disabling is able to enable it for a company","status":"passed","file_path":"./spec/models/addon_spec.rb","line_number":57,"run_time":0.143201497,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/app_approval_policy_spec.rb[1:1:1:1]","description":"is expected to equal false","full_description":"Api::AppApprovalPolicy a user with permission level NO_ACCESS when the company is not confirmed and not setup done is expected to equal false","status":"passed","file_path":"./spec/policies/api/app_approval_policy_spec.rb","line_number":23,"run_time":0.011803005,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/app_approval_policy_spec.rb[1:1:2:1]","description":"is expected to equal true","full_description":"Api::AppApprovalPolicy a user with permission level NO_ACCESS when the company is confirmed and setup done is expected to equal true","status":"passed","file_path":"./spec/policies/api/app_approval_policy_spec.rb","line_number":35,"run_time":0.00932944,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/app_approval_policy_spec.rb[1:2:1:1]","description":"is expected to equal false","full_description":"Api::AppApprovalPolicy a user with permission level above NO_ACCESS when the company is not confirmed and not setup done is expected to equal false","status":"passed","file_path":"./spec/policies/api/app_approval_policy_spec.rb","line_number":52,"run_time":0.009274096,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/app_approval_policy_spec.rb[1:2:2:1]","description":"is expected to equal true","full_description":"Api::AppApprovalPolicy a user with permission level above NO_ACCESS when the company is confirmed and setup done is expected to equal true","status":"passed","file_path":"./spec/policies/api/app_approval_policy_spec.rb","line_number":64,"run_time":0.010027039,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/app_approval_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Api::AppApprovalPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/api/app_approval_policy_spec.rb","line_number":75,"run_time":0.05570929,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/app_approval_policy_spec.rb[1:4:1:1]","description":"is expected to equal true","full_description":"Api::AppApprovalPolicy company-level app regular bills user is expected to equal true","status":"passed","file_path":"./spec/policies/api/app_approval_policy_spec.rb","line_number":98,"run_time":0.0089415,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/app_approval_policy_spec.rb[1:4:1:2]","description":"is expected to equal false","full_description":"Api::AppApprovalPolicy company-level app regular bills user is expected to equal false","status":"passed","file_path":"./spec/policies/api/app_approval_policy_spec.rb","line_number":99,"run_time":0.010675903,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/app_approval_policy_spec.rb[1:4:2:1]","description":"is expected to equal true","full_description":"Api::AppApprovalPolicy company-level app regular banking user is expected to equal true","status":"passed","file_path":"./spec/policies/api/app_approval_policy_spec.rb","line_number":109,"run_time":0.011309041,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/app_approval_policy_spec.rb[1:4:2:2]","description":"is expected to equal true","full_description":"Api::AppApprovalPolicy company-level app regular banking user is expected to equal true","status":"passed","file_path":"./spec/policies/api/app_approval_policy_spec.rb","line_number":110,"run_time":0.011154863,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/app_approval_policy_spec.rb[1:4:3:1]","description":"is expected to equal true","full_description":"Api::AppApprovalPolicy company-level app account owner is expected to equal true","status":"passed","file_path":"./spec/policies/api/app_approval_policy_spec.rb","line_number":118,"run_time":0.011634221,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/app_approval_policy_spec.rb[1:4:3:2]","description":"is expected to equal true","full_description":"Api::AppApprovalPolicy company-level app account owner is expected to equal true","status":"passed","file_path":"./spec/policies/api/app_approval_policy_spec.rb","line_number":119,"run_time":0.011673019,"pending_message":null,"screenshot":null},{"id":"./spec/models/disable_bank_account_feed_spec.rb[1:1]","description":"disables an active bank feed","full_description":"disable bank account feed disables an active bank feed","status":"passed","file_path":"./spec/models/disable_bank_account_feed_spec.rb","line_number":7,"run_time":0.066967575,"pending_message":null,"screenshot":null},{"id":"./spec/models/disable_bank_account_feed_spec.rb[1:2]","description":"no-ops on a non-active bank feed","full_description":"disable bank account feed no-ops on a non-active bank feed","status":"passed","file_path":"./spec/models/disable_bank_account_feed_spec.rb","line_number":15,"run_time":0.063478657,"pending_message":null,"screenshot":null},{"id":"./spec/models/disable_bank_account_feed_spec.rb[1:3]","description":"disables an enabled paypal sync","full_description":"disable bank account feed disables an enabled paypal sync","status":"passed","file_path":"./spec/models/disable_bank_account_feed_spec.rb","line_number":23,"run_time":0.054056669,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:85:1:2]","description":"after due date","full_description":"Invoice in different timezones in GMT after due date","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":2476,"run_time":0.161517329,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:98:3]","description":"a post trading invoice should be valid","full_description":"Invoice Invoices dated before trading starts a post trading invoice should be valid","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":2944,"run_time":0.14588814,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:99:7]","description":"is not possible for an invoice with stock items","full_description":"Invoice raising credit notes is not possible for an invoice with stock items","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":2994,"run_time":0.158859436,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:112:2:2]","description":"is false when a company does not have a registration number","full_description":"Invoice#show_company_registration_number? on a Scheduled invoice is false when a company does not have a registration number","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":3420,"run_time":0.152900219,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_event_publishing_spec.rb[1:1:1:1]","description":"does not publish any events","full_description":"BankAccountsController event publishing creating a new native currency bank account does not publish any events","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_event_publishing_spec.rb","line_number":13,"run_time":0.062933059,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bank_accounts_controller_event_publishing_spec.rb[1:1:2:1]","description":"fires a FOREIGN_CURRENCY_BANK_ACCOUNT_CREATED event","full_description":"BankAccountsController event publishing creating a new foreign currency bank account fires a FOREIGN_CURRENCY_BANK_ACCOUNT_CREATED event","status":"passed","file_path":"./spec/controllers/bank_accounts_controller_event_publishing_spec.rb","line_number":20,"run_time":0.069109633,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/timeslips/_timeslip.rbapi_spec.rb[1:1]","description":"does not nest related models by default","full_description":"api/timeslips/_timeslip does not nest related models by default","status":"passed","file_path":"./spec/views/api/timeslips/_timeslip.rbapi_spec.rb","line_number":11,"run_time":0.060160451,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/timeslips/_timeslip.rbapi_spec.rb[1:2]","description":"nests related if specified","full_description":"api/timeslips/_timeslip nests related if specified","status":"passed","file_path":"./spec/views/api/timeslips/_timeslip.rbapi_spec.rb","line_number":19,"run_time":0.045540322,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/timeslips/_timeslip.rbapi_spec.rb[1:3]","description":"includes timer information if there's a running timer","full_description":"api/timeslips/_timeslip includes timer information if there's a running timer","status":"passed","file_path":"./spec/views/api/timeslips/_timeslip.rbapi_spec.rb","line_number":27,"run_time":0.06281455,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/subscription_payment_failures/_subscription_payment_failure.html.erb_spec.rb[1:1]","description":"displays a summary of the payment failure","full_description":"admin/subscription_payment_failures/_subscription_payment_failure displays a summary of the payment failure","status":"passed","file_path":"./spec/views/admin/subscription_payment_failures/_subscription_payment_failure.html.erb_spec.rb","line_number":13,"run_time":0.150881021,"pending_message":null,"screenshot":null}],"summary":{"duration":2.121162055,"example_count":469,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"469 examples, 0 failures"}