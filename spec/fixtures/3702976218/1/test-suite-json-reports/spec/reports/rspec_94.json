{"version":"3.11.0","messages":["Run options:\n  include {:ids=\u003e{\"./spec/models/invoice_spec.rb\"=\u003e[\"1:84:1\", \"1:92:1\"], \"./spec/models/uk_accounts_mapper_spec.rb\"=\u003e[\"1:1:5:3\", \"1:2:1:2:1:1\"]}}\n  exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:1:1:1:1:1]","description":"responds with an array of credit_notes","full_description":"Api::CreditNotesController#index with the right permission_level with 3 credit_notes and 2 credit_note items each no nested credit_note items responds with an array of credit_notes","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":56,"run_time":1.165764301,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:1:1:1:2:1]","description":"contains credit_note_items fields","full_description":"Api::CreditNotesController#index with the right permission_level with 3 credit_notes and 2 credit_note items each with nested_credit_note_items=true contains credit_note_items fields","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":79,"run_time":0.821391038,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:1:1:2:1]","description":"returns the CIS details on the credit_notes","full_description":"Api::CreditNotesController#index with the right permission_level with CIS returns the CIS details on the credit_notes","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":98,"run_time":0.173441067,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:1:1:3:1:1]","description":"responds with a filtered array of credit_notes","full_description":"Api::CreditNotesController#index with the right permission_level with credit_notes filter on currency no nested credit_note items responds with a filtered array of credit_notes","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":126,"run_time":0.354992256,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:1:1:3:2:1]","description":"is expected to respond with status code :bad_request (400)","full_description":"Api::CreditNotesController#index with the right permission_level with credit_notes filter on currency invalid currency is expected to respond with status code :bad_request (400)","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":137,"run_time":0.286628587,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:1:1:4:1:1]","description":"returns all credit notes","full_description":"Api::CreditNotesController#index with the right permission_level with a :view parameter with 'all' as the :view parameter returns all credit notes","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":175,"run_time":0.647229322,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:1:1:4:2:1]","description":"returns all recent, open or overdue credit notes","full_description":"Api::CreditNotesController#index with the right permission_level with a :view parameter with 'recent_open_or_overdue' as the :view parameter returns all recent, open or overdue credit notes","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":193,"run_time":0.670303556,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:1:1:4:3:1]","description":"returns all open credit notes","full_description":"Api::CreditNotesController#index with the right permission_level with a :view parameter with 'open' as the :view parameter returns all open credit notes","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":208,"run_time":0.679609115,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:1:1:4:4:1]","description":"returns all overdue credit notes","full_description":"Api::CreditNotesController#index with the right permission_level with a :view parameter with 'overdue' as the :view parameter returns all overdue credit notes","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":219,"run_time":0.608530744,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:1:1:4:5:1]","description":"returns all open and overdue credit notes","full_description":"Api::CreditNotesController#index with the right permission_level with a :view parameter with 'open_or_overdue' as the :view parameter returns all open and overdue credit notes","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":229,"run_time":0.666523066,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:1:1:4:6:1]","description":"returns all refunded credit notes","full_description":"Api::CreditNotesController#index with the right permission_level with a :view parameter with 'refunded' as the :view parameter returns all refunded credit notes","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":243,"run_time":0.619243768,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:1:1:4:7:1]","description":"returns all draft credit notes","full_description":"Api::CreditNotesController#index with the right permission_level with a :view parameter with 'draft' as the :view parameter returns all draft credit notes","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":254,"run_time":0.591378378,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:1:1:4:8:1]","description":"returns all credit notes withing last 6 months","full_description":"Api::CreditNotesController#index with the right permission_level with a :view parameter with 'last_6_months' as the :view parameter returns all credit notes withing last 6 months","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":276,"run_time":1.042415815,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:1:1:4:9:1]","description":"returns a suitable error message","full_description":"Api::CreditNotesController#index with the right permission_level with a :view parameter for an invalid filter returns a suitable error message","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":293,"run_time":0.789498151,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:1:1:5:1]","description":"returns credit_notes with the default :created_at ordering","full_description":"Api::CreditNotesController#index with the right permission_level without a :sort parameter returns credit_notes with the default :created_at ordering","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":313,"run_time":0.769153819,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:1:1:6:1]","description":"sorts all sort fields correctly","full_description":"Api::CreditNotesController#index with the right permission_level with a :sort parameter sorts all sort fields correctly","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":340,"run_time":0.673105948,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:1:1:6:2:1]","description":"returns a suitable error message","full_description":"Api::CreditNotesController#index with the right permission_level with a :sort parameter for an invalid field returns a suitable error message","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":375,"run_time":0.330391023,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:1:1:7:1:1]","description":"returns array of matching credit_notes","full_description":"Api::CreditNotesController#index with the right permission_level with date filters from_date returns array of matching credit_notes","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":402,"run_time":0.571318065,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:1:1:7:2:1]","description":"returns array of matching credit_notes","full_description":"Api::CreditNotesController#index with the right permission_level with date filters to_date returns array of matching credit_notes","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":415,"run_time":0.600980313,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:1:1:7:3:1]","description":"returns array of matching credit_notes","full_description":"Api::CreditNotesController#index with the right permission_level with date filters from_date_to_date returns array of matching credit_notes","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":430,"run_time":0.623371636,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:1:1:7:4:1]","description":"returns array of matching credit_notes","full_description":"Api::CreditNotesController#index with the right permission_level with date filters updated_since returns array of matching credit_notes","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":442,"run_time":0.59008472,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:1:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::CreditNotesController#index without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":457,"run_time":0.063480522,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:1:3:1:1]","description":"responds with credit_notes only for the specified contact","full_description":"Api::CreditNotesController#index for a company with two credit_notes by two different contacts when filtering by the first contact responds with credit_notes only for the specified contact","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":473,"run_time":0.165353249,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:1:3:2:1]","description":"responds with credit_notes only for the specified contact","full_description":"Api::CreditNotesController#index for a company with two credit_notes by two different contacts when filtering by the second contact responds with credit_notes only for the specified contact","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":488,"run_time":0.180151249,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:1:4:1:1]","description":"responds with credit_notes only for the specified project","full_description":"Api::CreditNotesController#index for a company with two credit_notes associated with two different projects when filtering by the first project responds with credit_notes only for the specified project","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":510,"run_time":0.202344276,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:1:4:2:1]","description":"responds with credit_notes only for the specified project","full_description":"Api::CreditNotesController#index for a company with two credit_notes associated with two different projects when filtering by the second project responds with credit_notes only for the specified project","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":522,"run_time":0.192189524,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:2:1:1]","description":"returns base64 encoded PDF data with correct permissions","full_description":"Api::CreditNotesController#pdf when credit note is valid returns base64 encoded PDF data with correct permissions","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":553,"run_time":0.226910569,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:2:2:1]","description":"returns a forbidden status","full_description":"Api::CreditNotesController#pdf when unauthorised returns a forbidden status","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":563,"run_time":0.177168907,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:2:3:1]","description":"returns a missing status","full_description":"Api::CreditNotesController#pdf with an invalid credit note id returns a missing status","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":572,"run_time":0.067724943,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:3:1:1]","description":"responds with the standard credit note fields and appends the standard credit note item fields","full_description":"Api::CreditNotesController#show when credit note has line items responds with the standard credit note fields and appends the standard credit note item fields","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":595,"run_time":0.158316487,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:3:2:1]","description":"responds with the standard credit_note fields","full_description":"Api::CreditNotesController#show when credit note has no line items responds with the standard credit_note fields","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":615,"run_time":0.147016553,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:3:3:1]","description":"returns a forbidden status","full_description":"Api::CreditNotesController#show when unauthorised returns a forbidden status","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":628,"run_time":0.136524345,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:3:4:1]","description":"returns a missing status","full_description":"Api::CreditNotesController#show with an invalid credit note id returns a missing status","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":637,"run_time":0.072479412,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:4:1:1:1]","description":"returns a success response","full_description":"Api::CreditNotesController#update with the right permission_level with valid credit note id returns a success response","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":660,"run_time":0.259465086,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:4:1:1:2:1:1]","description":"updates successfully","full_description":"Api::CreditNotesController#update with the right permission_level with valid credit note id updating attributes updating currency attribute updates successfully","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":669,"run_time":0.270392864,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:4:1:1:2:2:1:1]","description":"updates successfully","full_description":"Api::CreditNotesController#update with the right permission_level with valid credit note id updating attributes updating reference when that reference has not already been taken updates successfully","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":684,"run_time":0.296997124,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:4:1:1:2:2:2:1]","description":"does not update","full_description":"Api::CreditNotesController#update with the right permission_level with valid credit note id updating attributes updating reference when that reference has already been taken does not update","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":695,"run_time":0.231285434,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:4:1:1:2:2:2:2:1]","description":"does not update any credit note attributes","full_description":"Api::CreditNotesController#update with the right permission_level with valid credit note id updating attributes updating reference when that reference has already been taken and the request has other valid params does not update any credit note attributes","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":703,"run_time":0.235361546,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:4:1:1:2:3:1:1]","description":"updates succesfully","full_description":"Api::CreditNotesController#update with the right permission_level with valid credit note id updating attributes updating contact with a valid contact updates succesfully","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":716,"run_time":0.250568577,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:4:1:1:2:3:2:1]","description":"does not update, and returns bad request","full_description":"Api::CreditNotesController#update with the right permission_level with valid credit note id updating attributes updating contact with an invalid contact id does not update, and returns bad request","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":729,"run_time":0.141907402,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:4:1:1:2:3:3:1]","description":"does not update, and returns bad request","full_description":"Api::CreditNotesController#update with the right permission_level with valid credit note id updating attributes updating contact with a contact belonging to another company does not update, and returns bad request","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":738,"run_time":0.261756754,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:4:1:1:2:4:1]","description":"updates successfully","full_description":"Api::CreditNotesController#update with the right permission_level with valid credit note id updating attributes with other valid attributes updates successfully","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":761,"run_time":0.309915504,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:4:1:1:2:5:1:1]","description":"does not update payment methods","full_description":"Api::CreditNotesController#update with the right permission_level with valid credit note id updating attributes with attributes that should be ignored attempting to add payment methods does not update payment methods","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":785,"run_time":0.19084937,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:4:1:1:2:5:2:1]","description":"does not update those attributes","full_description":"Api::CreditNotesController#update with the right permission_level with valid credit note id updating attributes with attributes that should be ignored attempting to add other attributes that are valid for invoices, but not for credit notes does not update those attributes","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":802,"run_time":0.204768596,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:4:1:1:2:5:3:1]","description":"should only update the valid, allowed attributes","full_description":"Api::CreditNotesController#update with the right permission_level with valid credit note id updating attributes with attributes that should be ignored updating a credit note with some valid, and some ignored attributes should only update the valid, allowed attributes","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":818,"run_time":0.30008683,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:4:1:1:2:6:1]","description":"updates the bank account","full_description":"Api::CreditNotesController#update with the right permission_level with valid credit note id updating attributes changing bank_account updates the bank account","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":832,"run_time":0.281816796,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:4:1:1:2:7:1:1]","description":"updates the Credit Note attributes successfully","full_description":"Api::CreditNotesController#update with the right permission_level with valid credit note id updating attributes CIS adding a CIS rate updates the Credit Note attributes successfully","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":850,"run_time":0.305423264,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:4:1:1:2:7:2:1]","description":"updates the Credit Note attributes successfully","full_description":"Api::CreditNotesController#update with the right permission_level with valid credit note id updating attributes CIS changing an existing CIS rate updates the Credit Note attributes successfully","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":865,"run_time":0.228870117,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:4:1:1:2:7:3:1]","description":"returns bad_request and an error message","full_description":"Api::CreditNotesController#update with the right permission_level with valid credit note id updating attributes CIS attepting to add an invalid CIS rate returns bad_request and an error message","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":879,"run_time":0.14394028,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:4:1:1:2:8:1:1]","description":"updates the Credit Note EC Status","full_description":"Api::CreditNotesController#update with the right permission_level with valid credit note id updating attributes updating the EC Status adding an EC Status of VAT MOSS updates the Credit Note EC Status","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":902,"run_time":0.217136352,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:4:1:1:2:8:2:1]","description":"updates the Credit Note EC Status","full_description":"Api::CreditNotesController#update with the right permission_level with valid credit note id updating attributes updating the EC Status adding an EC Status of EC Goods updates the Credit Note EC Status","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":914,"run_time":0.236168313,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:4:1:1:2:8:3:1]","description":"updates the Credit Note EC Status","full_description":"Api::CreditNotesController#update with the right permission_level with valid credit note id updating attributes updating the EC Status adding an EC Status of EC Services updates the Credit Note EC Status","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":926,"run_time":0.213941853,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:4:1:1:2:8:4:1]","description":"changes the EC Status of the Credit Note to EC Services","full_description":"Api::CreditNotesController#update with the right permission_level with valid credit note id updating attributes updating the EC Status changing EC Status from EC Goods to EC Services changes the EC Status of the Credit Note to EC Services","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":946,"run_time":0.242397533,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:4:1:1:3:1:1:1]","description":"updates the existing credit note item","full_description":"Api::CreditNotesController#update with the right permission_level with valid credit note id credit note items (invoice items) when the credit_note_id is set to an existing credit note item valid params are sent updates the existing credit note item","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":997,"run_time":0.454912698,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:4:1:1:3:1:2:1]","description":"does not update the existing credit note item and response status is unprocessable_entity","full_description":"Api::CreditNotesController#update with the right permission_level with valid credit note id credit note items (invoice items) when the credit_note_id is set to an existing credit note item invalid credit note item params are sent does not update the existing credit note item and response status is unprocessable_entity","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1031,"run_time":0.200601904,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:4:1:1:3:2:1]","description":"creates a new credit note item","full_description":"Api::CreditNotesController#update with the right permission_level with valid credit note id credit note items (invoice items) valid credit note item params are sent creates a new credit note item","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1057,"run_time":0.306709787,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:4:1:1:3:3:1]","description":"does not create a new credit note item and response status is unprocessable_entity","full_description":"Api::CreditNotesController#update with the right permission_level with valid credit note id credit note items (invoice items) invalid credit note item params are sent does not create a new credit note item and response status is unprocessable_entity","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1089,"run_time":0.182439678,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:4:1:1:4:1:1:1]","description":"updates succesfully","full_description":"Api::CreditNotesController#update with the right permission_level with valid credit note id universal company with second sales tax valid params with second sales tax set updating an existing credit note item updates succesfully","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1123,"run_time":0.448547116,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:4:1:1:4:1:2:1]","description":"updates succesfully","full_description":"Api::CreditNotesController#update with the right permission_level with valid credit note id universal company with second sales tax valid params with second sales tax set creating a new credit note item updates succesfully","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1149,"run_time":0.366391631,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:4:1:1:5:1]","description":"updates the property","full_description":"Api::CreditNotesController#update with the right permission_level with valid credit note id as a UK Unincorporated Landlord updates the property","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1170,"run_time":0.286303665,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:4:1:2:1]","description":"is expected to respond with a not_found status code (404)","full_description":"Api::CreditNotesController#update with the right permission_level with invalid credit note id is expected to respond with a not_found status code (404)","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1181,"run_time":0.135567656,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:4:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::CreditNotesController#update without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1191,"run_time":0.126010182,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:4:2:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::CreditNotesController#update without the right permission_level with invalid credit note id is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1196,"run_time":0.135427633,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:5:1:1:1:1]","description":"returns a success status and deletes the Credit Note and create an audit entry","full_description":"Api::CreditNotesController#delete when the user has ESTIMATES_AND_INVOICES permissions with valid credit_note_id when the credit note is deleteable returns a success status and deletes the Credit Note and create an audit entry","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1209,"run_time":0.171165119,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:5:1:1:2:1]","description":"returns a conflict status, and does not delete the Credit Note or create an audit entry","full_description":"Api::CreditNotesController#delete when the user has ESTIMATES_AND_INVOICES permissions with valid credit_note_id when the credit note is not deleteable returns a conflict status, and does not delete the Credit Note or create an audit entry","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1235,"run_time":0.225112782,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:5:1:2:1]","description":"returns a not found status","full_description":"Api::CreditNotesController#delete when the user has ESTIMATES_AND_INVOICES permissions with an invalid credit_note_id returns a not found status","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1247,"run_time":0.058777606,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:5:2:1:1]","description":"returns forbidden status","full_description":"Api::CreditNotesController#delete when the user has MY_MONEY permission levels with valid credit_note_id returns forbidden status","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1258,"run_time":0.118409634,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:6:1:1]","description":"marks the credit note as cancelled","full_description":"Api::CreditNotesController#mark_as_cancelled when valid marks the credit note as cancelled","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1285,"run_time":0.294667206,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:6:2:1]","description":"returns a forbidden status and does not create an audit entry","full_description":"Api::CreditNotesController#mark_as_cancelled when transition is forbidden returns a forbidden status and does not create an audit entry","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1312,"run_time":0.145439523,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:7:1:1]","description":"marks the credit note as draft and creates and audit entry","full_description":"Api::CreditNotesController#mark_as_draft when valid marks the credit note as draft and creates and audit entry","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1338,"run_time":0.274403875,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:7:2:1]","description":"does not create an audit entry","full_description":"Api::CreditNotesController#mark_as_draft when transition is forbidden does not create an audit entry","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1366,"run_time":0.121818432,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:8:1:1]","description":"marks the credit note as sent","full_description":"Api::CreditNotesController#mark_as_sent when valid marks the credit note as sent","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1392,"run_time":0.259981687,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:8:2:1]","description":"leaves the credit note in its original state and returns a forbidden status with an explanation about the need for a negative total value","full_description":"Api::CreditNotesController#mark_as_sent when credit note has a positive-value leaves the credit note in its original state and returns a forbidden status with an explanation about the need for a negative total value","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1422,"run_time":0.173341664,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:8:3:1]","description":"returns a missing status","full_description":"Api::CreditNotesController#mark_as_sent with an invalid credit note id returns a missing status","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1435,"run_time":0.069662235,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:8:4:1]","description":"leaves the credit note in its original state","full_description":"Api::CreditNotesController#mark_as_sent when unauthorised leaves the credit note in its original state","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1444,"run_time":0.138488208,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:9:1:1:1:1]","description":"creates a credit note with all the possible attributes and creates an audit entry","full_description":"Api::CreditNotesController#create when authorised with credit note params with a valid contact creates a credit note with all the possible attributes and creates an audit entry","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1478,"run_time":0.171489613,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:9:1:1:2:1]","description":"responds with bad request does not create an audit entry","full_description":"Api::CreditNotesController#create when authorised with credit note params with invalid contact responds with bad request does not create an audit entry","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1505,"run_time":0.059896462,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:9:1:2:1:1]","description":"creates the Credit Note with EC VAT MOSS Status","full_description":"Api::CreditNotesController#create when authorised updating the EC Status with EC Status of VAT MOSS creates the Credit Note with EC VAT MOSS Status","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1530,"run_time":0.253054601,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:9:1:2:2:1]","description":"creates the Credit Note with an EC Status of EC Goods","full_description":"Api::CreditNotesController#create when authorised updating the EC Status with EC Status of EC Goods creates the Credit Note with an EC Status of EC Goods","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1548,"run_time":0.355220714,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:9:1:2:3:1]","description":"creates the Credit Note with EC Services Status","full_description":"Api::CreditNotesController#create when authorised updating the EC Status with EC Status of EC Services creates the Credit Note with EC Services Status","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1564,"run_time":0.715888384,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:9:1:3:1:1]","description":"creates a credit note with 3 credit note items","full_description":"Api::CreditNotesController#create when authorised with credit note items valid credit note item params are sent creates a credit note with 3 credit note items","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1586,"run_time":0.217177943,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:9:1:3:2:1]","description":"creates a credit note with a credit note item, with the correct seles tax rates","full_description":"Api::CreditNotesController#create when authorised with credit note items universal company with second_sales_tax and an item with sales tax rates creates a credit note with a credit note item, with the correct seles tax rates","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1610,"run_time":0.268711615,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:9:1:3:3:1]","description":"responds with bad request","full_description":"Api::CreditNotesController#create when authorised with credit note items invalid credit note item params are sent (items are sent as a string) responds with bad request","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1633,"run_time":0.067645281,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:9:1:4:1:1]","description":"creates the credit note","full_description":"Api::CreditNotesController#create when authorised as a UK Unincorporated Landlord when supplying a property creates the credit note","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1647,"run_time":0.22192723,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:9:1:4:2:1]","description":"fails to create the credit note","full_description":"Api::CreditNotesController#create when authorised as a UK Unincorporated Landlord when supplying a property owned by another company fails to create the credit note","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1658,"run_time":0.244327601,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:9:1:4:3:1]","description":"fails to create the credit note","full_description":"Api::CreditNotesController#create when authorised as a UK Unincorporated Landlord when not supplying a property fails to create the credit note","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1666,"run_time":0.177134099,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:9:2:1]","description":"returns a forbidden status","full_description":"Api::CreditNotesController#create when unauthorised returns a forbidden status","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1680,"run_time":0.06133819,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:10:1:1]","description":"shouldn't be allowed","full_description":"Api::CreditNotesController GET /v2/credit_notes/:id/email_template without sufficient permissions shouldn't be allowed","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1700,"run_time":0.13526885,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:10:2:1]","description":"default behaviour","full_description":"Api::CreditNotesController GET /v2/credit_notes/:id/email_template with permissions default behaviour","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1709,"run_time":0.154782729,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes_integration_spec.rb[1:10:2:2]","description":"when a custom email_template exists","full_description":"Api::CreditNotesController GET /v2/credit_notes/:id/email_template with permissions when a custom email_template exists","status":"passed","file_path":"./spec/requests/api/credit_notes_integration_spec.rb","line_number":1721,"run_time":0.174622333,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:1:1]","description":"is expected to redirect to \"/\"","full_description":"PracticeDashboard::CompaniesController while logged in as a company User is expected to redirect to \"/\"","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":44,"run_time":0.050525291,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:2:1:1]","description":"redirects to the update your subscription page and does not raise an exception","full_description":"PracticeDashboard::CompaniesController while logged in as a suspended company User when trying to access the practice dashboard from a company subdomain redirects to the update your subscription page and does not raise an exception","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":52,"run_time":0.117716158,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:3:1]","description":"with valid parameters, creating a Ltd company","full_description":"PracticeDashboard::CompaniesController while logged in on a SAML domain with valid parameters, creating a Ltd company","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":67,"run_time":0.199069325,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:1:1:1]","description":"renders the mine template","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #mine with four client companies renders the mine template","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":170,"run_time":1.891774297,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:1:1:2]","description":"sets up per page value based on query","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #mine with four client companies sets up per page value based on query","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":190,"run_time":0.652819388,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:1:1:3]","description":"assigns last login","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #mine with four client companies assigns last login","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":197,"run_time":0.574685825,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:1:1:4]","description":"allows companies to be searched for","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #mine with four client companies allows companies to be searched for","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":203,"run_time":0.857864725,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:1:1:5:1]","description":"can sort by ascending or descending up to date field","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #mine with four client companies sorting companies in the Dashboard can sort by ascending or descending up to date field","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":287,"run_time":0.717277436,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:1:1:5:2:1]","description":"sorts ascending or descending","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #mine with four client companies sorting companies in the Dashboard by notifications sorts ascending or descending","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":322,"run_time":0.778745104,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:1:2:1]","description":"shows the count of notifications","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #mine with notifications shows the count of notifications","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":361,"run_time":0.240654274,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:1:2:2]","description":"does not count dismissed notifications","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #mine with notifications does not count dismissed notifications","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":368,"run_time":0.24604476,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:1:3:1]","description":"allows account manager accesses to their client company page","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #mine with the practice_dashboard_metro_multi_import feature disabled allows account manager accesses to their client company page","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":382,"run_time":0.081044511,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:2:1]","description":"renders the form correctly with correct company type","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #new renders the form correctly with correct company type","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":397,"run_time":0.08189841,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:3:1:1]","description":"renders the template","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #invite with an active company renders the template","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":413,"run_time":0.156832017,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:3:2:1]","description":"does not render the invitation modal","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #invite with a closed company does not render the invitation modal","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":425,"run_time":0.122890875,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:4:1:1]","description":"sends an invite to the client","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #send_invite if the user has not already been sent an invite sends an invite to the client","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":458,"run_time":0.144599889,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:4:2:1]","description":"does not send another invite to the client","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #send_invite if an invite has already been sent does not send another invite to the client","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":468,"run_time":0.1278841,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:4:3:1]","description":"does not send an invite to the client","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #send_invite if the client has a closed licence does not send an invite to the client","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":477,"run_time":0.120521777,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:5:1]","description":"with valid parameters","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #create with valid parameters","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":503,"run_time":0.159040204,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:5:2]","description":"with valid parameters and proceeding to setup","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #create with valid parameters and proceeding to setup","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":543,"run_time":0.115570804,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:5:3]","description":"with valid parameters, creating a Ltd company","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #create with valid parameters, creating a Ltd company","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":551,"run_time":0.117478081,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:5:4]","description":"with valid parameters, creating a Sole Trader","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #create with valid parameters, creating a Sole Trader","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":575,"run_time":0.135357467,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:5:5]","description":"with valid parameters, selecting a FAPDRBSG subscription","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #create with valid parameters, selecting a FAPDRBSG subscription","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":596,"run_time":0.126675911,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:5:6]","description":"with valid parameters but is Mettle funded Universal Company","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #create with valid parameters but is Mettle funded Universal Company","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":636,"run_time":0.083369066,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:5:7]","description":"with valid parameters but is Mettle funded Us Company","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #create with valid parameters but is Mettle funded Us Company","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":675,"run_time":0.114507066,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:5:8]","description":"with invalid parameters (missing subdomain)","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #create with invalid parameters (missing subdomain)","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":715,"run_time":0.0759285,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:5:9]","description":"with invalid parameters and attempting to proceed to setup","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #create with invalid parameters and attempting to proceed to setup","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":745,"run_time":0.074502448,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:5:10:1]","description":"prevents client invitations where their permission level is less than 8","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #create inviting a client prevents client invitations where their permission level is less than 8","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":774,"run_time":0.114521426,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:5:10:2]","description":"does not prevent client invitations where their permission level is 8","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #create inviting a client does not prevent client invitations where their permission level is 8","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":798,"run_time":0.12332413,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:6:1]","description":"treats the company as its proper STI subclass","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #show' treats the company as its proper STI subclass","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":843,"run_time":0.188172776,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:6:2]","description":"for a non-active linked company","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #show' for a non-active linked company","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":849,"run_time":0.121032773,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:6:3]","description":"for a active practice managed company","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #show' for a active practice managed company","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":856,"run_time":0.209157596,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:6:4]","description":"for a inactive practice managed company","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #show' for a inactive practice managed company","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":856,"run_time":0.181027083,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:6:5]","description":"for a demo practice managed company","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #show' for a demo practice managed company","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":856,"run_time":0.176339909,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:6:6:1]","description":"renders the MTD VAT activation partial","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #show' with a valid mtd authorization renders the MTD VAT activation partial","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":881,"run_time":0.225210006,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:7:1]","description":"Toggling status of an active practice managed company closes the company","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #toggle_status Toggling status of an active practice managed company closes the company","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":891,"run_time":0.147982811,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:7:2]","description":"Toggling status of an inactive practice managed company activates the company","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #toggle_status Toggling status of an inactive practice managed company activates the company","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":900,"run_time":0.133242386,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:8:1]","description":"doesn't disable the account owner fields","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #edit doesn't disable the account owner fields","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":917,"run_time":0.16223337,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:8:2]","description":"does not allow setting the company type","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #edit does not allow setting the company type","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":923,"run_time":0.152327184,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:8:6]","description":"for a active practice managed company","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #edit for a active practice managed company","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":993,"run_time":0.151756004,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:8:7]","description":"for a inactive practice managed company","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #edit for a inactive practice managed company","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":993,"run_time":0.161912678,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:8:8]","description":"for a demo practice managed company","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #edit for a demo practice managed company","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":993,"run_time":0.156311264,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:8:3:1]","description":"sets the company type correctly","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #edit for a getting started company sets the company type correctly","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":933,"run_time":0.16170541,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:8:4:1]","description":"doesn't disable the account owner fields","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #edit for an RBSG-subsidised company doesn't disable the account owner fields","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":950,"run_time":0.171991375,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:8:4:2]","description":"allows the account owner fields to be updated","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #edit for an RBSG-subsidised company allows the account owner fields to be updated","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":956,"run_time":0.238907806,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:8:5:1]","description":"prevents access","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #edit for a linked company prevents access","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":984,"run_time":0.233423089,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:9:1]","description":"with valid parameters","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #update with valid parameters","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1002,"run_time":0.186989043,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:9:4]","description":"with valid parameters, changing the account manager","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #update with valid parameters, changing the account manager","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1105,"run_time":0.193983222,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:9:5]","description":"with invalid parameters (no subdomain)","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #update with invalid parameters (no subdomain)","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1134,"run_time":0.206112846,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:9:2:1]","description":"when a company has not yet completed its setup","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #update with valid parameters, changing the company type when a company has not yet completed its setup","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1025,"run_time":0.701195569,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:9:2:2]","description":"when a company has completed its setup","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #update with valid parameters, changing the company type when a company has completed its setup","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1053,"run_time":0.185723453,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:9:3:1:1]","description":"changes the subscription status to closed and records the reason why","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #update with valid parameters, changing the status to 'closed' with the practice_client_churn feature flag enabled changes the subscription status to closed and records the reason why","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1098,"run_time":0.190364959,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:9:6:1]","description":"sets validation errors on the company and account owner objects","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #update with invalid parameters (invalid account owner details) sets validation errors on the company and account owner objects","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1184,"run_time":0.26149394,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:9:7:1]","description":"prevents access","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #update for a linked company prevents access","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1202,"run_time":0.324646604,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:9:8:1]","description":"allows the account owner fields to be updated","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #update for an RBSG-subsidised company allows the account owner fields to be updated","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1227,"run_time":0.243989072,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:9:9:1]","description":"prevents client invitations where their permission level is less than 8","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #update inviting a client prevents client invitations where their permission level is less than 8","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1255,"run_time":0.245431833,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:9:9:2]","description":"does not prevent client invitations where their permission level is 8","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #update inviting a client does not prevent client invitations where their permission level is 8","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1280,"run_time":0.244986908,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:9:9:3]","description":"does not prevent client invitations for setup complete companies at any permission level","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #update inviting a client does not prevent client invitations for setup complete companies at any permission level","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1305,"run_time":0.286508687,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:9:10:1]","description":"does not update with unpermitted params","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #update malicious parameters (mass assignment attack) does not update with unpermitted params","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1337,"run_time":0.312438799,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:9:11:1]","description":"makes the company active","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #update Updating the status of an inactive to active company from the edit form makes the company active","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1368,"run_time":0.192791846,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:10:1:1]","description":"makes the company direct with a default free trial period and redirects","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #destroy on practice managed company makes the company direct with a default free trial period and redirects","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1382,"run_time":0.220019207,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:10:2:1]","description":"migrates the company to an RBSG subscription with NO free trial period and redirects","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #destroy on an FAPDRBSG practice managed company migrates the company to an RBSG subscription with NO free trial period and redirects","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1401,"run_time":0.212438073,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:10:3:1]","description":"unlinks the company from the dashboard","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #destroy on linked company unlinks the company from the dashboard","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1429,"run_time":0.220201189,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:10:4:1]","description":"does not find the company","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #destroy on a company in another practice does not find the company","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1445,"run_time":0.213896707,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:10:5:1]","description":"does not find the company","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #destroy on a company in same practice, owned by another account manager does not find the company","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1456,"run_time":0.199371295,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:10:6:1]","description":"prevents the removal of the company","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #destroy for a whitelabelled practice prevents the removal of the company","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1463,"run_time":0.208651868,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:10:7:1]","description":"prevents the removal of the company","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #destroy for a demo company prevents the removal of the company","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1478,"run_time":0.18926204,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:11:1]","description":"renders the confirmation modal template","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice GET #confirm_destroy renders the confirmation modal template","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1493,"run_time":0.222867225,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:12:1:1]","description":"should redirect to the companies path and show an error notice","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #rbsg_switch when the company migration throws a migration error should redirect to the companies path and show an error notice","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1509,"run_time":0.180905252,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:12:2:1]","description":"should redirect to the companies path and show an error notice","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #rbsg_switch when the company migration throws a record invalid error should redirect to the companies path and show an error notice","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1532,"run_time":0.424647206,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:13:1]","description":"marks the company as active for MTD VAT","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice PUT #activate_mtd_vat marks the company as active for MTD VAT","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1553,"run_time":0.198467479,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:14:1]","description":"Switching to a non-active linked company","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #switch_to Switching to a non-active linked company","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1562,"run_time":0.1687298,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:14:2]","description":"Switching to an active linked company","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #switch_to Switching to an active linked company","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1569,"run_time":0.16013336,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:14:3]","description":"switching to a client's alert","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #switch_to switching to a client's alert","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1579,"run_time":0.278868323,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:14:4]","description":"Switching to a active practice managed company","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #switch_to Switching to a active practice managed company","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1597,"run_time":0.184457368,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:14:5]","description":"Switching to a inactive practice managed company","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #switch_to Switching to a inactive practice managed company","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1597,"run_time":0.171105636,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:14:7]","description":"does not ask for 2fa code","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #switch_to does not ask for 2fa code","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1626,"run_time":0.165344499,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:14:6:1]","description":"sets the switch_to cookie and redirects to the company's dashboard","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #switch_to Switching to a demo practice managed company sets the switch_to cookie and redirects to the company's dashboard","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1617,"run_time":0.195560258,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:15:1:1]","description":"only shows CoPilot companies in the list","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice #my_copilot for active CoPilot companies only shows CoPilot companies in the list","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1660,"run_time":0.440242463,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:16:1:1]","description":"responds with 404 not found","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice GET #confirm_close when the practice_client_churn feature flag is disabled responds with 404 not found","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1678,"run_time":0.216040328,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:16:2:1]","description":"renders the close client confirmation page","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice GET #confirm_close when the practice_client_churn feature flag is enabled renders the close client confirmation page","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1688,"run_time":0.253853961,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:16:2:2:1]","description":"redirects to the company page","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice GET #confirm_close when the practice_client_churn feature flag is enabled for an inactive company redirects to the company page","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1696,"run_time":0.184805162,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:16:2:3:1]","description":"redirects to the company page","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice GET #confirm_close when the practice_client_churn feature flag is enabled for a closed company redirects to the company page","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1704,"run_time":0.184778226,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:17:1:1]","description":"responds with 404 not found","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice PUT #close when the practice_client_churn feature flag is disabled responds with 404 not found","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1720,"run_time":0.209412204,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:17:2:1:1]","description":"closes the client, creates a practice client churn reason, and redirects to the client page","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice PUT #close when the practice_client_churn feature flag is enabled with an active practice managed company closes the client, creates a practice client churn reason, and redirects to the client page","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1737,"run_time":0.271882788,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:17:2:2:1]","description":"re-renders the confirmation page with errors","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice PUT #close when the practice_client_churn feature flag is enabled with invalid parameters re-renders the confirmation page with errors","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1763,"run_time":0.279848492,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:17:2:3:1]","description":"redirects to the company page without updating the company","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice PUT #close when the practice_client_churn feature flag is enabled for an inactive company redirects to the company page without updating the company","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1785,"run_time":0.185138001,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:17:2:4:1]","description":"redirects to the company page without updating the company","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice PUT #close when the practice_client_churn feature flag is enabled for a closed company redirects to the company page without updating the company","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1804,"run_time":0.190303436,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:18:1:1]","description":"responds with 404 not found","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice GET #confirm_remove when the practice_client_churn feature flag is disabled responds with 404 not found","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1826,"run_time":0.190990318,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:18:2:1]","description":"renders the close client confirmation page","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice GET #confirm_remove when the practice_client_churn feature flag is enabled renders the close client confirmation page","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1836,"run_time":0.212877888,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:19:1:1]","description":"responds with 404 not found","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice PUT #remove when the practice_client_churn feature flag is disabled responds with 404 not found","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1865,"run_time":0.194830013,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:19:2:1:1]","description":"makes the company direct with a default free trial period and redirects","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice PUT #remove when the practice_client_churn feature flag is enabled on practice managed company makes the company direct with a default free trial period and redirects","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1876,"run_time":0.208614556,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:19:2:2:1]","description":"migrates the company to an RBSG subscription with NO free trial period and redirects","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice PUT #remove when the practice_client_churn feature flag is enabled on an FAPDRBSG practice managed company migrates the company to an RBSG subscription with NO free trial period and redirects","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1903,"run_time":0.219454021,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:19:2:3:1]","description":"unlinks the company from the dashboard","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice PUT #remove when the practice_client_churn feature flag is enabled on linked company unlinks the company from the dashboard","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1935,"run_time":0.225421044,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:19:2:4:1]","description":"does not find the company","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice PUT #remove when the practice_client_churn feature flag is enabled on a company in another practice does not find the company","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1956,"run_time":0.243982153,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:19:2:5:1]","description":"does not find the company","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice PUT #remove when the practice_client_churn feature flag is enabled on a company in same practice, owned by another account manager does not find the company","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1970,"run_time":0.218428011,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:19:2:6:1]","description":"prevents the removal of the company","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice PUT #remove when the practice_client_churn feature flag is enabled for a whitelabelled practice prevents the removal of the company","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1985,"run_time":0.201563165,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:19:2:7:1]","description":"prevents the removal of the company","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice PUT #remove when the practice_client_churn feature flag is enabled for a demo company prevents the removal of the company","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":1997,"run_time":0.196788245,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:19:2:8:1]","description":"re-renders the confirmation page with errors","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice PUT #remove when the practice_client_churn feature flag is enabled with invalid parameters re-renders the confirmation page with errors","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":2020,"run_time":0.228456139,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:4:19:2:9:1]","description":"does not remove the client or create the practice client churn reason","full_description":"PracticeDashboard::CompaniesController while logged into a regular practice PUT #remove when the practice_client_churn feature flag is enabled when the subscription migration fails does not remove the client or create the practice client churn reason","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":2039,"run_time":0.215101324,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb[1:5:1:1]","description":"does not throw an error","full_description":"PracticeDashboard::CompaniesController page header tabs when the relationship does not exist does not throw an error","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_standard_spec.rb","line_number":2075,"run_time":0.368639777,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:1]","description":"rescans smart user payments for one source item correctly","full_description":"SmartUserPayments rescans smart user payments for one source item correctly","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":9,"run_time":0.259197554,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:2]","description":"rescans smart user payments for multiple source items for different users correctly","full_description":"SmartUserPayments rescans smart user payments for multiple source items for different users correctly","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":17,"run_time":0.450863326,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:3]","description":"pays off salaries","full_description":"SmartUserPayments pays off salaries","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":29,"run_time":1.170533705,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:4]","description":"pays off salaries across multiple payments","full_description":"SmartUserPayments pays off salaries across multiple payments","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":36,"run_time":0.824554024,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:5]","description":"pays off expenses","full_description":"SmartUserPayments pays off expenses","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":47,"run_time":0.469648831,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:6]","description":"pays off salary then any remaining goes to expenses","full_description":"SmartUserPayments pays off salary then any remaining goes to expenses","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":54,"run_time":0.48726135,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:7]","description":"does not pay off future salaries","full_description":"SmartUserPayments does not pay off future salaries","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":64,"run_time":0.411200437,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:8]","description":"does not pay off future expenses","full_description":"SmartUserPayments does not pay off future expenses","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":73,"run_time":0.488937507,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:9]","description":"does not put the salary account into debit","full_description":"SmartUserPayments does not put the salary account into debit","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":82,"run_time":0.698189793,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:10]","description":"does not put the expense account into debit","full_description":"SmartUserPayments does not put the expense account into debit","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":90,"run_time":0.686638289,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:11]","description":"does not recalculate once a smart user payment has been allocated","full_description":"SmartUserPayments does not recalculate once a smart user payment has been allocated","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":98,"run_time":0.492984449,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:12]","description":"recalculates if the smart payment fields are reset","full_description":"SmartUserPayments recalculates if the smart payment fields are reset","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":110,"run_time":0.721344572,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:13]","description":"recalculates if the dated is changed","full_description":"SmartUserPayments recalculates if the dated is changed","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":124,"run_time":0.760342776,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:14]","description":"recalculates if the gross value is changed","full_description":"SmartUserPayments recalculates if the gross value is changed","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":136,"run_time":0.750075938,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:15]","description":"recalculates if the general ledger account is changed","full_description":"SmartUserPayments recalculates if the general ledger account is changed","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":148,"run_time":0.796038744,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:16]","description":"does not recalculate if the description is changed","full_description":"SmartUserPayments does not recalculate if the description is changed","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":161,"run_time":0.584269849,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:17:1]","description":"is expected to eq 966.49 (BigDecimal)","full_description":"SmartUserPayments in a locked period is expected to eq 966.49 (BigDecimal)","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":177,"run_time":1.406516266,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/company_seeder_controller_spec.rb[1:1:1:1]","description":"renders the view","full_description":"Admin::CompanySeederController#new when superhero admin renders the view","status":"passed","file_path":"./spec/controllers/admin/company_seeder_controller_spec.rb","line_number":39,"run_time":0.817141003,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/company_seeder_controller_spec.rb[1:1:2:1]","description":"redirects to unauthorized","full_description":"Admin::CompanySeederController#new when sales admin user redirects to unauthorized","status":"passed","file_path":"./spec/controllers/admin/company_seeder_controller_spec.rb","line_number":51,"run_time":0.031450495,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/company_seeder_controller_spec.rb[1:2:1]","description":"creates a demo company and sends a password reset email","full_description":"Admin::CompanySeederController#create creates a demo company and sends a password reset email","status":"passed","file_path":"./spec/controllers/admin/company_seeder_controller_spec.rb","line_number":60,"run_time":0.828302551,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/company_seeder_controller_spec.rb[1:2:2:1:1]","description":"does not create a cash basis demo company","full_description":"Admin::CompanySeederController#create using cash basis when the company type is not supported does not create a cash basis demo company","status":"passed","file_path":"./spec/controllers/admin/company_seeder_controller_spec.rb","line_number":80,"run_time":0.037682557,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/company_seeder_controller_spec.rb[1:2:2:2:1]","description":"creates a UkUnincorporatedLandlord demo company","full_description":"Admin::CompanySeederController#create using cash basis with a supported company type creates a UkUnincorporatedLandlord demo company","status":"passed","file_path":"./spec/controllers/admin/company_seeder_controller_spec.rb","line_number":96,"run_time":0.816326501,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/company_seeder_controller_spec.rb[1:2:2:2:2]","description":"creates a UkSoleTrader demo company","full_description":"Admin::CompanySeederController#create using cash basis with a supported company type creates a UkSoleTrader demo company","status":"passed","file_path":"./spec/controllers/admin/company_seeder_controller_spec.rb","line_number":111,"run_time":0.811103765,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/company_seeder_controller_spec.rb[1:2:3:1]","description":"creates a UkSoleTrader demo company","full_description":"Admin::CompanySeederController#create using default basis creates a UkSoleTrader demo company","status":"passed","file_path":"./spec/controllers/admin/company_seeder_controller_spec.rb","line_number":129,"run_time":0.831082483,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/company_seeder_controller_spec.rb[1:2:3:2]","description":"creates a UsSoleProprietor demo company","full_description":"Admin::CompanySeederController#create using default basis creates a UsSoleProprietor demo company","status":"passed","file_path":"./spec/controllers/admin/company_seeder_controller_spec.rb","line_number":144,"run_time":0.832425785,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/company_seeder_controller_spec.rb[1:2:3:3]","description":"creates a UkUnincorporatedLandlord demo company","full_description":"Admin::CompanySeederController#create using default basis creates a UkUnincorporatedLandlord demo company","status":"passed","file_path":"./spec/controllers/admin/company_seeder_controller_spec.rb","line_number":159,"run_time":0.810646932,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/company_seeder_controller_spec.rb[1:2:4:1]","description":"creates a UkLimitedCompany demo company","full_description":"Admin::CompanySeederController#create using accrual basis creates a UkLimitedCompany demo company","status":"passed","file_path":"./spec/controllers/admin/company_seeder_controller_spec.rb","line_number":176,"run_time":0.840761518,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/company_seeder_controller_spec.rb[1:2:4:2]","description":"creates a UkUnincorporatedLandlord demo company","full_description":"Admin::CompanySeederController#create using accrual basis creates a UkUnincorporatedLandlord demo company","status":"passed","file_path":"./spec/controllers/admin/company_seeder_controller_spec.rb","line_number":191,"run_time":0.823954663,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/company_seeder_controller_spec.rb[1:2:5:1]","description":"creates a demo company and sends a password reset email and seeds some data","full_description":"Admin::CompanySeederController#create using a uk landlord company type creates a demo company and sends a password reset email and seeds some data","status":"passed","file_path":"./spec/controllers/admin/company_seeder_controller_spec.rb","line_number":208,"run_time":0.824090479,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/company_seeder_controller_spec.rb[1:2:6:1]","description":"creates a demo company and it belongs to the selected accountancy practice","full_description":"Admin::CompanySeederController#create automatically associating a demo company to an accountancy practice creates a demo company and it belongs to the selected accountancy practice","status":"passed","file_path":"./spec/controllers/admin/company_seeder_controller_spec.rb","line_number":234,"run_time":0.944290396,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/company_seeder_controller_spec.rb[1:2:7:1]","description":"re-renders the new demo company form with an error","full_description":"Admin::CompanySeederController#create when demo company is not created due to failed validations re-renders the new demo company form with an error","status":"passed","file_path":"./spec/controllers/admin/company_seeder_controller_spec.rb","line_number":261,"run_time":0.031281538,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/company_seeder_controller_spec.rb[1:2:8:1]","description":"redirects to unauthorized","full_description":"Admin::CompanySeederController#create when sales admin user redirects to unauthorized","status":"passed","file_path":"./spec/controllers/admin/company_seeder_controller_spec.rb","line_number":274,"run_time":0.028057841,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/company_seeder_controller_spec.rb[1:3:1]","description":"allows editing of a demo company","full_description":"Admin::CompanySeederController#edit allows editing of a demo company","status":"passed","file_path":"./spec/controllers/admin/company_seeder_controller_spec.rb","line_number":284,"run_time":0.129576663,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/company_seeder_controller_spec.rb[1:3:2]","description":"does not allow editing of a non-demo company","full_description":"Admin::CompanySeederController#edit does not allow editing of a non-demo company","status":"passed","file_path":"./spec/controllers/admin/company_seeder_controller_spec.rb","line_number":290,"run_time":0.0146557,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/company_seeder_controller_spec.rb[1:3:3:1]","description":"redirects to unauthorized","full_description":"Admin::CompanySeederController#edit when sales admin user redirects to unauthorized","status":"passed","file_path":"./spec/controllers/admin/company_seeder_controller_spec.rb","line_number":302,"run_time":0.054184628,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/company_seeder_controller_spec.rb[1:4:1:1]","description":"redirects to the company's Sudo page","full_description":"Admin::CompanySeederController#update when the 'preserve data' flag parameter is not set redirects to the company's Sudo page","status":"passed","file_path":"./spec/controllers/admin/company_seeder_controller_spec.rb","line_number":316,"run_time":0.63382309,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/company_seeder_controller_spec.rb[1:4:1:2]","description":"queues a CompanySeederJob with the correct arguments","full_description":"Admin::CompanySeederController#update when the 'preserve data' flag parameter is not set queues a CompanySeederJob with the correct arguments","status":"passed","file_path":"./spec/controllers/admin/company_seeder_controller_spec.rb","line_number":321,"run_time":0.602686621,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/company_seeder_controller_spec.rb[1:4:2:1]","description":"queues a CompanySeederJob with the correct arguments","full_description":"Admin::CompanySeederController#update when the 'preserve data' flag parameter is set queues a CompanySeederJob with the correct arguments","status":"passed","file_path":"./spec/controllers/admin/company_seeder_controller_spec.rb","line_number":335,"run_time":1.338728579,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/company_details_seeder_spec.rb[1:1:1]","description":"does not modify the state of a practice_managed company when seeding data","full_description":"CompanySeeder::CompanyDetailsSeeder#seed does not modify the state of a practice_managed company when seeding data","status":"passed","file_path":"./spec/tools/company_seeder/company_details_seeder_spec.rb","line_number":24,"run_time":0.479887525,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/company_details_seeder_spec.rb[1:1:2:1:1]","description":"sets the default dates related to creation date","full_description":"CompanySeeder::CompanyDetailsSeeder#seed with a uk ltd company seeded on the date of creation sets the default dates related to creation date","status":"passed","file_path":"./spec/tools/company_seeder/company_details_seeder_spec.rb","line_number":60,"run_time":0.465193513,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/company_details_seeder_spec.rb[1:1:2:1:2]","description":"creates opening balances","full_description":"CompanySeeder::CompanyDetailsSeeder#seed with a uk ltd company seeded on the date of creation creates opening balances","status":"passed","file_path":"./spec/tools/company_seeder/company_details_seeder_spec.rb","line_number":74,"run_time":0.525325795,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/company_details_seeder_spec.rb[1:1:2:2:1]","description":"sets the company dates related to creation date","full_description":"CompanySeeder::CompanyDetailsSeeder#seed with a uk ltd company seeded after the date of creation sets the company dates related to creation date","status":"passed","file_path":"./spec/tools/company_seeder/company_details_seeder_spec.rb","line_number":86,"run_time":0.577331337,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/company_details_seeder_spec.rb[1:1:2:3:1]","description":"preserves the company start date set on creation","full_description":"CompanySeeder::CompanyDetailsSeeder#seed with a uk ltd company seeded after the date of creation, with data preserved preserves the company start date set on creation","status":"passed","file_path":"./spec/tools/company_seeder/company_details_seeder_spec.rb","line_number":109,"run_time":0.132686669,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/company_details_seeder_spec.rb[1:1:2:3:2]","description":"preserves the freeagent start date set on creation","full_description":"CompanySeeder::CompanyDetailsSeeder#seed with a uk ltd company seeded after the date of creation, with data preserved preserves the freeagent start date set on creation","status":"passed","file_path":"./spec/tools/company_seeder/company_details_seeder_spec.rb","line_number":113,"run_time":0.11625747,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/company_details_seeder_spec.rb[1:1:2:3:3]","description":"preserves the first accounting period year end set on creation","full_description":"CompanySeeder::CompanyDetailsSeeder#seed with a uk ltd company seeded after the date of creation, with data preserved preserves the first accounting period year end set on creation","status":"passed","file_path":"./spec/tools/company_seeder/company_details_seeder_spec.rb","line_number":117,"run_time":0.135587898,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/company_details_seeder_spec.rb[1:1:2:3:4]","description":"preserves the first vat period year end set on creation","full_description":"CompanySeeder::CompanyDetailsSeeder#seed with a uk ltd company seeded after the date of creation, with data preserved preserves the first vat period year end set on creation","status":"passed","file_path":"./spec/tools/company_seeder/company_details_seeder_spec.rb","line_number":121,"run_time":0.127391982,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/company_details_seeder_spec.rb[1:1:2:4:1]","description":"sets the company start date to the specified date","full_description":"CompanySeeder::CompanyDetailsSeeder#seed with a uk ltd company with explicit company dates sets the company start date to the specified date","status":"passed","file_path":"./spec/tools/company_seeder/company_details_seeder_spec.rb","line_number":136,"run_time":0.95606182,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/company_details_seeder_spec.rb[1:1:2:4:2]","description":"sets the freeagent start date to the specified date","full_description":"CompanySeeder::CompanyDetailsSeeder#seed with a uk ltd company with explicit company dates sets the freeagent start date to the specified date","status":"passed","file_path":"./spec/tools/company_seeder/company_details_seeder_spec.rb","line_number":140,"run_time":0.896077378,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/company_details_seeder_spec.rb[1:1:2:4:3]","description":"sets the first accounting period year end to the specified date","full_description":"CompanySeeder::CompanyDetailsSeeder#seed with a uk ltd company with explicit company dates sets the first accounting period year end to the specified date","status":"passed","file_path":"./spec/tools/company_seeder/company_details_seeder_spec.rb","line_number":144,"run_time":0.908605415,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/company_details_seeder_spec.rb[1:1:2:4:4]","description":"sets the first vat period year end to the specified date","full_description":"CompanySeeder::CompanyDetailsSeeder#seed with a uk ltd company with explicit company dates sets the first vat period year end to the specified date","status":"passed","file_path":"./spec/tools/company_seeder/company_details_seeder_spec.rb","line_number":148,"run_time":0.829331592,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/company_details_seeder_spec.rb[1:1:2:5:1]","description":"sets the company start date to the custom date","full_description":"CompanySeeder::CompanyDetailsSeeder#seed with a uk ltd company with explicit company start date sets the company start date to the custom date","status":"passed","file_path":"./spec/tools/company_seeder/company_details_seeder_spec.rb","line_number":160,"run_time":1.007585291,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/company_details_seeder_spec.rb[1:1:2:5:2]","description":"sets the freeagent start date relative to the custom start date","full_description":"CompanySeeder::CompanyDetailsSeeder#seed with a uk ltd company with explicit company start date sets the freeagent start date relative to the custom start date","status":"passed","file_path":"./spec/tools/company_seeder/company_details_seeder_spec.rb","line_number":164,"run_time":1.019245813,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/company_details_seeder_spec.rb[1:1:2:5:3]","description":"sets the first accounting period year end to a year after the company start date","full_description":"CompanySeeder::CompanyDetailsSeeder#seed with a uk ltd company with explicit company start date sets the first accounting period year end to a year after the company start date","status":"passed","file_path":"./spec/tools/company_seeder/company_details_seeder_spec.rb","line_number":168,"run_time":1.034509719,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/company_details_seeder_spec.rb[1:1:2:5:4]","description":"sets the first vat period year end to the end of the month, a year after the company start date","full_description":"CompanySeeder::CompanyDetailsSeeder#seed with a uk ltd company with explicit company start date sets the first vat period year end to the end of the month, a year after the company start date","status":"passed","file_path":"./spec/tools/company_seeder/company_details_seeder_spec.rb","line_number":172,"run_time":1.033578496,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/company_details_seeder_spec.rb[1:1:3:1]","description":"sets the company start date to the 13th March a year before the company creation date","full_description":"CompanySeeder::CompanyDetailsSeeder#seed with a universal company sets the company start date to the 13th March a year before the company creation date","status":"passed","file_path":"./spec/tools/company_seeder/company_details_seeder_spec.rb","line_number":190,"run_time":0.141355676,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/company_details_seeder_spec.rb[1:1:3:2]","description":"sets the freeagent start date to the 1st April after the company start date","full_description":"CompanySeeder::CompanyDetailsSeeder#seed with a universal company sets the freeagent start date to the 1st April after the company start date","status":"passed","file_path":"./spec/tools/company_seeder/company_details_seeder_spec.rb","line_number":194,"run_time":0.143958868,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/company_details_seeder_spec.rb[1:1:3:3]","description":"sets the first accounting period year end to a year after the company start date","full_description":"CompanySeeder::CompanyDetailsSeeder#seed with a universal company sets the first accounting period year end to a year after the company start date","status":"passed","file_path":"./spec/tools/company_seeder/company_details_seeder_spec.rb","line_number":198,"run_time":0.153840255,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/company_details_seeder_spec.rb[1:1:3:4:1]","description":"sets the custom dates","full_description":"CompanySeeder::CompanyDetailsSeeder#seed with a universal company with explicit company dates sets the custom dates","status":"passed","file_path":"./spec/tools/company_seeder/company_details_seeder_spec.rb","line_number":212,"run_time":0.168127943,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/company_details_seeder_spec.rb[1:1:3:4:2:1]","description":"preserves the company's initial dates from creation","full_description":"CompanySeeder::CompanyDetailsSeeder#seed with a universal company with explicit company dates with data preserved preserves the company's initial dates from creation","status":"passed","file_path":"./spec/tools/company_seeder/company_details_seeder_spec.rb","line_number":221,"run_time":0.143452113,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/subscription_invoices_controller_spec.rb[1:1:1]","description":"is expected to respond with a success status code (2xx)","full_description":"SubscriptionInvoicesController GET :show is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/subscription_invoices_controller_spec.rb","line_number":18,"run_time":0.248750079,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/subscription_invoices_controller_spec.rb[1:1:2]","description":"is expected to render template show","full_description":"SubscriptionInvoicesController GET :show is expected to render template show","status":"passed","file_path":"./spec/controllers/subscription_invoices_controller_spec.rb","line_number":19,"run_time":0.236226647,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/subscription_invoices_controller_spec.rb[1:1:3]","description":"is expected to render template subscription_invoices/_line_items","full_description":"SubscriptionInvoicesController GET :show is expected to render template subscription_invoices/_line_items","status":"passed","file_path":"./spec/controllers/subscription_invoices_controller_spec.rb","line_number":20,"run_time":0.196432722,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/subscription_invoices_controller_spec.rb[1:1:4]","description":"renders a correctly formatted invoice number","full_description":"SubscriptionInvoicesController GET :show renders a correctly formatted invoice number","status":"passed","file_path":"./spec/controllers/subscription_invoices_controller_spec.rb","line_number":22,"run_time":0.201129346,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/subscription_invoices_controller_spec.rb[1:1:5]","description":"escapes the invoice address","full_description":"SubscriptionInvoicesController GET :show escapes the invoice address","status":"passed","file_path":"./spec/controllers/subscription_invoices_controller_spec.rb","line_number":26,"run_time":0.182582543,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/subscription_invoices_controller_spec.rb[1:1:6]","description":"displays the invoice region","full_description":"SubscriptionInvoicesController GET :show displays the invoice region","status":"passed","file_path":"./spec/controllers/subscription_invoices_controller_spec.rb","line_number":33,"run_time":0.169773443,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/subscription_invoices_controller_spec.rb[1:1:7:1]","description":"is expected to respond with a success status code (2xx)","full_description":"SubscriptionInvoicesController GET :show rendering a historical invoice is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/subscription_invoices_controller_spec.rb","line_number":43,"run_time":0.216902964,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/subscription_invoices_controller_spec.rb[1:1:7:2]","description":"is expected to render template show","full_description":"SubscriptionInvoicesController GET :show rendering a historical invoice is expected to render template show","status":"passed","file_path":"./spec/controllers/subscription_invoices_controller_spec.rb","line_number":44,"run_time":0.243228284,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/subscription_invoices_controller_spec.rb[1:1:7:3]","description":"is expected to render template subscription_invoices/_payment","full_description":"SubscriptionInvoicesController GET :show rendering a historical invoice is expected to render template subscription_invoices/_payment","status":"passed","file_path":"./spec/controllers/subscription_invoices_controller_spec.rb","line_number":45,"run_time":0.241397769,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/subscription_invoices_controller_spec.rb[1:1:8:1]","description":"is expected to respond with a success status code (2xx)","full_description":"SubscriptionInvoicesController GET :show as a PDF is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/subscription_invoices_controller_spec.rb","line_number":56,"run_time":0.189041208,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/subscription_invoices_controller_spec.rb[1:1:8:2]","description":"generates a PDF attachment","full_description":"SubscriptionInvoicesController GET :show as a PDF generates a PDF attachment","status":"passed","file_path":"./spec/controllers/subscription_invoices_controller_spec.rb","line_number":58,"run_time":0.182006119,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/subscription_invoices_controller_spec.rb[1:1:9:1]","description":"is expected to respond with a success status code (2xx)","full_description":"SubscriptionInvoicesController GET :show with a practice managed company is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/subscription_invoices_controller_spec.rb","line_number":66,"run_time":0.248533831,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/subscription_invoices_controller_spec.rb[1:1:9:2]","description":"is expected to render template show","full_description":"SubscriptionInvoicesController GET :show with a practice managed company is expected to render template show","status":"passed","file_path":"./spec/controllers/subscription_invoices_controller_spec.rb","line_number":67,"run_time":0.222930381,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/subscription_invoices_controller_spec.rb[1:1:10:1]","description":"is expected to be present","full_description":"SubscriptionInvoicesController GET :show with a universal company is expected to be present","status":"passed","file_path":"./spec/controllers/subscription_invoices_controller_spec.rb","line_number":73,"run_time":0.203399288,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/subscription_invoices_controller_spec.rb[1:1:10:2]","description":"is expected to be present","full_description":"SubscriptionInvoicesController GET :show with a universal company is expected to be present","status":"passed","file_path":"./spec/controllers/subscription_invoices_controller_spec.rb","line_number":74,"run_time":0.213197916,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/subscription_invoices_controller_spec.rb[1:1:10:3]","description":"has the company sales tax name and sales tax number as it is legally required","full_description":"SubscriptionInvoicesController GET :show with a universal company has the company sales tax name and sales tax number as it is legally required","status":"passed","file_path":"./spec/controllers/subscription_invoices_controller_spec.rb","line_number":76,"run_time":0.225642694,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/subscription_invoices_controller_spec.rb[1:1:11:1]","description":"is expected to be nil","full_description":"SubscriptionInvoicesController GET :show with a non universal company is expected to be nil","status":"passed","file_path":"./spec/controllers/subscription_invoices_controller_spec.rb","line_number":84,"run_time":0.198982332,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/subscription_invoices_controller_spec.rb[1:1:11:2]","description":"is expected to be nil","full_description":"SubscriptionInvoicesController GET :show with a non universal company is expected to be nil","status":"passed","file_path":"./spec/controllers/subscription_invoices_controller_spec.rb","line_number":85,"run_time":0.216538748,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/subscription_invoices_controller_spec.rb[1:1:11:3]","description":"does not have the company sales tax name and sales_tax_number","full_description":"SubscriptionInvoicesController GET :show with a non universal company does not have the company sales tax name and sales_tax_number","status":"passed","file_path":"./spec/controllers/subscription_invoices_controller_spec.rb","line_number":87,"run_time":0.22950065,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/subscription_invoices_controller_spec.rb[1:1:12:1]","description":"shows USD on the Total line","full_description":"SubscriptionInvoicesController GET :show with a universal company which does not have USD as native currency shows USD on the Total line","status":"passed","file_path":"./spec/controllers/subscription_invoices_controller_spec.rb","line_number":96,"run_time":0.192860987,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/subscription_invoices_controller_spec.rb[1:1:13:1:1]","description":"shows the reverse charge notice","full_description":"SubscriptionInvoicesController GET :show Reverse charge subscription invoice with no sales tax shows the reverse charge notice","status":"passed","file_path":"./spec/controllers/subscription_invoices_controller_spec.rb","line_number":107,"run_time":0.171588586,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/subscription_invoices_controller_spec.rb[1:1:13:2:1]","description":"doesn't show the reverse charge notice","full_description":"SubscriptionInvoicesController GET :show Reverse charge subscription invoice with sales tax doesn't show the reverse charge notice","status":"passed","file_path":"./spec/controllers/subscription_invoices_controller_spec.rb","line_number":115,"run_time":0.198544577,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/subscription_invoices_controller_spec.rb[1:1:14:1:1]","description":"shows the reverse charge notice","full_description":"SubscriptionInvoicesController GET :show EU subscription invoice with no sales tax shows the reverse charge notice","status":"passed","file_path":"./spec/controllers/subscription_invoices_controller_spec.rb","line_number":128,"run_time":0.245301397,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/subscription_invoices_controller_spec.rb[1:1:14:2:1]","description":"doesn't show the reverse charge notice","full_description":"SubscriptionInvoicesController GET :show EU subscription invoice with sales tax doesn't show the reverse charge notice","status":"passed","file_path":"./spec/controllers/subscription_invoices_controller_spec.rb","line_number":136,"run_time":0.194810285,"pending_message":null,"screenshot":null},{"id":"./spec/features/getting_started_spec.rb[1:4:2:1:2:1:1]","description":"can complete the setup","full_description":"Getting Started RBSG resold customers with Universal company type natwest resold with the personalise_setup_stage feature flag enabled and the personalisation_interests_setup_stage flag disabled can complete the setup","status":"passed","file_path":"./spec/features/getting_started_spec.rb","line_number":302,"run_time":5.429366113,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:1:1]","description":"responds with a 401 status","full_description":"Payit merchant payment status update with an incorrect request signature responds with a 401 status","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":73,"run_time":0.153545848,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:1:2:1:1:1]","description":"responds with a 404 status and logs the a message","full_description":"Payit merchant payment status update with an incorrect request signature when signature checking is disabled without an x-transaction-ID header behaves like payit webhook transaction not found responds with a 404 status and logs the a message","status":"passed","file_path":"./spec/support/shared_examples/payit.rb","line_number":10,"run_time":0.115939629,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:1:2:2:1]","description":"has a 200 status","full_description":"Payit merchant payment status update with an incorrect request signature when signature checking is disabled with a recognised x-transaction-ID and TPPReferenceID has a 200 status","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":99,"run_time":0.127363788,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:1:1:1]","description":"responds with a 404 status and logs the a message","full_description":"Payit merchant payment status update with a valid request signature with an x-transaction-ID header that does not match an existing payment intent behaves like payit webhook transaction not found responds with a 404 status and logs the a message","status":"passed","file_path":"./spec/support/shared_examples/payit.rb","line_number":10,"run_time":0.121475863,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:2:1:1]","description":"responds with a 404 status and logs the a message","full_description":"Payit merchant payment status update with a valid request signature with a x-tpp-ID that does not match an existing payment intent behaves like payit webhook transaction not found responds with a 404 status and logs the a message","status":"passed","file_path":"./spec/support/shared_examples/payit.rb","line_number":10,"run_time":0.114559795,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:3:1]","description":"responds with a 404 status","full_description":"Payit merchant payment status update with a valid request signature with payment_reference_uid that does not match an existing payment intent responds with a 404 status","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":142,"run_time":0.168860015,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:1:1]","description":"updates the payment intent with the status from the request","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the request has been approved updates the payment intent with the status from the request","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":157,"run_time":0.125616611,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:1:2]","description":"has a 200 status","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the request has been approved has a 200 status","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":169,"run_time":0.119255397,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:1:3]","description":"includes the #merchant_acknowledgement_uid and #updated_at timestamp in the response","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the request has been approved includes the #merchant_acknowledgement_uid and #updated_at timestamp in the response","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":175,"run_time":0.116649874,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:1:4]","description":"includes the #transaction_uid in the x-transaction-ID header in the response","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the request has been approved includes the #transaction_uid in the x-transaction-ID header in the response","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":187,"run_time":0.105254233,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:1:5]","description":"does not send a rejection email to the account owner","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the request has been approved does not send a rejection email to the account owner","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":195,"run_time":0.103435031,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:1:6]","description":"logs that the payment webhook was received","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the request has been approved logs that the payment webhook was received","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":201,"run_time":0.099596725,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:1:7:1]","description":"logs the payment scheduled time","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the request has been approved when the payment intent is a scheduled one logs the payment scheduled time","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":234,"run_time":0.103374466,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:1:8:1]","description":"has a 422 status","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the request has been approved when the payment intent has been manually cancelled has a 422 status","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":261,"run_time":0.113955591,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:1:8:2]","description":"logs the payment intent could not be updated","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the request has been approved when the payment intent has been manually cancelled logs the payment intent could not be updated","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":267,"run_time":0.103075376,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:1:8:3]","description":"does not change the status of the payment intent","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the request has been approved when the payment intent has been manually cancelled does not change the status of the payment intent","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":287,"run_time":0.10115695,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:1:8:4]","description":"does not mark the bill as paid","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the request has been approved when the payment intent has been manually cancelled does not mark the bill as paid","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":295,"run_time":0.10530431,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:2:1]","description":"has a 200 status","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the payment status is 'PaymentAwatingApproval' has a 200 status","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":312,"run_time":0.106481845,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:2:2:1]","description":"has a 422 status","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the payment status is 'PaymentAwatingApproval' when the payment intent has been manually cancelled has a 422 status","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":335,"run_time":0.115698197,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:2:2:2]","description":"logs the payment intent could not be updated","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the payment status is 'PaymentAwatingApproval' when the payment intent has been manually cancelled logs the payment intent could not be updated","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":341,"run_time":0.122889689,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:2:2:3]","description":"does not change the status of the payment intent","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the payment status is 'PaymentAwatingApproval' when the payment intent has been manually cancelled does not change the status of the payment intent","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":361,"run_time":0.107258313,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:2:2:4]","description":"does not mark the bill as paid","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the payment status is 'PaymentAwatingApproval' when the payment intent has been manually cancelled does not mark the bill as paid","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":369,"run_time":0.137158034,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:3:1]","description":"publishes a PAYIT_PAYMENT_CUSTOMER_ABORTED event, with the event data","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the payment status is CustomerAbortedJourney and an event name is sent in the PaymentUpadate parameter publishes a PAYIT_PAYMENT_CUSTOMER_ABORTED event, with the event data","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":384,"run_time":0.115903776,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:3:2:1]","description":"publishes a PAYIT_PAYMENT_CUSTOMER_ABORTED event, with the event data","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the payment status is CustomerAbortedJourney and an event name is sent in the PaymentUpadate parameter when the payment intent is a scheduled one publishes a PAYIT_PAYMENT_CUSTOMER_ABORTED event, with the event data","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":407,"run_time":0.116506261,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:3:3:1]","description":"has a 422 status","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the payment status is CustomerAbortedJourney and an event name is sent in the PaymentUpadate parameter when the payment intent has been manually cancelled has a 422 status","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":431,"run_time":0.11512074,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:3:3:2]","description":"logs the payment intent could not be updated","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the payment status is CustomerAbortedJourney and an event name is sent in the PaymentUpadate parameter when the payment intent has been manually cancelled logs the payment intent could not be updated","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":437,"run_time":0.103930464,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:3:3:3]","description":"does not change the status of the payment intent","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the payment status is CustomerAbortedJourney and an event name is sent in the PaymentUpadate parameter when the payment intent has been manually cancelled does not change the status of the payment intent","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":457,"run_time":0.116032282,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:3:3:4]","description":"does not mark the bill as paid","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the payment status is CustomerAbortedJourney and an event name is sent in the PaymentUpadate parameter when the payment intent has been manually cancelled does not mark the bill as paid","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":465,"run_time":0.126286201,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:4:1]","description":"has a 200 status","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the payment has been rejected has a 200 status","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":482,"run_time":0.134837015,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:4:2]","description":"updates the payment intent with the status from the request","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the payment has been rejected updates the payment intent with the status from the request","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":488,"run_time":0.114878584,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:4:3]","description":"sends an email to the account owner informing them the payment was rejected","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the payment has been rejected sends an email to the account owner informing them the payment was rejected","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":500,"run_time":0.106584112,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:4:4:1]","description":"has a 422 status","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the payment has been rejected when the payment intent has been manually cancelled has a 422 status","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":523,"run_time":0.107124495,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:4:4:2]","description":"logs the payment intent could not be updated","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the payment has been rejected when the payment intent has been manually cancelled logs the payment intent could not be updated","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":529,"run_time":0.107293725,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:4:4:3]","description":"does not change the status of the payment intent","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the payment has been rejected when the payment intent has been manually cancelled does not change the status of the payment intent","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":549,"run_time":0.123365697,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:4:4:4]","description":"does not mark the bill as paid","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the payment has been rejected when the payment intent has been manually cancelled does not mark the bill as paid","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":557,"run_time":0.114250047,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:5:1]","description":"has a 422 status","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the request has an invalid status has a 422 status","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":572,"run_time":0.387983761,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:5:2]","description":"logs the payment intent could not be updated","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the request has an invalid status logs the payment intent could not be updated","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":578,"run_time":0.491975213,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:5:3]","description":"does not change the status of the payment intent","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the request has an invalid status does not change the status of the payment intent","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":598,"run_time":0.110270342,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:5:4]","description":"sets the payment intent status discrepancy field to true","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the request has an invalid status sets the payment intent status discrepancy field to true","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":606,"run_time":0.108450459,"pending_message":null,"screenshot":null},{"id":"./spec/requests/payit/merchant_payment_status_update_spec.rb[1:2:4:5:5]","description":"does not mark the bill as paid","full_description":"Payit merchant payment status update with a valid request signature with a recognised x-transaction-ID, x-tpp-ID when the request has an invalid status does not mark the bill as paid","status":"passed","file_path":"./spec/requests/payit/merchant_payment_status_update_spec.rb","line_number":614,"run_time":0.107448216,"pending_message":null,"screenshot":null},{"id":"./spec/features/credit_notes/credit_note_reconciliation_spec.rb[1:1:1:1]","description":"user can create and edit credit note reconciliations","full_description":"show credit note Credit note reconciliations when credit_note_payments feature is enabled user can create and edit credit note reconciliations","status":"passed","file_path":"./spec/features/credit_notes/credit_note_reconciliation_spec.rb","line_number":34,"run_time":5.985601805,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/copilot_introduction_invitation_mailer_spec.rb[1:1:1]","description":"is expected to be a multipart email","full_description":"CopilotIntroductionInvitationMailer#send_user_invite is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/copilot_introduction_invitation_mailer_spec.rb","line_number":17,"run_time":0.274176454,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/copilot_introduction_invitation_mailer_spec.rb[1:1:2]","description":"has the correct headers","full_description":"CopilotIntroductionInvitationMailer#send_user_invite has the correct headers","status":"passed","file_path":"./spec/mailers/copilot_introduction_invitation_mailer_spec.rb","line_number":19,"run_time":0.226628111,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/copilot_introduction_invitation_mailer_spec.rb[1:1:3]","description":"is expected not to have click tracking","full_description":"CopilotIntroductionInvitationMailer#send_user_invite is expected not to have click tracking","status":"passed","file_path":"./spec/mailers/copilot_introduction_invitation_mailer_spec.rb","line_number":30,"run_time":0.246582289,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/copilot_introduction_invitation_mailer_spec.rb[1:1:4]","description":"addresses the user by first name","full_description":"CopilotIntroductionInvitationMailer#send_user_invite addresses the user by first name","status":"passed","file_path":"./spec/mailers/copilot_introduction_invitation_mailer_spec.rb","line_number":32,"run_time":0.235615796,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/copilot_introduction_invitation_mailer_spec.rb[1:1:5]","description":"includes the accountancy practice name","full_description":"CopilotIntroductionInvitationMailer#send_user_invite includes the accountancy practice name","status":"passed","file_path":"./spec/mailers/copilot_introduction_invitation_mailer_spec.rb","line_number":36,"run_time":0.235852061,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/copilot_introduction_invitation_mailer_spec.rb[1:1:6]","description":"includes a link to sign up to CoPilot","full_description":"CopilotIntroductionInvitationMailer#send_user_invite includes a link to sign up to CoPilot","status":"passed","file_path":"./spec/mailers/copilot_introduction_invitation_mailer_spec.rb","line_number":42,"run_time":0.219578607,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/copilot_introduction_invitation_mailer_spec.rb[1:2:1]","description":"is expected to be a multipart email","full_description":"CopilotIntroductionInvitationMailer#notify_accountant is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/copilot_introduction_invitation_mailer_spec.rb","line_number":57,"run_time":0.205496406,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/copilot_introduction_invitation_mailer_spec.rb[1:2:2]","description":"has the correct headers","full_description":"CopilotIntroductionInvitationMailer#notify_accountant has the correct headers","status":"passed","file_path":"./spec/mailers/copilot_introduction_invitation_mailer_spec.rb","line_number":59,"run_time":0.217975181,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/copilot_introduction_invitation_mailer_spec.rb[1:2:3]","description":"is expected not to have click tracking","full_description":"CopilotIntroductionInvitationMailer#notify_accountant is expected not to have click tracking","status":"passed","file_path":"./spec/mailers/copilot_introduction_invitation_mailer_spec.rb","line_number":70,"run_time":0.218851494,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/copilot_introduction_invitation_mailer_spec.rb[1:2:4]","description":"addresses the account manager by first name","full_description":"CopilotIntroductionInvitationMailer#notify_accountant addresses the account manager by first name","status":"passed","file_path":"./spec/mailers/copilot_introduction_invitation_mailer_spec.rb","line_number":72,"run_time":0.267666091,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/copilot_introduction_invitation_mailer_spec.rb[1:2:5]","description":"includes the company name and account owner email address in the body text","full_description":"CopilotIntroductionInvitationMailer#notify_accountant includes the company name and account owner email address in the body text","status":"passed","file_path":"./spec/mailers/copilot_introduction_invitation_mailer_spec.rb","line_number":76,"run_time":0.216861655,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/copilot_introduction_invitation_mailer_spec.rb[1:2:6:1]","description":"includes the initial fee amount in the email copy","full_description":"CopilotIntroductionInvitationMailer#notify_accountant when an initial fee has been agreed includes the initial fee amount in the email copy","status":"passed","file_path":"./spec/mailers/copilot_introduction_invitation_mailer_spec.rb","line_number":88,"run_time":0.116029371,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/copilot_introduction_invitation_mailer_spec.rb[1:2:6:2]","description":"includes the initial fee description in the the email copy","full_description":"CopilotIntroductionInvitationMailer#notify_accountant when an initial fee has been agreed includes the initial fee description in the the email copy","status":"passed","file_path":"./spec/mailers/copilot_introduction_invitation_mailer_spec.rb","line_number":94,"run_time":0.110858253,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/copilot_introduction_invitation_mailer_spec.rb[1:2:7:1]","description":"does not mention initial fees in the email copy","full_description":"CopilotIntroductionInvitationMailer#notify_accountant with no initial fee agreed does not mention initial fees in the email copy","status":"passed","file_path":"./spec/mailers/copilot_introduction_invitation_mailer_spec.rb","line_number":104,"run_time":0.115958952,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/profit_and_loss_summary_spec.rb[1:1]","description":"returns start date of report","full_description":"Accounting::ProfitAndLossSummary returns start date of report","status":"passed","file_path":"./spec/models/accounting/profit_and_loss_summary_spec.rb","line_number":12,"run_time":0.090209169,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/profit_and_loss_summary_spec.rb[1:2]","description":"returns end date of report","full_description":"Accounting::ProfitAndLossSummary returns end date of report","status":"passed","file_path":"./spec/models/accounting/profit_and_loss_summary_spec.rb","line_number":16,"run_time":0.096709414,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/profit_and_loss_summary_spec.rb[1:3]","description":"returns income in the accounting period","full_description":"Accounting::ProfitAndLossSummary returns income in the accounting period","status":"passed","file_path":"./spec/models/accounting/profit_and_loss_summary_spec.rb","line_number":20,"run_time":0.6561412,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/profit_and_loss_summary_spec.rb[1:4]","description":"returns expenses in the accounting period","full_description":"Accounting::ProfitAndLossSummary returns expenses in the accounting period","status":"passed","file_path":"./spec/models/accounting/profit_and_loss_summary_spec.rb","line_number":27,"run_time":0.178510155,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/profit_and_loss_summary_spec.rb[1:5]","description":"returns operating profit in the accounting period","full_description":"Accounting::ProfitAndLossSummary returns operating profit in the accounting period","status":"passed","file_path":"./spec/models/accounting/profit_and_loss_summary_spec.rb","line_number":34,"run_time":0.406671236,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/profit_and_loss_summary_spec.rb[1:6]","description":"retained profit","full_description":"Accounting::ProfitAndLossSummary retained profit","status":"passed","file_path":"./spec/models/accounting/profit_and_loss_summary_spec.rb","line_number":41,"run_time":0.436756161,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/profit_and_loss_summary_spec.rb[1:7:2]","description":"for a non-UK limited company","full_description":"Accounting::ProfitAndLossSummary less for a non-UK limited company","status":"passed","file_path":"./spec/models/accounting/profit_and_loss_summary_spec.rb","line_number":102,"run_time":0.233716305,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/profit_and_loss_summary_spec.rb[1:7:1:1]","description":"without deferred corporation tax","full_description":"Accounting::ProfitAndLossSummary less for a UK limited company without deferred corporation tax","status":"passed","file_path":"./spec/models/accounting/profit_and_loss_summary_spec.rb","line_number":70,"run_time":0.256022699,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/profit_and_loss_summary_spec.rb[1:7:1:2]","description":"with deferred corporation tax","full_description":"Accounting::ProfitAndLossSummary less for a UK limited company with deferred corporation tax","status":"passed","file_path":"./spec/models/accounting/profit_and_loss_summary_spec.rb","line_number":82,"run_time":0.242777688,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/profit_and_loss_summary_spec.rb[1:7:1:3]","description":"is expected to include {:title =\u003e \"Dividends\", :total =\u003e 100.0 (BigDecimal)}","full_description":"Accounting::ProfitAndLossSummary less for a UK limited company is expected to include {:title =\u003e \"Dividends\", :total =\u003e 100.0 (BigDecimal)}","status":"passed","file_path":"./spec/models/accounting/profit_and_loss_summary_spec.rb","line_number":95,"run_time":0.190741046,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/profit_and_loss_summary_spec.rb[1:7:1:4]","description":"is expected to include {:title =\u003e \"Adjustments\", :total =\u003e 300.0 (BigDecimal)}","full_description":"Accounting::ProfitAndLossSummary less for a UK limited company is expected to include {:title =\u003e \"Adjustments\", :total =\u003e 300.0 (BigDecimal)}","status":"passed","file_path":"./spec/models/accounting/profit_and_loss_summary_spec.rb","line_number":96,"run_time":0.182426491,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:1:1]","description":"is expected to redirect to \"/\"","full_description":"CompaniesController GET :show is expected to redirect to \"/\"","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":21,"run_time":0.097000757,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:1:2:1]","description":"is expected to redirect to \"/setup\"","full_description":"CompaniesController GET :show when not set up is expected to redirect to \"/setup\"","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":25,"run_time":0.085870632,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:1:3:1]","description":"is expected to redirect to \"/\"","full_description":"CompaniesController GET :show with no transactions is expected to redirect to \"/\"","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":38,"run_time":0.099193188,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:2:1:1]","description":"redirects and saves the path","full_description":"CompaniesController Redirects for rebuilding companies with a normal request redirects and saves the path","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":48,"run_time":0.109920259,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:2:2:1]","description":"redirects but doesn't save the path","full_description":"CompaniesController Redirects for rebuilding companies with an XHR request redirects but doesn't save the path","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":57,"run_time":0.090708534,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:2:3:1]","description":"redirects but doesn't save the path","full_description":"CompaniesController Redirects for rebuilding companies with a request for a different format redirects but doesn't save the path","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":66,"run_time":0.095350438,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:3:1]","description":"is expected to respond with a success status code (2xx)","full_description":"CompaniesController GET :accounts_ready is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":76,"run_time":0.114774837,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:3:2]","description":"contains a 'complete' status and a redirect URL in the response","full_description":"CompaniesController GET :accounts_ready contains a 'complete' status and a redirect URL in the response","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":78,"run_time":0.091895841,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:3:3:1]","description":"is expected to respond with numeric status code 202","full_description":"CompaniesController GET :accounts_ready when rebuilding is expected to respond with numeric status code 202","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":89,"run_time":0.101794178,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:3:3:2]","description":"contains a 'pending' status in the response","full_description":"CompaniesController GET :accounts_ready when rebuilding contains a 'pending' status in the response","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":91,"run_time":0.087725158,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:4:1]","description":"is expected to respond with a success status code (2xx)","full_description":"CompaniesController GET :expired is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":103,"run_time":0.181259273,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:4:2]","description":"is expected to render template expired","full_description":"CompaniesController GET :expired is expected to render template expired","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":104,"run_time":0.177767823,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:4:3:1]","description":"is expected to respond with a success status code (2xx)","full_description":"CompaniesController GET :expired with less than full access is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":109,"run_time":0.191898958,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:4:3:2]","description":"is expected to render template expired","full_description":"CompaniesController GET :expired with less than full access is expected to render template expired","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":110,"run_time":0.170687447,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:4:3:3]","description":"does not display an inline link to edit payment details","full_description":"CompaniesController GET :expired with less than full access does not display an inline link to edit payment details","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":112,"run_time":0.160911548,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:4:3:4]","description":"displays a header stating that the account is suspended","full_description":"CompaniesController GET :expired with less than full access displays a header stating that the account is suspended","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":116,"run_time":0.17808514,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:4:4:1]","description":"is expected to redirect to \"/\"","full_description":"CompaniesController GET :expired with an unexpired company is expected to redirect to \"/\"","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":123,"run_time":0.02821758,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:4:5:1]","description":"is expected to redirect to \"/\"","full_description":"CompaniesController GET :expired with a cancelled company is expected to redirect to \"/\"","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":128,"run_time":0.091252226,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:6:1]","description":"an inactive company is redirected to the inactive message page","full_description":"CompaniesController GET: inactive an inactive company is redirected to the inactive message page","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":168,"run_time":0.214581598,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:6:2]","description":"an inactive company can view the inactive message page","full_description":"CompaniesController GET: inactive an inactive company can view the inactive message page","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":174,"run_time":0.308682167,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:6:3:1]","description":"redirects to the root path when trying to view the inactive page","full_description":"CompaniesController GET: inactive active company redirects to the root path when trying to view the inactive page","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":182,"run_time":0.028803307,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:4:1:3:1]","description":"deletes payroll corrections, FPS submissions and gateway submissions","full_description":"Company::ForgetCompanyData Deleting all data for a UK Sole Trader Payroll Corrections deletes payroll corrections, FPS submissions and gateway submissions","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":999,"run_time":2.915606591,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/filtering_transactions_no_transactions_spec.rb[1:1]","description":"displays no transactions information message when they are all filtered out","full_description":"Filtering transactions by explanation state displays no transactions information message when they are all filtered out","status":"passed","file_path":"./spec/features/new_banking/filtering_transactions_no_transactions_spec.rb","line_number":10,"run_time":1.630423712,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/filtering_transactions_no_transactions_spec.rb[1:2]","description":"displays no transactions information message when there are no transactions","full_description":"Filtering transactions by explanation state displays no transactions information message when there are no transactions","status":"passed","file_path":"./spec/features/new_banking/filtering_transactions_no_transactions_spec.rb","line_number":38,"run_time":1.302958728,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:1:5:1]","description":"should remove lock periods and succeed in deleting data","full_description":"Company::ForgetCompanyData Deleting all data for a VAT registered UK company with locked periods should remove lock periods and succeed in deleting data","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":74,"run_time":1.069501798,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_eligibility/consent_spec.rb[1:1:1]","description":"is true when consent permissions and bank institution are correct","full_description":"OpenBanking::PreAssessedLimitEligibility::Consent#eligible? is true when consent permissions and bank institution are correct","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_eligibility/consent_spec.rb","line_number":21,"run_time":0.217224419,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_eligibility/consent_spec.rb[1:1:2]","description":"is false when the consent does not have Pre-Assessed Limit permissions","full_description":"OpenBanking::PreAssessedLimitEligibility::Consent#eligible? is false when the consent does not have Pre-Assessed Limit permissions","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_eligibility/consent_spec.rb","line_number":30,"run_time":0.218280173,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_eligibility/consent_spec.rb[1:1:3]","description":"is false for royal bank of scotland","full_description":"OpenBanking::PreAssessedLimitEligibility::Consent#eligible? is false for royal bank of scotland","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_eligibility/consent_spec.rb","line_number":40,"run_time":0.244319478,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_eligibility/consent_spec.rb[1:1:4]","description":"is false when the consent is for neither an RBS nor a NatWest bank","full_description":"OpenBanking::PreAssessedLimitEligibility::Consent#eligible? is false when the consent is for neither an RBS nor a NatWest bank","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_eligibility/consent_spec.rb","line_number":49,"run_time":0.215690267,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_eligibility/consent_spec.rb[1:1:5]","description":"is false when the consent's bank does not match the branding","full_description":"OpenBanking::PreAssessedLimitEligibility::Consent#eligible? is false when the consent's bank does not match the branding","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_eligibility/consent_spec.rb","line_number":59,"run_time":0.252316773,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_eligibility/consent_spec.rb[1:2:1]","description":"is true when the brand matches the bank account","full_description":"OpenBanking::PreAssessedLimitEligibility::Consent.brand_matches_bank_account? is true when the brand matches the bank account","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_eligibility/consent_spec.rb","line_number":74,"run_time":0.110448095,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_eligibility/consent_spec.rb[1:2:2]","description":"is false when the brand does not match the bank account","full_description":"OpenBanking::PreAssessedLimitEligibility::Consent.brand_matches_bank_account? is false when the brand does not match the bank account","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_eligibility/consent_spec.rb","line_number":85,"run_time":0.103163759,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_eligibility/consent_spec.rb[1:2:3]","description":"is false when the customer is direct","full_description":"OpenBanking::PreAssessedLimitEligibility::Consent.brand_matches_bank_account? is false when the customer is direct","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_eligibility/consent_spec.rb","line_number":96,"run_time":0.007477439,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_eligibility/consent_spec.rb[1:2:4]","description":"is false when there is no bank institution name","full_description":"OpenBanking::PreAssessedLimitEligibility::Consent.brand_matches_bank_account? is false when there is no bank institution name","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_eligibility/consent_spec.rb","line_number":107,"run_time":0.090228103,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_eligibility/consent_spec.rb[1:2:5]","description":"is false when there is no brand name","full_description":"OpenBanking::PreAssessedLimitEligibility::Consent.brand_matches_bank_account? is false when there is no brand name","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_eligibility/consent_spec.rb","line_number":120,"run_time":0.098527912,"pending_message":null,"screenshot":null},{"id":"./spec/models/bcsg_subscription_spec.rb[1:1]","description":"reports when resold","full_description":"BCSGSubscription reports when resold","status":"passed","file_path":"./spec/models/bcsg_subscription_spec.rb","line_number":4,"run_time":0.102622961,"pending_message":null,"screenshot":null},{"id":"./spec/models/bcsg_subscription_spec.rb[1:2]","description":"is not valid without a reseller on the company","full_description":"BCSGSubscription is not valid without a reseller on the company","status":"passed","file_path":"./spec/models/bcsg_subscription_spec.rb","line_number":9,"run_time":0.005167326,"pending_message":null,"screenshot":null},{"id":"./spec/models/bcsg_subscription_spec.rb[1:3:1]","description":"gives the subscription full access","full_description":"BCSGSubscription#subscribe! gives the subscription full access","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":19,"run_time":0.09174148,"pending_message":null,"screenshot":null},{"id":"./spec/models/bcsg_subscription_spec.rb[1:3:2:1]","description":"does not change the billable flag","full_description":"BCSGSubscription#subscribe! resold by BCSG does not change the billable flag","status":"passed","file_path":"./spec/models/bcsg_subscription_spec.rb","line_number":24,"run_time":0.10297042,"pending_message":null,"screenshot":null},{"id":"./spec/models/bcsg_subscription_spec.rb[1:4:1]","description":"marks the subscription as non-billable","full_description":"BCSGSubscription#cancel! marks the subscription as non-billable","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":11,"run_time":0.102532175,"pending_message":null,"screenshot":null},{"id":"./spec/models/bcsg_subscription_spec.rb[1:4:2]","description":"revokes access","full_description":"BCSGSubscription#cancel! revokes access","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":27,"run_time":0.121789809,"pending_message":null,"screenshot":null},{"id":"./spec/models/bcsg_subscription_spec.rb[1:4:3]","description":"cancels outgoing and disables bank feeds","full_description":"BCSGSubscription#cancel! cancels outgoing and disables bank feeds","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":99,"run_time":0.104416868,"pending_message":null,"screenshot":null},{"id":"./spec/models/bcsg_subscription_spec.rb[1:4:4]","description":"sets cancelled_at when a time is given","full_description":"BCSGSubscription#cancel! sets cancelled_at when a time is given","status":"passed","file_path":"./spec/models/bcsg_subscription_spec.rb","line_number":40,"run_time":0.104151833,"pending_message":null,"screenshot":null},{"id":"./spec/models/bcsg_subscription_spec.rb[1:4:5:1]","description":"revokes access","full_description":"BCSGSubscription#cancel! for a demo account revokes access","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":27,"run_time":0.11615516,"pending_message":null,"screenshot":null},{"id":"./spec/models/bcsg_subscription_spec.rb[1:5:1]","description":"marks the subscription as non-billable","full_description":"BCSGSubscription#make_demo! marks the subscription as non-billable","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":11,"run_time":0.090928196,"pending_message":null,"screenshot":null},{"id":"./spec/models/bcsg_subscription_spec.rb[1:5:2]","description":"marks the subscription with a demo account_type","full_description":"BCSGSubscription#make_demo! marks the subscription with a demo account_type","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":43,"run_time":0.095216624,"pending_message":null,"screenshot":null},{"id":"./spec/models/bcsg_subscription_spec.rb[1:6:1]","description":"is expected to equal false","full_description":"BCSGSubscription#can_show_cancellation_instructions? is expected to equal false","status":"passed","file_path":"./spec/models/bcsg_subscription_spec.rb","line_number":65,"run_time":0.101698449,"pending_message":null,"screenshot":null},{"id":"./spec/models/bcsg_subscription_spec.rb[1:7:1]","description":"is expected to equal false","full_description":"BCSGSubscription#can_be_cancelled_by_customer? is expected to equal false","status":"passed","file_path":"./spec/models/bcsg_subscription_spec.rb","line_number":71,"run_time":0.101025866,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices/autocomplete_search_controller_spec.rb[1:1:1:1]","description":"returns all invoices","full_description":"Invoices::AutocompleteSearchController when requesting a json response when the query is empty returns all invoices","status":"passed","file_path":"./spec/controllers/invoices/autocomplete_search_controller_spec.rb","line_number":21,"run_time":0.196188131,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices/autocomplete_search_controller_spec.rb[1:1:2:1]","description":"returns only matching invoices","full_description":"Invoices::AutocompleteSearchController when requesting a json response when a query is present returns only matching invoices","status":"passed","file_path":"./spec/controllers/invoices/autocomplete_search_controller_spec.rb","line_number":33,"run_time":0.204891975,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices/autocomplete_search_controller_spec.rb[1:1:3:1]","description":"returns only invoices in the same currency","full_description":"Invoices::AutocompleteSearchController when requesting a json response when a currency is provided returns only invoices in the same currency","status":"passed","file_path":"./spec/controllers/invoices/autocomplete_search_controller_spec.rb","line_number":45,"run_time":0.215582368,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices/autocomplete_search_controller_spec.rb[1:1:4:1]","description":"parses the date and looks up exchange rates","full_description":"Invoices::AutocompleteSearchController when requesting a json response when using a mm/dd/yyyy date format parses the date and looks up exchange rates","status":"passed","file_path":"./spec/controllers/invoices/autocomplete_search_controller_spec.rb","line_number":61,"run_time":0.209976879,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices/autocomplete_search_controller_spec.rb[1:2:1:1]","description":"returns all invoices","full_description":"Invoices::AutocompleteSearchController when requesting a html response when the query is empty returns all invoices","status":"passed","file_path":"./spec/controllers/invoices/autocomplete_search_controller_spec.rb","line_number":74,"run_time":0.19583053,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices/autocomplete_search_controller_spec.rb[1:2:2:1]","description":"returns only matching invoices","full_description":"Invoices::AutocompleteSearchController when requesting a html response when a query is present returns only matching invoices","status":"passed","file_path":"./spec/controllers/invoices/autocomplete_search_controller_spec.rb","line_number":98,"run_time":0.196648112,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices/autocomplete_search_controller_spec.rb[1:2:3:1]","description":"returns only invoices in the same currency","full_description":"Invoices::AutocompleteSearchController when requesting a html response when a currency is provided returns only invoices in the same currency","status":"passed","file_path":"./spec/controllers/invoices/autocomplete_search_controller_spec.rb","line_number":121,"run_time":0.195867084,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices/autocomplete_search_controller_spec.rb[1:2:4:1]","description":"parses the date and looks up exchange rates","full_description":"Invoices::AutocompleteSearchController when requesting a html response when using a mm/dd/yyyy date format parses the date and looks up exchange rates","status":"passed","file_path":"./spec/controllers/invoices/autocomplete_search_controller_spec.rb","line_number":148,"run_time":0.21095559,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[4:12:2:1]","description":"shows credit note reconciliations","full_description":"InvoicesController GET :show for uk company show payments against invoice with credit note reconciliations shows credit note reconciliations","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":730,"run_time":1.453353799,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/gocardless_mandate_controller_spec.rb[1:1:1]","description":"returns bad request when the mandate cannot be found","full_description":"PaymentPortal::GocardlessMandateController#redirect_to_gocardless_mandate returns bad request when the mandate cannot be found","status":"passed","file_path":"./spec/controllers/payment_portal/gocardless_mandate_controller_spec.rb","line_number":5,"run_time":0.008174628,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/gocardless_mandate_controller_spec.rb[1:1:2]","description":"returns bad request when the mandate is neither pending nor active","full_description":"PaymentPortal::GocardlessMandateController#redirect_to_gocardless_mandate returns bad request when the mandate is neither pending nor active","status":"passed","file_path":"./spec/controllers/payment_portal/gocardless_mandate_controller_spec.rb","line_number":11,"run_time":0.017049244,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/gocardless_mandate_controller_spec.rb[1:1:3]","description":"returns the mandate confirmation page when the mandate is in active state","full_description":"PaymentPortal::GocardlessMandateController#redirect_to_gocardless_mandate returns the mandate confirmation page when the mandate is in active state","status":"passed","file_path":"./spec/controllers/payment_portal/gocardless_mandate_controller_spec.rb","line_number":18,"run_time":0.05208869,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/gocardless_mandate_controller_spec.rb[1:1:4]","description":"renders a cancellation messate when the mandate is in cancelled state","full_description":"PaymentPortal::GocardlessMandateController#redirect_to_gocardless_mandate renders a cancellation messate when the mandate is in cancelled state","status":"passed","file_path":"./spec/controllers/payment_portal/gocardless_mandate_controller_spec.rb","line_number":26,"run_time":0.02698728,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/gocardless_mandate_controller_spec.rb[1:1:5]","description":"redirects to the mandate_url when the mandate is pending","full_description":"PaymentPortal::GocardlessMandateController#redirect_to_gocardless_mandate redirects to the mandate_url when the mandate is pending","status":"passed","file_path":"./spec/controllers/payment_portal/gocardless_mandate_controller_spec.rb","line_number":34,"run_time":0.032636786,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[13:14:1]","description":"works correctly","full_description":"InvoicesController POST create Creating a new invoice with a dd-mm-yyyy date format works correctly","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":1494,"run_time":0.366242723,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/sales_tax_details_controller_spec.rb[1:1:1:1]","description":"renders sales_tax_details template","full_description":"GettingStarted::SalesTaxDetailsController for a Universal company #show renders sales_tax_details template","status":"passed","file_path":"./spec/controllers/getting_started/sales_tax_details_controller_spec.rb","line_number":25,"run_time":0.141150429,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/sales_tax_details_controller_spec.rb[1:1:2:1]","description":"does not track and displays errors if sales tax settings are invalid","full_description":"GettingStarted::SalesTaxDetailsController for a Universal company #update does not track and displays errors if sales tax settings are invalid","status":"passed","file_path":"./spec/controllers/getting_started/sales_tax_details_controller_spec.rb","line_number":32,"run_time":0.130752057,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/sales_tax_details_controller_spec.rb[1:1:2:2]","description":"tracks and redirects to banking details step if sales tax settings are valid","full_description":"GettingStarted::SalesTaxDetailsController for a Universal company #update tracks and redirects to banking details step if sales tax settings are valid","status":"passed","file_path":"./spec/controllers/getting_started/sales_tax_details_controller_spec.rb","line_number":39,"run_time":0.312661417,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/sales_tax_details_controller_spec.rb[1:2:1]","description":"selects US specific defaults","full_description":"GettingStarted::SalesTaxDetailsController for a US company selects US specific defaults","status":"passed","file_path":"./spec/controllers/getting_started/sales_tax_details_controller_spec.rb","line_number":69,"run_time":0.713420583,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:2:1:2:7:5]","description":"representing non-category expense (purchase of capital asset)","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the invoice accounting basis not on the Flat Rate Scheme Bank Account Entries for the payment of a bill representing non-category expense (purchase of capital asset)","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":3921,"run_time":0.960352719,"pending_message":null,"screenshot":null},{"id":"./spec/requests/invoice_email_reminders_spec.rb[1:1:1]","description":"is expected to respond with a success status code (2xx)","full_description":"InvoiceEmailReminders Visiting the email reminders page is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/requests/invoice_email_reminders_spec.rb","line_number":19,"run_time":0.177300335,"pending_message":null,"screenshot":null},{"id":"./spec/requests/invoice_email_reminders_spec.rb[1:1:2:1]","description":"deactivates the reminder","full_description":"InvoiceEmailReminders Visiting the email reminders page unchecking the active option deactivates the reminder","status":"passed","file_path":"./spec/requests/invoice_email_reminders_spec.rb","line_number":27,"run_time":0.161713174,"pending_message":null,"screenshot":null},{"id":"./spec/requests/invoice_email_reminders_spec.rb[1:1:2:2]","description":"applies a disabled class to the table row","full_description":"InvoiceEmailReminders Visiting the email reminders page unchecking the active option applies a disabled class to the table row","status":"passed","file_path":"./spec/requests/invoice_email_reminders_spec.rb","line_number":33,"run_time":0.221980376,"pending_message":null,"screenshot":null},{"id":"./spec/requests/invoice_email_reminders_spec.rb[1:1:3:1]","description":"deletes the reminder","full_description":"InvoiceEmailReminders Visiting the email reminders page clicking the delete button deletes the reminder","status":"passed","file_path":"./spec/requests/invoice_email_reminders_spec.rb","line_number":43,"run_time":0.144146085,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/recent_periods_spec.rb[1:1:1:1]","description":"returns a null period","full_description":"PracticeDashboard::Payroll::RecentPeriods with no periods #current_period_for_company returns a null period","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/recent_periods_spec.rb","line_number":14,"run_time":0.00702154,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/recent_periods_spec.rb[1:1:2:1]","description":"returns a null period","full_description":"PracticeDashboard::Payroll::RecentPeriods with no periods #previous_period_for_company returns a null period","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/recent_periods_spec.rb","line_number":22,"run_time":0.005842914,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/recent_periods_spec.rb[1:2:1:1]","description":"returns the current period","full_description":"PracticeDashboard::Payroll::RecentPeriods with just a current period #current_period_for_company returns the current period","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/recent_periods_spec.rb","line_number":37,"run_time":0.105781653,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/recent_periods_spec.rb[1:2:2:1]","description":"returns a null period","full_description":"PracticeDashboard::Payroll::RecentPeriods with just a current period #previous_period_for_company returns a null period","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/recent_periods_spec.rb","line_number":43,"run_time":0.105473841,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/recent_periods_spec.rb[1:3:1:1]","description":"returns the current period","full_description":"PracticeDashboard::Payroll::RecentPeriods with both periods #current_period_for_company returns the current period","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/recent_periods_spec.rb","line_number":68,"run_time":0.163574379,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/recent_periods_spec.rb[1:3:1:2]","description":"includes the pay, tax and NI totals","full_description":"PracticeDashboard::Payroll::RecentPeriods with both periods #current_period_for_company includes the pay, tax and NI totals","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/recent_periods_spec.rb","line_number":72,"run_time":0.149776407,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/payroll/recent_periods_spec.rb[1:3:2:1]","description":"returns the previous period","full_description":"PracticeDashboard::Payroll::RecentPeriods with both periods #previous_period_for_company returns the previous period","status":"passed","file_path":"./spec/models/practice_dashboard/payroll/recent_periods_spec.rb","line_number":81,"run_time":0.145589437,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/yodlee_spec.rb[1:1:1:1]","description":"returns true","full_description":"BankFeeds::Yodlee.available_for_company? AccessChecker returns true returns true","status":"passed","file_path":"./spec/models/bank_feeds/yodlee_spec.rb","line_number":13,"run_time":0.005021067,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/yodlee_spec.rb[1:1:2:1]","description":"returns false","full_description":"BankFeeds::Yodlee.available_for_company? AccessChecker returns false returns false","status":"passed","file_path":"./spec/models/bank_feeds/yodlee_spec.rb","line_number":23,"run_time":0.004257976,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/yodlee_spec.rb[1:2:1]","description":"should be available for Barclays accounts","full_description":"BankFeeds::Yodlee available for account? should be available for Barclays accounts","status":"passed","file_path":"./spec/models/bank_feeds/yodlee_spec.rb","line_number":30,"run_time":0.004361977,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/yodlee_spec.rb[1:2:2]","description":"should be available on standard bank accounts","full_description":"BankFeeds::Yodlee available for account? should be available on standard bank accounts","status":"passed","file_path":"./spec/models/bank_feeds/yodlee_spec.rb","line_number":35,"run_time":0.002381333,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/yodlee_spec.rb[1:2:3]","description":"should not be available on PayPal accounts","full_description":"BankFeeds::Yodlee available for account? should not be available on PayPal accounts","status":"passed","file_path":"./spec/models/bank_feeds/yodlee_spec.rb","line_number":39,"run_time":0.00235249,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/yodlee_spec.rb[1:2:4]","description":"should be available on credit card accounts","full_description":"BankFeeds::Yodlee available for account? should be available on credit card accounts","status":"passed","file_path":"./spec/models/bank_feeds/yodlee_spec.rb","line_number":43,"run_time":0.003669642,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/yodlee_spec.rb[1:2:5]","description":"should be available for every account type except for Barclays accounts","full_description":"BankFeeds::Yodlee available for account? should be available for every account type except for Barclays accounts","status":"passed","file_path":"./spec/models/bank_feeds/yodlee_spec.rb","line_number":47,"run_time":0.003751622,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/yodlee_spec.rb[1:3:1]","description":"should ensure the copmany reference is present on the company","full_description":"BankFeeds::Yodlee.setup should ensure the copmany reference is present on the company","status":"passed","file_path":"./spec/models/bank_feeds/yodlee_spec.rb","line_number":58,"run_time":0.096438858,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/yodlee_spec.rb[1:3:2]","description":"should generate a profile with a username and password","full_description":"BankFeeds::Yodlee.setup should generate a profile with a username and password","status":"passed","file_path":"./spec/models/bank_feeds/yodlee_spec.rb","line_number":64,"run_time":0.129500345,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/yodlee_spec.rb[1:3:3]","description":"should tell Banksy to add a user","full_description":"BankFeeds::Yodlee.setup should tell Banksy to add a user","status":"passed","file_path":"./spec/models/bank_feeds/yodlee_spec.rb","line_number":72,"run_time":0.091482327,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/yodlee_spec.rb[1:3:4]","description":"should reload make profile available for use immediately","full_description":"BankFeeds::Yodlee.setup should reload make profile available for use immediately","status":"passed","file_path":"./spec/models/bank_feeds/yodlee_spec.rb","line_number":80,"run_time":0.087403691,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/yodlee_spec.rb[1:3:5:1]","description":"raises exception without persisting a new profile on timeout","full_description":"BankFeeds::Yodlee.setup handling an exception raises exception without persisting a new profile on timeout","status":"passed","file_path":"./spec/models/bank_feeds/yodlee_spec.rb","line_number":91,"run_time":0.097094616,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/yodlee_spec.rb[1:3:5:2]","description":"raises exception without persisting a new profile when unable handle status","full_description":"BankFeeds::Yodlee.setup handling an exception raises exception without persisting a new profile when unable handle status","status":"passed","file_path":"./spec/models/bank_feeds/yodlee_spec.rb","line_number":99,"run_time":0.098032871,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/yodlee_spec.rb[1:3:5:3]","description":"raises exception without persisting a new profile when the circuit is broken","full_description":"BankFeeds::Yodlee.setup handling an exception raises exception without persisting a new profile when the circuit is broken","status":"passed","file_path":"./spec/models/bank_feeds/yodlee_spec.rb","line_number":109,"run_time":0.097844602,"pending_message":null,"screenshot":null},{"id":"./spec/models/audit_trail/expenses_auditor_spec.rb[1:1:1:1]","description":"creates an audit entry with an auditable_display_type of Expense","full_description":"AuditTrail::ExpensesAuditor.created! when the auditable is a non-mileage expense creates an audit entry with an auditable_display_type of Expense","status":"passed","file_path":"./spec/models/audit_trail/expenses_auditor_spec.rb","line_number":23,"run_time":0.065174059,"pending_message":null,"screenshot":null},{"id":"./spec/models/audit_trail/expenses_auditor_spec.rb[1:1:2:1]","description":"creates an audit entry with an auditable_display_type of Mileage","full_description":"AuditTrail::ExpensesAuditor.created! when the auditable is a mileage expense creates an audit entry with an auditable_display_type of Mileage","status":"passed","file_path":"./spec/models/audit_trail/expenses_auditor_spec.rb","line_number":39,"run_time":0.068070005,"pending_message":null,"screenshot":null},{"id":"./spec/models/audit_trail/expenses_auditor_spec.rb[1:2:1:1]","description":"creates an audit entry with an auditable_display_type of Expense","full_description":"AuditTrail::ExpensesAuditor.created_from_recurring_expense! when the auditable is a non-mileage expense creates an audit entry with an auditable_display_type of Expense","status":"passed","file_path":"./spec/models/audit_trail/expenses_auditor_spec.rb","line_number":59,"run_time":0.072461752,"pending_message":null,"screenshot":null},{"id":"./spec/models/audit_trail/expenses_auditor_spec.rb[1:2:2:1]","description":"creates an audit entry with an auditable_display_type of Mileage","full_description":"AuditTrail::ExpensesAuditor.created_from_recurring_expense! when the auditable is a mileage expense creates an audit entry with an auditable_display_type of Mileage","status":"passed","file_path":"./spec/models/audit_trail/expenses_auditor_spec.rb","line_number":76,"run_time":0.080293151,"pending_message":null,"screenshot":null},{"id":"./spec/models/audit_trail/expenses_auditor_spec.rb[1:3:1:1]","description":"creates an audit entry with an auditable_display_type of Expense","full_description":"AuditTrail::ExpensesAuditor.updated! when the auditable is a non-mileage expense creates an audit entry with an auditable_display_type of Expense","status":"passed","file_path":"./spec/models/audit_trail/expenses_auditor_spec.rb","line_number":103,"run_time":0.065578016,"pending_message":null,"screenshot":null},{"id":"./spec/models/audit_trail/expenses_auditor_spec.rb[1:3:2:1]","description":"creates an audit entry with an auditable_display_type of Mileage","full_description":"AuditTrail::ExpensesAuditor.updated! when the auditable is a mileage expense creates an audit entry with an auditable_display_type of Mileage","status":"passed","file_path":"./spec/models/audit_trail/expenses_auditor_spec.rb","line_number":119,"run_time":0.063130922,"pending_message":null,"screenshot":null},{"id":"./spec/models/audit_trail/expenses_auditor_spec.rb[1:4:1:1]","description":"creates an audit entry with an auditable_display_type of Expense","full_description":"AuditTrail::ExpensesAuditor.deleted! when the auditable is a non-mileage expense creates an audit entry with an auditable_display_type of Expense","status":"passed","file_path":"./spec/models/audit_trail/expenses_auditor_spec.rb","line_number":145,"run_time":0.063381804,"pending_message":null,"screenshot":null},{"id":"./spec/models/audit_trail/expenses_auditor_spec.rb[1:4:2:1]","description":"creates an audit entry with an auditable_display_type of Mileage","full_description":"AuditTrail::ExpensesAuditor.deleted! when the auditable is a mileage expense creates an audit entry with an auditable_display_type of Mileage","status":"passed","file_path":"./spec/models/audit_trail/expenses_auditor_spec.rb","line_number":161,"run_time":0.064326331,"pending_message":null,"screenshot":null},{"id":"./spec/models/audit_trail/expenses_auditor_spec.rb[1:5:1:1]","description":"creates an audit entry with an auditable type of Expense","full_description":"AuditTrail::ExpensesAuditor.imported! when the auditable is a non-mileage expense creates an audit entry with an auditable type of Expense","status":"passed","file_path":"./spec/models/audit_trail/expenses_auditor_spec.rb","line_number":187,"run_time":0.062018953,"pending_message":null,"screenshot":null},{"id":"./spec/models/audit_trail/expenses_auditor_spec.rb[1:5:1:2]","description":"creates an audit entry that gets the company passed along to stop an N+1 company select query","full_description":"AuditTrail::ExpensesAuditor.imported! when the auditable is a non-mileage expense creates an audit entry that gets the company passed along to stop an N+1 company select query","status":"passed","file_path":"./spec/models/audit_trail/expenses_auditor_spec.rb","line_number":198,"run_time":0.07216797,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/billing_profiles_helper_spec.rb[1:1:1]","description":"returns :info when the company's subscription has a cancelled_at date","full_description":"BillingProfilesHelper#expired_subscription_notice_type returns :info when the company's subscription has a cancelled_at date","status":"passed","file_path":"./spec/helpers/billing_profiles_helper_spec.rb","line_number":8,"run_time":0.084940827,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/billing_profiles_helper_spec.rb[1:1:2]","description":"returns :negative when company's subscription does not have a cancelled_at date","full_description":"BillingProfilesHelper#expired_subscription_notice_type returns :negative when company's subscription does not have a cancelled_at date","status":"passed","file_path":"./spec/helpers/billing_profiles_helper_spec.rb","line_number":15,"run_time":0.078577484,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/billing_profiles_helper_spec.rb[1:2:1:1]","description":"returns true when the old subdomain is taken by another company","full_description":"BillingProfilesHelper#subdomain_unavailable_for_company_reactivation? when the reactivating company subdomain has previously been scrambled returns true when the old subdomain is taken by another company","status":"passed","file_path":"./spec/helpers/billing_profiles_helper_spec.rb","line_number":36,"run_time":0.149148831,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/billing_profiles_helper_spec.rb[1:2:1:2]","description":"returns false when the old subdomain is not taken by another company","full_description":"BillingProfilesHelper#subdomain_unavailable_for_company_reactivation? when the reactivating company subdomain has previously been scrambled returns false when the old subdomain is not taken by another company","status":"passed","file_path":"./spec/helpers/billing_profiles_helper_spec.rb","line_number":42,"run_time":0.081090098,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/billing_profiles_helper_spec.rb[1:2:2:1]","description":"returns false","full_description":"BillingProfilesHelper#subdomain_unavailable_for_company_reactivation? when the reactivating company subdomain has not been scrambled returns false","status":"passed","file_path":"./spec/helpers/billing_profiles_helper_spec.rb","line_number":48,"run_time":0.076517257,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[13:4]","description":"fails to create invoice with invalid contact details","full_description":"InvoicesController POST create fails to create invoice with invalid contact details","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":1321,"run_time":0.416945266,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[13:9]","description":"sets the construction industry scheme rate","full_description":"InvoicesController POST create sets the construction industry scheme rate","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":1406,"run_time":0.468750427,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:2:1:2:3]","description":"representing admin expenses","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the invoice accounting basis not on the Flat Rate Scheme Bank Account Entries representing admin expenses","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":3739,"run_time":0.46853953,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/cache_key_spec.rb[1:1:1]","description":"includes the report name","full_description":"ProfitAndLoss::UiState::CacheKey.for includes the report name","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/cache_key_spec.rb","line_number":15,"run_time":0.081724956,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/cache_key_spec.rb[1:1:2]","description":"includes the user id","full_description":"ProfitAndLoss::UiState::CacheKey.for includes the user id","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/cache_key_spec.rb","line_number":19,"run_time":0.08125491,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/cache_key_spec.rb[1:1:3]","description":"includes the company id","full_description":"ProfitAndLoss::UiState::CacheKey.for includes the company id","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/cache_key_spec.rb","line_number":23,"run_time":0.07943429,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/cache_key_spec.rb[1:1:4]","description":"includes the company start date","full_description":"ProfitAndLoss::UiState::CacheKey.for includes the company start date","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/cache_key_spec.rb","line_number":27,"run_time":0.097155589,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/cache_key_spec.rb[1:1:5]","description":"includes the companies first accounting year end date","full_description":"ProfitAndLoss::UiState::CacheKey.for includes the companies first accounting year end date","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/cache_key_spec.rb","line_number":31,"run_time":0.106900494,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/rbsg/switch_invitation_mailer_spec.rb[1:1:1]","description":"has the correct envelope","full_description":"Rbsg::SwitchInvitationMailer switching from direct to a Royal Bank of Scotland account has the correct envelope","status":"passed","file_path":"./spec/mailers/rbsg/switch_invitation_mailer_spec.rb","line_number":12,"run_time":0.024074478,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/rbsg/switch_invitation_mailer_spec.rb[1:1:2]","description":"is expected to have click tracking","full_description":"Rbsg::SwitchInvitationMailer switching from direct to a Royal Bank of Scotland account is expected to have click tracking","status":"passed","file_path":"./spec/mailers/rbsg/switch_invitation_mailer_spec.rb","line_number":22,"run_time":0.013602188,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/rbsg/switch_invitation_mailer_spec.rb[1:1:3]","description":"has an activation url in both HTML and text parts","full_description":"Rbsg::SwitchInvitationMailer switching from direct to a Royal Bank of Scotland account has an activation url in both HTML and text parts","status":"passed","file_path":"./spec/mailers/rbsg/switch_invitation_mailer_spec.rb","line_number":24,"run_time":0.015403877,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/rbsg/switch_invitation_mailer_spec.rb[1:2:1]","description":"has the correct envelope","full_description":"Rbsg::SwitchInvitationMailer switching from direct to a NatWest account has the correct envelope","status":"passed","file_path":"./spec/mailers/rbsg/switch_invitation_mailer_spec.rb","line_number":12,"run_time":0.014437525,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/rbsg/switch_invitation_mailer_spec.rb[1:2:2]","description":"is expected to have click tracking","full_description":"Rbsg::SwitchInvitationMailer switching from direct to a NatWest account is expected to have click tracking","status":"passed","file_path":"./spec/mailers/rbsg/switch_invitation_mailer_spec.rb","line_number":22,"run_time":0.012820512,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/rbsg/switch_invitation_mailer_spec.rb[1:2:3]","description":"has an activation url in both HTML and text parts","full_description":"Rbsg::SwitchInvitationMailer switching from direct to a NatWest account has an activation url in both HTML and text parts","status":"passed","file_path":"./spec/mailers/rbsg/switch_invitation_mailer_spec.rb","line_number":24,"run_time":0.015334303,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/rbsg/switch_invitation_mailer_spec.rb[1:3:1]","description":"has the correct envelope","full_description":"Rbsg::SwitchInvitationMailer switching from direct to a Mettle account has the correct envelope","status":"passed","file_path":"./spec/mailers/rbsg/switch_invitation_mailer_spec.rb","line_number":12,"run_time":0.014592246,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/rbsg/switch_invitation_mailer_spec.rb[1:3:2]","description":"is expected to have click tracking","full_description":"Rbsg::SwitchInvitationMailer switching from direct to a Mettle account is expected to have click tracking","status":"passed","file_path":"./spec/mailers/rbsg/switch_invitation_mailer_spec.rb","line_number":22,"run_time":0.012972676,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/rbsg/switch_invitation_mailer_spec.rb[1:3:3]","description":"has an activation url in both HTML and text parts","full_description":"Rbsg::SwitchInvitationMailer switching from direct to a Mettle account has an activation url in both HTML and text parts","status":"passed","file_path":"./spec/mailers/rbsg/switch_invitation_mailer_spec.rb","line_number":24,"run_time":0.015353995,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/rbsg/switch_invitation_mailer_spec.rb[1:4:1]","description":"has the correct envelope","full_description":"Rbsg::SwitchInvitationMailer switching from direct to a Ulster Bank NI account has the correct envelope","status":"passed","file_path":"./spec/mailers/rbsg/switch_invitation_mailer_spec.rb","line_number":12,"run_time":0.014648202,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/rbsg/switch_invitation_mailer_spec.rb[1:4:2]","description":"is expected to have click tracking","full_description":"Rbsg::SwitchInvitationMailer switching from direct to a Ulster Bank NI account is expected to have click tracking","status":"passed","file_path":"./spec/mailers/rbsg/switch_invitation_mailer_spec.rb","line_number":22,"run_time":0.015633571,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/rbsg/switch_invitation_mailer_spec.rb[1:4:3]","description":"has an activation url in both HTML and text parts","full_description":"Rbsg::SwitchInvitationMailer switching from direct to a Ulster Bank NI account has an activation url in both HTML and text parts","status":"passed","file_path":"./spec/mailers/rbsg/switch_invitation_mailer_spec.rb","line_number":24,"run_time":0.020553382,"pending_message":null,"screenshot":null},{"id":"./spec/models/attribute_locking/invoice_writeoff_locked_period_check_spec.rb[1:1:1]","description":"should return a reason when asked","full_description":"AttributeLocking::InvoiceWriteoffLockedPeriodCheck invoice writeoff locked period check should return a reason when asked","status":"passed","file_path":"./spec/models/attribute_locking/invoice_writeoff_locked_period_check_spec.rb","line_number":9,"run_time":0.003885656,"pending_message":null,"screenshot":null},{"id":"./spec/models/attribute_locking/invoice_writeoff_locked_period_check_spec.rb[1:1:2]","description":"should return locked for an invoice written off in a company locked period","full_description":"AttributeLocking::InvoiceWriteoffLockedPeriodCheck invoice writeoff locked period check should return locked for an invoice written off in a company locked period","status":"passed","file_path":"./spec/models/attribute_locking/invoice_writeoff_locked_period_check_spec.rb","line_number":13,"run_time":0.087607232,"pending_message":null,"screenshot":null},{"id":"./spec/models/attribute_locking/invoice_writeoff_locked_period_check_spec.rb[1:1:3]","description":"should return locked_out for an invoice when moving the written off date into a locked period","full_description":"AttributeLocking::InvoiceWriteoffLockedPeriodCheck invoice writeoff locked period check should return locked_out for an invoice when moving the written off date into a locked period","status":"passed","file_path":"./spec/models/attribute_locking/invoice_writeoff_locked_period_check_spec.rb","line_number":20,"run_time":0.042171666,"pending_message":null,"screenshot":null},{"id":"./spec/models/attribute_locking/invoice_writeoff_locked_period_check_spec.rb[1:1:4]","description":"should return false for an invoice written off outwith a company locked period","full_description":"AttributeLocking::InvoiceWriteoffLockedPeriodCheck invoice writeoff locked period check should return false for an invoice written off outwith a company locked period","status":"passed","file_path":"./spec/models/attribute_locking/invoice_writeoff_locked_period_check_spec.rb","line_number":28,"run_time":0.020696421,"pending_message":null,"screenshot":null},{"id":"./spec/models/attribute_locking/invoice_writeoff_locked_period_check_spec.rb[1:1:5]","description":"should return false for an invoice without a written off date","full_description":"AttributeLocking::InvoiceWriteoffLockedPeriodCheck invoice writeoff locked period check should return false for an invoice without a written off date","status":"passed","file_path":"./spec/models/attribute_locking/invoice_writeoff_locked_period_check_spec.rb","line_number":33,"run_time":0.005036455,"pending_message":null,"screenshot":null},{"id":"./spec/models/attribute_locking/invoice_writeoff_locked_period_check_spec.rb[1:1:6]","description":"should return false for an invoice without a company","full_description":"AttributeLocking::InvoiceWriteoffLockedPeriodCheck invoice writeoff locked period check should return false for an invoice without a company","status":"passed","file_path":"./spec/models/attribute_locking/invoice_writeoff_locked_period_check_spec.rb","line_number":38,"run_time":0.003383511,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/invoices/foreign_currency_vat_cis_part_paid.feature[1:1:1]","description":"Given a uk sole trader -\u003e And exchange rates are setup -\u003e And a foreign currency invoice: CIS, part paid, with VAT -\u003e Given VAT settings: Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Part Paid Foreign Currency VAT CIS Invoice VAT due Given a uk sole trader -\u003e And exchange rates are setup -\u003e And a foreign currency invoice: CIS, part paid, with VAT -\u003e Given VAT settings: Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/invoices/foreign_currency_vat_cis_part_paid.feature","line_number":14,"run_time":0.159373661,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/invoices/foreign_currency_vat_cis_part_paid.feature[1:2:1]","description":"Given a uk sole trader -\u003e And exchange rates are setup -\u003e And a foreign currency invoice: CIS, part paid, with VAT -\u003e Given VAT settings: Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Part Paid Foreign Currency VAT CIS Invoice VAT on payment Given a uk sole trader -\u003e And exchange rates are setup -\u003e And a foreign currency invoice: CIS, part paid, with VAT -\u003e Given VAT settings: Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/invoices/foreign_currency_vat_cis_part_paid.feature","line_number":75,"run_time":0.042640239,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/invoices/foreign_currency_vat_cis_part_paid.feature[1:3:1]","description":"Given a uk sole trader -\u003e And exchange rates are setup -\u003e And a foreign currency invoice: CIS, part paid, with VAT -\u003e Given VAT settings: Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Part Paid Foreign Currency VAT CIS Invoice VAT due at 11.5% FRS rate Given a uk sole trader -\u003e And exchange rates are setup -\u003e And a foreign currency invoice: CIS, part paid, with VAT -\u003e Given VAT settings: Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/invoices/foreign_currency_vat_cis_part_paid.feature","line_number":140,"run_time":0.040377882,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/invoices/foreign_currency_vat_cis_part_paid.feature[1:4:1]","description":"Given a uk sole trader -\u003e And exchange rates are setup -\u003e And a foreign currency invoice: CIS, part paid, with VAT -\u003e Given VAT settings: Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Part Paid Foreign Currency VAT CIS Invoice FRS VAT on payment Given a uk sole trader -\u003e And exchange rates are setup -\u003e And a foreign currency invoice: CIS, part paid, with VAT -\u003e Given VAT settings: Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/invoices/foreign_currency_vat_cis_part_paid.feature","line_number":203,"run_time":0.043129871,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_page.html.erb_spec.rb[1:1]","description":"renders a freestyle page layout when the helper is called","full_description":"freestyle/components/_page_body renders a freestyle page layout when the helper is called","status":"passed","file_path":"./spec/views/freestyle/components/_page.html.erb_spec.rb","line_number":5,"run_time":0.052879432,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_page.html.erb_spec.rb[1:2]","description":"renders a centred freestyle page layout when the property is passed","full_description":"freestyle/components/_page_body renders a centred freestyle page layout when the property is passed","status":"passed","file_path":"./spec/views/freestyle/components/_page.html.erb_spec.rb","line_number":12,"run_time":0.044656544,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_page.html.erb_spec.rb[1:3]","description":"renders a connection freestyle page layout when the property is passed","full_description":"freestyle/components/_page_body renders a connection freestyle page layout when the property is passed","status":"passed","file_path":"./spec/views/freestyle/components/_page.html.erb_spec.rb","line_number":19,"run_time":0.045010763,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:84:1]","description":"has a payable Stripe payment method","full_description":"Invoice An invoice that is payable by stripe has a payable Stripe payment method","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":2450,"run_time":0.194421783,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:92:1]","description":"uses date appropriate settings for sales tax number","full_description":"Invoice Universal company with two sales tax periods uses date appropriate settings for sales tax number","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":2731,"run_time":0.1695794,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/disposed_before_depreciated_2000_plus.feature[1:1:1]","description":"Given a uk sole trader -\u003e And a capital asset: disposed before depreciated 2000 plus -\u003e Given VAT settings: Not registered -\u003e Then it does not appear on the VAT return report -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase with disposal before fully depreciated, over 2000 FRS limit No VAT Given a uk sole trader -\u003e And a capital asset: disposed before depreciated 2000 plus -\u003e Given VAT settings: Not registered -\u003e Then it does not appear on the VAT return report -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/disposed_before_depreciated_2000_plus.feature","line_number":7,"run_time":0.026713654,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/disposed_before_depreciated_2000_plus.feature[1:2:1]","description":"Given a uk sole trader -\u003e And a capital asset: disposed before depreciated 2000 plus -\u003e Given VAT settings: Not registered, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase with disposal before fully depreciated, over 2000 FRS limit VAT reclaimed on registration with depreciation adjustment Given a uk sole trader -\u003e And a capital asset: disposed before depreciated 2000 plus -\u003e Given VAT settings: Not registered, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/disposed_before_depreciated_2000_plus.feature","line_number":27,"run_time":0.02221416,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/disposed_before_depreciated_2000_plus.feature[1:3:1]","description":"Given a uk sole trader -\u003e And a capital asset: disposed before depreciated 2000 plus -\u003e Given VAT settings: Not registered, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase with disposal before fully depreciated, over 2000 FRS limit VAT reclaimed on registration with depreciation adjustment Given a uk sole trader -\u003e And a capital asset: disposed before depreciated 2000 plus -\u003e Given VAT settings: Not registered, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/disposed_before_depreciated_2000_plus.feature","line_number":27,"run_time":0.027000016,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/disposed_before_depreciated_2000_plus.feature[1:4:1]","description":"Given a uk sole trader -\u003e And a capital asset: disposed before depreciated 2000 plus -\u003e Given VAT settings: Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase with disposal before fully depreciated, over 2000 FRS limit VAT reclaimed on purchase date, paid on disposal date Given a uk sole trader -\u003e And a capital asset: disposed before depreciated 2000 plus -\u003e Given VAT settings: Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/disposed_before_depreciated_2000_plus.feature","line_number":56,"run_time":0.024267166,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/disposed_before_depreciated_2000_plus.feature[1:5:1]","description":"Given a uk sole trader -\u003e And a capital asset: disposed before depreciated 2000 plus -\u003e Given VAT settings: Any basis, not FRS, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase with disposal before fully depreciated, over 2000 FRS limit VAT reclaimed on purchase date, paid on disposal date Given a uk sole trader -\u003e And a capital asset: disposed before depreciated 2000 plus -\u003e Given VAT settings: Any basis, not FRS, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/disposed_before_depreciated_2000_plus.feature","line_number":56,"run_time":0.026083578,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/disposed_before_depreciated_2000_plus.feature[1:6:1]","description":"Given a uk sole trader -\u003e And a capital asset: disposed before depreciated 2000 plus -\u003e Given VAT settings: Any basis, not FRS, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase with disposal before fully depreciated, over 2000 FRS limit VAT reclaimed on purchase date, paid on disposal date Given a uk sole trader -\u003e And a capital asset: disposed before depreciated 2000 plus -\u003e Given VAT settings: Any basis, not FRS, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/disposed_before_depreciated_2000_plus.feature","line_number":56,"run_time":0.026213778,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/disposed_before_depreciated_2000_plus.feature[1:7:1]","description":"Given a uk sole trader -\u003e And a capital asset: disposed before depreciated 2000 plus -\u003e Given VAT settings: Any basis, FRS, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase with disposal before fully depreciated, over 2000 FRS limit VAT reclaimed on purchase date, paid on disposal date Given a uk sole trader -\u003e And a capital asset: disposed before depreciated 2000 plus -\u003e Given VAT settings: Any basis, FRS, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/disposed_before_depreciated_2000_plus.feature","line_number":56,"run_time":0.026411432,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/disposed_before_depreciated_2000_plus.feature[1:8:1]","description":"Given a uk sole trader -\u003e And a capital asset: disposed before depreciated 2000 plus -\u003e Given VAT settings: Any basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase with disposal before fully depreciated, over 2000 FRS limit VAT reclaimed on purchase date Given a uk sole trader -\u003e And a capital asset: disposed before depreciated 2000 plus -\u003e Given VAT settings: Any basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/disposed_before_depreciated_2000_plus.feature","line_number":84,"run_time":0.017374797,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/disposed_before_depreciated_2000_plus.feature[1:9:1]","description":"Given a uk sole trader -\u003e And a capital asset: disposed before depreciated 2000 plus -\u003e Given VAT settings: Any basis, FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase with disposal before fully depreciated, over 2000 FRS limit VAT reclaimed on purchase date Given a uk sole trader -\u003e And a capital asset: disposed before depreciated 2000 plus -\u003e Given VAT settings: Any basis, FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/disposed_before_depreciated_2000_plus.feature","line_number":84,"run_time":0.017573173,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/disposed_before_depreciated_2000_plus.feature[1:10:1]","description":"Given a uk sole trader -\u003e And a capital asset: disposed before depreciated 2000 plus -\u003e Given VAT settings: Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase with disposal before fully depreciated, over 2000 FRS limit VAT on Asset, FRS VAT on disposal Given a uk sole trader -\u003e And a capital asset: disposed before depreciated 2000 plus -\u003e Given VAT settings: Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/disposed_before_depreciated_2000_plus.feature","line_number":108,"run_time":0.017650826,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/disposed_before_depreciated_2000_plus.feature[1:11:1]","description":"Given a uk sole trader -\u003e And a capital asset: disposed before depreciated 2000 plus -\u003e Given VAT settings: Any basis, FRS, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase with disposal before fully depreciated, over 2000 FRS limit VAT on Asset, FRS VAT on disposal Given a uk sole trader -\u003e And a capital asset: disposed before depreciated 2000 plus -\u003e Given VAT settings: Any basis, FRS, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/disposed_before_depreciated_2000_plus.feature","line_number":108,"run_time":0.01811909,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:1:5:3]","description":"representing business entertaining admin expense","full_description":"UkAccountsMapper Accounts Mapper for UK companies that are not VAT registered Bills representing business entertaining admin expense","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":623,"run_time":0.150223734,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:2:1:2:1:1]","description":"associated with a account","full_description":"UkAccountsMapper Accounts Mapper for UK companies who have applied for VAT registration before their registration effective date Bank Account Entries representing income associated with a account","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":875,"run_time":0.198523544,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb[1:1:1:1]","description":"is expected to eq \"Parker TD Parker TH\"","full_description":"Banking::TransactionNameSanitiser#sanitise_for_matching full month name with spaces is expected to eq \"Parker TD Parker TH\"","status":"passed","file_path":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb","line_number":10,"run_time":0.00313013,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb[1:1:2:1]","description":"is expected to eq \"CD TESCO STORES EDINBURGH GB\"","full_description":"Banking::TransactionNameSanitiser#sanitise_for_matching month name surrounded by digits is expected to eq \"CD TESCO STORES EDINBURGH GB\"","status":"passed","file_path":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb","line_number":15,"run_time":0.002504349,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb[1:1:3:1]","description":"is expected to eq \"CD TESCO STORES EDINBURGH GB\"","full_description":"Banking::TransactionNameSanitiser#sanitise_for_matching month name preceded by one digit is expected to eq \"CD TESCO STORES EDINBURGH GB\"","status":"passed","file_path":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb","line_number":20,"run_time":0.002425813,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb[1:1:4:1]","description":"is expected to eq \"CD TESCO STORES EDINBURGH GB\"","full_description":"Banking::TransactionNameSanitiser#sanitise_for_matching month name preceded by two digits is expected to eq \"CD TESCO STORES EDINBURGH GB\"","status":"passed","file_path":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb","line_number":25,"run_time":0.002286272,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb[1:1:5:1]","description":"is expected to eq \"CD TESCO STORES EDINBURGH GB\"","full_description":"Banking::TransactionNameSanitiser#sanitise_for_matching month name succeeded by two digits is expected to eq \"CD TESCO STORES EDINBURGH GB\"","status":"passed","file_path":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb","line_number":30,"run_time":0.002347886,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb[1:1:6:1]","description":"is expected to eq \"CD TESCO STORES EDINBURGH GB\"","full_description":"Banking::TransactionNameSanitiser#sanitise_for_matching month name preceded by two digits and followed by 4 digits is expected to eq \"CD TESCO STORES EDINBURGH GB\"","status":"passed","file_path":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb","line_number":35,"run_time":0.002258358,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb[1:1:7:1]","description":"is expected to eq \"Payment for Invoice DD : General Support\"","full_description":"Banking::TransactionNameSanitiser#sanitise_for_matching abbreviated month name with digits and special characters is expected to eq \"Payment for Invoice DD : General Support\"","status":"passed","file_path":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb","line_number":40,"run_time":0.00226724,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb[1:1:8:1]","description":"is expected to eq \"payment\"","full_description":"Banking::TransactionNameSanitiser#sanitise_for_matching lower case month name is expected to eq \"payment\"","status":"passed","file_path":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb","line_number":45,"run_time":0.002394521,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb[1:1:9:1]","description":"is expected to eq \"PAYMENT\"","full_description":"Banking::TransactionNameSanitiser#sanitise_for_matching upper case month name is expected to eq \"PAYMENT\"","status":"passed","file_path":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb","line_number":50,"run_time":0.002274555,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb[1:1:10:1]","description":"is expected to eq \"TESCO STORES MARYLEBONE GB\"","full_description":"Banking::TransactionNameSanitiser#sanitise_for_matching month name encased in another word is expected to eq \"TESCO STORES MARYLEBONE GB\"","status":"passed","file_path":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb","line_number":55,"run_time":0.002376293,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb[1:1:11:1]","description":"is expected to eq \"Pro rata amount from th January to st February \u0026 SME\"","full_description":"Banking::TransactionNameSanitiser#sanitise_for_matching multiple month names is expected to eq \"Pro rata amount from th January to st February \u0026 SME\"","status":"passed","file_path":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb","line_number":62,"run_time":0.002306123,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb[1:1:11:2:1]","description":"is expected to eq \"CD TESCO STORES MARYLEBONE GB\"","full_description":"Banking::TransactionNameSanitiser#sanitise_for_matching multiple month names with one encased in another word is expected to eq \"CD TESCO STORES MARYLEBONE GB\"","status":"passed","file_path":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb","line_number":67,"run_time":0.002198037,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb[1:1:12:1:1]","description":"is expected to eq \"CT VIA ONLINE PYMT\"","full_description":"Banking::TransactionNameSanitiser#sanitise_for_matching faster payment (FP) references when the FP ref is in the middle of the string is expected to eq \"CT VIA ONLINE PYMT\"","status":"passed","file_path":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb","line_number":74,"run_time":0.002155916,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb[1:1:12:2:1]","description":"is expected to eq \"FP // N PAYMENT FOR SERVICES\"","full_description":"Banking::TransactionNameSanitiser#sanitise_for_matching faster payment (FP) references when the FP reference is at the beginning of the string is expected to eq \"FP // N PAYMENT FOR SERVICES\"","status":"passed","file_path":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb","line_number":79,"run_time":0.002212814,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb[1:1:12:3:1]","description":"is expected to eq \"ABCDEFGH FP // N\"","full_description":"Banking::TransactionNameSanitiser#sanitise_for_matching faster payment (FP) references when the FP reference is preceded by 9 characters is expected to eq \"ABCDEFGH FP // N\"","status":"passed","file_path":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb","line_number":84,"run_time":0.002487757,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb[1:1:12:4:1]","description":"is expected to eq \"ABCDEFGHI\"","full_description":"Banking::TransactionNameSanitiser#sanitise_for_matching faster payment (FP) references when the FP reference is preceded by 10 characters is expected to eq \"ABCDEFGHI\"","status":"passed","file_path":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb","line_number":89,"run_time":0.002162505,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb[1:1:12:5:1]","description":"is expected to eq \"ct via online pymt\"","full_description":"Banking::TransactionNameSanitiser#sanitise_for_matching faster payment (FP) references lower case FP reference is expected to eq \"ct via online pymt\"","status":"passed","file_path":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb","line_number":94,"run_time":0.002226089,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb[1:2:1:1]","description":"is expected to eq \"NOV CD TESCO STORES EDINBURGH GB\"","full_description":"Banking::TransactionNameSanitiser#description_for_guessed_explanation when a month name is present is expected to eq \"NOV CD TESCO STORES EDINBURGH GB\"","status":"passed","file_path":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb","line_number":108,"run_time":0.002377669,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb[1:2:2:1]","description":"is expected to eq \"CT 5VIA ONLINE - PYMT\"","full_description":"Banking::TransactionNameSanitiser#description_for_guessed_explanation when a faster payment (FP) reference is present is expected to eq \"CT 5VIA ONLINE - PYMT\"","status":"passed","file_path":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb","line_number":115,"run_time":0.002227412,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb[1:2:3:1]","description":"is expected to eq \"CT 5VIA ONLINE - JULY PYMT\"","full_description":"Banking::TransactionNameSanitiser#description_for_guessed_explanation when a month name and FP ref are present is expected to eq \"CT 5VIA ONLINE - JULY PYMT\"","status":"passed","file_path":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb","line_number":122,"run_time":0.002451183,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb[1:2:4:1]","description":"is expected to eq \"CT 5VIA ONLINE - PYMT ABCDEFG1234567\"","full_description":"Banking::TransactionNameSanitiser#description_for_guessed_explanation when neither a month name or FP ref are present is expected to eq \"CT 5VIA ONLINE - PYMT ABCDEFG1234567\"","status":"passed","file_path":"./spec/freeagent/banking/transaction_name_sanitiser_spec.rb","line_number":129,"run_time":0.002297887,"pending_message":null,"screenshot":null}],"summary":{"duration":1.818866105,"example_count":518,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"518 examples, 0 failures"}