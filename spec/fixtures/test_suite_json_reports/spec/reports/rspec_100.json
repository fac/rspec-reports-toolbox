{"version":"3.11.0","messages":["Run options:\n  include {:ids=\u003e{\"./spec/models/invoice_spec.rb\"=\u003e[\"1:71:2:1\", \"1:135:4:1\", \"1:69:3:1:1\"]}}\n  exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:1:1:1:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"CapitalAssetsController#index behaves like an action with authorisation checks signed in user without permission is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":20,"run_time":3.702905365,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:1:1:1:2]","description":"is expected to render template errors/unauthorized","full_description":"CapitalAssetsController#index behaves like an action with authorisation checks signed in user without permission is expected to render template errors/unauthorized","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":21,"run_time":0.137759671,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:1:2:1]","description":"is successful","full_description":"CapitalAssetsController#index with no capital assets is successful","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":34,"run_time":0.321306632,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:1:3:7]","description":"filters by asset status using the view param","full_description":"CapitalAssetsController#index with several capital assets filters by asset status using the view param","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":171,"run_time":0.852071974,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:1:3:1:1]","description":"is using today's date","full_description":"CapitalAssetsController#index with several capital assets and no filters is using today's date","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":80,"run_time":0.94622584,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:1:3:1:2]","description":"shows 3 assets","full_description":"CapitalAssetsController#index with several capital assets and no filters shows 3 assets","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":84,"run_time":0.895134877,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:1:3:1:3]","description":"shows all the assets purchased by that date","full_description":"CapitalAssetsController#index with several capital assets and no filters shows all the assets purchased by that date","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":88,"run_time":0.906650202,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:1:3:2:1]","description":"is using the date at the end of the last accounting year","full_description":"CapitalAssetsController#index with several capital assets filtered by last accounting year is using the date at the end of the last accounting year","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":99,"run_time":0.903972226,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:1:3:2:2]","description":"shows 1 asset","full_description":"CapitalAssetsController#index with several capital assets filtered by last accounting year shows 1 asset","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":103,"run_time":0.980324626,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:1:3:2:3]","description":"only shows assets purchased before that date","full_description":"CapitalAssetsController#index with several capital assets filtered by last accounting year only shows assets purchased before that date","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":107,"run_time":1.084309384,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:1:3:3:1]","description":"is using the date at the end of this accounting year","full_description":"CapitalAssetsController#index with several capital assets filtered to show the end of the current accounting year is using the date at the end of this accounting year","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":118,"run_time":1.814940622,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:1:3:3:2]","description":"shows 5 assets","full_description":"CapitalAssetsController#index with several capital assets filtered to show the end of the current accounting year shows 5 assets","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":122,"run_time":1.119459966,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:1:3:4:1]","description":"is using today's date","full_description":"CapitalAssetsController#index with several capital assets filtered by an invalid date is using today's date","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":132,"run_time":1.078822064,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:1:3:4:2]","description":"shows 4 assets","full_description":"CapitalAssetsController#index with several capital assets filtered by an invalid date shows 4 assets","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":136,"run_time":1.106906815,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:1:3:5:1]","description":"includes a single asset","full_description":"CapitalAssetsController#index with several capital assets filtered to only show a default asset category includes a single asset","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":147,"run_time":1.130632713,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:1:3:5:2]","description":"shows the correct asset","full_description":"CapitalAssetsController#index with several capital assets filtered to only show a default asset category shows the correct asset","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":151,"run_time":1.106266994,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:1:3:6:1]","description":"includes a single asset","full_description":"CapitalAssetsController#index with several capital assets filtered to only show a custom capital asset type includes a single asset","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":162,"run_time":1.155319304,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:1:3:6:2]","description":"shows the correct asset","full_description":"CapitalAssetsController#index with several capital assets filtered to only show a custom capital asset type shows the correct asset","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":166,"run_time":1.206457982,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:1:3:8:1]","description":"is using today's date","full_description":"CapitalAssetsController#index with several capital assets filtered by an unknown view is using today's date","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":182,"run_time":1.203240493,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:1:3:8:2]","description":"shows 4 assets","full_description":"CapitalAssetsController#index with several capital assets filtered by an unknown view shows 4 assets","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":186,"run_time":1.198198035,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:1:3:9:1]","description":"shows the most recently purchased assets first","full_description":"CapitalAssetsController#index with several capital assets when showing one of several pages shows the most recently purchased assets first","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":196,"run_time":1.158716197,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:1:3:9:2]","description":"shows 2 assets","full_description":"CapitalAssetsController#index with several capital assets when showing one of several pages shows 2 assets","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":200,"run_time":1.101320057,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:2:1:1]","description":"does not allow editing","full_description":"CapitalAssetsController single asset in UK sole trader company type in MTD ITSA tax year does not allow editing","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":230,"run_time":1.021172568,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:2:2:1]","description":"allows editing","full_description":"CapitalAssetsController single asset in UK sole trader company type when the account owner is MTD activated allows editing","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":239,"run_time":0.606071779,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:2:2:2:1]","description":"does not allow editing","full_description":"CapitalAssetsController single asset in UK sole trader company type when the account owner is MTD activated outside MTD ITSA tax year does not allow editing","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":247,"run_time":0.422340243,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:3:1:1:1:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"CapitalAssetsController single asset action #show behaves like an action with authorisation checks signed in user without permission is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":20,"run_time":0.322068509,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:3:1:1:1:2]","description":"is expected to render template errors/unauthorized","full_description":"CapitalAssetsController single asset action #show behaves like an action with authorisation checks signed in user without permission is expected to render template errors/unauthorized","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":21,"run_time":0.340473371,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:3:1:2:1]","description":"is expected to respond with a success status code (2xx)","full_description":"CapitalAssetsController single asset action #show renders is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":280,"run_time":1.05011188,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:3:1:2:2]","description":"is expected to render template capital_assets/show","full_description":"CapitalAssetsController single asset action #show renders is expected to render template capital_assets/show","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":281,"run_time":1.107124024,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:3:2:1:1:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"CapitalAssetsController single asset action #edit behaves like an action with authorisation checks signed in user without permission is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":20,"run_time":0.350230099,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:3:2:1:1:2]","description":"is expected to render template errors/unauthorized","full_description":"CapitalAssetsController single asset action #edit behaves like an action with authorisation checks signed in user without permission is expected to render template errors/unauthorized","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":21,"run_time":0.325671535,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:3:2:2:1]","description":"is expected to redirect to \"/accounting/capital_assets/105\"","full_description":"CapitalAssetsController single asset action #edit for a non-UK company is expected to redirect to \"/accounting/capital_assets/105\"","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":294,"run_time":0.287201342,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:3:2:3:1]","description":"is expected to respond with a success status code (2xx)","full_description":"CapitalAssetsController single asset action #edit renders is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":300,"run_time":0.359270855,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:3:2:3:2]","description":"is expected to render template capital_assets/edit","full_description":"CapitalAssetsController single asset action #edit renders is expected to render template capital_assets/edit","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":301,"run_time":0.33897108,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:3:3:1:1:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"CapitalAssetsController single asset action #update behaves like an action with authorisation checks signed in user without permission is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":20,"run_time":0.293775811,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:3:3:1:1:2]","description":"is expected to render template errors/unauthorized","full_description":"CapitalAssetsController single asset action #update behaves like an action with authorisation checks signed in user without permission is expected to render template errors/unauthorized","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":21,"run_time":0.300820966,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:3:3:2:1]","description":"redirects","full_description":"CapitalAssetsController single asset action #update for a non-UK company redirects","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":319,"run_time":0.242095912,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:3:3:3:1]","description":"redirects","full_description":"CapitalAssetsController single asset action #update with a legacy asset redirects","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":328,"run_time":0.264159546,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:3:3:4:1]","description":"renders :edit with a validation error message","full_description":"CapitalAssetsController single asset action #update with an invalid tax treatment renders :edit with a validation error message","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":341,"run_time":0.32983456,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/capital_assets/controller_spec.rb[1:3:3:5:1]","description":"saves the update and redirects","full_description":"CapitalAssetsController single asset action #update with a valid tax treatment saves the update and redirects","status":"passed","file_path":"./spec/controllers/capital_assets/controller_spec.rb","line_number":349,"run_time":0.291148534,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:1]","description":"should be able to detect the jsa format from an array of headers","full_description":"Importer::Payroll should be able to detect the jsa format from an array of headers","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":137,"run_time":0.331390085,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:2]","description":"should be able to detect the iris format from an array of headers","full_description":"Importer::Payroll should be able to detect the iris format from an array of headers","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":137,"run_time":0.278369024,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:3]","description":"should be able to detect the generic format from an array of headers","full_description":"Importer::Payroll should be able to detect the generic format from an array of headers","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":137,"run_time":0.227398211,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:4:1]","description":"should import a payslip row correctly","full_description":"Importer::Payroll importing a JSA payroll row should import a payslip row correctly","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":167,"run_time":0.316612777,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:4:3]","description":"should not be able to import a payslip with a missing PAYE Reference","full_description":"Importer::Payroll importing a JSA payroll row should not be able to import a payslip with a missing PAYE Reference","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":192,"run_time":0.27099829,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:4:4]","description":"should not be able to import a payslip with a missing NI number","full_description":"Importer::Payroll importing a JSA payroll row should not be able to import a payslip with a missing NI number","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":200,"run_time":0.250367125,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:4:5]","description":"should not be able to import a payslip with a missing date","full_description":"Importer::Payroll importing a JSA payroll row should not be able to import a payslip with a missing date","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":208,"run_time":0.244478768,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:4:2:1]","description":"should not be able to import a payslip to a company with an unmatched PAYE REF ","full_description":"Importer::Payroll importing a JSA payroll row with an unrelated company should not be able to import a payslip to a company with an unmatched PAYE REF ","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":183,"run_time":0.406046508,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:4:6:1]","description":"refuses to import a payslip with SPBP","full_description":"Importer::Payroll importing a JSA payroll row before the 2020/21 tax year refuses to import a payslip with SPBP","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":220,"run_time":0.265284881,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:4:7:1]","description":"imports a payslip without SPBP","full_description":"Importer::Payroll importing a JSA payroll row in the 2020/21 tax year imports a payslip without SPBP","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":233,"run_time":0.324439185,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:4:7:2]","description":"imports a payslip with SPBP","full_description":"Importer::Payroll importing a JSA payroll row in the 2020/21 tax year imports a payslip with SPBP","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":242,"run_time":0.306129627,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:4:8:1]","description":"should import without error","full_description":"Importer::Payroll importing a JSA payroll row with nil values for monetary fields should import without error","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":265,"run_time":0.287766592,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:4:8:2]","description":"should default basic_pay to zero","full_description":"Importer::Payroll importing a JSA payroll row with nil values for monetary fields should default basic_pay to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":270,"run_time":0.316896637,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:4:8:3]","description":"should default statutory_sick_pay to zero","full_description":"Importer::Payroll importing a JSA payroll row with nil values for monetary fields should default statutory_sick_pay to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":270,"run_time":0.308201875,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:4:8:4]","description":"should default statutory_maternity_pay to zero","full_description":"Importer::Payroll importing a JSA payroll row with nil values for monetary fields should default statutory_maternity_pay to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":270,"run_time":0.290721488,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:4:8:5]","description":"should default statutory_paternity_pay to zero","full_description":"Importer::Payroll importing a JSA payroll row with nil values for monetary fields should default statutory_paternity_pay to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":270,"run_time":0.271227065,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:4:8:6]","description":"should default statutory_adoption_pay to zero","full_description":"Importer::Payroll importing a JSA payroll row with nil values for monetary fields should default statutory_adoption_pay to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":270,"run_time":0.348688733,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:4:8:7]","description":"should default other_payments to zero","full_description":"Importer::Payroll importing a JSA payroll row with nil values for monetary fields should default other_payments to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":270,"run_time":0.302247914,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:4:8:8]","description":"should default employee_ni to zero","full_description":"Importer::Payroll importing a JSA payroll row with nil values for monetary fields should default employee_ni to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":270,"run_time":0.303020687,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:4:8:9]","description":"should default tax_deducted to zero","full_description":"Importer::Payroll importing a JSA payroll row with nil values for monetary fields should default tax_deducted to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":270,"run_time":0.263873632,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:4:8:10]","description":"should default other_deductions to zero","full_description":"Importer::Payroll importing a JSA payroll row with nil values for monetary fields should default other_deductions to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":270,"run_time":0.294352452,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:4:8:11]","description":"should default attachments to zero","full_description":"Importer::Payroll importing a JSA payroll row with nil values for monetary fields should default attachments to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":270,"run_time":0.299735602,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:4:8:12]","description":"should default student_loan_deduction to zero","full_description":"Importer::Payroll importing a JSA payroll row with nil values for monetary fields should default student_loan_deduction to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":270,"run_time":0.302681139,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:4:8:13]","description":"should default employer_ni to zero","full_description":"Importer::Payroll importing a JSA payroll row with nil values for monetary fields should default employer_ni to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":270,"run_time":0.292909708,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:5:1:1]","description":"should import a payslip row correctly","full_description":"Importer::Payroll importing an IRIS row monthly payroll row should import a payslip row correctly","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":312,"run_time":0.287073207,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:5:2:1]","description":"should import a payslip row correctly","full_description":"Importer::Payroll importing an IRIS row weekly payroll row should import a payslip row correctly","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":325,"run_time":0.320455558,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:5:3:1]","description":"should import a payslip row correctly","full_description":"Importer::Payroll importing an IRIS row quarterly payroll row should import a payslip row correctly","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":338,"run_time":0.279253292,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:5:4:1]","description":"should import a payslip row correctly","full_description":"Importer::Payroll importing an IRIS row four weekly payroll row should import a payslip row correctly","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":351,"run_time":0.283276067,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:5:5:1]","description":"should import a payslip row correctly","full_description":"Importer::Payroll importing an IRIS row fortnightly payroll row should import a payslip row correctly","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":364,"run_time":0.313451245,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:5:6:1]","description":"should raise a runtime error","full_description":"Importer::Payroll importing an IRIS row fortnightly payroll row with a period that doesn't match the date should raise a runtime error","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":377,"run_time":0.244269152,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:5:7:1]","description":"should raise a runtime error","full_description":"Importer::Payroll importing an IRIS row weekly payroll row with the wrong financial year should raise a runtime error","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":395,"run_time":0.230354079,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:5:8:1]","description":"should not import a payslip","full_description":"Importer::Payroll importing an IRIS row with a missing payslip date should not import a payslip","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":411,"run_time":0.230826869,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:5:9:1]","description":"should import a payslip row correctly","full_description":"Importer::Payroll importing an IRIS row with a Week 1/Month 1 tax code should import a payslip row correctly","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":424,"run_time":0.28739076,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:5:10:1]","description":"should import without error","full_description":"Importer::Payroll importing an IRIS row with nil values for monetary fields should import without error","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":443,"run_time":0.285483813,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:5:10:2]","description":"should default basic_pay to zero","full_description":"Importer::Payroll importing an IRIS row with nil values for monetary fields should default basic_pay to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":448,"run_time":0.273761979,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:5:10:3]","description":"should default statutory_sick_pay to zero","full_description":"Importer::Payroll importing an IRIS row with nil values for monetary fields should default statutory_sick_pay to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":448,"run_time":0.28461881,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:5:10:4]","description":"should default statutory_maternity_pay to zero","full_description":"Importer::Payroll importing an IRIS row with nil values for monetary fields should default statutory_maternity_pay to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":448,"run_time":0.29590787,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:5:10:5]","description":"should default statutory_paternity_pay to zero","full_description":"Importer::Payroll importing an IRIS row with nil values for monetary fields should default statutory_paternity_pay to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":448,"run_time":0.287905017,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:5:10:6]","description":"should default statutory_adoption_pay to zero","full_description":"Importer::Payroll importing an IRIS row with nil values for monetary fields should default statutory_adoption_pay to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":448,"run_time":0.275855945,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:5:10:7]","description":"should default other_payments to zero","full_description":"Importer::Payroll importing an IRIS row with nil values for monetary fields should default other_payments to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":448,"run_time":0.28432087,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:5:10:8]","description":"should default employee_ni to zero","full_description":"Importer::Payroll importing an IRIS row with nil values for monetary fields should default employee_ni to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":448,"run_time":0.273563365,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:5:10:9]","description":"should default tax_deducted to zero","full_description":"Importer::Payroll importing an IRIS row with nil values for monetary fields should default tax_deducted to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":448,"run_time":0.293932226,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:5:10:10]","description":"should default other_deductions to zero","full_description":"Importer::Payroll importing an IRIS row with nil values for monetary fields should default other_deductions to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":448,"run_time":0.290101495,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:5:10:11]","description":"should default attachments to zero","full_description":"Importer::Payroll importing an IRIS row with nil values for monetary fields should default attachments to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":448,"run_time":0.303997687,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:5:10:12]","description":"should default student_loan_deduction to zero","full_description":"Importer::Payroll importing an IRIS row with nil values for monetary fields should default student_loan_deduction to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":448,"run_time":0.308359891,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:5:10:13]","description":"should default employer_ni to zero","full_description":"Importer::Payroll importing an IRIS row with nil values for monetary fields should default employer_ni to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":448,"run_time":0.262348043,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:5:11:1]","description":"should import the employment allowance correctly","full_description":"Importer::Payroll importing an IRIS row importing an employment allowance row should import the employment allowance correctly","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":467,"run_time":0.378926754,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:5:11:2]","description":"should split the allowance between the directors and the employer nics accounts correctly","full_description":"Importer::Payroll importing an IRIS row importing an employment allowance row should split the allowance between the directors and the employer nics accounts correctly","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":480,"run_time":0.457063815,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:5:11:3]","description":"should delete previous imports if the employment allowance is set to zero","full_description":"Importer::Payroll importing an IRIS row importing an employment allowance row should delete previous imports if the employment allowance is set to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":500,"run_time":0.402689391,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:5:12:1]","description":"refuses to import a payslip with SPBP","full_description":"Importer::Payroll importing an IRIS row before the 2020/21 tax year refuses to import a payslip with SPBP","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":519,"run_time":0.273516863,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:5:13:1]","description":"imports a payslip without SPBP","full_description":"Importer::Payroll importing an IRIS row in the 2020/21 tax year imports a payslip without SPBP","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":533,"run_time":0.308103204,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:5:13:2]","description":"imports a payslip with SPBP","full_description":"Importer::Payroll importing an IRIS row in the 2020/21 tax year imports a payslip with SPBP","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":543,"run_time":0.28757366,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:1:1]","description":"should import a payslip row correctly","full_description":"Importer::Payroll importing a generic row weekly payroll row should import a payslip row correctly","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":598,"run_time":0.313948771,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:2:1]","description":"should import a payslip row correctly","full_description":"Importer::Payroll importing a generic row monthly payroll row should import a payslip row correctly","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":611,"run_time":0.314490594,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:3:1]","description":"should import a payslip row correctly","full_description":"Importer::Payroll importing a generic row old style payroll row should import a payslip row correctly","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":622,"run_time":0.270800605,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:4:1]","description":"should not import a payslip","full_description":"Importer::Payroll importing a generic row with a missing payslip date should not import a payslip","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":635,"run_time":0.255080512,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:5:1]","description":"should not import a payslip","full_description":"Importer::Payroll importing a generic row importing where company subdomain doesn't exist should not import a payslip","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":647,"run_time":0.248070985,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:6:1]","description":"should not import a payslip","full_description":"Importer::Payroll importing a generic row importing where subdomain matches company being deleted should not import a payslip","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":660,"run_time":0.247193343,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:7:1]","description":"should not import a payslip","full_description":"Importer::Payroll importing a generic row importing where PAYE reference matches company being deleted should not import a payslip","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":673,"run_time":0.232144901,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:8:1]","description":"should raise an exception","full_description":"Importer::Payroll importing a generic row importing where company paye_reference doesn't match should raise an exception","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":693,"run_time":0.3962576,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:9:1]","description":"should raise an exception","full_description":"Importer::Payroll importing a generic row importing where user ni_number doesn't exist should raise an exception","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":708,"run_time":0.260808471,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:10:1]","description":"should raise a runtime error","full_description":"Importer::Payroll importing a generic row payroll with an invalid frequency should raise a runtime error","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":724,"run_time":0.276539929,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:11:1]","description":"should import without error","full_description":"Importer::Payroll importing a generic row with nil values for monetary fields should import without error","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":746,"run_time":0.314578909,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:11:2]","description":"should default basic_pay to zero","full_description":"Importer::Payroll importing a generic row with nil values for monetary fields should default basic_pay to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":751,"run_time":0.299334441,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:11:3]","description":"should default statutory_sick_pay to zero","full_description":"Importer::Payroll importing a generic row with nil values for monetary fields should default statutory_sick_pay to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":751,"run_time":0.26089635,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:11:4]","description":"should default statutory_maternity_pay to zero","full_description":"Importer::Payroll importing a generic row with nil values for monetary fields should default statutory_maternity_pay to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":751,"run_time":0.301081364,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:11:5]","description":"should default statutory_paternity_pay to zero","full_description":"Importer::Payroll importing a generic row with nil values for monetary fields should default statutory_paternity_pay to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":751,"run_time":0.276486663,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:11:6]","description":"should default statutory_adoption_pay to zero","full_description":"Importer::Payroll importing a generic row with nil values for monetary fields should default statutory_adoption_pay to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":751,"run_time":0.306686532,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:11:7]","description":"should default other_payments to zero","full_description":"Importer::Payroll importing a generic row with nil values for monetary fields should default other_payments to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":751,"run_time":0.274761845,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:11:8]","description":"should default employee_ni to zero","full_description":"Importer::Payroll importing a generic row with nil values for monetary fields should default employee_ni to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":751,"run_time":0.271434386,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:11:9]","description":"should default tax_deducted to zero","full_description":"Importer::Payroll importing a generic row with nil values for monetary fields should default tax_deducted to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":751,"run_time":0.308500942,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:11:10]","description":"should default other_deductions to zero","full_description":"Importer::Payroll importing a generic row with nil values for monetary fields should default other_deductions to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":751,"run_time":0.281628131,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:11:11]","description":"should default attachments to zero","full_description":"Importer::Payroll importing a generic row with nil values for monetary fields should default attachments to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":751,"run_time":0.297549308,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:11:12]","description":"should default student_loan_deduction to zero","full_description":"Importer::Payroll importing a generic row with nil values for monetary fields should default student_loan_deduction to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":751,"run_time":0.310550469,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:11:13]","description":"should default employer_ni to zero","full_description":"Importer::Payroll importing a generic row with nil values for monetary fields should default employer_ni to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":751,"run_time":0.327282045,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:12:1]","description":"should import the employment allowance correctly","full_description":"Importer::Payroll importing a generic row importing an employment allowance row should import the employment allowance correctly","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":772,"run_time":0.397217885,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:12:2]","description":"should split the allowance between the directors and the employer nics accounts correctly","full_description":"Importer::Payroll importing a generic row importing an employment allowance row should split the allowance between the directors and the employer nics accounts correctly","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":785,"run_time":0.418552999,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:12:3]","description":"should delete previous imports if the employment allowance is set to zero","full_description":"Importer::Payroll importing a generic row importing an employment allowance row should delete previous imports if the employment allowance is set to zero","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":805,"run_time":0.424449869,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:13:1]","description":"imports the correct amount as an integer","full_description":"Importer::Payroll importing a generic row with optional postgrad loan deduction specified imports the correct amount as an integer","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":825,"run_time":0.269298431,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:13:2]","description":"imports the correct amount as a decimal","full_description":"Importer::Payroll importing a generic row with optional postgrad loan deduction specified imports the correct amount as a decimal","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":832,"run_time":0.273954902,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:14:1]","description":"imports the correct hours worked for the integer format","full_description":"Importer::Payroll importing a generic row with optional hours worked specified imports the correct hours worked for the integer format","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":844,"run_time":0.260222661,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:14:2]","description":"imports the correct hours worked for the decimal format","full_description":"Importer::Payroll importing a generic row with optional hours worked specified imports the correct hours worked for the decimal format","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":851,"run_time":0.285179029,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:14:3]","description":"imports the correct hours worked for the XhYm format","full_description":"Importer::Payroll importing a generic row with optional hours worked specified imports the correct hours worked for the XhYm format","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":858,"run_time":0.332900989,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:14:4]","description":"leaves hours worked as nil if a blank value is provided","full_description":"Importer::Payroll importing a generic row with optional hours worked specified leaves hours worked as nil if a blank value is provided","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":865,"run_time":0.268816895,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:14:5]","description":"raises an error if hours worked not in a valid format","full_description":"Importer::Payroll importing a generic row with optional hours worked specified raises an error if hours worked not in a valid format","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":872,"run_time":0.247784209,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:15:1]","description":"refuses to import a payslip with SPBP","full_description":"Importer::Payroll importing a generic row before the 2020/21 tax year refuses to import a payslip with SPBP","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":886,"run_time":0.245663974,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:16:1]","description":"imports a payslip without SPBP","full_description":"Importer::Payroll importing a generic row in the 2020/21 tax year imports a payslip without SPBP","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":900,"run_time":0.287308089,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:6:16:2]","description":"imports a payslip with SPBP","full_description":"Importer::Payroll importing a generic row in the 2020/21 tax year imports a payslip with SPBP","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":910,"run_time":0.279325016,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:7:1]","description":"cannot import the payslip when the duplicate PAYE reference is on an ACTIVE company","full_description":"Importer::Payroll with duplicate PAYE references cannot import the payslip when the duplicate PAYE reference is on an ACTIVE company","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":941,"run_time":0.318184239,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:7:2]","description":"can import the payslip when the duplicate PAYE reference is on an INACTIVE company","full_description":"Importer::Payroll with duplicate PAYE references can import the payslip when the duplicate PAYE reference is on an INACTIVE company","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":947,"run_time":0.410583393,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:8:1]","description":"cannot import the payslip","full_description":"Importer::Payroll with a landlord cannot import the payslip","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":971,"run_time":0.363593727,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:9:1]","description":"cannot import the payslip","full_description":"Importer::Payroll with a cash basis company cannot import the payslip","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":997,"run_time":0.330766278,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/payroll_spec.rb[1:9:2]","description":"checks company eligibility before other validations","full_description":"Importer::Payroll with a cash basis company checks company eligibility before other validations","status":"passed","file_path":"./spec/models/integrations/importer/payroll_spec.rb","line_number":1005,"run_time":0.342488538,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:1:1]","description":"is invalid if the status changes from a terminal status to PaymentInProgress status","full_description":"Payit::PaymentIntent validations is invalid if the status changes from a terminal status to PaymentInProgress status","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":8,"run_time":0.279082361,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:1:2]","description":"is invalid if the status changes from a terminal status to PaymentRejected status","full_description":"Payit::PaymentIntent validations is invalid if the status changes from a terminal status to PaymentRejected status","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":18,"run_time":0.276216275,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:1:3]","description":"is invalid if the status changes from a terminal status to OtherError status","full_description":"Payit::PaymentIntent validations is invalid if the status changes from a terminal status to OtherError status","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":28,"run_time":0.070955071,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:1:4]","description":"is valid if the status changes from the non-terminal PaymentStatusUnknown status to a terminal status","full_description":"Payit::PaymentIntent validations is valid if the status changes from the non-terminal PaymentStatusUnknown status to a terminal status","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":38,"run_time":0.063626609,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:1:5]","description":"is valid if the status changes from the non-terminal PaymentInProgress status to a terminal status","full_description":"Payit::PaymentIntent validations is valid if the status changes from the non-terminal PaymentInProgress status to a terminal status","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":45,"run_time":0.06859331,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:1:6]","description":"is valid if the status changes from the non-terminal OtherError status to a terminal status","full_description":"Payit::PaymentIntent validations is valid if the status changes from the non-terminal OtherError status to a terminal status","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":52,"run_time":0.069589277,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:1:7]","description":"is valid if the status changes from nil to a non-terminal status","full_description":"Payit::PaymentIntent validations is valid if the status changes from nil to a non-terminal status","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":59,"run_time":0.072500086,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:1:8]","description":"is valid if the status changes from nil to a terminal status","full_description":"Payit::PaymentIntent validations is valid if the status changes from nil to a terminal status","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":66,"run_time":0.06304238,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:1:9]","description":"is invalid if given an unrecognised status","full_description":"Payit::PaymentIntent validations is invalid if given an unrecognised status","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":73,"run_time":0.012399908,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:1:10]","description":"is invalid if given an blank status","full_description":"Payit::PaymentIntent validations is invalid if given an blank status","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":79,"run_time":0.011687613,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:1:11]","description":"is valid if given a nil status","full_description":"Payit::PaymentIntent validations is valid if given a nil status","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":85,"run_time":0.011273341,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:1:12]","description":"is expected to validate that the length of :transaction_uid is 31","full_description":"Payit::PaymentIntent validations is expected to validate that the length of :transaction_uid is 31","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":90,"run_time":0.006069852,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:1:13]","description":"is expected to validate that the length of :merchant_acknowledgement_uid is at most 35","full_description":"Payit::PaymentIntent validations is expected to validate that the length of :merchant_acknowledgement_uid is at most 35","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":91,"run_time":0.004154433,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:1:14]","description":"is expected to validate that the length of :payment_reference_uid is at most 255","full_description":"Payit::PaymentIntent validations is expected to validate that the length of :payment_reference_uid is at most 255","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":92,"run_time":0.004585785,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:1:15]","description":"is expected to validate that the length of :tpp_reference_uid is at most 255","full_description":"Payit::PaymentIntent validations is expected to validate that the length of :tpp_reference_uid is at most 255","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":93,"run_time":0.004590692,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:1:16:1]","description":"is valid if nil","full_description":"Payit::PaymentIntent validations scheduled_at is valid if nil","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":98,"run_time":0.003505374,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:1:16:2]","description":"is invalid if set in the past","full_description":"Payit::PaymentIntent validations scheduled_at is invalid if set in the past","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":102,"run_time":0.090884776,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:1:16:3]","description":"is invalid if set to today","full_description":"Payit::PaymentIntent validations scheduled_at is invalid if set to today","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":108,"run_time":0.084788629,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:1:16:4]","description":"is invalid if set to a weekend","full_description":"Payit::PaymentIntent validations scheduled_at is invalid if set to a weekend","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":114,"run_time":0.091501203,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:1:16:5]","description":"is valid if set to a future date within the next 5 months","full_description":"Payit::PaymentIntent validations scheduled_at is valid if set to a future date within the next 5 months","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":120,"run_time":0.082035813,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:1:16:6]","description":"is invalid if set to a future date more than 5 months from now","full_description":"Payit::PaymentIntent validations scheduled_at is invalid if set to a future date more than 5 months from now","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":125,"run_time":0.086393746,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:1:16:7]","description":"is valid when updating if already set in the past","full_description":"Payit::PaymentIntent validations scheduled_at is valid when updating if already set in the past","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":131,"run_time":0.126140598,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:1:16:8]","description":"is valid when updating if already set to today","full_description":"Payit::PaymentIntent validations scheduled_at is valid when updating if already set to today","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":138,"run_time":0.160144672,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:1:16:9]","description":"is invalid if added to an existing record where it wasn't set","full_description":"Payit::PaymentIntent validations scheduled_at is invalid if added to an existing record where it wasn't set","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":145,"run_time":0.130562279,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:1:16:10]","description":"is invalid if changed on an existing record","full_description":"Payit::PaymentIntent validations scheduled_at is invalid if changed on an existing record","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":152,"run_time":0.124603042,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:2:1:1]","description":"is expected to be valid","full_description":"Payit::PaymentIntent.for_bill for an immediate payment is expected to be valid","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":171,"run_time":0.393915985,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:2:1:2]","description":"builds a new PaymentIntent","full_description":"Payit::PaymentIntent.for_bill for an immediate payment builds a new PaymentIntent","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":173,"run_time":0.345064986,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:2:1:3]","description":"populates the payable attribute with bill details","full_description":"Payit::PaymentIntent.for_bill for an immediate payment populates the payable attribute with bill details","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":183,"run_time":0.381145065,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:2:1:4]","description":"populates the payable attribute's redirect URL","full_description":"Payit::PaymentIntent.for_bill for an immediate payment populates the payable attribute's redirect URL","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":189,"run_time":0.37352544,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:2:1:5]","description":"populates the payable attribute with contact's bank account details","full_description":"Payit::PaymentIntent.for_bill for an immediate payment populates the payable attribute with contact's bank account details","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":193,"run_time":0.359372425,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:2:1:6:1:1]","description":"is expected to be valid","full_description":"Payit::PaymentIntent.for_bill for an immediate payment when PAYIT_LIVE_PROVING is true when the bill has a MOCKBANK reference prefix is expected to be valid","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":203,"run_time":0.304000033,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:2:1:6:1:2]","description":"sets transaction_uid to the number following the prefix","full_description":"Payit::PaymentIntent.for_bill for an immediate payment when PAYIT_LIVE_PROVING is true when the bill has a MOCKBANK reference prefix sets transaction_uid to the number following the prefix","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":205,"run_time":0.335943893,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:2:1:6:2:1]","description":"is expected to be valid","full_description":"Payit::PaymentIntent.for_bill for an immediate payment when PAYIT_LIVE_PROVING is true when the bill has any other reference is expected to be valid","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":211,"run_time":0.405302627,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:2:1:6:2:2]","description":"generates a random transaction_uid","full_description":"Payit::PaymentIntent.for_bill for an immediate payment when PAYIT_LIVE_PROVING is true when the bill has any other reference generates a random transaction_uid","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":213,"run_time":0.354592529,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:2:2:1]","description":"is expected to be valid","full_description":"Payit::PaymentIntent.for_bill for a scheduled payment is expected to be valid","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":228,"run_time":0.455078642,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:2:2:2]","description":"builds a new PaymentIntent with scheduled_at set","full_description":"Payit::PaymentIntent.for_bill for a scheduled payment builds a new PaymentIntent with scheduled_at set","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":230,"run_time":0.417610332,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:3:1]","description":"specifies the correct table name","full_description":"Payit::PaymentIntent.table_name specifies the correct table name","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":243,"run_time":0.004822953,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:4:1]","description":"is initialized as an empty hash","full_description":"Payit::PaymentIntent#payable is initialized as an empty hash","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":249,"run_time":0.003958695,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:4:2]","description":"is saved as a hash","full_description":"Payit::PaymentIntent#payable is saved as a hash","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":253,"run_time":0.070653549,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:5:1]","description":"logs the change occurred","full_description":"Payit::PaymentIntent when status is updated to `PAYMENT_UNLOCKED logs the change occurred","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":268,"run_time":0.065881311,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:6:1]","description":"is 10 charaters in length","full_description":"Payit::PaymentIntent#generate_payment_uid is 10 charaters in length","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":287,"run_time":0.003404615,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:6:2]","description":"has FA as the first 2 charaters","full_description":"Payit::PaymentIntent#generate_payment_uid has FA as the first 2 charaters","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":291,"run_time":0.003068074,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:7:1]","description":"is exactly 31 charaters in length","full_description":"Payit::PaymentIntent#generate_transaction_uid is exactly 31 charaters in length","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":297,"run_time":0.003446699,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:7:2]","description":"is prefixed with 'FRE'","full_description":"Payit::PaymentIntent#generate_transaction_uid is prefixed with 'FRE'","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":301,"run_time":0.003491843,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:8:1]","description":"is true if the status is PaymentApproved","full_description":"Payit::PaymentIntent#approved? is true if the status is PaymentApproved","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":307,"run_time":0.012251486,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:8:2]","description":"is false if the status is any other payment status","full_description":"Payit::PaymentIntent#approved? is false if the status is any other payment status","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":311,"run_time":0.681775336,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:8:3]","description":"is false if the status is an unrecognised string","full_description":"Payit::PaymentIntent#approved? is false if the status is an unrecognised string","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":317,"run_time":0.01240447,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:8:4]","description":"is false if the status nil","full_description":"Payit::PaymentIntent#approved? is false if the status nil","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":321,"run_time":0.011559481,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:9:1]","description":"is true if confirmed_at is set","full_description":"Payit::PaymentIntent#confirmed? is true if confirmed_at is set","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":327,"run_time":0.011622775,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:9:2]","description":"is false if confirmed_at is nil","full_description":"Payit::PaymentIntent#confirmed? is false if confirmed_at is nil","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":332,"run_time":0.011251312,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:10:1]","description":"is false if the status is PaymentInProgress","full_description":"Payit::PaymentIntent#initiated? is false if the status is PaymentInProgress","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":339,"run_time":0.01076875,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:10:2]","description":"is false if the status is PaymentStatusUnknown","full_description":"Payit::PaymentIntent#initiated? is false if the status is PaymentStatusUnknown","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":345,"run_time":0.011066574,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:10:3]","description":"is false if the status is PaymentApproved","full_description":"Payit::PaymentIntent#initiated? is false if the status is PaymentApproved","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":351,"run_time":0.011247047,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:10:4]","description":"is false if the status is OtherError","full_description":"Payit::PaymentIntent#initiated? is false if the status is OtherError","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":357,"run_time":0.01100535,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:10:5]","description":"is true if the status is PaymentInitiated","full_description":"Payit::PaymentIntent#initiated? is true if the status is PaymentInitiated","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":363,"run_time":0.011308487,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:11:1]","description":"is true if the status is TechnicalError","full_description":"Payit::PaymentIntent#technical_error is true if the status is TechnicalError","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":371,"run_time":0.010945699,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:11:2]","description":"is true if the status is not TechnicalError","full_description":"Payit::PaymentIntent#technical_error is true if the status is not TechnicalError","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":377,"run_time":0.010809585,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:12:1]","description":"is true if the status is PaymentInProgress","full_description":"Payit::PaymentIntent#pending? is true if the status is PaymentInProgress","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":385,"run_time":0.010986153,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:12:2]","description":"is true if the status is PaymentStatusUnknown","full_description":"Payit::PaymentIntent#pending? is true if the status is PaymentStatusUnknown","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":391,"run_time":0.011118446,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:12:3]","description":"is true if the status is OtherError","full_description":"Payit::PaymentIntent#pending? is true if the status is OtherError","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":397,"run_time":0.010589082,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:12:4]","description":"is false if the status is PaymentApproved","full_description":"Payit::PaymentIntent#pending? is false if the status is PaymentApproved","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":403,"run_time":0.010806815,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:12:5]","description":"is false if the status is PaymentInitiated","full_description":"Payit::PaymentIntent#pending? is false if the status is PaymentInitiated","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":409,"run_time":0.011149439,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:13:1]","description":"sets the #merchant_acknowledgement_uid","full_description":"Payit::PaymentIntent#mark_as_confirmed sets the #merchant_acknowledgement_uid","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":417,"run_time":0.012826647,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:13:2]","description":"uses a different #merchant_acknowledgement_uid every time","full_description":"Payit::PaymentIntent#mark_as_confirmed uses a different #merchant_acknowledgement_uid every time","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":424,"run_time":0.092707678,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:13:3]","description":"sets the #confirmed_at timestamp","full_description":"Payit::PaymentIntent#mark_as_confirmed sets the #confirmed_at timestamp","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":430,"run_time":0.013930434,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:13:4]","description":"changes #confirmed? from false to true","full_description":"Payit::PaymentIntent#mark_as_confirmed changes #confirmed? from false to true","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":437,"run_time":0.012410939,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:14:1]","description":"is true if the status is PaymentApproved","full_description":"Payit::PaymentIntent#approved? is true if the status is PaymentApproved","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":446,"run_time":0.011801397,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:14:2]","description":"is false if the status is any other payment status","full_description":"Payit::PaymentIntent#approved? is false if the status is any other payment status","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":450,"run_time":0.732931757,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:14:3]","description":"is false if the status is an unrecognised string","full_description":"Payit::PaymentIntent#approved? is false if the status is an unrecognised string","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":456,"run_time":0.012600577,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:14:4]","description":"is false if the status nil","full_description":"Payit::PaymentIntent#approved? is false if the status nil","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":460,"run_time":0.011416148,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:15:1:1]","description":"is expected to eql true","full_description":"Payit::PaymentIntent#customer_aborted? when status is CUSTOMER_ABORTED is expected to eql true","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":469,"run_time":0.011869424,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:15:2:1]","description":"is expected to eql false","full_description":"Payit::PaymentIntent#customer_aborted? when status is not CUSTOMER_ABORTED is expected to eql false","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":475,"run_time":0.011420569,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:16:1]","description":"is true if the bill has already been paid","full_description":"Payit::PaymentIntent#bill_is_paid? is true if the bill has already been paid","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":480,"run_time":0.402790091,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:16:2]","description":"is false if the bill has not been paid","full_description":"Payit::PaymentIntent#bill_is_paid? is false if the bill has not been paid","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":486,"run_time":0.103155825,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:17:1:1]","description":"is expected to eq true","full_description":"Payit::PaymentIntent#ready_for_payment? when it is approved, there is no bank account entry and the bill is unpaid is expected to eq true","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":501,"run_time":0.103722351,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:17:2:1]","description":"is expected to eq false","full_description":"Payit::PaymentIntent#ready_for_payment? when it has not been approved and status is PaymentInProgress is expected to eq false","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":507,"run_time":0.116541843,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:17:3:1]","description":"is expected to eq false","full_description":"Payit::PaymentIntent#ready_for_payment? when the bill is already paid is expected to eq false","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":513,"run_time":0.375321686,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:17:4:1]","description":"is expected to eq false","full_description":"Payit::PaymentIntent#ready_for_payment? when there is already a bank account entry is expected to eq false","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":519,"run_time":0.287788248,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:18:1:1]","description":"is expected not to be scheduled","full_description":"Payit::PaymentIntent#scheduled? for an immediate payment is expected not to be scheduled","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":527,"run_time":0.012302367,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:18:2:1]","description":"is expected to be scheduled","full_description":"Payit::PaymentIntent#scheduled? for a scheduled payment is expected to be scheduled","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":533,"run_time":0.012054395,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:19:1:1]","description":"is expected to be manually cancelled","full_description":"Payit::PaymentIntent#manually_cancelled? for a manually cancelled payment intent is expected to be manually cancelled","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":541,"run_time":0.011657832,"pending_message":null,"screenshot":null},{"id":"./spec/models/payit/payment_intent_spec.rb[1:19:2:1]","description":"is expected not to be manually cancelled","full_description":"Payit::PaymentIntent#manually_cancelled? for a non manually cancelled payment intent is expected not to be manually cancelled","status":"passed","file_path":"./spec/models/payit/payment_intent_spec.rb","line_number":547,"run_time":0.011573113,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/tax_timeline_helper_spec.rb[1:1:1:1:1]","description":"is expected to eq \"http://test.host/tax/975572484/self_assessment_returns/01-Jan-18\"","full_description":"TaxTimelineHelper#timeline_item_url using master database for a self assessment Version1Return is expected to eq \"http://test.host/tax/975572484/self_assessment_returns/01-Jan-18\"","status":"passed","file_path":"./spec/helpers/tax_timeline_helper_spec.rb","line_number":34,"run_time":0.492050055,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/tax_timeline_helper_spec.rb[1:1:1:2:1]","description":"is expected to eq \"http://test.host/tax/975572487/self_assessment_returns/01-Jan-18\"","full_description":"TaxTimelineHelper#timeline_item_url using master database for a self assessment Version2Return is expected to eq \"http://test.host/tax/975572487/self_assessment_returns/01-Jan-18\"","status":"passed","file_path":"./spec/helpers/tax_timeline_helper_spec.rb","line_number":34,"run_time":0.481968669,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/tax_timeline_helper_spec.rb[1:1:1:3:1]","description":"is expected to eq \"http://test.host/tax/975572490/self_assessment_returns/01-Jan-18\"","full_description":"TaxTimelineHelper#timeline_item_url using master database for a self assessment Version3Return is expected to eq \"http://test.host/tax/975572490/self_assessment_returns/01-Jan-18\"","status":"passed","file_path":"./spec/helpers/tax_timeline_helper_spec.rb","line_number":34,"run_time":0.456562676,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/tax_timeline_helper_spec.rb[1:1:1:4:1]","description":"is expected to eq \"http://test.host/tax/975572493/self_assessment_returns/05-Apr-16\"","full_description":"TaxTimelineHelper#timeline_item_url using master database for a v3 Self Assessment Payment On Account (whether the return exists or not) is expected to eq \"http://test.host/tax/975572493/self_assessment_returns/05-Apr-16\"","status":"passed","file_path":"./spec/helpers/tax_timeline_helper_spec.rb","line_number":49,"run_time":0.493091691,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/tax_timeline_helper_spec.rb[1:1:1:5:1]","description":"is expected to eq \"http://test.host/accounting/profit_and_loss/2016-04-01_2017-04-30\"","full_description":"TaxTimelineHelper#timeline_item_url using master database for an accounting period is expected to eq \"http://test.host/accounting/profit_and_loss/2016-04-01_2017-04-30\"","status":"passed","file_path":"./spec/helpers/tax_timeline_helper_spec.rb","line_number":56,"run_time":0.436283529,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/tax_timeline_helper_spec.rb[1:1:1:6:1]","description":"is expected to eq \"http://test.host/tax/corporation_tax_returns/01-Jan-18\"","full_description":"TaxTimelineHelper#timeline_item_url using master database for a corporation tax return is expected to eq \"http://test.host/tax/corporation_tax_returns/01-Jan-18\"","status":"passed","file_path":"./spec/helpers/tax_timeline_helper_spec.rb","line_number":61,"run_time":0.497023162,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/tax_timeline_helper_spec.rb[1:1:1:7:1]","description":"is expected to be nil","full_description":"TaxTimelineHelper#timeline_item_url using master database for a String is expected to be nil","status":"passed","file_path":"./spec/helpers/tax_timeline_helper_spec.rb","line_number":66,"run_time":0.511238208,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/tax_timeline_helper_spec.rb[1:1:1:8:1]","description":"is expected to eq \"http://test.host/tax/vat_returns/1023589860\"","full_description":"TaxTimelineHelper#timeline_item_url using master database for a vat return is expected to eq \"http://test.host/tax/vat_returns/1023589860\"","status":"passed","file_path":"./spec/helpers/tax_timeline_helper_spec.rb","line_number":71,"run_time":0.443139468,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/tax_timeline_helper_spec.rb[1:1:1:9:1]","description":"is expected to eq \"http://test.host/tax/paye?year=2018\"","full_description":"TaxTimelineHelper#timeline_item_url using master database for a payslip is expected to eq \"http://test.host/tax/paye?year=2018\"","status":"passed","file_path":"./spec/helpers/tax_timeline_helper_spec.rb","line_number":76,"run_time":0.41950918,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/tax_timeline_helper_spec.rb[1:1:1:10:1]","description":"is expected to eq \"http://test.host/tax/paye?year=2018\"","full_description":"TaxTimelineHelper#timeline_item_url using master database for a journal set is expected to eq \"http://test.host/tax/paye?year=2018\"","status":"passed","file_path":"./spec/helpers/tax_timeline_helper_spec.rb","line_number":81,"run_time":0.461814849,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/tax_timeline_helper_spec.rb[1:1:2:1:1]","description":"is expected to eq \"http://test.host/tax/975572514/self_assessment_returns/01-Jan-18\"","full_description":"TaxTimelineHelper#timeline_item_url using replica database to simulate CompanyDigestMailer for a self assessment Version1Return is expected to eq \"http://test.host/tax/975572514/self_assessment_returns/01-Jan-18\"","status":"passed","file_path":"./spec/helpers/tax_timeline_helper_spec.rb","line_number":34,"run_time":0.460652821,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/tax_timeline_helper_spec.rb[1:1:2:2:1]","description":"is expected to eq \"http://test.host/tax/975572517/self_assessment_returns/01-Jan-18\"","full_description":"TaxTimelineHelper#timeline_item_url using replica database to simulate CompanyDigestMailer for a self assessment Version2Return is expected to eq \"http://test.host/tax/975572517/self_assessment_returns/01-Jan-18\"","status":"passed","file_path":"./spec/helpers/tax_timeline_helper_spec.rb","line_number":34,"run_time":0.466583125,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/tax_timeline_helper_spec.rb[1:1:2:3:1]","description":"is expected to eq \"http://test.host/tax/975572520/self_assessment_returns/01-Jan-18\"","full_description":"TaxTimelineHelper#timeline_item_url using replica database to simulate CompanyDigestMailer for a self assessment Version3Return is expected to eq \"http://test.host/tax/975572520/self_assessment_returns/01-Jan-18\"","status":"passed","file_path":"./spec/helpers/tax_timeline_helper_spec.rb","line_number":34,"run_time":0.423623548,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/tax_timeline_helper_spec.rb[1:1:2:4:1]","description":"is expected to eq \"http://test.host/tax/975572523/self_assessment_returns/05-Apr-16\"","full_description":"TaxTimelineHelper#timeline_item_url using replica database to simulate CompanyDigestMailer for a v3 Self Assessment Payment On Account (whether the return exists or not) is expected to eq \"http://test.host/tax/975572523/self_assessment_returns/05-Apr-16\"","status":"passed","file_path":"./spec/helpers/tax_timeline_helper_spec.rb","line_number":49,"run_time":0.472001405,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/tax_timeline_helper_spec.rb[1:1:2:5:1]","description":"is expected to eq \"http://test.host/accounting/profit_and_loss/2016-04-01_2017-04-30\"","full_description":"TaxTimelineHelper#timeline_item_url using replica database to simulate CompanyDigestMailer for an accounting period is expected to eq \"http://test.host/accounting/profit_and_loss/2016-04-01_2017-04-30\"","status":"passed","file_path":"./spec/helpers/tax_timeline_helper_spec.rb","line_number":56,"run_time":1.044931993,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/tax_timeline_helper_spec.rb[1:1:2:6:1]","description":"is expected to eq \"http://test.host/tax/corporation_tax_returns/01-Jan-18\"","full_description":"TaxTimelineHelper#timeline_item_url using replica database to simulate CompanyDigestMailer for a corporation tax return is expected to eq \"http://test.host/tax/corporation_tax_returns/01-Jan-18\"","status":"passed","file_path":"./spec/helpers/tax_timeline_helper_spec.rb","line_number":61,"run_time":0.509735564,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/tax_timeline_helper_spec.rb[1:1:2:7:1]","description":"is expected to be nil","full_description":"TaxTimelineHelper#timeline_item_url using replica database to simulate CompanyDigestMailer for a String is expected to be nil","status":"passed","file_path":"./spec/helpers/tax_timeline_helper_spec.rb","line_number":66,"run_time":0.458328224,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/tax_timeline_helper_spec.rb[1:1:2:8:1]","description":"is expected to eq \"http://test.host/tax/vat_returns/1023589870\"","full_description":"TaxTimelineHelper#timeline_item_url using replica database to simulate CompanyDigestMailer for a vat return is expected to eq \"http://test.host/tax/vat_returns/1023589870\"","status":"passed","file_path":"./spec/helpers/tax_timeline_helper_spec.rb","line_number":71,"run_time":0.441063169,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/tax_timeline_helper_spec.rb[1:1:2:9:1]","description":"is expected to eq \"http://test.host/tax/paye?year=2018\"","full_description":"TaxTimelineHelper#timeline_item_url using replica database to simulate CompanyDigestMailer for a payslip is expected to eq \"http://test.host/tax/paye?year=2018\"","status":"passed","file_path":"./spec/helpers/tax_timeline_helper_spec.rb","line_number":76,"run_time":0.474128665,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/tax_timeline_helper_spec.rb[1:1:2:10:1]","description":"is expected to eq \"http://test.host/tax/paye?year=2018\"","full_description":"TaxTimelineHelper#timeline_item_url using replica database to simulate CompanyDigestMailer for a journal set is expected to eq \"http://test.host/tax/paye?year=2018\"","status":"passed","file_path":"./spec/helpers/tax_timeline_helper_spec.rb","line_number":81,"run_time":0.483132102,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:3]","description":"adds the project to the bill","full_description":"BillsController#update adds the project to the bill","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":187,"run_time":0.282033769,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:4]","description":"does not allow contact to be updated to someone outside the current company","full_description":"BillsController#update does not allow contact to be updated to someone outside the current company","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":199,"run_time":0.253095084,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:5]","description":"shows an error messages when updating bill and uploading an attachment \u003e 5MB","full_description":"BillsController#update shows an error messages when updating bill and uploading an attachment \u003e 5MB","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":216,"run_time":0.442479542,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:6]","description":"does not throw an error when total_value is blank","full_description":"BillsController#update does not throw an error when total_value is blank","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":232,"run_time":0.271011692,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:7]","description":"reassigns bill category when the nominal code is specified","full_description":"BillsController#update reassigns bill category when the nominal code is specified","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":248,"run_time":0.226874688,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:13]","description":"publishes the BILL_EDITED event","full_description":"BillsController#update publishes the BILL_EDITED event","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":550,"run_time":0.229379663,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:1:1]","description":"redirects to the bill show page","full_description":"BillsController#update when redirecting after update redirects to the bill show page","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":14,"run_time":0.201679474,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:2:1:1]","description":"updates the attachment comment","full_description":"BillsController#update bills with attachments updating an existing attachment updates the attachment comment","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":29,"run_time":0.300441378,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:2:2:1]","description":"replaces the bill's attachment","full_description":"BillsController#update bills with attachments attaching via user upload replaces the bill's attachment","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":77,"run_time":0.271298782,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:2:2:2]","description":"publishes an event when user uploads attachment","full_description":"BillsController#update bills with attachments attaching via user upload publishes an event when user uploads attachment","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":89,"run_time":0.208854381,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:2:3:1:1]","description":"redirects to the bill path","full_description":"BillsController#update bills with attachments attaching a file from files area for an available file redirects to the bill path","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":117,"run_time":0.387803163,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:2:3:1:2]","description":"updates the bill attachment","full_description":"BillsController#update bills with attachments attaching a file from files area for an available file updates the bill attachment","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":123,"run_time":0.366161411,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:2:3:1:3]","description":"removes file from files area","full_description":"BillsController#update bills with attachments attaching a file from files area for an available file removes file from files area","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":132,"run_time":0.314587046,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:2:3:1:4]","description":"publishes an event","full_description":"BillsController#update bills with attachments attaching a file from files area for an available file publishes an event","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":137,"run_time":0.316392958,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:2:3:2:1]","description":"displays an error to the user","full_description":"BillsController#update bills with attachments attaching a file from files area for a file that doesn't belong to user and company displays an error to the user","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":163,"run_time":0.494326535,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:2:3:2:2]","description":"does not attach the file to expense","full_description":"BillsController#update bills with attachments attaching a file from files area for a file that doesn't belong to user and company does not attach the file to expense","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":173,"run_time":0.488623245,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:2:3:2:3]","description":"does not remove the document","full_description":"BillsController#update bills with attachments attaching a file from files area for a file that doesn't belong to user and company does not remove the document","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":180,"run_time":0.308518498,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:8:1:1]","description":"updates the asset's depreciation schedule","full_description":"BillsController#update bills with capital assets updating an existing capital asset updates the asset's depreciation schedule","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":277,"run_time":0.42017927,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:9:1:1]","description":"does not have a hire purchase record","full_description":"BillsController#update #is_paid_by_hire_purchase a non hire purchase bill does not have a hire purchase record","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":300,"run_time":0.06002223,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:9:1:2:1]","description":"does not create a hire purchase record","full_description":"BillsController#update #is_paid_by_hire_purchase a non hire purchase bill when saving the bill without changing the hire purchase status does not create a hire purchase record","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":305,"run_time":0.132934015,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:9:1:3:1]","description":"creates a hire purchase record","full_description":"BillsController#update #is_paid_by_hire_purchase a non hire purchase bill when marking the bill as a hire purchase creates a hire purchase record","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":328,"run_time":0.165541174,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:9:1:3:2]","description":"publishes BILL_EDITED event with correct data","full_description":"BillsController#update #is_paid_by_hire_purchase a non hire purchase bill when marking the bill as a hire purchase publishes BILL_EDITED event with correct data","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":333,"run_time":0.157706322,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:9:2:1]","description":"has a hire purchase record","full_description":"BillsController#update #is_paid_by_hire_purchase a hire purchase bill has a hire purchase record","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":362,"run_time":0.069863125,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:9:2:2:1]","description":"does not destroy the associated hire purchase record","full_description":"BillsController#update #is_paid_by_hire_purchase a hire purchase bill when saving the bill without changing the hire purchase status does not destroy the associated hire purchase record","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":367,"run_time":0.154119315,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:9:2:3:1]","description":"destroys the associated hire purchase record","full_description":"BillsController#update #is_paid_by_hire_purchase a hire purchase bill when unmarking the bill as a hire purchase destroys the associated hire purchase record","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":390,"run_time":0.160975061,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:9:2:3:2]","description":"publishes BILL_EDITED event with correct data","full_description":"BillsController#update #is_paid_by_hire_purchase a hire purchase bill when unmarking the bill as a hire purchase publishes BILL_EDITED event with correct data","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":395,"run_time":0.148348913,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:10:1]","description":"creates an audit entry on successful update","full_description":"BillsController#update audit trail creates an audit entry on successful update","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":423,"run_time":0.190364288,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:10:2]","description":"does not create an audit entry on unsuccessful update","full_description":"BillsController#update audit trail does not create an audit entry on unsuccessful update","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":447,"run_time":0.22361321,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:11:1]","description":"updates the property_id","full_description":"BillsController#update for a UK landlord updates the property_id","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":487,"run_time":0.343898865,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:12:1:1]","description":"remains true (including tax)","full_description":"BillsController#update populating input_total_values_inc_tax changing a bill to the native currency remains true (including tax)","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":496,"run_time":0.236488816,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:12:2:1]","description":"stores true (including tax)","full_description":"BillsController#update populating input_total_values_inc_tax changing a bill to a foreign currency stores true (including tax)","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":506,"run_time":0.20979557,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:12:3:1]","description":"doesn't change the value","full_description":"BillsController#update populating input_total_values_inc_tax updating a bill doesn't change the value","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":516,"run_time":0.224643597,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:12:4:1]","description":"doesn't change the value by default","full_description":"BillsController#update populating input_total_values_inc_tax for a native currency bill doesn't change the value by default","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":526,"run_time":0.214927605,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:12:4:2]","description":"stores the passed value if given","full_description":"BillsController#update populating input_total_values_inc_tax for a native currency bill stores the passed value if given","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":532,"run_time":0.200783679,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/update_action_spec.rb[1:12:5:1]","description":"stores true (including tax)","full_description":"BillsController#update populating input_total_values_inc_tax changing a bill to a foreign currency stores true (including tax)","status":"passed","file_path":"./spec/controllers/bills_controller/update_action_spec.rb","line_number":542,"run_time":0.263233652,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/accounting_categories/equity_categories_spec.rb[1:1]","description":"List Equity categories (fixed codes only)","full_description":"Accounting Categories: Equity Categories List Equity categories (fixed codes only)","status":"passed","file_path":"./spec/features/settings/accounting_categories/equity_categories_spec.rb","line_number":13,"run_time":2.01462488,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/accounting_categories/equity_categories_spec.rb[1:2]","description":"List Equity categories (extra custom codes)","full_description":"Accounting Categories: Equity Categories List Equity categories (extra custom codes)","status":"passed","file_path":"./spec/features/settings/accounting_categories/equity_categories_spec.rb","line_number":39,"run_time":1.228338152,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/accounting_categories/equity_categories_spec.rb[1:3]","description":"Add new Equity Category","full_description":"Accounting Categories: Equity Categories Add new Equity Category","status":"passed","file_path":"./spec/features/settings/accounting_categories/equity_categories_spec.rb","line_number":62,"run_time":1.347926743,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/accounting_categories/equity_categories_spec.rb[1:4]","description":"Add new Equity category (and Add Another)","full_description":"Accounting Categories: Equity Categories Add new Equity category (and Add Another)","status":"passed","file_path":"./spec/features/settings/accounting_categories/equity_categories_spec.rb","line_number":85,"run_time":1.416859507,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/accounting_categories/equity_categories_spec.rb[1:5]","description":"Edit Equity category","full_description":"Accounting Categories: Equity Categories Edit Equity category","status":"passed","file_path":"./spec/features/settings/accounting_categories/equity_categories_spec.rb","line_number":110,"run_time":1.268990044,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/accounting_categories/equity_categories_spec.rb[1:6]","description":"Delete equity category","full_description":"Accounting Categories: Equity Categories Delete equity category","status":"passed","file_path":"./spec/features/settings/accounting_categories/equity_categories_spec.rb","line_number":137,"run_time":1.733980055,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:1:1]","description":"is expected to equal true","full_description":"GocardlessPayoutTransfer#can_transfer? is expected to equal true","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":20,"run_time":0.064934958,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:1:2:1]","description":"is expected to equal false","full_description":"GocardlessPayoutTransfer#can_transfer? EUR payout is expected to equal false","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":24,"run_time":0.05310425,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:1:3:1]","description":"is expected to equal false","full_description":"GocardlessPayoutTransfer#can_transfer? a zero payout is expected to equal false","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":29,"run_time":0.041848196,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:1:4:1]","description":"is expected to equal false","full_description":"GocardlessPayoutTransfer#can_transfer? auto-reconciliation is disabled is expected to equal false","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":34,"run_time":0.071625403,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:1:5:1]","description":"is expected to equal false","full_description":"GocardlessPayoutTransfer#can_transfer? no settings exist is expected to equal false","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":43,"run_time":0.049236178,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:1:6:1]","description":"is expected to equal false","full_description":"GocardlessPayoutTransfer#can_transfer? integration is disabled is expected to equal false","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":48,"run_time":0.052561582,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:1:7:1]","description":"is expected to equal false","full_description":"GocardlessPayoutTransfer#can_transfer? payout bank account entry already exists is expected to equal false","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":61,"run_time":0.063284061,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:1:8:1]","description":"is expected to equal false","full_description":"GocardlessPayoutTransfer#can_transfer? as a landlord company is expected to equal false","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":67,"run_time":0.142532441,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:2:1]","description":"creates the payout transaction entry","full_description":"GocardlessPayoutTransfer#transfer! creates the payout transaction entry","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":83,"run_time":0.481390194,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:2:2]","description":"publishes a bank transaction explanation created event","full_description":"GocardlessPayoutTransfer#transfer! publishes a bank transaction explanation created event","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":88,"run_time":0.395237055,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:2:3]","description":"publishes a bank transaction created event","full_description":"GocardlessPayoutTransfer#transfer! publishes a bank transaction created event","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":104,"run_time":0.374222992,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:2:4]","description":"creates the gocardless bank account entries (transfer and fee)","full_description":"GocardlessPayoutTransfer#transfer! creates the gocardless bank account entries (transfer and fee)","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":120,"run_time":0.393810197,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:2:5]","description":"applied UK VAT rate as sales tax to Gocardless Fee","full_description":"GocardlessPayoutTransfer#transfer! applied UK VAT rate as sales tax to Gocardless Fee","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":127,"run_time":0.374230183,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:2:6:1]","description":"creates bank account entries for the transfer and all other fees","full_description":"GocardlessPayoutTransfer#transfer! with app and surcharge fee also applying creates bank account entries for the transfer and all other fees","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":138,"run_time":0.586742748,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:2:7:1]","description":"creates a single entry for the fees","full_description":"GocardlessPayoutTransfer#transfer! with multiple identical payout fees creates a single entry for the fees","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":155,"run_time":0.349878169,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:2:8:1]","description":"creates a single entry for identical fees","full_description":"GocardlessPayoutTransfer#transfer! with a mix of payout fees and tax rates creates a single entry for identical fees","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":171,"run_time":0.574478838,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:2:9:1]","description":"creates bank account entries for each different tax rate","full_description":"GocardlessPayoutTransfer#transfer! with multiple tax rates applying creates bank account entries for each different tax rate","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":189,"run_time":0.570869837,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:2:9:2:1]","description":"creates audit entries for all transactions","full_description":"GocardlessPayoutTransfer#transfer! with multiple tax rates applying with audit trail enabled creates audit entries for all transactions","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":202,"run_time":0.516805304,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:2:9:2:2]","description":"creates audit entries when there is no finance charges created","full_description":"GocardlessPayoutTransfer#transfer! with multiple tax rates applying with audit trail enabled creates audit entries when there is no finance charges created","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":263,"run_time":0.295683868,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes/send_email_integration_spec.rb[1:1:1:1]","description":"returns success with an empty body","full_description":"Api::CreditNotes::SendEmailController#create when the email can successfully be sent returns success with an empty body","status":"passed","file_path":"./spec/requests/api/credit_notes/send_email_integration_spec.rb","line_number":46,"run_time":0.47083232,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes/send_email_integration_spec.rb[1:1:1:2:1]","description":"responds with bad request","full_description":"Api::CreditNotes::SendEmailController#create when the email can successfully be sent with an invalid credit note responds with bad request","status":"passed","file_path":"./spec/requests/api/credit_notes/send_email_integration_spec.rb","line_number":74,"run_time":0.504690935,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes/send_email_integration_spec.rb[1:1:1:3:1]","description":"responds with bad request and does not send the email","full_description":"Api::CreditNotes::SendEmailController#create when the email can successfully be sent with an empty credit note responds with bad request and does not send the email","status":"passed","file_path":"./spec/requests/api/credit_notes/send_email_integration_spec.rb","line_number":90,"run_time":0.901007825,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes/send_email_integration_spec.rb[1:1:1:4:1]","description":"responds with bad request","full_description":"Api::CreditNotes::SendEmailController#create when the email can successfully be sent with a non-sendable credit note responds with bad request","status":"passed","file_path":"./spec/requests/api/credit_notes/send_email_integration_spec.rb","line_number":102,"run_time":0.324541697,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes/send_email_integration_spec.rb[1:1:1:5:1]","description":"returns a forbidden status does not send the email","full_description":"Api::CreditNotes::SendEmailController#create when the email can successfully be sent when unauthorised returns a forbidden status does not send the email","status":"passed","file_path":"./spec/requests/api/credit_notes/send_email_integration_spec.rb","line_number":115,"run_time":0.279957842,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes/send_email_integration_spec.rb[1:1:1:6:1]","description":"it reports an error","full_description":"Api::CreditNotes::SendEmailController#create when the email can successfully be sent with blocked recipients it reports an error","status":"passed","file_path":"./spec/requests/api/credit_notes/send_email_integration_spec.rb","line_number":148,"run_time":0.46800845,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes/send_email_integration_spec.rb[1:1:1:7:1:1]","description":"returns 404 resource not found error","full_description":"Api::CreditNotes::SendEmailController#create when the email can successfully be sent with right permission_level and unprocessed attachments containing invalid file ID returns 404 resource not found error","status":"passed","file_path":"./spec/requests/api/credit_notes/send_email_integration_spec.rb","line_number":164,"run_time":0.27221766,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes/send_email_integration_spec.rb[1:1:1:7:2:1]","description":"returns 422 unprocessable entity error","full_description":"Api::CreditNotes::SendEmailController#create when the email can successfully be sent with right permission_level and unprocessed attachments containing base64 encoded attributes and file_id in a single attachment object returns 422 unprocessable entity error","status":"passed","file_path":"./spec/requests/api/credit_notes/send_email_integration_spec.rb","line_number":186,"run_time":0.320213855,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes/send_email_integration_spec.rb[1:1:1:7:3:1]","description":"where data attribute is missing returns 422 unprocessable entity error","full_description":"Api::CreditNotes::SendEmailController#create when the email can successfully be sent with right permission_level and unprocessed attachments containing invalid attachment payload where data attribute is missing returns 422 unprocessable entity error","status":"passed","file_path":"./spec/requests/api/credit_notes/send_email_integration_spec.rb","line_number":199,"run_time":0.288283829,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes/send_email_integration_spec.rb[1:1:1:7:4:1]","description":"returns 422 unprocessable entity error","full_description":"Api::CreditNotes::SendEmailController#create when the email can successfully be sent with right permission_level and unprocessed attachments containing attachment greater than 5MB returns 422 unprocessable entity error","status":"passed","file_path":"./spec/requests/api/credit_notes/send_email_integration_spec.rb","line_number":215,"run_time":0.605159536,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes/send_email_integration_spec.rb[1:1:1:7:5:1]","description":"includes all attachment types in the email","full_description":"Api::CreditNotes::SendEmailController#create when the email can successfully be sent with right permission_level and unprocessed attachments payload contains valid unprocessed attachments includes all attachment types in the email","status":"passed","file_path":"./spec/requests/api/credit_notes/send_email_integration_spec.rb","line_number":245,"run_time":0.676046258,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb[1:1:1:1:1]","description":"records details of the payment","full_description":"PaymentPortal::Stripe::PaymentController create when initiating a payment when payment is successful records details of the payment","status":"passed","file_path":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb","line_number":21,"run_time":0.295875118,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb[1:1:1:1:2]","description":"sends an email","full_description":"PaymentPortal::Stripe::PaymentController create when initiating a payment when payment is successful sends an email","status":"passed","file_path":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb","line_number":27,"run_time":0.388919208,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb[1:1:1:1:3]","description":"publishes invoice paid by events","full_description":"PaymentPortal::Stripe::PaymentController create when initiating a payment when payment is successful publishes invoice paid by events","status":"passed","file_path":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb","line_number":32,"run_time":0.223097279,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb[1:1:1:1:4]","description":"redirects back to the invoice","full_description":"PaymentPortal::Stripe::PaymentController create when initiating a payment when payment is successful redirects back to the invoice","status":"passed","file_path":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb","line_number":64,"run_time":0.205791232,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb[1:1:1:2:1]","description":"responds with details of the payment intent","full_description":"PaymentPortal::Stripe::PaymentController create when initiating a payment when 3D-Secure authentication is required responds with details of the payment intent","status":"passed","file_path":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb","line_number":78,"run_time":0.212204284,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb[1:1:1:2:2]","description":"does not create a stripe_payment","full_description":"PaymentPortal::Stripe::PaymentController create when initiating a payment when 3D-Secure authentication is required does not create a stripe_payment","status":"passed","file_path":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb","line_number":82,"run_time":0.200024324,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb[1:1:1:2:3]","description":"does not send an email","full_description":"PaymentPortal::Stripe::PaymentController create when initiating a payment when 3D-Secure authentication is required does not send an email","status":"passed","file_path":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb","line_number":86,"run_time":0.224494659,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb[1:1:1:3:1]","description":"responds with an error message","full_description":"PaymentPortal::Stripe::PaymentController create when initiating a payment when payment is declined responds with an error message","status":"passed","file_path":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb","line_number":100,"run_time":0.24626428,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb[1:1:1:4:1]","description":"responds with an error message","full_description":"PaymentPortal::Stripe::PaymentController create when initiating a payment when Stripe responds with an error responds with an error message","status":"passed","file_path":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb","line_number":114,"run_time":0.243114554,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb[1:1:1:5:1]","description":"responds with an error message","full_description":"PaymentPortal::Stripe::PaymentController create when initiating a payment when any other error is thrown responds with an error message","status":"passed","file_path":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb","line_number":128,"run_time":0.202233386,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb[1:1:1:6:1]","description":"responds with an error message","full_description":"PaymentPortal::Stripe::PaymentController create when initiating a payment when the request format is not a turbo stream responds with an error message","status":"passed","file_path":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb","line_number":142,"run_time":0.22321799,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb[1:2:1:1:1]","description":"records details of the payment","full_description":"PaymentPortal::Stripe::PaymentController confirm when confirming payment and confirmation is successful records details of the payment","status":"passed","file_path":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb","line_number":167,"run_time":0.247783619,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb[1:2:1:1:2]","description":"sends an email","full_description":"PaymentPortal::Stripe::PaymentController confirm when confirming payment and confirmation is successful sends an email","status":"passed","file_path":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb","line_number":173,"run_time":0.379368888,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb[1:2:1:1:3]","description":"redirects back to the invoice","full_description":"PaymentPortal::Stripe::PaymentController confirm when confirming payment and confirmation is successful redirects back to the invoice","status":"passed","file_path":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb","line_number":178,"run_time":0.242741392,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb[1:2:1:2:1]","description":"sets an error message in the flash and redirects","full_description":"PaymentPortal::Stripe::PaymentController confirm when confirming payment and payment is declined upon confirmation sets an error message in the flash and redirects","status":"passed","file_path":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb","line_number":192,"run_time":0.224233283,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb[1:2:1:2:2]","description":"does not create a stripe_payment","full_description":"PaymentPortal::Stripe::PaymentController confirm when confirming payment and payment is declined upon confirmation does not create a stripe_payment","status":"passed","file_path":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb","line_number":197,"run_time":0.187155263,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb[1:2:1:2:3]","description":"does not send an email","full_description":"PaymentPortal::Stripe::PaymentController confirm when confirming payment and payment is declined upon confirmation does not send an email","status":"passed","file_path":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb","line_number":201,"run_time":0.194094546,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb[1:2:2:1]","description":"does not create a stripe_payment","full_description":"PaymentPortal::Stripe::PaymentController confirm when payment was taken successfully in the first request does not create a stripe_payment","status":"passed","file_path":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb","line_number":216,"run_time":0.1870796,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb[1:2:2:2]","description":"does not send an email","full_description":"PaymentPortal::Stripe::PaymentController confirm when payment was taken successfully in the first request does not send an email","status":"passed","file_path":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb","line_number":220,"run_time":0.207495051,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb[1:2:2:3]","description":"redirects back to the invoice","full_description":"PaymentPortal::Stripe::PaymentController confirm when payment was taken successfully in the first request redirects back to the invoice","status":"passed","file_path":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb","line_number":224,"run_time":0.224982388,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb[1:2:3:1]","description":"sets an error message in the flash and redirects","full_description":"PaymentPortal::Stripe::PaymentController confirm when Stripe responds with an error sets an error message in the flash and redirects","status":"passed","file_path":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb","line_number":238,"run_time":0.206591271,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb[1:2:4:1]","description":"sets an error message in the flash and redirects","full_description":"PaymentPortal::Stripe::PaymentController confirm when any other error occurs sets an error message in the flash and redirects","status":"passed","file_path":"./spec/controllers/payment_portal/stripe/payment_controller_spec.rb","line_number":253,"run_time":0.190539751,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/accounts_controller_spec.rb[1:1:1]","description":"returns the relevant accounts with correct names for Money Received from User","full_description":"Api::Banking::AccountsController for UK Limited company returns the relevant accounts with correct names for Money Received from User","status":"passed","file_path":"./spec/controllers/api/banking/accounts_controller_spec.rb","line_number":14,"run_time":0.105707279,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/accounts_controller_spec.rb[1:1:2]","description":"returns the relevant accounts with correct names for Money Paid to User","full_description":"Api::Banking::AccountsController for UK Limited company returns the relevant accounts with correct names for Money Paid to User","status":"passed","file_path":"./spec/controllers/api/banking/accounts_controller_spec.rb","line_number":22,"run_time":0.093054431,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/accounts_controller_spec.rb[1:1:3]","description":"returns the relevant accounts with correct names for Other Money In","full_description":"Api::Banking::AccountsController for UK Limited company returns the relevant accounts with correct names for Other Money In","status":"passed","file_path":"./spec/controllers/api/banking/accounts_controller_spec.rb","line_number":33,"run_time":0.076921085,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/accounts_controller_spec.rb[1:1:4]","description":"returns the relevant accounts with correct names for Other Money Out","full_description":"Api::Banking::AccountsController for UK Limited company returns the relevant accounts with correct names for Other Money Out","status":"passed","file_path":"./spec/controllers/api/banking/accounts_controller_spec.rb","line_number":47,"run_time":0.083982463,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/accounts_controller_spec.rb[1:2:1]","description":"returns the relevant accounts with correct names for Refund","full_description":"Api::Banking::AccountsController for UK Sole Trader company returns the relevant accounts with correct names for Refund","status":"passed","file_path":"./spec/controllers/api/banking/accounts_controller_spec.rb","line_number":63,"run_time":0.14934088,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/accounts_controller_spec.rb[1:2:2]","description":"returns the relevant accounts with correct names for Payment","full_description":"Api::Banking::AccountsController for UK Sole Trader company returns the relevant accounts with correct names for Payment","status":"passed","file_path":"./spec/controllers/api/banking/accounts_controller_spec.rb","line_number":72,"run_time":0.21041405,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/accounts_controller_spec.rb[1:2:3]","description":"returns the relevant accounts with correct names for Money Received from User","full_description":"Api::Banking::AccountsController for UK Sole Trader company returns the relevant accounts with correct names for Money Received from User","status":"passed","file_path":"./spec/controllers/api/banking/accounts_controller_spec.rb","line_number":81,"run_time":0.179699697,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/accounts_controller_spec.rb[1:2:5]","description":"returns the relevant accounts with correct names for Other Money In","full_description":"Api::Banking::AccountsController for UK Sole Trader company returns the relevant accounts with correct names for Other Money In","status":"passed","file_path":"./spec/controllers/api/banking/accounts_controller_spec.rb","line_number":96,"run_time":0.161858038,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/accounts_controller_spec.rb[1:2:6]","description":"returns the relevant accounts with correct names for Other Money Out","full_description":"Api::Banking::AccountsController for UK Sole Trader company returns the relevant accounts with correct names for Other Money Out","status":"passed","file_path":"./spec/controllers/api/banking/accounts_controller_spec.rb","line_number":109,"run_time":0.171013429,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/accounts_controller_spec.rb[1:2:4:1]","description":"omits Net salary and bonuses for Money Paid to User","full_description":"Api::Banking::AccountsController for UK Sole Trader company when the company does not have employees omits Net salary and bonuses for Money Paid to User","status":"passed","file_path":"./spec/controllers/api/banking/accounts_controller_spec.rb","line_number":88,"run_time":0.173005969,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/accounts_controller_spec.rb[1:2:7:1]","description":"includes Net salary and bonuses for Money Paid to User","full_description":"Api::Banking::AccountsController for UK Sole Trader company when the company has employees includes Net salary and bonuses for Money Paid to User","status":"passed","file_path":"./spec/controllers/api/banking/accounts_controller_spec.rb","line_number":123,"run_time":0.182187648,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/accounts_controller_spec.rb[1:2:7:2]","description":"returns the relevant accounts with correct names for Refund","full_description":"Api::Banking::AccountsController for UK Sole Trader company when the company has employees returns the relevant accounts with correct names for Refund","status":"passed","file_path":"./spec/controllers/api/banking/accounts_controller_spec.rb","line_number":131,"run_time":0.171806316,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/accounts_controller_spec.rb[1:2:7:3]","description":"returns the relevant accounts with correct names for Payment","full_description":"Api::Banking::AccountsController for UK Sole Trader company when the company has employees returns the relevant accounts with correct names for Payment","status":"passed","file_path":"./spec/controllers/api/banking/accounts_controller_spec.rb","line_number":141,"run_time":0.175820891,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/accounts_controller_spec.rb[1:3:1]","description":"returns the relevant accounts with correct names for Refund","full_description":"Api::Banking::AccountsController for UK Partnership company returns the relevant accounts with correct names for Refund","status":"passed","file_path":"./spec/controllers/api/banking/accounts_controller_spec.rb","line_number":157,"run_time":0.195863956,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/accounts_controller_spec.rb[1:3:2]","description":"returns the relevant accounts with correct names for Payment","full_description":"Api::Banking::AccountsController for UK Partnership company returns the relevant accounts with correct names for Payment","status":"passed","file_path":"./spec/controllers/api/banking/accounts_controller_spec.rb","line_number":167,"run_time":0.169358299,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/accounts_controller_spec.rb[1:3:3]","description":"returns the relevant accounts with correct names for Money Received from User","full_description":"Api::Banking::AccountsController for UK Partnership company returns the relevant accounts with correct names for Money Received from User","status":"passed","file_path":"./spec/controllers/api/banking/accounts_controller_spec.rb","line_number":177,"run_time":0.164419232,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/accounts_controller_spec.rb[1:3:4]","description":"returns the relevant accounts with correct names for Money Paid to User","full_description":"Api::Banking::AccountsController for UK Partnership company returns the relevant accounts with correct names for Money Paid to User","status":"passed","file_path":"./spec/controllers/api/banking/accounts_controller_spec.rb","line_number":183,"run_time":0.174885249,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/accounts_controller_spec.rb[1:3:5]","description":"returns the relevant accounts with correct names for Other Money In","full_description":"Api::Banking::AccountsController for UK Partnership company returns the relevant accounts with correct names for Other Money In","status":"passed","file_path":"./spec/controllers/api/banking/accounts_controller_spec.rb","line_number":192,"run_time":0.166006338,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/accounts_controller_spec.rb[1:3:6]","description":"returns the relevant accounts with correct names for Other Money Out","full_description":"Api::Banking::AccountsController for UK Partnership company returns the relevant accounts with correct names for Other Money Out","status":"passed","file_path":"./spec/controllers/api/banking/accounts_controller_spec.rb","line_number":205,"run_time":0.151218216,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/accounts_controller_spec.rb[1:4:1]","description":"returns the relevant accounts with correct names for Money Received from User","full_description":"Api::Banking::AccountsController for Universal company returns the relevant accounts with correct names for Money Received from User","status":"passed","file_path":"./spec/controllers/api/banking/accounts_controller_spec.rb","line_number":221,"run_time":0.150119177,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/accounts_controller_spec.rb[1:4:2]","description":"returns the relevant accounts with correct names for Money Paid to User","full_description":"Api::Banking::AccountsController for Universal company returns the relevant accounts with correct names for Money Paid to User","status":"passed","file_path":"./spec/controllers/api/banking/accounts_controller_spec.rb","line_number":228,"run_time":0.196041158,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/accounts_controller_spec.rb[1:4:3]","description":"returns the relevant accounts with correct names for Other Money In","full_description":"Api::Banking::AccountsController for Universal company returns the relevant accounts with correct names for Other Money In","status":"passed","file_path":"./spec/controllers/api/banking/accounts_controller_spec.rb","line_number":237,"run_time":0.173165676,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/accounts_controller_spec.rb[1:4:4]","description":"returns the relevant accounts with correct names for Other Money Out","full_description":"Api::Banking::AccountsController for Universal company returns the relevant accounts with correct names for Other Money Out","status":"passed","file_path":"./spec/controllers/api/banking/accounts_controller_spec.rb","line_number":250,"run_time":0.161018194,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/accounts_controller_spec.rb[1:5:1]","description":"returns the relevant accounts with correct names for Money Received from User","full_description":"Api::Banking::AccountsController for US company returns the relevant accounts with correct names for Money Received from User","status":"passed","file_path":"./spec/controllers/api/banking/accounts_controller_spec.rb","line_number":266,"run_time":0.20733903,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/accounts_controller_spec.rb[1:5:2]","description":"returns the relevant accounts with correct names for Money Paid to User","full_description":"Api::Banking::AccountsController for US company returns the relevant accounts with correct names for Money Paid to User","status":"passed","file_path":"./spec/controllers/api/banking/accounts_controller_spec.rb","line_number":273,"run_time":0.155269563,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/accounts_controller_spec.rb[1:5:3]","description":"returns the relevant accounts with correct names for Other Money In","full_description":"Api::Banking::AccountsController for US company returns the relevant accounts with correct names for Other Money In","status":"passed","file_path":"./spec/controllers/api/banking/accounts_controller_spec.rb","line_number":282,"run_time":0.181867264,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/accounts_controller_spec.rb[1:5:4]","description":"returns the relevant accounts with correct names for Other Money Out","full_description":"Api::Banking::AccountsController for US company returns the relevant accounts with correct names for Other Money Out","status":"passed","file_path":"./spec/controllers/api/banking/accounts_controller_spec.rb","line_number":295,"run_time":0.151107315,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/accounts_controller_spec.rb[1:6:1:1:1]","description":"returns the relevant accounts with correct names for Payment","full_description":"Api::Banking::AccountsController Banquo suggested categories When the bank transaction is supplied and there are no suggested categories returns the relevant accounts with correct names for Payment","status":"passed","file_path":"./spec/controllers/api/banking/accounts_controller_spec.rb","line_number":317,"run_time":0.192955378,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/accounts_controller_spec.rb[1:6:1:2:1]","description":"returns the relevant accounts with correct names for Payment","full_description":"Api::Banking::AccountsController Banquo suggested categories When the bank transaction is supplied and there are suggested categories for the transaction returns the relevant accounts with correct names for Payment","status":"passed","file_path":"./spec/controllers/api/banking/accounts_controller_spec.rb","line_number":333,"run_time":0.202728713,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/accounts_controller_spec.rb[1:6:1:2:2]","description":"has banquo scores present in the accounts payload","full_description":"Api::Banking::AccountsController Banquo suggested categories When the bank transaction is supplied and there are suggested categories for the transaction has banquo scores present in the accounts payload","status":"passed","file_path":"./spec/controllers/api/banking/accounts_controller_spec.rb","line_number":340,"run_time":0.194080086,"pending_message":null,"screenshot":null},{"id":"./spec/requests/signup_integration_spec.rb[1:1]","description":"create with valid details","full_description":"SignupIntegration create with valid details","status":"passed","file_path":"./spec/requests/signup_integration_spec.rb","line_number":12,"run_time":0.290306728,"pending_message":null,"screenshot":null},{"id":"./spec/requests/signup_integration_spec.rb[1:6]","description":"signup form escapes referrer name","full_description":"SignupIntegration signup form escapes referrer name","status":"passed","file_path":"./spec/requests/signup_integration_spec.rb","line_number":122,"run_time":0.97871014,"pending_message":null,"screenshot":null},{"id":"./spec/requests/signup_integration_spec.rb[1:7]","description":"signup form doesn't show company name without feature switch","full_description":"SignupIntegration signup form doesn't show company name without feature switch","status":"passed","file_path":"./spec/requests/signup_integration_spec.rb","line_number":130,"run_time":0.152460652,"pending_message":null,"screenshot":null},{"id":"./spec/requests/signup_integration_spec.rb[1:2:1]","description":"is displayed and correctly applied","full_description":"SignupIntegration when signing up with a promotion is displayed and correctly applied","status":"passed","file_path":"./spec/requests/signup_integration_spec.rb","line_number":34,"run_time":0.285358235,"pending_message":null,"screenshot":null},{"id":"./spec/requests/signup_integration_spec.rb[1:2:2]","description":"is displayed and correctly applied when it is a free trial trial code","full_description":"SignupIntegration when signing up with a promotion is displayed and correctly applied when it is a free trial trial code","status":"passed","file_path":"./spec/requests/signup_integration_spec.rb","line_number":43,"run_time":0.339221635,"pending_message":null,"screenshot":null},{"id":"./spec/requests/signup_integration_spec.rb[1:3:1]","description":"is displayed and correctly applied","full_description":"SignupIntegration when signing up with an affiliate code is displayed and correctly applied","status":"passed","file_path":"./spec/requests/signup_integration_spec.rb","line_number":58,"run_time":0.278810443,"pending_message":null,"screenshot":null},{"id":"./spec/requests/signup_integration_spec.rb[1:4:1]","description":"assigns the reseller to the company","full_description":"SignupIntegration when signing up with a reseller code assigns the reseller to the company","status":"passed","file_path":"./spec/requests/signup_integration_spec.rb","line_number":71,"run_time":0.212260706,"pending_message":null,"screenshot":null},{"id":"./spec/requests/signup_integration_spec.rb[1:4:2]","description":"ignores an invalid reseller code","full_description":"SignupIntegration when signing up with a reseller code ignores an invalid reseller code","status":"passed","file_path":"./spec/requests/signup_integration_spec.rb","line_number":81,"run_time":0.217887224,"pending_message":null,"screenshot":null},{"id":"./spec/requests/signup_integration_spec.rb[1:5:1]","description":"redirects to the thanks page","full_description":"SignupIntegration signup triggering spam honeypot redirects to the thanks page","status":"passed","file_path":"./spec/requests/signup_integration_spec.rb","line_number":96,"run_time":0.038162523,"pending_message":null,"screenshot":null},{"id":"./spec/requests/signup_integration_spec.rb[1:5:2]","description":"allows thanks page to be loaded due to flash signup id","full_description":"SignupIntegration signup triggering spam honeypot allows thanks page to be loaded due to flash signup id","status":"passed","file_path":"./spec/requests/signup_integration_spec.rb","line_number":100,"run_time":0.796320332,"pending_message":null,"screenshot":null},{"id":"./spec/requests/signup_integration_spec.rb[1:5:3]","description":"still loads thanks page after a reload","full_description":"SignupIntegration signup triggering spam honeypot still loads thanks page after a reload","status":"passed","file_path":"./spec/requests/signup_integration_spec.rb","line_number":105,"run_time":0.104971095,"pending_message":null,"screenshot":null},{"id":"./spec/requests/signup_integration_spec.rb[1:5:4]","description":"doesn't load thanks page if user navigates away from it and returns","full_description":"SignupIntegration signup triggering spam honeypot doesn't load thanks page if user navigates away from it and returns","status":"passed","file_path":"./spec/requests/signup_integration_spec.rb","line_number":112,"run_time":0.086411987,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/mettle_partner_api_company_provisioner_spec.rb[1:1:1:1]","description":"creates a company","full_description":"Signups::MettlePartnerApiCompanyProvisioner#save! when company and associations are valid creates a company","status":"passed","file_path":"./spec/freeagent/signups/mettle_partner_api_company_provisioner_spec.rb","line_number":24,"run_time":0.622439515,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/mettle_partner_api_company_provisioner_spec.rb[1:1:1:2]","description":"creates an ApiBankFeed","full_description":"Signups::MettlePartnerApiCompanyProvisioner#save! when company and associations are valid creates an ApiBankFeed","status":"passed","file_path":"./spec/freeagent/signups/mettle_partner_api_company_provisioner_spec.rb","line_number":28,"run_time":0.601305871,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/mettle_partner_api_company_provisioner_spec.rb[1:1:1:3]","description":"publishes API Bank Feed events","full_description":"Signups::MettlePartnerApiCompanyProvisioner#save! when company and associations are valid publishes API Bank Feed events","status":"passed","file_path":"./spec/freeagent/signups/mettle_partner_api_company_provisioner_spec.rb","line_number":32,"run_time":0.656837985,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/mettle_partner_api_company_provisioner_spec.rb[1:1:1:4]","description":"marks FFS task completion","full_description":"Signups::MettlePartnerApiCompanyProvisioner#save! when company and associations are valid marks FFS task completion","status":"passed","file_path":"./spec/freeagent/signups/mettle_partner_api_company_provisioner_spec.rb","line_number":36,"run_time":0.598414549,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/company_export_job_spec.rb[1:1:1:1]","description":"does not error","full_description":"CompanyExportJob#perform as a user does not error","status":"passed","file_path":"./spec/jobs/company_export_job_spec.rb","line_number":13,"run_time":0.16918715,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/company_export_job_spec.rb[1:1:1:2]","description":"invokes company exporter","full_description":"CompanyExportJob#perform as a user invokes company exporter","status":"passed","file_path":"./spec/jobs/company_export_job_spec.rb","line_number":18,"run_time":0.107936965,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/company_export_job_spec.rb[1:1:1:3]","description":"queues a valid email job","full_description":"CompanyExportJob#perform as a user queues a valid email job","status":"passed","file_path":"./spec/jobs/company_export_job_spec.rb","line_number":25,"run_time":0.179987692,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/company_export_job_spec.rb[1:1:2:1]","description":"does not error","full_description":"CompanyExportJob#perform as an account manager does not error","status":"passed","file_path":"./spec/jobs/company_export_job_spec.rb","line_number":45,"run_time":0.206822214,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/company_export_job_spec.rb[1:1:2:2]","description":"invokes company exporter","full_description":"CompanyExportJob#perform as an account manager invokes company exporter","status":"passed","file_path":"./spec/jobs/company_export_job_spec.rb","line_number":51,"run_time":0.14981111,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/company_export_job_spec.rb[1:1:2:3]","description":"queues an email job","full_description":"CompanyExportJob#perform as an account manager queues an email job","status":"passed","file_path":"./spec/jobs/company_export_job_spec.rb","line_number":59,"run_time":0.206841412,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/company_export_job_spec.rb[1:1:2:4]","description":"publishes events and metrics","full_description":"CompanyExportJob#perform as an account manager publishes events and metrics","status":"passed","file_path":"./spec/jobs/company_export_job_spec.rb","line_number":65,"run_time":0.196947525,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/company_export_job_spec.rb[1:1:2:5]","description":"send an error if there is an error with tracking","full_description":"CompanyExportJob#perform as an account manager send an error if there is an error with tracking","status":"passed","file_path":"./spec/jobs/company_export_job_spec.rb","line_number":81,"run_time":0.237792655,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/tax_year20172018/student_loans.feature[1:1:1]","description":"Given a UK sole trader with company start date: 2017-01-31, first accounting year end: 2018-04-05 -\u003e And the customer opts into the other uk income section for 2017/18 -\u003e And the customer fills in the following boxes for 2017/18: -\u003e When the customer opts into the student loans section for 2017/18 -\u003e Then the SA302 calculation table for 2017/18 will include \"Student Loan repayments (plan 01)\"","full_description":"Self Assessment Student Loan Plan Type Default: No plan type selected Given a UK sole trader with company start date: 2017-01-31, first accounting year end: 2018-04-05 -\u003e And the customer opts into the other uk income section for 2017/18 -\u003e And the customer fills in the following boxes for 2017/18: -\u003e When the customer opts into the student loans section for 2017/18 -\u003e Then the SA302 calculation table for 2017/18 will include \"Student Loan repayments (plan 01)\"","status":"passed","file_path":"./spec/acceptance/self_assessment/tax_year20172018/student_loans.feature","line_number":10,"run_time":0.72011341,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/tax_year20172018/student_loans.feature[1:2:1]","description":"Given a UK sole trader with company start date: 2017-01-31, first accounting year end: 2018-04-05 -\u003e And the customer opts into the other uk income section for 2017/18 -\u003e And the customer fills in the following boxes for 2017/18: -\u003e When the customer opts into the student loans section for 2017/18 -\u003e And the customer fills in the following boxes for 2017/18: -\u003e Then the SA302 calculation table for 2017/18 will include \"Student Loan repayments (plan 01)\"","full_description":"Self Assessment Student Loan Plan Type Student Loan Plan Type 01 is selected Given a UK sole trader with company start date: 2017-01-31, first accounting year end: 2018-04-05 -\u003e And the customer opts into the other uk income section for 2017/18 -\u003e And the customer fills in the following boxes for 2017/18: -\u003e When the customer opts into the student loans section for 2017/18 -\u003e And the customer fills in the following boxes for 2017/18: -\u003e Then the SA302 calculation table for 2017/18 will include \"Student Loan repayments (plan 01)\"","status":"passed","file_path":"./spec/acceptance/self_assessment/tax_year20172018/student_loans.feature","line_number":14,"run_time":0.774079977,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/tax_year20172018/student_loans.feature[1:3:1]","description":"Given a UK sole trader with company start date: 2017-01-31, first accounting year end: 2018-04-05 -\u003e And the customer opts into the other uk income section for 2017/18 -\u003e And the customer fills in the following boxes for 2017/18: -\u003e When the customer opts into the student loans section for 2017/18 -\u003e And the customer fills in the following boxes for 2017/18: -\u003e Then the SA302 calculation table for 2017/18 will include \"Student Loan repayments (plan 02)\"","full_description":"Self Assessment Student Loan Plan Type Student Loan Plan Type 02 is selected Given a UK sole trader with company start date: 2017-01-31, first accounting year end: 2018-04-05 -\u003e And the customer opts into the other uk income section for 2017/18 -\u003e And the customer fills in the following boxes for 2017/18: -\u003e When the customer opts into the student loans section for 2017/18 -\u003e And the customer fills in the following boxes for 2017/18: -\u003e Then the SA302 calculation table for 2017/18 will include \"Student Loan repayments (plan 02)\"","status":"passed","file_path":"./spec/acceptance/self_assessment/tax_year20172018/student_loans.feature","line_number":21,"run_time":0.761560278,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/base_spec.rb[1:10]","description":"returns an exception if given a non-Date type as date","full_description":"Cashflow::Payment::Base returns an exception if given a non-Date type as date","status":"passed","file_path":"./spec/freeagent/cashflow/payment/base_spec.rb","line_number":123,"run_time":0.005720108,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/base_spec.rb[1:1:1:1]","description":"is expected to eq #\u003cCashflow::Payment::Base:0x00007fe461b65b78 @original_date=Wed, 22 Apr 2020, @amount=123, @source_it...nil, property_id: nil, is_paid: nil, include_payment_button: false\u003e, @context=#\u003cDouble (anonymous)\u003e\u003e","full_description":"Cashflow::Payment::Base#payments_on #== is expected to eq #\u003cCashflow::Payment::Base:0x00007fe461b65b78 @original_date=Wed, 22 Apr 2020, @amount=123, @source_it...nil, property_id: nil, is_paid: nil, include_payment_button: false\u003e, @context=#\u003cDouble (anonymous)\u003e\u003e","status":"passed","file_path":"./spec/freeagent/cashflow/payment/base_spec.rb","line_number":19,"run_time":0.119716539,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/base_spec.rb[1:1:1:2]","description":"is expected not to eq #\u003cCashflow::Payment::Base:0x00007fe4617409a8 @original_date=Wed, 22 Apr 2020, @amount=123, @source_it...nil, property_id: nil, is_paid: nil, include_payment_button: false\u003e, @context=#\u003cDouble (anonymous)\u003e\u003e","full_description":"Cashflow::Payment::Base#payments_on #== is expected not to eq #\u003cCashflow::Payment::Base:0x00007fe4617409a8 @original_date=Wed, 22 Apr 2020, @amount=123, @source_it...nil, property_id: nil, is_paid: nil, include_payment_button: false\u003e, @context=#\u003cDouble (anonymous)\u003e\u003e","status":"passed","file_path":"./spec/freeagent/cashflow/payment/base_spec.rb","line_number":20,"run_time":0.199314228,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/base_spec.rb[1:1:2:1:1]","description":"is expected to equal true","full_description":"Cashflow::Payment::Base#payments_on #incoming? for positive amounts is expected to equal true","status":"passed","file_path":"./spec/freeagent/cashflow/payment/base_spec.rb","line_number":28,"run_time":0.004788439,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/base_spec.rb[1:1:2:2:1]","description":"is expected to equal false","full_description":"Cashflow::Payment::Base#payments_on #incoming? for 0 amount is expected to equal false","status":"passed","file_path":"./spec/freeagent/cashflow/payment/base_spec.rb","line_number":33,"run_time":0.004446565,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/base_spec.rb[1:1:2:3:1]","description":"is expected to equal false","full_description":"Cashflow::Payment::Base#payments_on #incoming? for negative amounts is expected to equal false","status":"passed","file_path":"./spec/freeagent/cashflow/payment/base_spec.rb","line_number":38,"run_time":0.004022736,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/base_spec.rb[1:2:1]","description":"returns the shared line_item partial","full_description":"Cashflow::Payment::Base#to_partial_path returns the shared line_item partial","status":"passed","file_path":"./spec/freeagent/cashflow/payment/base_spec.rb","line_number":44,"run_time":0.098719246,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/base_spec.rb[1:3:1]","description":"returns false by default","full_description":"Cashflow::Payment::Base is_expected? returns false by default","status":"passed","file_path":"./spec/freeagent/cashflow/payment/base_spec.rb","line_number":50,"run_time":0.096271681,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/base_spec.rb[1:4:1:1]","description":"returns the original date","full_description":"Cashflow::Payment::Base#due_date given a future date returns the original date","status":"passed","file_path":"./spec/freeagent/cashflow/payment/base_spec.rb","line_number":59,"run_time":0.100245681,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/base_spec.rb[1:4:2:1]","description":"returns the todays date","full_description":"Cashflow::Payment::Base#due_date given today returns the todays date","status":"passed","file_path":"./spec/freeagent/cashflow/payment/base_spec.rb","line_number":67,"run_time":0.097745267,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/base_spec.rb[1:4:3:1]","description":"returns tomorrow","full_description":"Cashflow::Payment::Base#due_date given a past date returns tomorrow","status":"passed","file_path":"./spec/freeagent/cashflow/payment/base_spec.rb","line_number":75,"run_time":0.114115055,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/base_spec.rb[1:5:1]","description":"returns false","full_description":"Cashflow::Payment::Base#recurring? returns false","status":"passed","file_path":"./spec/freeagent/cashflow/payment/base_spec.rb","line_number":82,"run_time":0.113901043,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/base_spec.rb[1:6:1]","description":"raises a NotImplementedError error","full_description":"Cashflow::Payment::Base#fingerprint raises a NotImplementedError error","status":"passed","file_path":"./spec/freeagent/cashflow/payment/base_spec.rb","line_number":88,"run_time":0.118673853,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/base_spec.rb[1:7:1]","description":"returns the amount given at initialization","full_description":"Cashflow::Payment::Base#amount returns the amount given at initialization","status":"passed","file_path":"./spec/freeagent/cashflow/payment/base_spec.rb","line_number":94,"run_time":0.117966714,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/base_spec.rb[1:7:2:1]","description":"returns zero","full_description":"Cashflow::Payment::Base#amount if excluded? is true returns zero","status":"passed","file_path":"./spec/freeagent/cashflow/payment/base_spec.rb","line_number":101,"run_time":0.112791947,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/base_spec.rb[1:8:1]","description":"returns false","full_description":"Cashflow::Payment::Base#excluded? returns false","status":"passed","file_path":"./spec/freeagent/cashflow/payment/base_spec.rb","line_number":108,"run_time":0.131836833,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/base_spec.rb[1:9:1]","description":"returns the inverse of #excluded?","full_description":"Cashflow::Payment::Base#included? returns the inverse of #excluded?","status":"passed","file_path":"./spec/freeagent/cashflow/payment/base_spec.rb","line_number":114,"run_time":0.132590697,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/base_spec.rb[1:11:1:1]","description":"returns false","full_description":"Cashflow::Payment::Base overdue? expected date has been changed returns false","status":"passed","file_path":"./spec/freeagent/cashflow/payment/base_spec.rb","line_number":135,"run_time":0.110581299,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/base_spec.rb[1:11:2:1:1]","description":"returns true","full_description":"Cashflow::Payment::Base overdue? expected date has NOT been changed date is in the past returns true","status":"passed","file_path":"./spec/freeagent/cashflow/payment/base_spec.rb","line_number":148,"run_time":0.108457135,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/base_spec.rb[1:11:2:2:1]","description":"returns false","full_description":"Cashflow::Payment::Base overdue? expected date has NOT been changed date is NOT in the past returns false","status":"passed","file_path":"./spec/freeagent/cashflow/payment/base_spec.rb","line_number":156,"run_time":0.145857938,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/yearly_spec.rb[1:1:1]","description":"returns true if everything was successful","full_description":"ProfitAndLoss::UiState::Yearly#store returns true if everything was successful","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/yearly_spec.rb","line_number":33,"run_time":0.092636946,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/yearly_spec.rb[1:1:2]","description":"stores the accounting period as a parameter in the rails cache","full_description":"ProfitAndLoss::UiState::Yearly#store stores the accounting period as a parameter in the rails cache","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/yearly_spec.rb","line_number":37,"run_time":0.08879575,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/yearly_spec.rb[1:1:3:1]","description":"returns false, as it couldn't be cached","full_description":"ProfitAndLoss::UiState::Yearly#store when the rails cache is unavailable returns false, as it couldn't be cached","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/yearly_spec.rb","line_number":50,"run_time":0.086135012,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/yearly_spec.rb[1:1:4:1]","description":"stores current year to date as a special symbol","full_description":"ProfitAndLoss::UiState::Yearly#store when storing current year to date stores current year to date as a special symbol","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/yearly_spec.rb","line_number":58,"run_time":0.08986575,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/yearly_spec.rb[1:2:1:1]","description":"returns the cached params","full_description":"ProfitAndLoss::UiState::Yearly#restore_or_default when there is an accounting period stored in the cache returns the cached params","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/yearly_spec.rb","line_number":79,"run_time":0.091588439,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/yearly_spec.rb[1:2:2:1]","description":"retrieves the same period if visited on the same day as it is stored","full_description":"ProfitAndLoss::UiState::Yearly#restore_or_default when current year to date is stored in the cache retrieves the same period if visited on the same day as it is stored","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/yearly_spec.rb","line_number":93,"run_time":0.084254105,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/yearly_spec.rb[1:2:2:2]","description":"retrieves an up-to-date current year if visited a few days later","full_description":"ProfitAndLoss::UiState::Yearly#restore_or_default when current year to date is stored in the cache retrieves an up-to-date current year if visited a few days later","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/yearly_spec.rb","line_number":99,"run_time":0.088338376,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/yearly_spec.rb[1:2:2:3]","description":"retrieves an up-to-date current year if visited in a later accounting year","full_description":"ProfitAndLoss::UiState::Yearly#restore_or_default when current year to date is stored in the cache retrieves an up-to-date current year if visited in a later accounting year","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/yearly_spec.rb","line_number":106,"run_time":0.124536516,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/yearly_spec.rb[1:2:3:1]","description":"returns the current year to date period as a default","full_description":"ProfitAndLoss::UiState::Yearly#restore_or_default when there is nothing stored in the cache returns the current year to date period as a default","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/yearly_spec.rb","line_number":119,"run_time":0.098788122,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/yearly_spec.rb[1:2:4:1]","description":"returns the current year to date period as a default","full_description":"ProfitAndLoss::UiState::Yearly#restore_or_default when the cache is unavailable returns the current year to date period as a default","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/yearly_spec.rb","line_number":133,"run_time":0.110992815,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/yearly_spec.rb[1:3:1:1]","description":"is expected to equal true","full_description":"ProfitAndLoss::UiState::Yearly#default_period? when the accounting_period matches the default accounting period for this report type is expected to equal true","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/yearly_spec.rb","line_number":146,"run_time":0.090947586,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/yearly_spec.rb[1:3:2:1]","description":"is expected to equal false","full_description":"ProfitAndLoss::UiState::Yearly#default_period? when the accounting_period does not match the default accounting period for this report type is expected to equal false","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/yearly_spec.rb","line_number":151,"run_time":0.089351849,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:67:1]","description":"has the status accessible by moss_status","full_description":"Invoice A MOSS invoice for a VAT-registered company has the status accessible by moss_status","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":1826,"run_time":0.12465721,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/demo_company_provisioner_spec.rb[1:3]","description":"throws an exception if we try to create a demo company without account manager","full_description":"Fapd::DemoCompanyProvisioner throws an exception if we try to create a demo company without account manager","status":"passed","file_path":"./spec/models/fapd/demo_company_provisioner_spec.rb","line_number":86,"run_time":0.003997941,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/demo_company_provisioner_spec.rb[1:1:1]","description":"builds a valid company","full_description":"Fapd::DemoCompanyProvisioner build demo company builds a valid company","status":"passed","file_path":"./spec/models/fapd/demo_company_provisioner_spec.rb","line_number":8,"run_time":0.060462822,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/demo_company_provisioner_spec.rb[1:1:2]","description":"assigns a valid bank account","full_description":"Fapd::DemoCompanyProvisioner build demo company assigns a valid bank account","status":"passed","file_path":"./spec/models/fapd/demo_company_provisioner_spec.rb","line_number":12,"run_time":0.039180397,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/demo_company_provisioner_spec.rb[1:1:3]","description":"assigns a valid account owner","full_description":"Fapd::DemoCompanyProvisioner build demo company assigns a valid account owner","status":"passed","file_path":"./spec/models/fapd/demo_company_provisioner_spec.rb","line_number":17,"run_time":0.044361857,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/demo_company_provisioner_spec.rb[1:1:4]","description":"assigns a valid account owner","full_description":"Fapd::DemoCompanyProvisioner build demo company assigns a valid account owner","status":"passed","file_path":"./spec/models/fapd/demo_company_provisioner_spec.rb","line_number":22,"run_time":0.048095491,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/demo_company_provisioner_spec.rb[1:1:5]","description":"assigns the email of the account manager to account owner","full_description":"Fapd::DemoCompanyProvisioner build demo company assigns the email of the account manager to account owner","status":"passed","file_path":"./spec/models/fapd/demo_company_provisioner_spec.rb","line_number":27,"run_time":0.04867441,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/demo_company_provisioner_spec.rb[1:1:6]","description":"assigns the first name of the account_manager to account owner","full_description":"Fapd::DemoCompanyProvisioner build demo company assigns the first name of the account_manager to account owner","status":"passed","file_path":"./spec/models/fapd/demo_company_provisioner_spec.rb","line_number":32,"run_time":0.039854264,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/demo_company_provisioner_spec.rb[1:1:7]","description":"assigns the last name of the account_manager to account owner","full_description":"Fapd::DemoCompanyProvisioner build demo company assigns the last name of the account_manager to account owner","status":"passed","file_path":"./spec/models/fapd/demo_company_provisioner_spec.rb","line_number":37,"run_time":0.042401548,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/demo_company_provisioner_spec.rb[1:1:8]","description":"assigns a valid domain","full_description":"Fapd::DemoCompanyProvisioner build demo company assigns a valid domain","status":"passed","file_path":"./spec/models/fapd/demo_company_provisioner_spec.rb","line_number":42,"run_time":0.052484461,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/demo_company_provisioner_spec.rb[1:2:1]","description":"persists the demo company and subscription","full_description":"Fapd::DemoCompanyProvisioner create demo company for accountancy practice persists the demo company and subscription","status":"passed","file_path":"./spec/models/fapd/demo_company_provisioner_spec.rb","line_number":55,"run_time":0.187327009,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/demo_company_provisioner_spec.rb[1:2:2]","description":"sets the company subscription to be practice managed with an active license","full_description":"Fapd::DemoCompanyProvisioner create demo company for accountancy practice sets the company subscription to be practice managed with an active license","status":"passed","file_path":"./spec/models/fapd/demo_company_provisioner_spec.rb","line_number":60,"run_time":0.179096243,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/demo_company_provisioner_spec.rb[1:2:3]","description":"sets a random password for the account owner","full_description":"Fapd::DemoCompanyProvisioner create demo company for accountancy practice sets a random password for the account owner","status":"passed","file_path":"./spec/models/fapd/demo_company_provisioner_spec.rb","line_number":66,"run_time":0.193624917,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/demo_company_provisioner_spec.rb[1:2:4]","description":"completes the company setup","full_description":"Fapd::DemoCompanyProvisioner create demo company for accountancy practice completes the company setup","status":"passed","file_path":"./spec/models/fapd/demo_company_provisioner_spec.rb","line_number":71,"run_time":0.193340149,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/demo_company_provisioner_spec.rb[1:2:5]","description":"creates a PracticeClient::Relationship","full_description":"Fapd::DemoCompanyProvisioner create demo company for accountancy practice creates a PracticeClient::Relationship","status":"passed","file_path":"./spec/models/fapd/demo_company_provisioner_spec.rb","line_number":77,"run_time":0.179719836,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/api_validator_spec.rb[1:1:1:1]","description":"should validate","full_description":"Api::ApiValidator Bank transaction explanation where associations are valid should validate","status":"passed","file_path":"./spec/models/api/api_validator_spec.rb","line_number":33,"run_time":0.163964358,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/api_validator_spec.rb[1:1:2:1]","description":"should have 6 errors","full_description":"Api::ApiValidator Bank transaction explanation Where associations are not valid should have 6 errors","status":"passed","file_path":"./spec/models/api/api_validator_spec.rb","line_number":50,"run_time":0.013064496,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/api_validator_spec.rb[1:2:1:1]","description":"should validate","full_description":"Api::ApiValidator Bill where associations are valid should validate","status":"passed","file_path":"./spec/models/api/api_validator_spec.rb","line_number":70,"run_time":0.02460634,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/api_validator_spec.rb[1:2:2:1]","description":"should have 2 errors","full_description":"Api::ApiValidator Bill Where associations are not valid should have 2 errors","status":"passed","file_path":"./spec/models/api/api_validator_spec.rb","line_number":83,"run_time":0.008482995,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/api_validator_spec.rb[1:3:1:1]","description":"should validate","full_description":"Api::ApiValidator BillItem where associations are valid should validate","status":"passed","file_path":"./spec/models/api/api_validator_spec.rb","line_number":102,"run_time":0.074345947,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/api_validator_spec.rb[1:3:2:1]","description":"should have 1 error","full_description":"Api::ApiValidator BillItem Where associations are not valid should have 1 error","status":"passed","file_path":"./spec/models/api/api_validator_spec.rb","line_number":112,"run_time":0.00702463,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/api_validator_spec.rb[1:4:1:1]","description":"should validate","full_description":"Api::ApiValidator Estimate where associations are valid should validate","status":"passed","file_path":"./spec/models/api/api_validator_spec.rb","line_number":132,"run_time":0.077185141,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/api_validator_spec.rb[1:4:2:1]","description":"should have 3 errors","full_description":"Api::ApiValidator Estimate Where associations are not valid should have 3 errors","status":"passed","file_path":"./spec/models/api/api_validator_spec.rb","line_number":146,"run_time":0.009956994,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/api_validator_spec.rb[1:5:1:1]","description":"should validate","full_description":"Api::ApiValidator Expense where associations are valid should validate","status":"passed","file_path":"./spec/models/api/api_validator_spec.rb","line_number":167,"run_time":0.062843863,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/api_validator_spec.rb[1:5:2:1]","description":"should have 3 errors","full_description":"Api::ApiValidator Expense Where associations are not valid should have 3 errors","status":"passed","file_path":"./spec/models/api/api_validator_spec.rb","line_number":181,"run_time":0.009030083,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/api_validator_spec.rb[1:6:1:1]","description":"should validate","full_description":"Api::ApiValidator Invoice where associations are valid should validate","status":"passed","file_path":"./spec/models/api/api_validator_spec.rb","line_number":200,"run_time":0.020025529,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/api_validator_spec.rb[1:6:2:1]","description":"should have 2 errors","full_description":"Api::ApiValidator Invoice Where associations are not valid should have 2 errors","status":"passed","file_path":"./spec/models/api/api_validator_spec.rb","line_number":213,"run_time":0.008038813,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/api_validator_spec.rb[1:7:1:1]","description":"should validate","full_description":"Api::ApiValidator Project where associations are valid should validate","status":"passed","file_path":"./spec/models/api/api_validator_spec.rb","line_number":229,"run_time":0.012062824,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/api_validator_spec.rb[1:7:2:1]","description":"should have 1 errors","full_description":"Api::ApiValidator Project Where associations are not valid should have 1 errors","status":"passed","file_path":"./spec/models/api/api_validator_spec.rb","line_number":239,"run_time":0.005630347,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/api_validator_spec.rb[1:8:1:1]","description":"should validate","full_description":"Api::ApiValidator Timeslip where associations are valid should validate","status":"passed","file_path":"./spec/models/api/api_validator_spec.rb","line_number":259,"run_time":0.043489023,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/api_validator_spec.rb[1:8:2:1]","description":"should have 3 errors","full_description":"Api::ApiValidator Timeslip where associations are not valid should have 3 errors","status":"passed","file_path":"./spec/models/api/api_validator_spec.rb","line_number":273,"run_time":0.010384613,"pending_message":null,"screenshot":null},{"id":"./spec/models/bounced_invoice_email_spec.rb[1:1:1]","description":"sends an email when the sender is different from the recipient","full_description":"MailProviderNotification when an email bounces sends an email when the sender is different from the recipient","status":"passed","file_path":"./spec/models/bounced_invoice_email_spec.rb","line_number":27,"run_time":0.116289234,"pending_message":null,"screenshot":null},{"id":"./spec/models/bounced_invoice_email_spec.rb[1:1:2]","description":"does not send an email when the sender is the same","full_description":"MailProviderNotification when an email bounces does not send an email when the sender is the same","status":"passed","file_path":"./spec/models/bounced_invoice_email_spec.rb","line_number":49,"run_time":0.09030942,"pending_message":null,"screenshot":null},{"id":"./spec/models/bounced_invoice_email_spec.rb[1:1:3]","description":"sends an email if there is no EmailRecipientDeliveryStatus","full_description":"MailProviderNotification when an email bounces sends an email if there is no EmailRecipientDeliveryStatus","status":"passed","file_path":"./spec/models/bounced_invoice_email_spec.rb","line_number":70,"run_time":0.0908819,"pending_message":null,"screenshot":null},{"id":"./spec/models/bounced_invoice_email_spec.rb[1:1:4]","description":"does not send an email if the company has disabled bounced email notifications","full_description":"MailProviderNotification when an email bounces does not send an email if the company has disabled bounced email notifications","status":"passed","file_path":"./spec/models/bounced_invoice_email_spec.rb","line_number":91,"run_time":0.105233037,"pending_message":null,"screenshot":null},{"id":"./spec/models/bounced_invoice_email_spec.rb[1:1:5]","description":"sends an email for estimate bounces","full_description":"MailProviderNotification when an email bounces sends an email for estimate bounces","status":"passed","file_path":"./spec/models/bounced_invoice_email_spec.rb","line_number":111,"run_time":0.100751515,"pending_message":null,"screenshot":null},{"id":"./spec/models/bounced_invoice_email_spec.rb[1:1:6]","description":"sends an email for reminder bounces","full_description":"MailProviderNotification when an email bounces sends an email for reminder bounces","status":"passed","file_path":"./spec/models/bounced_invoice_email_spec.rb","line_number":140,"run_time":0.09087195,"pending_message":null,"screenshot":null},{"id":"./spec/models/bounced_invoice_email_spec.rb[1:1:7]","description":"does not send for other categories of email","full_description":"MailProviderNotification when an email bounces does not send for other categories of email","status":"passed","file_path":"./spec/models/bounced_invoice_email_spec.rb","line_number":169,"run_time":0.084719461,"pending_message":null,"screenshot":null},{"id":"./spec/models/bounced_invoice_email_spec.rb[1:1:8]","description":"does not send an email for other email types","full_description":"MailProviderNotification when an email bounces does not send an email for other email types","status":"passed","file_path":"./spec/models/bounced_invoice_email_spec.rb","line_number":197,"run_time":0.028010084,"pending_message":null,"screenshot":null},{"id":"./spec/models/bounced_invoice_email_spec.rb[1:2:1]","description":"sends an email when the sender is different from the recipient","full_description":"MailProviderNotification the Invoice email is dropped sends an email when the sender is different from the recipient","status":"passed","file_path":"./spec/models/bounced_invoice_email_spec.rb","line_number":219,"run_time":0.101599894,"pending_message":null,"screenshot":null},{"id":"./spec/models/bounced_invoice_email_spec.rb[1:2:2]","description":"does not send an email when the sender and recipient are the same","full_description":"MailProviderNotification the Invoice email is dropped does not send an email when the sender and recipient are the same","status":"passed","file_path":"./spec/models/bounced_invoice_email_spec.rb","line_number":241,"run_time":0.106390053,"pending_message":null,"screenshot":null},{"id":"./spec/models/bounced_invoice_email_spec.rb[1:2:3]","description":"works if there is no EmailRecipientDeliveryStatus","full_description":"MailProviderNotification the Invoice email is dropped works if there is no EmailRecipientDeliveryStatus","status":"passed","file_path":"./spec/models/bounced_invoice_email_spec.rb","line_number":262,"run_time":0.100813889,"pending_message":null,"screenshot":null},{"id":"./spec/models/bounced_invoice_email_spec.rb[1:2:4]","description":"does not send an email if the company has disabled bounced email notifications","full_description":"MailProviderNotification the Invoice email is dropped does not send an email if the company has disabled bounced email notifications","status":"passed","file_path":"./spec/models/bounced_invoice_email_spec.rb","line_number":283,"run_time":0.117619672,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_data/all_company_data/custom_email_domains_spec.rb[1:1]","description":"has no nested data","full_description":"Exporter::ExportableData::AllCompanyData::CustomEmailDomains has no nested data","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_data/all_company_data/custom_email_domains_spec.rb","line_number":8,"run_time":0.02990648,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_data/all_company_data/custom_email_domains_spec.rb[1:2]","description":"returns the correct exportable type","full_description":"Exporter::ExportableData::AllCompanyData::CustomEmailDomains returns the correct exportable type","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_data/all_company_data/custom_email_domains_spec.rb","line_number":12,"run_time":0.018252692,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_data/all_company_data/custom_email_domains_spec.rb[1:3]","description":"operates on company's custom email domains","full_description":"Exporter::ExportableData::AllCompanyData::CustomEmailDomains operates on company's custom email domains","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_data/all_company_data/custom_email_domains_spec.rb","line_number":16,"run_time":0.019319984,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_data/all_company_data/custom_email_domains_spec.rb[1:4]","description":"sorts custom email domains by domain","full_description":"Exporter::ExportableData::AllCompanyData::CustomEmailDomains sorts custom email domains by domain","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_data/all_company_data/custom_email_domains_spec.rb","line_number":20,"run_time":0.035754876,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/users/index.html.erb_spec.rb[1:1:1]","description":"shows the user ID and the correct 2FA status badges","full_description":"admin/companies/users/index when the admin user has the disable_two_factor_authentication permission shows the user ID and the correct 2FA status badges","status":"passed","file_path":"./spec/views/admin/companies/users/index.html.erb_spec.rb","line_number":24,"run_time":0.216912259,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/users/index.html.erb_spec.rb[1:1:2]","description":"has a button to disable the two factor authentication","full_description":"admin/companies/users/index when the admin user has the disable_two_factor_authentication permission has a button to disable the two factor authentication","status":"passed","file_path":"./spec/views/admin/companies/users/index.html.erb_spec.rb","line_number":30,"run_time":0.181243946,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/users/index.html.erb_spec.rb[1:2:1]","description":"shows the user ID and the correct 2FA status badges","full_description":"admin/companies/users/index when the admin user doesn't have the disable_admin_two_factor_authentication permission shows the user ID and the correct 2FA status badges","status":"passed","file_path":"./spec/views/admin/companies/users/index.html.erb_spec.rb","line_number":38,"run_time":0.173986319,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/users/index.html.erb_spec.rb[1:2:2]","description":"does not show a button to disable the two factor authentication","full_description":"admin/companies/users/index when the admin user doesn't have the disable_admin_two_factor_authentication permission does not show a button to disable the two factor authentication","status":"passed","file_path":"./spec/views/admin/companies/users/index.html.erb_spec.rb","line_number":44,"run_time":0.167073179,"pending_message":null,"screenshot":null},{"id":"./spec/views/accounting/final_accounts/edit.html.erb_spec.rb[1:1:1]","description":"shows the current and previous year tabs if the report can enter manual comparative values","full_description":"accounting/final_accounts/edit can enter manual comparative values shows the current and previous year tabs if the report can enter manual comparative values","status":"passed","file_path":"./spec/views/accounting/final_accounts/edit.html.erb_spec.rb","line_number":26,"run_time":0.153048494,"pending_message":null,"screenshot":null},{"id":"./spec/views/accounting/final_accounts/edit.html.erb_spec.rb[1:1:2]","description":"has the comparative year sections","full_description":"accounting/final_accounts/edit can enter manual comparative values has the comparative year sections","status":"passed","file_path":"./spec/views/accounting/final_accounts/edit.html.erb_spec.rb","line_number":31,"run_time":0.110029628,"pending_message":null,"screenshot":null},{"id":"./spec/views/accounting/final_accounts/edit.html.erb_spec.rb[1:1:3]","description":"shows all the income statement values in the right order","full_description":"accounting/final_accounts/edit can enter manual comparative values shows all the income statement values in the right order","status":"passed","file_path":"./spec/views/accounting/final_accounts/edit.html.erb_spec.rb","line_number":35,"run_time":0.117706565,"pending_message":null,"screenshot":null},{"id":"./spec/views/accounting/final_accounts/edit.html.erb_spec.rb[1:1:4]","description":"shows all the balance sheet values in the right order","full_description":"accounting/final_accounts/edit can enter manual comparative values shows all the balance sheet values in the right order","status":"passed","file_path":"./spec/views/accounting/final_accounts/edit.html.erb_spec.rb","line_number":48,"run_time":0.179081982,"pending_message":null,"screenshot":null},{"id":"./spec/views/accounting/final_accounts/edit.html.erb_spec.rb[1:2:1]","description":"does not shows the current and previous year tabs","full_description":"accounting/final_accounts/edit cannot enter manual comparative values does not shows the current and previous year tabs","status":"passed","file_path":"./spec/views/accounting/final_accounts/edit.html.erb_spec.rb","line_number":69,"run_time":0.040690339,"pending_message":null,"screenshot":null},{"id":"./spec/views/accounting/final_accounts/edit.html.erb_spec.rb[1:2:2]","description":"does not have the comparative year sections","full_description":"accounting/final_accounts/edit cannot enter manual comparative values does not have the comparative year sections","status":"passed","file_path":"./spec/views/accounting/final_accounts/edit.html.erb_spec.rb","line_number":74,"run_time":0.025870485,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/radar/settings_controller_spec.rb[1:1:1]","description":"requires authentication","full_description":"Api::Radar::SettingsController GET #show requires authentication","status":"passed","file_path":"./spec/controllers/api/radar/settings_controller_spec.rb","line_number":22,"run_time":0.095053693,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/radar/settings_controller_spec.rb[1:1:2]","description":"is restricted to Freeagent apps","full_description":"Api::Radar::SettingsController GET #show is restricted to Freeagent apps","status":"passed","file_path":"./spec/controllers/api/radar/settings_controller_spec.rb","line_number":29,"run_time":0.114427108,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/radar/settings_controller_spec.rb[1:1:3]","description":"retrieves the users Rader settings","full_description":"Api::Radar::SettingsController GET #show retrieves the users Rader settings","status":"passed","file_path":"./spec/controllers/api/radar/settings_controller_spec.rb","line_number":37,"run_time":0.136667641,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/radar/settings_controller_spec.rb[1:2:1]","description":"updates the user's company's commercial setting","full_description":"Api::Radar::SettingsController PATCH #update updates the user's company's commercial setting","status":"passed","file_path":"./spec/controllers/api/radar/settings_controller_spec.rb","line_number":49,"run_time":0.137566142,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/radar/settings_controller_spec.rb[1:2:2]","description":"returns a 400 for malformed requests","full_description":"Api::Radar::SettingsController PATCH #update returns a 400 for malformed requests","status":"passed","file_path":"./spec/controllers/api/radar/settings_controller_spec.rb","line_number":68,"run_time":0.119221358,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/radar/settings_controller_spec.rb[1:2:3]","description":"coerces non-boolean preference values to booleans","full_description":"Api::Radar::SettingsController PATCH #update coerces non-boolean preference values to booleans","status":"passed","file_path":"./spec/controllers/api/radar/settings_controller_spec.rb","line_number":80,"run_time":0.140629633,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/radar/settings_controller_spec.rb[1:2:4]","description":"doesn't require a complete payload","full_description":"Api::Radar::SettingsController PATCH #update doesn't require a complete payload","status":"passed","file_path":"./spec/controllers/api/radar/settings_controller_spec.rb","line_number":101,"run_time":0.148381847,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/balance_history_controller_spec.rb[1:1]","description":"GET show for UK company","full_description":"Contacts::BalanceHistoryController GET show for UK company","status":"passed","file_path":"./spec/controllers/contacts/balance_history_controller_spec.rb","line_number":4,"run_time":0.37816253,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/balance_history_controller_spec.rb[1:2]","description":"GET show for universal company","full_description":"Contacts::BalanceHistoryController GET show for universal company","status":"passed","file_path":"./spec/controllers/contacts/balance_history_controller_spec.rb","line_number":24,"run_time":0.111234051,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/balance_history_controller_spec.rb[1:3:1]","description":"hits the cache on subsequent requests with same parameters","full_description":"Contacts::BalanceHistoryController caching behaviour hits the cache on subsequent requests with same parameters","status":"passed","file_path":"./spec/controllers/contacts/balance_history_controller_spec.rb","line_number":40,"run_time":0.052916541,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/balance_history_controller_spec.rb[1:3:2]","description":"doesn't hit the cache on subsequent requests with differing parameters","full_description":"Contacts::BalanceHistoryController caching behaviour doesn't hit the cache on subsequent requests with differing parameters","status":"passed","file_path":"./spec/controllers/contacts/balance_history_controller_spec.rb","line_number":50,"run_time":0.049085521,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/balance_history_controller_spec.rb[1:3:3]","description":"doesn't hit the cache if there have been changes to the ledgers","full_description":"Contacts::BalanceHistoryController caching behaviour doesn't hit the cache if there have been changes to the ledgers","status":"passed","file_path":"./spec/controllers/contacts/balance_history_controller_spec.rb","line_number":62,"run_time":0.050513454,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/notes_controller_spec.rb[1:1:1]","description":"assigns @notes for a company","full_description":"Admin::Companies::NotesController#index assigns @notes for a company","status":"passed","file_path":"./spec/controllers/admin/companies/notes_controller_spec.rb","line_number":13,"run_time":0.164536427,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/notes_controller_spec.rb[1:2:1:1]","description":"display the requested note","full_description":"Admin::Companies::NotesController behaves like managing notes #show display the requested note","status":"passed","file_path":"./spec/support/shared_examples/admin/manage_notes.rb","line_number":9,"run_time":0.116922777,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/notes_controller_spec.rb[1:2:2:1]","description":"creates a new note","full_description":"Admin::Companies::NotesController behaves like managing notes #create creates a new note","status":"passed","file_path":"./spec/support/shared_examples/admin/manage_notes.rb","line_number":20,"run_time":0.119603926,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/notes_controller_spec.rb[1:2:3:1]","description":"displays the form for updating the note","full_description":"Admin::Companies::NotesController behaves like managing notes #edit displays the form for updating the note","status":"passed","file_path":"./spec/support/shared_examples/admin/manage_notes.rb","line_number":38,"run_time":0.175213737,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/notes_controller_spec.rb[1:2:4:1]","description":"updates note","full_description":"Admin::Companies::NotesController behaves like managing notes #update updates note","status":"passed","file_path":"./spec/support/shared_examples/admin/manage_notes.rb","line_number":54,"run_time":0.477981505,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/notes_controller_spec.rb[1:2:5:1]","description":"deletes note","full_description":"Admin::Companies::NotesController behaves like managing notes #destroy deletes note","status":"passed","file_path":"./spec/support/shared_examples/admin/manage_notes.rb","line_number":77,"run_time":0.407958469,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/cancellation_reason_metrics_spec.rb[1:1:1]","description":"it should write a csv file in the expected location","full_description":"Metrics::CancellationReasonMetrics#write_csv it should write a csv file in the expected location","status":"passed","file_path":"./spec/models/metrics/cancellation_reason_metrics_spec.rb","line_number":20,"run_time":0.151815811,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/cancellation_reason_metrics_spec.rb[1:1:2]","description":"should have the expected header","full_description":"Metrics::CancellationReasonMetrics#write_csv should have the expected header","status":"passed","file_path":"./spec/models/metrics/cancellation_reason_metrics_spec.rb","line_number":24,"run_time":0.117080344,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/cancellation_reason_metrics_spec.rb[1:1:3]","description":"should have snapshot at Time.now","full_description":"Metrics::CancellationReasonMetrics#write_csv should have snapshot at Time.now","status":"passed","file_path":"./spec/models/metrics/cancellation_reason_metrics_spec.rb","line_number":36,"run_time":0.130963049,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/cancellation_reason_metrics_spec.rb[1:1:4]","description":"should have the correct number of rows","full_description":"Metrics::CancellationReasonMetrics#write_csv should have the correct number of rows","status":"passed","file_path":"./spec/models/metrics/cancellation_reason_metrics_spec.rb","line_number":40,"run_time":0.119325536,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/cancellation_reason_metrics_spec.rb[1:1:5]","description":"should have the expected field","full_description":"Metrics::CancellationReasonMetrics#write_csv should have the expected field","status":"passed","file_path":"./spec/models/metrics/cancellation_reason_metrics_spec.rb","line_number":44,"run_time":0.124115035,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/orphaned_capital_assets_check_spec.rb[1:1:1]","description":"is expected not to have a failure on #\u003cBankAccountEntry id: 177, bank_account_id: 380302813, description: \"Rotisserie\", dated_on: \"2022-12...ed_for_review: false, company_id: 895397833, general_ledger_account_id: 392416042, property_id: nil\u003e","full_description":"OrphanedCapitalAssetsCheck Checking a company with correct capital assets is expected not to have a failure on #\u003cBankAccountEntry id: 177, bank_account_id: 380302813, description: \"Rotisserie\", dated_on: \"2022-12...ed_for_review: false, company_id: 895397833, general_ledger_account_id: 392416042, property_id: nil\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/orphaned_capital_assets_check_spec.rb","line_number":19,"run_time":0.404948092,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/orphaned_capital_assets_check_spec.rb[1:2:1]","description":"is expected to have a failure on #\u003cBankAccountEntry id: 178, bank_account_id: 380302813, description: \"Rotisserie\", dated_on: \"2022-12...ed_for_review: false, company_id: 895397833, general_ledger_account_id: 392416042, property_id: nil\u003e","full_description":"OrphanedCapitalAssetsCheck Checking a company with an orphaned capital asset is expected to have a failure on #\u003cBankAccountEntry id: 178, bank_account_id: 380302813, description: \"Rotisserie\", dated_on: \"2022-12...ed_for_review: false, company_id: 895397833, general_ledger_account_id: 392416042, property_id: nil\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/orphaned_capital_assets_check_spec.rb","line_number":27,"run_time":0.138475689,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/orphaned_capital_assets_check_spec.rb[1:2:2]","description":"is expected to have a failure like / has been deleted but has an attached CapitalAsset/","full_description":"OrphanedCapitalAssetsCheck Checking a company with an orphaned capital asset is expected to have a failure like / has been deleted but has an attached CapitalAsset/","status":"passed","file_path":"./spec/models/health_robinson/check/orphaned_capital_assets_check_spec.rb","line_number":29,"run_time":0.146933328,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/add_items_from_invoice_spec.rb[1:1:1]","description":"adds recurring invoice profile items to the destination recurring invoice profile","full_description":"RecurringInvoiceProfile::AddItemsFromInvoice when copying invoice items from a source invoice adds recurring invoice profile items to the destination recurring invoice profile","status":"passed","file_path":"./spec/models/recurring_invoice_profile/add_items_from_invoice_spec.rb","line_number":32,"run_time":0.134615129,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/add_items_from_invoice_spec.rb[1:1:2:1]","description":"updates the sales tax rate to match the current standard rate","full_description":"RecurringInvoiceProfile::AddItemsFromInvoice when copying invoice items from a source invoice when the sales tax has changed since creating the invoice updates the sales tax rate to match the current standard rate","status":"passed","file_path":"./spec/models/recurring_invoice_profile/add_items_from_invoice_spec.rb","line_number":74,"run_time":0.222963514,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:69:3:1:1]","description":"is able to send the invoice","full_description":"Invoice A VAT-registered UK company with a scheduled invoice Company is not read only is able to send the invoice","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":1908,"run_time":0.331929924,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:71:2:1]","description":"provides values for each combination of account and project","full_description":"Invoice Grouping invoice items by category A native invoice with three items for two projects provides values for each combination of account and project","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":2104,"run_time":0.316346685,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:135:4:1]","description":"is expected to equal false","full_description":"Invoice#fully_reconciled? for a fully paid invoice is expected to equal false","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":4378,"run_time":0.347391555,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/hmrc/index.html.erb_spec.rb[1:1:1]","description":"does not show the support access warning notice","full_description":"admin/companies/hmrc/index when the company has support access enabled does not show the support access warning notice","status":"passed","file_path":"./spec/views/admin/companies/hmrc/index.html.erb_spec.rb","line_number":20,"run_time":0.120190946,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/hmrc/index.html.erb_spec.rb[1:2:1]","description":"shows the support access warning notice","full_description":"admin/companies/hmrc/index when the company has support access disabled shows the support access warning notice","status":"passed","file_path":"./spec/views/admin/companies/hmrc/index.html.erb_spec.rb","line_number":30,"run_time":0.075515029,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/hmrc/index.html.erb_spec.rb[1:3:1]","description":"renders the year_ends_card partial","full_description":"admin/companies/hmrc/index when the company is a limited company renders the year_ends_card partial","status":"passed","file_path":"./spec/views/admin/companies/hmrc/index.html.erb_spec.rb","line_number":38,"run_time":0.058566258,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/hmrc/index.html.erb_spec.rb[1:4:1]","description":"renders the year_ends_card partial","full_description":"admin/companies/hmrc/index when the company is not a limited company renders the year_ends_card partial","status":"passed","file_path":"./spec/views/admin/companies/hmrc/index.html.erb_spec.rb","line_number":48,"run_time":0.131862423,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/balance_history.js.erb_spec.rb[1:1:1]","description":"is expected to include {\"key\" =\u003e \"1\", \"currency\" =\u003e {\"unit\" =\u003e \"\", \"format\" =\u003e \"%u%n\", \"iso_code\" =\u003e \"GBP\"}, \"logo\" =\u003e (have visible css \"img.bank_logo\"), \"name\" =\u003e \"CurrentAccount1\", \"series\" =\u003e (all include {\"data\" =\u003e (all match (have attributes {:size =\u003e 2} and all be a kind of Numeric)), \"id\" =\u003e (be a kind of String), \"marker\" =\u003e (match {\"symbol\" =\u003e (be a kind of String)})}), \"link\" =\u003e \"/bank_accounts/950310647\", \"updated\" =\u003e \"01 Apr 20\", \"balance\" =\u003e \"0.0\"}","full_description":"bank_accounts/balance_history when given a normal bank account is expected to include {\"key\" =\u003e \"1\", \"currency\" =\u003e {\"unit\" =\u003e \"\", \"format\" =\u003e \"%u%n\", \"iso_code\" =\u003e \"GBP\"}, \"logo\" =\u003e (have visible css \"img.bank_logo\"), \"name\" =\u003e \"CurrentAccount1\", \"series\" =\u003e (all include {\"data\" =\u003e (all match (have attributes {:size =\u003e 2} and all be a kind of Numeric)), \"id\" =\u003e (be a kind of String), \"marker\" =\u003e (match {\"symbol\" =\u003e (be a kind of String)})}), \"link\" =\u003e \"/bank_accounts/950310647\", \"updated\" =\u003e \"01 Apr 20\", \"balance\" =\u003e \"0.0\"}","status":"passed","file_path":"./spec/views/bank_accounts/balance_history.js.erb_spec.rb","line_number":46,"run_time":0.055308124,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/balance_history.js.erb_spec.rb[1:2:1]","description":"is expected to include {\"key\" =\u003e \"1\", \"currency\" =\u003e {\"unit\" =\u003e \"\", \"format\" =\u003e \"%u%n\", \"iso_code\" =\u003e \"GBP\"}, \"logo\" =\u003e (have visible css \"img.bank_logo\"), \"name\" =\u003e \"Default bank \\\\ account\", \"series\" =\u003e (all include {\"data\" =\u003e (all match (have attributes {:size =\u003e 2} and all be a kind of Numeric)), \"id\" =\u003e (be a kind of String), \"marker\" =\u003e (match {\"symbol\" =\u003e (be a kind of String)})}), \"link\" =\u003e \"/bank_accounts/950310648\", \"updated\" =\u003e \"01 Apr 20\", \"balance\" =\u003e \"0.0\"}","full_description":"bank_accounts/balance_history when given a bank account with backslashes in the name is expected to include {\"key\" =\u003e \"1\", \"currency\" =\u003e {\"unit\" =\u003e \"\", \"format\" =\u003e \"%u%n\", \"iso_code\" =\u003e \"GBP\"}, \"logo\" =\u003e (have visible css \"img.bank_logo\"), \"name\" =\u003e \"Default bank \\\\ account\", \"series\" =\u003e (all include {\"data\" =\u003e (all match (have attributes {:size =\u003e 2} and all be a kind of Numeric)), \"id\" =\u003e (be a kind of String), \"marker\" =\u003e (match {\"symbol\" =\u003e (be a kind of String)})}), \"link\" =\u003e \"/bank_accounts/950310648\", \"updated\" =\u003e \"01 Apr 20\", \"balance\" =\u003e \"0.0\"}","status":"passed","file_path":"./spec/views/bank_accounts/balance_history.js.erb_spec.rb","line_number":52,"run_time":0.05299099,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/balance_history.js.erb_spec.rb[1:3:1]","description":"is expected to include {\"key\" =\u003e \"1\", \"currency\" =\u003e {\"unit\" =\u003e \"\", \"format\" =\u003e \"%u%n\", \"iso_code\" =\u003e \"GBP\"}, \"logo\" =\u003e (have visible css \"img.bank_logo\"), \"name\" =\u003e \"\u0026gt;\u0026lt;img src=x onerror=alert(document.cookie)\u0026gt;\", \"series\" =\u003e (all include {\"data\" =\u003e (all match (have attributes {:size =\u003e 2} and all be a kind of Numeric)), \"id\" =\u003e (be a kind of String), \"marker\" =\u003e (match {\"symbol\" =\u003e (be a kind of String)})}), \"link\" =\u003e \"/bank_accounts/950310649\", \"updated\" =\u003e \"01 Apr 20\", \"balance\" =\u003e \"0.0\"}","full_description":"bank_accounts/balance_history when given a bank account with attempted XSS in the name is expected to include {\"key\" =\u003e \"1\", \"currency\" =\u003e {\"unit\" =\u003e \"\", \"format\" =\u003e \"%u%n\", \"iso_code\" =\u003e \"GBP\"}, \"logo\" =\u003e (have visible css \"img.bank_logo\"), \"name\" =\u003e \"\u0026gt;\u0026lt;img src=x onerror=alert(document.cookie)\u0026gt;\", \"series\" =\u003e (all include {\"data\" =\u003e (all match (have attributes {:size =\u003e 2} and all be a kind of Numeric)), \"id\" =\u003e (be a kind of String), \"marker\" =\u003e (match {\"symbol\" =\u003e (be a kind of String)})}), \"link\" =\u003e \"/bank_accounts/950310649\", \"updated\" =\u003e \"01 Apr 20\", \"balance\" =\u003e \"0.0\"}","status":"passed","file_path":"./spec/views/bank_accounts/balance_history.js.erb_spec.rb","line_number":61,"run_time":0.054386013,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/balance_history.js.erb_spec.rb[1:4:1]","description":"is expected to include {\"key\" =\u003e \"1\", \"currency\" =\u003e {\"unit\" =\u003e \"\", \"format\" =\u003e \"%u%n\", \"iso_code\" =\u003e \"GBP\"}, \"logo\" =\u003e (have visible css \"img.bank_logo\"), \"name\" =\u003e \"Foo\u0026quot;, \u0026quot;logo\u0026quot;: \u0026quot;\u0026lt;img src=x onerror=alert(document.cookie)\u0026gt;\", \"series\" =\u003e (all include {\"data\" =\u003e (all match (have attributes {:size =\u003e 2} and all be a kind of Numeric)), \"id\" =\u003e (be a kind of String), \"marker\" =\u003e (match {\"symbol\" =\u003e (be a kind of String)})}), \"link\" =\u003e \"/bank_accounts/950310650\", \"updated\" =\u003e \"01 Apr 20\", \"balance\" =\u003e \"0.0\"}","full_description":"bank_accounts/balance_history when given a bank account with attempted JSON injection in the name is expected to include {\"key\" =\u003e \"1\", \"currency\" =\u003e {\"unit\" =\u003e \"\", \"format\" =\u003e \"%u%n\", \"iso_code\" =\u003e \"GBP\"}, \"logo\" =\u003e (have visible css \"img.bank_logo\"), \"name\" =\u003e \"Foo\u0026quot;, \u0026quot;logo\u0026quot;: \u0026quot;\u0026lt;img src=x onerror=alert(document.cookie)\u0026gt;\", \"series\" =\u003e (all include {\"data\" =\u003e (all match (have attributes {:size =\u003e 2} and all be a kind of Numeric)), \"id\" =\u003e (be a kind of String), \"marker\" =\u003e (match {\"symbol\" =\u003e (be a kind of String)})}), \"link\" =\u003e \"/bank_accounts/950310650\", \"updated\" =\u003e \"01 Apr 20\", \"balance\" =\u003e \"0.0\"}","status":"passed","file_path":"./spec/views/bank_accounts/balance_history.js.erb_spec.rb","line_number":72,"run_time":0.068457309,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/balance_history.js.erb_spec.rb[1:5:1]","description":"is expected to include {\"key\" =\u003e \"all\", \"currency\" =\u003e {\"unit\" =\u003e \"\", \"format\" =\u003e \"%u%n\", \"iso_code\" =\u003e \"GBP\"}, \"logo\" =\u003e (have visible css \"img.bank_logo\"), \"name\" =\u003e \"All accounts\", \"series\" =\u003e (all include {\"data\" =\u003e (all match (have attributes {:size =\u003e 2} and all be a kind of Numeric)), \"id\" =\u003e (be a kind of String), \"marker\" =\u003e (match {\"symbol\" =\u003e (be a kind of String)})}), \"link\" =\u003e \"/bank_accounts\", \"updated\" =\u003e \"01 Apr 20\", \"balance\" =\u003e \"0.0\", \"unexplained_transactions_count\" =\u003e 0, \"for_approval_explanations_count\" =\u003e 0}","full_description":"bank_accounts/balance_history when given a nil bank account (for all accounts) is expected to include {\"key\" =\u003e \"all\", \"currency\" =\u003e {\"unit\" =\u003e \"\", \"format\" =\u003e \"%u%n\", \"iso_code\" =\u003e \"GBP\"}, \"logo\" =\u003e (have visible css \"img.bank_logo\"), \"name\" =\u003e \"All accounts\", \"series\" =\u003e (all include {\"data\" =\u003e (all match (have attributes {:size =\u003e 2} and all be a kind of Numeric)), \"id\" =\u003e (be a kind of String), \"marker\" =\u003e (match {\"symbol\" =\u003e (be a kind of String)})}), \"link\" =\u003e \"/bank_accounts\", \"updated\" =\u003e \"01 Apr 20\", \"balance\" =\u003e \"0.0\", \"unexplained_transactions_count\" =\u003e 0, \"for_approval_explanations_count\" =\u003e 0}","status":"passed","file_path":"./spec/views/bank_accounts/balance_history.js.erb_spec.rb","line_number":85,"run_time":0.124179718,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoices_controller/edit_spec.rb[1:1]","description":"loads the edit page","full_description":"RecurringInvoicesController when editing a recurring invoice profile loads the edit page","status":"passed","file_path":"./spec/controllers/recurring_invoices_controller/edit_spec.rb","line_number":25,"run_time":0.304132151,"pending_message":null,"screenshot":null}],"summary":{"duration":2.413508019,"example_count":515,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"515 examples, 0 failures"}