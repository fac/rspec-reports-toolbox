{"version":"3.11.0","messages":["Run options:\n  include {:ids=\u003e{\"./spec/models/invoice_spec.rb\"=\u003e[\"1:54:1\", \"1:40:2\", \"1:112:2:3\", \"1:99:7\", \"1:24\"]}}\n  exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/acceptance/vat/re_registration/write_offs.feature[1:1:1]","description":"Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e And the company has the following invoices: -\u003e Given its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-10-01 on the Invoice basis, not on the FRS -\u003e And invoice Invoice001 is written off on 2019-05-01 -\u003e Then the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","full_description":"Write-offs and multiple VAT registrations Writing off invoice where the bad debt relief date falls into a deregistration period within 6 months of invoice due date Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e And the company has the following invoices: -\u003e Given its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-10-01 on the Invoice basis, not on the FRS -\u003e And invoice Invoice001 is written off on 2019-05-01 -\u003e Then the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","status":"passed","file_path":"./spec/acceptance/vat/re_registration/write_offs.feature","line_number":15,"run_time":3.745338084,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/re_registration/write_offs.feature[1:2:1]","description":"Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e And the company has the following invoices: -\u003e Given its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-10-01 on the Invoice basis, not on the FRS -\u003e And invoice Invoice001 is written off on 2019-09-01 -\u003e Then the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are:","full_description":"Write-offs and multiple VAT registrations Writing off invoice where the bad debt relief date falls into a deregistration period more than 6 months after invoice due date Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e And the company has the following invoices: -\u003e Given its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-10-01 on the Invoice basis, not on the FRS -\u003e And invoice Invoice001 is written off on 2019-09-01 -\u003e Then the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are:","status":"passed","file_path":"./spec/acceptance/vat/re_registration/write_offs.feature","line_number":35,"run_time":3.067507013,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/re_registration/write_offs.feature[1:3:1]","description":"Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e And the company has the following invoices: -\u003e Given its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-05-01 on the Invoice basis, not on the FRS -\u003e And invoice Invoice001 is written off on 2019-05-01 -\u003e Then the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","full_description":"Write-offs and multiple VAT registrations Writing off invoice where the bad debt relief date falls into a second VAT registration period within 6 months of invoice due date Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e And the company has the following invoices: -\u003e Given its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-05-01 on the Invoice basis, not on the FRS -\u003e And invoice Invoice001 is written off on 2019-05-01 -\u003e Then the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","status":"passed","file_path":"./spec/acceptance/vat/re_registration/write_offs.feature","line_number":51,"run_time":3.851783374,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/re_registration/write_offs.feature[1:4:1]","description":"Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e And the company has the following invoices: -\u003e Given its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-05-01 on the Invoice basis, not on the FRS -\u003e And invoice Invoice001 is written off on 2019-09-01 -\u003e Then the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are:","full_description":"Write-offs and multiple VAT registrations Writing off invoice where the bad debt relief date falls into a second VAT registration period more than 6 months after invoice due date Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e And the company has the following invoices: -\u003e Given its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-05-01 on the Invoice basis, not on the FRS -\u003e And invoice Invoice001 is written off on 2019-09-01 -\u003e Then the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are:","status":"passed","file_path":"./spec/acceptance/vat/re_registration/write_offs.feature","line_number":73,"run_time":3.14197889,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/re_registration/write_offs.feature[1:5:1]","description":"Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e And the company has the following invoices: -\u003e Given invoice Invoice001 is written off on 2019-02-01 -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-04-01 on the Invoice basis, not on the FRS -\u003e And invoice Invoice001 status is changed to 'Sent' -\u003e Then the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are:","full_description":"Write-offs and multiple VAT registrations Written off invoice from first VAT registration is re-opened during second VAT registration within 6 months of invoice due date Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e And the company has the following invoices: -\u003e Given invoice Invoice001 is written off on 2019-02-01 -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-04-01 on the Invoice basis, not on the FRS -\u003e And invoice Invoice001 status is changed to 'Sent' -\u003e Then the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are:","status":"passed","file_path":"./spec/acceptance/vat/re_registration/write_offs.feature","line_number":91,"run_time":3.883612413,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/re_registration/write_offs.feature[1:6:1]","description":"Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e And the company has the following invoices: -\u003e Given invoice Invoice001 is written off on 2019-02-01 -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-09-30 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-10-01 on the Invoice basis, not on the FRS -\u003e And invoice Invoice001 status is changed to 'Sent' -\u003e Then the company ledger entries for 818 (VAT Reclaimed) are: -\u003e And the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","full_description":"Write-offs and multiple VAT registrations Written off invoice from first VAT registration is re-opened during second VAT registration after 6 months of invoice due date Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e And the company has the following invoices: -\u003e Given invoice Invoice001 is written off on 2019-02-01 -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-09-30 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-10-01 on the Invoice basis, not on the FRS -\u003e And invoice Invoice001 status is changed to 'Sent' -\u003e Then the company ledger entries for 818 (VAT Reclaimed) are: -\u003e And the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","status":"passed","file_path":"./spec/acceptance/vat/re_registration/write_offs.feature","line_number":111,"run_time":3.871454878,"pending_message":null,"screenshot":null},{"id":"./spec/features/vat/hmrc_mtd_filing_spec.rb[1:2]","description":"Authorise during the submission process","full_description":"Filing VAT through HMRC MTD Authorise during the submission process","status":"passed","file_path":"./spec/features/vat/hmrc_mtd_filing_spec.rb","line_number":167,"run_time":26.631799929,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:1]","description":"is expected to belong to contact required: false","full_description":"Estimate is expected to belong to contact required: false","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":8,"run_time":0.02781423,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:2]","description":"is expected to have many estimate_items","full_description":"Estimate is expected to have many estimate_items","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":9,"run_time":0.006000519,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:3]","description":"is expected to validate that :status cannot be empty/falsy, producing a custom validation error on failure","full_description":"Estimate is expected to validate that :status cannot be empty/falsy, producing a custom validation error on failure","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":11,"run_time":0.013565223,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:4]","description":"is expected to validate that :dated_on cannot be empty/falsy, producing a custom validation error on failure","full_description":"Estimate is expected to validate that :dated_on cannot be empty/falsy, producing a custom validation error on failure","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":12,"run_time":0.011013437,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:5]","description":"is expected to validate that :estimate_type cannot be empty/falsy, producing a custom validation error on failure","full_description":"Estimate is expected to validate that :estimate_type cannot be empty/falsy, producing a custom validation error on failure","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":13,"run_time":0.013758803,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:6]","description":"is expected to validate that :contact cannot be empty/falsy","full_description":"Estimate is expected to validate that :contact cannot be empty/falsy","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":14,"run_time":0.014162776,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:7]","description":"is expected to validate that :reference cannot be empty/falsy","full_description":"Estimate is expected to validate that :reference cannot be empty/falsy","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":15,"run_time":0.013057184,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:8]","description":"is expected not to allow :status to be ‹\"invalid\"›","full_description":"Estimate is expected not to allow :status to be ‹\"invalid\"›","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":18,"run_time":0.005988682,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:9]","description":"is expected not to allow :status to be ‹\"sentt\"›","full_description":"Estimate is expected not to allow :status to be ‹\"sentt\"›","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":18,"run_time":0.006294448,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:10]","description":"is expected not to allow :status to be ‹\"nope\"›","full_description":"Estimate is expected not to allow :status to be ‹\"nope\"›","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":18,"run_time":0.005262869,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:11]","description":"is expected to allow :status to be ‹\"Draft\"›","full_description":"Estimate is expected to allow :status to be ‹\"Draft\"›","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":22,"run_time":0.005148113,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:12]","description":"is expected to allow :status to be ‹\"Sent\"›","full_description":"Estimate is expected to allow :status to be ‹\"Sent\"›","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":22,"run_time":0.004977357,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:13]","description":"is expected to allow :status to be ‹\"Approved\"›","full_description":"Estimate is expected to allow :status to be ‹\"Approved\"›","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":22,"run_time":0.003881982,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:14]","description":"is expected to allow :status to be ‹\"Rejected\"›","full_description":"Estimate is expected to allow :status to be ‹\"Rejected\"›","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":22,"run_time":0.003859656,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:15]","description":"is expected to have an index on :status","full_description":"Estimate is expected to have an index on :status","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":25,"run_time":0.004246963,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:16]","description":"is expected to have an index on :dated_on","full_description":"Estimate is expected to have an index on :dated_on","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":26,"run_time":0.004287972,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:17]","description":"is expected to have an index on :estimate_type","full_description":"Estimate is expected to have an index on :estimate_type","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":27,"run_time":0.00430863,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:18]","description":"is expected to have an index on :reference","full_description":"Estimate is expected to have an index on :reference","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":28,"run_time":0.004467475,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:19]","description":"is expected to have an index on :contact_id","full_description":"Estimate is expected to have an index on :contact_id","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":29,"run_time":0.005051218,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:20]","description":"is expected to have an index on :invoice_id","full_description":"Estimate is expected to have an index on :invoice_id","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":30,"run_time":0.005136835,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:21]","description":"is expected to have an index on :project_id","full_description":"Estimate is expected to have an index on :project_id","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":31,"run_time":0.004920633,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:22]","description":"does not recalculate cached values unless draft","full_description":"Estimate does not recalculate cached values unless draft","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":33,"run_time":0.039529395,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:23]","description":"the #sent scope","full_description":"Estimate the #sent scope","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":45,"run_time":0.457223867,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:24:1]","description":"overrides any existing order on the query","full_description":"Estimate the #newest_first scope overrides any existing order on the query","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":76,"run_time":0.414246693,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:24:2]","description":"secondary orders matching dated_on by descending id on the query","full_description":"Estimate the #newest_first scope secondary orders matching dated_on by descending id on the query","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":80,"run_time":0.767733542,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:25:1]","description":"involves VAT","full_description":"Estimate A draft Estimate for a VAT registered company involves VAT","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":90,"run_time":0.02606437,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:25:2]","description":"has a filename","full_description":"Estimate A draft Estimate for a VAT registered company has a filename","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":93,"run_time":0.028051487,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:25:3]","description":"has a short status of Draft","full_description":"Estimate A draft Estimate for a VAT registered company has a short status of Draft","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":96,"run_time":0.028081055,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:25:4:1]","description":"is valid","full_description":"Estimate A draft Estimate for a VAT registered company with no items is valid","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":101,"run_time":0.032804681,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:25:4:2]","description":"has a valid contact","full_description":"Estimate A draft Estimate for a VAT registered company with no items has a valid contact","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":104,"run_time":0.028130695,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:25:4:3]","description":"is not sendable","full_description":"Estimate A draft Estimate for a VAT registered company with no items is not sendable","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":108,"run_time":0.027342702,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:25:4:4]","description":"is not invoiced","full_description":"Estimate A draft Estimate for a VAT registered company with no items is not invoiced","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":111,"run_time":0.024876401,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:25:4:5]","description":"is deletable","full_description":"Estimate A draft Estimate for a VAT registered company with no items is deletable","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":114,"run_time":0.025958614,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:25:4:6]","description":"has net, sales tax and total values of zero","full_description":"Estimate A draft Estimate for a VAT registered company with no items has net, sales tax and total values of zero","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":117,"run_time":0.026741326,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:25:4:7]","description":"has a unique reference across company","full_description":"Estimate A draft Estimate for a VAT registered company with no items has a unique reference across company","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":123,"run_time":0.153894297,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:25:4:8]","description":"is not able to transition to Sent or Approved status","full_description":"Estimate A draft Estimate for a VAT registered company with no items is not able to transition to Sent or Approved status","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":132,"run_time":0.022078679,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:25:4:9]","description":"does not have cached sent fields","full_description":"Estimate A draft Estimate for a VAT registered company with no items does not have cached sent fields","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":136,"run_time":0.023557889,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:25:4:10]","description":"has a default theme","full_description":"Estimate A draft Estimate for a VAT registered company with no items has a default theme","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":168,"run_time":0.026872495,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:25:5:1]","description":"is valid","full_description":"Estimate A draft Estimate for a VAT registered company with several items is valid","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":177,"run_time":0.148239459,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:25:5:2]","description":"has three estimate items","full_description":"Estimate A draft Estimate for a VAT registered company with several items has three estimate items","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":180,"run_time":0.134083489,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:25:5:3]","description":"is sendable","full_description":"Estimate A draft Estimate for a VAT registered company with several items is sendable","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":183,"run_time":0.141772394,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:25:5:4]","description":"is deletable","full_description":"Estimate A draft Estimate for a VAT registered company with several items is deletable","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":186,"run_time":0.127911859,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:25:5:5]","description":"has correct total values","full_description":"Estimate A draft Estimate for a VAT registered company with several items has correct total values","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":189,"run_time":0.142487438,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:25:5:6]","description":"destroys it's estimate items when destroyed","full_description":"Estimate A draft Estimate for a VAT registered company with several items destroys it's estimate items when destroyed","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":194,"run_time":0.170206371,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:25:5:7]","description":"destroys it's emails when destroyed","full_description":"Estimate A draft Estimate for a VAT registered company with several items destroys it's emails when destroyed","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":198,"run_time":0.267908759,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:25:5:8]","description":"is able to transition to Sent status","full_description":"Estimate A draft Estimate for a VAT registered company with several items is able to transition to Sent status","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":203,"run_time":0.167383278,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:25:5:9]","description":"is able to transition to Approved or Rejected status","full_description":"Estimate A draft Estimate for a VAT registered company with several items is able to transition to Approved or Rejected status","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":206,"run_time":0.130399785,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:25:5:10]","description":"is not convertable to invoice","full_description":"Estimate A draft Estimate for a VAT registered company with several items is not convertable to invoice","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":211,"run_time":0.134828687,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:25:5:11]","description":"recalculates cached values when changing status from draft to sent","full_description":"Estimate A draft Estimate for a VAT registered company with several items recalculates cached values when changing status from draft to sent","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":215,"run_time":0.119997427,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:25:6:1]","description":"is not valid","full_description":"Estimate A draft Estimate for a VAT registered company with a mismatched project and contact is not valid","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":228,"run_time":0.053273125,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:25:7:1]","description":"is invalid if tagged as EC Services or MOSS","full_description":"Estimate A draft Estimate for a VAT registered company with stock line items is invalid if tagged as EC Services or MOSS","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":240,"run_time":0.120733961,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:26:1]","description":"creates an invoice that is dated on the company's trading_start_date","full_description":"Estimate An Estimate that is dated before the company's trading start date creates an invoice that is dated on the company's trading_start_date","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":266,"run_time":0.209308897,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:27:1]","description":"is sendable","full_description":"Estimate An Estimate which has been approved is sendable","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":275,"run_time":0.043067201,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:27:2]","description":"is convertable to invoice","full_description":"Estimate An Estimate which has been approved is convertable to invoice","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":279,"run_time":0.0385574,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:27:3:1]","description":"is invoiced again","full_description":"Estimate An Estimate which has been approved and subsequenty invoiced is invoiced again","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":294,"run_time":0.169223131,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:28:1]","description":"has a status of Sent","full_description":"Estimate An Estimate which has been marked as sent has a status of Sent","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":306,"run_time":0.049776999,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:28:2]","description":"is sendable","full_description":"Estimate An Estimate which has been marked as sent is sendable","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":310,"run_time":0.044580971,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:28:3]","description":"is not invoiced","full_description":"Estimate An Estimate which has been marked as sent is not invoiced","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":314,"run_time":0.038559987,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:28:4]","description":"is not deletable","full_description":"Estimate An Estimate which has been marked as sent is not deletable","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":318,"run_time":0.043289153,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:28:5]","description":"has cached sent fields","full_description":"Estimate An Estimate which has been marked as sent has cached sent fields","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":322,"run_time":0.051633853,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:28:6]","description":"is able to transition to Draft or Approved status","full_description":"Estimate An Estimate which has been marked as sent is able to transition to Draft or Approved status","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":354,"run_time":0.051997816,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:28:7]","description":"has a short status of Open","full_description":"Estimate An Estimate which has been marked as sent has a short status of Open","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":358,"run_time":0.049568786,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:28:8]","description":"prefers sent contact information","full_description":"Estimate An Estimate which has been marked as sent prefers sent contact information","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":362,"run_time":0.055266894,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:28:9]","description":"is convertable to invoice","full_description":"Estimate An Estimate which has been marked as sent is convertable to invoice","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":373,"run_time":0.048759344,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:28:10]","description":"converts to an invoice","full_description":"Estimate An Estimate which has been marked as sent converts to an invoice","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":377,"run_time":0.149236517,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:28:11:1]","description":"is marked as invoiced","full_description":"Estimate An Estimate which has been marked as sent and subsequently invoiced is marked as invoiced","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":399,"run_time":0.314746737,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:28:11:2]","description":"is not able to transition to any other state","full_description":"Estimate An Estimate which has been marked as sent and subsequently invoiced is not able to transition to any other state","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":402,"run_time":0.261892562,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:28:11:3]","description":"is not deletable","full_description":"Estimate An Estimate which has been marked as sent and subsequently invoiced is not deletable","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":407,"run_time":0.238677225,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:28:11:4]","description":"is sendable","full_description":"Estimate An Estimate which has been marked as sent and subsequently invoiced is sendable","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":410,"run_time":0.244051659,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:28:11:5]","description":"is locked","full_description":"Estimate An Estimate which has been marked as sent and subsequently invoiced is locked","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":414,"run_time":0.235224488,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:28:11:6]","description":"has an invoice assigned","full_description":"Estimate An Estimate which has been marked as sent and subsequently invoiced has an invoice assigned","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":418,"run_time":0.264864036,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:28:11:7]","description":"is not invoiced again","full_description":"Estimate An Estimate which has been marked as sent and subsequently invoiced is not invoiced again","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":422,"run_time":0.239251144,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:28:11:8:1]","description":"has no invoice assigned","full_description":"Estimate An Estimate which has been marked as sent and subsequently invoiced which is then duplicated has no invoice assigned","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":431,"run_time":0.255057541,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:28:11:8:2]","description":"is not locked","full_description":"Estimate An Estimate which has been marked as sent and subsequently invoiced which is then duplicated is not locked","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":435,"run_time":0.253321883,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:29:1:1]","description":"is expected to have the audit_entries scope with the correct parameters","full_description":"Estimate behaves like auditable entity .audit_entries is expected to have the audit_entries scope with the correct parameters","status":"passed","file_path":"./engines/audit_trail/spec/support/shared_examples/audit_trail/entity_shared_examples.rb","line_number":20,"run_time":0.0218823,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:29:1:2]","description":"orders the audit_entries latest first, newest to oldest","full_description":"Estimate behaves like auditable entity .audit_entries orders the audit_entries latest first, newest to oldest","status":"passed","file_path":"./engines/audit_trail/spec/support/shared_examples/audit_trail/entity_shared_examples.rb","line_number":25,"run_time":0.759110687,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:29:1:3]","description":"does not remove audit_entries when destroyed, instead it leaves the auditable_(type|id|name) untouched","full_description":"Estimate behaves like auditable entity .audit_entries does not remove audit_entries when destroyed, instead it leaves the auditable_(type|id|name) untouched","status":"passed","file_path":"./engines/audit_trail/spec/support/shared_examples/audit_trail/entity_shared_examples.rb","line_number":40,"run_time":0.584773333,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:29:2:1]","description":"is expected to have the audit_entries scope with the correct parameters","full_description":"Estimate behaves like auditable entity .linked_audit_entries is expected to have the audit_entries scope with the correct parameters","status":"passed","file_path":"./engines/audit_trail/spec/support/shared_examples/audit_trail/entity_shared_examples.rb","line_number":63,"run_time":0.02563212,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:29:2:2]","description":"orders the linked_audit_entries latest first, newest to oldest","full_description":"Estimate behaves like auditable entity .linked_audit_entries orders the linked_audit_entries latest first, newest to oldest","status":"passed","file_path":"./engines/audit_trail/spec/support/shared_examples/audit_trail/entity_shared_examples.rb","line_number":68,"run_time":0.77153357,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:29:3:1]","description":"defines its own auditable_name that is suitable for the included class","full_description":"Estimate behaves like auditable entity #auditable_name defines its own auditable_name that is suitable for the included class","status":"passed","file_path":"./engines/audit_trail/spec/support/shared_examples/audit_trail/entity_shared_examples.rb","line_number":89,"run_time":0.019487679,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:29:3:2]","description":"does not raise any errors","full_description":"Estimate behaves like auditable entity #auditable_name does not raise any errors","status":"passed","file_path":"./engines/audit_trail/spec/support/shared_examples/audit_trail/entity_shared_examples.rb","line_number":93,"run_time":0.04644104,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:29:4:1]","description":"returns self","full_description":"Estimate behaves like auditable entity #auditable_entity returns self","status":"passed","file_path":"./engines/audit_trail/spec/support/shared_examples/audit_trail/entity_shared_examples.rb","line_number":101,"run_time":0.027416175,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:29:5:1]","description":"defines its own auditable_capture_enabled? that returns a boolean","full_description":"Estimate behaves like auditable entity #auditable_capture_enabled? defines its own auditable_capture_enabled? that returns a boolean","status":"passed","file_path":"./engines/audit_trail/spec/support/shared_examples/audit_trail/entity_shared_examples.rb","line_number":117,"run_time":0.022258199,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:29:5:2]","description":"does not raise any errors","full_description":"Estimate behaves like auditable entity #auditable_capture_enabled? does not raise any errors","status":"passed","file_path":"./engines/audit_trail/spec/support/shared_examples/audit_trail/entity_shared_examples.rb","line_number":121,"run_time":0.024806111,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:30:1]","description":"is expected to eq true","full_description":"Estimate#auditable_capture_enabled? is expected to eq true","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":452,"run_time":0.023130423,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:31:1]","description":"is expected to eq true","full_description":"Estimate#auditable_force_capture_enabled? is expected to eq true","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":461,"run_time":0.024110204,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:32:1]","description":"combines Estimate and the reference together","full_description":"Estimate#auditable_name combines Estimate and the reference together","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":469,"run_time":0.025437892,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:33:1:1]","description":"does not involve sales tax if not in the same tax area","full_description":"Estimate#involves_sales_tax? A VAT registered UK limited company does not involve sales tax if not in the same tax area","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":482,"run_time":0.017883875,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:33:1:2]","description":"allows contacts to override sales tax involvement","full_description":"Estimate#involves_sales_tax? A VAT registered UK limited company allows contacts to override sales tax involvement","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":486,"run_time":0.019799369,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:33:1:3]","description":"does not allow EC Services estimates to involve sales tax","full_description":"Estimate#involves_sales_tax? A VAT registered UK limited company does not allow EC Services estimates to involve sales tax","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":492,"run_time":0.015752392,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:33:1:4:1]","description":"returns true","full_description":"Estimate#involves_sales_tax? A VAT registered UK limited company when the contact is nil, indicating it will be created with the estimate returns true","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":500,"run_time":0.016148167,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:33:2:1]","description":"involves sales tax if contact set to auto charge","full_description":"Estimate#involves_sales_tax? A sales tax registered Universal company with a contact on an estimate involves sales tax if contact set to auto charge","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":530,"run_time":0.119112038,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:33:2:2]","description":"does not involve sales tax if contact set to never charge","full_description":"Estimate#involves_sales_tax? A sales tax registered Universal company with a contact on an estimate does not involve sales tax if contact set to never charge","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":535,"run_time":0.1407742,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:33:2:3]","description":"involves sales tax if contact set to always charge and contact in another country","full_description":"Estimate#involves_sales_tax? A sales tax registered Universal company with a contact on an estimate involves sales tax if contact set to always charge and contact in another country","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":542,"run_time":0.151736486,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:34:1:1]","description":"involves second sales tax if contact is set to auto and company is second sales tax registered","full_description":"Estimate#involves_second_sales_tax? A sales tax registered Universal company with a contact on an estimate involves second sales tax if contact is set to auto and company is second sales tax registered","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":575,"run_time":0.144240608,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:34:1:2]","description":"does not involve second sales tax if contact is set to never charge","full_description":"Estimate#involves_second_sales_tax? A sales tax registered Universal company with a contact on an estimate does not involve second sales tax if contact is set to never charge","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":580,"run_time":0.146882695,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:34:1:3]","description":"involves second sales tax if contact set to always charge and contact in another country","full_description":"Estimate#involves_second_sales_tax? A sales tax registered Universal company with a contact on an estimate involves second sales tax if contact set to always charge and contact in another country","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":588,"run_time":0.166906973,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:34:2:1]","description":"does not involve second sales tax if not in the same tax area","full_description":"Estimate#involves_second_sales_tax? A UK company does not involve second sales tax if not in the same tax area","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":603,"run_time":0.016713475,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:34:2:2]","description":"does not allow contacts to override second sales tax involvement","full_description":"Estimate#involves_second_sales_tax? A UK company does not allow contacts to override second sales tax involvement","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":607,"run_time":0.023375046,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:34:2:3]","description":"does not allow EC Services estimates to involve sales tax","full_description":"Estimate#involves_second_sales_tax? A UK company does not allow EC Services estimates to involve sales tax","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":613,"run_time":0.023633881,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:35:1]","description":"does not contain VAT","full_description":"Estimate An Estimate with a non-UK contact with charge sales tax set to 'Never' does not contain VAT","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":629,"run_time":0.11872778,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:36:1]","description":"correctly substitutes the macros","full_description":"Estimate An estimate email with macros correctly substitutes the macros","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":651,"run_time":0.128777211,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:37:1]","description":"involves sales tax","full_description":"Estimate An estimate tagged for MOSS involves sales tax","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":662,"run_time":0.032041757,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:38:1]","description":"is expected not to allow :currency to be ‹\"??\"›","full_description":"Estimate A new estimate is expected not to allow :currency to be ‹\"??\"›","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":675,"run_time":0.024422882,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:38:2]","description":"is expected not to allow :currency to be ‹\"US\"›","full_description":"Estimate A new estimate is expected not to allow :currency to be ‹\"US\"›","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":675,"run_time":0.027680412,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:38:3]","description":"is expected not to allow :currency to be ‹\"OLI\"›","full_description":"Estimate A new estimate is expected not to allow :currency to be ‹\"OLI\"›","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":675,"run_time":0.026074395,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:38:4]","description":"is expected not to allow :currency to be ‹nil›","full_description":"Estimate A new estimate is expected not to allow :currency to be ‹nil›","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":675,"run_time":0.021551103,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:38:5]","description":"allows values for all defined invoice currencies","full_description":"Estimate A new estimate allows values for all defined invoice currencies","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":678,"run_time":0.616102096,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:38:6]","description":"has the same currency as the project","full_description":"Estimate A new estimate has the same currency as the project","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":690,"run_time":0.039104429,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:39:1:1]","description":"correctly sets the attributes on the duplicate estimate","full_description":"Estimate Building a duplicate estimate without estimate items correctly sets the attributes on the duplicate estimate","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":718,"run_time":0.121025932,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:39:1:2]","description":"correctly increments the reference","full_description":"Estimate Building a duplicate estimate without estimate items correctly increments the reference","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":726,"run_time":0.108812241,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:39:2:1]","description":"correctly sets the attributes on the duplicate estimate","full_description":"Estimate Building a duplicate estimate with estimate items correctly sets the attributes on the duplicate estimate","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":732,"run_time":0.110222086,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:40:1]","description":"converts to an invoice using the current VAT rate","full_description":"Estimate An estimate created in a 15% VAT period converts to an invoice using the current VAT rate","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":760,"run_time":0.265287259,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:41:1:1]","description":"does not involve sales tax","full_description":"Estimate An estimate for a VAT registered company for an EC Services estimate does not involve sales tax","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":787,"run_time":0.113027062,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:41:1:2]","description":"shows the company vat registration number","full_description":"Estimate An estimate for a VAT registered company for an EC Services estimate shows the company vat registration number","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":791,"run_time":0.136727649,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:41:1:3]","description":"does not allow stock line items","full_description":"Estimate An estimate for a VAT registered company for an EC Services estimate does not allow stock line items","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":795,"run_time":0.178845309,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:41:2:1]","description":"hides contact's sales_tax_registration_number","full_description":"Estimate An estimate for a VAT registered company for a contact based in US hides contact's sales_tax_registration_number","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":806,"run_time":0.138561027,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:41:2:2:1]","description":"does not cache the contact's sales_tax_registration_number","full_description":"Estimate An estimate for a VAT registered company for a contact based in US in sent state does not cache the contact's sales_tax_registration_number","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":815,"run_time":0.136843601,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:41:3:1]","description":"hides the VAT registration number","full_description":"Estimate An estimate for a VAT registered company when the company is based in US hides the VAT registration number","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":826,"run_time":0.150622047,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:41:4:1]","description":"has the company vat registration number after registration","full_description":"Estimate An estimate for a VAT registered company An Estimate for a company that has applied for VAT registration has the company vat registration number after registration","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":835,"run_time":0.448295608,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:42:1:1]","description":"transfers the stock lines correctly","full_description":"Estimate An estimate with line items tied to stock items when converted to an invoice transfers the stock lines correctly","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":872,"run_time":0.244471168,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:42:1:2]","description":"transfers the non stock lines correctly","full_description":"Estimate An estimate with line items tied to stock items when converted to an invoice transfers the non stock lines correctly","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":876,"run_time":0.212639403,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:43:1]","description":"reports that it has advanced options","full_description":"Estimate An estimate set to show project name reports that it has advanced options","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":891,"run_time":0.023664042,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:43:2]","description":"propagates that through to the invoice on conversion","full_description":"Estimate An estimate set to show project name propagates that through to the invoice on conversion","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":895,"run_time":0.10778385,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:43:3]","description":"carries through to duplicated estimates","full_description":"Estimate An estimate set to show project name carries through to duplicated estimates","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":899,"run_time":0.028178471,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:44:1]","description":"reports that it has advanced options","full_description":"Estimate An estimate with a client contact name reports that it has advanced options","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":913,"run_time":0.025192516,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:44:2]","description":"propagates that through to the invoice on conversion","full_description":"Estimate An estimate with a client contact name propagates that through to the invoice on conversion","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":917,"run_time":0.12502525,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:44:3]","description":"carries through to duplicated estimates","full_description":"Estimate An estimate with a client contact name carries through to duplicated estimates","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":921,"run_time":0.030945852,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:45:1]","description":"reports that it has advanced options","full_description":"Estimate A discounted estimate reports that it has advanced options","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":935,"run_time":0.025629055,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:45:2]","description":"propagates that through to the invoice on conversion","full_description":"Estimate A discounted estimate propagates that through to the invoice on conversion","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":939,"run_time":0.098193094,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:45:3]","description":"carries through to duplicated estimates","full_description":"Estimate A discounted estimate carries through to duplicated estimates","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":943,"run_time":0.025768615,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:46:1]","description":"reports that it has advanced options","full_description":"Estimate An estimate set to use letterheaded paper reports that it has advanced options","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":957,"run_time":0.022707207,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:46:2]","description":"propagates that through to the invoice on conversion","full_description":"Estimate An estimate set to use letterheaded paper propagates that through to the invoice on conversion","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":961,"run_time":0.105819985,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:46:3]","description":"carries through to duplicated estimates","full_description":"Estimate An estimate set to use letterheaded paper carries through to duplicated estimates","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":965,"run_time":0.030957705,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:47:1:1]","description":"uses the default invoice text on the converted invoice","full_description":"Estimate An estimate with no additional text where converted and the company has default invoice text uses the default invoice text on the converted invoice","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":986,"run_time":0.114955866,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:48:1:1]","description":"uses the invoice additional text on the converted invoice","full_description":"Estimate An estimate with additional text where converted and the company has default invoice text uses the invoice additional text on the converted invoice","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1010,"run_time":0.115995864,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:48:2:1]","description":"uses the estimate additional text on the converted invoice","full_description":"Estimate An estimate with additional text where converted and the company has no default invoice text uses the estimate additional text on the converted invoice","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1026,"run_time":0.096857967,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:49:1]","description":"has 0 cached values","full_description":"Estimate A new estimate has 0 cached values","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1033,"run_time":0.012820097,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:49:2:1]","description":"duplicates items","full_description":"Estimate A new estimate building duplicate items from a template duplicates items","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1047,"run_time":0.04622161,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:49:2:2:1]","description":"updates sales tax per the accounting date","full_description":"Estimate A new estimate building duplicate items from a template with an accounting date updates sales tax per the accounting date","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1058,"run_time":0.043910002,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:49:2:3:1]","description":"does not update item sales tax","full_description":"Estimate A new estimate building duplicate items from a template without an accounting date does not update item sales tax","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1075,"run_time":0.044524197,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:50:1]","description":"updates cached values when a new item is added","full_description":"Estimate An existing estimate updates cached values when a new item is added","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1094,"run_time":0.056205492,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:51:1:1]","description":"includes the approved estimate","full_description":"Estimate Given two approved estimates, where one has been invoiced the contents of Estimate.approved includes the approved estimate","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1121,"run_time":0.253937705,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:51:1:2]","description":"does not include the approved and invoiced estimate","full_description":"Estimate Given two approved estimates, where one has been invoiced the contents of Estimate.approved does not include the approved and invoiced estimate","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1125,"run_time":0.240919748,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:51:2:1]","description":"includes the approved and invoiced estimate","full_description":"Estimate Given two approved estimates, where one has been invoiced the contents of Estimate.invoiced includes the approved and invoiced estimate","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1135,"run_time":0.227969201,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:51:2:2]","description":"does not include the approved estimate","full_description":"Estimate Given two approved estimates, where one has been invoiced the contents of Estimate.invoiced does not include the approved estimate","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1139,"run_time":0.243367135,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:52:1]","description":"does not return a vat registration number if one is not set","full_description":"Estimate An estimate for a US company does not return a vat registration number if one is not set","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1164,"run_time":0.169947042,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:52:2]","description":"returns the same vat registration number for past dates, cached or not","full_description":"Estimate An estimate for a US company returns the same vat registration number for past dates, cached or not","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1168,"run_time":0.111169483,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:52:3:1:1]","description":"returns locale as en-US","full_description":"Estimate An estimate for a US company for a contact based in US when the contact's locale is 'en' returns locale as en-US","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1187,"run_time":0.126256992,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:52:3:1:2]","description":"in sent state","full_description":"Estimate An estimate for a US company for a contact based in US when the contact's locale is 'en' in sent state","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1191,"run_time":0.144417663,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:52:3:2:1]","description":"returns the contact's locale","full_description":"Estimate An estimate for a US company for a contact based in US for any other locale returns the contact's locale","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1205,"run_time":0.116528919,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:52:3:2:2:1]","description":"does not change locale if contact's locale is changed","full_description":"Estimate An estimate for a US company for a contact based in US for any other locale in sent state does not change locale if contact's locale is changed","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1210,"run_time":0.137054334,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:52:4:1]","description":"returns locale as contact's locale","full_description":"Estimate An estimate for a US company for a contact based outside US returns locale as contact's locale","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1225,"run_time":0.133523028,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:52:4:2:1]","description":"does not change locale if contact's country is updated to United States","full_description":"Estimate An estimate for a US company for a contact based outside US in sent state does not change locale if contact's country is updated to United States","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1234,"run_time":0.119350183,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:53:1]","description":"creates an audit entry when an estimate is converted to an invoice","full_description":"Estimate audit trail creates an audit entry when an estimate is converted to an invoice","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1254,"run_time":0.17571305,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:53:2]","description":"does not create an audit entry when something goes wrong converting estimate to invoice","full_description":"Estimate audit trail does not create an audit entry when something goes wrong converting estimate to invoice","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1279,"run_time":0.118046445,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:54:1]","description":"has the EC status set","full_description":"Estimate MOSS estimates has the EC status set","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1295,"run_time":0.049215495,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:54:2]","description":"creates an EcSupply object","full_description":"Estimate MOSS estimates creates an EcSupply object","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1299,"run_time":0.048114253,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:54:3]","description":"uses the Place of Supply from the EcSupply object","full_description":"Estimate MOSS estimates uses the Place of Supply from the EcSupply object","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1304,"run_time":0.05144039,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:54:4]","description":"carries the MOSS information over when turned into invoices","full_description":"Estimate MOSS estimates carries the MOSS information over when turned into invoices","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1308,"run_time":0.186961366,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:54:5:1]","description":"has their EC status locked","full_description":"Estimate MOSS estimates with line items has their EC status locked","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1320,"run_time":0.067605885,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:54:5:2]","description":"has their place of supply locked","full_description":"Estimate MOSS estimates with line items has their place of supply locked","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1330,"run_time":0.055584693,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:55:1:1]","description":"is true when the company has a registration number","full_description":"Estimate#show_company_registration_number? on a Draft estimate is true when the company has a registration number","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1341,"run_time":0.123144365,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:55:1:2]","description":"is false when a company does not have a registration number","full_description":"Estimate#show_company_registration_number? on a Draft estimate is false when a company does not have a registration number","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1348,"run_time":0.094392201,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:55:1:3]","description":"is always false for company types that don't support registration numbers","full_description":"Estimate#show_company_registration_number? on a Draft estimate is always false for company types that don't support registration numbers","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1355,"run_time":0.152084999,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:55:2:1]","description":"is true when there is a cached registration number","full_description":"Estimate#show_company_registration_number? on an estimate that is no longer a Draft is true when there is a cached registration number","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1367,"run_time":0.012428549,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:55:2:2]","description":"is false when there is no cached registration number","full_description":"Estimate#show_company_registration_number? on an estimate that is no longer a Draft is false when there is no cached registration number","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1374,"run_time":0.016103418,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:56:1]","description":"returns the sent registration number if it is present","full_description":"Estimate#company_registration_number returns the sent registration number if it is present","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1384,"run_time":0.023798502,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:56:2]","description":"returns the current registration number when the estimate has no sent value","full_description":"Estimate#company_registration_number returns the current registration number when the estimate has no sent value","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1392,"run_time":0.02500943,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:57:1:1]","description":"is possible to set the include_sales_tax_on_total_value attribute","full_description":"Estimate include_sales_tax_on_total_value validations on a draft estimate is possible to set the include_sales_tax_on_total_value attribute","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1403,"run_time":0.029244698,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:57:2:1]","description":"fails validations if the attribute is changed","full_description":"Estimate include_sales_tax_on_total_value validations on a sent estimate fails validations if the attribute is changed","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1412,"run_time":0.031921651,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:58:1:1]","description":"returns true","full_description":"Estimate#sales_tax_relevant? when the company is charging sales tax on the estimate date returns true","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1444,"run_time":0.103079608,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:58:2:1:1]","description":"returns true","full_description":"Estimate#sales_tax_relevant? when the company is NOT charging sales tax on the estimate date when the estimate is subject to VAT MOSS returns true","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1455,"run_time":0.102151172,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:58:2:2:1]","description":"returns false","full_description":"Estimate#sales_tax_relevant? when the company is NOT charging sales tax on the estimate date when the estimate is NOT subject to VAT MOSS returns false","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1461,"run_time":0.106990906,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:59:1:1]","description":"returns true","full_description":"Estimate#second_sales_tax_relevant? when the company is charging secondary sales tax on the estimate date returns true","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1480,"run_time":0.015377769,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:59:2:1]","description":"returns false","full_description":"Estimate#second_sales_tax_relevant? when the company is NOT charging secondary sales tax on the estimate date returns false","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1488,"run_time":0.01211582,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:60:1]","description":"returns native total for open and overdue estimates","full_description":"Estimate total_due_value_in_native_currency returns native total for open and overdue estimates","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1534,"run_time":0.382151505,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:61:1:1]","description":"returns the configured theme","full_description":"Estimate#theme with theme_customisation_circuit_breaker working returns the configured theme","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1557,"run_time":0.044818827,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:61:2:1:1]","description":"returns the configured theme","full_description":"Estimate#theme with theme_customisation_circuit_breaker broken with a gallery theme configured returns the configured theme","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1571,"run_time":0.026424877,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:61:2:2:1:1]","description":"returns the company's default theme","full_description":"Estimate#theme with theme_customisation_circuit_breaker broken with a custom theme configured when the company has a gallery theme as default returns the company's default theme","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1582,"run_time":0.047357117,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_spec.rb[1:61:2:2:2:1]","description":"returns the app-wide default theme (bauhaus)","full_description":"Estimate#theme with theme_customisation_circuit_breaker broken with a custom theme configured when the company has the custom theme as default returns the app-wide default theme (bauhaus)","status":"passed","file_path":"./spec/models/estimate_spec.rb","line_number":1590,"run_time":0.04713702,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/dashboard_spec.rb[1:1:1]","description":"has correct fields","full_description":"Salesforce::Models::Dashboard for an active FAPD Practice has correct fields","status":"passed","file_path":"./spec/models/salesforce/models/dashboard_spec.rb","line_number":25,"run_time":1.646169727,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/dashboard_spec.rb[1:1:2]","description":"doesn't include a Last Account Manager Activity date from the practice","full_description":"Salesforce::Models::Dashboard for an active FAPD Practice doesn't include a Last Account Manager Activity date from the practice","status":"passed","file_path":"./spec/models/salesforce/models/dashboard_spec.rb","line_number":98,"run_time":0.733320925,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/dashboard_spec.rb[1:1:3]","description":"doesn't include a boolean saying the Free Trial is expired","full_description":"Salesforce::Models::Dashboard for an active FAPD Practice doesn't include a boolean saying the Free Trial is expired","status":"passed","file_path":"./spec/models/salesforce/models/dashboard_spec.rb","line_number":102,"run_time":0.810307531,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/dashboard_spec.rb[1:1:4:1]","description":"includes the free_periods_enabled state of the practice","full_description":"Salesforce::Models::Dashboard for an active FAPD Practice with free periods enabled includes the free_periods_enabled state of the practice","status":"passed","file_path":"./spec/models/salesforce/models/dashboard_spec.rb","line_number":109,"run_time":0.826412042,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/dashboard_spec.rb[1:1:5:1]","description":"includes the name of the pricing plan","full_description":"Salesforce::Models::Dashboard for an active FAPD Practice with a FAPD sales plan includes the name of the pricing plan","status":"passed","file_path":"./spec/models/salesforce/models/dashboard_spec.rb","line_number":117,"run_time":0.772428262,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/dashboard_spec.rb[1:1:6:1]","description":"includes the enable_client_onboarding_journey value from the practice","full_description":"Salesforce::Models::Dashboard for an active FAPD Practice with client onboarding journey disabled includes the enable_client_onboarding_journey value from the practice","status":"passed","file_path":"./spec/models/salesforce/models/dashboard_spec.rb","line_number":125,"run_time":0.744014693,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/dashboard_spec.rb[1:1:7:1]","description":"has the last invoice details","full_description":"Salesforce::Models::Dashboard for an active FAPD Practice with invoices has the last invoice details","status":"passed","file_path":"./spec/models/salesforce/models/dashboard_spec.rb","line_number":142,"run_time":0.99867187,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/dashboard_spec.rb[1:1:8:1]","description":"doesn't produce any xml","full_description":"Salesforce::Models::Dashboard for an active FAPD Practice without a salesforce key doesn't produce any xml","status":"passed","file_path":"./spec/models/salesforce/models/dashboard_spec.rb","line_number":158,"run_time":0.796504423,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/dashboard_spec.rb[1:2:1]","description":"includes the practice sale fields","full_description":"Salesforce::Models::Dashboard for a trial FAPD practice includes the practice sale fields","status":"passed","file_path":"./spec/models/salesforce/models/dashboard_spec.rb","line_number":167,"run_time":0.097528418,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/dashboard_spec.rb[1:3:1]","description":"includes the practice sale fields","full_description":"Salesforce::Models::Dashboard for a suspended FAPD practice includes the practice sale fields","status":"passed","file_path":"./spec/models/salesforce/models/dashboard_spec.rb","line_number":180,"run_time":0.069578775,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/dashboard_spec.rb[1:4:1]","description":"has expected fields","full_description":"Salesforce::Models::Dashboard for a whitelabelled practice has expected fields","status":"passed","file_path":"./spec/models/salesforce/models/dashboard_spec.rb","line_number":189,"run_time":0.073886586,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/dashboard_spec.rb[1:5:1]","description":"has a nil MTD VAT authorization expiration","full_description":"Salesforce::Models::Dashboard for a practice with no active MTD authorization has a nil MTD VAT authorization expiration","status":"passed","file_path":"./spec/models/salesforce/models/dashboard_spec.rb","line_number":199,"run_time":0.040577436,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/models/dashboard_spec.rb[1:6:1]","description":"has the MTD VAT authorization expiration","full_description":"Salesforce::Models::Dashboard for a practice with an active MTD VAT authorization has the MTD VAT authorization expiration","status":"passed","file_path":"./spec/models/salesforce/models/dashboard_spec.rb","line_number":210,"run_time":0.070587799,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/payments_on_account.feature[1:1:1]","description":"Given a UK sole trader with company start date: 2011-01-31, first accounting year end: 2011-04-05 -\u003e Given the business made a profit of £11,000 for tax purposes in the year ended 2013-04-05 -\u003e Then the tax timeline on 2014-01-31 will show the following timeline items:","full_description":"Calculate Payments on Account for UK Sole Traders No payment on account is due because combined liability is too small Given a UK sole trader with company start date: 2011-01-31, first accounting year end: 2011-04-05 -\u003e Given the business made a profit of £11,000 for tax purposes in the year ended 2013-04-05 -\u003e Then the tax timeline on 2014-01-31 will show the following timeline items:","status":"passed","file_path":"./spec/acceptance/self_assessment/payments_on_account.feature","line_number":6,"run_time":0.755586565,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/payments_on_account.feature[1:2:1]","description":"Given a UK sole trader with company start date: 2011-01-31, first accounting year end: 2011-04-05 -\u003e Given the business made a profit of £28,000 for tax purposes in the year ended 2013-04-05 -\u003e And the business made a profit of £1,000 for tax purposes in the year ended 2014-04-05 -\u003e Then the tax timeline on 2014-01-31 will show the following timeline items:","full_description":"Calculate Payments on Account for UK Sole Traders Payments on account are due for 2012/13 but the combined liability for 2013/14 is Given a UK sole trader with company start date: 2011-01-31, first accounting year end: 2011-04-05 -\u003e Given the business made a profit of £28,000 for tax purposes in the year ended 2013-04-05 -\u003e And the business made a profit of £1,000 for tax purposes in the year ended 2014-04-05 -\u003e Then the tax timeline on 2014-01-31 will show the following timeline items:","status":"passed","file_path":"./spec/acceptance/self_assessment/payments_on_account.feature","line_number":15,"run_time":0.842489473,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/payments_on_account.feature[1:3:1]","description":"Given a UK sole trader with company start date: 2011-01-31, first accounting year end: 2011-04-05 -\u003e Given the business made a profit of £28,205 for tax purposes in the year ended 2013-04-05 -\u003e And the business made a profit of £30,001 for tax purposes in the year ended 2014-04-05 -\u003e Then the tax timeline on 2014-01-31 will show the following timeline items:","full_description":"Calculate Payments on Account for UK Sole Traders Payments on account are due for 2012/13 and 2013/14 and the total of the two payments Given a UK sole trader with company start date: 2011-01-31, first accounting year end: 2011-04-05 -\u003e Given the business made a profit of £28,205 for tax purposes in the year ended 2013-04-05 -\u003e And the business made a profit of £30,001 for tax purposes in the year ended 2014-04-05 -\u003e Then the tax timeline on 2014-01-31 will show the following timeline items:","status":"passed","file_path":"./spec/acceptance/self_assessment/payments_on_account.feature","line_number":28,"run_time":0.859331365,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/payments_on_account.feature[1:4:1]","description":"Given a UK sole trader with company start date: 2011-01-31, first accounting year end: 2011-04-05 -\u003e Given the business made a profit of £28,000 for tax purposes in the year ended 2013-04-05 -\u003e And the business made a profit of £30,000 for tax purposes in the year ended 2014-04-05 -\u003e Then the tax timeline on 2014-01-31 will show the following timeline items:","full_description":"Calculate Payments on Account for UK Sole Traders Payments on account are due for 2012/13 and 2013/14 and the total of the two payments Given a UK sole trader with company start date: 2011-01-31, first accounting year end: 2011-04-05 -\u003e Given the business made a profit of £28,000 for tax purposes in the year ended 2013-04-05 -\u003e And the business made a profit of £30,000 for tax purposes in the year ended 2014-04-05 -\u003e Then the tax timeline on 2014-01-31 will show the following timeline items:","status":"passed","file_path":"./spec/acceptance/self_assessment/payments_on_account.feature","line_number":43,"run_time":0.826221641,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/payments_on_account.feature[1:5:1]","description":"Given a UK sole trader with company start date: 2011-01-31, first accounting year end: 2011-04-05 -\u003e Given the business made a profit of £45,000 for tax purposes in the year ended 2013-04-05 -\u003e And there is a v2 self assessment return for 2013-04-05 -\u003e And other employment exists for 2012/13 -\u003e When the customer fills in the following boxes for 2012/13: -\u003e Then the tax timeline on 2014-01-31 will show the following timeline items:","full_description":"Calculate Payments on Account for UK Sole Traders No payment on account is due because more than 80% of combined liability is deducted at source Given a UK sole trader with company start date: 2011-01-31, first accounting year end: 2011-04-05 -\u003e Given the business made a profit of £45,000 for tax purposes in the year ended 2013-04-05 -\u003e And there is a v2 self assessment return for 2013-04-05 -\u003e And other employment exists for 2012/13 -\u003e When the customer fills in the following boxes for 2012/13: -\u003e Then the tax timeline on 2014-01-31 will show the following timeline items:","status":"passed","file_path":"./spec/acceptance/self_assessment/payments_on_account.feature","line_number":58,"run_time":0.9561364,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/payments_on_account.feature[1:6:1]","description":"Given a UK sole trader with company start date: 2011-01-31, first accounting year end: 2011-04-05 -\u003e Given the business made a profit of £45,000 for tax purposes in the year ended 2013-04-05 -\u003e And there is a v2 self assessment return for 2011-04-05 -\u003e And there is a v2 self assessment return for 2012-04-05 -\u003e And there is a v2 self assessment return for 2013-04-05 -\u003e And other employment exists for 2012/13 -\u003e When the customer fills in the following boxes for 2012/13: -\u003e Then the tax timeline on 2014-01-31 will show the following timeline items:","full_description":"Calculate Payments on Account for UK Sole Traders No payment on account is due because more than 80% of combined liability is deducted at source and Given a UK sole trader with company start date: 2011-01-31, first accounting year end: 2011-04-05 -\u003e Given the business made a profit of £45,000 for tax purposes in the year ended 2013-04-05 -\u003e And there is a v2 self assessment return for 2011-04-05 -\u003e And there is a v2 self assessment return for 2012-04-05 -\u003e And there is a v2 self assessment return for 2013-04-05 -\u003e And other employment exists for 2012/13 -\u003e When the customer fills in the following boxes for 2012/13: -\u003e Then the tax timeline on 2014-01-31 will show the following timeline items:","status":"passed","file_path":"./spec/acceptance/self_assessment/payments_on_account.feature","line_number":72,"run_time":1.142675555,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/payments_on_account.feature[1:7:1]","description":"Given a UK sole trader with company start date: 2011-01-31, first accounting year end: 2011-04-05 -\u003e Given the business made a profit of £12,000 for tax purposes in the year ended 2013-04-05 -\u003e And there is a v2 self assessment return for 2013-04-05 -\u003e And other employment exists for 2012/13 -\u003e When the customer fills in the following boxes for 2012/13: -\u003e Then the tax timeline on 2014-01-31 will show the following timeline items:","full_description":"Calculate Payments on Account for UK Sole Traders Payments on account are due but there has been some tax deducted at source which Given a UK sole trader with company start date: 2011-01-31, first accounting year end: 2011-04-05 -\u003e Given the business made a profit of £12,000 for tax purposes in the year ended 2013-04-05 -\u003e And there is a v2 self assessment return for 2013-04-05 -\u003e And other employment exists for 2012/13 -\u003e When the customer fills in the following boxes for 2012/13: -\u003e Then the tax timeline on 2014-01-31 will show the following timeline items:","status":"passed","file_path":"./spec/acceptance/self_assessment/payments_on_account.feature","line_number":89,"run_time":1.014334956,"pending_message":null,"screenshot":null},{"id":"./spec/features/getting_started_spec.rb[1:6:1:3:2:2:1]","description":"company attributes are not locked but bank account attributes are","full_description":"Getting Started for an RBSG frontbook provisioned company auto_provisioned_nwg_company_fields_unlocked feature is enabled with the personalise_setup_stage feature flag enabled and the personalisation_interests_setup_stage flag enabled for Natwest company attributes are not locked but bank account attributes are","status":"passed","file_path":"./spec/features/getting_started_spec.rb","line_number":588,"run_time":8.766748386,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:1:1]","description":"includes payslips and payments in PAYE balance","full_description":"UkCompany A UK Company includes payslips and payments in PAYE balance","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":16,"run_time":0.318651968,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:1:2]","description":"has a current_tax_period","full_description":"UkCompany A UK Company has a current_tax_period","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":35,"run_time":0.010060549,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:2:1:1]","description":"flags the accounts for a full recalculation","full_description":"UkCompany A VAT-registered UK company on the invoice accounting basis who deregisters on the last day of the latest locked VAT return flags the accounts for a full recalculation","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":65,"run_time":0.942637756,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:2:2:1]","description":"flags the accounts for a full recalculation","full_description":"UkCompany A VAT-registered UK company on the invoice accounting basis who deregisters for VAT about a month ago flags the accounts for a full recalculation","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":88,"run_time":0.429342617,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:2:2:2:1]","description":"flags the accounts for a full recalculation","full_description":"UkCompany A VAT-registered UK company on the invoice accounting basis who deregisters for VAT about a month ago and then switches back to being registered flags the accounts for a full recalculation","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":103,"run_time":1.021593292,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:2:3:1]","description":"flags the accounts for a full recalculation","full_description":"UkCompany A VAT-registered UK company on the invoice accounting basis who sets their VAT registration status to unregistered flags the accounts for a full recalculation","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":116,"run_time":0.496548003,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:2:4:1]","description":"flags the accounts for a full recalculation","full_description":"UkCompany A VAT-registered UK company on the invoice accounting basis who sets their vat status to Applied For and subsequently changes their freeagent start date flags the accounts for a full recalculation","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":132,"run_time":0.676525487,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:3:1:1]","description":"flags the accounts for a full recalculation","full_description":"UkCompany A VAT-registered UK company on the cash accounting basis that de-registers during a return that is on the invoice basis flags the accounts for a full recalculation","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":161,"run_time":0.561041052,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:3:1:2:1]","description":"flags the accounts for a full recalculation","full_description":"UkCompany A VAT-registered UK company on the cash accounting basis that de-registers during a return that is on the invoice basis and then switches to being registered flags the accounts for a full recalculation","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":173,"run_time":1.028227942,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:3:2:1]","description":"flags the accounts for a full recalculation","full_description":"UkCompany A VAT-registered UK company on the cash accounting basis that de-registers on their first return which is on the invoice basis flags the accounts for a full recalculation","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":194,"run_time":0.763762095,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:4:1]","description":"#tax_year_start returns start of the UK tax year for a date","full_description":"UkCompany tax year helpers #tax_year_start returns start of the UK tax year for a date","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":206,"run_time":0.009158874,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:4:2]","description":"#tax_year_end returns end of the UK tax year for a date","full_description":"UkCompany tax year helpers #tax_year_end returns end of the UK tax year for a date","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":210,"run_time":0.008717689,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:4:3]","description":"#tax_year returns start and end of the UK tax year for a date from company's tax years","full_description":"UkCompany tax year helpers #tax_year returns start and end of the UK tax year for a date from company's tax years","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":214,"run_time":0.007165307,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:4:4]","description":"#tax_year returns start and end of the UK tax year for a date in the future","full_description":"UkCompany tax year helpers #tax_year returns start and end of the UK tax year for a date in the future","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":219,"run_time":0.006547999,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:5:1]","description":"returns the non opening balance journal entry","full_description":"UkCompany#vat_control_account_journal_entries returns the non opening balance journal entry","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":238,"run_time":0.295775883,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:6:1]","description":"is the initial letter when the registration number is an upper case letter followed by digits","full_description":"UkCompany#registration_number_prefix is the initial letter when the registration number is an upper case letter followed by digits","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":246,"run_time":0.007445486,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:6:2]","description":"is the initial letters when the registration number is two upper case letters followed by digits","full_description":"UkCompany#registration_number_prefix is the initial letters when the registration number is two upper case letters followed by digits","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":251,"run_time":0.006138109,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:6:3]","description":"is nil when the registration number consists entirely of digits","full_description":"UkCompany#registration_number_prefix is nil when the registration number consists entirely of digits","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":256,"run_time":0.005161305,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:6:4]","description":"is nil when the registration number is invalid","full_description":"UkCompany#registration_number_prefix is nil when the registration number is invalid","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":261,"run_time":0.004227457,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:7:1]","description":"is the digits following a single letter prefix","full_description":"UkCompany#registration_number_digits is the digits following a single letter prefix","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":270,"run_time":0.004667933,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:7:2]","description":"is the digits following a two letter prefix","full_description":"UkCompany#registration_number_digits is the digits following a two letter prefix","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":275,"run_time":0.005026837,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:7:3]","description":"is the entire registration number when there is no letter prefix","full_description":"UkCompany#registration_number_digits is the entire registration number when there is no letter prefix","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":280,"run_time":0.005978286,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:7:4]","description":"is an empty string when the registration number is invalid","full_description":"UkCompany#registration_number_digits is an empty string when the registration number is invalid","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":285,"run_time":0.00491942,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:8:1]","description":"is England and Wales when there is no registration number prefix","full_description":"UkCompany#country_of_registration is England and Wales when there is no registration number prefix","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":294,"run_time":0.010858266,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:8:2]","description":"is Scotland when the registration number prefix is SC","full_description":"UkCompany#country_of_registration is Scotland when the registration number prefix is SC","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":299,"run_time":0.010774613,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:8:3]","description":"is Scotland when the registration number prefix is sc","full_description":"UkCompany#country_of_registration is Scotland when the registration number prefix is sc","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":304,"run_time":0.010781821,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:8:4]","description":"is Northern Ireland when the registration number prefix is R","full_description":"UkCompany#country_of_registration is Northern Ireland when the registration number prefix is R","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":309,"run_time":0.010310836,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:8:5]","description":"is Northern Ireland when the registration number prefix is NI","full_description":"UkCompany#country_of_registration is Northern Ireland when the registration number prefix is NI","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":314,"run_time":0.010142739,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:8:6]","description":"is England and Wales if registration number doesn't match known pattern","full_description":"UkCompany#country_of_registration is England and Wales if registration number doesn't match known pattern","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":319,"run_time":0.01078644,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:8:7]","description":"is England and Wales if registration number has more letters in the prefix","full_description":"UkCompany#country_of_registration is England and Wales if registration number has more letters in the prefix","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":324,"run_time":0.009887312,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:8:8]","description":"is England and Wales if the registration number is nil","full_description":"UkCompany#country_of_registration is England and Wales if the registration number is nil","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":329,"run_time":0.009809056,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:8:9]","description":"is England and Wales if the registration number is blank","full_description":"UkCompany#country_of_registration is England and Wales if the registration number is blank","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":334,"run_time":0.009836063,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:9:1]","description":"allows the cash_basis attribute to be changed","full_description":"UkCompany#cash_basis= allows the cash_basis attribute to be changed","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":347,"run_time":0.110282259,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:9:2:1]","description":"locks the cash_basis attribute","full_description":"UkCompany#cash_basis= when the company has stock locks the cash_basis attribute","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":356,"run_time":0.110205725,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:9:3:1]","description":"locks the cash_basis attribute","full_description":"UkCompany#cash_basis= when the company has initial debtors locks the cash_basis attribute","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":367,"run_time":0.171497175,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/uk_company_spec.rb[1:9:4:1]","description":"locks the cash_basis attribute","full_description":"UkCompany#cash_basis= when the company has initial creditors locks the cash_basis attribute","status":"passed","file_path":"./spec/models/concerns/freeagent/uk_company_spec.rb","line_number":378,"run_time":0.17862072,"pending_message":null,"screenshot":null},{"id":"./spec/requests/bank_account_entry_integration_spec.rb[1:1:1:1:1]","description":"is expected to redirect to \"/bank_accounts/950310281?view=unexplained\"","full_description":"BankAccountEntryIntegration for a uk company Given a bank transaction submitting an explanation for transaction after viewing the unexplained transaction list is expected to redirect to \"/bank_accounts/950310281?view=unexplained\"","status":"passed","file_path":"./spec/requests/bank_account_entry_integration_spec.rb","line_number":26,"run_time":0.586001898,"pending_message":null,"screenshot":null},{"id":"./spec/requests/bank_account_entry_integration_spec.rb[1:1:1:2:1:1]","description":"presents the option to explain the matching transaction with the new explanation","full_description":"BankAccountEntryIntegration for a uk company Given a bank transaction whose description matches another unexplained transaction viewing the form to explain the transaction presents the option to explain the matching transaction with the new explanation","status":"passed","file_path":"./spec/requests/bank_account_entry_integration_spec.rb","line_number":39,"run_time":0.29114658,"pending_message":null,"screenshot":null},{"id":"./spec/requests/bank_account_entry_integration_spec.rb[1:1:1:2:2:1]","description":"explains the transaction and matching transaction","full_description":"BankAccountEntryIntegration for a uk company Given a bank transaction whose description matches another unexplained transaction submitting an explanation for the transaction, and opting to also explain the matching transaction explains the transaction and matching transaction","status":"passed","file_path":"./spec/requests/bank_account_entry_integration_spec.rb","line_number":64,"run_time":0.355425123,"pending_message":null,"screenshot":null},{"id":"./spec/requests/bank_account_entry_integration_spec.rb[1:1:1:2:3:1]","description":"explains the transaction but not the matching transaction","full_description":"BankAccountEntryIntegration for a uk company Given a bank transaction whose description matches another unexplained transaction submitting an explanation for the transaction, and opting not to also explain the matching transaction explains the transaction but not the matching transaction","status":"passed","file_path":"./spec/requests/bank_account_entry_integration_spec.rb","line_number":116,"run_time":0.27826136,"pending_message":null,"screenshot":null},{"id":"./spec/requests/bank_account_entry_integration_spec.rb[1:1:1:3:1:1]","description":"presents the option to explain each of the matching transactions with the new explanation","full_description":"BankAccountEntryIntegration for a uk company Given a bank transaction whose description matches multiple other unexplained transactions viewing the form to explain the transaction presents the option to explain each of the matching transactions with the new explanation","status":"passed","file_path":"./spec/requests/bank_account_entry_integration_spec.rb","line_number":135,"run_time":0.319166265,"pending_message":null,"screenshot":null},{"id":"./spec/requests/bank_account_entry_integration_spec.rb[1:1:1:3:2:1]","description":"explains the transaction and the selected matching transaction","full_description":"BankAccountEntryIntegration for a uk company Given a bank transaction whose description matches multiple other unexplained transactions submitting an explanation for the transaction, and opting to also explain one of the matching transactions explains the transaction and the selected matching transaction","status":"passed","file_path":"./spec/requests/bank_account_entry_integration_spec.rb","line_number":158,"run_time":0.449819998,"pending_message":null,"screenshot":null},{"id":"./spec/requests/bank_account_entry_integration_spec.rb[1:1:1:3:3:1]","description":"explains the transaction and matching transactions","full_description":"BankAccountEntryIntegration for a uk company Given a bank transaction whose description matches multiple other unexplained transactions submitting an explanation for the transaction, and opting to also explain both of the matching transactions explains the transaction and matching transactions","status":"passed","file_path":"./spec/requests/bank_account_entry_integration_spec.rb","line_number":176,"run_time":0.548114961,"pending_message":null,"screenshot":null},{"id":"./spec/requests/bank_account_entry_integration_spec.rb[1:1:1:4:1:1]","description":"does not present the option to explain the matching transaction with the new explanation","full_description":"BankAccountEntryIntegration for a uk company Given a bank transaction whose description does not match another unexplained transaction viewing the form to explain the transaction does not present the option to explain the matching transaction with the new explanation","status":"passed","file_path":"./spec/requests/bank_account_entry_integration_spec.rb","line_number":195,"run_time":0.357975784,"pending_message":null,"screenshot":null},{"id":"./spec/requests/bank_account_entry_integration_spec.rb[1:1:1:5:1]","description":"redirects the user to the bank account page","full_description":"BankAccountEntryIntegration for a uk company Given a bank transaction Submitting a bank transaction with a manual_sales_tax_amount bigger than the gross value redirects the user to the bank account page","status":"passed","file_path":"./spec/requests/bank_account_entry_integration_spec.rb","line_number":214,"run_time":0.463109225,"pending_message":null,"screenshot":null},{"id":"./spec/requests/bank_account_entry_integration_spec.rb[1:1:2:1]","description":"displays only one tax entry per nominal code for UK company","full_description":"BankAccountEntryIntegration for a uk company creating a manual transaction displays only one tax entry per nominal code for UK company","status":"passed","file_path":"./spec/requests/bank_account_entry_integration_spec.rb","line_number":222,"run_time":0.36225692,"pending_message":null,"screenshot":null},{"id":"./spec/requests/bank_account_entry_integration_spec.rb[1:2:1]","description":"displays universal tax options","full_description":"BankAccountEntryIntegration for a universal company displays universal tax options","status":"passed","file_path":"./spec/requests/bank_account_entry_integration_spec.rb","line_number":241,"run_time":0.4457648,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_transfer_spec.rb[1:1:1]","description":"allows the creation of a transfer when the email is a different case","full_description":"PracticeTransfer creating a transfer allows the creation of a transfer when the email is a different case","status":"passed","file_path":"./spec/models/practice_transfer_spec.rb","line_number":22,"run_time":0.201130419,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_transfer_spec.rb[1:1:2]","description":"does not allow the creation of a transfer with an invalid company","full_description":"PracticeTransfer creating a transfer does not allow the creation of a transfer with an invalid company","status":"passed","file_path":"./spec/models/practice_transfer_spec.rb","line_number":31,"run_time":0.08072284,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_transfer_spec.rb[1:1:3]","description":"does not allow the creation of a transfer with an invalid email","full_description":"PracticeTransfer creating a transfer does not allow the creation of a transfer with an invalid email","status":"passed","file_path":"./spec/models/practice_transfer_spec.rb","line_number":39,"run_time":0.194621724,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_transfer_spec.rb[1:1:4]","description":"does not allow the creation of a transfer with an email that does not match the account owner's","full_description":"PracticeTransfer creating a transfer does not allow the creation of a transfer with an email that does not match the account owner's","status":"passed","file_path":"./spec/models/practice_transfer_spec.rb","line_number":47,"run_time":0.182374677,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_transfer_spec.rb[1:1:5]","description":"does not allow the creation of a transfer with a company managed by the practice","full_description":"PracticeTransfer creating a transfer does not allow the creation of a transfer with a company managed by the practice","status":"passed","file_path":"./spec/models/practice_transfer_spec.rb","line_number":57,"run_time":0.199062446,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_transfer_spec.rb[1:1:6]","description":"does not allow the creation of a transfer with a company linked to the practice","full_description":"PracticeTransfer creating a transfer does not allow the creation of a transfer with a company linked to the practice","status":"passed","file_path":"./spec/models/practice_transfer_spec.rb","line_number":67,"run_time":0.150354528,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_transfer_spec.rb[1:1:7]","description":"does not allow the creation of a transfer with a company managed by another practice","full_description":"PracticeTransfer creating a transfer does not allow the creation of a transfer with a company managed by another practice","status":"passed","file_path":"./spec/models/practice_transfer_spec.rb","line_number":80,"run_time":0.272578382,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_transfer_spec.rb[1:1:8]","description":"does not allow the creation of a transfer with a company that is linked","full_description":"PracticeTransfer creating a transfer does not allow the creation of a transfer with a company that is linked","status":"passed","file_path":"./spec/models/practice_transfer_spec.rb","line_number":92,"run_time":0.213358922,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_transfer_spec.rb[1:1:9]","description":"does not allow the creation of a transfer with a company with copilot","full_description":"PracticeTransfer creating a transfer does not allow the creation of a transfer with a company with copilot","status":"passed","file_path":"./spec/models/practice_transfer_spec.rb","line_number":104,"run_time":0.253640359,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_transfer_spec.rb[1:1:10]","description":"does not allow the creation of a transfer with a company with a third party subscription","full_description":"PracticeTransfer creating a transfer does not allow the creation of a transfer with a company with a third party subscription","status":"passed","file_path":"./spec/models/practice_transfer_spec.rb","line_number":116,"run_time":0.28304531,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_transfer_spec.rb[1:2:1]","description":"does not allow the creation of a new transfer","full_description":"PracticeTransfer with a pending transfer does not allow the creation of a new transfer","status":"passed","file_path":"./spec/models/practice_transfer_spec.rb","line_number":130,"run_time":0.074739312,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_transfer_spec.rb[1:2:2]","description":"does not throw an error when updating the account manager for a transfer","full_description":"PracticeTransfer with a pending transfer does not throw an error when updating the account manager for a transfer","status":"passed","file_path":"./spec/models/practice_transfer_spec.rb","line_number":135,"run_time":0.07345113,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_transfer_spec.rb[1:2:3]","description":"allows cancellation of the transfer","full_description":"PracticeTransfer with a pending transfer allows cancellation of the transfer","status":"passed","file_path":"./spec/models/practice_transfer_spec.rb","line_number":140,"run_time":0.047551987,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_transfer_spec.rb[1:2:4:1]","description":"sends email on creation","full_description":"PracticeTransfer with a pending transfer sending emails to client sends email on creation","status":"passed","file_path":"./spec/models/practice_transfer_spec.rb","line_number":146,"run_time":0.045801069,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_transfer_spec.rb[1:2:4:2]","description":"allows sending when the last sent email is more than 24 hours ago","full_description":"PracticeTransfer with a pending transfer sending emails to client allows sending when the last sent email is more than 24 hours ago","status":"passed","file_path":"./spec/models/practice_transfer_spec.rb","line_number":150,"run_time":0.075423235,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_transfer_spec.rb[1:2:4:3]","description":"blocks sending when the last sent email is less than 24 hours ago","full_description":"PracticeTransfer with a pending transfer sending emails to client blocks sending when the last sent email is less than 24 hours ago","status":"passed","file_path":"./spec/models/practice_transfer_spec.rb","line_number":157,"run_time":0.068095779,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_transfer_spec.rb[1:2:5:1]","description":"returns true if successful","full_description":"PracticeTransfer with a pending transfer #transfer returns true if successful","status":"passed","file_path":"./spec/models/practice_transfer_spec.rb","line_number":166,"run_time":0.093587905,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_transfer_spec.rb[1:2:5:2:1]","description":"marks the transfer as completed","full_description":"PracticeTransfer with a pending transfer #transfer transfering a direct account marks the transfer as completed","status":"passed","file_path":"./spec/models/practice_transfer_spec.rb","line_number":171,"run_time":0.084451542,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_transfer_spec.rb[1:2:5:2:2]","description":"sends an email to the account manager","full_description":"PracticeTransfer with a pending transfer #transfer transfering a direct account sends an email to the account manager","status":"passed","file_path":"./spec/models/practice_transfer_spec.rb","line_number":176,"run_time":0.097110953,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_transfer_spec.rb[1:2:5:2:3]","description":"transfers the account over to the correct account manager","full_description":"PracticeTransfer with a pending transfer #transfer transfering a direct account transfers the account over to the correct account manager","status":"passed","file_path":"./spec/models/practice_transfer_spec.rb","line_number":181,"run_time":0.084987723,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_transfer_spec.rb[1:2:5:2:4]","description":"bills the company to the pratice","full_description":"PracticeTransfer with a pending transfer #transfer transfering a direct account bills the company to the pratice","status":"passed","file_path":"./spec/models/practice_transfer_spec.rb","line_number":187,"run_time":0.101719682,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_transfer_spec.rb[1:2:5:2:5]","description":"does not enqueue a AnnualSubscriptionRefundJob by default","full_description":"PracticeTransfer with a pending transfer #transfer transfering a direct account does not enqueue a AnnualSubscriptionRefundJob by default","status":"passed","file_path":"./spec/models/practice_transfer_spec.rb","line_number":193,"run_time":0.104077711,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_transfer_spec.rb[1:2:5:2:6:1]","description":"enqueues a AnnualSubscriptionRefundJob","full_description":"PracticeTransfer with a pending transfer #transfer transfering a direct account when there is a payment to be refunded enqueues a AnnualSubscriptionRefundJob","status":"passed","file_path":"./spec/models/practice_transfer_spec.rb","line_number":207,"run_time":0.200667472,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_transfer_spec.rb[1:2:5:2:6:2:1]","description":"does not issue a refund","full_description":"PracticeTransfer with a pending transfer #transfer transfering a direct account when there is a payment to be refunded when the annual_refund_on_practice_transfer feature is disabled does not issue a refund","status":"passed","file_path":"./spec/models/practice_transfer_spec.rb","line_number":224,"run_time":0.189826271,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_transfer_spec.rb[1:2:5:3:1]","description":"{:aggregate_failures=\u003etrue}","full_description":"PracticeTransfer with a pending transfer #transfer transfering a RBSG account {:aggregate_failures=\u003etrue}","status":"passed","file_path":"./spec/models/practice_transfer_spec.rb","line_number":243,"run_time":0.164049656,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_transfer_spec.rb[1:2:5:4:1]","description":"{:aggregate_failures=\u003etrue}","full_description":"PracticeTransfer with a pending transfer #transfer for a non-direct or RBSG subscriber {:aggregate_failures=\u003etrue}","status":"passed","file_path":"./spec/models/practice_transfer_spec.rb","line_number":264,"run_time":0.15221841,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_transfer_spec.rb[1:3:1]","description":"allows creation of a new transfer","full_description":"PracticeTransfer with a cancelled transfer allows creation of a new transfer","status":"passed","file_path":"./spec/models/practice_transfer_spec.rb","line_number":292,"run_time":0.077812567,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_transfer_spec.rb[1:3:2]","description":"does nothing if it gets cancelled again","full_description":"PracticeTransfer with a cancelled transfer does nothing if it gets cancelled again","status":"passed","file_path":"./spec/models/practice_transfer_spec.rb","line_number":296,"run_time":0.055194399,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_transfer_spec.rb[1:3:3]","description":"does not raise error if it gets cancelled again","full_description":"PracticeTransfer with a cancelled transfer does not raise error if it gets cancelled again","status":"passed","file_path":"./spec/models/practice_transfer_spec.rb","line_number":301,"run_time":0.056346933,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_transfer_spec.rb[1:4:1]","description":"deletes old requests","full_description":"PracticeTransfer.delete_expired deletes old requests","status":"passed","file_path":"./spec/models/practice_transfer_spec.rb","line_number":316,"run_time":0.193724993,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_transfer_spec.rb[1:4:2]","description":"retains recent requests","full_description":"PracticeTransfer.delete_expired retains recent requests","status":"passed","file_path":"./spec/models/practice_transfer_spec.rb","line_number":320,"run_time":0.159522517,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/transactions_paginated_by_name_spec.rb[1:1:1]","description":"calls #process_transactions on an instance of the described class","full_description":"Api::TransactionsPaginatedByName.paginate calls #process_transactions on an instance of the described class","status":"passed","file_path":"./spec/models/api/transactions_paginated_by_name_spec.rb","line_number":24,"run_time":0.039799274,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/transactions_paginated_by_name_spec.rb[1:2:1:1:1]","description":"returns transactions ordered by name","full_description":"Api::TransactionsPaginatedByName#process_transactions in descending order when all the transactions fit on one page returns transactions ordered by name","status":"passed","file_path":"./spec/models/api/transactions_paginated_by_name_spec.rb","line_number":40,"run_time":0.031815103,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/transactions_paginated_by_name_spec.rb[1:2:1:2:1:1]","description":"is expected to eq [#\u003cBankTransaction id: 46, bank_account_id: 380302813, transaction_type: nil, amount: -50.0 (BigDecim...id: 895397833, explained: false, date_time_on: \"2022-12-23 00:00:00.000000000 +0000\", balance: nil\u003e]","full_description":"Api::TransactionsPaginatedByName#process_transactions in descending order with 2 transactions per page page 1 is expected to eq [#\u003cBankTransaction id: 46, bank_account_id: 380302813, transaction_type: nil, amount: -50.0 (BigDecim...id: 895397833, explained: false, date_time_on: \"2022-12-23 00:00:00.000000000 +0000\", balance: nil\u003e]","status":"passed","file_path":"./spec/models/api/transactions_paginated_by_name_spec.rb","line_number":54,"run_time":0.036029867,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/transactions_paginated_by_name_spec.rb[1:2:1:2:2:1]","description":"is expected to eq [#\u003cBankTransaction id: 52, bank_account_id: 380302813, transaction_type: nil, amount: -50.0 (BigDecim...id: 895397833, explained: false, date_time_on: \"2022-12-16 10:46:31.000000000 +0000\", balance: nil\u003e]","full_description":"Api::TransactionsPaginatedByName#process_transactions in descending order with 2 transactions per page page 2 is expected to eq [#\u003cBankTransaction id: 52, bank_account_id: 380302813, transaction_type: nil, amount: -50.0 (BigDecim...id: 895397833, explained: false, date_time_on: \"2022-12-16 10:46:31.000000000 +0000\", balance: nil\u003e]","status":"passed","file_path":"./spec/models/api/transactions_paginated_by_name_spec.rb","line_number":59,"run_time":0.041464075,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/transactions_paginated_by_name_spec.rb[1:2:1:2:3:1]","description":"is expected to eq [#\u003cBankTransaction id: 59, bank_account_id: 380302813, transaction_type: nil, amount: -50.0 (BigDecim...id: 895397833, explained: false, date_time_on: \"2022-12-21 10:46:31.000000000 +0000\", balance: nil\u003e]","full_description":"Api::TransactionsPaginatedByName#process_transactions in descending order with 2 transactions per page page 3 is expected to eq [#\u003cBankTransaction id: 59, bank_account_id: 380302813, transaction_type: nil, amount: -50.0 (BigDecim...id: 895397833, explained: false, date_time_on: \"2022-12-21 10:46:31.000000000 +0000\", balance: nil\u003e]","status":"passed","file_path":"./spec/models/api/transactions_paginated_by_name_spec.rb","line_number":64,"run_time":0.043805559,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/transactions_paginated_by_name_spec.rb[1:2:1:3:1]","description":"puts them at the start","full_description":"Api::TransactionsPaginatedByName#process_transactions in descending order when transaction doesn't have a name puts them at the start","status":"passed","file_path":"./spec/models/api/transactions_paginated_by_name_spec.rb","line_number":71,"run_time":0.044646293,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/transactions_paginated_by_name_spec.rb[1:2:2:1:1:1]","description":"is expected to eq [#\u003cBankTransaction id: 69, bank_account_id: 380302813, transaction_type: nil, amount: -50.0 (BigDecim...id: 895397833, explained: false, date_time_on: \"2022-12-16 10:46:31.000000000 +0000\", balance: nil\u003e]","full_description":"Api::TransactionsPaginatedByName#process_transactions in ascending order with 2 transactions per page page 1 is expected to eq [#\u003cBankTransaction id: 69, bank_account_id: 380302813, transaction_type: nil, amount: -50.0 (BigDecim...id: 895397833, explained: false, date_time_on: \"2022-12-16 10:46:31.000000000 +0000\", balance: nil\u003e]","status":"passed","file_path":"./spec/models/api/transactions_paginated_by_name_spec.rb","line_number":89,"run_time":0.042303908,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/transactions_paginated_by_name_spec.rb[1:2:2:1:2:1]","description":"is expected to eq [#\u003cBankTransaction id: 72, bank_account_id: 380302813, transaction_type: nil, amount: -50.0 (BigDecim...id: 895397833, explained: false, date_time_on: \"2022-12-23 00:00:00.000000000 +0000\", balance: nil\u003e]","full_description":"Api::TransactionsPaginatedByName#process_transactions in ascending order with 2 transactions per page page 2 is expected to eq [#\u003cBankTransaction id: 72, bank_account_id: 380302813, transaction_type: nil, amount: -50.0 (BigDecim...id: 895397833, explained: false, date_time_on: \"2022-12-23 00:00:00.000000000 +0000\", balance: nil\u003e]","status":"passed","file_path":"./spec/models/api/transactions_paginated_by_name_spec.rb","line_number":94,"run_time":0.035848433,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/transactions_paginated_by_name_spec.rb[1:2:2:1:3:1]","description":"is expected to eq [#\u003cBankTransaction id: 76, bank_account_id: 380302813, transaction_type: nil, amount: -50.0 (BigDecim...id: 895397833, explained: false, date_time_on: \"2022-12-22 00:00:00.000000000 +0000\", balance: nil\u003e]","full_description":"Api::TransactionsPaginatedByName#process_transactions in ascending order with 2 transactions per page page 3 is expected to eq [#\u003cBankTransaction id: 76, bank_account_id: 380302813, transaction_type: nil, amount: -50.0 (BigDecim...id: 895397833, explained: false, date_time_on: \"2022-12-22 00:00:00.000000000 +0000\", balance: nil\u003e]","status":"passed","file_path":"./spec/models/api/transactions_paginated_by_name_spec.rb","line_number":99,"run_time":0.0341523,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/transactions_paginated_by_name_spec.rb[1:2:3:1:1]","description":"returns ordered transactions when transactions fit on one page","full_description":"Api::TransactionsPaginatedByName#process_transactions when marked_for_approval in descending order returns ordered transactions when transactions fit on one page","status":"passed","file_path":"./spec/models/api/transactions_paginated_by_name_spec.rb","line_number":148,"run_time":0.587950417,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/transactions_paginated_by_name_spec.rb[1:2:3:1:2:1:1]","description":"is expected to eq [#\u003cBankTransaction id: 94, bank_account_id: 380302813, transaction_type: nil, amount: -50.0 (BigDecim..._id: 895397833, explained: true, date_time_on: \"2022-12-20 10:46:32.000000000 +0000\", balance: nil\u003e]","full_description":"Api::TransactionsPaginatedByName#process_transactions when marked_for_approval in descending order with 2 transactions per page page 1 is expected to eq [#\u003cBankTransaction id: 94, bank_account_id: 380302813, transaction_type: nil, amount: -50.0 (BigDecim..._id: 895397833, explained: true, date_time_on: \"2022-12-20 10:46:32.000000000 +0000\", balance: nil\u003e]","status":"passed","file_path":"./spec/models/api/transactions_paginated_by_name_spec.rb","line_number":159,"run_time":0.503249331,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/transactions_paginated_by_name_spec.rb[1:2:3:1:2:2:1]","description":"is expected to eq [#\u003cBankTransaction id: 101, bank_account_id: 380302813, transaction_type: nil, amount: -50.0 (BigDeci..._id: 895397833, explained: true, date_time_on: \"2022-12-23 00:00:00.000000000 +0000\", balance: nil\u003e]","full_description":"Api::TransactionsPaginatedByName#process_transactions when marked_for_approval in descending order with 2 transactions per page page 2 is expected to eq [#\u003cBankTransaction id: 101, bank_account_id: 380302813, transaction_type: nil, amount: -50.0 (BigDeci..._id: 895397833, explained: true, date_time_on: \"2022-12-23 00:00:00.000000000 +0000\", balance: nil\u003e]","status":"passed","file_path":"./spec/models/api/transactions_paginated_by_name_spec.rb","line_number":164,"run_time":0.502410731,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/transactions_paginated_by_name_spec.rb[1:2:3:2:1]","description":"returns ordered transactions when transactions fit on one page","full_description":"Api::TransactionsPaginatedByName#process_transactions when marked_for_approval in ascending order returns ordered transactions when transactions fit on one page","status":"passed","file_path":"./spec/models/api/transactions_paginated_by_name_spec.rb","line_number":172,"run_time":0.47606843,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/transactions_paginated_by_name_spec.rb[1:2:3:2:2:1:1]","description":"is expected to eq [#\u003cBankTransaction id: 117, bank_account_id: 380302813, transaction_type: nil, amount: -50.0 (BigDeci..._id: 895397833, explained: true, date_time_on: \"2022-12-20 10:46:34.000000000 +0000\", balance: nil\u003e]","full_description":"Api::TransactionsPaginatedByName#process_transactions when marked_for_approval in ascending order with 2 transactions per page page 1 is expected to eq [#\u003cBankTransaction id: 117, bank_account_id: 380302813, transaction_type: nil, amount: -50.0 (BigDeci..._id: 895397833, explained: true, date_time_on: \"2022-12-20 10:46:34.000000000 +0000\", balance: nil\u003e]","status":"passed","file_path":"./spec/models/api/transactions_paginated_by_name_spec.rb","line_number":183,"run_time":0.474569236,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/transactions_paginated_by_name_spec.rb[1:2:3:2:2:2:1]","description":"is expected to eq [#\u003cBankTransaction id: 126, bank_account_id: 380302813, transaction_type: nil, amount: -50.0 (BigDeci..._id: 895397833, explained: true, date_time_on: \"2022-12-16 10:46:34.000000000 +0000\", balance: nil\u003e]","full_description":"Api::TransactionsPaginatedByName#process_transactions when marked_for_approval in ascending order with 2 transactions per page page 2 is expected to eq [#\u003cBankTransaction id: 126, bank_account_id: 380302813, transaction_type: nil, amount: -50.0 (BigDeci..._id: 895397833, explained: true, date_time_on: \"2022-12-16 10:46:34.000000000 +0000\", balance: nil\u003e]","status":"passed","file_path":"./spec/models/api/transactions_paginated_by_name_spec.rb","line_number":188,"run_time":0.438556143,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/transactions_paginated_by_name_spec.rb[1:2:4:1]","description":"returns an empty array","full_description":"Api::TransactionsPaginatedByName#process_transactions when there are no transactions returns an empty array","status":"passed","file_path":"./spec/models/api/transactions_paginated_by_name_spec.rb","line_number":195,"run_time":0.034350104,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/transactions_paginated_by_name_spec.rb[1:2:5:1]","description":"returns an empty array","full_description":"Api::TransactionsPaginatedByName#process_transactions when pagination goes out of bounds of transactions returns an empty array","status":"passed","file_path":"./spec/models/api/transactions_paginated_by_name_spec.rb","line_number":211,"run_time":0.033561409,"pending_message":null,"screenshot":null},{"id":"./spec/models/api/transactions_paginated_by_name_spec.rb[1:2:6:1]","description":"returns an empty array","full_description":"Api::TransactionsPaginatedByName#process_transactions when pagination goes out of bounds due to 1000 result offset returns an empty array","status":"passed","file_path":"./spec/models/api/transactions_paginated_by_name_spec.rb","line_number":227,"run_time":0.039452864,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:1:1:1]","description":"is expected to eq \"Suggested Categories\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account when group name is legacy group description or banquo suggested category when is a banquo suggested category is expected to eq \"Suggested Categories\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":20,"run_time":0.117832291,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:1:2:1]","description":"is expected to eq \"Cost of sales (normally VATable)\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account when group name is legacy group description or banquo suggested category when is not a banquo suggested category is expected to eq \"Cost of sales (normally VATable)\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":24,"run_time":0.117137589,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:2:1:1]","description":"is expected to eq \"Liabilities\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account when group name is arbitrary when is a custom liability is expected to eq \"Liabilities\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":37,"run_time":0.112897585,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:2:2:1]","description":"is expected to eq \"Equity\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account when group name is arbitrary when is a custom equity is expected to eq \"Equity\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":48,"run_time":0.11952353,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:2:3:1]","description":"is expected to eq \"Current Assets\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account when group name is arbitrary when is a current asset is expected to eq \"Current Assets\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":59,"run_time":0.129411598,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:3:1:1]","description":"is expected to eq \"Liabilities\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account liability accounts when is a pension_creditor_account is expected to eq \"Liabilities\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":76,"run_time":0.143906643,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:3:2:1]","description":"is expected to eq \"Liabilities\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account liability accounts when is a trade_creditors_account is expected to eq \"Liabilities\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":76,"run_time":0.119839747,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:3:3:1]","description":"is expected to eq \"Liabilities\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account liability accounts when is a other_payroll_deductions_account is expected to eq \"Liabilities\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":76,"run_time":0.109664463,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:3:4:1]","description":"is expected to eq \"Liabilities\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account liability accounts when is a other_creditors_account is expected to eq \"Liabilities\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":76,"run_time":0.119656114,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:4:1:1]","description":"is expected to eq \"Current Assets\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account current asset accounts when is a trade_debtors_account is expected to eq \"Current Assets\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":89,"run_time":0.131108859,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:4:2:1]","description":"is expected to eq \"Current Assets\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account current asset accounts when is a other_debtors_account is expected to eq \"Current Assets\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":89,"run_time":0.117594959,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:4:3:1]","description":"is expected to eq \"Current Assets\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account current asset accounts when is a contra_account is expected to eq \"Current Assets\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":89,"run_time":0.112884492,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:5:1:1]","description":"is expected to eq \"Income\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account income accounts when is a realized_currency_exchange_gain_or_loss_account is expected to eq \"Income\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":109,"run_time":0.114038166,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:5:2:1]","description":"is expected to eq \"Income\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account income accounts when is a interest_received_account is expected to eq \"Income\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":109,"run_time":0.125301903,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:5:3:1]","description":"is expected to eq \"Income\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account income accounts when is a grant_income_account is expected to eq \"Income\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":109,"run_time":0.110907193,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:5:4:1]","description":"is expected to eq \"Income\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account income accounts when is a refund_of_other_tax_received_account is expected to eq \"Income\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":109,"run_time":0.117676057,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:1:6:1:1]","description":"is expected to eq \"Equity\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_in_group_name_for_account equity accounts when is a share premium account is expected to eq \"Equity\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":119,"run_time":0.122934972,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:2:1:1:1]","description":"is expected to eq \"Suggested Categories\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_out_group_name_for_account when group name is legacy group description or banquo suggested category when is a banquo suggested category is expected to eq \"Suggested Categories\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":133,"run_time":0.138009062,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:2:1:2:1]","description":"is expected to eq \"Cost of sales (normally VATable)\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_out_group_name_for_account when group name is legacy group description or banquo suggested category when is not a banquo suggested category is expected to eq \"Cost of sales (normally VATable)\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":137,"run_time":0.125173145,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:2:2:1:1]","description":"is expected to eq \"Liabilities\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_out_group_name_for_account when group name is arbitrary when is a custom liability is expected to eq \"Liabilities\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":150,"run_time":0.131431113,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:2:2:2:1]","description":"is expected to eq \"Equity\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_out_group_name_for_account when group name is arbitrary when is a custom equity is expected to eq \"Equity\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":161,"run_time":0.124377708,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:2:2:3:1]","description":"is expected to eq \"Current Assets\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_out_group_name_for_account when group name is arbitrary when is a current asset is expected to eq \"Current Assets\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":172,"run_time":0.132733248,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:2:3:1:1]","description":"is expected to eq \"Liabilities\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_out_group_name_for_account liability accounts when is a contra_account is expected to eq \"Liabilities\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":190,"run_time":0.144589128,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:2:3:2:1]","description":"is expected to eq \"Liabilities\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_out_group_name_for_account liability accounts when is a pension_creditor_account is expected to eq \"Liabilities\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":190,"run_time":0.130416619,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:2:3:3:1]","description":"is expected to eq \"Liabilities\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_out_group_name_for_account liability accounts when is a trade_creditors_account is expected to eq \"Liabilities\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":190,"run_time":0.124652219,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:2:3:4:1]","description":"is expected to eq \"Liabilities\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_out_group_name_for_account liability accounts when is a other_payroll_deductions_account is expected to eq \"Liabilities\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":190,"run_time":0.116685162,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:2:3:5:1]","description":"is expected to eq \"Liabilities\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_out_group_name_for_account liability accounts when is a other_creditors_account is expected to eq \"Liabilities\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":190,"run_time":0.124084791,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:2:4:1:1]","description":"is expected to eq \"Current Assets\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_out_group_name_for_account current asset accounts when is a trade_debtors_account is expected to eq \"Current Assets\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":203,"run_time":0.11530947,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:2:4:2:1]","description":"is expected to eq \"Current Assets\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_out_group_name_for_account current asset accounts when is a other_debtors_account is expected to eq \"Current Assets\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":203,"run_time":0.126002032,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb[1:2:5:1:1]","description":"is expected to eq \"Other\"","full_description":"Banking::GeneralLedgerAccountGroupNameMapper#money_out_group_name_for_account other accounts when is a realized_currency_exchange_gain_or_loss_account is expected to eq \"Other\"","status":"passed","file_path":"./spec/freeagent/banking/general_ledger_account_group_name_mapper_spec.rb","line_number":213,"run_time":0.288085349,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/payroll/profiles_controller_spec.rb[1:1:1:1:1]","description":"returns and renders a list of payroll profiles","full_description":"Api::Payroll::ProfilesController GET index for a UK company with a user with the required permissions returns and renders a list of payroll profiles","status":"passed","file_path":"./spec/controllers/api/payroll/profiles_controller_spec.rb","line_number":27,"run_time":0.208094854,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/payroll/profiles_controller_spec.rb[1:1:1:1:2]","description":"handles invalid year parameters","full_description":"Api::Payroll::ProfilesController GET index for a UK company with a user with the required permissions handles invalid year parameters","status":"passed","file_path":"./spec/controllers/api/payroll/profiles_controller_spec.rb","line_number":35,"run_time":0.169878574,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/payroll/profiles_controller_spec.rb[1:1:1:1:3:1]","description":"returns the payroll profile for that user in that year if there is one","full_description":"Api::Payroll::ProfilesController GET index for a UK company with a user with the required permissions when filtering by user returns the payroll profile for that user in that year if there is one","status":"passed","file_path":"./spec/controllers/api/payroll/profiles_controller_spec.rb","line_number":42,"run_time":0.164959765,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/payroll/profiles_controller_spec.rb[1:1:1:1:3:2]","description":"returns not found when the user belongs to another company","full_description":"Api::Payroll::ProfilesController GET index for a UK company with a user with the required permissions when filtering by user returns not found when the user belongs to another company","status":"passed","file_path":"./spec/controllers/api/payroll/profiles_controller_spec.rb","line_number":50,"run_time":0.19183253,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/payroll/profiles_controller_spec.rb[1:1:1:1:3:3]","description":"returns not found when the user does not exist","full_description":"Api::Payroll::ProfilesController GET index for a UK company with a user with the required permissions when filtering by user returns not found when the user does not exist","status":"passed","file_path":"./spec/controllers/api/payroll/profiles_controller_spec.rb","line_number":55,"run_time":0.152934354,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/payroll/profiles_controller_spec.rb[1:1:1:2:1]","description":"returns a forbidden response","full_description":"Api::Payroll::ProfilesController GET index for a UK company with a user without required permissions returns a forbidden response","status":"passed","file_path":"./spec/controllers/api/payroll/profiles_controller_spec.rb","line_number":65,"run_time":0.165156259,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/payroll/profiles_controller_spec.rb[1:1:2:1]","description":"returns a 400 error","full_description":"Api::Payroll::ProfilesController GET index for a Universal company returns a 400 error","status":"passed","file_path":"./spec/controllers/api/payroll/profiles_controller_spec.rb","line_number":76,"run_time":0.109419016,"pending_message":null,"screenshot":null},{"id":"./spec/views/mtd_itsa/_page_header_actions.html.erb_spec.rb[1:1:1:1]","description":"does not show an update button","full_description":"mtd_itsa/page_header_actions submit button(s) before the start of the tax year does not show an update button","status":"passed","file_path":"./spec/views/mtd_itsa/_page_header_actions.html.erb_spec.rb","line_number":52,"run_time":0.173387746,"pending_message":null,"screenshot":null},{"id":"./spec/views/mtd_itsa/_page_header_actions.html.erb_spec.rb[1:1:2:1]","description":"shows an update button","full_description":"mtd_itsa/page_header_actions submit button(s) at the start of the tax year shows an update button","status":"passed","file_path":"./spec/views/mtd_itsa/_page_header_actions.html.erb_spec.rb","line_number":60,"run_time":0.150522895,"pending_message":null,"screenshot":null},{"id":"./spec/views/mtd_itsa/_page_header_actions.html.erb_spec.rb[1:1:3:1]","description":"shows an update button","full_description":"mtd_itsa/page_header_actions submit button(s) at the end of the tax year shows an update button","status":"passed","file_path":"./spec/views/mtd_itsa/_page_header_actions.html.erb_spec.rb","line_number":68,"run_time":0.15473246,"pending_message":null,"screenshot":null},{"id":"./spec/views/mtd_itsa/_page_header_actions.html.erb_spec.rb[1:1:3:2:1]","description":"shows an update button","full_description":"mtd_itsa/page_header_actions submit button(s) at the end of the tax year when the first quarter is fulfilled shows an update button","status":"passed","file_path":"./spec/views/mtd_itsa/_page_header_actions.html.erb_spec.rb","line_number":78,"run_time":0.156539362,"pending_message":null,"screenshot":null},{"id":"./spec/views/mtd_itsa/_page_header_actions.html.erb_spec.rb[1:1:3:3:1]","description":"shows only an update button","full_description":"mtd_itsa/page_header_actions submit button(s) at the end of the tax year when all four quarters are fulfilled shows only an update button","status":"passed","file_path":"./spec/views/mtd_itsa/_page_header_actions.html.erb_spec.rb","line_number":92,"run_time":0.187105145,"pending_message":null,"screenshot":null},{"id":"./spec/views/mtd_itsa/_page_header_actions.html.erb_spec.rb[1:1:4:1]","description":"shows an update button","full_description":"mtd_itsa/page_header_actions submit button(s) after the end of the tax year shows an update button","status":"passed","file_path":"./spec/views/mtd_itsa/_page_header_actions.html.erb_spec.rb","line_number":102,"run_time":0.145939108,"pending_message":null,"screenshot":null},{"id":"./spec/views/mtd_itsa/_page_header_actions.html.erb_spec.rb[1:1:4:2:1]","description":"shows a refresh button and an EOPS button","full_description":"mtd_itsa/page_header_actions submit button(s) after the end of the tax year when all four quarters are fulfilled shows a refresh button and an EOPS button","status":"passed","file_path":"./spec/views/mtd_itsa/_page_header_actions.html.erb_spec.rb","line_number":115,"run_time":0.156514556,"pending_message":null,"screenshot":null},{"id":"./spec/views/mtd_itsa/_page_header_actions.html.erb_spec.rb[1:1:4:2:2:1]","description":"shows a refresh button and a Final Declaration button","full_description":"mtd_itsa/page_header_actions submit button(s) after the end of the tax year when all four quarters are fulfilled when the EOPS is sent shows a refresh button and a Final Declaration button","status":"passed","file_path":"./spec/views/mtd_itsa/_page_header_actions.html.erb_spec.rb","line_number":126,"run_time":0.194861823,"pending_message":null,"screenshot":null},{"id":"./spec/views/mtd_itsa/_page_header_actions.html.erb_spec.rb[1:1:4:2:2:2:1]","description":"shows an update button and a Final Calculation button","full_description":"mtd_itsa/page_header_actions submit button(s) after the end of the tax year when all four quarters are fulfilled when the EOPS is sent when the Final Intent is started shows an update button and a Final Calculation button","status":"passed","file_path":"./spec/views/mtd_itsa/_page_header_actions.html.erb_spec.rb","line_number":138,"run_time":0.188285659,"pending_message":null,"screenshot":null},{"id":"./spec/views/mtd_itsa/_page_header_actions.html.erb_spec.rb[1:1:4:2:2:3:1]","description":"shows neither button","full_description":"mtd_itsa/page_header_actions submit button(s) after the end of the tax year when all four quarters are fulfilled when the EOPS is sent when the Final Declaration is sent shows neither button","status":"passed","file_path":"./spec/views/mtd_itsa/_page_header_actions.html.erb_spec.rb","line_number":150,"run_time":0.259946084,"pending_message":null,"screenshot":null},{"id":"./spec/views/mtd_itsa/_page_header_actions.html.erb_spec.rb[1:1:4:2:3:1]","description":"shows neither button","full_description":"mtd_itsa/page_header_actions submit button(s) after the end of the tax year when all four quarters are fulfilled when the Final Declaration is marked as sent shows neither button","status":"passed","file_path":"./spec/views/mtd_itsa/_page_header_actions.html.erb_spec.rb","line_number":162,"run_time":0.188995707,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[13:9]","description":"sets the construction industry scheme rate","full_description":"InvoicesController POST create sets the construction industry scheme rate","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":1406,"run_time":0.485425293,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rules/unexplained_transactions_spec.rb[1:1:1:1]","description":"doesn't create any notifications","full_description":"PracticeAlerts::Rules::UnexplainedTransactions#run on a rule for practice with a company with unexplained transactions under the threshold doesn't create any notifications","status":"passed","file_path":"./spec/models/practice_alerts/rules/unexplained_transactions_spec.rb","line_number":20,"run_time":0.189907103,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rules/unexplained_transactions_spec.rb[1:1:1:2]","description":"updates last_run","full_description":"PracticeAlerts::Rules::UnexplainedTransactions#run on a rule for practice with a company with unexplained transactions under the threshold updates last_run","status":"passed","file_path":"./spec/models/practice_alerts/rules/unexplained_transactions_spec.rb","line_number":25,"run_time":0.17265423,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rules/unexplained_transactions_spec.rb[1:1:1:3:1]","description":"deletes the notifications","full_description":"PracticeAlerts::Rules::UnexplainedTransactions#run on a rule for practice with a company with unexplained transactions under the threshold and existing notifications deletes the notifications","status":"passed","file_path":"./spec/models/practice_alerts/rules/unexplained_transactions_spec.rb","line_number":43,"run_time":0.176378055,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rules/unexplained_transactions_spec.rb[1:1:2:1]","description":"creates a notification","full_description":"PracticeAlerts::Rules::UnexplainedTransactions#run on a rule for practice with a company with unexplained transactions over the threshold creates a notification","status":"passed","file_path":"./spec/models/practice_alerts/rules/unexplained_transactions_spec.rb","line_number":55,"run_time":0.176181925,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rules/unexplained_transactions_spec.rb[1:1:2:2]","description":"updates last_run","full_description":"PracticeAlerts::Rules::UnexplainedTransactions#run on a rule for practice with a company with unexplained transactions over the threshold updates last_run","status":"passed","file_path":"./spec/models/practice_alerts/rules/unexplained_transactions_spec.rb","line_number":60,"run_time":0.208952774,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rules/unexplained_transactions_spec.rb[1:1:2:3]","description":"is idempotent","full_description":"PracticeAlerts::Rules::UnexplainedTransactions#run on a rule for practice with a company with unexplained transactions over the threshold is idempotent","status":"passed","file_path":"./spec/models/practice_alerts/rules/unexplained_transactions_spec.rb","line_number":65,"run_time":0.209830873,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rules/unexplained_transactions_spec.rb[1:1:2:4:1]","description":"updates the details of the notification","full_description":"PracticeAlerts::Rules::UnexplainedTransactions#run on a rule for practice with a company with unexplained transactions over the threshold and an existing notification updates the details of the notification","status":"passed","file_path":"./spec/models/practice_alerts/rules/unexplained_transactions_spec.rb","line_number":82,"run_time":0.192137613,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rules/unexplained_transactions_spec.rb[1:1:2:5:1]","description":"updates the most recent notification","full_description":"PracticeAlerts::Rules::UnexplainedTransactions#run on a rule for practice with a company with unexplained transactions over the threshold and multiple existing notifications updates the most recent notification","status":"passed","file_path":"./spec/models/practice_alerts/rules/unexplained_transactions_spec.rb","line_number":111,"run_time":0.184299893,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rules/unexplained_transactions_spec.rb[1:1:2:5:2]","description":"deletes all other notifications","full_description":"PracticeAlerts::Rules::UnexplainedTransactions#run on a rule for practice with a company with unexplained transactions over the threshold and multiple existing notifications deletes all other notifications","status":"passed","file_path":"./spec/models/practice_alerts/rules/unexplained_transactions_spec.rb","line_number":115,"run_time":0.206876915,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rules/unexplained_transactions_spec.rb[1:1:2:6:1]","description":"doesn't create a notification","full_description":"PracticeAlerts::Rules::UnexplainedTransactions#run on a rule for practice with a company with unexplained transactions over the threshold with an inactive subscription doesn't create a notification","status":"passed","file_path":"./spec/models/practice_alerts/rules/unexplained_transactions_spec.rb","line_number":125,"run_time":0.180393534,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/payroll/clients_controller_spec.rb[1:1:1:1]","description":"includes excluded clients in the clients list","full_description":"PracticeDashboard::Payroll::ClientsController with an excluded client GET :index includes excluded clients in the clients list","status":"passed","file_path":"./spec/controllers/practice_dashboard/payroll/clients_controller_spec.rb","line_number":27,"run_time":0.340010316,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/payroll/clients_controller_spec.rb[1:2:1]","description":"responds successfully","full_description":"PracticeDashboard::Payroll::ClientsController GET :index responds successfully","status":"passed","file_path":"./spec/controllers/practice_dashboard/payroll/clients_controller_spec.rb","line_number":39,"run_time":0.243251442,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/payroll/clients_controller_spec.rb[1:2:2]","description":"displays the index page","full_description":"PracticeDashboard::Payroll::ClientsController GET :index displays the index page","status":"passed","file_path":"./spec/controllers/practice_dashboard/payroll/clients_controller_spec.rb","line_number":44,"run_time":0.230934766,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/payroll/clients_controller_spec.rb[1:2:3]","description":"sets the report","full_description":"PracticeDashboard::Payroll::ClientsController GET :index sets the report","status":"passed","file_path":"./spec/controllers/practice_dashboard/payroll/clients_controller_spec.rb","line_number":48,"run_time":0.306356766,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/payroll/clients_controller_spec.rb[1:3:1]","description":"returns a 404 if the requested company is not managed by the practice","full_description":"PracticeDashboard::Payroll::ClientsController GET :switch_to returns a 404 if the requested company is not managed by the practice","status":"passed","file_path":"./spec/controllers/practice_dashboard/payroll/clients_controller_spec.rb","line_number":54,"run_time":0.240574909,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/payroll/clients_controller_spec.rb[1:3:2]","description":"redirects to the payroll overview when the current user is not allowed to switch into the company","full_description":"PracticeDashboard::Payroll::ClientsController GET :switch_to redirects to the payroll overview when the current user is not allowed to switch into the company","status":"passed","file_path":"./spec/controllers/practice_dashboard/payroll/clients_controller_spec.rb","line_number":61,"run_time":0.228221361,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/payroll/clients_controller_spec.rb[1:3:3]","description":"redirects to the companies payroll overview","full_description":"PracticeDashboard::Payroll::ClientsController GET :switch_to redirects to the companies payroll overview","status":"passed","file_path":"./spec/controllers/practice_dashboard/payroll/clients_controller_spec.rb","line_number":74,"run_time":0.221147276,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/payroll/clients_controller_spec.rb[1:3:4]","description":"sets the dashboard_return_location and switch_to cookie","full_description":"PracticeDashboard::Payroll::ClientsController GET :switch_to sets the dashboard_return_location and switch_to cookie","status":"passed","file_path":"./spec/controllers/practice_dashboard/payroll/clients_controller_spec.rb","line_number":80,"run_time":0.210669345,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[4:8]","description":"GET on :show for an invoice with emails","full_description":"InvoicesController GET :show for uk company GET on :show for an invoice with emails","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":592,"run_time":0.542790292,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[13:15:1]","description":"creates a contact with the company locale","full_description":"InvoicesController POST create Creating a new invoice with a new contact creates a contact with the company locale","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":1501,"run_time":0.429560205,"pending_message":null,"screenshot":null},{"id":"./spec/features/ltd_company_year_ends_navigation_spec.rb[1:3:1]","description":"cannot access the year ends page","full_description":"Limited company year end navigation with a non uk limited company cannot access the year ends page","status":"passed","file_path":"./spec/features/ltd_company_year_ends_navigation_spec.rb","line_number":30,"run_time":1.530434392,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:1:45]","description":"deletes the bills, including with stock items","full_description":"Company::ForgetCompanyData Deleting all data for a VAT registered UK company deletes the bills, including with stock items","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":687,"run_time":1.499266599,"pending_message":null,"screenshot":null},{"id":"./spec/models/mbw/cancellation_processor_spec.rb[1:1:1]","description":"results in the company moving to a direct free trial","full_description":"Mbw::CancellationProcessor Processing an non-cancelled MBW company results in the company moving to a direct free trial","status":"passed","file_path":"./spec/models/mbw/cancellation_processor_spec.rb","line_number":16,"run_time":0.170630768,"pending_message":null,"screenshot":null},{"id":"./spec/models/mbw/cancellation_processor_spec.rb[1:1:2]","description":"assigns the BCSG affiliate","full_description":"Mbw::CancellationProcessor Processing an non-cancelled MBW company assigns the BCSG affiliate","status":"passed","file_path":"./spec/models/mbw/cancellation_processor_spec.rb","line_number":25,"run_time":0.158172932,"pending_message":null,"screenshot":null},{"id":"./spec/models/mbw/cancellation_processor_spec.rb[1:1:3]","description":"sets signup_subscription_price to the current list price value","full_description":"Mbw::CancellationProcessor Processing an non-cancelled MBW company sets signup_subscription_price to the current list price value","status":"passed","file_path":"./spec/models/mbw/cancellation_processor_spec.rb","line_number":32,"run_time":0.143689481,"pending_message":null,"screenshot":null},{"id":"./spec/models/mbw/cancellation_processor_spec.rb[1:1:4]","description":"does not move the company to direct in a dry run","full_description":"Mbw::CancellationProcessor Processing an non-cancelled MBW company does not move the company to direct in a dry run","status":"passed","file_path":"./spec/models/mbw/cancellation_processor_spec.rb","line_number":41,"run_time":0.100217854,"pending_message":null,"screenshot":null},{"id":"./spec/models/mbw/cancellation_processor_spec.rb[1:1:5]","description":"does not delete the signup","full_description":"Mbw::CancellationProcessor Processing an non-cancelled MBW company does not delete the signup","status":"passed","file_path":"./spec/models/mbw/cancellation_processor_spec.rb","line_number":50,"run_time":0.138649342,"pending_message":null,"screenshot":null},{"id":"./spec/models/mbw/cancellation_processor_spec.rb[1:1:6:1]","description":"are ignored","full_description":"Mbw::CancellationProcessor Processing an non-cancelled MBW company companies that have been made practice-managed prior to the FapdMigration class are ignored","status":"passed","file_path":"./spec/models/mbw/cancellation_processor_spec.rb","line_number":68,"run_time":0.196512667,"pending_message":null,"screenshot":null},{"id":"./spec/models/mbw/cancellation_processor_spec.rb[1:1:7:1]","description":"results in the company moving to a direct free trial","full_description":"Mbw::CancellationProcessor Processing an non-cancelled MBW company companies with promotions are processed results in the company moving to a direct free trial","status":"passed","file_path":"./spec/models/mbw/cancellation_processor_spec.rb","line_number":79,"run_time":0.187952633,"pending_message":null,"screenshot":null},{"id":"./spec/models/mbw/cancellation_processor_spec.rb[1:1:7:2]","description":"assigns the BCSG affiliate","full_description":"Mbw::CancellationProcessor Processing an non-cancelled MBW company companies with promotions are processed assigns the BCSG affiliate","status":"passed","file_path":"./spec/models/mbw/cancellation_processor_spec.rb","line_number":88,"run_time":0.211291492,"pending_message":null,"screenshot":null},{"id":"./spec/models/mbw/cancellation_processor_spec.rb[1:1:8:1]","description":"fails to cancel the company","full_description":"Mbw::CancellationProcessor Processing an non-cancelled MBW company that has enabled add-ons fails to cancel the company","status":"passed","file_path":"./spec/models/mbw/cancellation_processor_spec.rb","line_number":100,"run_time":0.114406086,"pending_message":null,"screenshot":null},{"id":"./spec/models/mbw/cancellation_processor_spec.rb[1:2:1]","description":"results in nothing being cancelled","full_description":"Mbw::CancellationProcessor Processing an already-cancelled MBW company results in nothing being cancelled","status":"passed","file_path":"./spec/models/mbw/cancellation_processor_spec.rb","line_number":118,"run_time":0.097079945,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:1:11]","description":"deletes journal entries","full_description":"Company::ForgetCompanyData Deleting all data for a VAT registered UK company deletes journal entries","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":186,"run_time":1.107648039,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:1:50:1]","description":"deletes the user sessions","full_description":"Company::ForgetCompanyData Deleting all data for a VAT registered UK company for company users deletes the user sessions","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":788,"run_time":1.088281139,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:1:1:1:2:1]","description":"which is still in draft","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the cash accounting basis not on the Flat Rate Scheme Invoices Given a foreign currency invoice (exchange rate 2:1) with 3 line items in 2 categories which is still in draft","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":2184,"run_time":0.63233806,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_filename_spec.rb[1:1]","description":"is based on company name, estimate type and estimate reference","full_description":"estimate filename is based on company name, estimate type and estimate reference","status":"passed","file_path":"./spec/models/estimate_filename_spec.rb","line_number":5,"run_time":0.095100071,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimate_filename_spec.rb[1:2]","description":"truncates comically long filenames to ensure savability","full_description":"estimate filename truncates comically long filenames to ensure savability","status":"passed","file_path":"./spec/models/estimate_filename_spec.rb","line_number":11,"run_time":0.09348618,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[13:20:1:1:2:1]","description":"doesn't complete the add_contact event","full_description":"InvoicesController POST create flying start event tracking behaves like FlyingStart::TrackAddContactCompletion for landlord companies on unsuccessful creation doesn't complete the add_contact event","status":"passed","file_path":"./spec/support/shared_examples/flying_start/track_add_contact_completion_examples.rb","line_number":23,"run_time":0.6836353,"pending_message":null,"screenshot":null},{"id":"./spec/views/expenses/page_header_index_content.html.erb_spec.rb[1:1:1]","description":"render links to import and to create a new expense","full_description":"expenses/_page_header_index_content as a regular UK company render links to import and to create a new expense","status":"passed","file_path":"./spec/views/expenses/page_header_index_content.html.erb_spec.rb","line_number":8,"run_time":0.09447798,"pending_message":null,"screenshot":null},{"id":"./spec/views/expenses/page_header_index_content.html.erb_spec.rb[1:2:1]","description":"does not show the import button on the blank slate","full_description":"expenses/_page_header_index_content as a landlord company does not show the import button on the blank slate","status":"passed","file_path":"./spec/views/expenses/page_header_index_content.html.erb_spec.rb","line_number":28,"run_time":0.180979769,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/payit/payment_failed_job_spec.rb[1:1:1]","description":"sends a failure email","full_description":"Payit::PaymentFailedJob when the payment has failed sends a failure email","status":"passed","file_path":"./spec/jobs/payit/payment_failed_job_spec.rb","line_number":13,"run_time":0.194989077,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/payit/payment_failed_job_spec.rb[1:2:1]","description":"sends a failure email","full_description":"Payit::PaymentFailedJob when the payment has not failed sends a failure email","status":"passed","file_path":"./spec/jobs/payit/payment_failed_job_spec.rb","line_number":23,"run_time":0.159810827,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/payit/payment_failed_job_spec.rb[1:3:1]","description":"sends a failure email","full_description":"Payit::PaymentFailedJob when the payment does not exist sends a failure email","status":"passed","file_path":"./spec/jobs/payit/payment_failed_job_spec.rb","line_number":33,"run_time":0.00624012,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/project_portion_collection_spec.rb[1:1:1]","description":"returns the portion of the invoice for project 1","full_description":"Invoicing::ProjectPortionCollection#fetch returns the portion of the invoice for project 1","status":"passed","file_path":"./spec/models/invoicing/project_portion_collection_spec.rb","line_number":19,"run_time":0.239532434,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/project_portion_collection_spec.rb[1:1:2]","description":"returns the portion of the invoice for project 2","full_description":"Invoicing::ProjectPortionCollection#fetch returns the portion of the invoice for project 2","status":"passed","file_path":"./spec/models/invoicing/project_portion_collection_spec.rb","line_number":23,"run_time":0.21006328,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/project_portion_collection_spec.rb[1:2:1]","description":"returns the portions in project created-at order","full_description":"Invoicing::ProjectPortionCollection#all returns the portions in project created-at order","status":"passed","file_path":"./spec/models/invoicing/project_portion_collection_spec.rb","line_number":29,"run_time":0.204312331,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_part_paid_part_reconciled.feature[1:1:1]","description":"Given a uk sole trader -\u003e And a credit note reconciliation: part paid part reconciled, with VAT -\u003e Given VAT settings: Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Partial Reconciliation with VAT Standard VAT on invoice and credit note Given a uk sole trader -\u003e And a credit note reconciliation: part paid part reconciled, with VAT -\u003e Given VAT settings: Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_part_paid_part_reconciled.feature","line_number":6,"run_time":0.05269253,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_part_paid_part_reconciled.feature[1:2:1]","description":"Given a uk sole trader -\u003e And a credit note reconciliation: part paid part reconciled, with VAT -\u003e Given VAT settings: Invoice basis, not FRS, then Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Partial Reconciliation with VAT Standard VAT on invoice and credit note reconciliation Given a uk sole trader -\u003e And a credit note reconciliation: part paid part reconciled, with VAT -\u003e Given VAT settings: Invoice basis, not FRS, then Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_part_paid_part_reconciled.feature","line_number":46,"run_time":0.02607415,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_part_paid_part_reconciled.feature[1:3:1]","description":"Given a uk sole trader -\u003e And a credit note reconciliation: part paid part reconciled, with VAT -\u003e Given VAT settings: Invoice basis, not FRS, then Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Partial Reconciliation with VAT Standard VAT on invoice and FRS VAT on credit note Given a uk sole trader -\u003e And a credit note reconciliation: part paid part reconciled, with VAT -\u003e Given VAT settings: Invoice basis, not FRS, then Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_part_paid_part_reconciled.feature","line_number":90,"run_time":0.023568683,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_part_paid_part_reconciled.feature[1:4:1]","description":"Given a uk sole trader -\u003e And a credit note reconciliation: part paid part reconciled, with VAT -\u003e Given VAT settings: Invoice basis, not FRS, then Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Partial Reconciliation with VAT Standard VAT on invoice and FRS VAT on credit note reconciliation Given a uk sole trader -\u003e And a credit note reconciliation: part paid part reconciled, with VAT -\u003e Given VAT settings: Invoice basis, not FRS, then Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_part_paid_part_reconciled.feature","line_number":132,"run_time":0.025136463,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_part_paid_part_reconciled.feature[1:5:1]","description":"Given a uk sole trader -\u003e And a credit note reconciliation: part paid part reconciled, with VAT -\u003e Given VAT settings: Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Partial Reconciliation with VAT Standard VAT on payment and both reconcilation entries Given a uk sole trader -\u003e And a credit note reconciliation: part paid part reconciled, with VAT -\u003e Given VAT settings: Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_part_paid_part_reconciled.feature","line_number":178,"run_time":0.025413617,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_part_paid_part_reconciled.feature[1:6:1]","description":"Given a uk sole trader -\u003e And a credit note reconciliation: part paid part reconciled, with VAT -\u003e Given VAT settings: Cash basis, not FRS, then Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Partial Reconciliation with VAT Standard VAT on both payment, invoice reconciliation and credit note Given a uk sole trader -\u003e And a credit note reconciliation: part paid part reconciled, with VAT -\u003e Given VAT settings: Cash basis, not FRS, then Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_part_paid_part_reconciled.feature","line_number":231,"run_time":0.024970711,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_part_paid_part_reconciled.feature[1:7:1]","description":"Given a uk sole trader -\u003e And a credit note reconciliation: part paid part reconciled, with VAT -\u003e Given VAT settings: Cash basis, not FRS, then Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Partial Reconciliation with VAT Standard VAT on payment and invoice reconciliations, FRS VAT on credit note Given a uk sole trader -\u003e And a credit note reconciliation: part paid part reconciled, with VAT -\u003e Given VAT settings: Cash basis, not FRS, then Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_part_paid_part_reconciled.feature","line_number":280,"run_time":0.024896955,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_part_paid_part_reconciled.feature[1:8:1]","description":"Given a uk sole trader -\u003e And a credit note reconciliation: part paid part reconciled, with VAT -\u003e Given VAT settings: Cash basis, not FRS, then Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Partial Reconciliation with VAT FRS VAT on payment and both reconciliation entries Given a uk sole trader -\u003e And a credit note reconciliation: part paid part reconciled, with VAT -\u003e Given VAT settings: Cash basis, not FRS, then Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_part_paid_part_reconciled.feature","line_number":331,"run_time":0.027038515,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_part_paid_part_reconciled.feature[1:9:1]","description":"Given a uk sole trader -\u003e And a credit note reconciliation: part paid part reconciled, with VAT -\u003e Given VAT settings: Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Partial Reconciliation with VAT FRS VAT on payment and both reconciliation entries Given a uk sole trader -\u003e And a credit note reconciliation: part paid part reconciled, with VAT -\u003e Given VAT settings: Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_part_paid_part_reconciled.feature","line_number":331,"run_time":0.026174382,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_part_paid_part_reconciled.feature[1:10:1]","description":"Given a uk sole trader -\u003e And a credit note reconciliation: part paid part reconciled, with VAT -\u003e Given VAT settings: Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Partial Reconciliation with VAT FRS VAT on both invoice and credit note Given a uk sole trader -\u003e And a credit note reconciliation: part paid part reconciled, with VAT -\u003e Given VAT settings: Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_part_paid_part_reconciled.feature","line_number":391,"run_time":0.02201101,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_part_paid_part_reconciled.feature[1:11:1]","description":"Given a uk sole trader -\u003e And a credit note reconciliation: part paid part reconciled, with VAT -\u003e Given VAT settings: Invoice basis, FRS, then Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Partial Reconciliation with VAT FRS VAT on invoice, full VAT on credit note Given a uk sole trader -\u003e And a credit note reconciliation: part paid part reconciled, with VAT -\u003e Given VAT settings: Invoice basis, FRS, then Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_part_paid_part_reconciled.feature","line_number":435,"run_time":0.022979261,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_part_paid_part_reconciled.feature[1:12:1]","description":"Given a uk sole trader -\u003e And a credit note reconciliation: part paid part reconciled, with VAT -\u003e Given VAT settings: Invoice basis, FRS, then Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Partial Reconciliation with VAT FRS VAT on invoice, full VAT on credit note reconciliation Given a uk sole trader -\u003e And a credit note reconciliation: part paid part reconciled, with VAT -\u003e Given VAT settings: Invoice basis, FRS, then Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_part_paid_part_reconciled.feature","line_number":477,"run_time":0.060086931,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_part_paid_part_reconciled.feature[1:13:1]","description":"Given a uk sole trader -\u003e And a credit note reconciliation: part paid part reconciled, with VAT -\u003e Given VAT settings: Invoice basis, FRS, then Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Partial Reconciliation with VAT FRS VAT on invoice and credit note reconciliation Given a uk sole trader -\u003e And a credit note reconciliation: part paid part reconciled, with VAT -\u003e Given VAT settings: Invoice basis, FRS, then Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_part_paid_part_reconciled.feature","line_number":523,"run_time":0.028387003,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_part_paid_part_reconciled.feature[1:14:1]","description":"Given a uk sole trader -\u003e And a credit note reconciliation: part paid part reconciled, with VAT -\u003e Given VAT settings: Cash basis, FRS, then Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Partial Reconciliation with VAT FRS VAT on invoice at switch to invoice basis and standard VAT on credit note Given a uk sole trader -\u003e And a credit note reconciliation: part paid part reconciled, with VAT -\u003e Given VAT settings: Cash basis, FRS, then Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_part_paid_part_reconciled.feature","line_number":571,"run_time":0.039219897,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_part_paid_part_reconciled.feature[1:15:1]","description":"Given a uk sole trader -\u003e And a credit note reconciliation: part paid part reconciled, with VAT -\u003e Given VAT settings: Cash basis, FRS, then Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Partial Reconciliation with VAT FRS VAT on payment and invoice reconciliation entry, Standard VAT on credit note reconciliation entry Given a uk sole trader -\u003e And a credit note reconciliation: part paid part reconciled, with VAT -\u003e Given VAT settings: Cash basis, FRS, then Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_part_paid_part_reconciled.feature","line_number":617,"run_time":0.0410984,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_part_paid_part_reconciled.feature[1:16:1]","description":"Given a uk sole trader -\u003e And a credit note reconciliation: part paid part reconciled, with VAT -\u003e Given VAT settings: Cash basis, FRS, then Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Partial Reconciliation with VAT FRS VAT on invoice on switch to invoice basis and on credit note Given a uk sole trader -\u003e And a credit note reconciliation: part paid part reconciled, with VAT -\u003e Given VAT settings: Cash basis, FRS, then Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_part_paid_part_reconciled.feature","line_number":674,"run_time":0.03548239,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/flying_start/eligibility_checks/send_invoice_spec.rb[1:1:1:1]","description":"is expected to equal false","full_description":"FlyingStart::EligibilityChecks::SendInvoice#eligible? when the user did not choose the Send Invoice option is expected to equal false","status":"passed","file_path":"./spec/freeagent/flying_start/eligibility_checks/send_invoice_spec.rb","line_number":13,"run_time":0.007186408,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/flying_start/eligibility_checks/send_invoice_spec.rb[1:1:2:1]","description":"is expected to equal true","full_description":"FlyingStart::EligibilityChecks::SendInvoice#eligible? when the user chose the Send Invoice option is expected to equal true","status":"passed","file_path":"./spec/freeagent/flying_start/eligibility_checks/send_invoice_spec.rb","line_number":25,"run_time":0.007864093,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:2:1:2:4]","description":"representing business entertaining admin expense","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the invoice accounting basis not on the Flat Rate Scheme Bank Account Entries representing business entertaining admin expense","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":3760,"run_time":0.478027041,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/account_managers_integration_spec.rb[1:1]","description":"returns a list of all account managers for a senior account manager","full_description":"Api::AccountManagersIntegration returns a list of all account managers for a senior account manager","status":"passed","file_path":"./spec/requests/api/account_managers_integration_spec.rb","line_number":10,"run_time":0.089842277,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/account_managers_integration_spec.rb[1:2]","description":"returns a specific account manager for a senior account manager","full_description":"Api::AccountManagersIntegration returns a specific account manager for a senior account manager","status":"passed","file_path":"./spec/requests/api/account_managers_integration_spec.rb","line_number":16,"run_time":0.074477817,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/account_managers_integration_spec.rb[1:3]","description":"returns unauthorized to a list request by a non senior account manager","full_description":"Api::AccountManagersIntegration returns unauthorized to a list request by a non senior account manager","status":"passed","file_path":"./spec/requests/api/account_managers_integration_spec.rb","line_number":22,"run_time":0.083374421,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/account_managers_integration_spec.rb[1:4]","description":"returns unauthorized to a request for a specific account manager by a non senior account manager","full_description":"Api::AccountManagersIntegration returns unauthorized to a request for a specific account manager by a non senior account manager","status":"passed","file_path":"./spec/requests/api/account_managers_integration_spec.rb","line_number":27,"run_time":0.080227576,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/account_managers_integration_spec.rb[1:5]","description":"returns unauthorized to a list request by a non account manager","full_description":"Api::AccountManagersIntegration returns unauthorized to a list request by a non account manager","status":"passed","file_path":"./spec/requests/api/account_managers_integration_spec.rb","line_number":32,"run_time":0.078549368,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/account_managers_integration_spec.rb[1:6]","description":"returns unauthorized to a request for a specific account manager by a non account manager","full_description":"Api::AccountManagersIntegration returns unauthorized to a request for a specific account manager by a non account manager","status":"passed","file_path":"./spec/requests/api/account_managers_integration_spec.rb","line_number":37,"run_time":0.077970125,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:126:1:1]","description":"returns native written off value","full_description":"Invoice#written_off_value when native currency returns native written off value","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":3866,"run_time":0.454218133,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:24]","description":"correctly handles zero value invoice when net value is non zero","full_description":"Invoice correctly handles zero value invoice when net value is non zero","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":506,"run_time":0.170955161,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:40:2]","description":"creates not VAT only invoice","full_description":"Invoice with VAT registered company creates not VAT only invoice","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":857,"run_time":0.174036205,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:54:1]","description":"is not overpaid if there are no payments","full_description":"Invoice Given an outstanding invoice,  is not overpaid if there are no payments","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":1307,"run_time":0.19475938,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:99:7]","description":"is not possible for an invoice with stock items","full_description":"Invoice raising credit notes is not possible for an invoice with stock items","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":2994,"run_time":0.144677068,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:112:2:3]","description":"is always false for company types that don't support registration numbers","full_description":"Invoice#show_company_registration_number? on a Scheduled invoice is always false for company types that don't support registration numbers","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":3427,"run_time":0.167655172,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/subscription_payment_failures/_subscription_payment_failure.html.erb_spec.rb[1:1]","description":"displays a summary of the payment failure","full_description":"admin/subscription_payment_failures/_subscription_payment_failure displays a summary of the payment failure","status":"passed","file_path":"./spec/views/admin/subscription_payment_failures/_subscription_payment_failure.html.erb_spec.rb","line_number":13,"run_time":0.169133727,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/accounting/profit_and_loss_integration_spec.rb[1:1:1]","description":"is available for tax \u0026 accounting users","full_description":"Api::Accounting::ProfitAndLossIntegration GET /accounting/profit_and_loss/summary is available for tax \u0026 accounting users","status":"passed","file_path":"./spec/requests/api/accounting/profit_and_loss_integration_spec.rb","line_number":17,"run_time":0.116414561,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/accounting/profit_and_loss_integration_spec.rb[1:1:2]","description":"is not available for users below tax \u0026 accounting level","full_description":"Api::Accounting::ProfitAndLossIntegration GET /accounting/profit_and_loss/summary is not available for users below tax \u0026 accounting level","status":"passed","file_path":"./spec/requests/api/accounting/profit_and_loss_integration_spec.rb","line_number":36,"run_time":0.119686302,"pending_message":null,"screenshot":null},{"id":"./spec/components/bank_account_entries/capital_assets_auto_suggest_component_spec.rb[1:1:1]","description":"has an auto suggest list for capital assets","full_description":"BankAccountEntries::CapitalAssetsAutoSuggestComponent without a disposed capital asset has an auto suggest list for capital assets","status":"passed","file_path":"./spec/components/bank_account_entries/capital_assets_auto_suggest_component_spec.rb","line_number":32,"run_time":0.021571885,"pending_message":null,"screenshot":null},{"id":"./spec/components/bank_account_entries/capital_assets_auto_suggest_component_spec.rb[1:2:1]","description":"sets the value and display of the auto suggest","full_description":"BankAccountEntries::CapitalAssetsAutoSuggestComponent with a disposed capital asset sets the value and display of the auto suggest","status":"passed","file_path":"./spec/components/bank_account_entries/capital_assets_auto_suggest_component_spec.rb","line_number":69,"run_time":0.185731931,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:1:1]","description":"is not foreign_currency?","full_description":"ForeignCurrency For a GBP company with a GBP item is not foreign_currency?","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":47,"run_time":0.006599126,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:1:2]","description":"has an exchange rate of 1","full_description":"ForeignCurrency For a GBP company with a GBP item has an exchange rate of 1","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":52,"run_time":0.005671618,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:1:3]","description":"has the correct foreign currency sales tax values","full_description":"ForeignCurrency For a GBP company with a GBP item has the correct foreign currency sales tax values","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":56,"run_time":0.005698896,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:1:4:1]","description":"correctly sets the native value to be the same as the foreign value","full_description":"ForeignCurrency For a GBP company with a GBP item with automatic currency conversion on validation correctly sets the native value to be the same as the foreign value","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":67,"run_time":0.005824803,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:1:5:1]","description":"correctly sets the native value to be the same as the foreign value","full_description":"ForeignCurrency For a GBP company with a GBP item without automatic currency conversion on validation correctly sets the native value to be the same as the foreign value","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":78,"run_time":0.00593356,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:2:1]","description":"is not foreign_currency?","full_description":"ForeignCurrency For a GBP company with an old-skool GBP item (foreign_gross_value = nil) is not foreign_currency?","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":94,"run_time":0.006056155,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:2:2]","description":"has an exchange rate of 1","full_description":"ForeignCurrency For a GBP company with an old-skool GBP item (foreign_gross_value = nil) has an exchange rate of 1","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":99,"run_time":0.004295691,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:2:3]","description":"has the correct foreign currency values","full_description":"ForeignCurrency For a GBP company with an old-skool GBP item (foreign_gross_value = nil) has the correct foreign currency values","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":103,"run_time":0.003980146,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:3:1]","description":"is not foreign_currency?","full_description":"ForeignCurrency For a GBP company with an old-skool GBP item (foreign_gross_value = 0) is not foreign_currency?","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":122,"run_time":0.004138132,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:3:2]","description":"has an exchange rate of 1","full_description":"ForeignCurrency For a GBP company with an old-skool GBP item (foreign_gross_value = 0) has an exchange rate of 1","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":127,"run_time":0.003875976,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:3:3]","description":"has the correct foreign currency values","full_description":"ForeignCurrency For a GBP company with an old-skool GBP item (foreign_gross_value = 0) has the correct foreign currency values","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":131,"run_time":0.003915633,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:4:1]","description":"is foreign_currency?","full_description":"ForeignCurrency For a GBP company with a USD item is foreign_currency?","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":152,"run_time":0.006712667,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:4:2]","description":"uses the correct exchange rate","full_description":"ForeignCurrency For a GBP company with a USD item uses the correct exchange rate","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":157,"run_time":0.007281263,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:4:3]","description":"uses the manually reclaimable sales tax amount","full_description":"ForeignCurrency For a GBP company with a USD item uses the manually reclaimable sales tax amount","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":161,"run_time":0.007184251,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:4:4:1]","description":"correctly calculates the native gross value","full_description":"ForeignCurrency For a GBP company with a USD item with automatic currency conversion on validation correctly calculates the native gross value","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":173,"run_time":0.00886063,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:4:4:2]","description":"uses the manually reclaimable sales tax amount","full_description":"ForeignCurrency For a GBP company with a USD item with automatic currency conversion on validation uses the manually reclaimable sales tax amount","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":177,"run_time":0.008739706,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:4:5:1:1]","description":"does not override the manual native value","full_description":"ForeignCurrency For a GBP company with a USD item without automatic currency conversion on validation with a gross value specified does not override the manual native value","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":195,"run_time":0.007742814,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:4:5:1:2]","description":"uses the manually reclaimable sales tax amount","full_description":"ForeignCurrency For a GBP company with a USD item without automatic currency conversion on validation with a gross value specified uses the manually reclaimable sales tax amount","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":199,"run_time":0.007728943,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:4:5:2:1]","description":"correctly calculates the native gross value","full_description":"ForeignCurrency For a GBP company with a USD item without automatic currency conversion on validation with a gross value of nil correctly calculates the native gross value","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":210,"run_time":0.008417443,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:4:5:3:1]","description":"correctly calculates the native gross value","full_description":"ForeignCurrency For a GBP company with a USD item without automatic currency conversion on validation with a gross value of zero correctly calculates the native gross value","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":222,"run_time":0.008178587,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:5:1]","description":"is foreign_currency?","full_description":"ForeignCurrency For a GBP company with an item in an unsupported currency is foreign_currency?","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":247,"run_time":0.005498441,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:5:2]","description":"does not raise an error","full_description":"ForeignCurrency For a GBP company with an item in an unsupported currency does not raise an error","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":252,"run_time":0.005845593,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:5:3]","description":"does not perform automatic conversion","full_description":"ForeignCurrency For a GBP company with an item in an unsupported currency does not perform automatic conversion","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":258,"run_time":0.006491257,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:2:1:1]","description":"returns zero","full_description":"ForeignCurrency#foreign_sales_tax_value when the transaction is out of scope returns zero","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":272,"run_time":0.005728678,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:2:2:1]","description":"returns zero","full_description":"ForeignCurrency#foreign_sales_tax_value when the transaction is exempt from VAT returns zero","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":280,"run_time":0.005457962,"pending_message":null,"screenshot":null},{"id":"./spec/requests/add_and_remove_user_spec.rb[1:1]","description":"acts_as_list","full_description":"AddAndRemoveUser acts_as_list","status":"passed","file_path":"./spec/requests/add_and_remove_user_spec.rb","line_number":16,"run_time":0.168564281,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/salesforce_update_spec.rb[1:1:1:1]","description":"does not try to push to Salesforce","full_description":"Disengagement::SalesforceUpdate#sync_deleted_companies when there are no deleted companies does not try to push to Salesforce","status":"passed","file_path":"./spec/models/disengagement/salesforce_update_spec.rb","line_number":16,"run_time":0.004576303,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/salesforce_update_spec.rb[1:1:2:1]","description":"schedules a DeleteDisengagedCompaniesJob","full_description":"Disengagement::SalesforceUpdate#sync_deleted_companies when there are deleted companies schedules a DeleteDisengagedCompaniesJob","status":"passed","file_path":"./spec/models/disengagement/salesforce_update_spec.rb","line_number":24,"run_time":0.102295775,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/salesforce_update_spec.rb[1:1:2:2]","description":"logs the scheduling with deleted company ids","full_description":"Disengagement::SalesforceUpdate#sync_deleted_companies when there are deleted companies logs the scheduling with deleted company ids","status":"passed","file_path":"./spec/models/disengagement/salesforce_update_spec.rb","line_number":30,"run_time":0.08427441,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage/banking_details_spec.rb[1:1]","description":"should not be completed there are no bank accounts","full_description":"Company::SetupStage::BankingDetails should not be completed there are no bank accounts","status":"passed","file_path":"./spec/models/company/setup_stage/banking_details_spec.rb","line_number":8,"run_time":0.065810631,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage/banking_details_spec.rb[1:2]","description":"should not be completed there are bank accounts","full_description":"Company::SetupStage::BankingDetails should not be completed there are bank accounts","status":"passed","file_path":"./spec/models/company/setup_stage/banking_details_spec.rb","line_number":12,"run_time":0.076978401,"pending_message":null,"screenshot":null},{"id":"./spec/models/preferences/user_preference_spec.rb[1:1:1]","description":"adds a unique preference value to the database","full_description":"Preferences::UserPreference.set adds a unique preference value to the database","status":"passed","file_path":"./spec/models/preferences/user_preference_spec.rb","line_number":12,"run_time":0.034395827,"pending_message":null,"screenshot":null},{"id":"./spec/models/preferences/user_preference_spec.rb[1:1:2]","description":"overwrites existing values","full_description":"Preferences::UserPreference.set overwrites existing values","status":"passed","file_path":"./spec/models/preferences/user_preference_spec.rb","line_number":18,"run_time":0.030513113,"pending_message":null,"screenshot":null},{"id":"./spec/models/preferences/user_preference_spec.rb[1:2:1]","description":"returns the preference value if it exists","full_description":"Preferences::UserPreference.get returns the preference value if it exists","status":"passed","file_path":"./spec/models/preferences/user_preference_spec.rb","line_number":26,"run_time":0.023318609,"pending_message":null,"screenshot":null},{"id":"./spec/models/preferences/user_preference_spec.rb[1:2:2]","description":"returns the default value if the preference is not set","full_description":"Preferences::UserPreference.get returns the default value if the preference is not set","status":"passed","file_path":"./spec/models/preferences/user_preference_spec.rb","line_number":32,"run_time":0.020701465,"pending_message":null,"screenshot":null},{"id":"./spec/models/preferences/user_preference_spec.rb[1:3:1]","description":"returns true if the preference exists","full_description":"Preferences::UserPreference.has returns true if the preference exists","status":"passed","file_path":"./spec/models/preferences/user_preference_spec.rb","line_number":38,"run_time":0.023201967,"pending_message":null,"screenshot":null},{"id":"./spec/models/preferences/user_preference_spec.rb[1:3:2]","description":"returns false if the preference is not set","full_description":"Preferences::UserPreference.has returns false if the preference is not set","status":"passed","file_path":"./spec/models/preferences/user_preference_spec.rb","line_number":44,"run_time":0.019905545,"pending_message":null,"screenshot":null}],"summary":{"duration":2.297942146,"example_count":473,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"473 examples, 0 failures"}