{"version":"3.11.0","messages":["Run options:\n  include {:ids=\u003e{\"./spec/models/invoice_spec.rb\"=\u003e[\"1:141:2:2:1:1\"]}}\n  exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/requests/api/invoices_integration_spec.rb[1:1:1:1:1]","description":"no nested invoice items","full_description":"Api::InvoicesController GET /invoices with the right permission_level with 3 invoices and 2 invoice items each no nested invoice items","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":156,"run_time":0.989833945,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:1:1:1:2]","description":"with nested_invoice_items=true","full_description":"Api::InvoicesController GET /invoices with the right permission_level with 3 invoices and 2 invoice items each with nested_invoice_items=true","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":179,"run_time":0.531391412,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:1:1:2:1]","description":"no nested invoice items","full_description":"Api::InvoicesController GET /invoices with the right permission_level with invoices filter on currency no nested invoice items","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":210,"run_time":0.561468272,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:1:1:3:1]","description":"returns a success response","full_description":"Api::InvoicesController GET /invoices with the right permission_level with a :view parameter returns a success response","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":222,"run_time":0.236918023,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:1:1:3:2:1]","description":"returns a suitable error message","full_description":"Api::InvoicesController GET /invoices with the right permission_level with a :view parameter for an invalid filter returns a suitable error message","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":246,"run_time":0.085560202,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:1:1:4:1]","description":"returns invoices with the default :created_at ordering","full_description":"Api::InvoicesController GET /invoices with the right permission_level without a :sort parameter returns invoices with the default :created_at ordering","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":266,"run_time":0.485911815,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:1:1:5:1]","description":"returns the invoices sorted by the correct field and order","full_description":"Api::InvoicesController GET /invoices with the right permission_level with a :sort parameter returns the invoices sorted by the correct field and order","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":293,"run_time":0.788178913,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:1:1:5:2:1]","description":"returns a suitable error message","full_description":"Api::InvoicesController GET /invoices with the right permission_level with a :sort parameter for an invalid field returns a suitable error message","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":335,"run_time":0.381806792,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:1:1:6:1:1]","description":"returns array of matching invoices","full_description":"Api::InvoicesController GET /invoices with the right permission_level with date filters from_date returns array of matching invoices","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":357,"run_time":0.2624205,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:1:1:6:2:1]","description":"returns array of matching invoices","full_description":"Api::InvoicesController GET /invoices with the right permission_level with date filters to_date returns array of matching invoices","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":370,"run_time":0.260853537,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:1:1:6:3:1]","description":"returns array of matching invoices","full_description":"Api::InvoicesController GET /invoices with the right permission_level with date filters from_date_to_date returns array of matching invoices","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":385,"run_time":0.268734506,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:1:1:6:4:1]","description":"returns array of matching invoices","full_description":"Api::InvoicesController GET /invoices with the right permission_level with date filters updated_since returns array of matching invoices","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":397,"run_time":0.306149846,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:1:1:7:1]","description":"returns the CIS details on the invoices","full_description":"Api::InvoicesController GET /invoices with the right permission_level with CIS returns the CIS details on the invoices","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":416,"run_time":0.248250705,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:1:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::InvoicesController GET /invoices without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":430,"run_time":0.081055446,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:1:3:1:1]","description":"responds with invoices only for the specified contact","full_description":"Api::InvoicesController GET /invoices for a company with two invoices by two different contacts when filtering by a specific contact responds with invoices only for the specified contact","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":442,"run_time":0.259782683,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:2:1]","description":"when type is 'all'","full_description":"Api::InvoicesController GET /invoices with a :type parameter when type is 'all'","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":473,"run_time":0.354136151,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:2:2]","description":"when type is 'invoices'","full_description":"Api::InvoicesController GET /invoices with a :type parameter when type is 'invoices'","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":488,"run_time":0.355806258,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:2:3]","description":"when type is 'credit_notes'","full_description":"Api::InvoicesController GET /invoices with a :type parameter when type is 'credit_notes'","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":499,"run_time":0.354915257,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:3:1]","description":"filtering by an invalid currency","full_description":"Api::InvoicesController GET /invoices with a :currency parameter filtering by an invalid currency","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":515,"run_time":0.284544833,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:3:2]","description":"filtering by a valid currency","full_description":"Api::InvoicesController GET /invoices with a :currency parameter filtering by a valid currency","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":521,"run_time":0.28748802,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:4:2]","description":"without the right permission level","full_description":"Api::InvoicesController GET /invoicing without the right permission level","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":559,"run_time":0.095188367,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:4:1:1]","description":"should return invoices and credit_notes in the response","full_description":"Api::InvoicesController GET /invoicing with right permission level should return invoices and credit_notes in the response","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":539,"run_time":0.248621092,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:4:1:2]","description":"should support views","full_description":"Api::InvoicesController GET /invoicing with right permission level should support views","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":548,"run_time":0.408293705,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:5:1:1]","description":"responds with invoices only for the specified project","full_description":"Api::InvoicesController for a company with two invoices associated with two different projects when filtering by the first project responds with invoices only for the specified project","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":579,"run_time":0.230477348,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:5:2:1]","description":"responds with invoices only for the specified project","full_description":"Api::InvoicesController for a company with two invoices associated with two different projects when filtering by the second project responds with invoices only for the specified project","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":591,"run_time":0.201691381,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:6:1:1:1:1]","description":"responds with the standard invoice fields","full_description":"Api::InvoicesController GET /invoices/invoice_id with the right permission_level with valid invoice_id with no invoice_items responds with the standard invoice fields","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":608,"run_time":0.17206449,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:6:1:1:2:1]","description":"appends an array of invoice_items","full_description":"Api::InvoicesController GET /invoices/invoice_id with the right permission_level with valid invoice_id with 3 invoice_items appends an array of invoice_items","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":625,"run_time":0.284635012,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:6:1:1:3:1]","description":"is payable online","full_description":"Api::InvoicesController GET /invoices/invoice_id with the right permission_level with valid invoice_id with an invoice that is payable online is payable online","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":650,"run_time":0.277040085,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:6:1:1:3:2]","description":"includes the payment URL in the response","full_description":"Api::InvoicesController GET /invoices/invoice_id with the right permission_level with valid invoice_id with an invoice that is payable online includes the payment URL in the response","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":654,"run_time":0.237781969,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:6:1:1:4:1]","description":"is marked as moss","full_description":"Api::InvoicesController GET /invoices/invoice_id with the right permission_level with valid invoice_id with a moss invoice is marked as moss","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":665,"run_time":0.199780593,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:6:1:1:5:1]","description":"responds with the standard invoice fields","full_description":"Api::InvoicesController GET /invoices/invoice_id with the right permission_level with valid invoice_id with an invoice that has 'optional' fields responds with the standard invoice fields","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":690,"run_time":0.645252128,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:6:1:1:6:1]","description":"responds with the standard + CIS invoice fields","full_description":"Api::InvoicesController GET /invoices/invoice_id with the right permission_level with valid invoice_id with a CIS invoice responds with the standard + CIS invoice fields","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":703,"run_time":0.468173594,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:6:1:1:7:1]","description":"translates the sales tax status attributes into the API format","full_description":"Api::InvoicesController GET /invoices/invoice_id with the right permission_level with valid invoice_id sales tax status translates the sales tax status attributes into the API format","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":728,"run_time":0.201883691,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:6:1:2:1]","description":"is expected to respond with a missing status code (404)","full_description":"Api::InvoicesController GET /invoices/invoice_id with the right permission_level with invalid invoice_id is expected to respond with a missing status code (404)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":740,"run_time":0.089135164,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:6:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::InvoicesController GET /invoices/invoice_id without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":750,"run_time":0.133451692,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:7:1]","description":"returns base64 encoded PDF data with correct permissions","full_description":"Api::InvoicesController GET /invoices/invoice_id/pdf returns base64 encoded PDF data with correct permissions","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":762,"run_time":0.314286435,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:7:2]","description":"doesn't allow access without the right permission_level","full_description":"Api::InvoicesController GET /invoices/invoice_id/pdf doesn't allow access without the right permission_level","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":773,"run_time":0.184702182,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:1]","description":"creates an audit entry","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice creates an audit entry","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":794,"run_time":0.233528323,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:2]","description":"publishes the invoice created event","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice publishes the invoice created event","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":815,"run_time":0.212882773,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:3:1]","description":"ignores the contact parameter at the top level and fails to create the invoice","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice when contact is sent as a top level variable ignores the contact parameter at the top level and fails to create the invoice","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":833,"run_time":0.119546936,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:4:1]","description":"ignores the top level contact parameter and create the invoice with the contact in the invoice payload","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice when contact is sent as a top level variable and in the body ignores the top level contact parameter and create the invoice with the contact in the invoice payload","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":856,"run_time":0.25070281,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:5:1]","description":"uses the company's selected invoice theme","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with the company's default invoice theme set to something other than the last theme uses the company's selected invoice theme","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":876,"run_time":0.195965304,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:6:1]","description":"is expected to respond with status code :created (201)","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with invoice template is expected to respond with status code :created (201)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":888,"run_time":0.208804915,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:7:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with no new invoice template is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":897,"run_time":0.09170742,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:8:1]","description":"is expected to respond with status code :created (201)","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with reminder template is expected to respond with status code :created (201)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":907,"run_time":0.2214731,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:9:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with no reminder template is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":916,"run_time":0.102746118,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:10:1]","description":"is expected to respond with status code :created (201)","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with thank you template is expected to respond with status code :created (201)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":926,"run_time":0.238961861,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:11:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with no new thank you templates is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":935,"run_time":0.117638635,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:12:1]","description":"has expected cis fields","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with CIS rate has expected cis fields","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":946,"run_time":0.256891317,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:1:1]","description":"has created an invoice record for the current company","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with no invoice_items has created an invoice record for the current company","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":960,"run_time":0.234599695,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:2:1]","description":"sets the bank account correctly","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with a bank account specified sets the bank account correctly","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":986,"run_time":0.259251825,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:3:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with contact on a different company is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":999,"run_time":0.169422354,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:1:1:1]","description":"creates an invoice with the correct ec_status","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to Non-EC value as Non-EC creates an invoice with the correct ec_status","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1004,"run_time":0.219116322,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:1:2:1]","description":"creates an invoice with the correct ec_status","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to Non-EC value as 0 creates an invoice with the correct ec_status","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1004,"run_time":0.2280742,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:2:1:1:1]","description":"creates an invoice with the correct ec_status","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to EC Services value as EC Services when the company is in the EU on the record date creates an invoice with the correct ec_status","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1004,"run_time":0.215864979,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:2:1:2:1:1]","description":"creates an invoice with the correct ec_status","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to EC Services value as EC Services when the company is not in the EU on the record date when the company has a NI postcode creates an invoice with the correct ec_status","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1004,"run_time":0.22283293,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:2:1:2:2:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to EC Services value as EC Services when the company is not in the EU on the record date when the company does not have a NI postcode is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1069,"run_time":0.128614987,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:2:2:1:1]","description":"creates an invoice with the correct ec_status","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to EC Services value as 1 when the company is in the EU on the record date creates an invoice with the correct ec_status","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1004,"run_time":0.196871105,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:2:2:2:1:1]","description":"creates an invoice with the correct ec_status","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to EC Services value as 1 when the company is not in the EU on the record date when the company has a NI postcode creates an invoice with the correct ec_status","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1004,"run_time":0.186257621,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:2:2:2:2:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to EC Services value as 1 when the company is not in the EU on the record date when the company does not have a NI postcode is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1069,"run_time":0.119817574,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:3:1:1]","description":"creates an invoice with the correct ec_status","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to EC Goods (value as \"EC Goods\") creates an invoice with the correct ec_status","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1004,"run_time":0.245336438,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:3:2:1]","description":"creates an invoice with the correct ec_status","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to EC Goods (value as \"2\") creates an invoice with the correct ec_status","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1004,"run_time":0.233173806,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:4:1:1:1]","description":"creates an invoice with the correct ec_status","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to EC VAT MOSS value as EC VAT MOSS with a place of supply creates an invoice with the correct ec_status","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1105,"run_time":0.232515895,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:4:1:2:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to EC VAT MOSS value as EC VAT MOSS without a place of supply is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1119,"run_time":0.136932931,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:4:2:1:1]","description":"creates an invoice with the correct ec_status","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to EC VAT MOSS value as 3 with a place of supply creates an invoice with the correct ec_status","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1105,"run_time":0.219831576,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:4:2:2:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to EC VAT MOSS value as 3 without a place of supply is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1119,"run_time":0.119520607,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:5:1:1:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to Reverse Charge value as Reverse Charge when the company is in the EU on the record date is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1138,"run_time":0.105845341,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:5:1:2:1:1]","description":"creates an invoice with the correct ec_status","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to Reverse Charge value as Reverse Charge when the company is not in the EU on the record date when the company has a NI postcode creates an invoice with the correct ec_status","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1004,"run_time":0.199640138,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:5:1:2:2:1]","description":"creates an invoice with the correct ec_status","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to Reverse Charge value as Reverse Charge when the company is not in the EU on the record date when the company does not have a NI postcode creates an invoice with the correct ec_status","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1004,"run_time":0.180336707,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:5:2:1:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to Reverse Charge value as 4 when the company is in the EU on the record date is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1138,"run_time":0.124086996,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:5:2:2:1:1]","description":"creates an invoice with the correct ec_status","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to Reverse Charge value as 4 when the company is not in the EU on the record date when the company has a NI postcode creates an invoice with the correct ec_status","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1004,"run_time":0.217634167,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:5:2:2:2:1]","description":"creates an invoice with the correct ec_status","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to Reverse Charge value as 4 when the company is not in the EU on the record date when the company does not have a NI postcode creates an invoice with the correct ec_status","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1004,"run_time":0.186489023,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:6:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to an invalid value is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1169,"run_time":0.117374936,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:5:1]","description":"has created a invoice record for the current company","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with 3 invoice_items has created a invoice record for the current company","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1190,"run_time":0.291058765,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:6:1]","description":"has created a the invoice items in the correct order","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with 3 invoice_items with named positions has created a the invoice items in the correct order","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1223,"run_time":0.231840242,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:7:1]","description":"has created an invoice record for the current company","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with 1 invoice_item with no item_type has created an invoice record for the current company","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1246,"run_time":0.258763328,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:8:1]","description":"has created an invoice record for the current company","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with 3 invoice_items to different categories has created an invoice record for the current company","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1280,"run_time":0.251716258,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:8:2]","description":"responds with the standard invoice fields","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with 3 invoice_items to different categories responds with the standard invoice fields","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1285,"run_time":0.314964017,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:8:3]","description":"appends an array of invoice_items","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with 3 invoice_items to different categories appends an array of invoice_items","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1290,"run_time":0.281628832,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:8:4]","description":"appends the standard invoice_items fields","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with 3 invoice_items to different categories appends the standard invoice_items fields","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1294,"run_time":0.267489949,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:8:5]","description":"correctly categorises invoice items","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with 3 invoice_items to different categories correctly categorises invoice items","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1301,"run_time":0.305637786,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:9:1]","description":"should create the invoice","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with a nil category should create the invoice","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1328,"run_time":0.228484898,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:9:2]","description":"should assign a default category to the invoice item","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with a nil category should assign a default category to the invoice item","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1333,"run_time":0.260999481,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:10:1]","description":"is expected to respond with status code :created (201)","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes invoice_items set to nil is expected to respond with status code :created (201)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1345,"run_time":0.222915954,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:11:1]","description":"returns an error on invoice_items","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes invoice_items is a string returns an error on invoice_items","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1356,"run_time":0.097160561,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:12:1]","description":"has created an invoice record for the current company with the stock item","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with 1 invoice_item of type stock_item has created an invoice record for the current company with the stock item","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1378,"run_time":0.251351764,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:14:1:1:1]","description":"has the same number of invoices after posting attempt","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with invalid attributes invoice name has the same number of invoices after posting attempt","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1398,"run_time":0.108822249,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:14:1:2:1]","description":"responds with an error","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with invalid attributes invoice as an array responds with an error","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1409,"run_time":0.093696147,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:14:2:1:1]","description":"does not create stock item entries where the stock item does not belong to that company","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with invalid attributes invoice_item stock item does not create stock item entries where the stock item does not belong to that company","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1430,"run_time":0.131822086,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:14:2:2:1]","description":"has the same number of invoices after posting attempt","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with invalid attributes invoice_item quantity has the same number of invoices after posting attempt","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1444,"run_time":0.127116571,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:14:2:3:1]","description":"returns an error message","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with invalid attributes invoice_item category returns an error message","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1459,"run_time":0.111126715,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:14:3:1]","description":"returns an error on payment_methods","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with invalid attributes payment_methods returns an error on payment_methods","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1472,"run_time":0.106086997,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:2:1]","description":"has the same number of invoices after posting attempt","full_description":"Api::InvoicesController POST /invoices with the right permission_level as an invalid invoice  has the same number of invoices after posting attempt","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1490,"run_time":0.134713042,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:3:1]","description":"returns an error message","full_description":"Api::InvoicesController POST /invoices with the right permission_level with an empty request body returns an error message","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1502,"run_time":0.101259576,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:4:1:1]","description":"creates the invoice","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a UK Unincorporated Landlord when supplying a property creates the invoice","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1532,"run_time":0.350717702,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:4:2:1]","description":"fails to create the invoice","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a UK Unincorporated Landlord when supplying a property owned by another company fails to create the invoice","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1543,"run_time":0.357154064,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:4:3:1]","description":"fails to create the invoice","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a UK Unincorporated Landlord when not supplying a property fails to create the invoice","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1551,"run_time":0.196951687,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:2:1:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::InvoicesController POST /invoices without the right permission_level as a valid invoice is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1567,"run_time":0.107187553,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:9:1]","description":"when no project_id is passed for the invoice_item_attributes","full_description":"Api::InvoicesController POST /invoices associated to a project when no project_id is passed for the invoice_item_attributes","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1588,"run_time":0.271227743,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:9:2:1]","description":"by default","full_description":"Api::InvoicesController POST /invoices associated to a project passing another project's id in invoice_item_attributes by default","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1623,"run_time":0.272951246,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:9:2:2]","description":"create an invoice with a project and invoice items","full_description":"Api::InvoicesController POST /invoices associated to a project passing another project's id in invoice_item_attributes create an invoice with a project and invoice items","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1638,"run_time":0.267092338,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:9:3:1]","description":"unbilled item options passed in parameters","full_description":"Api::InvoicesController POST /invoices associated to a project when unbilled items are present unbilled item options passed in parameters","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1659,"run_time":1.244051204,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:10:1]","description":"should duplicate the correct invoice properties","full_description":"Api::InvoicesController POST /invoices/:id/duplicate should duplicate the correct invoice properties","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1706,"run_time":0.667163166,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:11:1:1:1:1:1]","description":"updates the currency","full_description":"Api::InvoicesController PUT /invoices/invoice_id with the right permission_level with valid invoice_id with valid attributes invoice with foreign currency updates the currency","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1750,"run_time":0.285205623,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:11:1:1:1:2:2]","description":"PUT invoice_item_id","full_description":"Api::InvoicesController PUT /invoices/invoice_id with the right permission_level with valid invoice_id with valid attributes invoice_items PUT invoice_item_id","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1772,"run_time":0.360842255,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:11:1:1:1:2:1:1]","description":"have an additional invoice_item after one has been 'posted'","full_description":"Api::InvoicesController PUT /invoices/invoice_id with the right permission_level with valid invoice_id with valid attributes invoice_items POST invoice_item_id have an additional invoice_item after one has been 'posted'","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1766,"run_time":0.463975842,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:11:1:1:1:2:3:1]","description":"has new invoice item with associated stock item","full_description":"Api::InvoicesController PUT /invoices/invoice_id with the right permission_level with valid invoice_id with valid attributes invoice_items add a stock_item invoice item to an existing invoice has new invoice item with associated stock item","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1802,"run_time":0.369670643,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:11:1:1:1:2:4:1:1]","description":"deletes the invoice item","full_description":"Api::InvoicesController PUT /invoices/invoice_id with the right permission_level with valid invoice_id with valid attributes invoice_items PUT invoice_item_id with _destroy param set to 1 and the invoice is draft deletes the invoice item","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1822,"run_time":0.337756212,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:11:1:1:1:2:4:2:1]","description":"does not delete the invoice item","full_description":"Api::InvoicesController PUT /invoices/invoice_id with the right permission_level with valid invoice_id with valid attributes invoice_items PUT invoice_item_id with _destroy param set to 1 and the invoice is sent does not delete the invoice item","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1838,"run_time":0.35423921,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:11:1:1:1:2:5:1]","description":"sets the sales tax rate of the invoice item","full_description":"Api::InvoicesController PUT /invoices/invoice_id with the right permission_level with valid invoice_id with valid attributes invoice_items POST with invoice items with sales tax status set sets the sales tax rate of the invoice item","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1862,"run_time":0.316614775,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:11:1:1:1:2:6:1]","description":"sets the sales tax rate of the invoice item","full_description":"Api::InvoicesController PUT /invoices/invoice_id with the right permission_level with valid invoice_id with valid attributes invoice_items PUT with invoice items with sales tax status set sets the sales tax rate of the invoice item","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1877,"run_time":0.374979724,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:11:1:1:1:2:7:1]","description":"creates a valid invoice","full_description":"Api::InvoicesController PUT /invoices/invoice_id with the right permission_level with valid invoice_id with valid attributes invoice_items POST with invoice items with EC Services status creates a valid invoice","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1914,"run_time":0.330962733,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:11:1:1:1:3:1:1]","description":"updates succesfully","full_description":"Api::InvoicesController PUT /invoices/invoice_id with the right permission_level with valid invoice_id with valid attributes CIS with a valid CIS rate updates succesfully","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1932,"run_time":0.307931981,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:11:1:1:1:3:2:1]","description":"returns bad_request and an error message","full_description":"Api::InvoicesController PUT /invoices/invoice_id with the right permission_level with valid invoice_id with valid attributes CIS with an invalid CIS rate returns bad_request and an error message","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1945,"run_time":0.22196497,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:11:1:1:1:4:1]","description":"updates the property","full_description":"Api::InvoicesController PUT /invoices/invoice_id with the right permission_level with valid invoice_id with valid attributes as a UK Unincorporated Landlord updates the property","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1974,"run_time":0.327003352,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:11:1:1:2:1:1]","description":"has the same number of invoices after posting attempt","full_description":"Api::InvoicesController PUT /invoices/invoice_id with the right permission_level with valid invoice_id with invalid attributes name has the same number of invoices after posting attempt","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1991,"run_time":0.180326064,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:11:1:2:1]","description":"is expected to respond with a not_found status code (404)","full_description":"Api::InvoicesController PUT /invoices/invoice_id with the right permission_level with invalid invoice_id is expected to respond with a not_found status code (404)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2004,"run_time":0.089680011,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:11:2:1:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::InvoicesController PUT /invoices/invoice_id without the right permission_level with valid invoice_id is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2017,"run_time":0.142451635,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:12:1]","description":"PUT /v2/invoices when adding invoice items","full_description":"Api::InvoicesController Given an invoice with a project PUT /v2/invoices when adding invoice items","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2029,"run_time":0.391811287,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:12:2:1]","description":"PUT /v2/invoices/:id by default","full_description":"Api::InvoicesController Given an invoice with a project when adding invoice_items for another project PUT /v2/invoices/:id by default","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2059,"run_time":0.386883596,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:12:2:2]","description":"PUT /v2/invoices/:id","full_description":"Api::InvoicesController Given an invoice with a project when adding invoice_items for another project PUT /v2/invoices/:id","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2072,"run_time":0.397546011,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:12:3:1]","description":"PUT /v2/invoices/:id by default","full_description":"Api::InvoicesController Given an invoice with a project when changing the project to another project PUT /v2/invoices/:id by default","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2098,"run_time":0.468844443,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:12:3:2]","description":"PUT /v2/invoices/:id","full_description":"Api::InvoicesController Given an invoice with a project when changing the project to another project PUT /v2/invoices/:id","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2113,"run_time":0.49353417,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:12:4:2]","description":"PUT /v2/invoices/:id when no nested attributes for invoice_items are passed","full_description":"Api::InvoicesController Given an invoice with a project when removing the project PUT /v2/invoices/:id when no nested attributes for invoice_items are passed","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2160,"run_time":0.4478541,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:12:4:3]","description":"PUT /v2/invoices/:id with nested invoice_items attributes","full_description":"Api::InvoicesController Given an invoice with a project when removing the project PUT /v2/invoices/:id with nested invoice_items attributes","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2179,"run_time":0.460196495,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:12:4:1:1]","description":"removes the invoice project and the manually added invoice_item's project_id","full_description":"Api::InvoicesController Given an invoice with a project when removing the project PUT /v2/invoices/:id by default removes the invoice project and the manually added invoice_item's project_id","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2153,"run_time":0.432931317,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:12:5:1:1]","description":"keeps the correct invoice items","full_description":"Api::InvoicesController Given an invoice with a project when unbilled items are present with unbilled item options passed in parameters keeps the correct invoice items","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2242,"run_time":0.813059633,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:13:1]","description":"PUT /v2/invoices/:id with attributes other than project_id","full_description":"Api::InvoicesController Given an invoice with line items for multiple projects PUT /v2/invoices/:id with attributes other than project_id","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2268,"run_time":0.414796142,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:13:2]","description":"PUT /v2/invoices/:id with another contact","full_description":"Api::InvoicesController Given an invoice with line items for multiple projects PUT /v2/invoices/:id with another contact","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2282,"run_time":0.298615068,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:13:3]","description":"PUT /v2/invoices/:id with another contact and a new primary project","full_description":"Api::InvoicesController Given an invoice with line items for multiple projects PUT /v2/invoices/:id with another contact and a new primary project","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2299,"run_time":0.464785382,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:13:4]","description":"PUT /v2/invoices/:id with primary project changed to another project","full_description":"Api::InvoicesController Given an invoice with line items for multiple projects PUT /v2/invoices/:id with primary project changed to another project","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2311,"run_time":0.404680691,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:13:5]","description":"PUT /v2/invoices/:id with primary project changed to nil","full_description":"Api::InvoicesController Given an invoice with line items for multiple projects PUT /v2/invoices/:id with primary project changed to nil","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2328,"run_time":0.269449989,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:13:6:1]","description":"sets the newly created invoice_item's id to the primary project's id","full_description":"Api::InvoicesController Given an invoice with line items for multiple projects PUT /v2/invoices/:id when adding invoice items sets the newly created invoice_item's id to the primary project's id","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2359,"run_time":0.491486303,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:14:1]","description":"PUT /v2/invoices/:id while changing the project_id","full_description":"Api::InvoicesController Given an invoice not associated with a project PUT /v2/invoices/:id while changing the project_id","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2372,"run_time":0.385584957,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:15:1:1:1:1]","description":"has one less invoice after deletion and creates an audit entry","full_description":"Api::InvoicesController DELETE /invoices/invoice_id with the right permission_level with valid invoice_id deleteable (when status set to Draft) has one less invoice after deletion and creates an audit entry","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2415,"run_time":0.2962651,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:15:1:1:1:2]","description":"publishes an INVOICE_DELETED event","full_description":"Api::InvoicesController DELETE /invoices/invoice_id with the right permission_level with valid invoice_id deleteable (when status set to Draft) publishes an INVOICE_DELETED event","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2435,"run_time":0.26311716,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:15:1:1:2:1]","description":"has the same number of invoices after deletion attempt and does not create an audit entry","full_description":"Api::InvoicesController DELETE /invoices/invoice_id with the right permission_level with valid invoice_id not deleteable (when status set to Sent) has the same number of invoices after deletion attempt and does not create an audit entry","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2452,"run_time":0.27987673,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:15:1:2:1]","description":"is expected to respond with a not_found status code (404)","full_description":"Api::InvoicesController DELETE /invoices/invoice_id with the right permission_level with invalid invoice_id is expected to respond with a not_found status code (404)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2465,"run_time":0.086865415,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:15:2:1:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::InvoicesController DELETE /invoices/invoice_id without the right permission_level with valid invoice_id is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2477,"run_time":0.149718102,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:16:1:1:1:1]","description":"converts the invoice and returns 200 OK and creates an audit entry","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/convert_to_credit_note with the right permission_level with valid invoice_id that can be converted to a credit note converts the invoice and returns 200 OK and creates an audit entry","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2492,"run_time":0.408682161,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:16:1:1:2:1]","description":"returns bad request and the error messages in the body","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/convert_to_credit_note with the right permission_level with valid invoice_id that cannot be converted to a credit note returns bad request and the error messages in the body","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2530,"run_time":0.265945473,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:16:1:1:3:1]","description":"returns bad request and the error messages in the body","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/convert_to_credit_note with the right permission_level with valid invoice_id attempting to convert a Credit Note returns bad request and the error messages in the body","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2545,"run_time":0.229780194,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:16:1:2:1]","description":"returns not found","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/convert_to_credit_note with the right permission_level with invalid invoice_id returns not found","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2559,"run_time":0.098782032,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:16:1:3:1]","description":"returns not found","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/convert_to_credit_note with the right permission_level with a draft negative invoice belonging to another company returns not found","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2571,"run_time":0.315507867,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:16:2:1]","description":"returns forbidden and does not convert the invoice","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/convert_to_credit_note without the right permission_level returns forbidden and does not convert the invoice","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2581,"run_time":0.170110531,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:17:1:1:1:1]","description":"creates an audit entry and publishes the invoice marked as sent event","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_sent with the right permission_level with valid invoice_id allowed transition creates an audit entry and publishes the invoice marked as sent event","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2605,"run_time":0.349545132,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:17:1:1:1:2]","description":"publishes the invoice sent event","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_sent with the right permission_level with valid invoice_id allowed transition publishes the invoice sent event","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2621,"run_time":0.328406761,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:17:1:1:2:1]","description":"returns a forbidden status with an error explaning the invalid nature of the invoice","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_sent with the right permission_level with valid invoice_id with a forward dated foreign currency invoice with sales tax returns a forbidden status with an error explaning the invalid nature of the invoice","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2641,"run_time":0.206184438,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:17:1:2:1]","description":"is expected to respond with a missing status code (404)","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_sent with the right permission_level with invalid invoice_id is expected to respond with a missing status code (404)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2655,"run_time":0.094666592,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:17:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_sent without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2662,"run_time":0.157577542,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:18:1:1:1:1]","description":"creates an audit entry","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_scheduled with the right permission_level with valid invoice_id allowed transition creates an audit entry","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2682,"run_time":0.25486433,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:18:1:1:2:1]","description":"does not create an audit entry","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_scheduled with the right permission_level with valid invoice_id prohibited transition does not create an audit entry","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2708,"run_time":0.195466122,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:18:1:2:1]","description":"is expected to respond with a missing status code (404)","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_scheduled with the right permission_level with invalid invoice_id is expected to respond with a missing status code (404)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2720,"run_time":0.156113043,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:18:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_scheduled without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2730,"run_time":0.17604019,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:19:1:1:1:1]","description":"creates an audit entry","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_draft with the right permission_level with valid invoice_id allowed transition creates an audit entry","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2746,"run_time":0.359578547,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:19:1:1:2:1]","description":"does not create an audit entry","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_draft with the right permission_level with valid invoice_id prohibited transition does not create an audit entry","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2772,"run_time":0.15266436,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:19:1:2:1]","description":"is expected to respond with a missing status code (404)","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_draft with the right permission_level with invalid invoice_id is expected to respond with a missing status code (404)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2784,"run_time":0.093674234,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:19:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_draft without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2794,"run_time":0.143982574,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:20:1:1:1:1]","description":"creates an audit entry","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_cancelled with the right permission_level with valid invoice_id allowed transition creates an audit entry","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2810,"run_time":0.404817908,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:20:1:1:1:2]","description":"publishes an INVOICE_WRITTEN_OFF event","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_cancelled with the right permission_level with valid invoice_id allowed transition publishes an INVOICE_WRITTEN_OFF event","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2826,"run_time":0.347393709,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:20:1:1:2:1]","description":"does not create an audit entry","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_cancelled with the right permission_level with valid invoice_id prohibited transition does not create an audit entry","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2849,"run_time":0.19013932,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:20:1:2:1]","description":"is expected to respond with a missing status code (404)","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_cancelled with the right permission_level with invalid invoice_id is expected to respond with a missing status code (404)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2861,"run_time":0.104887556,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:20:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_cancelled without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2871,"run_time":0.154820263,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:21:1:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::InvoicesController GET /invoices/:id/email_template without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2894,"run_time":0.164336055,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:21:2:1]","description":"returns the correct invoice data","full_description":"Api::InvoicesController GET /invoices/:id/email_template with the default new invoice email template returns the correct invoice data","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2911,"run_time":0.252030631,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:21:2:2:1]","description":"returns the correct payment_button_preview_url","full_description":"Api::InvoicesController GET /invoices/:id/email_template with the default new invoice email template with the email_payment_button feature enabled returns the correct payment_button_preview_url","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2926,"run_time":0.247390174,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:21:2:3:1]","description":"doesn't return payment_button_preview_url","full_description":"Api::InvoicesController GET /invoices/:id/email_template with the default new invoice email template with the email_payment_button feature disabled doesn't return payment_button_preview_url","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2937,"run_time":0.240232633,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:21:3:1:1]","description":"returns the correct invoice data","full_description":"Api::InvoicesController GET /invoices/:id/email_template with a custom invoice template with the email_payment_button feature disabled returns the correct invoice data","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2964,"run_time":0.208341294,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:21:3:2:1]","description":"returns the correct invoice data","full_description":"Api::InvoicesController GET /invoices/:id/email_template with a custom invoice template with the email_payment_button feature enabled returns the correct invoice data","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2995,"run_time":0.211932009,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:22:1:1:1]","description":"returns the correct details","full_description":"Api::InvoicesController GET /invoices/:id/quick_send_reminder_email_template with the email_payment_button feature disabled quick send reminder exists returns the correct details","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3048,"run_time":0.30621611,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:22:1:2:1]","description":"returns the correct payment_button_preview_url","full_description":"Api::InvoicesController GET /invoices/:id/quick_send_reminder_email_template with the email_payment_button feature disabled with the email_payment_button feature enabled returns the correct payment_button_preview_url","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3068,"run_time":0.24967023,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:22:1:2:2:1]","description":"returns empty template","full_description":"Api::InvoicesController GET /invoices/:id/quick_send_reminder_email_template with the email_payment_button feature disabled with the email_payment_button feature enabled no quick reminder set up returns empty template","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3080,"run_time":0.265646598,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:22:1:3:1]","description":"doesn't return a payment_button_preview_url","full_description":"Api::InvoicesController GET /invoices/:id/quick_send_reminder_email_template with the email_payment_button feature disabled with the email_payment_button feature disabled doesn't return a payment_button_preview_url","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3097,"run_time":0.264582891,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:22:2:1:1]","description":"returns the correct details","full_description":"Api::InvoicesController GET /invoices/:id/quick_send_reminder_email_template with the email_payment_button feature enabled quick send reminder exists returns the correct details","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3140,"run_time":0.436133288,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:23:1:1:1]","description":"responds with an array of invoice_timeline_items","full_description":"Api::InvoicesController GET /invoices/timeline with the right permission_level with 2 paid invoices responds with an array of invoice_timeline_items","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3174,"run_time":1.505070249,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:23:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::InvoicesController GET /invoices/timeline without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3195,"run_time":0.10064584,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:24:1:1]","description":"returns an invoice template without an active contact","full_description":"Api::InvoicesController GET /invoices/new No contacts or invoices on company returns an invoice template without an active contact","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3207,"run_time":0.137854565,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:24:2:1]","description":"returns the latest invoice details for GET /invoices/new","full_description":"Api::InvoicesController GET /invoices/new Invoices exist returns the latest invoice details for GET /invoices/new","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3246,"run_time":0.448902897,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:24:2:2]","description":"returns project and contact details for GET /invoices/new?contact=:id","full_description":"Api::InvoicesController GET /invoices/new Invoices exist returns project and contact details for GET /invoices/new?contact=:id","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3254,"run_time":0.424749439,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:24:2:3]","description":"returns project and contact urls and IDs when GET /invoices/new?project=:id","full_description":"Api::InvoicesController GET /invoices/new Invoices exist returns project and contact urls and IDs when GET /invoices/new?project=:id","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3262,"run_time":0.431151054,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:24:2:4]","description":"returns project and contact details when GET /invoices/new?contact=:id\u0026project=:id","full_description":"Api::InvoicesController GET /invoices/new Invoices exist returns project and contact details when GET /invoices/new?contact=:id\u0026project=:id","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3268,"run_time":0.444019571,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:24:2:5]","description":"returns nested contact when GET /invoices/new?contact=:id\u0026nested_contact=true","full_description":"Api::InvoicesController GET /invoices/new Invoices exist returns nested contact when GET /invoices/new?contact=:id\u0026nested_contact=true","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3274,"run_time":0.431347797,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:24:2:6]","description":"returns nested project when GET /invoices/new?project=:id\u0026nested_project=true","full_description":"Api::InvoicesController GET /invoices/new Invoices exist returns nested project when GET /invoices/new?project=:id\u0026nested_project=true","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3280,"run_time":0.365965717,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:24:2:7]","description":"returns 400 when contact does not exist","full_description":"Api::InvoicesController GET /invoices/new Invoices exist returns 400 when contact does not exist","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3285,"run_time":0.389219757,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:24:2:8]","description":"returns 400 when project does not exist","full_description":"Api::InvoicesController GET /invoices/new Invoices exist returns 400 when project does not exist","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3291,"run_time":0.414080502,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:24:2:9]","description":"returns 400 when project and contact does not exist","full_description":"Api::InvoicesController GET /invoices/new Invoices exist returns 400 when project and contact does not exist","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3297,"run_time":0.464882482,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:24:2:10]","description":"return 400 when invalid combination of project and contact params","full_description":"Api::InvoicesController GET /invoices/new Invoices exist return 400 when invalid combination of project and contact params","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3304,"run_time":0.423685351,"pending_message":null,"screenshot":null},{"id":"./spec/lib/tasks/generated_fixtures_spec.rb[1:1:1]","description":"generates fixtures that match the saved ones","full_description":"rake fixtures generate generates fixtures that match the saved ones","status":"passed","file_path":"./spec/lib/tasks/generated_fixtures_spec.rb","line_number":7,"run_time":5.188577243,"pending_message":null,"screenshot":null},{"id":"./spec/lib/tasks/generated_fixtures_spec.rb[1:2:1]","description":"generates fixtures that match the saved ones","full_description":"rake fixtures generate_accounting_and_sales_tax generates fixtures that match the saved ones","status":"passed","file_path":"./spec/lib/tasks/generated_fixtures_spec.rb","line_number":28,"run_time":47.846636764,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb[1:1:1]","description":"suspends the subscription after grace period has expired","full_description":"CustomerBilling::ExpiredFailedPaymentChecker#suspend_expired_failed_payment_subscriptions suspends the subscription after grace period has expired","status":"passed","file_path":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb","line_number":10,"run_time":0.51558233,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb[1:1:2]","description":"does not suspend the subscription still in grace period","full_description":"CustomerBilling::ExpiredFailedPaymentChecker#suspend_expired_failed_payment_subscriptions does not suspend the subscription still in grace period","status":"passed","file_path":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb","line_number":16,"run_time":0.468551283,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb[1:1:3]","description":"suspends subscriptions that have not authorised payment after 28 days","full_description":"CustomerBilling::ExpiredFailedPaymentChecker#suspend_expired_failed_payment_subscriptions suspends subscriptions that have not authorised payment after 28 days","status":"passed","file_path":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb","line_number":22,"run_time":0.488405661,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb[1:1:4]","description":"does not suspend subscriptions that need to authorise payment within the 28 day period","full_description":"CustomerBilling::ExpiredFailedPaymentChecker#suspend_expired_failed_payment_subscriptions does not suspend subscriptions that need to authorise payment within the 28 day period","status":"passed","file_path":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb","line_number":28,"run_time":0.503755977,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb[1:1:5]","description":"cancels the billing profile","full_description":"CustomerBilling::ExpiredFailedPaymentChecker#suspend_expired_failed_payment_subscriptions cancels the billing profile","status":"passed","file_path":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb","line_number":34,"run_time":0.490354803,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb[1:1:6:1]","description":"suspends the addons","full_description":"CustomerBilling::ExpiredFailedPaymentChecker#suspend_expired_failed_payment_subscriptions with enabled addons suspends the addons","status":"passed","file_path":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb","line_number":43,"run_time":0.606176072,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb[1:1:7:1]","description":"successfully suspends remaining subscriptions","full_description":"CustomerBilling::ExpiredFailedPaymentChecker#suspend_expired_failed_payment_subscriptions when suspending a subscription raises an error successfully suspends remaining subscriptions","status":"passed","file_path":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb","line_number":64,"run_time":0.791536469,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb[1:1:7:2]","description":"reports the error","full_description":"CustomerBilling::ExpiredFailedPaymentChecker#suspend_expired_failed_payment_subscriptions when suspending a subscription raises an error reports the error","status":"passed","file_path":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb","line_number":69,"run_time":0.733852653,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb[1:2:1:1:1:1]","description":"does not suspend addons","full_description":"CustomerBilling::ExpiredFailedPaymentChecker#suspend_expired_failed_payment_addons for direct subscribers behaves like suspends add-ons after 7 days of failed payments within the addon grace period does not suspend addons","status":"passed","file_path":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb","line_number":91,"run_time":0.138559734,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb[1:2:1:1:1:2]","description":"does not reset `num_failed_payments`","full_description":"CustomerBilling::ExpiredFailedPaymentChecker#suspend_expired_failed_payment_addons for direct subscribers behaves like suspends add-ons after 7 days of failed payments within the addon grace period does not reset `num_failed_payments`","status":"passed","file_path":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb","line_number":97,"run_time":0.122419993,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb[1:2:1:1:2:1]","description":"suspends addons","full_description":"CustomerBilling::ExpiredFailedPaymentChecker#suspend_expired_failed_payment_addons for direct subscribers behaves like suspends add-ons after 7 days of failed payments when the grace period has expired suspends addons","status":"passed","file_path":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb","line_number":115,"run_time":0.135293039,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb[1:2:1:1:2:2]","description":"does not suspend cancelled addons","full_description":"CustomerBilling::ExpiredFailedPaymentChecker#suspend_expired_failed_payment_addons for direct subscribers behaves like suspends add-ons after 7 days of failed payments when the grace period has expired does not suspend cancelled addons","status":"passed","file_path":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb","line_number":121,"run_time":0.120159031,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb[1:2:1:1:2:3]","description":"resets `num_failed_payments`","full_description":"CustomerBilling::ExpiredFailedPaymentChecker#suspend_expired_failed_payment_addons for direct subscribers behaves like suspends add-ons after 7 days of failed payments when the grace period has expired resets `num_failed_payments`","status":"passed","file_path":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb","line_number":128,"run_time":0.132767768,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb[1:2:1:2:1]","description":"does not suspend addons","full_description":"CustomerBilling::ExpiredFailedPaymentChecker#suspend_expired_failed_payment_addons for direct subscribers at the end of their subscription grace period does not suspend addons","status":"passed","file_path":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb","line_number":152,"run_time":0.130531636,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb[1:2:2:1:1:1]","description":"does not suspend addons","full_description":"CustomerBilling::ExpiredFailedPaymentChecker#suspend_expired_failed_payment_addons for rbsg companies behaves like suspends add-ons after 7 days of failed payments within the addon grace period does not suspend addons","status":"passed","file_path":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb","line_number":91,"run_time":0.1466509,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb[1:2:2:1:1:2]","description":"does not reset `num_failed_payments`","full_description":"CustomerBilling::ExpiredFailedPaymentChecker#suspend_expired_failed_payment_addons for rbsg companies behaves like suspends add-ons after 7 days of failed payments within the addon grace period does not reset `num_failed_payments`","status":"passed","file_path":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb","line_number":97,"run_time":0.136357941,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb[1:2:2:1:2:1]","description":"suspends addons","full_description":"CustomerBilling::ExpiredFailedPaymentChecker#suspend_expired_failed_payment_addons for rbsg companies behaves like suspends add-ons after 7 days of failed payments when the grace period has expired suspends addons","status":"passed","file_path":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb","line_number":115,"run_time":0.144381368,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb[1:2:2:1:2:2]","description":"does not suspend cancelled addons","full_description":"CustomerBilling::ExpiredFailedPaymentChecker#suspend_expired_failed_payment_addons for rbsg companies behaves like suspends add-ons after 7 days of failed payments when the grace period has expired does not suspend cancelled addons","status":"passed","file_path":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb","line_number":121,"run_time":0.139469768,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb[1:2:2:1:2:3]","description":"resets `num_failed_payments`","full_description":"CustomerBilling::ExpiredFailedPaymentChecker#suspend_expired_failed_payment_addons for rbsg companies behaves like suspends add-ons after 7 days of failed payments when the grace period has expired resets `num_failed_payments`","status":"passed","file_path":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb","line_number":128,"run_time":0.135602759,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb[1:2:3:1:1:1]","description":"does not suspend addons","full_description":"CustomerBilling::ExpiredFailedPaymentChecker#suspend_expired_failed_payment_addons for bcsg companies behaves like suspends add-ons after 7 days of failed payments within the addon grace period does not suspend addons","status":"passed","file_path":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb","line_number":91,"run_time":0.117826128,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb[1:2:3:1:1:2]","description":"does not reset `num_failed_payments`","full_description":"CustomerBilling::ExpiredFailedPaymentChecker#suspend_expired_failed_payment_addons for bcsg companies behaves like suspends add-ons after 7 days of failed payments within the addon grace period does not reset `num_failed_payments`","status":"passed","file_path":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb","line_number":97,"run_time":0.142038474,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb[1:2:3:1:2:1]","description":"suspends addons","full_description":"CustomerBilling::ExpiredFailedPaymentChecker#suspend_expired_failed_payment_addons for bcsg companies behaves like suspends add-ons after 7 days of failed payments when the grace period has expired suspends addons","status":"passed","file_path":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb","line_number":115,"run_time":0.14002471,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb[1:2:3:1:2:2]","description":"does not suspend cancelled addons","full_description":"CustomerBilling::ExpiredFailedPaymentChecker#suspend_expired_failed_payment_addons for bcsg companies behaves like suspends add-ons after 7 days of failed payments when the grace period has expired does not suspend cancelled addons","status":"passed","file_path":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb","line_number":121,"run_time":0.181572404,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb[1:2:3:1:2:3]","description":"resets `num_failed_payments`","full_description":"CustomerBilling::ExpiredFailedPaymentChecker#suspend_expired_failed_payment_addons for bcsg companies behaves like suspends add-ons after 7 days of failed payments when the grace period has expired resets `num_failed_payments`","status":"passed","file_path":"./spec/models/customer_billing/expired_failed_payment_checker_spec.rb","line_number":128,"run_time":0.143097903,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/bill_check_spec.rb[1:2]","description":"checks the bills sales tax effects ledgers generated from multi-category bills","full_description":"SalesTaxEffects::BillCheck checks the bills sales tax effects ledgers generated from multi-category bills","status":"passed","file_path":"./spec/models/health_robinson/check/sales_tax_effects/bill_check_spec.rb","line_number":22,"run_time":0.239374483,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/bill_check_spec.rb[1:1:1:1:1]","description":"doesn't report any failure","full_description":"SalesTaxEffects::BillCheck behaves like a sales tax effects check when sales tax effects are correct behaves like no check errors doesn't report any failure","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":2,"run_time":0.243267059,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/bill_check_spec.rb[1:1:2:1]","description":"is expected to have a failure on #\u003cBill id: 11, contact_id: 1051239629, reference: \"REF001\", dated_on: \"2022-12-23\", due_date: \"2023-0...erty_id: nil, bill_items_count: 3, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","full_description":"SalesTaxEffects::BillCheck behaves like a sales tax effects check when there are unexpected sales tax effects is expected to have a failure on #\u003cBill id: 11, contact_id: 1051239629, reference: \"REF001\", dated_on: \"2022-12-23\", due_date: \"2023-0...erty_id: nil, bill_items_count: 3, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":222,"run_time":0.195879018,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/bill_check_spec.rb[1:1:2:2]","description":"is expected to have a failure like /sales tax effects are incorrect/","full_description":"SalesTaxEffects::BillCheck behaves like a sales tax effects check when there are unexpected sales tax effects is expected to have a failure like /sales tax effects are incorrect/","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":223,"run_time":0.260981117,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/bill_check_spec.rb[1:1:3:1:1]","description":"doesn't report any failure","full_description":"SalesTaxEffects::BillCheck behaves like a sales tax effects check when the additional_description of an effect has changed behaves like no check errors doesn't report any failure","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":2,"run_time":0.270086453,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/bill_check_spec.rb[1:1:4:1:1]","description":"doesn't report any failure","full_description":"SalesTaxEffects::BillCheck behaves like a sales tax effects check when the description of an effect has changed behaves like no check errors doesn't report any failure","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":2,"run_time":0.251001337,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/bill_check_spec.rb[1:1:5:1:1]","description":"doesn't report any failure","full_description":"SalesTaxEffects::BillCheck behaves like a sales tax effects check when the effects are different but have the same tax affect behaves like no check errors doesn't report any failure","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":2,"run_time":0.260541617,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/bill_check_spec.rb[1:1:6:1:1]","description":"doesn't report any failure","full_description":"SalesTaxEffects::BillCheck behaves like a sales tax effects check when there are extra effects that sum to nothing behaves like no check errors doesn't report any failure","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":2,"run_time":0.26876576,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/bill_check_spec.rb[1:1:7:1]","description":"is expected to have a failure on #\u003cBill id: 17, contact_id: 1051239635, reference: \"REF001\", dated_on: \"2022-12-23\", due_date: \"2023-0...erty_id: nil, bill_items_count: 3, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","full_description":"SalesTaxEffects::BillCheck behaves like a sales tax effects check when the effects have the same tax values but different capital_asset_ids is expected to have a failure on #\u003cBill id: 17, contact_id: 1051239635, reference: \"REF001\", dated_on: \"2022-12-23\", due_date: \"2023-0...erty_id: nil, bill_items_count: 3, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":286,"run_time":0.382435488,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/bill_check_spec.rb[1:1:7:2]","description":"is expected to have a failure like /sales tax effects are incorrect/","full_description":"SalesTaxEffects::BillCheck behaves like a sales tax effects check when the effects have the same tax values but different capital_asset_ids is expected to have a failure like /sales tax effects are incorrect/","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":287,"run_time":0.438354057,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/bill_check_spec.rb[1:1:8:1]","description":"is expected to have a failure on #\u003cBill id: 19, contact_id: 1051239637, reference: \"REF001\", dated_on: \"2022-12-23\", due_date: \"2023-0...erty_id: nil, bill_items_count: 3, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","full_description":"SalesTaxEffects::BillCheck behaves like a sales tax effects check when the bill_item_id column is incorrect is expected to have a failure on #\u003cBill id: 19, contact_id: 1051239637, reference: \"REF001\", dated_on: \"2022-12-23\", due_date: \"2023-0...erty_id: nil, bill_items_count: 3, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":301,"run_time":0.358375912,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/bill_check_spec.rb[1:1:8:2]","description":"is expected to have sales_tax_effects failures","full_description":"SalesTaxEffects::BillCheck behaves like a sales tax effects check when the bill_item_id column is incorrect is expected to have sales_tax_effects failures","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":302,"run_time":0.503651351,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/bill_check_spec.rb[1:3:1]","description":"checks the bills sales tax effects ledgers generated from multi-category bills","full_description":"SalesTaxEffects::BillCheck a bill with mixed capital asset IDs on sales tax effects checks the bills sales tax effects ledgers generated from multi-category bills","status":"passed","file_path":"./spec/models/health_robinson/check/sales_tax_effects/bill_check_spec.rb","line_number":41,"run_time":0.382481709,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/bill_check_spec.rb[1:4:1:1]","description":"is expected to have to sales_tax_effects bill_item_id presence failures","full_description":"SalesTaxEffects::BillCheck a paid bill on a cash-basis company when the bill_item_id column is nil is expected to have to sales_tax_effects bill_item_id presence failures","status":"passed","file_path":"./spec/models/health_robinson/check/sales_tax_effects/bill_check_spec.rb","line_number":71,"run_time":0.623959968,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/bill_check_spec.rb[1:4:2:1]","description":"is expected not to have to sales_tax_effects bill_item_id presence failures","full_description":"SalesTaxEffects::BillCheck a paid bill on a cash-basis company when the bill_item_id column is present is expected not to have to sales_tax_effects bill_item_id presence failures","status":"passed","file_path":"./spec/models/health_robinson/check/sales_tax_effects/bill_check_spec.rb","line_number":85,"run_time":0.657616055,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/payroll.feature[1:1:1]","description":"Given the current date is 2017-01-01 -\u003e And a UK Limited Company which was started on 2016-01-01 -\u003e And its first accounting year ends on 2016-12-31 -\u003e And it has a contact in United Kingdom named Winston Churchill set to always charge VAT -\u003e And the company has CIS categories -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Alternate Arrangements payroll profile with Tax Code 1100L -\u003e And they are paid £2000 monthly -\u003e Given a sent invoice to Winston Churchill dated on 2016-04-10 -\u003e And the CIS deduction rate on the invoice is set at 20% -\u003e And a CIS line item is added for £1000 with 0% VAT -\u003e When adding a payment in 750-1 for £800 dated 2016-04-10 to the invoice -\u003e And it should be valid -\u003e And for month 1 a zero payslip was submitted -\u003e And running payroll for month 2 -\u003e Then the payroll period should have ledger entries -\u003e And the \"CIS Deductions\" account should be empty -\u003e And the \"PAYE/NI\" account should be £175.07 in credit","full_description":"Payroll Ledger Builder CIS (Subcontractors) Running payroll in month 2 when deductions carried forward from previous month Given the current date is 2017-01-01 -\u003e And a UK Limited Company which was started on 2016-01-01 -\u003e And its first accounting year ends on 2016-12-31 -\u003e And it has a contact in United Kingdom named Winston Churchill set to always charge VAT -\u003e And the company has CIS categories -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Alternate Arrangements payroll profile with Tax Code 1100L -\u003e And they are paid £2000 monthly -\u003e Given a sent invoice to Winston Churchill dated on 2016-04-10 -\u003e And the CIS deduction rate on the invoice is set at 20% -\u003e And a CIS line item is added for £1000 with 0% VAT -\u003e When adding a payment in 750-1 for £800 dated 2016-04-10 to the invoice -\u003e And it should be valid -\u003e And for month 1 a zero payslip was submitted -\u003e And running payroll for month 2 -\u003e Then the payroll period should have ledger entries -\u003e And the \"CIS Deductions\" account should be empty -\u003e And the \"PAYE/NI\" account should be £175.07 in credit","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/payroll.feature","line_number":13,"run_time":1.421143911,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/payroll.feature[1:2:1]","description":"Given the current date is 2017-01-01 -\u003e And a UK Limited Company which was started on 2016-01-01 -\u003e And its first accounting year ends on 2016-12-31 -\u003e And it has a contact in United Kingdom named Winston Churchill set to always charge VAT -\u003e And the company has CIS categories -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Alternate Arrangements payroll profile with Tax Code 1100L -\u003e And they are paid £2000 monthly -\u003e Given month 1 payroll has been marked as filed -\u003e And the following journals were entered dated 2016-04-10 -\u003e When running payroll for month 2 -\u003e Then the payroll period should have ledger entries -\u003e And the \"CIS Deductions\" account should be empty -\u003e And the \"PAYE/NI\" account should be £517.14 in credit","full_description":"Payroll Ledger Builder CIS (Subcontractors) Running payroll in month 2 after some backdated journals Given the current date is 2017-01-01 -\u003e And a UK Limited Company which was started on 2016-01-01 -\u003e And its first accounting year ends on 2016-12-31 -\u003e And it has a contact in United Kingdom named Winston Churchill set to always charge VAT -\u003e And the company has CIS categories -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Alternate Arrangements payroll profile with Tax Code 1100L -\u003e And they are paid £2000 monthly -\u003e Given month 1 payroll has been marked as filed -\u003e And the following journals were entered dated 2016-04-10 -\u003e When running payroll for month 2 -\u003e Then the payroll period should have ledger entries -\u003e And the \"CIS Deductions\" account should be empty -\u003e And the \"PAYE/NI\" account should be £517.14 in credit","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/payroll.feature","line_number":28,"run_time":0.704468278,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/payroll.feature[1:3:1]","description":"Given the current date is 2017-01-01 -\u003e And a UK Limited Company which was started on 2016-01-01 -\u003e And its first accounting year ends on 2016-12-31 -\u003e And it has a contact in United Kingdom named Winston Churchill set to always charge VAT -\u003e And the company has CIS categories -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Alternate Arrangements payroll profile with Tax Code 1100L -\u003e And they are paid £2000 monthly -\u003e Given month 1 payroll has been marked as filed -\u003e And they enable the Employment Allowance setting -\u003e And a sent invoice to Winston Churchill dated on 2016-04-10 -\u003e And the CIS deduction rate on the invoice is set at 20% -\u003e And a CIS line item is added for £1000 with 0% VAT -\u003e When adding a payment in 750-1 for £800 dated 2016-05-10 to the invoice -\u003e And it should be valid -\u003e And month 2 payroll is prepared -\u003e And they edit the payslip with the following values -\u003e Then the payroll period should have ledger entries -\u003e And the \"CIS Deductions\" account should be £7.64 in debit -\u003e And the \"PAYE/NI\" account should be empty","full_description":"Payroll Ledger Builder CIS (Subcontractors) Running payroll in month 2 after a refund is calculated Given the current date is 2017-01-01 -\u003e And a UK Limited Company which was started on 2016-01-01 -\u003e And its first accounting year ends on 2016-12-31 -\u003e And it has a contact in United Kingdom named Winston Churchill set to always charge VAT -\u003e And the company has CIS categories -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Alternate Arrangements payroll profile with Tax Code 1100L -\u003e And they are paid £2000 monthly -\u003e Given month 1 payroll has been marked as filed -\u003e And they enable the Employment Allowance setting -\u003e And a sent invoice to Winston Churchill dated on 2016-04-10 -\u003e And the CIS deduction rate on the invoice is set at 20% -\u003e And a CIS line item is added for £1000 with 0% VAT -\u003e When adding a payment in 750-1 for £800 dated 2016-05-10 to the invoice -\u003e And it should be valid -\u003e And month 2 payroll is prepared -\u003e And they edit the payslip with the following values -\u003e Then the payroll period should have ledger entries -\u003e And the \"CIS Deductions\" account should be £7.64 in debit -\u003e And the \"PAYE/NI\" account should be empty","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/payroll.feature","line_number":42,"run_time":1.32273422,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/payroll.feature[1:4:1]","description":"Given the current date is 2017-01-01 -\u003e And a UK Limited Company which was started on 2016-01-01 -\u003e And its first accounting year ends on 2016-12-31 -\u003e And it has a contact in United Kingdom named Winston Churchill set to always charge VAT -\u003e And the company has CIS categories -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Alternate Arrangements payroll profile with Tax Code 1100L -\u003e And they are paid £2000 monthly -\u003e Given month 1 payroll has been marked as filed -\u003e And a PAYE NI bank payment dated on 2016-05-01 for £558.47 -\u003e And a sent invoice to Winston Churchill dated on 2016-04-10 -\u003e And the CIS deduction rate on the invoice is set at 20% -\u003e And a CIS line item is added for £3000 with 0% VAT -\u003e When adding a payment in 750-1 for £2400 dated 2016-05-10 to the invoice -\u003e And it should be valid -\u003e When month 2 payroll is prepared -\u003e Then the payroll period should have ledger entries -\u003e And the \"CIS Deductions\" account should be £41.33 in debit -\u003e And the \"PAYE/NI\" account should be empty","full_description":"Payroll Ledger Builder CIS (Subcontractors) Running payroll in month 2 after a payment has been made to HMRC Given the current date is 2017-01-01 -\u003e And a UK Limited Company which was started on 2016-01-01 -\u003e And its first accounting year ends on 2016-12-31 -\u003e And it has a contact in United Kingdom named Winston Churchill set to always charge VAT -\u003e And the company has CIS categories -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Alternate Arrangements payroll profile with Tax Code 1100L -\u003e And they are paid £2000 monthly -\u003e Given month 1 payroll has been marked as filed -\u003e And a PAYE NI bank payment dated on 2016-05-01 for £558.47 -\u003e And a sent invoice to Winston Churchill dated on 2016-04-10 -\u003e And the CIS deduction rate on the invoice is set at 20% -\u003e And a CIS line item is added for £3000 with 0% VAT -\u003e When adding a payment in 750-1 for £2400 dated 2016-05-10 to the invoice -\u003e And it should be valid -\u003e When month 2 payroll is prepared -\u003e Then the payroll period should have ledger entries -\u003e And the \"CIS Deductions\" account should be £41.33 in debit -\u003e And the \"PAYE/NI\" account should be empty","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/payroll.feature","line_number":63,"run_time":1.271960077,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/payroll.feature[1:5:1]","description":"Given the current date is 2017-01-01 -\u003e And a UK Limited Company which was started on 2016-01-01 -\u003e And its first accounting year ends on 2016-12-31 -\u003e And it has a contact in United Kingdom named Winston Churchill set to always charge VAT -\u003e And the company has CIS categories -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Alternate Arrangements payroll profile with Tax Code 1100L -\u003e And they are paid £2000 monthly -\u003e Given month 1 payroll has been marked as filed -\u003e And the employee is marked as leaving employment on 2016-05-25 -\u003e And a sent invoice to Winston Churchill dated on 2016-04-10 -\u003e And the CIS deduction rate on the invoice is set at 20% -\u003e And a CIS line item is added for £2500 with 0% VAT -\u003e When adding a payment in 750-1 for £2000 dated 2016-04-10 to the invoice -\u003e And it should be valid -\u003e When running payroll for month 2 -\u003e Then the payroll period should have ledger entries -\u003e And the \"CIS Deductions\" account should be £67 in debit -\u003e And the \"PAYE/NI\" account should be empty","full_description":"Payroll Ledger Builder CIS (Subcontractors) Running payroll in month 2 after an employee is marked as a leaver Given the current date is 2017-01-01 -\u003e And a UK Limited Company which was started on 2016-01-01 -\u003e And its first accounting year ends on 2016-12-31 -\u003e And it has a contact in United Kingdom named Winston Churchill set to always charge VAT -\u003e And the company has CIS categories -\u003e And they are running payroll in the 2017 tax year on the 25th of each month -\u003e Given a Alternate Arrangements payroll profile with Tax Code 1100L -\u003e And they are paid £2000 monthly -\u003e Given month 1 payroll has been marked as filed -\u003e And the employee is marked as leaving employment on 2016-05-25 -\u003e And a sent invoice to Winston Churchill dated on 2016-04-10 -\u003e And the CIS deduction rate on the invoice is set at 20% -\u003e And a CIS line item is added for £2500 with 0% VAT -\u003e When adding a payment in 750-1 for £2000 dated 2016-04-10 to the invoice -\u003e And it should be valid -\u003e When running payroll for month 2 -\u003e Then the payroll period should have ledger entries -\u003e And the \"CIS Deductions\" account should be £67 in debit -\u003e And the \"PAYE/NI\" account should be empty","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/payroll.feature","line_number":79,"run_time":1.167602457,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/insurance_records_checker_spec.rb[1:1:1]","description":"defers to an instance of the class","full_description":"InsuranceRecordsChecker.has_evidence_of_insurance? defers to an instance of the class","status":"passed","file_path":"./spec/freeagent/insurance_records_checker_spec.rb","line_number":16,"run_time":0.106404468,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/insurance_records_checker_spec.rb[1:2:1:1:1]","description":"is expected to equal false","full_description":"InsuranceRecordsChecker#has_evidence_of_insurance? for bank transactions when the company has no insurance-related transactions is expected to equal false","status":"passed","file_path":"./spec/freeagent/insurance_records_checker_spec.rb","line_number":44,"run_time":0.192004389,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/insurance_records_checker_spec.rb[1:2:1:2:1]","description":"is expected to equal false","full_description":"InsuranceRecordsChecker#has_evidence_of_insurance? for bank transactions when the company has old insurance-related transactions is expected to equal false","status":"passed","file_path":"./spec/freeagent/insurance_records_checker_spec.rb","line_number":58,"run_time":0.218311598,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/insurance_records_checker_spec.rb[1:2:1:3:1]","description":"is expected to equal true","full_description":"InsuranceRecordsChecker#has_evidence_of_insurance? for bank transactions when the company has recent insurance-related transactions is expected to equal true","status":"passed","file_path":"./spec/freeagent/insurance_records_checker_spec.rb","line_number":72,"run_time":0.262191584,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/insurance_records_checker_spec.rb[1:2:1:4:1]","description":"is expected to equal true","full_description":"InsuranceRecordsChecker#has_evidence_of_insurance? for bank transactions when the company has a recent transaction described as an insurance is expected to equal true","status":"passed","file_path":"./spec/freeagent/insurance_records_checker_spec.rb","line_number":87,"run_time":0.212842169,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/insurance_records_checker_spec.rb[1:2:1:5:1]","description":"is expected to equal false","full_description":"InsuranceRecordsChecker#has_evidence_of_insurance? for bank transactions when the company has an old transaction described as an insurance is expected to equal false","status":"passed","file_path":"./spec/freeagent/insurance_records_checker_spec.rb","line_number":102,"run_time":0.217208743,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/insurance_records_checker_spec.rb[1:2:1:6:1]","description":"is expected to equal false","full_description":"InsuranceRecordsChecker#has_evidence_of_insurance? for bank transactions for a company with no insurance account is expected to equal false","status":"passed","file_path":"./spec/freeagent/insurance_records_checker_spec.rb","line_number":110,"run_time":0.129057691,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/insurance_records_checker_spec.rb[1:2:1:6:2:1]","description":"is expected to equal true","full_description":"InsuranceRecordsChecker#has_evidence_of_insurance? for bank transactions for a company with no insurance account when the company still has a recent transaction elsewhere, described as insurance is expected to equal true","status":"passed","file_path":"./spec/freeagent/insurance_records_checker_spec.rb","line_number":124,"run_time":0.22255188,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/insurance_records_checker_spec.rb[1:2:2:1:1]","description":"is expected to equal false","full_description":"InsuranceRecordsChecker#has_evidence_of_insurance? for expenses when the company has no insurance-related expenses is expected to equal false","status":"passed","file_path":"./spec/freeagent/insurance_records_checker_spec.rb","line_number":142,"run_time":0.15731986,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/insurance_records_checker_spec.rb[1:2:2:2:1]","description":"is expected to equal false","full_description":"InsuranceRecordsChecker#has_evidence_of_insurance? for expenses when the company has old insurance-related expenses is expected to equal false","status":"passed","file_path":"./spec/freeagent/insurance_records_checker_spec.rb","line_number":156,"run_time":0.166832707,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/insurance_records_checker_spec.rb[1:2:2:3:1]","description":"is expected to equal true","full_description":"InsuranceRecordsChecker#has_evidence_of_insurance? for expenses when the company has recent insurance-related expenses is expected to equal true","status":"passed","file_path":"./spec/freeagent/insurance_records_checker_spec.rb","line_number":171,"run_time":0.192613131,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/insurance_records_checker_spec.rb[1:2:2:4:1]","description":"is expected to equal true","full_description":"InsuranceRecordsChecker#has_evidence_of_insurance? for expenses when the company has a recent expense described as an insurance is expected to equal true","status":"passed","file_path":"./spec/freeagent/insurance_records_checker_spec.rb","line_number":187,"run_time":0.202819674,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/insurance_records_checker_spec.rb[1:2:2:5:1]","description":"is expected to equal false","full_description":"InsuranceRecordsChecker#has_evidence_of_insurance? for expenses when the company has an old expense described as an insurance is expected to equal false","status":"passed","file_path":"./spec/freeagent/insurance_records_checker_spec.rb","line_number":203,"run_time":0.207650109,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/insurance_records_checker_spec.rb[1:2:3:1:1]","description":"is expected to equal false","full_description":"InsuranceRecordsChecker#has_evidence_of_insurance? for bill items when the company has no insurance-related bill items is expected to equal false","status":"passed","file_path":"./spec/freeagent/insurance_records_checker_spec.rb","line_number":222,"run_time":0.365112649,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/insurance_records_checker_spec.rb[1:2:3:2:1]","description":"is expected to equal false","full_description":"InsuranceRecordsChecker#has_evidence_of_insurance? for bill items when the company has old insurance-related bill items is expected to equal false","status":"passed","file_path":"./spec/freeagent/insurance_records_checker_spec.rb","line_number":239,"run_time":0.375095797,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/insurance_records_checker_spec.rb[1:2:3:3:1]","description":"is expected to equal true","full_description":"InsuranceRecordsChecker#has_evidence_of_insurance? for bill items when the company has recent insurance-related bill items is expected to equal true","status":"passed","file_path":"./spec/freeagent/insurance_records_checker_spec.rb","line_number":256,"run_time":0.372082298,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/insurance_records_checker_spec.rb[1:2:4:1]","description":"is expected to equal true","full_description":"InsuranceRecordsChecker#has_evidence_of_insurance? when the company has no insurance-related transactions but some expenses is expected to equal true","status":"passed","file_path":"./spec/freeagent/insurance_records_checker_spec.rb","line_number":280,"run_time":0.245028369,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/insurance_records_checker_spec.rb[1:2:5:1]","description":"is expected to equal true","full_description":"InsuranceRecordsChecker#has_evidence_of_insurance? when the company has no insurance-related expenses but some transactions is expected to equal true","status":"passed","file_path":"./spec/freeagent/insurance_records_checker_spec.rb","line_number":303,"run_time":0.25358836,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/insurance_records_checker_spec.rb[1:2:6:1]","description":"is expected to equal true","full_description":"InsuranceRecordsChecker#has_evidence_of_insurance? when a company has both insurance-related expenses and transactions is expected to equal true","status":"passed","file_path":"./spec/freeagent/insurance_records_checker_spec.rb","line_number":326,"run_time":0.24679756,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/insurance_records_checker_spec.rb[1:2:7:1]","description":"is expected to equal false","full_description":"InsuranceRecordsChecker#has_evidence_of_insurance? when a company has no insurance-related expenses and transactions is expected to equal false","status":"passed","file_path":"./spec/freeagent/insurance_records_checker_spec.rb","line_number":349,"run_time":0.260308272,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/insurance_records_checker_spec.rb[1:2:8:1]","description":"is expected to equal true","full_description":"InsuranceRecordsChecker#has_evidence_of_insurance? when the company has insurance-related bill items is expected to equal true","status":"passed","file_path":"./spec/freeagent/insurance_records_checker_spec.rb","line_number":366,"run_time":0.363760216,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/insurance_records_checker_spec.rb[1:2:9:1]","description":"is expected to equal true","full_description":"InsuranceRecordsChecker#has_evidence_of_insurance? when a sole trader has some insurance-related records is expected to equal true","status":"passed","file_path":"./spec/freeagent/insurance_records_checker_spec.rb","line_number":391,"run_time":0.238312032,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/insurance_records_checker_spec.rb[1:2:10:1]","description":"is expected to equal true","full_description":"InsuranceRecordsChecker#has_evidence_of_insurance? when a partnership has some insurance-related records is expected to equal true","status":"passed","file_path":"./spec/freeagent/insurance_records_checker_spec.rb","line_number":416,"run_time":0.864687453,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/insurance_records_checker_spec.rb[1:3:1]","description":"is expected to eq #\u003cUkLimitedCompany id: 895397944, name: \"FreeAgent Central\"\u003e","full_description":"InsuranceRecordsChecker#company is expected to eq #\u003cUkLimitedCompany id: 895397944, name: \"FreeAgent Central\"\u003e","status":"passed","file_path":"./spec/freeagent/insurance_records_checker_spec.rb","line_number":423,"run_time":0.244625512,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/insurance_records_checker_spec.rb[1:4:1]","description":"is expected to eq 2019-03-30 00:00:00.091570019 +0000","full_description":"InsuranceRecordsChecker#dated_since is expected to eq 2019-03-30 00:00:00.091570019 +0000","status":"passed","file_path":"./spec/freeagent/insurance_records_checker_spec.rb","line_number":429,"run_time":0.0997722,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/insurance_records_checker_spec.rb[1:5:1:1]","description":"is expected to all be a kind of GeneralLedger::Account(id: integer, company_id: integer, general_ledger_chart_of_account...e, updated_at: datetime, general_ledger_sub_account_code_id: integer, destroying_chartable: boolean)","full_description":"InsuranceRecordsChecker#insurance_accounts for a UK Limited company is expected to all be a kind of GeneralLedger::Account(id: integer, company_id: integer, general_ledger_chart_of_account...e, updated_at: datetime, general_ledger_sub_account_code_id: integer, destroying_chartable: boolean)","status":"passed","file_path":"./spec/freeagent/insurance_records_checker_spec.rb","line_number":436,"run_time":0.114221982,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/insurance_records_checker_spec.rb[1:5:2:1]","description":"is expected to all be a kind of GeneralLedger::Account(id: integer, company_id: integer, general_ledger_chart_of_account...e, updated_at: datetime, general_ledger_sub_account_code_id: integer, destroying_chartable: boolean)","full_description":"InsuranceRecordsChecker#insurance_accounts for a Sole Trader company is expected to all be a kind of GeneralLedger::Account(id: integer, company_id: integer, general_ledger_chart_of_account...e, updated_at: datetime, general_ledger_sub_account_code_id: integer, destroying_chartable: boolean)","status":"passed","file_path":"./spec/freeagent/insurance_records_checker_spec.rb","line_number":442,"run_time":0.108294072,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/insurance_records_checker_spec.rb[1:5:3:1]","description":"is expected to all be a kind of GeneralLedger::Account(id: integer, company_id: integer, general_ledger_chart_of_account...e, updated_at: datetime, general_ledger_sub_account_code_id: integer, destroying_chartable: boolean)","full_description":"InsuranceRecordsChecker#insurance_accounts for a Universal company is expected to all be a kind of GeneralLedger::Account(id: integer, company_id: integer, general_ledger_chart_of_account...e, updated_at: datetime, general_ledger_sub_account_code_id: integer, destroying_chartable: boolean)","status":"passed","file_path":"./spec/freeagent/insurance_records_checker_spec.rb","line_number":448,"run_time":0.134167904,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/insurance_records_checker_spec.rb[1:5:4:1]","description":"is expected to all be a kind of GeneralLedger::Account(id: integer, company_id: integer, general_ledger_chart_of_account...e, updated_at: datetime, general_ledger_sub_account_code_id: integer, destroying_chartable: boolean)","full_description":"InsuranceRecordsChecker#insurance_accounts for a US company is expected to all be a kind of GeneralLedger::Account(id: integer, company_id: integer, general_ledger_chart_of_account...e, updated_at: datetime, general_ledger_sub_account_code_id: integer, destroying_chartable: boolean)","status":"passed","file_path":"./spec/freeagent/insurance_records_checker_spec.rb","line_number":454,"run_time":0.184650201,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/insurance_records_checker_spec.rb[1:5:5:1]","description":"is expected to all be a kind of GeneralLedger::Account(id: integer, company_id: integer, general_ledger_chart_of_account...e, updated_at: datetime, general_ledger_sub_account_code_id: integer, destroying_chartable: boolean)","full_description":"InsuranceRecordsChecker#insurance_accounts for a Partnership company is expected to all be a kind of GeneralLedger::Account(id: integer, company_id: integer, general_ledger_chart_of_account...e, updated_at: datetime, general_ledger_sub_account_code_id: integer, destroying_chartable: boolean)","status":"passed","file_path":"./spec/freeagent/insurance_records_checker_spec.rb","line_number":460,"run_time":0.110702927,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/insurance_records_checker_spec.rb[1:5:6:1]","description":"is expected to be empty","full_description":"InsuranceRecordsChecker#insurance_accounts for an invalid company is expected to be empty","status":"passed","file_path":"./spec/freeagent/insurance_records_checker_spec.rb","line_number":466,"run_time":0.117381369,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/coronavirus_support_schemes_spec.rb[1:1:1]","description":"returns the correct value","full_description":"Accounting::CorporationTax::Computations::CoronavirusSupportSchemes#cjrs_and_jss_received returns the correct value","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/coronavirus_support_schemes_spec.rb","line_number":15,"run_time":0.403872491,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/coronavirus_support_schemes_spec.rb[1:2:1]","description":"returns the correct value","full_description":"Accounting::CorporationTax::Computations::CoronavirusSupportSchemes#cjrs_and_jss_entitlement returns the correct value","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/coronavirus_support_schemes_spec.rb","line_number":21,"run_time":0.504109586,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/coronavirus_support_schemes_spec.rb[1:3:1]","description":"returns the correct value","full_description":"Accounting::CorporationTax::Computations::CoronavirusSupportSchemes#cjrs_and_jss_overpayment returns the correct value","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/coronavirus_support_schemes_spec.rb","line_number":27,"run_time":0.482998905,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/coronavirus_support_schemes_spec.rb[1:4:1]","description":"returns the correct value","full_description":"Accounting::CorporationTax::Computations::CoronavirusSupportSchemes#jrb_and_eotho_overpayment returns the correct value","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/coronavirus_support_schemes_spec.rb","line_number":33,"run_time":0.520417921,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/coronavirus_support_schemes_spec.rb[1:5:1]","description":"returns the correct value","full_description":"Accounting::CorporationTax::Computations::CoronavirusSupportSchemes#eotho_reimbursed_discounts returns the correct value","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/coronavirus_support_schemes_spec.rb","line_number":39,"run_time":0.42455681,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/coronavirus_support_schemes_spec.rb[1:6:1]","description":"returns the correct value","full_description":"Accounting::CorporationTax::Computations::CoronavirusSupportSchemes#coronavirus_support_schemes_overpayment_now_due returns the correct value","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/coronavirus_support_schemes_spec.rb","line_number":45,"run_time":0.428036345,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/inline_form/foreign_currency_value_spec.rb[1:1]","description":"updating foreign currency value","full_description":"Inline Banking - Foreign Currency Value updating foreign currency value","status":"passed","file_path":"./spec/features/new_banking/inline_form/foreign_currency_value_spec.rb","line_number":10,"run_time":3.758800361,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_factory_spec.rb[1:1:1:1]","description":"builds an invoice with the right attributes","full_description":"SubscriptionInvoiceFactory#build_periodical_invoice for a monthly period builds an invoice with the right attributes","status":"passed","file_path":"./spec/models/subscription_invoice_factory_spec.rb","line_number":13,"run_time":0.143139714,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_factory_spec.rb[1:1:1:2]","description":"includes the core service and subscription addons","full_description":"SubscriptionInvoiceFactory#build_periodical_invoice for a monthly period includes the core service and subscription addons","status":"passed","file_path":"./spec/models/subscription_invoice_factory_spec.rb","line_number":35,"run_time":0.132652199,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_factory_spec.rb[1:1:2:1]","description":"builds an invoice with the right attributes","full_description":"SubscriptionInvoiceFactory#build_periodical_invoice for a yearly period builds an invoice with the right attributes","status":"passed","file_path":"./spec/models/subscription_invoice_factory_spec.rb","line_number":56,"run_time":0.131793142,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_factory_spec.rb[1:1:2:2]","description":"includes the core service and subscription addons","full_description":"SubscriptionInvoiceFactory#build_periodical_invoice for a yearly period includes the core service and subscription addons","status":"passed","file_path":"./spec/models/subscription_invoice_factory_spec.rb","line_number":78,"run_time":0.128949363,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_factory_spec.rb[1:2:1:1]","description":"builds an invoice with the right attributes","full_description":"SubscriptionInvoiceFactory#build_core_service_invoice for a monthly period builds an invoice with the right attributes","status":"passed","file_path":"./spec/models/subscription_invoice_factory_spec.rb","line_number":101,"run_time":0.152660269,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_factory_spec.rb[1:2:1:2]","description":"includes the core service only","full_description":"SubscriptionInvoiceFactory#build_core_service_invoice for a monthly period includes the core service only","status":"passed","file_path":"./spec/models/subscription_invoice_factory_spec.rb","line_number":123,"run_time":0.138326865,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_factory_spec.rb[1:2:2:1]","description":"builds an invoice with the right attributes","full_description":"SubscriptionInvoiceFactory#build_core_service_invoice for a yearly period builds an invoice with the right attributes","status":"passed","file_path":"./spec/models/subscription_invoice_factory_spec.rb","line_number":138,"run_time":0.119722982,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_factory_spec.rb[1:2:2:2]","description":"includes the core service only","full_description":"SubscriptionInvoiceFactory#build_core_service_invoice for a yearly period includes the core service only","status":"passed","file_path":"./spec/models/subscription_invoice_factory_spec.rb","line_number":160,"run_time":0.123147718,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_factory_spec.rb[1:3:1]","description":"builds an invoice with the right attributes","full_description":"SubscriptionInvoiceFactory#build_addons_only_invoice builds an invoice with the right attributes","status":"passed","file_path":"./spec/models/subscription_invoice_factory_spec.rb","line_number":176,"run_time":0.136303863,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_factory_spec.rb[1:3:2]","description":"includes items for all subscription addons","full_description":"SubscriptionInvoiceFactory#build_addons_only_invoice includes items for all subscription addons","status":"passed","file_path":"./spec/models/subscription_invoice_factory_spec.rb","line_number":198,"run_time":0.159151782,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_factory_spec.rb[1:4:1]","description":"builds an invoice with the right attributes","full_description":"SubscriptionInvoiceFactory#build_initial_addon_invoice builds an invoice with the right attributes","status":"passed","file_path":"./spec/models/subscription_invoice_factory_spec.rb","line_number":223,"run_time":0.16792867,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_factory_spec.rb[1:4:2]","description":"includes exactly one item for the passed addon","full_description":"SubscriptionInvoiceFactory#build_initial_addon_invoice includes exactly one item for the passed addon","status":"passed","file_path":"./spec/models/subscription_invoice_factory_spec.rb","line_number":245,"run_time":0.143619043,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_factory_spec.rb[1:4:3:1:1]","description":"it contains exactly two items for the addon and additional work","full_description":"SubscriptionInvoiceFactory#build_initial_addon_invoice for a CoPilot add-on with an initial fee for upfront work on the introduction it contains exactly two items for the addon and additional work","status":"passed","file_path":"./spec/models/subscription_invoice_factory_spec.rb","line_number":262,"run_time":0.404046915,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_factory_spec.rb[1:4:3:2:1]","description":"includes exactly one item for the passed addon","full_description":"SubscriptionInvoiceFactory#build_initial_addon_invoice for a CoPilot add-on without an initial fee for upfront work on the introduction includes exactly one item for the passed addon","status":"passed","file_path":"./spec/models/subscription_invoice_factory_spec.rb","line_number":285,"run_time":0.283100751,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_factory_spec.rb[1:5:1]","description":"builds an invoice with the right attributes","full_description":"SubscriptionInvoiceFactory#build_yearly_total_invoice builds an invoice with the right attributes","status":"passed","file_path":"./spec/models/subscription_invoice_factory_spec.rb","line_number":301,"run_time":0.158573867,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_factory_spec.rb[1:5:2]","description":"includes an item for the core subscription","full_description":"SubscriptionInvoiceFactory#build_yearly_total_invoice includes an item for the core subscription","status":"passed","file_path":"./spec/models/subscription_invoice_factory_spec.rb","line_number":323,"run_time":0.17176401,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_factory_spec.rb[1:5:3]","description":"includes an item for each addon for 12 monthly charges","full_description":"SubscriptionInvoiceFactory#build_yearly_total_invoice includes an item for each addon for 12 monthly charges","status":"passed","file_path":"./spec/models/subscription_invoice_factory_spec.rb","line_number":335,"run_time":0.169999989,"pending_message":null,"screenshot":null},{"id":"./spec/features/inline_delete_spec.rb[1:1:1]","description":"allows user to delete an invoice","full_description":"InlineDelete Removing invoices from the list view allows user to delete an invoice","status":"passed","file_path":"./spec/features/inline_delete_spec.rb","line_number":11,"run_time":0.994783419,"pending_message":null,"screenshot":null},{"id":"./spec/features/inline_delete_spec.rb[1:2:1]","description":"allows user to delete an estimate","full_description":"InlineDelete Removing estimates from the list view allows user to delete an estimate","status":"passed","file_path":"./spec/features/inline_delete_spec.rb","line_number":31,"run_time":1.023557569,"pending_message":null,"screenshot":null},{"id":"./spec/features/inline_delete_spec.rb[1:3:1]","description":"allows user to delete an price list item","full_description":"InlineDelete Removing price list items from the list view allows user to delete an price list item","status":"passed","file_path":"./spec/features/inline_delete_spec.rb","line_number":51,"run_time":1.093297416,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/customer_concentration_calculator_spec.rb[1:1:1:1]","description":"returns 0","full_description":"Radar::Insights::CustomerConcentrationCalculator#number_of_customers when there have been no customers within the report period returns 0","status":"passed","file_path":"./spec/freeagent/radar/insights/customer_concentration_calculator_spec.rb","line_number":24,"run_time":0.213269335,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/customer_concentration_calculator_spec.rb[1:1:2:1]","description":"returns the number of unique customers within the report period","full_description":"Radar::Insights::CustomerConcentrationCalculator#number_of_customers when there have been customers within the report period returns the number of unique customers within the report period","status":"passed","file_path":"./spec/freeagent/radar/insights/customer_concentration_calculator_spec.rb","line_number":33,"run_time":0.217737921,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/customer_concentration_calculator_spec.rb[1:1:2:2:1]","description":"does not count those customers","full_description":"Radar::Insights::CustomerConcentrationCalculator#number_of_customers when there have been customers within the report period and some customers have negative total sales values does not count those customers","status":"passed","file_path":"./spec/freeagent/radar/insights/customer_concentration_calculator_spec.rb","line_number":45,"run_time":0.3592413,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/customer_concentration_calculator_spec.rb[1:2:1:1]","description":"returns nil ","full_description":"Radar::Insights::CustomerConcentrationCalculator#highest_customer_percentage_income when there have been no sales within the report period returns nil ","status":"passed","file_path":"./spec/freeagent/radar/insights/customer_concentration_calculator_spec.rb","line_number":57,"run_time":0.191311246,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/customer_concentration_calculator_spec.rb[1:2:2:1]","description":"returns the percentage","full_description":"Radar::Insights::CustomerConcentrationCalculator#highest_customer_percentage_income when there have been sales within the report period returns the percentage","status":"passed","file_path":"./spec/freeagent/radar/insights/customer_concentration_calculator_spec.rb","line_number":66,"run_time":0.215313704,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/customer_concentration_calculator_spec.rb[1:2:2:2:1]","description":"does not use those customers in the calculation","full_description":"Radar::Insights::CustomerConcentrationCalculator#highest_customer_percentage_income when there have been sales within the report period when a customer has a negative sales value over the report period does not use those customers in the calculation","status":"passed","file_path":"./spec/freeagent/radar/insights/customer_concentration_calculator_spec.rb","line_number":78,"run_time":0.372506529,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/customer_concentration_calculator_spec.rb[1:2:2:3:1]","description":"rounds it to the nearest percent","full_description":"Radar::Insights::CustomerConcentrationCalculator#highest_customer_percentage_income when there have been sales within the report period when the percentage is not a round number rounds it to the nearest percent","status":"passed","file_path":"./spec/freeagent/radar/insights/customer_concentration_calculator_spec.rb","line_number":87,"run_time":0.181035195,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/customer_concentration_calculator_spec.rb[1:3:1:1]","description":"returns an ordered array of all the customer names, income percentages, and incomes","full_description":"Radar::Insights::CustomerConcentrationCalculator top_5_customers when there are less than 5 customers returns an ordered array of all the customer names, income percentages, and incomes","status":"passed","file_path":"./spec/freeagent/radar/insights/customer_concentration_calculator_spec.rb","line_number":99,"run_time":0.199690748,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/customer_concentration_calculator_spec.rb[1:3:2:1]","description":"returns an ordered array of the top 5 customer names, income percentages, and incomes","full_description":"Radar::Insights::CustomerConcentrationCalculator top_5_customers when there are more than 5 customers returns an ordered array of the top 5 customer names, income percentages, and incomes","status":"passed","file_path":"./spec/freeagent/radar/insights/customer_concentration_calculator_spec.rb","line_number":117,"run_time":0.487537938,"pending_message":null,"screenshot":null},{"id":"./spec/tools/data_integrity/foreign_currency_helper_spec.rb[1:1:1]","description":"does not contain future bank account entries","full_description":"DataIntegrity::ForeignCurrencyHelper foreign_currency_balance does not contain future bank account entries","status":"passed","file_path":"./spec/tools/data_integrity/foreign_currency_helper_spec.rb","line_number":24,"run_time":0.306242691,"pending_message":null,"screenshot":null},{"id":"./spec/tools/data_integrity/foreign_currency_helper_spec.rb[1:2:1]","description":"does not contain future bank account entries","full_description":"DataIntegrity::ForeignCurrencyHelper balance_sheet_value does not contain future bank account entries","status":"passed","file_path":"./spec/tools/data_integrity/foreign_currency_helper_spec.rb","line_number":30,"run_time":0.305866535,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:2:1:1:2:2]","description":"which has been sent","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the invoice accounting basis not on the Flat Rate Scheme Invoices Given a foreign currency invoice (exchange rate 2:1) with 3 line items in 2 categories which has been sent","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":3646,"run_time":0.770539716,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:119:1]","description":"returns correct invoices for filters","full_description":"Invoice.filter_by returns correct invoices for filters","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":3705,"run_time":1.320681898,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/invoices/vat_prepaid.feature[1:1:1]","description":"Given a uk sole trader -\u003e And an invoice: prepaid, with VAT -\u003e Given VAT settings: Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Prepaid VAT Invoice VAT due on payment Given a uk sole trader -\u003e And an invoice: prepaid, with VAT -\u003e Given VAT settings: Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/invoices/vat_prepaid.feature","line_number":13,"run_time":0.039504268,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/invoices/vat_prepaid.feature[1:2:1]","description":"Given a uk sole trader -\u003e And an invoice: prepaid, with VAT -\u003e Given VAT settings: Any basis, not FRS, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Prepaid VAT Invoice VAT due on payment Given a uk sole trader -\u003e And an invoice: prepaid, with VAT -\u003e Given VAT settings: Any basis, not FRS, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/invoices/vat_prepaid.feature","line_number":13,"run_time":0.02345958,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/invoices/vat_prepaid.feature[1:3:1]","description":"Given a uk sole trader -\u003e And an invoice: prepaid, with VAT -\u003e Given VAT settings: Any basis, not FRS, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Prepaid VAT Invoice VAT due on payment Given a uk sole trader -\u003e And an invoice: prepaid, with VAT -\u003e Given VAT settings: Any basis, not FRS, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/invoices/vat_prepaid.feature","line_number":13,"run_time":0.030566708,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/invoices/vat_prepaid.feature[1:4:1]","description":"Given a uk sole trader -\u003e And an invoice: prepaid, with VAT -\u003e Given VAT settings: Any basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Prepaid VAT Invoice VAT due on payment Given a uk sole trader -\u003e And an invoice: prepaid, with VAT -\u003e Given VAT settings: Any basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/invoices/vat_prepaid.feature","line_number":13,"run_time":0.021744455,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/invoices/vat_prepaid.feature[1:5:1]","description":"Given a uk sole trader -\u003e And an invoice: prepaid, with VAT -\u003e Given VAT settings: Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Prepaid VAT Invoice VAT due on payment at 11.5% FRS rate Given a uk sole trader -\u003e And an invoice: prepaid, with VAT -\u003e Given VAT settings: Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/invoices/vat_prepaid.feature","line_number":49,"run_time":0.024828109,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/invoices/vat_prepaid.feature[1:6:1]","description":"Given a uk sole trader -\u003e And an invoice: prepaid, with VAT -\u003e Given VAT settings: Any basis, FRS, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Prepaid VAT Invoice VAT due on payment at 11.5% FRS rate Given a uk sole trader -\u003e And an invoice: prepaid, with VAT -\u003e Given VAT settings: Any basis, FRS, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/invoices/vat_prepaid.feature","line_number":49,"run_time":0.037674682,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/invoices/vat_prepaid.feature[1:7:1]","description":"Given a uk sole trader -\u003e And an invoice: prepaid, with VAT -\u003e Given VAT settings: Any basis, FRS, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Prepaid VAT Invoice VAT due on payment at 11.5% FRS rate Given a uk sole trader -\u003e And an invoice: prepaid, with VAT -\u003e Given VAT settings: Any basis, FRS, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/invoices/vat_prepaid.feature","line_number":49,"run_time":0.035520739,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/invoices/vat_prepaid.feature[1:8:1]","description":"Given a uk sole trader -\u003e And an invoice: prepaid, with VAT -\u003e Given VAT settings: Any basis, FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Prepaid VAT Invoice VAT due on payment at 11.5% FRS rate Given a uk sole trader -\u003e And an invoice: prepaid, with VAT -\u003e Given VAT settings: Any basis, FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/invoices/vat_prepaid.feature","line_number":49,"run_time":0.028910897,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/send_grid_controller_spec.rb[1:1:1:1]","description":"is expected to respond with status code :unauthorized (401)","full_description":"SendGridController POST #callback unauthenticated is expected to respond with status code :unauthorized (401)","status":"passed","file_path":"./spec/controllers/send_grid_controller_spec.rb","line_number":8,"run_time":0.006986114,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/send_grid_controller_spec.rb[1:1:2:1]","description":"has a successful response","full_description":"SendGridController POST #callback handles multiple events for Email records has a successful response","status":"passed","file_path":"./spec/controllers/send_grid_controller_spec.rb","line_number":44,"run_time":0.291836369,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/send_grid_controller_spec.rb[1:1:2:2]","description":"transitions the delivered email to 'delivered'","full_description":"SendGridController POST #callback handles multiple events for Email records transitions the delivered email to 'delivered'","status":"passed","file_path":"./spec/controllers/send_grid_controller_spec.rb","line_number":49,"run_time":0.249582334,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/send_grid_controller_spec.rb[1:1:2:3]","description":"transitions the bounced email to 'hard_bounced'","full_description":"SendGridController POST #callback handles multiple events for Email records transitions the bounced email to 'hard_bounced'","status":"passed","file_path":"./spec/controllers/send_grid_controller_spec.rb","line_number":55,"run_time":0.254166402,"pending_message":null,"screenshot":null},{"id":"./spec/models/settings/accounting_dates_form_spec.rb[1:1:1:1:1]","description":"returns false","full_description":"Settings::AccountingDatesForm#valid? when freeagent_start_date freeagent start date param is after first payroll rofile tax year end date returns false","status":"passed","file_path":"./spec/models/settings/accounting_dates_form_spec.rb","line_number":22,"run_time":0.041727573,"pending_message":null,"screenshot":null},{"id":"./spec/models/settings/accounting_dates_form_spec.rb[1:1:1:2:1]","description":"returns true","full_description":"Settings::AccountingDatesForm#valid? when freeagent_start_date freeagent start date param is on first payroll rofile tax year end date returns true","status":"passed","file_path":"./spec/models/settings/accounting_dates_form_spec.rb","line_number":30,"run_time":0.039835364,"pending_message":null,"screenshot":null},{"id":"./spec/models/settings/accounting_dates_form_spec.rb[1:1:1:3:1]","description":"returns true","full_description":"Settings::AccountingDatesForm#valid? when freeagent_start_date freeagent start date param is before first payroll rofile tax year end date returns true","status":"passed","file_path":"./spec/models/settings/accounting_dates_form_spec.rb","line_number":38,"run_time":0.034637405,"pending_message":null,"screenshot":null},{"id":"./spec/models/settings/accounting_dates_form_spec.rb[1:1:1:4:1]","description":"returns true","full_description":"Settings::AccountingDatesForm#valid? when freeagent_start_date freeagent start date param is nil returns true","status":"passed","file_path":"./spec/models/settings/accounting_dates_form_spec.rb","line_number":46,"run_time":0.007325315,"pending_message":null,"screenshot":null},{"id":"./spec/models/settings/accounting_dates_form_spec.rb[1:1:1:5:1]","description":"returns true","full_description":"Settings::AccountingDatesForm#valid? when freeagent_start_date company does not support payroll returns true","status":"passed","file_path":"./spec/models/settings/accounting_dates_form_spec.rb","line_number":55,"run_time":0.115252338,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/disengagement/company_deleter_job_spec.rb[1:1:1]","description":"logs a warning message","full_description":"Disengagement::CompanyDeleterJob when the company no longer exists logs a warning message","status":"passed","file_path":"./spec/jobs/disengagement/company_deleter_job_spec.rb","line_number":22,"run_time":0.183403913,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/disengagement/company_deleter_job_spec.rb[1:1:2]","description":"schedules the next company for deletion","full_description":"Disengagement::CompanyDeleterJob when the company no longer exists schedules the next company for deletion","status":"passed","file_path":"./spec/jobs/disengagement/company_deleter_job_spec.rb","line_number":33,"run_time":0.168919397,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/disengagement/company_deleter_job_spec.rb[1:2:1]","description":"does nothing","full_description":"Disengagement::CompanyDeleterJob without the delete_disengaged_companies feature does nothing","status":"passed","file_path":"./spec/jobs/disengagement/company_deleter_job_spec.rb","line_number":42,"run_time":0.011426173,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/disengagement/company_deleter_job_spec.rb[1:3:1]","description":"deletes the first company","full_description":"Disengagement::CompanyDeleterJob when the deletion is successful deletes the first company","status":"passed","file_path":"./spec/jobs/disengagement/company_deleter_job_spec.rb","line_number":54,"run_time":0.163811721,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/disengagement/company_deleter_job_spec.rb[1:3:2]","description":"moves the first company id to the deleted array and schedules the next job","full_description":"Disengagement::CompanyDeleterJob when the deletion is successful moves the first company id to the deleted array and schedules the next job","status":"passed","file_path":"./spec/jobs/disengagement/company_deleter_job_spec.rb","line_number":61,"run_time":0.010483058,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/disengagement/company_deleter_job_spec.rb[1:3:3:1]","description":"does not schedule more jobs","full_description":"Disengagement::CompanyDeleterJob when the deletion is successful when this is the final company to delete does not schedule more jobs","status":"passed","file_path":"./spec/jobs/disengagement/company_deleter_job_spec.rb","line_number":74,"run_time":0.140398675,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/disengagement/company_deleter_job_spec.rb[1:3:3:2]","description":"sends the deleted company ids to salesforce","full_description":"Disengagement::CompanyDeleterJob when the deletion is successful when this is the final company to delete sends the deleted company ids to salesforce","status":"passed","file_path":"./spec/jobs/disengagement/company_deleter_job_spec.rb","line_number":80,"run_time":0.142360578,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/disengagement/company_deleter_job_spec.rb[1:4:1:1:1]","description":"logs an error message","full_description":"Disengagement::CompanyDeleterJob when the deletion is not successful when a Company Deletion Error is raised and there are still companies to be deleted logs an error message","status":"passed","file_path":"./spec/jobs/disengagement/company_deleter_job_spec.rb","line_number":104,"run_time":0.011982876,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/disengagement/company_deleter_job_spec.rb[1:4:1:1:2]","description":"notifies the Error Service","full_description":"Disengagement::CompanyDeleterJob when the deletion is not successful when a Company Deletion Error is raised and there are still companies to be deleted notifies the Error Service","status":"passed","file_path":"./spec/jobs/disengagement/company_deleter_job_spec.rb","line_number":113,"run_time":0.009769045,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/disengagement/company_deleter_job_spec.rb[1:4:1:1:3]","description":"removes the current company id and schedules the next deleter job","full_description":"Disengagement::CompanyDeleterJob when the deletion is not successful when a Company Deletion Error is raised and there are still companies to be deleted removes the current company id and schedules the next deleter job","status":"passed","file_path":"./spec/jobs/disengagement/company_deleter_job_spec.rb","line_number":121,"run_time":0.010485207,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/disengagement/company_deleter_job_spec.rb[1:4:1:1:4]","description":"does not immediately schedule a Salesforce update","full_description":"Disengagement::CompanyDeleterJob when the deletion is not successful when a Company Deletion Error is raised and there are still companies to be deleted does not immediately schedule a Salesforce update","status":"passed","file_path":"./spec/jobs/disengagement/company_deleter_job_spec.rb","line_number":127,"run_time":0.010557135,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/disengagement/company_deleter_job_spec.rb[1:4:1:2:1]","description":"logs an error message","full_description":"Disengagement::CompanyDeleterJob when the deletion is not successful when a Company Deletion Error is raised and there are no more companies logs an error message","status":"passed","file_path":"./spec/jobs/disengagement/company_deleter_job_spec.rb","line_number":148,"run_time":0.0105895,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/disengagement/company_deleter_job_spec.rb[1:4:1:2:2]","description":"notifies the Error Service","full_description":"Disengagement::CompanyDeleterJob when the deletion is not successful when a Company Deletion Error is raised and there are no more companies notifies the Error Service","status":"passed","file_path":"./spec/jobs/disengagement/company_deleter_job_spec.rb","line_number":157,"run_time":0.009520451,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/disengagement/company_deleter_job_spec.rb[1:4:1:2:3]","description":"does not schedule another deleter job","full_description":"Disengagement::CompanyDeleterJob when the deletion is not successful when a Company Deletion Error is raised and there are no more companies does not schedule another deleter job","status":"passed","file_path":"./spec/jobs/disengagement/company_deleter_job_spec.rb","line_number":165,"run_time":0.010117973,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/disengagement/company_deleter_job_spec.rb[1:4:1:2:4]","description":"schedule a Salesforce job with only the deleted companies","full_description":"Disengagement::CompanyDeleterJob when the deletion is not successful when a Company Deletion Error is raised and there are no more companies schedule a Salesforce job with only the deleted companies","status":"passed","file_path":"./spec/jobs/disengagement/company_deleter_job_spec.rb","line_number":171,"run_time":0.010572213,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/disengagement/company_deleter_job_spec.rb[1:5:1]","description":"re-raises the exception after it's rescued","full_description":"Disengagement::CompanyDeleterJob when the company deletion is interrupted by a Sidekiq shutdown re-raises the exception after it's rescued","status":"passed","file_path":"./spec/jobs/disengagement/company_deleter_job_spec.rb","line_number":193,"run_time":0.011462018,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/disengagement/company_deleter_job_spec.rb[1:5:2]","description":"logs an error message","full_description":"Disengagement::CompanyDeleterJob when the company deletion is interrupted by a Sidekiq shutdown logs an error message","status":"passed","file_path":"./spec/jobs/disengagement/company_deleter_job_spec.rb","line_number":197,"run_time":0.012027068,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/disengagement/company_deleter_job_spec.rb[1:5:3]","description":"resets the company's deletion_started_at to nil","full_description":"Disengagement::CompanyDeleterJob when the company deletion is interrupted by a Sidekiq shutdown resets the company's deletion_started_at to nil","status":"passed","file_path":"./spec/jobs/disengagement/company_deleter_job_spec.rb","line_number":211,"run_time":0.013141184,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:1:24]","description":"deletes the companies email templates and documents","full_description":"Company::ForgetCompanyData Deleting all data for a VAT registered UK company deletes the companies email templates and documents","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":339,"run_time":1.177323656,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_cis_partial.feature[1:1:1]","description":"Given a uk sole trader -\u003e And a credit note reconciliation: CIS, partial, with VAT -\u003e Given VAT settings: Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Partial Reconciliation with CIS \u0026 VAT Standard VAT on invoice and credit note Given a uk sole trader -\u003e And a credit note reconciliation: CIS, partial, with VAT -\u003e Given VAT settings: Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_cis_partial.feature","line_number":6,"run_time":0.048657458,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_cis_partial.feature[1:2:1]","description":"Given a uk sole trader -\u003e And a credit note reconciliation: CIS, partial, with VAT -\u003e Given VAT settings: Invoice basis, not FRS, then Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Partial Reconciliation with CIS \u0026 VAT Standard VAT on invoice and credit note reconciliation Given a uk sole trader -\u003e And a credit note reconciliation: CIS, partial, with VAT -\u003e Given VAT settings: Invoice basis, not FRS, then Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_cis_partial.feature","line_number":48,"run_time":0.027461319,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_cis_partial.feature[1:3:1]","description":"Given a uk sole trader -\u003e And a credit note reconciliation: CIS, partial, with VAT -\u003e Given VAT settings: Invoice basis, not FRS, then Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Partial Reconciliation with CIS \u0026 VAT Standard VAT on invoice and FRS VAT on credit note Given a uk sole trader -\u003e And a credit note reconciliation: CIS, partial, with VAT -\u003e Given VAT settings: Invoice basis, not FRS, then Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_cis_partial.feature","line_number":90,"run_time":0.028050877,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_cis_partial.feature[1:4:1]","description":"Given a uk sole trader -\u003e And a credit note reconciliation: CIS, partial, with VAT -\u003e Given VAT settings: Invoice basis, not FRS, then Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Partial Reconciliation with CIS \u0026 VAT Standard VAT on invoice and FRS VAT on credit note reconciliation Given a uk sole trader -\u003e And a credit note reconciliation: CIS, partial, with VAT -\u003e Given VAT settings: Invoice basis, not FRS, then Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_cis_partial.feature","line_number":137,"run_time":0.024435656,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_cis_partial.feature[1:5:1]","description":"Given a uk sole trader -\u003e And a credit note reconciliation: CIS, partial, with VAT -\u003e Given VAT settings: Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Partial Reconciliation with CIS \u0026 VAT Standard VAT on both reconcilation entries Given a uk sole trader -\u003e And a credit note reconciliation: CIS, partial, with VAT -\u003e Given VAT settings: Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_cis_partial.feature","line_number":186,"run_time":0.02110945,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_cis_partial.feature[1:6:1]","description":"Given a uk sole trader -\u003e And a credit note reconciliation: CIS, partial, with VAT -\u003e Given VAT settings: Cash basis, not FRS, then Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Partial Reconciliation with CIS \u0026 VAT Standard VAT on both invoice reconciliation and credit note and invoice 6 months after switch Given a uk sole trader -\u003e And a credit note reconciliation: CIS, partial, with VAT -\u003e Given VAT settings: Cash basis, not FRS, then Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_cis_partial.feature","line_number":237,"run_time":0.031114242,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_cis_partial.feature[1:7:1]","description":"Given a uk sole trader -\u003e And a credit note reconciliation: CIS, partial, with VAT -\u003e Given VAT settings: Cash basis, not FRS, then Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Partial Reconciliation with CIS \u0026 VAT Standard VAT on both invoice reconciliation, FRS VAT on credit note, standard VAT 6 months after switch Given a uk sole trader -\u003e And a credit note reconciliation: CIS, partial, with VAT -\u003e Given VAT settings: Cash basis, not FRS, then Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_cis_partial.feature","line_number":289,"run_time":0.030754101,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_cis_partial.feature[1:8:1]","description":"Given a uk sole trader -\u003e And a credit note reconciliation: CIS, partial, with VAT -\u003e Given VAT settings: Cash basis, not FRS, then Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Partial Reconciliation with CIS \u0026 VAT FRS VAT on both reconciliation entries Given a uk sole trader -\u003e And a credit note reconciliation: CIS, partial, with VAT -\u003e Given VAT settings: Cash basis, not FRS, then Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_cis_partial.feature","line_number":348,"run_time":0.032678655,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_cis_partial.feature[1:9:1]","description":"Given a uk sole trader -\u003e And a credit note reconciliation: CIS, partial, with VAT -\u003e Given VAT settings: Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Partial Reconciliation with CIS \u0026 VAT FRS VAT on both reconciliation entries Given a uk sole trader -\u003e And a credit note reconciliation: CIS, partial, with VAT -\u003e Given VAT settings: Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_cis_partial.feature","line_number":348,"run_time":0.03127608,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_cis_partial.feature[1:10:1]","description":"Given a uk sole trader -\u003e And a credit note reconciliation: CIS, partial, with VAT -\u003e Given VAT settings: Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Partial Reconciliation with CIS \u0026 VAT FRS VAT on both invoice and credit note Given a uk sole trader -\u003e And a credit note reconciliation: CIS, partial, with VAT -\u003e Given VAT settings: Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_cis_partial.feature","line_number":399,"run_time":0.028362292,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_cis_partial.feature[1:11:1]","description":"Given a uk sole trader -\u003e And a credit note reconciliation: CIS, partial, with VAT -\u003e Given VAT settings: Invoice basis, FRS, then Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Partial Reconciliation with CIS \u0026 VAT FRS VAT on invoice, full VAT on credit note Given a uk sole trader -\u003e And a credit note reconciliation: CIS, partial, with VAT -\u003e Given VAT settings: Invoice basis, FRS, then Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_cis_partial.feature","line_number":441,"run_time":0.029230353,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_cis_partial.feature[1:12:1]","description":"Given a uk sole trader -\u003e And a credit note reconciliation: CIS, partial, with VAT -\u003e Given VAT settings: Invoice basis, FRS, then Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Partial Reconciliation with CIS \u0026 VAT FRS VAT on invoice, full VAT on credit note reconciliation Given a uk sole trader -\u003e And a credit note reconciliation: CIS, partial, with VAT -\u003e Given VAT settings: Invoice basis, FRS, then Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_cis_partial.feature","line_number":485,"run_time":0.030998891,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_cis_partial.feature[1:13:1]","description":"Given a uk sole trader -\u003e And a credit note reconciliation: CIS, partial, with VAT -\u003e Given VAT settings: Invoice basis, FRS, then Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Partial Reconciliation with CIS \u0026 VAT FRS VAT on invoice and credit note reconciliation Given a uk sole trader -\u003e And a credit note reconciliation: CIS, partial, with VAT -\u003e Given VAT settings: Invoice basis, FRS, then Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_cis_partial.feature","line_number":536,"run_time":0.022399796,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_cis_partial.feature[1:14:1]","description":"Given a uk sole trader -\u003e And a credit note reconciliation: CIS, partial, with VAT -\u003e Given VAT settings: Cash basis, FRS, then Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Partial Reconciliation with CIS \u0026 VAT FRS VAT on invoice at switch to invoice basis and standard VAT on credit note Given a uk sole trader -\u003e And a credit note reconciliation: CIS, partial, with VAT -\u003e Given VAT settings: Cash basis, FRS, then Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_cis_partial.feature","line_number":582,"run_time":0.021657562,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_cis_partial.feature[1:15:1]","description":"Given a uk sole trader -\u003e And a credit note reconciliation: CIS, partial, with VAT -\u003e Given VAT settings: Cash basis, FRS, then Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Partial Reconciliation with CIS \u0026 VAT FRS VAT on invoice reconciliation entry, Standard VAT on credit note reconciliation entry Given a uk sole trader -\u003e And a credit note reconciliation: CIS, partial, with VAT -\u003e Given VAT settings: Cash basis, FRS, then Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_cis_partial.feature","line_number":634,"run_time":0.023950264,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_cis_partial.feature[1:16:1]","description":"Given a uk sole trader -\u003e And a credit note reconciliation: CIS, partial, with VAT -\u003e Given VAT settings: Cash basis, FRS, then Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Partial Reconciliation with CIS \u0026 VAT FRS VAT on invoice on switch to invoice basis and on credit note Given a uk sole trader -\u003e And a credit note reconciliation: CIS, partial, with VAT -\u003e Given VAT settings: Cash basis, FRS, then Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_note_reconciliation/vat_cis_partial.feature","line_number":682,"run_time":0.022425871,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/invoice_item_spec.rb[1:1]","description":"has no nested types","full_description":"Exporter::ExportableTypes::InvoiceItem has no nested types","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/invoice_item_spec.rb","line_number":16,"run_time":0.004215728,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/invoice_item_spec.rb[1:2]","description":"has correct headings, correctly ordered","full_description":"Exporter::ExportableTypes::InvoiceItem has correct headings, correctly ordered","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/invoice_item_spec.rb","line_number":20,"run_time":0.002904193,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/invoice_item_spec.rb[1:3]","description":"returns correct values, correctly ordered","full_description":"Exporter::ExportableTypes::InvoiceItem returns correct values, correctly ordered","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/invoice_item_spec.rb","line_number":37,"run_time":0.094987554,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/invoice_item_spec.rb[1:4]","description":"returns the correct category name value for comment invoice line items","full_description":"Exporter::ExportableTypes::InvoiceItem returns the correct category name value for comment invoice line items","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/invoice_item_spec.rb","line_number":54,"run_time":0.106715931,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/invoice_item_spec.rb[1:5]","description":"returns the correct project name","full_description":"Exporter::ExportableTypes::InvoiceItem returns the correct project name","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/invoice_item_spec.rb","line_number":60,"run_time":0.182892515,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/invoice_item_spec.rb[1:6]","description":"returns the correct stock item code value","full_description":"Exporter::ExportableTypes::InvoiceItem returns the correct stock item code value","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/invoice_item_spec.rb","line_number":66,"run_time":0.233049159,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/invoice_item_spec.rb[1:7]","description":"uses the value formatter to format the sales tax rates","full_description":"Exporter::ExportableTypes::InvoiceItem uses the value formatter to format the sales tax rates","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/invoice_item_spec.rb","line_number":72,"run_time":0.106841616,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[12:11:1]","description":"shows only paypal checkbox","full_description":"InvoicesController GET new when only paypal is configured shows only paypal checkbox","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":1223,"run_time":0.207650837,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/tyl_payment_controller_spec.rb[1:1:1:1]","description":"redirects to Tyl's payment gateway","full_description":"PaymentPortal::TylPaymentController GET continue for a portal ref that is payable redirects to Tyl's payment gateway","status":"passed","file_path":"./spec/controllers/payment_portal/tyl_payment_controller_spec.rb","line_number":15,"run_time":0.272270475,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/tyl_payment_controller_spec.rb[1:1:2:1]","description":"redirects to the portal home with an error","full_description":"PaymentPortal::TylPaymentController GET continue for a portal ref that is missing a link redirects to the portal home with an error","status":"passed","file_path":"./spec/controllers/payment_portal/tyl_payment_controller_spec.rb","line_number":24,"run_time":0.11247103,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/tyl_payment_controller_spec.rb[1:1:2:2:1]","description":"redirects to the portal home with an error and alternate suggestion","full_description":"PaymentPortal::TylPaymentController GET continue for a portal ref that is missing a link when Tyl downtime is being advertised redirects to the portal home with an error and alternate suggestion","status":"passed","file_path":"./spec/controllers/payment_portal/tyl_payment_controller_spec.rb","line_number":33,"run_time":0.105437963,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/tyl_payment_controller_spec.rb[1:1:3:1]","description":"redirects to the portal home with an error","full_description":"PaymentPortal::TylPaymentController GET continue for a portal ref that isn't payable redirects to the portal home with an error","status":"passed","file_path":"./spec/controllers/payment_portal/tyl_payment_controller_spec.rb","line_number":44,"run_time":0.1120897,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/mobile/settings.rbapi_spec.rb[1:1:1]","description":"includes the value calculated by InsightsHelper","full_description":"api/mobile/settings.rbapi .unseen_radar_updates includes the value calculated by InsightsHelper","status":"passed","file_path":"./spec/views/api/mobile/settings.rbapi_spec.rb","line_number":26,"run_time":0.142447031,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/mobile/settings.rbapi_spec.rb[1:2:1]","description":"includes the value calculated by SettingsHelper","full_description":"api/mobile/settings.rbapi .features.display_commercial_propositions_settings includes the value calculated by SettingsHelper","status":"passed","file_path":"./spec/views/api/mobile/settings.rbapi_spec.rb","line_number":39,"run_time":0.100930569,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/mobile/settings.rbapi_spec.rb[1:3:1]","description":"includes the email limitation as returned by the policy object","full_description":"api/mobile/settings.rbapi email.recipient_limit includes the email limitation as returned by the policy object","status":"passed","file_path":"./spec/views/api/mobile/settings.rbapi_spec.rb","line_number":58,"run_time":0.089743988,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/mobile/settings.rbapi_spec.rb[1:4:1:1]","description":"does not include any nil date boundaries","full_description":"api/mobile/settings.rbapi mileage_settings .mileage_rates does not include any nil date boundaries","status":"passed","file_path":"./spec/views/api/mobile/settings.rbapi_spec.rb","line_number":68,"run_time":0.077997176,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/mobile/settings.rbapi_spec.rb[1:5:1]","description":"includes information about whether the company is eligible for Payit","full_description":"api/mobile/settings.rbapi Payit eligibility includes information about whether the company is eligible for Payit","status":"passed","file_path":"./spec/views/api/mobile/settings.rbapi_spec.rb","line_number":80,"run_time":0.085069823,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/mobile/settings.rbapi_spec.rb[1:6:1]","description":"includes information about the status of the Payit service","full_description":"api/mobile/settings.rbapi Payit Service Status includes information about the status of the Payit service","status":"passed","file_path":"./spec/views/api/mobile/settings.rbapi_spec.rb","line_number":88,"run_time":0.104133781,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/mobile/settings.rbapi_spec.rb[1:7:1]","description":"includes information about the status of the Payit Scheduled Payment service","full_description":"api/mobile/settings.rbapi Payit Scheduled Service Status includes information about the status of the Payit Scheduled Payment service","status":"passed","file_path":"./spec/views/api/mobile/settings.rbapi_spec.rb","line_number":102,"run_time":0.102895096,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/mobile/settings.rbapi_spec.rb[1:8:1]","description":"includes a flag to indicate whether the user has access to multiple users","full_description":"api/mobile/settings.rbapi Has Multiple Active Staff Users includes a flag to indicate whether the user has access to multiple users","status":"passed","file_path":"./spec/views/api/mobile/settings.rbapi_spec.rb","line_number":116,"run_time":0.087087995,"pending_message":null,"screenshot":null},{"id":"./spec/models/blocked_bank_transaction_spec.rb[1:1:1]","description":"is expected to validate that :company cannot be empty/falsy","full_description":"BlockedBankTransaction validations is expected to validate that :company cannot be empty/falsy","status":"passed","file_path":"./spec/models/blocked_bank_transaction_spec.rb","line_number":7,"run_time":0.016489714,"pending_message":null,"screenshot":null},{"id":"./spec/models/blocked_bank_transaction_spec.rb[1:1:2]","description":"is expected to validate that :bank_account cannot be empty/falsy","full_description":"BlockedBankTransaction validations is expected to validate that :bank_account cannot be empty/falsy","status":"passed","file_path":"./spec/models/blocked_bank_transaction_spec.rb","line_number":8,"run_time":0.00910127,"pending_message":null,"screenshot":null},{"id":"./spec/models/blocked_bank_transaction_spec.rb[1:1:3]","description":"is expected to validate that :dated_on cannot be empty/falsy","full_description":"BlockedBankTransaction validations is expected to validate that :dated_on cannot be empty/falsy","status":"passed","file_path":"./spec/models/blocked_bank_transaction_spec.rb","line_number":9,"run_time":0.008924183,"pending_message":null,"screenshot":null},{"id":"./spec/models/blocked_bank_transaction_spec.rb[1:2:1]","description":"creates a new record","full_description":"BlockedBankTransaction.create_from_transaction creates a new record","status":"passed","file_path":"./spec/models/blocked_bank_transaction_spec.rb","line_number":13,"run_time":0.051209245,"pending_message":null,"screenshot":null},{"id":"./spec/models/blocked_bank_transaction_spec.rb[1:3:1:1]","description":"converts DateTimes to Dates in UTC zone","full_description":"BlockedBankTransaction behaves like dated_on casts to Date #dated_on converts DateTimes to Dates in UTC zone","status":"passed","file_path":"./spec/support/shared_examples/transactions_dated_on.rb","line_number":5,"run_time":0.007717622,"pending_message":null,"screenshot":null},{"id":"./spec/models/blocked_bank_transaction_spec.rb[1:3:1:2]","description":"allows nil","full_description":"BlockedBankTransaction behaves like dated_on casts to Date #dated_on allows nil","status":"passed","file_path":"./spec/support/shared_examples/transactions_dated_on.rb","line_number":13,"run_time":0.005470038,"pending_message":null,"screenshot":null},{"id":"./spec/models/blocked_bank_transaction_spec.rb[1:3:2:1]","description":"handles DateTimes","full_description":"BlockedBankTransaction behaves like dated_on casts to Date #dated_on= handles DateTimes","status":"passed","file_path":"./spec/support/shared_examples/transactions_dated_on.rb","line_number":25,"run_time":0.031089921,"pending_message":null,"screenshot":null},{"id":"./spec/models/blocked_bank_transaction_spec.rb[1:3:2:2]","description":"handles Date","full_description":"BlockedBankTransaction behaves like dated_on casts to Date #dated_on= handles Date","status":"passed","file_path":"./spec/support/shared_examples/transactions_dated_on.rb","line_number":31,"run_time":0.031936811,"pending_message":null,"screenshot":null},{"id":"./spec/models/blocked_bank_transaction_spec.rb[1:3:2:3]","description":"handles nil","full_description":"BlockedBankTransaction behaves like dated_on casts to Date #dated_on= handles nil","status":"passed","file_path":"./spec/support/shared_examples/transactions_dated_on.rb","line_number":37,"run_time":0.006650915,"pending_message":null,"screenshot":null},{"id":"./spec/models/blocked_bank_transaction_spec.rb[1:3:2:4]","description":"logs the original DateTime and the converted Date","full_description":"BlockedBankTransaction behaves like dated_on casts to Date #dated_on= logs the original DateTime and the converted Date","status":"passed","file_path":"./spec/support/shared_examples/transactions_dated_on.rb","line_number":43,"run_time":0.005730413,"pending_message":null,"screenshot":null},{"id":"./spec/models/blocked_bank_transaction_spec.rb[1:3:2:5]","description":"logs the original Date and the converted Date","full_description":"BlockedBankTransaction behaves like dated_on casts to Date #dated_on= logs the original Date and the converted Date","status":"passed","file_path":"./spec/support/shared_examples/transactions_dated_on.rb","line_number":51,"run_time":0.005972455,"pending_message":null,"screenshot":null},{"id":"./spec/models/blocked_bank_transaction_spec.rb[1:3:2:6:1]","description":"handles DateTimes West of GMT","full_description":"BlockedBankTransaction behaves like dated_on casts to Date #dated_on= when Time.zone isn't UTC handles DateTimes West of GMT","status":"passed","file_path":"./spec/support/shared_examples/transactions_dated_on.rb","line_number":60,"run_time":0.029583254,"pending_message":null,"screenshot":null},{"id":"./spec/models/blocked_bank_transaction_spec.rb[1:3:2:6:2]","description":"handles DateTimes East of GMT","full_description":"BlockedBankTransaction behaves like dated_on casts to Date #dated_on= when Time.zone isn't UTC handles DateTimes East of GMT","status":"passed","file_path":"./spec/support/shared_examples/transactions_dated_on.rb","line_number":69,"run_time":0.034479189,"pending_message":null,"screenshot":null},{"id":"./spec/models/blocked_bank_transaction_spec.rb[1:3:2:6:3]","description":"handles Dates","full_description":"BlockedBankTransaction behaves like dated_on casts to Date #dated_on= when Time.zone isn't UTC handles Dates","status":"passed","file_path":"./spec/support/shared_examples/transactions_dated_on.rb","line_number":77,"run_time":0.030617377,"pending_message":null,"screenshot":null},{"id":"./spec/models/blocked_bank_transaction_spec.rb[1:3:2:7:1]","description":"stores them correctly (strips the Time component)","full_description":"BlockedBankTransaction behaves like dated_on casts to Date #dated_on= when non-UTC DateTimes are provided stores them correctly (strips the Time component)","status":"passed","file_path":"./spec/support/shared_examples/transactions_dated_on.rb","line_number":87,"run_time":0.031882287,"pending_message":null,"screenshot":null},{"id":"./spec/models/blocked_bank_transaction_spec.rb[1:3:2:7:2]","description":"logs the original DateTime and the converted Date","full_description":"BlockedBankTransaction behaves like dated_on casts to Date #dated_on= when non-UTC DateTimes are provided logs the original DateTime and the converted Date","status":"passed","file_path":"./spec/support/shared_examples/transactions_dated_on.rb","line_number":93,"run_time":0.006732819,"pending_message":null,"screenshot":null},{"id":"./spec/models/blocked_bank_transaction_spec.rb[1:3:3:1]","description":"the transaction has date_time_on populated","full_description":"BlockedBankTransaction behaves like dated_on casts to Date #set_date_time_on - before_save callback the transaction has date_time_on populated","status":"passed","file_path":"./spec/support/shared_examples/transactions_dated_on.rb","line_number":106,"run_time":0.031427569,"pending_message":null,"screenshot":null},{"id":"./spec/models/blocked_bank_transaction_spec.rb[1:3:3:2:1]","description":"sets the transaction date_time_on to midnight UTC","full_description":"BlockedBankTransaction behaves like dated_on casts to Date #set_date_time_on - before_save callback if the user is in a different timezone sets the transaction date_time_on to midnight UTC","status":"passed","file_path":"./spec/support/shared_examples/transactions_dated_on.rb","line_number":113,"run_time":0.033424282,"pending_message":null,"screenshot":null},{"id":"./spec/models/blocked_bank_transaction_spec.rb[1:4:1:1]","description":"has dated_at attribute","full_description":"BlockedBankTransaction behaves like dated_at reads/writes DateTime values #dated_at has dated_at attribute","status":"passed","file_path":"./spec/support/shared_examples/transactions_dated_at.rb","line_number":5,"run_time":0.00810322,"pending_message":null,"screenshot":null},{"id":"./spec/models/blocked_bank_transaction_spec.rb[1:4:1:2]","description":"reads dated_on value as DateTime","full_description":"BlockedBankTransaction behaves like dated_at reads/writes DateTime values #dated_at reads dated_on value as DateTime","status":"passed","file_path":"./spec/support/shared_examples/transactions_dated_at.rb","line_number":9,"run_time":0.007554814,"pending_message":null,"screenshot":null},{"id":"./spec/models/blocked_bank_transaction_spec.rb[1:4:1:3]","description":"reads the value of date_time_on column in UTC","full_description":"BlockedBankTransaction behaves like dated_at reads/writes DateTime values #dated_at reads the value of date_time_on column in UTC","status":"passed","file_path":"./spec/support/shared_examples/transactions_dated_at.rb","line_number":13,"run_time":0.037127884,"pending_message":null,"screenshot":null},{"id":"./spec/models/blocked_bank_transaction_spec.rb[1:4:2:1]","description":"allows nil","full_description":"BlockedBankTransaction behaves like dated_at reads/writes DateTime values #dated_at= allows nil","status":"passed","file_path":"./spec/support/shared_examples/transactions_dated_at.rb","line_number":20,"run_time":0.0070014,"pending_message":null,"screenshot":null},{"id":"./spec/models/blocked_bank_transaction_spec.rb[1:4:2:2]","description":"stores Date values in UTC","full_description":"BlockedBankTransaction behaves like dated_at reads/writes DateTime values #dated_at= stores Date values in UTC","status":"passed","file_path":"./spec/support/shared_examples/transactions_dated_at.rb","line_number":25,"run_time":0.029562834,"pending_message":null,"screenshot":null},{"id":"./spec/models/blocked_bank_transaction_spec.rb[1:4:2:3]","description":"stores non-UTC values in UTC","full_description":"BlockedBankTransaction behaves like dated_at reads/writes DateTime values #dated_at= stores non-UTC values in UTC","status":"passed","file_path":"./spec/support/shared_examples/transactions_dated_at.rb","line_number":30,"run_time":0.03266924,"pending_message":null,"screenshot":null},{"id":"./spec/requests/radar/insights/estimated_insurance_renewal_spec.rb[1:1:1]","description":"renders the EstimatedInsuranceRenewal insight","full_description":"EstimatedInsuranceRenewal insight with a UK Limited company renders the EstimatedInsuranceRenewal insight","status":"passed","file_path":"./spec/requests/radar/insights/estimated_insurance_renewal_spec.rb","line_number":14,"run_time":0.391538387,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[28:1:2:9:1]","description":"does not show the Paypal payment as pending","full_description":"InvoicesController Viewing the online payment status of a newly created invoice Viewing the online payment status of a newly created invoice that is payable online that has a withdrawn PayPal payment does not show the Paypal payment as pending","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":2732,"run_time":0.445349783,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:2:2:3:2]","description":"representing admin expenses","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the invoice accounting basis on the Flat Rate Scheme (at 5%) Expenses representing admin expenses","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":4760,"run_time":1.406336172,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:1:1]","description":"should not say it has a delta","full_description":"DataMigrations::DataFixes::AccountDeltas an AccountDeltas with no errors should not say it has a delta","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":12,"run_time":0.005439423,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:1:2]","description":"should return 0 deltas","full_description":"DataMigrations::DataFixes::AccountDeltas an AccountDeltas with no errors should return 0 deltas","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":16,"run_time":0.004158033,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:1:3]","description":"should return 0 abs_sum","full_description":"DataMigrations::DataFixes::AccountDeltas an AccountDeltas with no errors should return 0 abs_sum","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":20,"run_time":0.004249643,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:1:4]","description":"should return 0 abs_max","full_description":"DataMigrations::DataFixes::AccountDeltas an AccountDeltas with no errors should return 0 abs_max","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":24,"run_time":0.003543798,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:1:5]","description":"should return 0 net_sum","full_description":"DataMigrations::DataFixes::AccountDeltas an AccountDeltas with no errors should return 0 net_sum","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":28,"run_time":0.003713528,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:2:1]","description":"should say it has a delta","full_description":"DataMigrations::DataFixes::AccountDeltas A single delta of -100 should say it has a delta","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":38,"run_time":0.003631473,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:2:2]","description":"should return 1 delta","full_description":"DataMigrations::DataFixes::AccountDeltas A single delta of -100 should return 1 delta","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":42,"run_time":0.003120788,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:2:3]","description":"should return 100 abs_sum","full_description":"DataMigrations::DataFixes::AccountDeltas A single delta of -100 should return 100 abs_sum","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":46,"run_time":0.002698511,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:2:4]","description":"should return 100 abs_max","full_description":"DataMigrations::DataFixes::AccountDeltas A single delta of -100 should return 100 abs_max","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":50,"run_time":0.003125283,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:2:5]","description":"should return -100 net_sum","full_description":"DataMigrations::DataFixes::AccountDeltas A single delta of -100 should return -100 net_sum","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":54,"run_time":0.003779232,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:3:1]","description":"should say it has a delta","full_description":"DataMigrations::DataFixes::AccountDeltas A AccountDeltas with deltas of -100 and another of 50 should say it has a delta","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":64,"run_time":0.003546646,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:3:2]","description":"should return 2 deltas","full_description":"DataMigrations::DataFixes::AccountDeltas A AccountDeltas with deltas of -100 and another of 50 should return 2 deltas","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":68,"run_time":0.003809372,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:3:3]","description":"should return 150 abs_sum","full_description":"DataMigrations::DataFixes::AccountDeltas A AccountDeltas with deltas of -100 and another of 50 should return 150 abs_sum","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":72,"run_time":0.003309106,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:3:4]","description":"should return 100 abs_max","full_description":"DataMigrations::DataFixes::AccountDeltas A AccountDeltas with deltas of -100 and another of 50 should return 100 abs_max","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":76,"run_time":0.003687544,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:3:5]","description":"should return -50 net_sum","full_description":"DataMigrations::DataFixes::AccountDeltas A AccountDeltas with deltas of -100 and another of 50 should return -50 net_sum","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":80,"run_time":0.00334829,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:3:6:1]","description":"should say it has a delta","full_description":"DataMigrations::DataFixes::AccountDeltas A AccountDeltas with deltas of -100 and another of 50 added to another with deltas of 50 and -200 should say it has a delta","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":89,"run_time":0.003349017,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:3:6:2]","description":"should return 4 deltas","full_description":"DataMigrations::DataFixes::AccountDeltas A AccountDeltas with deltas of -100 and another of 50 added to another with deltas of 50 and -200 should return 4 deltas","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":93,"run_time":0.002526183,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:3:6:3]","description":"should return 400 abs_sum","full_description":"DataMigrations::DataFixes::AccountDeltas A AccountDeltas with deltas of -100 and another of 50 added to another with deltas of 50 and -200 should return 400 abs_sum","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":97,"run_time":0.002947153,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:3:6:4]","description":"should return 200 abs_max","full_description":"DataMigrations::DataFixes::AccountDeltas A AccountDeltas with deltas of -100 and another of 50 added to another with deltas of 50 and -200 should return 200 abs_max","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":101,"run_time":0.00244718,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:3:6:5]","description":"should return -50 net_sum","full_description":"DataMigrations::DataFixes::AccountDeltas A AccountDeltas with deltas of -100 and another of 50 added to another with deltas of 50 and -200 should return -50 net_sum","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":105,"run_time":0.002809769,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:3:7:1]","description":"should say it has a delta","full_description":"DataMigrations::DataFixes::AccountDeltas A AccountDeltas with deltas of -100 and another of 50 subtracting another with deltas of 50 in a new account and -200 in an existing account should say it has a delta","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":115,"run_time":0.002770873,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:3:7:2]","description":"should return 3 deltas","full_description":"DataMigrations::DataFixes::AccountDeltas A AccountDeltas with deltas of -100 and another of 50 subtracting another with deltas of 50 in a new account and -200 in an existing account should return 3 deltas","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":119,"run_time":0.00262009,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:3:7:3]","description":"should return 200 abs_sum","full_description":"DataMigrations::DataFixes::AccountDeltas A AccountDeltas with deltas of -100 and another of 50 subtracting another with deltas of 50 in a new account and -200 in an existing account should return 200 abs_sum","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":123,"run_time":0.002657422,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:3:7:4]","description":"should return 100 abs_max","full_description":"DataMigrations::DataFixes::AccountDeltas A AccountDeltas with deltas of -100 and another of 50 subtracting another with deltas of 50 in a new account and -200 in an existing account should return 100 abs_max","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":127,"run_time":0.002789674,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:3:7:5]","description":"should return 100 net_sum","full_description":"DataMigrations::DataFixes::AccountDeltas A AccountDeltas with deltas of -100 and another of 50 subtracting another with deltas of 50 in a new account and -200 in an existing account should return 100 net_sum","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":131,"run_time":0.002856974,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:4:1]","description":"should have the correct date and code for its delta","full_description":"DataMigrations::DataFixes::AccountDeltas the daily account deltas for a ledger should have the correct date and code for its delta","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":143,"run_time":0.00288303,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:4:2]","description":"should convert to the correct yearly account delta","full_description":"DataMigrations::DataFixes::AccountDeltas the daily account deltas for a ledger should convert to the correct yearly account delta","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":148,"run_time":0.097238197,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:5:1]","description":"should have the correct dates and codes for its delta","full_description":"DataMigrations::DataFixes::AccountDeltas the daily account deltas with two ledgers should have the correct dates and codes for its delta","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":170,"run_time":0.005413275,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:5:2]","description":"should convert to the correct yearly account delta","full_description":"DataMigrations::DataFixes::AccountDeltas the daily account deltas with two ledgers should convert to the correct yearly account delta","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":178,"run_time":0.111784203,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:5:3]","description":"should only include changes on or before max date when converted to yearly account deltas","full_description":"DataMigrations::DataFixes::AccountDeltas the daily account deltas with two ledgers should only include changes on or before max date when converted to yearly account deltas","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":191,"run_time":0.103522295,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:5:4]","description":"should only include changes on or after the freeagent start date when converted to yearly account deltas","full_description":"DataMigrations::DataFixes::AccountDeltas the daily account deltas with two ledgers should only include changes on or after the freeagent start date when converted to yearly account deltas","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":203,"run_time":0.08020124,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:6:1]","description":"should have the correct date and code for its delta","full_description":"DataMigrations::DataFixes::AccountDeltas the daily account deltas with two ledgers for the same code and day should have the correct date and code for its delta","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":224,"run_time":0.004296,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:7:1]","description":"includes entries dated on or after the from date and on or before the to date","full_description":"DataMigrations::DataFixes::AccountDeltas#filter_by_date includes entries dated on or after the from date and on or before the to date","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":233,"run_time":0.003113523,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:7:2]","description":"treats a nil from date as open ended","full_description":"DataMigrations::DataFixes::AccountDeltas#filter_by_date treats a nil from date as open ended","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":252,"run_time":0.002776985,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:7:3]","description":"treats a nil to date as open ended","full_description":"DataMigrations::DataFixes::AccountDeltas#filter_by_date treats a nil to date as open ended","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":266,"run_time":0.002496297,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:7:4]","description":"excludes entries with no date","full_description":"DataMigrations::DataFixes::AccountDeltas#filter_by_date excludes entries with no date","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":280,"run_time":0.00241373,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:8:1]","description":"combines deltas inside a period, using the end date of the period","full_description":"DataMigrations::DataFixes::AccountDeltas#combine_by_period combines deltas inside a period, using the end date of the period","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":289,"run_time":0.002603211,"pending_message":null,"screenshot":null},{"id":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb[1:8:2]","description":"raises an error if a delta date falls outside of the given periods","full_description":"DataMigrations::DataFixes::AccountDeltas#combine_by_period raises an error if a delta date falls outside of the given periods","status":"passed","file_path":"./spec/models/data_migrations/data_fixes/account_deltas_spec.rb","line_number":316,"run_time":0.002819394,"pending_message":null,"screenshot":null},{"id":"./spec/policies/contacts/recurring_invoice_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Contacts::RecurringInvoicePolicy a user with permission level below ESTIMATES_AND_INVOICES is expected to equal false","status":"passed","file_path":"./spec/policies/contacts/recurring_invoice_policy_spec.rb","line_number":13,"run_time":0.009675982,"pending_message":null,"screenshot":null},{"id":"./spec/policies/contacts/recurring_invoice_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Contacts::RecurringInvoicePolicy a user with permission level ESTIMATES_AND_INVOICES is expected to equal true","status":"passed","file_path":"./spec/policies/contacts/recurring_invoice_policy_spec.rb","line_number":22,"run_time":0.008175559,"pending_message":null,"screenshot":null},{"id":"./spec/policies/contacts/recurring_invoice_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Contacts::RecurringInvoicePolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/contacts/recurring_invoice_policy_spec.rb","line_number":31,"run_time":0.055307756,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/email_marketing/account_manager_delete_job_spec.rb[1:1:1]","description":"sends the event to Salesforce","full_description":"EmailMarketing::AccountManagerDeleteJob#perform sends the event to Salesforce","status":"passed","file_path":"./spec/jobs/email_marketing/account_manager_delete_job_spec.rb","line_number":10,"run_time":0.035295682,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/email_marketing/account_manager_delete_job_spec.rb[1:1:2:1]","description":"retries the job","full_description":"EmailMarketing::AccountManagerDeleteJob#perform when an event sync error is raised retries the job","status":"passed","file_path":"./spec/jobs/email_marketing/account_manager_delete_job_spec.rb","line_number":24,"run_time":0.036018834,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/api/attachments_helper_spec.rb[1:1:1]","description":"responds with the correct url expiry time","full_description":"Api::AttachmentsHelper GET the attachment responds with the correct url expiry time","status":"passed","file_path":"./spec/helpers/api/attachments_helper_spec.rb","line_number":7,"run_time":0.011615911,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/api/attachments_helper_spec.rb[1:1:2]","description":"responds with nil for missing date and duration fields","full_description":"Api::AttachmentsHelper GET the attachment responds with nil for missing date and duration fields","status":"passed","file_path":"./spec/helpers/api/attachments_helper_spec.rb","line_number":12,"run_time":0.009922795,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/api/attachments_helper_spec.rb[1:1:3]","description":"responds with nil for present date but missing duration fields","full_description":"Api::AttachmentsHelper GET the attachment responds with nil for present date but missing duration fields","status":"passed","file_path":"./spec/helpers/api/attachments_helper_spec.rb","line_number":17,"run_time":0.009870393,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/api/attachments_helper_spec.rb[1:1:4]","description":"responds with nil for missing date but present duration fields","full_description":"Api::AttachmentsHelper GET the attachment responds with nil for missing date but present duration fields","status":"passed","file_path":"./spec/helpers/api/attachments_helper_spec.rb","line_number":22,"run_time":0.009975759,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/api/attachments_helper_spec.rb[1:1:5]","description":"responds with nil for invalid date but valid duration fields","full_description":"Api::AttachmentsHelper GET the attachment responds with nil for invalid date but valid duration fields","status":"passed","file_path":"./spec/helpers/api/attachments_helper_spec.rb","line_number":27,"run_time":0.009727391,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/api/attachments_helper_spec.rb[1:1:6]","description":"responds with nil for valid date but invalid duration fields","full_description":"Api::AttachmentsHelper GET the attachment responds with nil for valid date but invalid duration fields","status":"passed","file_path":"./spec/helpers/api/attachments_helper_spec.rb","line_number":32,"run_time":0.00960405,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/api/attachments_helper_spec.rb[1:1:7]","description":"responds with nil for missing parameter values","full_description":"Api::AttachmentsHelper GET the attachment responds with nil for missing parameter values","status":"passed","file_path":"./spec/helpers/api/attachments_helper_spec.rb","line_number":37,"run_time":0.009806348,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/components/line_items/net_salary_expense_component_spec.rb[1:1:1:1]","description":"returns the description of the bank_account_entry","full_description":"Cashflow::Components::LineItems::NetSalaryExpenseComponent behaves like Line item #title returns the description of the bank_account_entry","status":"passed","file_path":"./spec/shared/cashflow/line_item_shared_examples.rb","line_number":21,"run_time":0.018778331,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/components/line_items/net_salary_expense_component_spec.rb[1:1:2:1]","description":"returns 'Net salary expense'","full_description":"Cashflow::Components::LineItems::NetSalaryExpenseComponent behaves like Line item #meta returns 'Net salary expense'","status":"passed","file_path":"./spec/shared/cashflow/line_item_shared_examples.rb","line_number":27,"run_time":0.010165377,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/components/line_items/net_salary_expense_component_spec.rb[1:1:3:1]","description":"returns the correct status","full_description":"Cashflow::Components::LineItems::NetSalaryExpenseComponent behaves like Line item #status returns the correct status","status":"passed","file_path":"./spec/shared/cashflow/line_item_shared_examples.rb","line_number":33,"run_time":0.010377181,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/components/line_items/net_salary_expense_component_spec.rb[1:1:4:1]","description":"returns true","full_description":"Cashflow::Components::LineItems::NetSalaryExpenseComponent behaves like Line item #recurring? returns true","status":"passed","file_path":"./spec/shared/cashflow/line_item_shared_examples.rb","line_number":43,"run_time":0.009793463,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/components/line_items/net_salary_expense_component_spec.rb[1:1:5:1]","description":"returns true","full_description":"Cashflow::Components::LineItems::NetSalaryExpenseComponent behaves like Line item #predicted? returns true","status":"passed","file_path":"./spec/shared/cashflow/line_item_shared_examples.rb","line_number":49,"run_time":0.009997205,"pending_message":null,"screenshot":null},{"id":"./spec/policies/subscription_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"SubscriptionPolicy a user with permission level below TAX_AND_LIMITED_ACCOUNTING is expected to equal false","status":"passed","file_path":"./spec/policies/subscription_policy_spec.rb","line_number":14,"run_time":0.008236358,"pending_message":null,"screenshot":null},{"id":"./spec/policies/subscription_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"SubscriptionPolicy a user with permission level TAX_AND_LIMITED_ACCOUNTING is expected to equal true","status":"passed","file_path":"./spec/policies/subscription_policy_spec.rb","line_number":23,"run_time":0.007875384,"pending_message":null,"screenshot":null},{"id":"./spec/policies/subscription_policy_spec.rb[1:3:1]","description":"is expected to equal false","full_description":"SubscriptionPolicy an account manager is expected to equal false","status":"passed","file_path":"./spec/policies/subscription_policy_spec.rb","line_number":32,"run_time":0.059748917,"pending_message":null,"screenshot":null},{"id":"./spec/policies/getting_started/setup_search_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"GettingStarted::SetupSearchPolicy a user with permission level below FULL_ACCESS is expected to equal false","status":"passed","file_path":"./spec/policies/getting_started/setup_search_policy_spec.rb","line_number":13,"run_time":0.011609121,"pending_message":null,"screenshot":null},{"id":"./spec/policies/getting_started/setup_search_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"GettingStarted::SetupSearchPolicy a user with permission level FULL_ACCESS is expected to equal true","status":"passed","file_path":"./spec/policies/getting_started/setup_search_policy_spec.rb","line_number":22,"run_time":0.010773135,"pending_message":null,"screenshot":null},{"id":"./spec/policies/getting_started/setup_search_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"GettingStarted::SetupSearchPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/getting_started/setup_search_policy_spec.rb","line_number":31,"run_time":0.05832558,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/inline/seeder/payroll_profile_spec.rb[1:1:1]","description":"should return true if user doesn't have a payroll profile for the year","full_description":"Admin::Inline::Seeder::PayrollProfile#available? should return true if user doesn't have a payroll profile for the year","status":"passed","file_path":"./spec/models/admin/inline/seeder/payroll_profile_spec.rb","line_number":13,"run_time":0.02270551,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/inline/seeder/payroll_profile_spec.rb[1:2:1]","description":"should create payroll profile","full_description":"Admin::Inline::Seeder::PayrollProfile#seed should create payroll profile","status":"passed","file_path":"./spec/models/admin/inline/seeder/payroll_profile_spec.rb","line_number":19,"run_time":0.038281562,"pending_message":null,"screenshot":null},{"id":"./spec/policies/estimates/project_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Estimates::ProjectPolicy a user with permission level below ESTIMATES_AND_INVOICES is expected to equal false","status":"passed","file_path":"./spec/policies/estimates/project_policy_spec.rb","line_number":13,"run_time":0.008449956,"pending_message":null,"screenshot":null},{"id":"./spec/policies/estimates/project_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Estimates::ProjectPolicy a user with permission level ESTIMATES_AND_INVOICES is expected to equal true","status":"passed","file_path":"./spec/policies/estimates/project_policy_spec.rb","line_number":22,"run_time":0.007993079,"pending_message":null,"screenshot":null},{"id":"./spec/policies/estimates/project_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Estimates::ProjectPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/estimates/project_policy_spec.rb","line_number":31,"run_time":0.053091513,"pending_message":null,"screenshot":null},{"id":"./spec/policies/payroll/profile_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Payroll::ProfilePolicy a user with permission level below FULL_ACCESS is expected to equal false","status":"passed","file_path":"./spec/policies/payroll/profile_policy_spec.rb","line_number":18,"run_time":0.008195653,"pending_message":null,"screenshot":null},{"id":"./spec/policies/payroll/profile_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Payroll::ProfilePolicy a user with permission level FULL_ACCESS is expected to equal true","status":"passed","file_path":"./spec/policies/payroll/profile_policy_spec.rb","line_number":32,"run_time":0.007649881,"pending_message":null,"screenshot":null},{"id":"./spec/policies/payroll/profile_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Payroll::ProfilePolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/payroll/profile_policy_spec.rb","line_number":46,"run_time":0.056326517,"pending_message":null,"screenshot":null},{"id":"./spec/policies/mobile/overview_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Mobile::OverviewPolicy a user with permission level below TIME is expected to equal false","status":"passed","file_path":"./spec/policies/mobile/overview_policy_spec.rb","line_number":15,"run_time":0.00810166,"pending_message":null,"screenshot":null},{"id":"./spec/policies/mobile/overview_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Mobile::OverviewPolicy a user with permission level TIME is expected to equal true","status":"passed","file_path":"./spec/policies/mobile/overview_policy_spec.rb","line_number":25,"run_time":0.007692571,"pending_message":null,"screenshot":null},{"id":"./spec/policies/mobile/overview_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Mobile::OverviewPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/mobile/overview_policy_spec.rb","line_number":35,"run_time":0.049819392,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/part_refunded.feature[1:1:1]","description":"Given a uk sole trader -\u003e And a credit note: part refunded -\u003e Given VAT settings: Not registered -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Part Paid Invoice No VAT Given a uk sole trader -\u003e And a credit note: part refunded -\u003e Given VAT settings: Not registered -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/part_refunded.feature","line_number":6,"run_time":0.023326182,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/part_refunded.feature[1:2:1]","description":"Given a uk sole trader -\u003e And a credit note: part refunded -\u003e Given VAT settings: Not registered, then Any basis, not FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Part Paid Invoice No VAT Given a uk sole trader -\u003e And a credit note: part refunded -\u003e Given VAT settings: Not registered, then Any basis, not FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/part_refunded.feature","line_number":6,"run_time":0.01715967,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/part_refunded.feature[1:3:1]","description":"Given a uk sole trader -\u003e And a credit note: part refunded -\u003e Given VAT settings: Not registered, then Any basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Part Paid Invoice No VAT Given a uk sole trader -\u003e And a credit note: part refunded -\u003e Given VAT settings: Not registered, then Any basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/part_refunded.feature","line_number":6,"run_time":0.015237671,"pending_message":null,"screenshot":null},{"id":"./spec/policies/settings/support_access_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Settings::SupportAccessPolicy a user with permission level below TIME is expected to equal false","status":"passed","file_path":"./spec/policies/settings/support_access_policy_spec.rb","line_number":15,"run_time":0.010219583,"pending_message":null,"screenshot":null},{"id":"./spec/policies/settings/support_access_policy_spec.rb[1:2:1]","description":"is expected to equal false","full_description":"Settings::SupportAccessPolicy a user with permission level TIME is expected to equal false","status":"passed","file_path":"./spec/policies/settings/support_access_policy_spec.rb","line_number":25,"run_time":0.007677853,"pending_message":null,"screenshot":null},{"id":"./spec/policies/settings/support_access_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Settings::SupportAccessPolicy a user with permission level TAX_AND_LIMITED_ACCOUNTING is expected to equal true","status":"passed","file_path":"./spec/policies/settings/support_access_policy_spec.rb","line_number":35,"run_time":0.008264754,"pending_message":null,"screenshot":null},{"id":"./spec/policies/settings/support_access_policy_spec.rb[1:4:1]","description":"is expected to equal true","full_description":"Settings::SupportAccessPolicy a user with permission level FULL_ACCESS is expected to equal true","status":"passed","file_path":"./spec/policies/settings/support_access_policy_spec.rb","line_number":45,"run_time":0.007984374,"pending_message":null,"screenshot":null},{"id":"./spec/policies/settings/support_access_policy_spec.rb[1:5:1]","description":"is expected to equal true","full_description":"Settings::SupportAccessPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/settings/support_access_policy_spec.rb","line_number":55,"run_time":0.047547039,"pending_message":null,"screenshot":null},{"id":"./spec/policies/accounting/customer_sale_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Accounting::CustomerSalePolicy a user with permission level below TAX_AND_LIMITED_ACCOUNTING is expected to equal false","status":"passed","file_path":"./spec/policies/accounting/customer_sale_policy_spec.rb","line_number":13,"run_time":0.007831431,"pending_message":null,"screenshot":null},{"id":"./spec/policies/accounting/customer_sale_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Accounting::CustomerSalePolicy a user with permission level TAX_AND_LIMITED_ACCOUNTING is expected to equal true","status":"passed","file_path":"./spec/policies/accounting/customer_sale_policy_spec.rb","line_number":22,"run_time":0.007286111,"pending_message":null,"screenshot":null},{"id":"./spec/policies/accounting/customer_sale_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Accounting::CustomerSalePolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/accounting/customer_sale_policy_spec.rb","line_number":31,"run_time":0.048130632,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:141:2:2:1:1]","description":"returns the company's default theme","full_description":"Invoice#theme with theme_customisation_circuit_breaker broken with a custom theme configured when the company has a gallery theme as default returns the company's default theme","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":4569,"run_time":0.077523212,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/search_engine_indexable_config_spec.rb[1:1:1]","description":"contains all the classes realized into objects that include the Search::Indexable module","full_description":"SearchEngine indexable config Search::Indexable.included_into contains all the classes realized into objects that include the Search::Indexable module","status":"passed","file_path":"./spec/models/search/search_engine_indexable_config_spec.rb","line_number":12,"run_time":0.011031897,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/search_engine_indexable_config_spec.rb[1:1:2]","description":"should have indexable properties for all fields","full_description":"SearchEngine indexable config Search::Indexable.included_into should have indexable properties for all fields","status":"passed","file_path":"./spec/models/search/search_engine_indexable_config_spec.rb","line_number":16,"run_time":0.127815822,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/search_engine_indexable_config_spec.rb[1:2:1]","description":"contains the classes realized into objects that belong to a company","full_description":"SearchEngine indexable config Search::Indexable.included_into_company_scoped contains the classes realized into objects that belong to a company","status":"passed","file_path":"./spec/models/search/search_engine_indexable_config_spec.rb","line_number":31,"run_time":0.004585647,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/credit_notes/send_email_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Api::CreditNotes::SendEmailPolicy a user with permission level below ESTIMATES_AND_INVOICES is expected to equal false","status":"passed","file_path":"./spec/policies/api/credit_notes/send_email_policy_spec.rb","line_number":13,"run_time":0.010342001,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/credit_notes/send_email_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Api::CreditNotes::SendEmailPolicy a user with permission level ESTIMATES_AND_INVOICES is expected to equal true","status":"passed","file_path":"./spec/policies/api/credit_notes/send_email_policy_spec.rb","line_number":22,"run_time":0.007986717,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/credit_notes/send_email_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Api::CreditNotes::SendEmailPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/api/credit_notes/send_email_policy_spec.rb","line_number":31,"run_time":0.053371805,"pending_message":null,"screenshot":null},{"id":"./spec/policies/contacts/project_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Contacts::ProjectPolicy a user with permission level below CONTACTS_AND_PROJECTS is expected to equal false","status":"passed","file_path":"./spec/policies/contacts/project_policy_spec.rb","line_number":13,"run_time":0.00877253,"pending_message":null,"screenshot":null},{"id":"./spec/policies/contacts/project_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Contacts::ProjectPolicy a user with permission level CONTACTS_AND_PROJECTS is expected to equal true","status":"passed","file_path":"./spec/policies/contacts/project_policy_spec.rb","line_number":22,"run_time":0.008384025,"pending_message":null,"screenshot":null},{"id":"./spec/policies/contacts/project_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Contacts::ProjectPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/contacts/project_policy_spec.rb","line_number":31,"run_time":0.051724976,"pending_message":null,"screenshot":null},{"id":"./spec/models/multivariate/experiment/base_spec.rb[1:1]","description":"should complain if instantiated directly","full_description":"Multivariate::Experiment::Base should complain if instantiated directly","status":"passed","file_path":"./spec/models/multivariate/experiment/base_spec.rb","line_number":46,"run_time":0.005100547,"pending_message":null,"screenshot":null},{"id":"./spec/models/multivariate/experiment/base_spec.rb[1:2]","description":"should not complain if extended and instantiated","full_description":"Multivariate::Experiment::Base should not complain if extended and instantiated","status":"passed","file_path":"./spec/models/multivariate/experiment/base_spec.rb","line_number":50,"run_time":0.006188158,"pending_message":null,"screenshot":null},{"id":"./spec/models/multivariate/experiment/base_spec.rb[1:3]","description":"should provide a simple class interface to define cohorts","full_description":"Multivariate::Experiment::Base should provide a simple class interface to define cohorts","status":"passed","file_path":"./spec/models/multivariate/experiment/base_spec.rb","line_number":54,"run_time":0.00282784,"pending_message":null,"screenshot":null},{"id":"./spec/models/multivariate/experiment/base_spec.rb[1:4]","description":"should ensure subclasses shield cohorts and participation strategies from each other","full_description":"Multivariate::Experiment::Base should ensure subclasses shield cohorts and participation strategies from each other","status":"passed","file_path":"./spec/models/multivariate/experiment/base_spec.rb","line_number":58,"run_time":0.002408935,"pending_message":null,"screenshot":null},{"id":"./spec/models/multivariate/experiment/base_spec.rb[1:5]","description":"should provide a simple class interface to register participation strategies","full_description":"Multivariate::Experiment::Base should provide a simple class interface to register participation strategies","status":"passed","file_path":"./spec/models/multivariate/experiment/base_spec.rb","line_number":65,"run_time":0.00263782,"pending_message":null,"screenshot":null},{"id":"./spec/models/multivariate/experiment/base_spec.rb[1:6]","description":"should select one of the given cohorts for a participant","full_description":"Multivariate::Experiment::Base should select one of the given cohorts for a participant","status":"passed","file_path":"./spec/models/multivariate/experiment/base_spec.rb","line_number":71,"run_time":0.004747368,"pending_message":null,"screenshot":null},{"id":"./spec/models/multivariate/experiment/base_spec.rb[1:7]","description":"should reject any attempt to collide cohort names and excluded cohort name","full_description":"Multivariate::Experiment::Base should reject any attempt to collide cohort names and excluded cohort name","status":"passed","file_path":"./spec/models/multivariate/experiment/base_spec.rb","line_number":76,"run_time":0.002939932,"pending_message":null,"screenshot":null},{"id":"./spec/models/multivariate/experiment/base_spec.rb[1:8:1]","description":"should return the cohort name when the participant is enrolled into one","full_description":"Multivariate::Experiment::Base#get_existing_cohort should return the cohort name when the participant is enrolled into one","status":"passed","file_path":"./spec/models/multivariate/experiment/base_spec.rb","line_number":89,"run_time":0.006978317,"pending_message":null,"screenshot":null},{"id":"./spec/models/multivariate/experiment/base_spec.rb[1:8:2]","description":"should return nil when the participant is not enrolled into a cohort","full_description":"Multivariate::Experiment::Base#get_existing_cohort should return nil when the participant is not enrolled into a cohort","status":"passed","file_path":"./spec/models/multivariate/experiment/base_spec.rb","line_number":94,"run_time":0.002651562,"pending_message":null,"screenshot":null},{"id":"./spec/models/multivariate/experiment/base_spec.rb[1:9:1]","description":"should respect experiment-defined exclusions","full_description":"Multivariate::Experiment::Base with a participation strategy should respect experiment-defined exclusions","status":"passed","file_path":"./spec/models/multivariate/experiment/base_spec.rb","line_number":100,"run_time":0.002954685,"pending_message":null,"screenshot":null},{"id":"./spec/models/multivariate/experiment/base_spec.rb[1:9:2]","description":"should be able to identify excluded cohort names","full_description":"Multivariate::Experiment::Base with a participation strategy should be able to identify excluded cohort names","status":"passed","file_path":"./spec/models/multivariate/experiment/base_spec.rb","line_number":104,"run_time":0.002721518,"pending_message":null,"screenshot":null},{"id":"./spec/models/multivariate/experiment/base_spec.rb[1:9:3]","description":"should reflect subsequent exclusions in existing cohort assignments","full_description":"Multivariate::Experiment::Base with a participation strategy should reflect subsequent exclusions in existing cohort assignments","status":"passed","file_path":"./spec/models/multivariate/experiment/base_spec.rb","line_number":113,"run_time":0.005201423,"pending_message":null,"screenshot":null},{"id":"./spec/models/multivariate/experiment/base_spec.rb[1:9:4]","description":"should only reflect subsequent exclusions in existing cohort assignments for non-excluded cohorts","full_description":"Multivariate::Experiment::Base with a participation strategy should only reflect subsequent exclusions in existing cohort assignments for non-excluded cohorts","status":"passed","file_path":"./spec/models/multivariate/experiment/base_spec.rb","line_number":118,"run_time":0.005632295,"pending_message":null,"screenshot":null},{"id":"./spec/models/multivariate/experiment/base_spec.rb[1:9:5]","description":"should only reflect subsequent exclusions in existing cohort assignments once","full_description":"Multivariate::Experiment::Base with a participation strategy should only reflect subsequent exclusions in existing cohort assignments once","status":"passed","file_path":"./spec/models/multivariate/experiment/base_spec.rb","line_number":123,"run_time":0.005156142,"pending_message":null,"screenshot":null},{"id":"./spec/models/multivariate/experiment/base_spec.rb[1:9:6]","description":"should provide a callback hook for code to run after successful enrolment","full_description":"Multivariate::Experiment::Base with a participation strategy should provide a callback hook for code to run after successful enrolment","status":"passed","file_path":"./spec/models/multivariate/experiment/base_spec.rb","line_number":128,"run_time":0.015574661,"pending_message":null,"screenshot":null},{"id":"./spec/models/multivariate/experiment/base_spec.rb[1:9:7]","description":"should not invoke an after_enrolment callback after failed enrolment","full_description":"Multivariate::Experiment::Base with a participation strategy should not invoke an after_enrolment callback after failed enrolment","status":"passed","file_path":"./spec/models/multivariate/experiment/base_spec.rb","line_number":136,"run_time":0.00477945,"pending_message":null,"screenshot":null},{"id":"./spec/policies/bank_transactions/search_suggestion_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"BankTransactions::SearchSuggestionPolicy a user with permission level below BANKING is expected to equal false","status":"passed","file_path":"./spec/policies/bank_transactions/search_suggestion_policy_spec.rb","line_number":14,"run_time":0.009111893,"pending_message":null,"screenshot":null},{"id":"./spec/policies/bank_transactions/search_suggestion_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"BankTransactions::SearchSuggestionPolicy a user with permission level BANKING is expected to equal true","status":"passed","file_path":"./spec/policies/bank_transactions/search_suggestion_policy_spec.rb","line_number":23,"run_time":0.007112334,"pending_message":null,"screenshot":null},{"id":"./spec/policies/bank_transactions/search_suggestion_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"BankTransactions::SearchSuggestionPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/bank_transactions/search_suggestion_policy_spec.rb","line_number":32,"run_time":0.046520477,"pending_message":null,"screenshot":null},{"id":"./spec/policies/payroll/ni_category_value_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Payroll::NiCategoryValuePolicy a user with permission level below FULL_ACCESS is expected to equal false","status":"passed","file_path":"./spec/policies/payroll/ni_category_value_policy_spec.rb","line_number":14,"run_time":0.007983344,"pending_message":null,"screenshot":null},{"id":"./spec/policies/payroll/ni_category_value_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Payroll::NiCategoryValuePolicy a user with permission level FULL_ACCESS is expected to equal true","status":"passed","file_path":"./spec/policies/payroll/ni_category_value_policy_spec.rb","line_number":24,"run_time":0.007486327,"pending_message":null,"screenshot":null},{"id":"./spec/policies/payroll/ni_category_value_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Payroll::NiCategoryValuePolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/payroll/ni_category_value_policy_spec.rb","line_number":34,"run_time":0.046091991,"pending_message":null,"screenshot":null},{"id":"./spec/policies/mtd_itsa/tax_year_value_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"MTDITSA::TaxYearValuePolicy a user with permission level below TAX_AND_LIMITED_ACCOUNTING is expected to equal false","status":"passed","file_path":"./spec/policies/mtd_itsa/tax_year_value_policy_spec.rb","line_number":15,"run_time":0.008060187,"pending_message":null,"screenshot":null},{"id":"./spec/policies/mtd_itsa/tax_year_value_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"MTDITSA::TaxYearValuePolicy a user with permission level TAX_AND_LIMITED_ACCOUNTING is expected to equal true","status":"passed","file_path":"./spec/policies/mtd_itsa/tax_year_value_policy_spec.rb","line_number":25,"run_time":0.007211702,"pending_message":null,"screenshot":null},{"id":"./spec/policies/mtd_itsa/tax_year_value_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"MTDITSA::TaxYearValuePolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/mtd_itsa/tax_year_value_policy_spec.rb","line_number":35,"run_time":0.048415212,"pending_message":null,"screenshot":null},{"id":"./spec/policies/vat_return_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"VatReturnPolicy a user with permission level below TAX_AND_LIMITED_ACCOUNTING is expected to equal false","status":"passed","file_path":"./spec/policies/vat_return_policy_spec.rb","line_number":18,"run_time":0.007708234,"pending_message":null,"screenshot":null},{"id":"./spec/policies/vat_return_policy_spec.rb[1:2:1]","description":"is expected to equal false","full_description":"VatReturnPolicy a user with permission level TAX_AND_LIMITED_ACCOUNTING is expected to equal false","status":"passed","file_path":"./spec/policies/vat_return_policy_spec.rb","line_number":32,"run_time":0.007187222,"pending_message":null,"screenshot":null},{"id":"./spec/policies/vat_return_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"VatReturnPolicy a user with permission level FULL_ACCESS is expected to equal true","status":"passed","file_path":"./spec/policies/vat_return_policy_spec.rb","line_number":46,"run_time":0.006253177,"pending_message":null,"screenshot":null},{"id":"./spec/policies/vat_return_policy_spec.rb[1:4:1]","description":"is expected to equal true","full_description":"VatReturnPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/vat_return_policy_spec.rb","line_number":60,"run_time":0.044814194,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/disable_recurring_invoice_emails_job_spec.rb[1:1:1:1]","description":"sets send_new_invoice_emails to false","full_description":"DisableRecurringInvoiceEmailsJob#perform when the contact has a recurring invoice that emails sets send_new_invoice_emails to false","status":"passed","file_path":"./spec/jobs/disable_recurring_invoice_emails_job_spec.rb","line_number":14,"run_time":0.029875806,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/disable_recurring_invoice_emails_job_spec.rb[1:1:1:2]","description":"logs info for the change to recurring invoice profile","full_description":"DisableRecurringInvoiceEmailsJob#perform when the contact has a recurring invoice that emails logs info for the change to recurring invoice profile","status":"passed","file_path":"./spec/jobs/disable_recurring_invoice_emails_job_spec.rb","line_number":20,"run_time":0.025154589,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/credit_note_reconciliation_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Api::CreditNoteReconciliationPolicy a user with permission level below ESTIMATES_AND_INVOICES is expected to equal false","status":"passed","file_path":"./spec/policies/api/credit_note_reconciliation_policy_spec.rb","line_number":18,"run_time":0.008088421,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/credit_note_reconciliation_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Api::CreditNoteReconciliationPolicy a user with permission level ESTIMATES_AND_INVOICES is expected to equal true","status":"passed","file_path":"./spec/policies/api/credit_note_reconciliation_policy_spec.rb","line_number":32,"run_time":0.007351775,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/credit_note_reconciliation_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Api::CreditNoteReconciliationPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/api/credit_note_reconciliation_policy_spec.rb","line_number":46,"run_time":0.047178614,"pending_message":null,"screenshot":null},{"id":"./spec/policies/payroll/now_pensions_csv_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Payroll::NowPensionsCsvPolicy a user with permission level below TAX_AND_LIMITED_ACCOUNTING is expected to equal false","status":"passed","file_path":"./spec/policies/payroll/now_pensions_csv_policy_spec.rb","line_number":14,"run_time":0.007368644,"pending_message":null,"screenshot":null},{"id":"./spec/policies/payroll/now_pensions_csv_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Payroll::NowPensionsCsvPolicy a user with permission level TAX_AND_LIMITED_ACCOUNTING is expected to equal true","status":"passed","file_path":"./spec/policies/payroll/now_pensions_csv_policy_spec.rb","line_number":23,"run_time":0.006494901,"pending_message":null,"screenshot":null},{"id":"./spec/policies/payroll/now_pensions_csv_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Payroll::NowPensionsCsvPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/payroll/now_pensions_csv_policy_spec.rb","line_number":32,"run_time":0.046819759,"pending_message":null,"screenshot":null},{"id":"./spec/policies/expense_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"ExpensePolicy a user with permission level below MY_MONEY is expected to equal false","status":"passed","file_path":"./spec/policies/expense_policy_spec.rb","line_number":22,"run_time":0.008251293,"pending_message":null,"screenshot":null},{"id":"./spec/policies/expense_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"ExpensePolicy a user with permission level MY_MONEY is expected to equal true","status":"passed","file_path":"./spec/policies/expense_policy_spec.rb","line_number":40,"run_time":0.006849752,"pending_message":null,"screenshot":null},{"id":"./spec/policies/expense_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"ExpensePolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/expense_policy_spec.rb","line_number":58,"run_time":0.04521483,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_data/all_company_data/projects_spec.rb[1:1]","description":"has no nested data","full_description":"Exporter::ExportableData::AllCompanyData::Projects has no nested data","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_data/all_company_data/projects_spec.rb","line_number":9,"run_time":0.014288315,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_data/all_company_data/projects_spec.rb[1:2]","description":"returns the correct exportable type","full_description":"Exporter::ExportableData::AllCompanyData::Projects returns the correct exportable type","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_data/all_company_data/projects_spec.rb","line_number":13,"run_time":0.013309504,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_data/all_company_data/projects_spec.rb[1:3]","description":"operates on company's projects","full_description":"Exporter::ExportableData::AllCompanyData::Projects operates on company's projects","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_data/all_company_data/projects_spec.rb","line_number":17,"run_time":0.014097186,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_data/all_company_data/projects_spec.rb[1:4]","description":"sorts projects by contact","full_description":"Exporter::ExportableData::AllCompanyData::Projects sorts projects by contact","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_data/all_company_data/projects_spec.rb","line_number":21,"run_time":0.023390491,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/health_robinson/accountancy_practice_check_job_spec.rb[1:1:1]","description":"sends a message","full_description":"HealthRobinson::AccountancyPracticeCheckJob#perform when errors reported sends a message","status":"passed","file_path":"./spec/jobs/health_robinson/accountancy_practice_check_job_spec.rb","line_number":14,"run_time":0.035616178,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/health_robinson/accountancy_practice_check_job_spec.rb[1:2:1]","description":"doesn't send a message","full_description":"HealthRobinson::AccountancyPracticeCheckJob#perform when no error reported doesn't send a message","status":"passed","file_path":"./spec/jobs/health_robinson/accountancy_practice_check_job_spec.rb","line_number":23,"run_time":0.032278707,"pending_message":null,"screenshot":null}],"summary":{"duration":2.005435595,"example_count":542,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"542 examples, 0 failures"}