{"version":"3.11.0","messages":["Run options:\n  include {:ids=\u003e{\"./spec/models/uk_accounts_mapper_spec.rb\"=\u003e[\"1:1:2:2:1\"], \"./spec/controllers/invoices_controller_spec.rb\"=\u003e[\"12:5:2\"], \"./spec/models/invoice_spec.rb\"=\u003e[\"1:108:1:3:2\"]}}\n  exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:1:1:1:1]","description":"returns a category defined on the Insight model","full_description":"Radar::Insights::Rules::LatePayingCustomers behaves like an insight rule behaves like a ping rule #category returns a category defined on the Insight model","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":11,"run_time":0.296654642,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:1:1:2:1]","description":"returns a boolean","full_description":"Radar::Insights::Rules::LatePayingCustomers behaves like an insight rule behaves like a ping rule #send_notifications? returns a boolean","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":17,"run_time":0.003449357,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:1:2:1]","description":"has category Insight","full_description":"Radar::Insights::Rules::LatePayingCustomers behaves like an insight rule #category has category Insight","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rules/concerns/insight_category.rb","line_number":10,"run_time":0.224697566,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:2:1]","description":"includes all companies","full_description":"Radar::Insights::Rules::LatePayingCustomers behaves like an insight for all companies includes all companies","status":"passed","file_path":"./spec/support/shared_examples/insights_inscope_companies.rb","line_number":6,"run_time":1.168745318,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:3:1]","description":"does not generate an insight 0 months after the end of the accounting year","full_description":"Radar::Insights::Rules::LatePayingCustomers behaves like a calendar insight does not generate an insight 0 months after the end of the accounting year","status":"passed","file_path":"./spec/support/shared_examples/insights_calendar_rules.rb","line_number":14,"run_time":0.099130083,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:3:2]","description":"does not generate an insight 1 months after the end of the accounting year","full_description":"Radar::Insights::Rules::LatePayingCustomers behaves like a calendar insight does not generate an insight 1 months after the end of the accounting year","status":"passed","file_path":"./spec/support/shared_examples/insights_calendar_rules.rb","line_number":14,"run_time":0.111724661,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:3:3]","description":"generates an insight 2 months after the end of the accounting year","full_description":"Radar::Insights::Rules::LatePayingCustomers behaves like a calendar insight generates an insight 2 months after the end of the accounting year","status":"passed","file_path":"./spec/support/shared_examples/insights_calendar_rules.rb","line_number":7,"run_time":0.098294269,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:3:4]","description":"does not generate an insight 3 months after the end of the accounting year","full_description":"Radar::Insights::Rules::LatePayingCustomers behaves like a calendar insight does not generate an insight 3 months after the end of the accounting year","status":"passed","file_path":"./spec/support/shared_examples/insights_calendar_rules.rb","line_number":14,"run_time":0.090090633,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:3:5]","description":"does not generate an insight 4 months after the end of the accounting year","full_description":"Radar::Insights::Rules::LatePayingCustomers behaves like a calendar insight does not generate an insight 4 months after the end of the accounting year","status":"passed","file_path":"./spec/support/shared_examples/insights_calendar_rules.rb","line_number":14,"run_time":0.095582766,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:3:6]","description":"does not generate an insight 5 months after the end of the accounting year","full_description":"Radar::Insights::Rules::LatePayingCustomers behaves like a calendar insight does not generate an insight 5 months after the end of the accounting year","status":"passed","file_path":"./spec/support/shared_examples/insights_calendar_rules.rb","line_number":14,"run_time":0.091036166,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:3:7]","description":"does not generate an insight 6 months after the end of the accounting year","full_description":"Radar::Insights::Rules::LatePayingCustomers behaves like a calendar insight does not generate an insight 6 months after the end of the accounting year","status":"passed","file_path":"./spec/support/shared_examples/insights_calendar_rules.rb","line_number":14,"run_time":0.095409762,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:3:8]","description":"does not generate an insight 7 months after the end of the accounting year","full_description":"Radar::Insights::Rules::LatePayingCustomers behaves like a calendar insight does not generate an insight 7 months after the end of the accounting year","status":"passed","file_path":"./spec/support/shared_examples/insights_calendar_rules.rb","line_number":14,"run_time":0.108517784,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:3:9]","description":"generates an insight 8 months after the end of the accounting year","full_description":"Radar::Insights::Rules::LatePayingCustomers behaves like a calendar insight generates an insight 8 months after the end of the accounting year","status":"passed","file_path":"./spec/support/shared_examples/insights_calendar_rules.rb","line_number":7,"run_time":0.086082767,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:3:10]","description":"does not generate an insight 9 months after the end of the accounting year","full_description":"Radar::Insights::Rules::LatePayingCustomers behaves like a calendar insight does not generate an insight 9 months after the end of the accounting year","status":"passed","file_path":"./spec/support/shared_examples/insights_calendar_rules.rb","line_number":14,"run_time":0.087072659,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:3:11]","description":"does not generate an insight 10 months after the end of the accounting year","full_description":"Radar::Insights::Rules::LatePayingCustomers behaves like a calendar insight does not generate an insight 10 months after the end of the accounting year","status":"passed","file_path":"./spec/support/shared_examples/insights_calendar_rules.rb","line_number":14,"run_time":0.085810243,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:3:12]","description":"does not generate an insight 11 months after the end of the accounting year","full_description":"Radar::Insights::Rules::LatePayingCustomers behaves like a calendar insight does not generate an insight 11 months after the end of the accounting year","status":"passed","file_path":"./spec/support/shared_examples/insights_calendar_rules.rb","line_number":14,"run_time":0.092656959,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:3:13]","description":"generates insights on the last day of the month","full_description":"Radar::Insights::Rules::LatePayingCustomers behaves like a calendar insight generates insights on the last day of the month","status":"passed","file_path":"./spec/support/shared_examples/insights_calendar_rules.rb","line_number":23,"run_time":0.083586974,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:3:14]","description":"does not generate an insight on the first day of the month","full_description":"Radar::Insights::Rules::LatePayingCustomers behaves like a calendar insight does not generate an insight on the first day of the month","status":"passed","file_path":"./spec/support/shared_examples/insights_calendar_rules.rb","line_number":29,"run_time":0.095782892,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:4:1:1]","description":"returns eligible users to be notified","full_description":"Radar::Insights::Rules::LatePayingCustomers#notify_users behaves like notifier for users with level 7 and above returns eligible users to be notified","status":"passed","file_path":"./spec/support/shared_examples/insights_rules_permission_level_examples.rb","line_number":26,"run_time":0.05391936,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:4:1:2]","description":"does not return ineligible users to be notified","full_description":"Radar::Insights::Rules::LatePayingCustomers#notify_users behaves like notifier for users with level 7 and above does not return ineligible users to be notified","status":"passed","file_path":"./spec/support/shared_examples/insights_rules_permission_level_examples.rb","line_number":30,"run_time":0.039441409,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:5:1]","description":"contains the company id and report period end date","full_description":"Radar::Insights::Rules::LatePayingCustomers#key contains the company id and report period end date","status":"passed","file_path":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb","line_number":25,"run_time":0.084432526,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:6:1]","description":"returns true with no previous notifications","full_description":"Radar::Insights::Rules::LatePayingCustomers#should_notify? returns true with no previous notifications","status":"passed","file_path":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb","line_number":36,"run_time":0.100279401,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:6:2]","description":"returns false with previous notification within the last 6 months","full_description":"Radar::Insights::Rules::LatePayingCustomers#should_notify? returns false with previous notification within the last 6 months","status":"passed","file_path":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb","line_number":40,"run_time":0.110185998,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:6:3]","description":"returns true with previous notification more than 6 months ago","full_description":"Radar::Insights::Rules::LatePayingCustomers#should_notify? returns true with previous notification more than 6 months ago","status":"passed","file_path":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb","line_number":45,"run_time":0.122569379,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:7:1:1]","description":"returns false","full_description":"Radar::Insights::Rules::LatePayingCustomers#can_create_insight with no invoices paid in the last year returns false","status":"passed","file_path":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb","line_number":57,"run_time":0.452388792,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:7:2:1]","description":"returns false","full_description":"Radar::Insights::Rules::LatePayingCustomers#can_create_insight with only unpaid invoices in the last year returns false","status":"passed","file_path":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb","line_number":65,"run_time":0.181952705,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:7:3:1]","description":"returns false","full_description":"Radar::Insights::Rules::LatePayingCustomers#can_create_insight with only part paid invoices in the last year returns false","status":"passed","file_path":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb","line_number":73,"run_time":0.33049947,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:7:4:1]","description":"returns false","full_description":"Radar::Insights::Rules::LatePayingCustomers#can_create_insight with only paid credit notes in the last year returns false","status":"passed","file_path":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb","line_number":81,"run_time":0.406149412,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:7:5:1]","description":"returns false","full_description":"Radar::Insights::Rules::LatePayingCustomers#can_create_insight with only cancelled invoices in the last year returns false","status":"passed","file_path":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb","line_number":96,"run_time":0.208708904,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:8:1:1]","description":"returns false","full_description":"Radar::Insights::Rules::LatePayingCustomers not enough invoices paid per contact #can_create_insight? returns false","status":"passed","file_path":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb","line_number":119,"run_time":0.898669264,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:9:1:1]","description":"returns only late paying contacts","full_description":"Radar::Insights::Rules::LatePayingCustomers number of late paying contacts under insight limit #details returns only late paying contacts","status":"passed","file_path":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb","line_number":144,"run_time":2.385992517,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:9:2:1]","description":"returns true","full_description":"Radar::Insights::Rules::LatePayingCustomers number of late paying contacts under insight limit #can_create_insight? returns true","status":"passed","file_path":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb","line_number":156,"run_time":2.537194716,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:10:1:1]","description":"returns only limit number of contacts ordered correctly","full_description":"Radar::Insights::Rules::LatePayingCustomers with number of late paying contacts above insight limit #details returns only limit number of contacts ordered correctly","status":"passed","file_path":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb","line_number":191,"run_time":3.070733897,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:11:1:1:1]","description":"returns the category","full_description":"Radar::Insights::Rules::LatePayingCustomers with paid invoices behaves like a valid insight rule #category returns the category","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":14,"run_time":0.994223527,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:11:1:2:1]","description":"creates a new insight","full_description":"Radar::Insights::Rules::LatePayingCustomers with paid invoices behaves like a valid insight rule #evaluate creates a new insight","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":20,"run_time":1.095466445,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:11:1:2:2]","description":"persists insight details","full_description":"Radar::Insights::Rules::LatePayingCustomers with paid invoices behaves like a valid insight rule #evaluate persists insight details","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":28,"run_time":1.130899603,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:11:1:2:3]","description":"notifies users in the company","full_description":"Radar::Insights::Rules::LatePayingCustomers with paid invoices behaves like a valid insight rule #evaluate notifies users in the company","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":36,"run_time":0.963721678,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:11:1:3:1]","description":"creates a user insight notification for all notifiable users","full_description":"Radar::Insights::Rules::LatePayingCustomers with paid invoices behaves like a valid insight rule #notify creates a user insight notification for all notifiable users","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":44,"run_time":1.036738113,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[1:12:1:1]","description":"the correct generation event is published","full_description":"Radar::Insights::Rules::LatePayingCustomers event tracking on creation the correct generation event is published","status":"passed","file_path":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb","line_number":228,"run_time":0.099708307,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb[2:1:1]","description":"returns the right object shape","full_description":"Radar::Insights::FakeRules::LatePayingCustomers#details returns the right object shape","status":"passed","file_path":"./spec/models/radar/insights/rules/late_paying_customers_spec.rb","line_number":245,"run_time":0.116533468,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:1:1:2]","description":"with gross_value being a float","full_description":"Api::BankTransactionExplanationsController#create with `bank_account_id` (a manual entry) with gross_value being a float","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":62,"run_time":0.334022771,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:1:1:3]","description":"categories with escapable codes are not escaped in the API","full_description":"Api::BankTransactionExplanationsController#create with `bank_account_id` (a manual entry) categories with escapable codes are not escaped in the API","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":75,"run_time":0.188475757,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:1:1:4]","description":"explain as disposal of capital asset","full_description":"Api::BankTransactionExplanationsController#create with `bank_account_id` (a manual entry) explain as disposal of capital asset","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":92,"run_time":0.412287046,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:1:1:5]","description":"publishes the bank transaction explanation events","full_description":"Api::BankTransactionExplanationsController#create with `bank_account_id` (a manual entry) publishes the bank transaction explanation events","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":117,"run_time":0.191526479,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:1:1:6]","description":"publishes the BANK_TRANSACTION_EXPLANATION_CREATED event","full_description":"Api::BankTransactionExplanationsController#create with `bank_account_id` (a manual entry) publishes the BANK_TRANSACTION_EXPLANATION_CREATED event","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":138,"run_time":0.186937745,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:1:1:7]","description":"publishes a bank transaction created event","full_description":"Api::BankTransactionExplanationsController#create with `bank_account_id` (a manual entry) publishes a bank transaction created event","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":159,"run_time":0.169422633,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:1:1:1:1]","description":"string value is invalid","full_description":"Api::BankTransactionExplanationsController#create with `bank_account_id` (a manual entry) validating `dated_on` string value is invalid","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":41,"run_time":0.103861285,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:1:1:1:2]","description":"nil type is invalid","full_description":"Api::BankTransactionExplanationsController#create with `bank_account_id` (a manual entry) validating `dated_on` nil type is invalid","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":51,"run_time":0.098321046,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:1:1:8:1]","description":"publishes a bank transaction created event with the correct source","full_description":"Api::BankTransactionExplanationsController#create with `bank_account_id` (a manual entry) when request comes from the mobile app publishes a bank transaction created event with the correct source","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":178,"run_time":0.186148773,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:1:2:1:1]","description":"creates successfully when the dates of the transaction and explanation match","full_description":"Api::BankTransactionExplanationsController#create with `bank_transaction_id` for a non-manual transaction creates successfully when the dates of the transaction and explanation match","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":218,"run_time":0.192358987,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:1:2:1:2]","description":"logs the explanation parameters","full_description":"Api::BankTransactionExplanationsController#create with `bank_transaction_id` for a non-manual transaction logs the explanation parameters","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":227,"run_time":0.212406674,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:1:2:1:3]","description":"doesn't create when the dates don't match","full_description":"Api::BankTransactionExplanationsController#create with `bank_transaction_id` for a non-manual transaction doesn't create when the dates don't match","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":234,"run_time":0.089551639,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:1:2:2:1]","description":"creates successfully when the dates match","full_description":"Api::BankTransactionExplanationsController#create with `bank_transaction_id` for a manual transaction creates successfully when the dates match","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":248,"run_time":0.205193224,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:1:2:2:2]","description":"creates successfully when the dates don't match","full_description":"Api::BankTransactionExplanationsController#create with `bank_transaction_id` for a manual transaction creates successfully when the dates don't match","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":256,"run_time":0.197487166,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:1:3:1]","description":"explains with property","full_description":"Api::BankTransactionExplanationsController#create landlord companies explains with property","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":274,"run_time":0.301658434,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:1:4:1]","description":"marks the :explain_transaction Flying Start task as completed","full_description":"Api::BankTransactionExplanationsController#create flying start marks the :explain_transaction Flying Start task as completed","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":303,"run_time":0.200080818,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:2:1]","description":"responds with locked attributes for transfers even if explanation is not locked","full_description":"Api::BankTransactionExplanationsController#show responds with locked attributes for transfers even if explanation is not locked","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":322,"run_time":0.322190956,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:2:2]","description":"does not respond with locked attributes for transfers even if explanation is not locked","full_description":"Api::BankTransactionExplanationsController#show does not respond with locked attributes for transfers even if explanation is not locked","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":333,"run_time":0.259099426,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:2:3:1]","description":"returns false for is_deletable when explanation is locked","full_description":"Api::BankTransactionExplanationsController#show is_deletable attribute on locked explanations returns false for is_deletable when explanation is locked","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":349,"run_time":0.370055763,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:2:4:1:1:1]","description":"contains suggested attachment data","full_description":"Api::BankTransactionExplanationsController#show explanation has a matched receipt request is internal behaves like an explanation with a matched receipt contains suggested attachment data","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":357,"run_time":0.474381585,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:2:4:2:1:1]","description":"contains suggested attachment data","full_description":"Api::BankTransactionExplanationsController#show explanation has a matched receipt request is from mobile app behaves like an explanation with a matched receipt contains suggested attachment data","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":357,"run_time":0.393807699,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:2:4:3:1:1]","description":"does not include suggest attachment data","full_description":"Api::BankTransactionExplanationsController#show explanation has a matched receipt request is external behaves like an explanation with no matched receipt does not include suggest attachment data","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":381,"run_time":0.371114782,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:2:4:4:1:1]","description":"does not include suggest attachment data","full_description":"Api::BankTransactionExplanationsController#show explanation has a matched receipt display matched receipts is disabled behaves like an explanation with no matched receipt does not include suggest attachment data","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":381,"run_time":0.366846776,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:2:5:1:1]","description":"does not include suggest attachment data","full_description":"Api::BankTransactionExplanationsController#show when no suggested attachment document is present behaves like an explanation with no matched receipt does not include suggest attachment data","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":381,"run_time":0.204719869,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:3:1]","description":"allow approval even on locked periods","full_description":"Api::BankTransactionExplanationsController#update allow approval even on locked periods","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":447,"run_time":0.390644905,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:3:2]","description":"doesn't allow updates on locked periods","full_description":"Api::BankTransactionExplanationsController#update doesn't allow updates on locked periods","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":469,"run_time":0.441699521,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:3:3]","description":"does not update when dated_on is invalid","full_description":"Api::BankTransactionExplanationsController#update does not update when dated_on is invalid","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":491,"run_time":0.161094823,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:3:4]","description":"does not update an explanation as an invalid disposal of capital asset","full_description":"Api::BankTransactionExplanationsController#update does not update an explanation as an invalid disposal of capital asset","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":508,"run_time":0.682031189,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:3:5]","description":"does not update a disposal explanation with an invalid capital asset","full_description":"Api::BankTransactionExplanationsController#update does not update a disposal explanation with an invalid capital asset","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":532,"run_time":0.473419457,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:3:6]","description":"explains a transaction","full_description":"Api::BankTransactionExplanationsController#update explains a transaction","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":559,"run_time":0.267517883,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:3:7]","description":"sets the nominal code if entry_type and gross_value are supplied","full_description":"Api::BankTransactionExplanationsController#update sets the nominal code if entry_type and gross_value are supplied","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":575,"run_time":0.306606334,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:3:10]","description":"updates when no dated_on param is provided","full_description":"Api::BankTransactionExplanationsController#update updates when no dated_on param is provided","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":706,"run_time":0.234279305,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:3:11]","description":"updates when transaction dated_on and dated_on param do not match","full_description":"Api::BankTransactionExplanationsController#update updates when transaction dated_on and dated_on param do not match","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":724,"run_time":0.295261119,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:3:12]","description":"does update entry and manual transaction when dated_on and dated_on param do not match","full_description":"Api::BankTransactionExplanationsController#update does update entry and manual transaction when dated_on and dated_on param do not match","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":743,"run_time":0.281462397,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:3:13]","description":"updates when no dated_on param is provided","full_description":"Api::BankTransactionExplanationsController#update updates when no dated_on param is provided","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":765,"run_time":0.232849169,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:3:14]","description":"does update entry and manual transaction when dated_on and dated_on param do not match","full_description":"Api::BankTransactionExplanationsController#update does update entry and manual transaction when dated_on and dated_on param do not match","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":783,"run_time":0.26800793,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:3:15]","description":"does not update entry and non-manual transaction when dated_on and dated_on param do not match","full_description":"Api::BankTransactionExplanationsController#update does not update entry and non-manual transaction when dated_on and dated_on param do not match","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":805,"run_time":0.178697743,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:3:8:1:1]","description":"emits the 'explanation updated' event with the correct data and context","full_description":"Api::BankTransactionExplanationsController#update event publishing for an approval update emits the 'explanation updated' event with the correct data and context","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":615,"run_time":0.264369325,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:3:8:2:1]","description":"emits the 'explanation updated' event with the correct data and context","full_description":"Api::BankTransactionExplanationsController#update event publishing for a non-approval update emits the 'explanation updated' event with the correct data and context","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":640,"run_time":0.33870389,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:3:8:2:2:1]","description":"publishes an event with the correct source","full_description":"Api::BankTransactionExplanationsController#update event publishing for a non-approval update for a mobile request publishes an event with the correct source","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":655,"run_time":0.365355113,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:3:8:2:3:1]","description":"publishes an event with the correct source","full_description":"Api::BankTransactionExplanationsController#update event publishing for a non-approval update for a third party app request publishes an event with the correct source","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":666,"run_time":0.347644853,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:3:8:2:4:1]","description":"publishes an event with the correct source","full_description":"Api::BankTransactionExplanationsController#update event publishing for a non-approval update for an internal request (inline form) publishes an event with the correct source","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":677,"run_time":0.307454504,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:3:9:1]","description":"marks the :explain_transaction Flying Start task as completed","full_description":"Api::BankTransactionExplanationsController#update flying start marks the :explain_transaction Flying Start task as completed","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":691,"run_time":0.264829149,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:3:16:1]","description":"publishes an event that file has been attached","full_description":"Api::BankTransactionExplanationsController#update with attachments publishes an event that file has been attached","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":832,"run_time":0.578719697,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:3:16:2:1]","description":"publishes an event that file has been attached","full_description":"Api::BankTransactionExplanationsController#update with attachments from files area publishes an event that file has been attached","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":852,"run_time":0.428986753,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:3:16:3:1:1:1:1]","description":"the matched receipt field is cleared","full_description":"Api::BankTransactionExplanationsController#update with attachments when matched receipt is present when display matched receipts is enabled for the company a file is attached from the files area the file is the suggested matched receipt the matched receipt field is cleared","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":887,"run_time":0.440952253,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:3:16:3:1:1:2:1]","description":"the matched receipt field is cleared","full_description":"Api::BankTransactionExplanationsController#update with attachments when matched receipt is present when display matched receipts is enabled for the company a file is attached from the files area the file is not the suggested matched receipt the matched receipt field is cleared","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":912,"run_time":0.408572296,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:3:16:3:1:2:1]","description":"the matched receipt field is cleared","full_description":"Api::BankTransactionExplanationsController#update with attachments when matched receipt is present when display matched receipts is enabled for the company when a file is uploaded the matched receipt field is cleared","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":936,"run_time":0.512227534,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:3:16:3:1:3:1]","description":"the matched receipt field is cleared","full_description":"Api::BankTransactionExplanationsController#update with attachments when matched receipt is present when display matched receipts is enabled for the company when all attachments have been removed the matched receipt field is cleared","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":959,"run_time":0.463807259,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:3:16:3:2:1]","description":"clears the matched receipt","full_description":"Api::BankTransactionExplanationsController#update with attachments when matched receipt is present display matched reciepts is disabled clears the matched receipt","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":983,"run_time":0.46748464,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:3:16:4:1:1]","description":"deletes the attachment","full_description":"Api::BankTransactionExplanationsController#update with attachments removing attachments request includes the _destroy flag deletes the attachment","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":1010,"run_time":0.306113021,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:3:16:4:2:1]","description":"returns the attachment to the files area","full_description":"Api::BankTransactionExplanationsController#update with attachments removing attachments request includes the _return_to_files flag returns the attachment to the files area","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":1030,"run_time":0.339549247,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:4:1:1]","description":"returns true for is_deletable when transaction is fully unexplained","full_description":"Api::BankTransactionExplanationsController#new GET unexplained transaction explanation returns true for is_deletable when transaction is fully unexplained","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":1060,"run_time":0.136055803,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:4:2:1]","description":"returns false for is_deletable when transaction is partially explained","full_description":"Api::BankTransactionExplanationsController#new GET partially explained transaction explanation returns false for is_deletable when transaction is partially explained","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":1075,"run_time":0.238854896,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:5:1:1]","description":"does not delete explanation","full_description":"Api::BankTransactionExplanationsController#destroy explanation is not deletable does not delete explanation","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":1085,"run_time":0.282404906,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:5:2:1]","description":"deletes the explanation","full_description":"Api::BankTransactionExplanationsController#destroy explanation is deletable deletes the explanation","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":1098,"run_time":0.232468682,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:5:2:2]","description":"deletes the attachment","full_description":"Api::BankTransactionExplanationsController#destroy explanation is deletable deletes the attachment","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":1104,"run_time":0.289563223,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:5:2:3]","description":"publishes an audit event","full_description":"Api::BankTransactionExplanationsController#destroy explanation is deletable publishes an audit event","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":1110,"run_time":0.242735916,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:5:2:4]","description":"publishes a bank transaction explanation deleted event","full_description":"Api::BankTransactionExplanationsController#destroy explanation is deletable publishes a bank transaction explanation deleted event","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":1114,"run_time":0.197245477,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:5:2:5:1]","description":"sets the sources as mobile app","full_description":"Api::BankTransactionExplanationsController#destroy explanation is deletable when request comes from the mobile app sets the sources as mobile app","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":1130,"run_time":0.218057607,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:5:2:6:1]","description":"deletes the underlying transaction","full_description":"Api::BankTransactionExplanationsController#destroy explanation is deletable when the explanation is manual deletes the underlying transaction","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":1149,"run_time":0.209546365,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:5:2:6:2]","description":"publishes a bank transaction deleted event","full_description":"Api::BankTransactionExplanationsController#destroy explanation is deletable when the explanation is manual publishes a bank transaction deleted event","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":1154,"run_time":0.197688532,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:5:2:6:3:1]","description":"includes the correct source in the published event","full_description":"Api::BankTransactionExplanationsController#destroy explanation is deletable when the explanation is manual when the request comes from the mobile app includes the correct source in the published event","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":1164,"run_time":0.226554099,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:5:2:7:1]","description":"doesn't delete the underlying transaction","full_description":"Api::BankTransactionExplanationsController#destroy explanation is deletable when the explanation is not manual doesn't delete the underlying transaction","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":1180,"run_time":0.236104587,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:5:2:7:2]","description":"doesn't publish a bank transaction deleted event","full_description":"Api::BankTransactionExplanationsController#destroy explanation is deletable when the explanation is not manual doesn't publish a bank transaction deleted event","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":1185,"run_time":0.230288038,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:5:2:8:1]","description":"deletes the explanation","full_description":"Api::BankTransactionExplanationsController#destroy explanation is deletable return to files flag is present deletes the explanation","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":1194,"run_time":0.244894446,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:5:2:8:2]","description":"doesn't delete the attachment","full_description":"Api::BankTransactionExplanationsController#destroy explanation is deletable return to files flag is present doesn't delete the attachment","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":1200,"run_time":0.245272704,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb[1:5:2:8:3]","description":"moves the attachment back to a document","full_description":"Api::BankTransactionExplanationsController#destroy explanation is deletable return to files flag is present moves the attachment back to a document","status":"passed","file_path":"./spec/controllers/api/bank_transaction_explanations_controller_spec.rb","line_number":1206,"run_time":0.639538302,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:1]","description":"GET index with default params","full_description":"EstimatesController GET index with default params","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":44,"run_time":0.701090538,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:2]","description":"GET index with ALL view","full_description":"EstimatesController GET index with ALL view","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":54,"run_time":0.123856736,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:5]","description":"when ordered by contact and project name and filtered by status","full_description":"EstimatesController when ordered by contact and project name and filtered by status","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":103,"run_time":0.191326723,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:12]","description":"GET edit","full_description":"EstimatesController GET edit","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":417,"run_time":0.137059399,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:13]","description":"GET edit with invalid id","full_description":"EstimatesController GET edit with invalid id","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":427,"run_time":0.100853445,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:15]","description":"POST create with incomplete new contact attributes","full_description":"EstimatesController POST create with incomplete new contact attributes","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":562,"run_time":0.200620026,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:17]","description":"PUT update with new reference","full_description":"EstimatesController PUT update with new reference","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":603,"run_time":0.07852818,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:18]","description":"PUT update with existing reference","full_description":"EstimatesController PUT update with existing reference","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":630,"run_time":0.164535409,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:20]","description":"DELETE destroy undeletable estimate","full_description":"EstimatesController DELETE destroy undeletable estimate","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":690,"run_time":0.165798969,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:23]","description":"POST mark_as_sent on Draft estimate with no items","full_description":"EstimatesController POST mark_as_sent on Draft estimate with no items","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":766,"run_time":0.051378209,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:25]","description":"POST mark_as_approved on Draft estimate with items","full_description":"EstimatesController POST mark_as_approved on Draft estimate with items","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":792,"run_time":0.068515874,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:26]","description":"POST mark_as_rejected on Draft estimate with items","full_description":"EstimatesController POST mark_as_rejected on Draft estimate with items","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":818,"run_time":0.077220355,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:27]","description":"POST mark_as_approved on Draft estimate with no items","full_description":"EstimatesController POST mark_as_approved on Draft estimate with no items","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":844,"run_time":0.048848976,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:28]","description":"POST mark_as_rejected on Draft estimate with no items","full_description":"EstimatesController POST mark_as_rejected on Draft estimate with no items","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":863,"run_time":0.056144826,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:29]","description":"POST mark_as_rejected on Sent estimate with items","full_description":"EstimatesController POST mark_as_rejected on Sent estimate with items","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":882,"run_time":0.079914791,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:30]","description":"POST mark_as_draft on Sent estimate","full_description":"EstimatesController POST mark_as_draft on Sent estimate","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":908,"run_time":0.048980561,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:31]","description":"POST mark_as_draft on estimate with invalid id","full_description":"EstimatesController POST mark_as_draft on estimate with invalid id","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":934,"run_time":0.089101324,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:43]","description":"save as PDF","full_description":"EstimatesController save as PDF","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1554,"run_time":0.187651673,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:3:1:1]","description":"gets per_page from cookie","full_description":"EstimatesController GET index with :per_page cookie set without param :per_page set gets per_page from cookie","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":74,"run_time":0.139596438,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:4:1:1]","description":"renders the second to last page","full_description":"EstimatesController When viewing paginated estimates inline delete the last estimate from the last page renders the second to last page","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":86,"run_time":0.112748047,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:4:2:1]","description":"renders last page","full_description":"EstimatesController When viewing paginated estimates request page \u003e total pages in estimates renders last page","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":95,"run_time":0.136429764,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:6:1]","description":"with no defined contacts","full_description":"EstimatesController Viewing the Estimate Index page with no defined contacts","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":126,"run_time":0.19660919,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:7:1]","description":"GET :show","full_description":"EstimatesController Viewing an estimate GET :show","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":141,"run_time":0.171042884,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:7:2]","description":"shows the 'More' button in the title action bar","full_description":"EstimatesController Viewing an estimate shows the 'More' button in the title action bar","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":151,"run_time":0.150778993,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:7:3]","description":"assigns audit_entries to be in the correct order","full_description":"EstimatesController Viewing an estimate assigns audit_entries to be in the correct order","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":156,"run_time":0.14955279,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:7:4:1]","description":"stores not store the order in a cookie","full_description":"EstimatesController Viewing an estimate with invalid order stores not store the order in a cookie","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":181,"run_time":0.136613657,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:7:5:1]","description":"doesn't allow users to select CIS income categories","full_description":"EstimatesController Viewing an estimate for a company on the Construction Industry Scheme doesn't allow users to select CIS income categories","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":189,"run_time":0.194772194,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:7:6:1]","description":"shows the invoice with a net_value and the sales taxs which have been excluded","full_description":"EstimatesController Viewing an estimate for an estimate where sales tax is being excluded from the totals shows the invoice with a net_value and the sales taxs which have been excluded","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":199,"run_time":0.187826452,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:8:2]","description":"displays an info message about no items","full_description":"EstimatesController Viewing a newly created estimate displays an info message about no items","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":224,"run_time":0.165566723,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:8:3]","description":"does not display an info message about no invoice items","full_description":"EstimatesController Viewing a newly created estimate does not display an info message about no invoice items","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":229,"run_time":0.199389403,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:8:1:1]","description":"hides the company details","full_description":"EstimatesController Viewing a newly created estimate with the 'omit header' option selected hides the company details","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":216,"run_time":0.140793152,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:8:4:1:1]","description":"sets @theme to the custom theme","full_description":"EstimatesController Viewing a newly created estimate with a custom theme with theme_customisation_circuit_breaker working sets @theme to the custom theme","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":256,"run_time":0.230849914,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:8:4:1:2]","description":"doesn't display a warning notice","full_description":"EstimatesController Viewing a newly created estimate with a custom theme with theme_customisation_circuit_breaker working doesn't display a warning notice","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":260,"run_time":0.283702595,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:8:4:2:1]","description":"sets @theme to the company's default","full_description":"EstimatesController Viewing a newly created estimate with a custom theme with theme_customisation_circuit_breaker broken sets @theme to the company's default","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":268,"run_time":0.263964803,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:8:4:2:2]","description":"displays a warning notice","full_description":"EstimatesController Viewing a newly created estimate with a custom theme with theme_customisation_circuit_breaker broken displays a warning notice","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":272,"run_time":0.253360594,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:9:1]","description":"has the correct response and attachment header","full_description":"EstimatesController GET show in PDF format has the correct response and attachment header","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":287,"run_time":0.077254636,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:10:1]","description":"renders the form","full_description":"EstimatesController GET new renders the form","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":304,"run_time":0.111953637,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:10:2]","description":"defaults to today's date","full_description":"EstimatesController GET new defaults to today's date","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":311,"run_time":0.116123442,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:10:3]","description":"does not assign a project","full_description":"EstimatesController GET new does not assign a project","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":315,"run_time":0.103995033,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:10:4]","description":"assigns a unique reference","full_description":"EstimatesController GET new assigns a unique reference","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":319,"run_time":0.122871318,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:10:5]","description":"shows the form to add a new contact","full_description":"EstimatesController GET new shows the form to add a new contact","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":323,"run_time":0.12653075,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:10:6]","description":"does not show the option to include/exclude sales tax","full_description":"EstimatesController GET new does not show the option to include/exclude sales tax","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":327,"run_time":0.126068194,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:10:7:1:1]","description":"shows the form to add a new contact","full_description":"EstimatesController GET new for a sales tax registered company with no contacts shows the form to add a new contact","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":335,"run_time":0.117564627,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:10:7:1:2]","description":"shows the option to include/exclude sales tax","full_description":"EstimatesController GET new for a sales tax registered company with no contacts shows the option to include/exclude sales tax","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":339,"run_time":0.117054595,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:10:7:2:1]","description":"shows the option to include/exclude sales tax","full_description":"EstimatesController GET new for a sales tax registered company with a contact that has the auto charge sales tax option shows the option to include/exclude sales tax","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":347,"run_time":0.121029319,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:10:7:3:1]","description":"does not show the option to include/exclude sales tax","full_description":"EstimatesController GET new for a sales tax registered company with a contact that has the never charge VAT option does not show the option to include/exclude sales tax","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":357,"run_time":0.229503131,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:10:8:1]","description":"has the correct sales tax name on the label","full_description":"EstimatesController GET new for a universal company with sales tax periods has the correct sales tax name on the label","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":368,"run_time":0.216333562,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:11:1]","description":"with a valid project","full_description":"EstimatesController GET new with project with a valid project","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":379,"run_time":0.122655536,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:11:3]","description":"with a valid contact","full_description":"EstimatesController GET new with project with a valid contact","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":398,"run_time":0.125264218,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:11:4]","description":"with an invalid contact","full_description":"EstimatesController GET new with project with an invalid contact","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":409,"run_time":0.099047022,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:11:2:1]","description":"returns a 404 Not Found","full_description":"EstimatesController GET new with project with an invalid project returns a 404 Not Found","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":392,"run_time":0.115419881,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:14:1]","description":"does not show the notes field in the logs","full_description":"EstimatesController POST create does not show the notes field in the logs","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":433,"run_time":0.011804331,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:14:2]","description":"with valid params","full_description":"EstimatesController POST create with valid params","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":437,"run_time":0.053696901,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:14:3]","description":"with no currency","full_description":"EstimatesController POST create with no currency","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":473,"run_time":0.056075467,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:14:4]","description":"with no reference","full_description":"EstimatesController POST create with no reference","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":486,"run_time":0.144467935,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:14:5]","description":"publishes an event that the estimate has been created","full_description":"EstimatesController POST create publishes an event that the estimate has been created","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":504,"run_time":0.050129918,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:14:6]","description":"does not publish a contact created event","full_description":"EstimatesController POST create does not publish a contact created event","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":509,"run_time":0.049123745,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:14:7]","description":"sends a tracking event to GA","full_description":"EstimatesController POST create sends a tracking event to GA","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":514,"run_time":0.056391941,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:14:8:1:1:1:1]","description":"completes the add_contact event","full_description":"EstimatesController POST create flying start event tracking behaves like FlyingStart::TrackAddContactCompletion for landlord companies on successful creation completes the add_contact event","status":"passed","file_path":"./spec/support/shared_examples/flying_start/track_add_contact_completion_examples.rb","line_number":15,"run_time":0.143800693,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:14:8:1:1:2:1]","description":"doesn't complete the add_contact event","full_description":"EstimatesController POST create flying start event tracking behaves like FlyingStart::TrackAddContactCompletion for landlord companies on unsuccessful creation doesn't complete the add_contact event","status":"passed","file_path":"./spec/support/shared_examples/flying_start/track_add_contact_completion_examples.rb","line_number":23,"run_time":0.207166517,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:14:8:1:2:1]","description":"doesn't complete the add_contact event","full_description":"EstimatesController POST create flying start event tracking behaves like FlyingStart::TrackAddContactCompletion for non-landlord companies doesn't complete the add_contact event","status":"passed","file_path":"./spec/support/shared_examples/flying_start/track_add_contact_completion_examples.rb","line_number":34,"run_time":0.06696768,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:14:9:1]","description":"creates a new invoice using the fallback default theme instead of the custom theme","full_description":"EstimatesController POST create when the company's default theme selection is the custom theme and the theme_customisation_circuit_breaker is broken creates a new invoice using the fallback default theme instead of the custom theme","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":555,"run_time":0.060874285,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:16:1]","description":"creates a contact with the company locale","full_description":"EstimatesController Create Estimate with valid new contact attributes creates a contact with the company locale","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":588,"run_time":0.056780346,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:16:2]","description":"publishes an event","full_description":"EstimatesController Create Estimate with valid new contact attributes publishes an event","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":595,"run_time":0.062610637,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:19:1]","description":"DELETE destroy","full_description":"EstimatesController Given a deletable estimate DELETE destroy","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":657,"run_time":0.05905358,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:19:2]","description":"DELETE destroy with javascript","full_description":"EstimatesController Given a deletable estimate DELETE destroy with javascript","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":682,"run_time":0.047727571,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:21:1]","description":"returns a 404 Not Found","full_description":"EstimatesController POST mark_as_sent on estimate with invalid id returns a 404 Not Found","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":704,"run_time":0.098540212,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:22:1]","description":"has the correct parameters","full_description":"EstimatesController POST mark_as_sent on Draft estimate with items has the correct parameters","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":714,"run_time":0.045678332,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:22:2]","description":"has the correct response","full_description":"EstimatesController POST mark_as_sent on Draft estimate with items has the correct response","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":721,"run_time":0.080380716,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:22:3]","description":"changes the status of the estimate to Sent","full_description":"EstimatesController POST mark_as_sent on Draft estimate with items changes the status of the estimate to Sent","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":728,"run_time":0.082981074,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:22:4]","description":"caches the locale","full_description":"EstimatesController POST mark_as_sent on Draft estimate with items caches the locale","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":733,"run_time":0.082638291,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:22:5]","description":"creates an audit entry","full_description":"EstimatesController POST mark_as_sent on Draft estimate with items creates an audit entry","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":739,"run_time":0.108968119,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:22:6:1]","description":"marks the :send_estimate Flying Start task as completed","full_description":"EstimatesController POST mark_as_sent on Draft estimate with items flying start marks the :send_estimate Flying Start task as completed","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":758,"run_time":0.094004068,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:24:1]","description":"returns a 404 Not Found","full_description":"EstimatesController POST mark_as_approved on estimate with invalid id returns a 404 Not Found","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":786,"run_time":0.101336794,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:32:1:1]","description":"is successful","full_description":"EstimatesController GET history with js is successful","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":945,"run_time":0.050439044,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:32:1:2]","description":"renders the history partial","full_description":"EstimatesController GET history with js renders the history partial","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":950,"run_time":0.038171159,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:32:1:3]","description":"assigns estimate","full_description":"EstimatesController GET history with js assigns estimate","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":955,"run_time":0.037465442,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:32:1:4]","description":"assigns audit_entries to be in the correct order","full_description":"EstimatesController GET history with js assigns audit_entries to be in the correct order","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":960,"run_time":0.04693051,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:32:2:1]","description":"renders the full history when the view is open","full_description":"EstimatesController GET history with turbo frame renders the full history when the view is open","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":988,"run_time":0.127328166,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:32:2:2]","description":"does not render the history when the view is closed","full_description":"EstimatesController GET history with turbo frame does not render the history when the view is closed","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1011,"run_time":0.135166546,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:33:1]","description":"is rendered in German","full_description":"EstimatesController A sent Estimate with a German locale is rendered in German","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1039,"run_time":0.28889424,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:33:2]","description":"is rendered in German when the contact locale is changed to English","full_description":"EstimatesController A sent Estimate with a German locale is rendered in German when the contact locale is changed to English","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1044,"run_time":0.260953177,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:33:3]","description":"does not cause new subtotal and grand total lines to appear in the data table","full_description":"EstimatesController A sent Estimate with a German locale does not cause new subtotal and grand total lines to appear in the data table","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1050,"run_time":0.214578253,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:34:1]","description":"is rendered in Swedish","full_description":"EstimatesController An estimate with a Swedish locale is rendered in Swedish","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1060,"run_time":0.169412187,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:35:1]","description":"causes new subtotal and grand total lines to appear in the data table","full_description":"EstimatesController A foreign currency estimate causes new subtotal and grand total lines to appear in the data table","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1074,"run_time":0.153651753,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:35:2]","description":"works correctly with pagination","full_description":"EstimatesController A foreign currency estimate works correctly with pagination","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1080,"run_time":0.147976648,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:36:2]","description":"renders the New Estimate form with a 'Duplicate Proposal' heading","full_description":"EstimatesController Clicking 'Duplicate this estimate' renders the New Estimate form with a 'Duplicate Proposal' heading","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1124,"run_time":0.237807759,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:36:3]","description":"pre-populates the form with the duplicated values","full_description":"EstimatesController Clicking 'Duplicate this estimate' pre-populates the form with the duplicated values","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1129,"run_time":0.293085159,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:36:4]","description":"pre-populates the form with an incremented estimate reference","full_description":"EstimatesController Clicking 'Duplicate this estimate' pre-populates the form with an incremented estimate reference","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1138,"run_time":0.245244912,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:36:5]","description":"includes a hidden field in the New Invoice form","full_description":"EstimatesController Clicking 'Duplicate this estimate' includes a hidden field in the New Invoice form","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1142,"run_time":0.221910212,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:36:1:1]","description":"renders the standard New Estimate form","full_description":"EstimatesController Clicking 'Duplicate this estimate' with an invalid duplicate id renders the standard New Estimate form","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1117,"run_time":0.317331884,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:37:1]","description":"with valid attributes","full_description":"EstimatesController Submitting a duplicate estimate with valid attributes","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1168,"run_time":0.183247641,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:37:2]","description":"with invalid attributes","full_description":"EstimatesController Submitting a duplicate estimate with invalid attributes","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1214,"run_time":0.248775875,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:38:1]","description":"displays the New Contact fields","full_description":"EstimatesController Viewing the New Estimate page with no defined contacts displays the New Contact fields","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1247,"run_time":0.116016389,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:38:2]","description":"does not display a project selector","full_description":"EstimatesController Viewing the New Estimate page with no defined contacts does not display a project selector","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1252,"run_time":0.114604873,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:39:1]","description":"creates audit entries for the existing estimate and new invoice","full_description":"EstimatesController#convert_to_invoice creates audit entries for the existing estimate and new invoice","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1258,"run_time":0.13374939,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:39:2]","description":"publishes an INVOICE_CREATED event","full_description":"EstimatesController#convert_to_invoice publishes an INVOICE_CREATED event","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1282,"run_time":0.125477666,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:39:3]","description":"when invoice fails to convert, it returns a helpful error message","full_description":"EstimatesController#convert_to_invoice when invoice fails to convert, it returns a helpful error message","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1292,"run_time":0.081215686,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:39:4:1]","description":"redirects with an error message","full_description":"EstimatesController#convert_to_invoice when the company is a UK Landlord redirects with an error message","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1308,"run_time":0.114768757,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:40:1:1]","description":"the New Estimate page displays the EC status options","full_description":"EstimatesController Given a UK VAT registered company with EC reporting enabled the New Estimate page displays the EC status options","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1322,"run_time":0.271931045,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:40:1:2:1:1]","description":"displays the EC status options with EC GOODS selected","full_description":"EstimatesController Given a UK VAT registered company with EC reporting enabled and an invoice which has been created with an EC status of EC GOODS for an EU contact editing the estimate displays the EC status options with EC GOODS selected","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1340,"run_time":0.24387715,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:40:2:1]","description":"the New estimate page does not display the EC status options","full_description":"EstimatesController Given a UK VAT registered company With EC reporting disabled and an estimate which has been created with an EC status of EC Goods for an EU contact the New estimate page does not display the EC status options","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1362,"run_time":0.296609057,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:40:2:2]","description":"editing the estimate displays the EC status options with EC GOODS selected","full_description":"EstimatesController Given a UK VAT registered company With EC reporting disabled and an estimate which has been created with an EC status of EC Goods for an EU contact editing the estimate displays the EC status options with EC GOODS selected","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1367,"run_time":0.287877667,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:41:1]","description":"GET new_project ","full_description":"EstimatesController Given an estimate GET new_project ","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1381,"run_time":0.043441037,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:41:2:4]","description":"fires the PROJECT_CREATED event","full_description":"EstimatesController Given an estimate Creating a project from an estimate fires the PROJECT_CREATED event","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1483,"run_time":0.078827535,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:41:2:1:1]","description":"does js redirect","full_description":"EstimatesController Given an estimate Creating a project from an estimate without creating tasks does js redirect","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1395,"run_time":0.074212643,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:41:2:1:2]","description":"assigns project","full_description":"EstimatesController Given an estimate Creating a project from an estimate without creating tasks assigns project","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1400,"run_time":0.067411553,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:41:2:1:3]","description":"does not mark estimate as approved","full_description":"EstimatesController Given an estimate Creating a project from an estimate without creating tasks does not mark estimate as approved","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1404,"run_time":0.058209425,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:41:2:2:1]","description":"creates project with two tasks","full_description":"EstimatesController Given an estimate Creating a project from an estimate creating tasks creates project with two tasks","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1416,"run_time":0.134132076,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:41:2:2:2]","description":"redirects to correct project path","full_description":"EstimatesController Given an estimate Creating a project from an estimate creating tasks redirects to correct project path","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1423,"run_time":0.131684901,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:41:2:2:3:1:1]","description":"fails gracefully with a validation error","full_description":"EstimatesController Given an estimate Creating a project from an estimate creating tasks when the project fails to save for the html format fails gracefully with a validation error","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1439,"run_time":0.25736776,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:41:2:2:3:2:1]","description":"fails gracefully with a validation error","full_description":"EstimatesController Given an estimate Creating a project from an estimate creating tasks when the project fails to save for the js format fails gracefully with a validation error","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1450,"run_time":0.14649435,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:41:2:3:1]","description":"marks estimate as approved","full_description":"EstimatesController Given an estimate Creating a project from an estimate marking the estimate as approved marks estimate as approved","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1463,"run_time":0.06743999,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:41:2:3:2]","description":"creates an audit entry","full_description":"EstimatesController Given an estimate Creating a project from an estimate marking the estimate as approved creates an audit entry","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1469,"run_time":0.084417546,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:41:3:1]","description":"shows company address in US format","full_description":"EstimatesController Given an estimate from a company based in United States shows company address in US format","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1495,"run_time":0.210113195,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:41:4:1]","description":"shows contact address in US format","full_description":"EstimatesController Given an estimate for contact based in United States shows contact address in US format","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1506,"run_time":0.193011802,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:41:5:1]","description":"shows contact address and company address in default format","full_description":"EstimatesController Given an estimate with company and contact addresses in any country other than United States shows contact address and company address in default format","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1516,"run_time":0.170479211,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:42:1:1]","description":"renders the estimate dates in US format","full_description":"EstimatesController An estimate from a US Company for contact based in US renders the estimate dates in US format","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1537,"run_time":0.288331944,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:42:2:1]","description":"renders the estimate dates in Contact's locale","full_description":"EstimatesController An estimate from a US Company for contact in other country renders the estimate dates in Contact's locale","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1548,"run_time":0.278312467,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:44:1:1:1]","description":"shows the net total, gross total and sales tax amounts","full_description":"EstimatesController GET show for a VAT registered UK company for an estimate with totals inclusive of sales tax shows the net total, gross total and sales tax amounts","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1587,"run_time":0.193685937,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:44:1:2:1]","description":"shows the net total and sales tax information","full_description":"EstimatesController GET show for a VAT registered UK company for an estimate with totals exclusive of sales tax shows the net total and sales tax information","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1597,"run_time":0.209139408,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:44:1:3:1]","description":"doesn't mark the :send_estimate Flying Start task as completed when not PDF","full_description":"EstimatesController GET show for a VAT registered UK company flying start doesn't mark the :send_estimate Flying Start task as completed when not PDF","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1611,"run_time":0.209471131,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:44:2:1:1]","description":"shows the net total, gross total, and sales tax amounts","full_description":"EstimatesController GET show for a universal company for an estimate with totals inclusive of sales tax shows the net total, gross total, and sales tax amounts","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1629,"run_time":0.277068825,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:44:2:2:1]","description":"shows the net total and sales tax information","full_description":"EstimatesController GET show for a universal company for an estimate with totals exclusive of sales tax shows the net total and sales tax information","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1645,"run_time":0.28618939,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:44:2:2:2:1]","description":"shows the net value and information about both sales taxes","full_description":"EstimatesController GET show for a universal company for an estimate with totals exclusive of sales tax when the company has a second sales tax shows the net value and information about both sales taxes","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1654,"run_time":0.284337058,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:44:2:2:3:1:1]","description":"shows the sales tax from that period","full_description":"EstimatesController GET show for a universal company for an estimate with totals exclusive of sales tax when the company has two sales tax periods and the estimate is dated in the previous sales tax period shows the sales tax from that period","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1691,"run_time":0.386980764,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates_controller_spec.rb[1:44:2:2:3:2:1]","description":"shows the sales tax from this period","full_description":"EstimatesController GET show for a universal company for an estimate with totals exclusive of sales tax when the company has two sales tax periods and the estimate is dated in the current sales tax period shows the sales tax from this period","status":"passed","file_path":"./spec/controllers/estimates_controller_spec.rb","line_number":1701,"run_time":0.347893081,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting_total_rule_behaviour_spec.rb[1:1:1]","description":"is expected to validate that :condition cannot be empty/falsy","full_description":"AccountingTotalRuleBehaviour A class that includes the AccountingTotalRuleBehavour module is expected to validate that :condition cannot be empty/falsy","status":"passed","file_path":"./spec/models/accounting_total_rule_behaviour_spec.rb","line_number":7,"run_time":0.015477716,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting_total_rule_behaviour_spec.rb[1:1:2]","description":"is expected to allow :condition to be ‹\"Less than\"›","full_description":"AccountingTotalRuleBehaviour A class that includes the AccountingTotalRuleBehavour module is expected to allow :condition to be ‹\"Less than\"›","status":"passed","file_path":"./spec/models/accounting_total_rule_behaviour_spec.rb","line_number":8,"run_time":0.003504334,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting_total_rule_behaviour_spec.rb[1:1:3]","description":"is expected to allow :condition to be ‹\"More than\"›","full_description":"AccountingTotalRuleBehaviour A class that includes the AccountingTotalRuleBehavour module is expected to allow :condition to be ‹\"More than\"›","status":"passed","file_path":"./spec/models/accounting_total_rule_behaviour_spec.rb","line_number":9,"run_time":0.003277338,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting_total_rule_behaviour_spec.rb[1:1:4]","description":"is expected not to allow :condition to be ‹\"foo\"›","full_description":"AccountingTotalRuleBehaviour A class that includes the AccountingTotalRuleBehavour module is expected not to allow :condition to be ‹\"foo\"›","status":"passed","file_path":"./spec/models/accounting_total_rule_behaviour_spec.rb","line_number":10,"run_time":0.004163654,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting_total_rule_behaviour_spec.rb[1:1:5:1:1]","description":"still runs without exceptions","full_description":"AccountingTotalRuleBehaviour A class that includes the AccountingTotalRuleBehavour module and has a GREATER_THAN condition with a company that has not completed setup still runs without exceptions","status":"passed","file_path":"./spec/models/accounting_total_rule_behaviour_spec.rb","line_number":37,"run_time":0.144724457,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting_total_rule_behaviour_spec.rb[1:1:5:2:1]","description":"does not create any notifications","full_description":"AccountingTotalRuleBehaviour A class that includes the AccountingTotalRuleBehavour module and has a GREATER_THAN condition with company accounts BELOW the threshold does not create any notifications","status":"passed","file_path":"./spec/models/accounting_total_rule_behaviour_spec.rb","line_number":45,"run_time":0.52716672,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting_total_rule_behaviour_spec.rb[1:1:5:2:2]","description":"updates last_run time","full_description":"AccountingTotalRuleBehaviour A class that includes the AccountingTotalRuleBehavour module and has a GREATER_THAN condition with company accounts BELOW the threshold updates last_run time","status":"passed","file_path":"./spec/models/accounting_total_rule_behaviour_spec.rb","line_number":50,"run_time":0.487311332,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting_total_rule_behaviour_spec.rb[1:1:5:2:3:1]","description":"clears the notifications","full_description":"AccountingTotalRuleBehaviour A class that includes the AccountingTotalRuleBehavour module and has a GREATER_THAN condition with company accounts BELOW the threshold when notifications already exist clears the notifications","status":"passed","file_path":"./spec/models/accounting_total_rule_behaviour_spec.rb","line_number":80,"run_time":0.515467332,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting_total_rule_behaviour_spec.rb[1:1:5:2:3:2]","description":"updates last_run time","full_description":"AccountingTotalRuleBehaviour A class that includes the AccountingTotalRuleBehavour module and has a GREATER_THAN condition with company accounts BELOW the threshold when notifications already exist updates last_run time","status":"passed","file_path":"./spec/models/accounting_total_rule_behaviour_spec.rb","line_number":84,"run_time":0.481013272,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting_total_rule_behaviour_spec.rb[1:1:5:3:1]","description":"creates a notification","full_description":"AccountingTotalRuleBehaviour A class that includes the AccountingTotalRuleBehavour module and has a GREATER_THAN condition with company accounts ABOVE the threshold creates a notification","status":"passed","file_path":"./spec/models/accounting_total_rule_behaviour_spec.rb","line_number":100,"run_time":0.532372185,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting_total_rule_behaviour_spec.rb[1:1:5:3:2]","description":"updates last_run time","full_description":"AccountingTotalRuleBehaviour A class that includes the AccountingTotalRuleBehavour module and has a GREATER_THAN condition with company accounts ABOVE the threshold updates last_run time","status":"passed","file_path":"./spec/models/accounting_total_rule_behaviour_spec.rb","line_number":109,"run_time":0.576195073,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting_total_rule_behaviour_spec.rb[1:1:5:3:3:1]","description":"updates the most recent notification and discards the rest","full_description":"AccountingTotalRuleBehaviour A class that includes the AccountingTotalRuleBehavour module and has a GREATER_THAN condition with company accounts ABOVE the threshold when notifications already exist updates the most recent notification and discards the rest","status":"passed","file_path":"./spec/models/accounting_total_rule_behaviour_spec.rb","line_number":138,"run_time":0.544898143,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting_total_rule_behaviour_spec.rb[1:1:5:3:3:2]","description":"updates last_run time","full_description":"AccountingTotalRuleBehaviour A class that includes the AccountingTotalRuleBehavour module and has a GREATER_THAN condition with company accounts ABOVE the threshold when notifications already exist updates last_run time","status":"passed","file_path":"./spec/models/accounting_total_rule_behaviour_spec.rb","line_number":145,"run_time":0.585756778,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting_total_rule_behaviour_spec.rb[1:1:6:1:1]","description":"does not create any notifications","full_description":"AccountingTotalRuleBehaviour A class that includes the AccountingTotalRuleBehavour module and has a LESS_THAN condition with company accounts ABOVE the threshold does not create any notifications","status":"passed","file_path":"./spec/models/accounting_total_rule_behaviour_spec.rb","line_number":171,"run_time":0.510170924,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting_total_rule_behaviour_spec.rb[1:1:6:1:2]","description":"updates last_run time","full_description":"AccountingTotalRuleBehaviour A class that includes the AccountingTotalRuleBehavour module and has a LESS_THAN condition with company accounts ABOVE the threshold updates last_run time","status":"passed","file_path":"./spec/models/accounting_total_rule_behaviour_spec.rb","line_number":175,"run_time":0.623605948,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting_total_rule_behaviour_spec.rb[1:1:6:1:3:1]","description":"clears the notifications","full_description":"AccountingTotalRuleBehaviour A class that includes the AccountingTotalRuleBehavour module and has a LESS_THAN condition with company accounts ABOVE the threshold when the notifications already exist clears the notifications","status":"passed","file_path":"./spec/models/accounting_total_rule_behaviour_spec.rb","line_number":204,"run_time":0.546647762,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting_total_rule_behaviour_spec.rb[1:1:6:1:3:2]","description":"updates last_run time","full_description":"AccountingTotalRuleBehaviour A class that includes the AccountingTotalRuleBehavour module and has a LESS_THAN condition with company accounts ABOVE the threshold when the notifications already exist updates last_run time","status":"passed","file_path":"./spec/models/accounting_total_rule_behaviour_spec.rb","line_number":208,"run_time":0.564892883,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting_total_rule_behaviour_spec.rb[1:1:6:2:1]","description":"creates a notification","full_description":"AccountingTotalRuleBehaviour A class that includes the AccountingTotalRuleBehavour module and has a LESS_THAN condition with company account BELOW the threshold creates a notification","status":"passed","file_path":"./spec/models/accounting_total_rule_behaviour_spec.rb","line_number":224,"run_time":0.506865002,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting_total_rule_behaviour_spec.rb[1:1:6:2:2]","description":"updates last_run time","full_description":"AccountingTotalRuleBehaviour A class that includes the AccountingTotalRuleBehavour module and has a LESS_THAN condition with company account BELOW the threshold updates last_run time","status":"passed","file_path":"./spec/models/accounting_total_rule_behaviour_spec.rb","line_number":233,"run_time":0.547237502,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting_total_rule_behaviour_spec.rb[1:1:6:2:3:1]","description":"updates the most recent notification and discards the rest","full_description":"AccountingTotalRuleBehaviour A class that includes the AccountingTotalRuleBehavour module and has a LESS_THAN condition with company account BELOW the threshold when notifications already exist updates the most recent notification and discards the rest","status":"passed","file_path":"./spec/models/accounting_total_rule_behaviour_spec.rb","line_number":262,"run_time":0.554603405,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting_total_rule_behaviour_spec.rb[1:1:6:2:3:2]","description":"updates last_run time","full_description":"AccountingTotalRuleBehaviour A class that includes the AccountingTotalRuleBehavour module and has a LESS_THAN condition with company account BELOW the threshold when notifications already exist updates last_run time","status":"passed","file_path":"./spec/models/accounting_total_rule_behaviour_spec.rb","line_number":269,"run_time":0.525945828,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb[1:1:1]","description":"enqueues the expected number of jobs to process two batches of companies","full_description":"Metrics::PerformanceBenchmarkingMetrics#enqueue enqueues the expected number of jobs to process two batches of companies","status":"passed","file_path":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb","line_number":65,"run_time":0.287730347,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb[1:2:1:1]","description":"should have the expected headers","full_description":"Metrics::PerformanceBenchmarkingMetrics#write_csv when generating the latest benchmark report metrics should have the expected headers","status":"passed","file_path":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb","line_number":90,"run_time":1.066481776,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb[1:2:1:2]","description":"has the correct number of rows for successfully processed companies","full_description":"Metrics::PerformanceBenchmarkingMetrics#write_csv when generating the latest benchmark report metrics has the correct number of rows for successfully processed companies","status":"passed","file_path":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb","line_number":103,"run_time":0.357363174,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb[1:2:1:3]","description":"has correct revenue value","full_description":"Metrics::PerformanceBenchmarkingMetrics#write_csv when generating the latest benchmark report metrics has correct revenue value","status":"passed","file_path":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb","line_number":107,"run_time":0.34931284,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb[1:2:1:4]","description":"has correct costs value","full_description":"Metrics::PerformanceBenchmarkingMetrics#write_csv when generating the latest benchmark report metrics has correct costs value","status":"passed","file_path":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb","line_number":111,"run_time":0.318974127,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb[1:2:1:5]","description":"has correct operating_profit value","full_description":"Metrics::PerformanceBenchmarkingMetrics#write_csv when generating the latest benchmark report metrics has correct operating_profit value","status":"passed","file_path":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb","line_number":115,"run_time":0.370622745,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb[1:2:1:6]","description":"has correct snapshot_at value","full_description":"Metrics::PerformanceBenchmarkingMetrics#write_csv when generating the latest benchmark report metrics has correct snapshot_at value","status":"passed","file_path":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb","line_number":119,"run_time":0.339961685,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb[1:2:2:1]","description":"has the correct number of rows for successfully processed companies","full_description":"Metrics::PerformanceBenchmarkingMetrics#write_csv when generating metrics on a partially deleted company has the correct number of rows for successfully processed companies","status":"passed","file_path":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb","line_number":136,"run_time":1.003293257,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb[1:2:2:2]","description":"has correct operating_profit value","full_description":"Metrics::PerformanceBenchmarkingMetrics#write_csv when generating metrics on a partially deleted company has correct operating_profit value","status":"passed","file_path":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb","line_number":140,"run_time":0.955891508,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb[1:2:3:1]","description":"sends error notifications","full_description":"Metrics::PerformanceBenchmarkingMetrics#write_csv when a company can't be exported sends error notifications","status":"passed","file_path":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb","line_number":156,"run_time":0.963030515,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb[1:2:4:1]","description":"has the correct number of rows for successfully processed companies","full_description":"Metrics::PerformanceBenchmarkingMetrics#write_csv when generating metrics for a previous date has the correct number of rows for successfully processed companies","status":"passed","file_path":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb","line_number":172,"run_time":0.331467517,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb[1:2:4:2]","description":"has correct revenue value","full_description":"Metrics::PerformanceBenchmarkingMetrics#write_csv when generating metrics for a previous date has correct revenue value","status":"passed","file_path":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb","line_number":176,"run_time":0.332833741,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb[1:2:4:3]","description":"has correct costs value","full_description":"Metrics::PerformanceBenchmarkingMetrics#write_csv when generating metrics for a previous date has correct costs value","status":"passed","file_path":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb","line_number":180,"run_time":0.374193145,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb[1:2:4:4]","description":"has correct operating_profit value","full_description":"Metrics::PerformanceBenchmarkingMetrics#write_csv when generating metrics for a previous date has correct operating_profit value","status":"passed","file_path":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb","line_number":184,"run_time":0.351838027,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb[1:2:4:5]","description":"has correct snapshot_at value","full_description":"Metrics::PerformanceBenchmarkingMetrics#write_csv when generating metrics for a previous date has correct snapshot_at value","status":"passed","file_path":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb","line_number":188,"run_time":0.343712252,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb[1:2:5:1]","description":"has correct revenue value","full_description":"Metrics::PerformanceBenchmarkingMetrics#write_csv when generating a weekly report for a company with \u003e 1 weeks transactions has correct revenue value","status":"passed","file_path":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb","line_number":213,"run_time":0.797311624,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb[1:2:5:2]","description":"has correct costs value","full_description":"Metrics::PerformanceBenchmarkingMetrics#write_csv when generating a weekly report for a company with \u003e 1 weeks transactions has correct costs value","status":"passed","file_path":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb","line_number":217,"run_time":0.788721851,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb[1:2:5:3]","description":"has correct operating_profit value","full_description":"Metrics::PerformanceBenchmarkingMetrics#write_csv when generating a weekly report for a company with \u003e 1 weeks transactions has correct operating_profit value","status":"passed","file_path":"./spec/models/metrics/performance_benchmarking_metrics_spec.rb","line_number":221,"run_time":0.841429315,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/clients_integration_spec.rb[1:1]","description":"lists accessible client companies for a senior account manager","full_description":"Api::ClientsIntegration lists accessible client companies for a senior account manager","status":"passed","file_path":"./spec/requests/api/clients_integration_spec.rb","line_number":10,"run_time":0.368263187,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/clients_integration_spec.rb[1:2]","description":"lists only account manager's client companies for a non-senior account manager","full_description":"Api::ClientsIntegration lists only account manager's client companies for a non-senior account manager","status":"passed","file_path":"./spec/requests/api/clients_integration_spec.rb","line_number":17,"run_time":0.478697189,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/clients_integration_spec.rb[1:3]","description":"prevents authorisation as a regular user","full_description":"Api::ClientsIntegration prevents authorisation as a regular user","status":"passed","file_path":"./spec/requests/api/clients_integration_spec.rb","line_number":24,"run_time":0.047454185,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/clients_integration_spec.rb[1:4]","description":"does not include frs type on non-VAT registered clients","full_description":"Api::ClientsIntegration does not include frs type on non-VAT registered clients","status":"passed","file_path":"./spec/requests/api/clients_integration_spec.rb","line_number":30,"run_time":0.296484084,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/clients_integration_spec.rb[1:5]","description":"does not include frs type on non-UK companies with sales tax","full_description":"Api::ClientsIntegration does not include frs type on non-UK companies with sales tax","status":"passed","file_path":"./spec/requests/api/clients_integration_spec.rb","line_number":37,"run_time":0.410551049,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/clients_integration_spec.rb[1:6]","description":"exposes the frs type on frs vat registered clients","full_description":"Api::ClientsIntegration exposes the frs type on frs vat registered clients","status":"passed","file_path":"./spec/requests/api/clients_integration_spec.rb","line_number":45,"run_time":0.804215312,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/clients_integration_spec.rb[1:7]","description":"exposes the frs type on non-frs vat registered clients","full_description":"Api::ClientsIntegration exposes the frs type on non-frs vat registered clients","status":"passed","file_path":"./spec/requests/api/clients_integration_spec.rb","line_number":53,"run_time":0.736783898,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/clients_integration_spec.rb[1:8]","description":"includes the account manager with each client","full_description":"Api::ClientsIntegration includes the account manager with each client","status":"passed","file_path":"./spec/requests/api/clients_integration_spec.rb","line_number":61,"run_time":0.30333632,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/clients_integration_spec.rb[1:9]","description":"does not include the account manager with each client when accessed as a non-senior account manager","full_description":"Api::ClientsIntegration does not include the account manager with each client when accessed as a non-senior account manager","status":"passed","file_path":"./spec/requests/api/clients_integration_spec.rb","line_number":68,"run_time":0.428531274,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/clients_integration_spec.rb[1:10]","description":"includes the status field in the response","full_description":"Api::ClientsIntegration includes the status field in the response","status":"passed","file_path":"./spec/requests/api/clients_integration_spec.rb","line_number":75,"run_time":0.355557042,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/clients_integration_spec.rb[1:11:1]","description":"by default sorts the results by created_at","full_description":"Api::ClientsIntegration with multiple clients by default sorts the results by created_at","status":"passed","file_path":"./spec/requests/api/clients_integration_spec.rb","line_number":87,"run_time":0.481620574,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/clients_integration_spec.rb[1:11:2:1]","description":"allows sorting by created_at","full_description":"Api::ClientsIntegration with multiple clients when using the created_at sort parameter allows sorting by created_at","status":"passed","file_path":"./spec/requests/api/clients_integration_spec.rb","line_number":95,"run_time":0.508308402,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/clients_integration_spec.rb[1:11:3:1]","description":"allows sorting by updated_at","full_description":"Api::ClientsIntegration with multiple clients when using the updated_at sort parameter allows sorting by updated_at","status":"passed","file_path":"./spec/requests/api/clients_integration_spec.rb","line_number":109,"run_time":0.524143031,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/clients_integration_spec.rb[1:12:1]","description":"validates the date","full_description":"Api::ClientsIntegration with date filters validates the date","status":"passed","file_path":"./spec/requests/api/clients_integration_spec.rb","line_number":147,"run_time":0.610808925,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/clients_integration_spec.rb[1:12:2]","description":"allows filtering with a start date both before and after the created date","full_description":"Api::ClientsIntegration with date filters allows filtering with a start date both before and after the created date","status":"passed","file_path":"./spec/requests/api/clients_integration_spec.rb","line_number":152,"run_time":0.650908195,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/clients_integration_spec.rb[1:12:3]","description":"allows filtering with an end date both before and after the created date","full_description":"Api::ClientsIntegration with date filters allows filtering with an end date both before and after the created date","status":"passed","file_path":"./spec/requests/api/clients_integration_spec.rb","line_number":162,"run_time":0.644735436,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/clients_integration_spec.rb[1:12:4]","description":"allows filtering by updated_since both before and after the created date","full_description":"Api::ClientsIntegration with date filters allows filtering by updated_since both before and after the created date","status":"passed","file_path":"./spec/requests/api/clients_integration_spec.rb","line_number":172,"run_time":0.64064524,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:1:1]","description":"defaults to the current accounting year","full_description":"JournalSetsController#index defaults to the current accounting year","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":19,"run_time":0.222219479,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:1:2]","description":"accepts an :ap accounting period parameter","full_description":"JournalSetsController#index accepts an :ap accounting period parameter","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":26,"run_time":0.195691356,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:1:3]","description":"accepts an opening balances :ap parameter","full_description":"JournalSetsController#index accepts an opening balances :ap parameter","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":33,"run_time":0.211997337,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:2:1]","description":"populates a new journal set with two blank journal entries","full_description":"JournalSetsController#new populates a new journal set with two blank journal entries","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":42,"run_time":0.249493619,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:3:1]","description":"creates a journal set with valid parameters","full_description":"JournalSetsController#create creates a journal set with valid parameters","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":55,"run_time":0.204547751,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:3:2]","description":"creates an audit entry","full_description":"JournalSetsController#create creates an audit entry","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":61,"run_time":0.21127017,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:3:3]","description":"creates a copied audit entry for copied journal sets","full_description":"JournalSetsController#create creates a copied audit entry for copied journal sets","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":74,"run_time":0.216691065,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:3:4]","description":"creates a reversed audit entry for reversed journal sets","full_description":"JournalSetsController#create creates a reversed audit entry for reversed journal sets","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":87,"run_time":0.253882606,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:3:5]","description":"fails with a missing date","full_description":"JournalSetsController#create fails with a missing date","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":100,"run_time":0.318553071,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:3:6]","description":"fails with no journals","full_description":"JournalSetsController#create fails with no journals","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":106,"run_time":0.244627598,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:3:7]","description":"fails with unbalanced journals","full_description":"JournalSetsController#create fails with unbalanced journals","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":112,"run_time":0.247086553,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:3:8]","description":"fails with an invalid date","full_description":"JournalSetsController#create fails with an invalid date","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":128,"run_time":0.302133763,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:3:9]","description":"fails with an invalid date seperator","full_description":"JournalSetsController#create fails with an invalid date seperator","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":134,"run_time":0.256709922,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:3:10]","description":"passes with an iso8601 Date format","full_description":"JournalSetsController#create passes with an iso8601 Date format","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":140,"run_time":0.193385192,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:3:11:1]","description":"creates property tagged ledger entries","full_description":"JournalSetsController#create as a property account creates property tagged ledger entries","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":151,"run_time":0.261234002,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:3:11:2:1]","description":"does not create tagged ledger entries","full_description":"JournalSetsController#create as a property account nominal code that does not a P\u0026L account does not create tagged ledger entries","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":179,"run_time":0.316706361,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:3:12:1]","description":"creates journal sets for the correct hire purchase","full_description":"JournalSetsController#create for a hire purchase account creates journal sets for the correct hire purchase","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":213,"run_time":0.360778654,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:4:1]","description":"shows the edit form","full_description":"JournalSetsController#edit shows the edit form","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":246,"run_time":0.278881852,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:4:2]","description":"builds an automatic balancing journal for unbalanced journal sets","full_description":"JournalSetsController#edit builds an automatic balancing journal for unbalanced journal sets","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":252,"run_time":0.257977249,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:4:3]","description":"shows the journal set","full_description":"JournalSetsController#edit shows the journal set","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":265,"run_time":0.25529562,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:5:1]","description":"shows the new form","full_description":"JournalSetsController#copy shows the new form","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":246,"run_time":0.230400486,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:5:2]","description":"builds an automatic balancing journal for unbalanced journal sets","full_description":"JournalSetsController#copy builds an automatic balancing journal for unbalanced journal sets","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":252,"run_time":0.30321626,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:5:3]","description":"shows a copy of the journal set","full_description":"JournalSetsController#copy shows a copy of the journal set","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":320,"run_time":0.246572863,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:5:4:1]","description":"duplicates the journal entries with the property field","full_description":"JournalSetsController#copy as a landlord duplicates the journal entries with the property field","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":283,"run_time":0.397513017,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:6:1]","description":"shows the new form","full_description":"JournalSetsController#reverse shows the new form","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":246,"run_time":0.28441311,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:6:2]","description":"builds an automatic balancing journal for unbalanced journal sets","full_description":"JournalSetsController#reverse builds an automatic balancing journal for unbalanced journal sets","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":252,"run_time":0.28060023,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:6:3]","description":"shows a reversed copy of the journal set","full_description":"JournalSetsController#reverse shows a reversed copy of the journal set","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":341,"run_time":0.255528959,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:6:4:1]","description":"duplicates the journal entries with the property field","full_description":"JournalSetsController#reverse as a landlord duplicates the journal entries with the property field","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":283,"run_time":0.420235689,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:7:1]","description":"updates the journal set with valid parameters","full_description":"JournalSetsController#update updates the journal set with valid parameters","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":360,"run_time":0.195564207,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:7:2]","description":"creates an audit entry","full_description":"JournalSetsController#update creates an audit entry","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":372,"run_time":0.199735718,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:7:3]","description":"doesn't create an audit entry when editing opening balances","full_description":"JournalSetsController#update doesn't create an audit entry when editing opening balances","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":391,"run_time":0.190126233,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:8:1]","description":"deletes the journal set","full_description":"JournalSetsController#destroy deletes the journal set","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":410,"run_time":0.159843553,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:8:2]","description":"creates an audit entry","full_description":"JournalSetsController#destroy creates an audit entry","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":421,"run_time":0.175454692,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/journal_sets_controller_spec.rb[1:8:3:1]","description":"does not perform the deletion","full_description":"JournalSetsController#destroy when the journal set is locked does not perform the deletion","status":"passed","file_path":"./spec/controllers/journal_sets_controller_spec.rb","line_number":442,"run_time":0.267756932,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/business_details_controller_spec.rb[1:1:1:1]","description":"sets and persists attribute parameters correctly","full_description":"GettingStarted::BusinessDetailsController for a UK sole trader #update sets and persists attribute parameters correctly","status":"passed","file_path":"./spec/controllers/getting_started/business_details_controller_spec.rb","line_number":19,"run_time":0.147953283,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/business_details_controller_spec.rb[1:2:5]","description":"displays errors when company details are invalid","full_description":"GettingStarted::BusinessDetailsController for a UK limited company displays errors when company details are invalid","status":"passed","file_path":"./spec/controllers/getting_started/business_details_controller_spec.rb","line_number":99,"run_time":0.184853085,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/business_details_controller_spec.rb[1:2:1:1]","description":"renders the business details template","full_description":"GettingStarted::BusinessDetailsController for a UK limited company #show renders the business details template","status":"passed","file_path":"./spec/controllers/getting_started/business_details_controller_spec.rb","line_number":36,"run_time":0.154545671,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/business_details_controller_spec.rb[1:2:1:2]","description":"rejects JSON requests","full_description":"GettingStarted::BusinessDetailsController for a UK limited company #show rejects JSON requests","status":"passed","file_path":"./spec/controllers/getting_started/business_details_controller_spec.rb","line_number":40,"run_time":0.186457834,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/business_details_controller_spec.rb[1:2:2:1]","description":"sets and persists attribute parameters correctly","full_description":"GettingStarted::BusinessDetailsController for a UK limited company #update sets and persists attribute parameters correctly","status":"passed","file_path":"./spec/controllers/getting_started/business_details_controller_spec.rb","line_number":52,"run_time":0.133666379,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/business_details_controller_spec.rb[1:2:2:2]","description":"tracks and redirects to the next step","full_description":"GettingStarted::BusinessDetailsController for a UK limited company #update tracks and redirects to the next step","status":"passed","file_path":"./spec/controllers/getting_started/business_details_controller_spec.rb","line_number":63,"run_time":0.119026686,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/business_details_controller_spec.rb[1:2:3:1]","description":"changes the company type and redirects to the next step","full_description":"GettingStarted::BusinessDetailsController for a UK limited company when changing company type changes the company type and redirects to the next step","status":"passed","file_path":"./spec/controllers/getting_started/business_details_controller_spec.rb","line_number":76,"run_time":0.583723971,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/business_details_controller_spec.rb[1:2:3:2]","description":"displays errors when company details are invalid","full_description":"GettingStarted::BusinessDetailsController for a UK limited company when changing company type displays errors when company details are invalid","status":"passed","file_path":"./spec/controllers/getting_started/business_details_controller_spec.rb","line_number":83,"run_time":0.663121609,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/business_details_controller_spec.rb[1:2:4:1]","description":"does not update unpermitted params","full_description":"GettingStarted::BusinessDetailsController for a UK limited company Update with malicious parameters (mass assignment attack) does not update unpermitted params","status":"passed","file_path":"./spec/controllers/getting_started/business_details_controller_spec.rb","line_number":92,"run_time":0.180393483,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/business_details_controller_spec.rb[1:3:1:1]","description":"sets and persists attribute parameters correctly","full_description":"GettingStarted::BusinessDetailsController for a UK limited liability partnership #update sets and persists attribute parameters correctly","status":"passed","file_path":"./spec/controllers/getting_started/business_details_controller_spec.rb","line_number":112,"run_time":0.167243832,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/business_details_controller_spec.rb[1:4:1:1]","description":"sets and persists attribute parameters correctly","full_description":"GettingStarted::BusinessDetailsController for a Universal company #update sets and persists attribute parameters correctly","status":"passed","file_path":"./spec/controllers/getting_started/business_details_controller_spec.rb","line_number":132,"run_time":0.113803334,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/business_details_controller_spec.rb[1:4:1:2]","description":"redirects to display formats step","full_description":"GettingStarted::BusinessDetailsController for a Universal company #update redirects to display formats step","status":"passed","file_path":"./spec/controllers/getting_started/business_details_controller_spec.rb","line_number":144,"run_time":0.11168804,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/business_details_controller_spec.rb[1:4:1:3]","description":"validates company against changed company type when changing company type","full_description":"GettingStarted::BusinessDetailsController for a Universal company #update validates company against changed company type when changing company type","status":"passed","file_path":"./spec/controllers/getting_started/business_details_controller_spec.rb","line_number":150,"run_time":0.636625513,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/business_details_controller_spec.rb[1:5:1]","description":"does not show the company types dropdown","full_description":"GettingStarted::BusinessDetailsController for a BCSG resold UK limited company does not show the company types dropdown","status":"passed","file_path":"./spec/controllers/getting_started/business_details_controller_spec.rb","line_number":173,"run_time":0.158213585,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/business_details_controller_spec.rb[1:6:1:1]","description":"sets and persists attribute parameters correctly","full_description":"GettingStarted::BusinessDetailsController for a US company #update sets and persists attribute parameters correctly","status":"passed","file_path":"./spec/controllers/getting_started/business_details_controller_spec.rb","line_number":184,"run_time":0.126032531,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb[1:1:1:1]","description":"responds with an array of invoices","full_description":"Api::RecurringInvoicesIntegration #index when nested invoice items is not specified responds with an array of invoices","status":"passed","file_path":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb","line_number":21,"run_time":0.202888752,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb[1:1:1:2]","description":"responds with the standard invoice fields, and invoice route as the :path","full_description":"Api::RecurringInvoicesIntegration #index when nested invoice items is not specified responds with the standard invoice fields, and invoice route as the :path","status":"passed","file_path":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb","line_number":28,"run_time":0.150693564,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb[1:1:1:3]","description":"does not contain invoice_items fields","full_description":"Api::RecurringInvoicesIntegration #index when nested invoice items is not specified does not contain invoice_items fields","status":"passed","file_path":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb","line_number":36,"run_time":0.14596967,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb[1:1:2:1]","description":"contains invoice_items fields","full_description":"Api::RecurringInvoicesIntegration #index when nested invoice items is specified contains invoice_items fields","status":"passed","file_path":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb","line_number":46,"run_time":0.073675575,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb[1:1:3:1:1]","description":"displays all recurring invoice profiles","full_description":"Api::RecurringInvoicesIntegration #index when filtering recurring invoice profiles and viewing all recurring invoice profiles displays all recurring invoice profiles","status":"passed","file_path":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb","line_number":91,"run_time":0.242063994,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb[1:1:3:2:1]","description":"displays draft recurring invoice profiles","full_description":"Api::RecurringInvoicesIntegration #index when filtering recurring invoice profiles and viewing draft recurring invoice profiles displays draft recurring invoice profiles","status":"passed","file_path":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb","line_number":109,"run_time":0.196774052,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb[1:1:3:3:1]","description":"displays all recurring invoice profiles","full_description":"Api::RecurringInvoicesIntegration #index when filtering recurring invoice profiles and viewing active recurring invoice profiles displays all recurring invoice profiles","status":"passed","file_path":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb","line_number":124,"run_time":0.229572882,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb[1:1:3:4:1]","description":"displays inactive recurring invoice profiles","full_description":"Api::RecurringInvoicesIntegration #index when filtering recurring invoice profiles and viewing inactive recurring invoice profiles displays inactive recurring invoice profiles","status":"passed","file_path":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb","line_number":140,"run_time":0.215995153,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb[1:1:3:5:1]","description":"is expected to respond with status code :bad_request (400)","full_description":"Api::RecurringInvoicesIntegration #index when filtering recurring invoice profiles and searching for an invalid filter is expected to respond with status code :bad_request (400)","status":"passed","file_path":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb","line_number":157,"run_time":0.178700234,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb[1:1:3:5:2]","description":"returns a suitable error message","full_description":"Api::RecurringInvoicesIntegration #index when filtering recurring invoice profiles and searching for an invalid filter returns a suitable error message","status":"passed","file_path":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb","line_number":159,"run_time":0.182963099,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb[1:1:4:1:1]","description":"orders correctly in ascending order","full_description":"Api::RecurringInvoicesIntegration #index when ordering recurring invoice profiles and ordering by start date orders correctly in ascending order","status":"passed","file_path":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb","line_number":186,"run_time":0.121621974,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb[1:1:4:1:2]","description":"orders correctly in decending order","full_description":"Api::RecurringInvoicesIntegration #index when ordering recurring invoice profiles and ordering by start date orders correctly in decending order","status":"passed","file_path":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb","line_number":198,"run_time":0.124220439,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb[1:1:4:2:1]","description":"orders correctly in ascending order","full_description":"Api::RecurringInvoicesIntegration #index when ordering recurring invoice profiles and ordering by next recurs on date orders correctly in ascending order","status":"passed","file_path":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb","line_number":225,"run_time":0.134252152,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb[1:1:4:2:2]","description":"orders correctly in decending order","full_description":"Api::RecurringInvoicesIntegration #index when ordering recurring invoice profiles and ordering by next recurs on date orders correctly in decending order","status":"passed","file_path":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb","line_number":237,"run_time":0.119990233,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb[1:1:4:3:1]","description":"orders correctly in ascending order","full_description":"Api::RecurringInvoicesIntegration #index when ordering recurring invoice profiles and ordering by created at orders correctly in ascending order","status":"passed","file_path":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb","line_number":265,"run_time":0.10419388,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb[1:1:4:3:2]","description":"orders correctly in decending order","full_description":"Api::RecurringInvoicesIntegration #index when ordering recurring invoice profiles and ordering by created at orders correctly in decending order","status":"passed","file_path":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb","line_number":277,"run_time":0.10009641,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb[1:1:4:4:1]","description":"orders correctly in ascending order","full_description":"Api::RecurringInvoicesIntegration #index when ordering recurring invoice profiles and ordering by updated at orders correctly in ascending order","status":"passed","file_path":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb","line_number":305,"run_time":0.09997674,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb[1:1:4:4:2]","description":"orders correctly in decending order","full_description":"Api::RecurringInvoicesIntegration #index when ordering recurring invoice profiles and ordering by updated at orders correctly in decending order","status":"passed","file_path":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb","line_number":317,"run_time":0.117185909,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb[1:1:5:1]","description":"only returns the recurring invoices related to the contact","full_description":"Api::RecurringInvoicesIntegration #index with a :contact parameter only returns the recurring invoices related to the contact","status":"passed","file_path":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb","line_number":354,"run_time":0.138913982,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb[1:1:6:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::RecurringInvoicesIntegration #index without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb","line_number":371,"run_time":0.056516732,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb[1:2:1:1]","description":"responds with an invoice","full_description":"Api::RecurringInvoicesIntegration #show when an invoice has no invoice items responds with an invoice","status":"passed","file_path":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb","line_number":386,"run_time":0.098319562,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb[1:2:2:1]","description":"responds with an invoice with invoice items","full_description":"Api::RecurringInvoicesIntegration #show when an invoice has invoice_items responds with an invoice with invoice items","status":"passed","file_path":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb","line_number":398,"run_time":0.13980763,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb[1:2:3:1]","description":"responds with an invoice with a next recurring date in the response","full_description":"Api::RecurringInvoicesIntegration #show when an invoice has no end date responds with an invoice with a next recurring date in the response","status":"passed","file_path":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb","line_number":414,"run_time":0.095691876,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb[1:2:4:1]","description":"responds with an invoice with a next recurs on date","full_description":"Api::RecurringInvoicesIntegration #show when an invoice recurs before end date responds with an invoice with a next recurs on date","status":"passed","file_path":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb","line_number":424,"run_time":0.087445932,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb[1:2:5:1]","description":"responds with an invoice without a next recurring date","full_description":"Api::RecurringInvoicesIntegration #show when an invoice has become inactive responds with an invoice without a next recurring date","status":"passed","file_path":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb","line_number":434,"run_time":0.086786291,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb[1:2:6:1]","description":"responds with an invoice with the correct currency","full_description":"Api::RecurringInvoicesIntegration #show when an invoice is in a foreign currency responds with an invoice with the correct currency","status":"passed","file_path":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb","line_number":445,"run_time":0.101387182,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb[1:2:7:1]","description":"responds with an invoice","full_description":"Api::RecurringInvoicesIntegration #show when an invoice has recurred invoices responds with an invoice","status":"passed","file_path":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb","line_number":455,"run_time":0.500229511,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb[1:2:8:1]","description":"responds with a missing status","full_description":"Api::RecurringInvoicesIntegration #show when the invoice id is invalid responds with a missing status","status":"passed","file_path":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb","line_number":464,"run_time":0.072474027,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb[1:2:9:1]","description":"responds with a forbidden status","full_description":"Api::RecurringInvoicesIntegration #show when the user does not have permissions for recurring invoices responds with a forbidden status","status":"passed","file_path":"./spec/requests/api/recurring_invoice_integration_spec/read_recurring_invoice_profile_spec.rb","line_number":471,"run_time":0.075022846,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/pdf_generation_failed_mailer_spec.rb[1:1:1:1:1]","description":"is expected to be a multipart email","full_description":"PDFGenerationFailedMailer#pdf_generation_failed for a direct company with a failed invoice is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/pdf_generation_failed_mailer_spec.rb","line_number":27,"run_time":0.21180585,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/pdf_generation_failed_mailer_spec.rb[1:1:1:1:2]","description":"has the correct headers","full_description":"PDFGenerationFailedMailer#pdf_generation_failed for a direct company with a failed invoice has the correct headers","status":"passed","file_path":"./spec/mailers/pdf_generation_failed_mailer_spec.rb","line_number":29,"run_time":0.223657349,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/pdf_generation_failed_mailer_spec.rb[1:1:1:1:3]","description":"is expected not to have click tracking","full_description":"PDFGenerationFailedMailer#pdf_generation_failed for a direct company with a failed invoice is expected not to have click tracking","status":"passed","file_path":"./spec/mailers/pdf_generation_failed_mailer_spec.rb","line_number":40,"run_time":0.250101693,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/pdf_generation_failed_mailer_spec.rb[1:1:1:1:4:1]","description":"is expected to match /Good luck!\\nTeam FreeAgent/","full_description":"PDFGenerationFailedMailer#pdf_generation_failed for a direct company with a failed invoice text part is expected to match /Good luck!\\nTeam FreeAgent/","status":"passed","file_path":"./spec/mailers/pdf_generation_failed_mailer_spec.rb","line_number":45,"run_time":0.282949684,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/pdf_generation_failed_mailer_spec.rb[1:1:1:1:4:2]","description":"is expected to match \"Invoice REF 0001\"","full_description":"PDFGenerationFailedMailer#pdf_generation_failed for a direct company with a failed invoice text part is expected to match \"Invoice REF 0001\"","status":"passed","file_path":"./spec/mailers/pdf_generation_failed_mailer_spec.rb","line_number":46,"run_time":0.232934163,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/pdf_generation_failed_mailer_spec.rb[1:1:1:1:4:3]","description":"is expected to match /Hi Winston,/","full_description":"PDFGenerationFailedMailer#pdf_generation_failed for a direct company with a failed invoice text part is expected to match /Hi Winston,/","status":"passed","file_path":"./spec/mailers/pdf_generation_failed_mailer_spec.rb","line_number":47,"run_time":0.207127293,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/pdf_generation_failed_mailer_spec.rb[1:1:1:1:5:1]","description":"is expected to match /Good luck!\u003cbr\u003e\\s+Team FreeAgent/","full_description":"PDFGenerationFailedMailer#pdf_generation_failed for a direct company with a failed invoice html part is expected to match /Good luck!\u003cbr\u003e\\s+Team FreeAgent/","status":"passed","file_path":"./spec/mailers/pdf_generation_failed_mailer_spec.rb","line_number":53,"run_time":0.205159794,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/pdf_generation_failed_mailer_spec.rb[1:1:1:1:5:2]","description":"is expected to match \"Invoice REF 0001\"","full_description":"PDFGenerationFailedMailer#pdf_generation_failed for a direct company with a failed invoice html part is expected to match \"Invoice REF 0001\"","status":"passed","file_path":"./spec/mailers/pdf_generation_failed_mailer_spec.rb","line_number":54,"run_time":0.233891802,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/pdf_generation_failed_mailer_spec.rb[1:1:1:1:5:3]","description":"is expected to match /Hi Winston,/","full_description":"PDFGenerationFailedMailer#pdf_generation_failed for a direct company with a failed invoice html part is expected to match /Hi Winston,/","status":"passed","file_path":"./spec/mailers/pdf_generation_failed_mailer_spec.rb","line_number":55,"run_time":0.20581321,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/pdf_generation_failed_mailer_spec.rb[1:1:1:2:1]","description":"has the correct headers","full_description":"PDFGenerationFailedMailer#pdf_generation_failed for a direct company with a failed statement of account has the correct headers","status":"passed","file_path":"./spec/mailers/pdf_generation_failed_mailer_spec.rb","line_number":72,"run_time":0.045261615,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/pdf_generation_failed_mailer_spec.rb[1:1:1:2:2]","description":"is expected not to have click tracking","full_description":"PDFGenerationFailedMailer#pdf_generation_failed for a direct company with a failed statement of account is expected not to have click tracking","status":"passed","file_path":"./spec/mailers/pdf_generation_failed_mailer_spec.rb","line_number":83,"run_time":0.042957567,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/pdf_generation_failed_mailer_spec.rb[1:1:1:2:3:1]","description":"is expected to match /Good luck!\\nTeam FreeAgent/","full_description":"PDFGenerationFailedMailer#pdf_generation_failed for a direct company with a failed statement of account text part is expected to match /Good luck!\\nTeam FreeAgent/","status":"passed","file_path":"./spec/mailers/pdf_generation_failed_mailer_spec.rb","line_number":88,"run_time":0.043016952,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/pdf_generation_failed_mailer_spec.rb[1:1:1:2:3:2]","description":"is expected to match \"Sell Fridges's Statement of Account\"","full_description":"PDFGenerationFailedMailer#pdf_generation_failed for a direct company with a failed statement of account text part is expected to match \"Sell Fridges's Statement of Account\"","status":"passed","file_path":"./spec/mailers/pdf_generation_failed_mailer_spec.rb","line_number":89,"run_time":0.049505081,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/pdf_generation_failed_mailer_spec.rb[1:1:1:2:3:3]","description":"is expected to match /Hi Winston,/","full_description":"PDFGenerationFailedMailer#pdf_generation_failed for a direct company with a failed statement of account text part is expected to match /Hi Winston,/","status":"passed","file_path":"./spec/mailers/pdf_generation_failed_mailer_spec.rb","line_number":90,"run_time":0.052378594,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/pdf_generation_failed_mailer_spec.rb[1:1:1:2:4:1]","description":"is expected to match /Good luck!\u003cbr\u003e\\s+Team FreeAgent/","full_description":"PDFGenerationFailedMailer#pdf_generation_failed for a direct company with a failed statement of account html part is expected to match /Good luck!\u003cbr\u003e\\s+Team FreeAgent/","status":"passed","file_path":"./spec/mailers/pdf_generation_failed_mailer_spec.rb","line_number":96,"run_time":0.054270908,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/pdf_generation_failed_mailer_spec.rb[1:1:1:2:4:2]","description":"is expected to match \"Sell Fridges\u0026#39;s Statement of Account could not be sent\"","full_description":"PDFGenerationFailedMailer#pdf_generation_failed for a direct company with a failed statement of account html part is expected to match \"Sell Fridges\u0026#39;s Statement of Account could not be sent\"","status":"passed","file_path":"./spec/mailers/pdf_generation_failed_mailer_spec.rb","line_number":97,"run_time":0.051676086,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/pdf_generation_failed_mailer_spec.rb[1:1:1:2:4:3]","description":"is expected to match /Hi Winston,/","full_description":"PDFGenerationFailedMailer#pdf_generation_failed for a direct company with a failed statement of account html part is expected to match /Hi Winston,/","status":"passed","file_path":"./spec/mailers/pdf_generation_failed_mailer_spec.rb","line_number":98,"run_time":0.047570475,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/pdf_generation_failed_mailer_spec.rb[1:1:2:1]","description":"is expected not to be a multipart email","full_description":"PDFGenerationFailedMailer#pdf_generation_failed for a whitelabelled company is expected not to be a multipart email","status":"passed","file_path":"./spec/mailers/pdf_generation_failed_mailer_spec.rb","line_number":111,"run_time":0.263728848,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/pdf_generation_failed_mailer_spec.rb[1:1:2:2]","description":"has the correct headers","full_description":"PDFGenerationFailedMailer#pdf_generation_failed for a whitelabelled company has the correct headers","status":"passed","file_path":"./spec/mailers/pdf_generation_failed_mailer_spec.rb","line_number":113,"run_time":0.246303841,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/pdf_generation_failed_mailer_spec.rb[1:1:2:3]","description":"is expected not to have click tracking","full_description":"PDFGenerationFailedMailer#pdf_generation_failed for a whitelabelled company is expected not to have click tracking","status":"passed","file_path":"./spec/mailers/pdf_generation_failed_mailer_spec.rb","line_number":124,"run_time":0.273016597,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/pdf_generation_failed_mailer_spec.rb[1:1:2:4:1]","description":"is expected to match /Hi Winston,/","full_description":"PDFGenerationFailedMailer#pdf_generation_failed for a whitelabelled company content is expected to match /Hi Winston,/","status":"passed","file_path":"./spec/mailers/pdf_generation_failed_mailer_spec.rb","line_number":129,"run_time":0.265299298,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/pdf_generation_failed_mailer_spec.rb[1:1:2:4:2]","description":"is expected not to match /freeagent/i","full_description":"PDFGenerationFailedMailer#pdf_generation_failed for a whitelabelled company content is expected not to match /freeagent/i","status":"passed","file_path":"./spec/mailers/pdf_generation_failed_mailer_spec.rb","line_number":130,"run_time":0.293066292,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/pdf_generation_failed_mailer_spec.rb[1:1:2:4:3]","description":"is expected to include \"The Acountantancy Father\"","full_description":"PDFGenerationFailedMailer#pdf_generation_failed for a whitelabelled company content is expected to include \"The Acountantancy Father\"","status":"passed","file_path":"./spec/mailers/pdf_generation_failed_mailer_spec.rb","line_number":131,"run_time":0.255909871,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/pdf_generation_failed_mailer_spec.rb[1:1:2:4:4]","description":"is expected to match \"Invoice REF 0001\"","full_description":"PDFGenerationFailedMailer#pdf_generation_failed for a whitelabelled company content is expected to match \"Invoice REF 0001\"","status":"passed","file_path":"./spec/mailers/pdf_generation_failed_mailer_spec.rb","line_number":132,"run_time":0.267291287,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/calculator_spec.rb[1:1:6]","description":"ignores non-discountable companies in the discount calculations","full_description":"Fapd::Billing::Calculator#pricing_today_for_company ignores non-discountable companies in the discount calculations","status":"passed","file_path":"./spec/models/fapd/billing/calculator_spec.rb","line_number":124,"run_time":0.244783495,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/calculator_spec.rb[1:1:1:1]","description":"assigns the other older company to the first tier","full_description":"Fapd::Billing::Calculator#pricing_today_for_company when the practice has multiple companies with different first names assigns the other older company to the first tier","status":"passed","file_path":"./spec/models/fapd/billing/calculator_spec.rb","line_number":49,"run_time":0.439845473,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/calculator_spec.rb[1:1:1:2]","description":"assigns the older company to the first tier","full_description":"Fapd::Billing::Calculator#pricing_today_for_company when the practice has multiple companies with different first names assigns the older company to the first tier","status":"passed","file_path":"./spec/models/fapd/billing/calculator_spec.rb","line_number":55,"run_time":0.403998033,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/calculator_spec.rb[1:1:1:3]","description":"assigns the newer company to the second tier","full_description":"Fapd::Billing::Calculator#pricing_today_for_company when the practice has multiple companies with different first names assigns the newer company to the second tier","status":"passed","file_path":"./spec/models/fapd/billing/calculator_spec.rb","line_number":61,"run_time":0.368094342,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/calculator_spec.rb[1:1:2:1]","description":"raises an ArgumentError","full_description":"Fapd::Billing::Calculator#pricing_today_for_company when company is not in the practice raises an ArgumentError","status":"passed","file_path":"./spec/models/fapd/billing/calculator_spec.rb","line_number":75,"run_time":0.191840343,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/calculator_spec.rb[1:1:3:1]","description":"has the expected price for company","full_description":"Fapd::Billing::Calculator#pricing_today_for_company when company is practice managed has the expected price for company","status":"passed","file_path":"./spec/models/fapd/billing/calculator_spec.rb","line_number":87,"run_time":0.175798148,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/calculator_spec.rb[1:1:3:2]","description":"has the expected discount rate for a company","full_description":"Fapd::Billing::Calculator#pricing_today_for_company when company is practice managed has the expected discount rate for a company","status":"passed","file_path":"./spec/models/fapd/billing/calculator_spec.rb","line_number":91,"run_time":0.141583951,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/calculator_spec.rb[1:1:4:1]","description":"returns a zero list-price","full_description":"Fapd::Billing::Calculator#pricing_today_for_company when the company is on an FAPDRBSG subscription returns a zero list-price","status":"passed","file_path":"./spec/models/fapd/billing/calculator_spec.rb","line_number":99,"run_time":0.077949138,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/calculator_spec.rb[1:1:4:2]","description":"returns no discount","full_description":"Fapd::Billing::Calculator#pricing_today_for_company when the company is on an FAPDRBSG subscription returns no discount","status":"passed","file_path":"./spec/models/fapd/billing/calculator_spec.rb","line_number":103,"run_time":0.077427904,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/calculator_spec.rb[1:1:5:1]","description":"has the expected price for company","full_description":"Fapd::Billing::Calculator#pricing_today_for_company when company is linked has the expected price for company","status":"passed","file_path":"./spec/models/fapd/billing/calculator_spec.rb","line_number":115,"run_time":0.108068367,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/calculator_spec.rb[1:1:5:2]","description":"has the expected discount rate for a company","full_description":"Fapd::Billing::Calculator#pricing_today_for_company when company is linked has the expected discount rate for a company","status":"passed","file_path":"./spec/models/fapd/billing/calculator_spec.rb","line_number":119,"run_time":0.114018848,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/calculator_spec.rb[1:2:1:1]","description":"should be GBP","full_description":"Fapd::Billing::Calculator#billing_currency for a practice attached to a GBP pricing plan should be GBP","status":"passed","file_path":"./spec/models/fapd/billing/calculator_spec.rb","line_number":144,"run_time":0.046128807,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/calculator_spec.rb[1:2:2:1]","description":"should be USD","full_description":"Fapd::Billing::Calculator#billing_currency for a practice attached to a USD pricing plan should be USD","status":"passed","file_path":"./spec/models/fapd/billing/calculator_spec.rb","line_number":154,"run_time":0.046626776,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/calculator_spec.rb[1:3:1]","description":"creates a pricing item for each snapshot","full_description":"Fapd::Billing::Calculator#pricing with a GBP pricing plan with several tiers creates a pricing item for each snapshot","status":"passed","file_path":"./spec/models/fapd/billing/calculator_spec.rb","line_number":213,"run_time":0.088281794,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/calculator_spec.rb[1:3:2]","description":"includes pricing items for practice-managed snapshots at the 30% tier","full_description":"Fapd::Billing::Calculator#pricing with a GBP pricing plan with several tiers includes pricing items for practice-managed snapshots at the 30% tier","status":"passed","file_path":"./spec/models/fapd/billing/calculator_spec.rb","line_number":217,"run_time":0.077660321,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/calculator_spec.rb[1:3:3]","description":"includes pricing items for practice-managed snapshots at the 40% tier","full_description":"Fapd::Billing::Calculator#pricing with a GBP pricing plan with several tiers includes pricing items for practice-managed snapshots at the 40% tier","status":"passed","file_path":"./spec/models/fapd/billing/calculator_spec.rb","line_number":227,"run_time":0.079826323,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/calculator_spec.rb[1:3:4]","description":"includes pricing items for practice-managed snapshots at the 50% tier","full_description":"Fapd::Billing::Calculator#pricing with a GBP pricing plan with several tiers includes pricing items for practice-managed snapshots at the 50% tier","status":"passed","file_path":"./spec/models/fapd/billing/calculator_spec.rb","line_number":239,"run_time":0.090426273,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/calculator_spec.rb[1:3:5]","description":"includes pricing items for linked snapshots charged at £3 with no discount","full_description":"Fapd::Billing::Calculator#pricing with a GBP pricing plan with several tiers includes pricing items for linked snapshots charged at £3 with no discount","status":"passed","file_path":"./spec/models/fapd/billing/calculator_spec.rb","line_number":249,"run_time":0.086794607,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/calculator_spec.rb[1:4:1]","description":"creates a pricing item for each snapshot","full_description":"Fapd::Billing::Calculator#pricing with a GBP pricing plan with a single tier creates a pricing item for each snapshot","status":"passed","file_path":"./spec/models/fapd/billing/calculator_spec.rb","line_number":300,"run_time":0.118378761,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/calculator_spec.rb[1:4:2]","description":"includes pricing items for practice-managed snapshots at the 30% tier","full_description":"Fapd::Billing::Calculator#pricing with a GBP pricing plan with a single tier includes pricing items for practice-managed snapshots at the 30% tier","status":"passed","file_path":"./spec/models/fapd/billing/calculator_spec.rb","line_number":304,"run_time":0.072042263,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/calculator_spec.rb[1:5:1]","description":"returns a pricing item for each snapshot","full_description":"Fapd::Billing::Calculator#pricing with a USD pricing plan returns a pricing item for each snapshot","status":"passed","file_path":"./spec/models/fapd/billing/calculator_spec.rb","line_number":378,"run_time":0.088512361,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/calculator_spec.rb[1:5:2]","description":"includes pricing items for practice-managed snapshots at the 30% tier","full_description":"Fapd::Billing::Calculator#pricing with a USD pricing plan includes pricing items for practice-managed snapshots at the 30% tier","status":"passed","file_path":"./spec/models/fapd/billing/calculator_spec.rb","line_number":382,"run_time":0.081018104,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/calculator_spec.rb[1:5:3]","description":"includes pricing items for practice-managed snapshots at the 40% tier","full_description":"Fapd::Billing::Calculator#pricing with a USD pricing plan includes pricing items for practice-managed snapshots at the 40% tier","status":"passed","file_path":"./spec/models/fapd/billing/calculator_spec.rb","line_number":392,"run_time":0.085342235,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/calculator_spec.rb[1:5:4]","description":"includes pricing items for practice-managed snapshots at the 50% tier (with currency conversion)","full_description":"Fapd::Billing::Calculator#pricing with a USD pricing plan includes pricing items for practice-managed snapshots at the 50% tier (with currency conversion)","status":"passed","file_path":"./spec/models/fapd/billing/calculator_spec.rb","line_number":404,"run_time":0.078940773,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/calculator_spec.rb[1:5:5]","description":"includes pricing items for linked snapshots charged at £3 in USD with no discount","full_description":"Fapd::Billing::Calculator#pricing with a USD pricing plan includes pricing items for linked snapshots charged at £3 in USD with no discount","status":"passed","file_path":"./spec/models/fapd/billing/calculator_spec.rb","line_number":414,"run_time":0.079539631,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/calculator_spec.rb[1:6:1]","description":"returns a pricing item for each snapshot","full_description":"Fapd::Billing::Calculator#pricing with GBP pricing plan when tiers are created out of order returns a pricing item for each snapshot","status":"passed","file_path":"./spec/models/fapd/billing/calculator_spec.rb","line_number":470,"run_time":0.069846093,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/calculator_spec.rb[1:6:2]","description":"includes pricing items for  practice-managed snapshots at the 30% tier in the correct order","full_description":"Fapd::Billing::Calculator#pricing with GBP pricing plan when tiers are created out of order includes pricing items for  practice-managed snapshots at the 30% tier in the correct order","status":"passed","file_path":"./spec/models/fapd/billing/calculator_spec.rb","line_number":474,"run_time":0.075509954,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/calculator_spec.rb[1:6:3]","description":"includes pricing items for  practice-managed snapshots at the 40% tier in the correct order","full_description":"Fapd::Billing::Calculator#pricing with GBP pricing plan when tiers are created out of order includes pricing items for  practice-managed snapshots at the 40% tier in the correct order","status":"passed","file_path":"./spec/models/fapd/billing/calculator_spec.rb","line_number":484,"run_time":0.074617131,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/calculator_spec.rb[1:6:4]","description":"includes pricing items for  practice-managed snapshots at the 50% tier in the correct order","full_description":"Fapd::Billing::Calculator#pricing with GBP pricing plan when tiers are created out of order includes pricing items for  practice-managed snapshots at the 50% tier in the correct order","status":"passed","file_path":"./spec/models/fapd/billing/calculator_spec.rb","line_number":496,"run_time":0.07041433,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item/caching_spec.rb[1:1:1:1]","description":"updates the cached values","full_description":"BillItem when updating a bill_item on the bill when the total_value on a bill_item changes updates the cached values","status":"passed","file_path":"./spec/models/bill_item/caching_spec.rb","line_number":21,"run_time":0.321235231,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item/caching_spec.rb[1:1:2:1]","description":"updates the cached values","full_description":"BillItem when updating a bill_item on the bill when the sales_tax_rate on a bill_item changes updates the cached values","status":"passed","file_path":"./spec/models/bill_item/caching_spec.rb","line_number":31,"run_time":0.285297493,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item/caching_spec.rb[1:1:3:1]","description":"updates the cached values","full_description":"BillItem when updating a bill_item on the bill when the second_sales_tax_rate on a bill_item changes updates the cached values","status":"passed","file_path":"./spec/models/bill_item/caching_spec.rb","line_number":41,"run_time":0.276787459,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item/caching_spec.rb[1:2:1]","description":"updates the cached values","full_description":"BillItem when destroying a bill_item on the bill updates the cached values","status":"passed","file_path":"./spec/models/bill_item/caching_spec.rb","line_number":65,"run_time":0.266178288,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/notes/notes_spec.rb[1:1:1]","description":"removing a note","full_description":"Practice Client Notes company with existing notes removing a note","status":"passed","file_path":"./spec/features/practice_dashboard/notes/notes_spec.rb","line_number":23,"run_time":1.56205694,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/notes/notes_spec.rb[1:1:2]","description":"updating a note","full_description":"Practice Client Notes company with existing notes updating a note","status":"passed","file_path":"./spec/features/practice_dashboard/notes/notes_spec.rb","line_number":39,"run_time":1.208132207,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb[1:1:1:1]","description":"is expected to render template getting_started/open_banking_banking_details","full_description":"GettingStarted::OpenBankingBankingDetailsController for a RBS Group company #show is expected to render template getting_started/open_banking_banking_details","status":"passed","file_path":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb","line_number":27,"run_time":0.229197597,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb[1:1:1:2]","description":"displays the correct default bank name for UK companies","full_description":"GettingStarted::OpenBankingBankingDetailsController for a RBS Group company #show displays the correct default bank name for UK companies","status":"passed","file_path":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb","line_number":29,"run_time":0.164159208,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb[1:1:1:3]","description":"displays the correct label for sort code","full_description":"GettingStarted::OpenBankingBankingDetailsController for a RBS Group company #show displays the correct label for sort code","status":"passed","file_path":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb","line_number":33,"run_time":0.19297916,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb[1:1:1:4]","description":"displays the correct label for opening balance","full_description":"GettingStarted::OpenBankingBankingDetailsController for a RBS Group company #show displays the correct label for opening balance","status":"passed","file_path":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb","line_number":37,"run_time":0.165951126,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb[1:1:1:5]","description":"uses FreeAgent start date for opening balances help text","full_description":"GettingStarted::OpenBankingBankingDetailsController for a RBS Group company #show uses FreeAgent start date for opening balances help text","status":"passed","file_path":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb","line_number":41,"run_time":0.165237959,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb[1:1:1:6]","description":"defaults to a zero opening balance","full_description":"GettingStarted::OpenBankingBankingDetailsController for a RBS Group company #show defaults to a zero opening balance","status":"passed","file_path":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb","line_number":46,"run_time":0.302201491,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb[1:1:2:1]","description":"does not track the step and displays errors to the user if banking details are invalid","full_description":"GettingStarted::OpenBankingBankingDetailsController for a RBS Group company #update does not track the step and displays errors to the user if banking details are invalid","status":"passed","file_path":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb","line_number":52,"run_time":0.893262185,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb[1:1:2:2]","description":"tracks the step and redirects to the overview page if banking details are valid","full_description":"GettingStarted::OpenBankingBankingDetailsController for a RBS Group company #update tracks the step and redirects to the overview page if banking details are valid","status":"passed","file_path":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb","line_number":62,"run_time":0.216678753,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb[1:2:1]","description":"displays the extra instructions","full_description":"GettingStarted::OpenBankingBankingDetailsController for a company provisioned by frontbook onboarding displays the extra instructions","status":"passed","file_path":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb","line_number":98,"run_time":0.20227811,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb[1:2:2]","description":"removes the non-editable fields","full_description":"GettingStarted::OpenBankingBankingDetailsController for a company provisioned by frontbook onboarding removes the non-editable fields","status":"passed","file_path":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb","line_number":102,"run_time":0.201605966,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/admin/practice_managed_subscription_form_spec.rb[1:1:1]","description":"ensures all required attributes are supplied","full_description":"Admin::PracticeManagedSubscriptionForm#valid? ensures all required attributes are supplied","status":"passed","file_path":"./spec/freeagent/admin/practice_managed_subscription_form_spec.rb","line_number":12,"run_time":0.156645542,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/admin/practice_managed_subscription_form_spec.rb[1:1:2]","description":"disallows account managers from other practices","full_description":"Admin::PracticeManagedSubscriptionForm#valid? disallows account managers from other practices","status":"passed","file_path":"./spec/freeagent/admin/practice_managed_subscription_form_spec.rb","line_number":20,"run_time":0.194745276,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/admin/practice_managed_subscription_form_spec.rb[1:1:3]","description":"allows account managers from the same practice","full_description":"Admin::PracticeManagedSubscriptionForm#valid? allows account managers from the same practice","status":"passed","file_path":"./spec/freeagent/admin/practice_managed_subscription_form_spec.rb","line_number":32,"run_time":0.151594701,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/admin/practice_managed_subscription_form_spec.rb[1:1:4]","description":"allows the status to be set to Closed Licence","full_description":"Admin::PracticeManagedSubscriptionForm#valid? allows the status to be set to Closed Licence","status":"passed","file_path":"./spec/freeagent/admin/practice_managed_subscription_form_spec.rb","line_number":42,"run_time":0.163055914,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/admin/practice_managed_subscription_form_spec.rb[1:1:5:1]","description":"validates that 'Details' must be present","full_description":"Admin::PracticeManagedSubscriptionForm#valid? when reason is 'Other' validates that 'Details' must be present","status":"passed","file_path":"./spec/freeagent/admin/practice_managed_subscription_form_spec.rb","line_number":53,"run_time":0.181654896,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/admin/practice_managed_subscription_form_spec.rb[1:2:1:1:1]","description":"updates the company's account_manager","full_description":"Admin::PracticeManagedSubscriptionForm#save when changing account managers where there is no existing PracticeClient::Relationship updates the company's account_manager","status":"passed","file_path":"./spec/freeagent/admin/practice_managed_subscription_form_spec.rb","line_number":93,"run_time":0.202423562,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/admin/practice_managed_subscription_form_spec.rb[1:2:1:1:2]","description":"creates a new PracticeClient::Relationship","full_description":"Admin::PracticeManagedSubscriptionForm#save when changing account managers where there is no existing PracticeClient::Relationship creates a new PracticeClient::Relationship","status":"passed","file_path":"./spec/freeagent/admin/practice_managed_subscription_form_spec.rb","line_number":98,"run_time":0.173469082,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/admin/practice_managed_subscription_form_spec.rb[1:2:1:2:1]","description":"updates the company's account_manager","full_description":"Admin::PracticeManagedSubscriptionForm#save when changing account managers where there is an existing PracticeClient::Relationship updates the company's account_manager","status":"passed","file_path":"./spec/freeagent/admin/practice_managed_subscription_form_spec.rb","line_number":111,"run_time":0.170398104,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/admin/practice_managed_subscription_form_spec.rb[1:2:1:2:2]","description":"updates the existing PracticeClient::Relationship","full_description":"Admin::PracticeManagedSubscriptionForm#save when changing account managers where there is an existing PracticeClient::Relationship updates the existing PracticeClient::Relationship","status":"passed","file_path":"./spec/freeagent/admin/practice_managed_subscription_form_spec.rb","line_number":116,"run_time":0.164759826,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/admin/practice_managed_subscription_form_spec.rb[1:2:2:1]","description":"saves licence activation","full_description":"Admin::PracticeManagedSubscriptionForm#save when attempting licence activation saves licence activation","status":"passed","file_path":"./spec/freeagent/admin/practice_managed_subscription_form_spec.rb","line_number":133,"run_time":0.180442007,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/admin/practice_managed_subscription_form_spec.rb[1:2:3:1]","description":"saves licence deactivation","full_description":"Admin::PracticeManagedSubscriptionForm#save when attempting licence deactivation saves licence deactivation","status":"passed","file_path":"./spec/freeagent/admin/practice_managed_subscription_form_spec.rb","line_number":145,"run_time":0.149635192,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/admin/practice_managed_subscription_form_spec.rb[1:2:4:1]","description":"saves the new status","full_description":"Admin::PracticeManagedSubscriptionForm#save when changing between non-activated statuses saves the new status","status":"passed","file_path":"./spec/freeagent/admin/practice_managed_subscription_form_spec.rb","line_number":158,"run_time":0.13247306,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/admin/practice_managed_subscription_form_spec.rb[1:2:5:1]","description":"saves changes to account type","full_description":"Admin::PracticeManagedSubscriptionForm#save when changing account type saves changes to account type","status":"passed","file_path":"./spec/freeagent/admin/practice_managed_subscription_form_spec.rb","line_number":170,"run_time":0.143076606,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_addresses_spec.rb[1:1:1:1:1]","description":"returns false","full_description":"EmailAddresses#valid? for the company email address when unverified returns false","status":"passed","file_path":"./spec/models/email_addresses_spec.rb","line_number":19,"run_time":0.098437508,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_addresses_spec.rb[1:1:1:2:1]","description":"returns true","full_description":"EmailAddresses#valid? for the company email address when verified returns true","status":"passed","file_path":"./spec/models/email_addresses_spec.rb","line_number":26,"run_time":0.113036153,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_addresses_spec.rb[1:1:2:1:1]","description":"returns false","full_description":"EmailAddresses#valid? for the account owner's email address when unverified returns false","status":"passed","file_path":"./spec/models/email_addresses_spec.rb","line_number":41,"run_time":0.08611985,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_addresses_spec.rb[1:1:2:2:1]","description":"returns true","full_description":"EmailAddresses#valid? for the account owner's email address when verified returns true","status":"passed","file_path":"./spec/models/email_addresses_spec.rb","line_number":48,"run_time":0.093970445,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_addresses_spec.rb[1:1:3:1]","description":"is expected to equal false","full_description":"EmailAddresses#valid? for a non sender email address is expected to equal false","status":"passed","file_path":"./spec/models/email_addresses_spec.rb","line_number":57,"run_time":0.099428028,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_addresses_spec.rb[1:2:1:1:1]","description":"returns an empty list","full_description":"EmailAddresses#list for the company email address when unverified returns an empty list","status":"passed","file_path":"./spec/models/email_addresses_spec.rb","line_number":70,"run_time":0.103035194,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_addresses_spec.rb[1:2:1:2:1]","description":"returns the account owner's email addresses","full_description":"EmailAddresses#list for the company email address when verified returns the account owner's email addresses","status":"passed","file_path":"./spec/models/email_addresses_spec.rb","line_number":77,"run_time":0.113497639,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_addresses_spec.rb[1:2:2:1:1]","description":"returns an empty list","full_description":"EmailAddresses#list for the account owner's email address when unverified returns an empty list","status":"passed","file_path":"./spec/models/email_addresses_spec.rb","line_number":92,"run_time":0.097083469,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_addresses_spec.rb[1:2:2:2:1]","description":"returns the account owner's email addresses","full_description":"EmailAddresses#list for the account owner's email address when verified returns the account owner's email addresses","status":"passed","file_path":"./spec/models/email_addresses_spec.rb","line_number":99,"run_time":0.104658897,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_addresses_spec.rb[1:2:3:1]","description":"returns an empty list","full_description":"EmailAddresses#list company is nil returns an empty list","status":"passed","file_path":"./spec/models/email_addresses_spec.rb","line_number":109,"run_time":0.013122095,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_addresses_spec.rb[1:3:1:1]","description":"returns the email_in_full equivalent for a simple email","full_description":"EmailAddresses#convert_to_full if an equivalent exists returns the email_in_full equivalent for a simple email","status":"passed","file_path":"./spec/models/email_addresses_spec.rb","line_number":131,"run_time":0.089686722,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_addresses_spec.rb[1:3:1:2:1]","description":"returns the same email","full_description":"EmailAddresses#convert_to_full if an equivalent exists and it's already full returns the same email","status":"passed","file_path":"./spec/models/email_addresses_spec.rb","line_number":138,"run_time":0.1148039,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_addresses_spec.rb[1:3:2:1]","description":"returns itself","full_description":"EmailAddresses#convert_to_full if an equivalent doesn't exist returns itself","status":"passed","file_path":"./spec/models/email_addresses_spec.rb","line_number":147,"run_time":0.091637659,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_addresses_spec.rb[1:3:3:1]","description":"returns the first for a bare email address","full_description":"EmailAddresses#convert_to_full if two equivalents exist returns the first for a bare email address","status":"passed","file_path":"./spec/models/email_addresses_spec.rb","line_number":160,"run_time":0.126374565,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_addresses_spec.rb[1:3:3:2]","description":"returns the same one for a full email string","full_description":"EmailAddresses#convert_to_full if two equivalents exist returns the same one for a full email string","status":"passed","file_path":"./spec/models/email_addresses_spec.rb","line_number":165,"run_time":0.122918125,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_addresses_spec.rb[1:4:1:1]","description":"returns two items","full_description":"EmailAddresses#domains company has some verified emails returns two items","status":"passed","file_path":"./spec/models/email_addresses_spec.rb","line_number":189,"run_time":0.119263417,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_addresses_spec.rb[1:4:1:2]","description":"includes expected domains","full_description":"EmailAddresses#domains company has some verified emails includes expected domains","status":"passed","file_path":"./spec/models/email_addresses_spec.rb","line_number":193,"run_time":0.107473457,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_addresses_spec.rb[1:4:2:1]","description":"includes expected domains","full_description":"EmailAddresses#domains company has a verified email with accent character includes expected domains","status":"passed","file_path":"./spec/models/email_addresses_spec.rb","line_number":208,"run_time":0.120270021,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_addresses_spec.rb[1:4:3:1]","description":"includes expected domains","full_description":"EmailAddresses#domains company has invalid verified emails because of special characters includes expected domains","status":"passed","file_path":"./spec/models/email_addresses_spec.rb","line_number":230,"run_time":0.10026916,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_addresses_spec.rb[1:4:4:1]","description":"returns one item","full_description":"EmailAddresses#domains company that has multiple address from the same domain returns one item","status":"passed","file_path":"./spec/models/email_addresses_spec.rb","line_number":243,"run_time":0.112724113,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_addresses_spec.rb[1:4:4:2]","description":"includes expected domains","full_description":"EmailAddresses#domains company that has multiple address from the same domain includes expected domains","status":"passed","file_path":"./spec/models/email_addresses_spec.rb","line_number":247,"run_time":0.112676468,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_addresses_spec.rb[1:4:5:1]","description":"includes expected domains","full_description":"EmailAddresses#domains a company has verified addresses from free providers includes expected domains","status":"passed","file_path":"./spec/models/email_addresses_spec.rb","line_number":261,"run_time":0.110175742,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_addresses_spec.rb[1:4:5:2]","description":"does not include free provider domains","full_description":"EmailAddresses#domains a company has verified addresses from free providers does not include free provider domains","status":"passed","file_path":"./spec/models/email_addresses_spec.rb","line_number":265,"run_time":0.108027037,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_addresses_spec.rb[1:4:6:1]","description":"returns an empty array","full_description":"EmailAddresses#domains a company has no valid entries returns an empty array","status":"passed","file_path":"./spec/models/email_addresses_spec.rb","line_number":271,"run_time":0.098753242,"pending_message":null,"screenshot":null},{"id":"./spec/requests/radar/insights/summer_2020_vat_reduction_spec.rb[1:1]","description":"renders the Summer 2020 VAT reduction update","full_description":"Summer 2020 VAT reduction ping renders the Summer 2020 VAT reduction update","status":"passed","file_path":"./spec/requests/radar/insights/summer_2020_vat_reduction_spec.rb","line_number":16,"run_time":0.531381534,"pending_message":null,"screenshot":null},{"id":"./spec/requests/radar/insights/summer_2020_vat_reduction_spec.rb[1:2]","description":"handles unexpected state of Summer2020VatReduction rule","full_description":"Summer 2020 VAT reduction ping handles unexpected state of Summer2020VatReduction rule","status":"passed","file_path":"./spec/requests/radar/insights/summer_2020_vat_reduction_spec.rb","line_number":44,"run_time":0.525704252,"pending_message":null,"screenshot":null},{"id":"./spec/views/recurring_invoices/new.html.erb_spec.rb[1:1:1]","description":"does not show any property related fields or drop-downs","full_description":"recurring_invoices/new for a non-landlord company does not show any property related fields or drop-downs","status":"passed","file_path":"./spec/views/recurring_invoices/new.html.erb_spec.rb","line_number":14,"run_time":0.09480182,"pending_message":null,"screenshot":null},{"id":"./spec/views/recurring_invoices/new.html.erb_spec.rb[1:2:1]","description":"has the correct fields and sections","full_description":"recurring_invoices/new for a landlord company has the correct fields and sections","status":"passed","file_path":"./spec/views/recurring_invoices/new.html.erb_spec.rb","line_number":23,"run_time":0.215130133,"pending_message":null,"screenshot":null},{"id":"./spec/views/recurring_invoices/new.html.erb_spec.rb[1:2:2:1]","description":"has the correct fields and sections","full_description":"recurring_invoices/new for a landlord company which already has properties, contacts and projects has the correct fields and sections","status":"passed","file_path":"./spec/views/recurring_invoices/new.html.erb_spec.rb","line_number":48,"run_time":0.215065864,"pending_message":null,"screenshot":null},{"id":"./spec/views/recurring_invoices/new.html.erb_spec.rb[1:2:3:1]","description":"has the correct fields and sections","full_description":"recurring_invoices/new for a landlord company which already has properties but no contacts has the correct fields and sections","status":"passed","file_path":"./spec/views/recurring_invoices/new.html.erb_spec.rb","line_number":64,"run_time":0.296944275,"pending_message":null,"screenshot":null},{"id":"./spec/views/recurring_invoices/new.html.erb_spec.rb[1:2:4:1]","description":"has the correct fields and sections","full_description":"recurring_invoices/new for a landlord company which already has contacts but no properties has the correct fields and sections","status":"passed","file_path":"./spec/views/recurring_invoices/new.html.erb_spec.rb","line_number":83,"run_time":0.168148417,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/subscriptions/show.html.erb_spec.rb[1:1:1]","description":"renders the next_subscription_invoice partial","full_description":"admin/companies/subscriptions/show when there is a next subscription invoice renders the next_subscription_invoice partial","status":"passed","file_path":"./spec/views/admin/companies/subscriptions/show.html.erb_spec.rb","line_number":28,"run_time":0.341526295,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/subscriptions/show.html.erb_spec.rb[1:1:2]","description":"renders the invoices_and_payment_failures partial","full_description":"admin/companies/subscriptions/show when there is a next subscription invoice renders the invoices_and_payment_failures partial","status":"passed","file_path":"./spec/views/admin/companies/subscriptions/show.html.erb_spec.rb","line_number":32,"run_time":0.308443841,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/subscriptions/show.html.erb_spec.rb[1:2:1]","description":"renders the next_addon_invoice partial","full_description":"admin/companies/subscriptions/show when there is a next addon invoice renders the next_addon_invoice partial","status":"passed","file_path":"./spec/views/admin/companies/subscriptions/show.html.erb_spec.rb","line_number":44,"run_time":0.22741228,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/subscriptions/show.html.erb_spec.rb[1:3:1]","description":"renders both the next_subscription_invoice and next_addon_invoice partial","full_description":"admin/companies/subscriptions/show when there is a next subscription invoice and a next addon invoice renders both the next_subscription_invoice and next_addon_invoice partial","status":"passed","file_path":"./spec/views/admin/companies/subscriptions/show.html.erb_spec.rb","line_number":57,"run_time":0.280537303,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/subscriptions/show.html.erb_spec.rb[1:4:1]","description":"renders a notice to say the company is not billable","full_description":"admin/companies/subscriptions/show when there are no upcoming payments renders a notice to say the company is not billable","status":"passed","file_path":"./spec/views/admin/companies/subscriptions/show.html.erb_spec.rb","line_number":70,"run_time":0.109090693,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/subscriptions/show.html.erb_spec.rb[1:4:2:1]","description":"renders the invoices_and_payment_failures partial","full_description":"admin/companies/subscriptions/show when there are no upcoming payments when there are previous invoices or payment failures renders the invoices_and_payment_failures partial","status":"passed","file_path":"./spec/views/admin/companies/subscriptions/show.html.erb_spec.rb","line_number":76,"run_time":0.212011686,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/subscriptions/show.html.erb_spec.rb[1:5:1]","description":"renders an information box","full_description":"admin/companies/subscriptions/show when an apple subscription is in an invalid state renders an information box","status":"passed","file_path":"./spec/views/admin/companies/subscriptions/show.html.erb_spec.rb","line_number":89,"run_time":0.219676406,"pending_message":null,"screenshot":null},{"id":"./spec/components/project_list_component_spec.rb[1:1:1]","description":"renders a message say there are no projects","full_description":"ProjectListComponent when rendering the projects list with no projects renders a message say there are no projects","status":"passed","file_path":"./spec/components/project_list_component_spec.rb","line_number":22,"run_time":0.022713584,"pending_message":null,"screenshot":null},{"id":"./spec/components/project_list_component_spec.rb[1:2:1:1]","description":"sets the list’s num-cols custom property to the correct value","full_description":"ProjectListComponent when rendering the projects list with no assigns when ordering by desc sets the list’s num-cols custom property to the correct value","status":"passed","file_path":"./spec/components/project_list_component_spec.rb","line_number":33,"run_time":0.086543746,"pending_message":null,"screenshot":null},{"id":"./spec/components/project_list_component_spec.rb[1:2:1:2]","description":"renders the name cell with header and content","full_description":"ProjectListComponent when rendering the projects list with no assigns when ordering by desc renders the name cell with header and content","status":"passed","file_path":"./spec/components/project_list_component_spec.rb","line_number":39,"run_time":0.075850406,"pending_message":null,"screenshot":null},{"id":"./spec/components/project_list_component_spec.rb[1:2:1:3]","description":"renders the contact cell with header and content","full_description":"ProjectListComponent when rendering the projects list with no assigns when ordering by desc renders the contact cell with header and content","status":"passed","file_path":"./spec/components/project_list_component_spec.rb","line_number":47,"run_time":0.084468206,"pending_message":null,"screenshot":null},{"id":"./spec/components/project_list_component_spec.rb[1:2:1:4]","description":"renders the dates cell with header and content","full_description":"ProjectListComponent when rendering the projects list with no assigns when ordering by desc renders the dates cell with header and content","status":"passed","file_path":"./spec/components/project_list_component_spec.rb","line_number":56,"run_time":0.075395093,"pending_message":null,"screenshot":null},{"id":"./spec/components/project_list_component_spec.rb[1:2:1:5]","description":"renders the invoiced cell with header and content","full_description":"ProjectListComponent when rendering the projects list with no assigns when ordering by desc renders the invoiced cell with header and content","status":"passed","file_path":"./spec/components/project_list_component_spec.rb","line_number":64,"run_time":0.159733661,"pending_message":null,"screenshot":null},{"id":"./spec/components/project_list_component_spec.rb[1:2:1:6]","description":"renders the invoiced cell with the projects value from invoice line items","full_description":"ProjectListComponent when rendering the projects list with no assigns when ordering by desc renders the invoiced cell with the projects value from invoice line items","status":"passed","file_path":"./spec/components/project_list_component_spec.rb","line_number":85,"run_time":0.293570807,"pending_message":null,"screenshot":null},{"id":"./spec/components/project_list_component_spec.rb[1:2:1:7]","description":"renders the to be invoiced cell with header and content","full_description":"ProjectListComponent when rendering the projects list with no assigns when ordering by desc renders the to be invoiced cell with header and content","status":"passed","file_path":"./spec/components/project_list_component_spec.rb","line_number":113,"run_time":0.090748495,"pending_message":null,"screenshot":null},{"id":"./spec/components/project_list_component_spec.rb[1:2:1:8]","description":"renders the to be budget with header and content","full_description":"ProjectListComponent when rendering the projects list with no assigns when ordering by desc renders the to be budget with header and content","status":"passed","file_path":"./spec/components/project_list_component_spec.rb","line_number":122,"run_time":0.093471226,"pending_message":null,"screenshot":null},{"id":"./spec/components/project_list_component_spec.rb[1:2:1:9]","description":"renders the actions for the project","full_description":"ProjectListComponent when rendering the projects list with no assigns when ordering by desc renders the actions for the project","status":"passed","file_path":"./spec/components/project_list_component_spec.rb","line_number":130,"run_time":0.09647878,"pending_message":null,"screenshot":null},{"id":"./spec/components/project_list_component_spec.rb[1:2:2:1]","description":"renders the order by cell with descending markers","full_description":"ProjectListComponent when rendering the projects list with no assigns when order direction is reversed renders the order by cell with descending markers","status":"passed","file_path":"./spec/components/project_list_component_spec.rb","line_number":144,"run_time":0.080038645,"pending_message":null,"screenshot":null},{"id":"./spec/components/project_list_component_spec.rb[1:2:3:1]","description":"renders the order by cell with ascending markers","full_description":"ProjectListComponent when rendering the projects list with no assigns when order direction is not set renders the order by cell with ascending markers","status":"passed","file_path":"./spec/components/project_list_component_spec.rb","line_number":157,"run_time":0.075660795,"pending_message":null,"screenshot":null},{"id":"./spec/components/project_list_component_spec.rb[1:3:1:1]","description":"renders the name cell with header and content","full_description":"ProjectListComponent when rendering the projects list with assigns when ordering by desc renders the name cell with header and content","status":"passed","file_path":"./spec/components/project_list_component_spec.rb","line_number":174,"run_time":0.075857308,"pending_message":null,"screenshot":null},{"id":"./spec/components/project_list_component_spec.rb[1:3:1:2]","description":"renders the contact cell with header and content","full_description":"ProjectListComponent when rendering the projects list with assigns when ordering by desc renders the contact cell with header and content","status":"passed","file_path":"./spec/components/project_list_component_spec.rb","line_number":183,"run_time":0.07301643,"pending_message":null,"screenshot":null},{"id":"./spec/components/project_list_component_spec.rb[1:4:1]","description":"correctly sets the list’s num-cols custom property based to reflect fewer columns","full_description":"ProjectListComponent when the user is a level 3 user correctly sets the list’s num-cols custom property based to reflect fewer columns","status":"passed","file_path":"./spec/components/project_list_component_spec.rb","line_number":199,"run_time":0.060208085,"pending_message":null,"screenshot":null},{"id":"./spec/components/project_list_component_spec.rb[1:4:2]","description":"does not render the invoice net and to be invoiced columns","full_description":"ProjectListComponent when the user is a level 3 user does not render the invoice net and to be invoiced columns","status":"passed","file_path":"./spec/components/project_list_component_spec.rb","line_number":205,"run_time":0.341810169,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/identifier/rbsg_spec.rb[1:1:1:1]","description":"is expected to include #\u003cUkLimitedCompany id: 895398133, name: \"FreeAgent Central\"\u003e, #\u003cUkLimitedCompany id: 895398134, name: \"FreeAgent Central\"\u003e, and #\u003cUkLimitedCompany id: 895398135, name: \"FreeAgent Central\"\u003e","full_description":"Disengagement::Identifier::Rbsg.companies_disengaged_between with all types of disengaged companies is expected to include #\u003cUkLimitedCompany id: 895398133, name: \"FreeAgent Central\"\u003e, #\u003cUkLimitedCompany id: 895398134, name: \"FreeAgent Central\"\u003e, and #\u003cUkLimitedCompany id: 895398135, name: \"FreeAgent Central\"\u003e","status":"passed","file_path":"./spec/models/disengagement/identifier/rbsg_spec.rb","line_number":37,"run_time":0.929171275,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/identifier/rbsg_spec.rb[1:1:1:2]","description":"is expected not to include #\u003cUkLimitedCompany id: 895398136, name: \"Cancelled\"\u003e","full_description":"Disengagement::Identifier::Rbsg.companies_disengaged_between with all types of disengaged companies is expected not to include #\u003cUkLimitedCompany id: 895398136, name: \"Cancelled\"\u003e","status":"passed","file_path":"./spec/models/disengagement/identifier/rbsg_spec.rb","line_number":38,"run_time":0.09679905,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/identifier/rbsg_spec.rb[1:1:2:1:1:1]","description":"is expected to contain exactly #\u003cUkLimitedCompany id: 895398137, name: \"FreeAgent Central\"\u003e","full_description":"Disengagement::Identifier::Rbsg.companies_disengaged_between unused frontbook specific when company is disengaged incomplete setup, over a year old, and never accessed is expected to contain exactly #\u003cUkLimitedCompany id: 895398137, name: \"FreeAgent Central\"\u003e","status":"passed","file_path":"./spec/models/disengagement/identifier/rbsg_spec.rb","line_number":50,"run_time":0.147708634,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/identifier/rbsg_spec.rb[1:1:2:1:2:1]","description":"is expected to contain exactly #\u003cUkLimitedCompany id: 895398138, name: \"FreeAgent Central\"\u003e","full_description":"Disengagement::Identifier::Rbsg.companies_disengaged_between unused frontbook specific when company is disengaged incomplete setup, over a year old, and accessed over a year ago is expected to contain exactly #\u003cUkLimitedCompany id: 895398138, name: \"FreeAgent Central\"\u003e","status":"passed","file_path":"./spec/models/disengagement/identifier/rbsg_spec.rb","line_number":63,"run_time":0.142672744,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/identifier/rbsg_spec.rb[1:1:2:2:1:1]","description":"is expected not to include #\u003cUkLimitedCompany id: 895398139, name: \"FreeAgent Central\"\u003e","full_description":"Disengagement::Identifier::Rbsg.companies_disengaged_between unused frontbook specific when company is not disengaged complete setup, over a year old, and never accessed is expected not to include #\u003cUkLimitedCompany id: 895398139, name: \"FreeAgent Central\"\u003e","status":"passed","file_path":"./spec/models/disengagement/identifier/rbsg_spec.rb","line_number":75,"run_time":0.126548189,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/identifier/rbsg_spec.rb[1:1:2:2:2:1]","description":"is expected not to include #\u003cUkLimitedCompany id: 895398140, name: \"FreeAgent Central\"\u003e","full_description":"Disengagement::Identifier::Rbsg.companies_disengaged_between unused frontbook specific when company is not disengaged incomplete setup, over a year old, and accessed less than a year ago is expected not to include #\u003cUkLimitedCompany id: 895398140, name: \"FreeAgent Central\"\u003e","status":"passed","file_path":"./spec/models/disengagement/identifier/rbsg_spec.rb","line_number":88,"run_time":0.130581242,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/identifier/rbsg_spec.rb[1:1:2:2:3:1]","description":"is expected not to include #\u003cUkLimitedCompany id: 895398141, name: \"FreeAgent Central\"\u003e","full_description":"Disengagement::Identifier::Rbsg.companies_disengaged_between unused frontbook specific when company is not disengaged incomplete setup, less than a year old, and never accessed is expected not to include #\u003cUkLimitedCompany id: 895398141, name: \"FreeAgent Central\"\u003e","status":"passed","file_path":"./spec/models/disengagement/identifier/rbsg_spec.rb","line_number":98,"run_time":0.133927742,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/identifier/rbsg_spec.rb[1:1:3:1:1:1]","description":"is expected to contain exactly #\u003cUkLimitedCompany id: 895398142, name: \"FreeAgent Central\"\u003e","full_description":"Disengagement::Identifier::Rbsg.companies_disengaged_between non-QAU specific when company is disengaged not accessed recently enough, created over two years ago is expected to contain exactly #\u003cUkLimitedCompany id: 895398142, name: \"FreeAgent Central\"\u003e","status":"passed","file_path":"./spec/models/disengagement/identifier/rbsg_spec.rb","line_number":114,"run_time":0.100002073,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/identifier/rbsg_spec.rb[1:1:3:1:2:1]","description":"is expected to contain exactly #\u003cUkLimitedCompany id: 895398143, name: \"FreeAgent Central\"\u003e","full_description":"Disengagement::Identifier::Rbsg.companies_disengaged_between non-QAU specific when company is disengaged never accessed and over 2 years old is expected to contain exactly #\u003cUkLimitedCompany id: 895398143, name: \"FreeAgent Central\"\u003e","status":"passed","file_path":"./spec/models/disengagement/identifier/rbsg_spec.rb","line_number":120,"run_time":0.100380816,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/identifier/rbsg_spec.rb[1:1:3:2:1:1]","description":"is expected not to include #\u003cUkLimitedCompany id: 895398144, name: \"FreeAgent Central\"\u003e","full_description":"Disengagement::Identifier::Rbsg.companies_disengaged_between non-QAU specific when company is not disengaged never accessed, but not over 2 years old is expected not to include #\u003cUkLimitedCompany id: 895398144, name: \"FreeAgent Central\"\u003e","status":"passed","file_path":"./spec/models/disengagement/identifier/rbsg_spec.rb","line_number":128,"run_time":0.095321743,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/identifier/rbsg_spec.rb[1:1:3:2:2:1]","description":"is expected not to include #\u003cUkLimitedCompany id: 895398145, name: \"FreeAgent Central\"\u003e","full_description":"Disengagement::Identifier::Rbsg.companies_disengaged_between non-QAU specific when company is not disengaged accessed more recently than 2 years is expected not to include #\u003cUkLimitedCompany id: 895398145, name: \"FreeAgent Central\"\u003e","status":"passed","file_path":"./spec/models/disengagement/identifier/rbsg_spec.rb","line_number":134,"run_time":0.114200876,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:1:2:2:1:2]","description":"for the payment of an invoice","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the cash accounting basis on the Flat Rate Scheme (at 5%) Bank Account Entries representing income for the payment of an invoice","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":3073,"run_time":0.867165909,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:1:2:2:7:3]","description":"representing business entertaining admin expense","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the cash accounting basis on the Flat Rate Scheme (at 5%) Bank Account Entries for the payment of a bill representing business entertaining admin expense","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":3251,"run_time":0.957791647,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/login_with_bank/eligibility_check_spec.rb[1:1:1:1:1]","description":"is expected to eq false","full_description":"Rbsg::LoginWithBank::EligibilityCheck#eligible? when the feature flag is disabled for an otherwise eligible company is expected to eq false","status":"passed","file_path":"./spec/freeagent/rbsg/login_with_bank/eligibility_check_spec.rb","line_number":29,"run_time":0.127551557,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/login_with_bank/eligibility_check_spec.rb[1:1:2:1]","description":"is expected to eq true","full_description":"Rbsg::LoginWithBank::EligibilityCheck#eligible? for an eligible company is expected to eq true","status":"passed","file_path":"./spec/freeagent/rbsg/login_with_bank/eligibility_check_spec.rb","line_number":34,"run_time":0.129470698,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/login_with_bank/eligibility_check_spec.rb[1:1:3:1]","description":"is expected to eq false","full_description":"Rbsg::LoginWithBank::EligibilityCheck#eligible? for a non-NWG/non-RBSG company is expected to eq false","status":"passed","file_path":"./spec/freeagent/rbsg/login_with_bank/eligibility_check_spec.rb","line_number":40,"run_time":0.015200091,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/login_with_bank/eligibility_check_spec.rb[1:1:4:1:1]","description":"is expected to eq false","full_description":"Rbsg::LoginWithBank::EligibilityCheck#eligible? for a NWG/RBSG company with no BINs nor CINs is expected to eq false","status":"passed","file_path":"./spec/freeagent/rbsg/login_with_bank/eligibility_check_spec.rb","line_number":47,"run_time":0.107122676,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/login_with_bank/eligibility_check_spec.rb[1:1:4:2:1]","description":"is expected to eq false","full_description":"Rbsg::LoginWithBank::EligibilityCheck#eligible? for a NWG/RBSG company with a BIN but no CIN is expected to eq false","status":"passed","file_path":"./spec/freeagent/rbsg/login_with_bank/eligibility_check_spec.rb","line_number":57,"run_time":0.131441398,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/login_with_bank/eligibility_check_spec.rb[1:1:4:3:1]","description":"is expected to eq false","full_description":"Rbsg::LoginWithBank::EligibilityCheck#eligible? for a NWG/RBSG company with a CIN but no BIN is expected to eq false","status":"passed","file_path":"./spec/freeagent/rbsg/login_with_bank/eligibility_check_spec.rb","line_number":67,"run_time":0.1247161,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/login_with_bank/eligibility_check_spec.rb[1:1:4:4:1]","description":"is expected to eq false","full_description":"Rbsg::LoginWithBank::EligibilityCheck#eligible? for a NWG/RBSG company with a CIN and a BIN but for different brands is expected to eq false","status":"passed","file_path":"./spec/freeagent/rbsg/login_with_bank/eligibility_check_spec.rb","line_number":78,"run_time":0.117848562,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/login_with_bank/eligibility_check_spec.rb[1:2:1:1]","description":"is expected to eq #\u003cOpenStruct name=\"NatWest\", branding=Branding::Reseller::Natwest, param=\"natwest\", nwg_api_id=\"nw\", ...ecure1.natwest.com/as/authorization.oauth2\", login_with_bank_audience=\"https://secure1.natwest.com\"\u003e","full_description":"Rbsg::LoginWithBank::EligibilityCheck#eligible_brand for an eligible company is expected to eq #\u003cOpenStruct name=\"NatWest\", branding=Branding::Reseller::Natwest, param=\"natwest\", nwg_api_id=\"nw\", ...ecure1.natwest.com/as/authorization.oauth2\", login_with_bank_audience=\"https://secure1.natwest.com\"\u003e","status":"passed","file_path":"./spec/freeagent/rbsg/login_with_bank/eligibility_check_spec.rb","line_number":87,"run_time":0.10000765,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/login_with_bank/eligibility_check_spec.rb[1:2:2:1]","description":"raises a BrandIsIneligibleError","full_description":"Rbsg::LoginWithBank::EligibilityCheck#eligible_brand for a company without a reseller raises a BrandIsIneligibleError","status":"passed","file_path":"./spec/freeagent/rbsg/login_with_bank/eligibility_check_spec.rb","line_number":93,"run_time":0.011450027,"pending_message":null,"screenshot":null},{"id":"./spec/views/accounting/final_accounts/frs105_ixbrl.html.erb_spec.rb[1:1:1]","description":"shows the balance sheet","full_description":"accounting/final_accounts/frs105_ixbrl Unabbreviated accounts shows the balance sheet","status":"passed","file_path":"./spec/views/accounting/final_accounts/frs105_ixbrl.html.erb_spec.rb","line_number":23,"run_time":0.177994751,"pending_message":null,"screenshot":null},{"id":"./spec/views/accounting/final_accounts/frs105_ixbrl.html.erb_spec.rb[1:1:2]","description":"doesn't show rows with a £0 amount","full_description":"accounting/final_accounts/frs105_ixbrl Unabbreviated accounts doesn't show rows with a £0 amount","status":"passed","file_path":"./spec/views/accounting/final_accounts/frs105_ixbrl.html.erb_spec.rb","line_number":30,"run_time":0.134794241,"pending_message":null,"screenshot":null},{"id":"./spec/views/accounting/final_accounts/frs105_ixbrl.html.erb_spec.rb[1:1:3]","description":"shows the income statement","full_description":"accounting/final_accounts/frs105_ixbrl Unabbreviated accounts shows the income statement","status":"passed","file_path":"./spec/views/accounting/final_accounts/frs105_ixbrl.html.erb_spec.rb","line_number":37,"run_time":0.13376036,"pending_message":null,"screenshot":null},{"id":"./spec/views/accounting/final_accounts/frs105_ixbrl.html.erb_spec.rb[1:1:4]","description":"only shows optional notes with content","full_description":"accounting/final_accounts/frs105_ixbrl Unabbreviated accounts only shows optional notes with content","status":"passed","file_path":"./spec/views/accounting/final_accounts/frs105_ixbrl.html.erb_spec.rb","line_number":44,"run_time":0.133426095,"pending_message":null,"screenshot":null},{"id":"./spec/views/accounting/final_accounts/frs105_ixbrl.html.erb_spec.rb[1:2:1]","description":"doesn't show the income statement","full_description":"accounting/final_accounts/frs105_ixbrl Abbreviated accounts doesn't show the income statement","status":"passed","file_path":"./spec/views/accounting/final_accounts/frs105_ixbrl.html.erb_spec.rb","line_number":58,"run_time":0.106281166,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/attachment_exports/fetch_attachment_export_job_spec.rb[1:1:1:1]","description":"marks the export as successful when the status file contains a successful status","full_description":"AttachmentExports::FetchAttachmentExportJob#perform when export has been created successfully marks the export as successful when the status file contains a successful status","status":"passed","file_path":"./spec/jobs/attachment_exports/fetch_attachment_export_job_spec.rb","line_number":46,"run_time":0.032259003,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/attachment_exports/fetch_attachment_export_job_spec.rb[1:1:1:2]","description":"creates attachment exports for s3 object listed in status file","full_description":"AttachmentExports::FetchAttachmentExportJob#perform when export has been created successfully creates attachment exports for s3 object listed in status file","status":"passed","file_path":"./spec/jobs/attachment_exports/fetch_attachment_export_job_spec.rb","line_number":54,"run_time":0.021765784,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/attachment_exports/fetch_attachment_export_job_spec.rb[1:1:1:3]","description":"sends an email to the requester that the export has completed","full_description":"AttachmentExports::FetchAttachmentExportJob#perform when export has been created successfully sends an email to the requester that the export has completed","status":"passed","file_path":"./spec/jobs/attachment_exports/fetch_attachment_export_job_spec.rb","line_number":63,"run_time":0.021438293,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/attachment_exports/fetch_attachment_export_job_spec.rb[1:1:1:4]","description":"increments an attachment_exports.fetch.success metric","full_description":"AttachmentExports::FetchAttachmentExportJob#perform when export has been created successfully increments an attachment_exports.fetch.success metric","status":"passed","file_path":"./spec/jobs/attachment_exports/fetch_attachment_export_job_spec.rb","line_number":75,"run_time":0.026714972,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/attachment_exports/fetch_attachment_export_job_spec.rb[1:1:1:5]","description":"publishes event","full_description":"AttachmentExports::FetchAttachmentExportJob#perform when export has been created successfully publishes event","status":"passed","file_path":"./spec/jobs/attachment_exports/fetch_attachment_export_job_spec.rb","line_number":82,"run_time":0.027316144,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/attachment_exports/fetch_attachment_export_job_spec.rb[1:1:2:1]","description":"schedules a new job to try again later","full_description":"AttachmentExports::FetchAttachmentExportJob#perform when an export is in progress schedules a new job to try again later","status":"passed","file_path":"./spec/jobs/attachment_exports/fetch_attachment_export_job_spec.rb","line_number":107,"run_time":0.102074323,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/attachment_exports/fetch_attachment_export_job_spec.rb[1:1:2:2]","description":"doesn't schedule a new job if we've been trying for a long time","full_description":"AttachmentExports::FetchAttachmentExportJob#perform when an export is in progress doesn't schedule a new job if we've been trying for a long time","status":"passed","file_path":"./spec/jobs/attachment_exports/fetch_attachment_export_job_spec.rb","line_number":119,"run_time":0.020016554,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/attachment_exports/fetch_attachment_export_job_spec.rb[1:1:3:1]","description":"fails the export summary and the job","full_description":"AttachmentExports::FetchAttachmentExportJob#perform when an export has zero bytes fails the export summary and the job","status":"passed","file_path":"./spec/jobs/attachment_exports/fetch_attachment_export_job_spec.rb","line_number":145,"run_time":0.021871766,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/attachment_exports/fetch_attachment_export_job_spec.rb[1:1:3:2]","description":"notifies the error service","full_description":"AttachmentExports::FetchAttachmentExportJob#perform when an export has zero bytes notifies the error service","status":"passed","file_path":"./spec/jobs/attachment_exports/fetch_attachment_export_job_spec.rb","line_number":153,"run_time":0.017307216,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/attachment_exports/fetch_attachment_export_job_spec.rb[1:1:3:3]","description":"does not send a successful email to user","full_description":"AttachmentExports::FetchAttachmentExportJob#perform when an export has zero bytes does not send a successful email to user","status":"passed","file_path":"./spec/jobs/attachment_exports/fetch_attachment_export_job_spec.rb","line_number":159,"run_time":0.014571404,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/attachment_exports/fetch_attachment_export_job_spec.rb[1:1:4:1]","description":"marks the export summary as failed","full_description":"AttachmentExports::FetchAttachmentExportJob#perform when the status file has status of failed marks the export summary as failed","status":"passed","file_path":"./spec/jobs/attachment_exports/fetch_attachment_export_job_spec.rb","line_number":180,"run_time":0.014636259,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/attachment_exports/fetch_attachment_export_job_spec.rb[1:1:5:1]","description":"schedules a new job","full_description":"AttachmentExports::FetchAttachmentExportJob#perform when the export status file has not been created schedules a new job","status":"passed","file_path":"./spec/jobs/attachment_exports/fetch_attachment_export_job_spec.rb","line_number":189,"run_time":0.097447696,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/attachment_exports/fetch_attachment_export_job_spec.rb[1:1:5:2]","description":"fails the job if retries have been exceeded","full_description":"AttachmentExports::FetchAttachmentExportJob#perform when the export status file has not been created fails the job if retries have been exceeded","status":"passed","file_path":"./spec/jobs/attachment_exports/fetch_attachment_export_job_spec.rb","line_number":197,"run_time":0.020523469,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/attachment_exports/fetch_attachment_export_job_spec.rb[1:1:5:3]","description":"fails the job if the timeout as been reached","full_description":"AttachmentExports::FetchAttachmentExportJob#perform when the export status file has not been created fails the job if the timeout as been reached","status":"passed","file_path":"./spec/jobs/attachment_exports/fetch_attachment_export_job_spec.rb","line_number":204,"run_time":0.015294875,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[3:3:1]","description":"creates an array of blocked emails","full_description":"InvoicesController GET :index #load_blocked_emails_for_company creates an array of blocked emails","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":222,"run_time":0.518476376,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[13:20:2:2:1]","description":"doesn't complete the add_property event","full_description":"InvoicesController POST create flying start event tracking behaves like FlyingStart::TrackAddPropertyCompletion for non-landlord companies doesn't complete the add_property event","status":"passed","file_path":"./spec/support/shared_examples/flying_start/track_add_property_completion_examples.rb","line_number":34,"run_time":0.455470796,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/sandbox/bills_controller_spec.rb[1:1:1]","description":"queues the company seeder job","full_description":"Api::Sandbox::BillsIntegration POST /v2/sandbox/bills/generate as a user with full access queues the company seeder job","status":"passed","file_path":"./spec/requests/api/sandbox/bills_controller_spec.rb","line_number":15,"run_time":0.061556179,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/sandbox/bills_controller_spec.rb[1:1:2]","description":"reponds not found when in production environment","full_description":"Api::Sandbox::BillsIntegration POST /v2/sandbox/bills/generate as a user with full access reponds not found when in production environment","status":"passed","file_path":"./spec/requests/api/sandbox/bills_controller_spec.rb","line_number":29,"run_time":0.040317846,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/sandbox/bills_controller_spec.rb[1:1:3]","description":"succeeds when in sandbox environment","full_description":"Api::Sandbox::BillsIntegration POST /v2/sandbox/bills/generate as a user with full access succeeds when in sandbox environment","status":"passed","file_path":"./spec/requests/api/sandbox/bills_controller_spec.rb","line_number":37,"run_time":0.056852178,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/sandbox/bills_controller_spec.rb[1:1:4:1]","description":"queues the company seeder job","full_description":"Api::Sandbox::BillsIntegration POST /v2/sandbox/bills/generate as a user with full access with months set queues the company seeder job","status":"passed","file_path":"./spec/requests/api/sandbox/bills_controller_spec.rb","line_number":15,"run_time":0.057049508,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/sandbox/bills_controller_spec.rb[1:1:4:2]","description":"reponds not found when in production environment","full_description":"Api::Sandbox::BillsIntegration POST /v2/sandbox/bills/generate as a user with full access with months set reponds not found when in production environment","status":"passed","file_path":"./spec/requests/api/sandbox/bills_controller_spec.rb","line_number":29,"run_time":0.051517494,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/sandbox/bills_controller_spec.rb[1:1:4:3]","description":"succeeds when in sandbox environment","full_description":"Api::Sandbox::BillsIntegration POST /v2/sandbox/bills/generate as a user with full access with months set succeeds when in sandbox environment","status":"passed","file_path":"./spec/requests/api/sandbox/bills_controller_spec.rb","line_number":37,"run_time":0.056487999,"pending_message":null,"screenshot":null},{"id":"./spec/tools/data_integrity/csv_formatter_spec.rb[1:1:1]","description":"generates correct headers","full_description":"DataIntegrity::CsvFormatter#write_csv generates correct headers","status":"passed","file_path":"./spec/tools/data_integrity/csv_formatter_spec.rb","line_number":23,"run_time":0.210798441,"pending_message":null,"screenshot":null},{"id":"./spec/tools/data_integrity/csv_formatter_spec.rb[1:1:2:1:1]","description":"has correct cells","full_description":"DataIntegrity::CsvFormatter#write_csv csv contents foreign currency data has correct cells","status":"passed","file_path":"./spec/tools/data_integrity/csv_formatter_spec.rb","line_number":29,"run_time":0.230004895,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/elasticsearch_cat_api_controller_spec.rb[1:1:2]","description":"sets a flash error if a Faraday::ClientError is raised","full_description":"Admin::ElasticsearchCatApiController#index sets a flash error if a Faraday::ClientError is raised","status":"passed","file_path":"./spec/controllers/admin/elasticsearch_cat_api_controller_spec.rb","line_number":104,"run_time":0.084658775,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/elasticsearch_cat_api_controller_spec.rb[1:1:3]","description":"sets a flash error if an unknown endpoint is requested","full_description":"Admin::ElasticsearchCatApiController#index sets a flash error if an unknown endpoint is requested","status":"passed","file_path":"./spec/controllers/admin/elasticsearch_cat_api_controller_spec.rb","line_number":112,"run_time":0.068367821,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/elasticsearch_cat_api_controller_spec.rb[1:1:1:1]","description":"sets the endpoints, endpoint, headers and rows","full_description":"Admin::ElasticsearchCatApiController#index with a valid indices response sets the endpoints, endpoint, headers and rows","status":"passed","file_path":"./spec/controllers/admin/elasticsearch_cat_api_controller_spec.rb","line_number":78,"run_time":0.060238167,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/elasticsearch_cat_api_controller_spec.rb[1:1:1:2]","description":"sorts the responses","full_description":"Admin::ElasticsearchCatApiController#index with a valid indices response sorts the responses","status":"passed","file_path":"./spec/controllers/admin/elasticsearch_cat_api_controller_spec.rb","line_number":95,"run_time":0.054167362,"pending_message":null,"screenshot":null},{"id":"./spec/requests/radar/insights/remember_me_with_two_sv_product_update_spec.rb[1:1]","description":"renders the Radar page copy","full_description":"RememberMeWithTwoSvProductUpdate ping renders the Radar page copy","status":"passed","file_path":"./spec/requests/radar/insights/remember_me_with_two_sv_product_update_spec.rb","line_number":28,"run_time":0.214844786,"pending_message":null,"screenshot":null},{"id":"./spec/models/services/time_tracking/task_loader_spec.rb[1:1]","description":"should load the selected task if a task_id param is present","full_description":"TimeTracking::TaskLoader should load the selected task if a task_id param is present","status":"passed","file_path":"./spec/models/services/time_tracking/task_loader_spec.rb","line_number":16,"run_time":0.027278224,"pending_message":null,"screenshot":null},{"id":"./spec/models/services/time_tracking/task_loader_spec.rb[1:2]","description":"should return nil if the task_id param is blank","full_description":"TimeTracking::TaskLoader should return nil if the task_id param is blank","status":"passed","file_path":"./spec/models/services/time_tracking/task_loader_spec.rb","line_number":22,"run_time":0.022606083,"pending_message":null,"screenshot":null},{"id":"./spec/models/services/time_tracking/task_loader_spec.rb[1:3]","description":"should select the task for the last created timeslip if it is present and active","full_description":"TimeTracking::TaskLoader should select the task for the last created timeslip if it is present and active","status":"passed","file_path":"./spec/models/services/time_tracking/task_loader_spec.rb","line_number":29,"run_time":0.024727443,"pending_message":null,"screenshot":null},{"id":"./spec/models/services/time_tracking/task_loader_spec.rb[1:4]","description":"should not select the last used task if it is inactive","full_description":"TimeTracking::TaskLoader should not select the last used task if it is inactive","status":"passed","file_path":"./spec/models/services/time_tracking/task_loader_spec.rb","line_number":33,"run_time":0.028124863,"pending_message":null,"screenshot":null},{"id":"./spec/models/services/time_tracking/task_loader_spec.rb[1:5]","description":"should not select the last used task if its project is inactive and not explicitly selected","full_description":"TimeTracking::TaskLoader should not select the last used task if its project is inactive and not explicitly selected","status":"passed","file_path":"./spec/models/services/time_tracking/task_loader_spec.rb","line_number":43,"run_time":0.031179878,"pending_message":null,"screenshot":null},{"id":"./spec/models/services/time_tracking/task_loader_spec.rb[1:6]","description":"should always select task from the selected project, even if the project is inactive","full_description":"TimeTracking::TaskLoader should always select task from the selected project, even if the project is inactive","status":"passed","file_path":"./spec/models/services/time_tracking/task_loader_spec.rb","line_number":54,"run_time":0.040981658,"pending_message":null,"screenshot":null},{"id":"./spec/models/services/time_tracking/task_loader_spec.rb[1:7]","description":"should build a task from the selected project if no tasks exist","full_description":"TimeTracking::TaskLoader should build a task from the selected project if no tasks exist","status":"passed","file_path":"./spec/models/services/time_tracking/task_loader_spec.rb","line_number":67,"run_time":0.03875206,"pending_message":null,"screenshot":null},{"id":"./spec/models/services/time_tracking/task_loader_spec.rb[1:8]","description":"should return a new task with the right project if none is active","full_description":"TimeTracking::TaskLoader should return a new task with the right project if none is active","status":"passed","file_path":"./spec/models/services/time_tracking/task_loader_spec.rb","line_number":76,"run_time":0.02433236,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/billing_breakdowns_controller_spec.rb[1:1]","description":"refuses access to a regular account manager","full_description":"PracticeDashboard::BillingBreakdownsController refuses access to a regular account manager","status":"passed","file_path":"./spec/controllers/practice_dashboard/billing_breakdowns_controller_spec.rb","line_number":7,"run_time":0.042898297,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/billing_breakdowns_controller_spec.rb[1:2:1]","description":"returns the biling breakdown CSV for the current month by default","full_description":"PracticeDashboard::BillingBreakdownsController when logged in as senior account manager returns the biling breakdown CSV for the current month by default","status":"passed","file_path":"./spec/controllers/practice_dashboard/billing_breakdowns_controller_spec.rb","line_number":34,"run_time":0.065989175,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/billing_breakdowns_controller_spec.rb[1:2:2]","description":"returns the specified month's billing breakdown CSV","full_description":"PracticeDashboard::BillingBreakdownsController when logged in as senior account manager returns the specified month's billing breakdown CSV","status":"passed","file_path":"./spec/controllers/practice_dashboard/billing_breakdowns_controller_spec.rb","line_number":46,"run_time":0.069800667,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/billing_breakdowns_controller_spec.rb[1:3:1]","description":"redirects and shows an error","full_description":"PracticeDashboard::BillingBreakdownsController when logged in as a senior account manager of an internal sale practice redirects and shows an error","status":"passed","file_path":"./spec/controllers/practice_dashboard/billing_breakdowns_controller_spec.rb","line_number":63,"run_time":0.058451116,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:1:2:2:1]","description":"which is still in draft","full_description":"UkAccountsMapper Accounts Mapper for UK companies that are not VAT registered Invoices Given a foreign currency invoice (exchange rate 2:1) with 3 line items in 2 categories which is still in draft","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":130,"run_time":0.244148672,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/layout_helper_spec.rb[1:1:1]","description":"is empty by default","full_description":"LayoutHelper#body_class is empty by default","status":"passed","file_path":"./spec/helpers/layout_helper_spec.rb","line_number":5,"run_time":0.00961073,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/layout_helper_spec.rb[1:1:2]","description":"returns @content_class if set","full_description":"LayoutHelper#body_class returns @content_class if set","status":"passed","file_path":"./spec/helpers/layout_helper_spec.rb","line_number":9,"run_time":0.003729218,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/layout_helper_spec.rb[1:2:1]","description":"returns a section with 'content' id","full_description":"LayoutHelper#section_content returns a section with 'content' id","status":"passed","file_path":"./spec/helpers/layout_helper_spec.rb","line_number":17,"run_time":0.009049823,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/layout_helper_spec.rb[1:2:2]","description":"returns sets the class on the section when specified","full_description":"LayoutHelper#section_content returns sets the class on the section when specified","status":"passed","file_path":"./spec/helpers/layout_helper_spec.rb","line_number":22,"run_time":0.003949964,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/layout_helper_spec.rb[1:2:3]","description":"stores the provided class in @content_class","full_description":"LayoutHelper#section_content stores the provided class in @content_class","status":"passed","file_path":"./spec/helpers/layout_helper_spec.rb","line_number":27,"run_time":0.002918623,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/layout_helper_spec.rb[1:2:4]","description":"renders the given block","full_description":"LayoutHelper#section_content renders the given block","status":"passed","file_path":"./spec/helpers/layout_helper_spec.rb","line_number":32,"run_time":0.003217287,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/layout_helper_spec.rb[1:3:1]","description":"renders the given block","full_description":"LayoutHelper#body_tag renders the given block","status":"passed","file_path":"./spec/helpers/layout_helper_spec.rb","line_number":47,"run_time":0.012993589,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/layout_helper_spec.rb[1:3:2]","description":"sets the base_body_class if provided","full_description":"LayoutHelper#body_tag sets the base_body_class if provided","status":"passed","file_path":"./spec/helpers/layout_helper_spec.rb","line_number":52,"run_time":0.008087236,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/layout_helper_spec.rb[1:3:3]","description":"connects the analytics controller","full_description":"LayoutHelper#body_tag connects the analytics controller","status":"passed","file_path":"./spec/helpers/layout_helper_spec.rb","line_number":57,"run_time":0.008571642,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/layout_helper_spec.rb[1:3:4]","description":"uses @content_class as the body class if set","full_description":"LayoutHelper#body_tag uses @content_class as the body class if set","status":"passed","file_path":"./spec/helpers/layout_helper_spec.rb","line_number":68,"run_time":0.007942495,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/layout_helper_spec.rb[1:3:5]","description":"sets the branding classes if not logged into the practice dashboard","full_description":"LayoutHelper#body_tag sets the branding classes if not logged into the practice dashboard","status":"passed","file_path":"./spec/helpers/layout_helper_spec.rb","line_number":74,"run_time":0.007624485,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/layout_helper_spec.rb[1:3:6]","description":"does not set the branding classes if logged into the practice dashboard","full_description":"LayoutHelper#body_tag does not set the branding classes if logged into the practice dashboard","status":"passed","file_path":"./spec/helpers/layout_helper_spec.rb","line_number":79,"run_time":0.009110327,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/layout_helper_spec.rb[1:3:7]","description":"sets a turbo data attribute to false when turbo is disabled","full_description":"LayoutHelper#body_tag sets a turbo data attribute to false when turbo is disabled","status":"passed","file_path":"./spec/helpers/layout_helper_spec.rb","line_number":85,"run_time":0.012863125,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/layout_helper_spec.rb[1:3:8]","description":"sets a turbo data attribute to true when turbo enabled","full_description":"LayoutHelper#body_tag sets a turbo data attribute to true when turbo enabled","status":"passed","file_path":"./spec/helpers/layout_helper_spec.rb","line_number":92,"run_time":0.012321611,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/layout_helper_spec.rb[1:3:9]","description":"sets the stimulus debug flag when stimulus debug is enabled","full_description":"LayoutHelper#body_tag sets the stimulus debug flag when stimulus debug is enabled","status":"passed","file_path":"./spec/helpers/layout_helper_spec.rb","line_number":99,"run_time":0.0124939,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/layout_helper_spec.rb[1:3:10]","description":"sets the stimulus debug flag off when stimulus debug is disabled","full_description":"LayoutHelper#body_tag sets the stimulus debug flag off when stimulus debug is disabled","status":"passed","file_path":"./spec/helpers/layout_helper_spec.rb","line_number":107,"run_time":0.011866156,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/layout_helper_spec.rb[1:3:12]","description":"sets a turbo data attribute to false when reponse is a 403","full_description":"LayoutHelper#body_tag sets a turbo data attribute to false when reponse is a 403","status":"passed","file_path":"./spec/helpers/layout_helper_spec.rb","line_number":148,"run_time":0.009777027,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/layout_helper_spec.rb[1:3:13]","description":"sets a turbo data attribute to false when reponse is a 404","full_description":"LayoutHelper#body_tag sets a turbo data attribute to false when reponse is a 404","status":"passed","file_path":"./spec/helpers/layout_helper_spec.rb","line_number":157,"run_time":0.009646139,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/layout_helper_spec.rb[1:3:14]","description":"sets a turbo data attribute to false when reponse is a 500","full_description":"LayoutHelper#body_tag sets a turbo data attribute to false when reponse is a 500","status":"passed","file_path":"./spec/helpers/layout_helper_spec.rb","line_number":166,"run_time":0.0093753,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/layout_helper_spec.rb[1:3:11:1]","description":"sets page to records metrics when chosen","full_description":"LayoutHelper#body_tag with page_load_metrics enabled sets page to records metrics when chosen","status":"passed","file_path":"./spec/helpers/layout_helper_spec.rb","line_number":124,"run_time":0.015852804,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/layout_helper_spec.rb[1:3:11:2]","description":"notifies of exception but continues to render body tag","full_description":"LayoutHelper#body_tag with page_load_metrics enabled notifies of exception but continues to render body tag","status":"passed","file_path":"./spec/helpers/layout_helper_spec.rb","line_number":136,"run_time":0.008198984,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/salesforce/models/contact_event_data_spec.rb[1:1:1:1]","description":"sets the Has_Seen_Mobile_Promo flag to false","full_description":"Salesforce::Models::ContactEventData#to_hash when the user has not seen a mobile promo page sets the Has_Seen_Mobile_Promo flag to false","status":"passed","file_path":"./spec/freeagent/salesforce/models/contact_event_data_spec.rb","line_number":11,"run_time":0.095392738,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/salesforce/models/contact_event_data_spec.rb[1:1:2:1]","description":"sets the Has_Seen_Mobile_Promo flag to true","full_description":"Salesforce::Models::ContactEventData#to_hash when the user has seen a mobile promo page sets the Has_Seen_Mobile_Promo flag to true","status":"passed","file_path":"./spec/freeagent/salesforce/models/contact_event_data_spec.rb","line_number":18,"run_time":0.100379189,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[12:5:2]","description":"with an invalid property id","full_description":"InvoicesController GET new for a UK unincorporated landlord company with an invalid property id","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":1140,"run_time":0.185589776,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:108:1:3:2]","description":"can't change to nil","full_description":"Invoice with a CIS category on a draft invoice with CIS invoice items can't change to nil","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":3151,"run_time":0.220122773,"pending_message":null,"screenshot":null}],"summary":{"duration":2.014379507,"example_count":599,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"599 examples, 0 failures"}