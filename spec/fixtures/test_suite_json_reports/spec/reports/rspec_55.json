{"version":"3.11.0","messages":["Run options:\n  include {:ids=\u003e{\"./spec/models/invoice_spec.rb\"=\u003e[\"1:98:1\", \"1:83:1\", \"1:110:1:1\", \"1:16:3:1\", \"1:128:2:2\", \"1:22\", \"1:90:4\"], \"./spec/controllers/invoices_controller_spec.rb\"=\u003e[\"18:1\"], \"./spec/models/uk_accounts_mapper_spec.rb\"=\u003e[\"1:1:5:4\"]}}\n  exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/models/direct_subscription_spec.rb[1:1]","description":"reports Direct","full_description":"DirectSubscription reports Direct","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":11,"run_time":0.42982765,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:2:1]","description":"reports when CANCELLED","full_description":"DirectSubscription statuses reports when CANCELLED","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":19,"run_time":0.078993624,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:2:2]","description":"reports when LIVE_FREE_TRIAL","full_description":"DirectSubscription statuses reports when LIVE_FREE_TRIAL","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":24,"run_time":0.079193051,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:2:3]","description":"reports when free trial has expired","full_description":"DirectSubscription statuses reports when free trial has expired","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":29,"run_time":0.085237841,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:2:4]","description":"reports when complimentary","full_description":"DirectSubscription statuses reports when complimentary","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":34,"run_time":0.081551261,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:2:5]","description":"reports when grace","full_description":"DirectSubscription statuses reports when grace","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":39,"run_time":0.090433763,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:2:6]","description":"reports when SUSPENDED","full_description":"DirectSubscription statuses reports when SUSPENDED","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":44,"run_time":0.083436866,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:2:7]","description":"reports when SUSPENDED the date of suspension","full_description":"DirectSubscription statuses reports when SUSPENDED the date of suspension","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":49,"run_time":0.137123856,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:2:8:1]","description":"has a default status of nil","full_description":"DirectSubscription statuses when new and without a channel has a default status of nil","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":61,"run_time":0.003567186,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:3:1]","description":"marks the subscription as billable","full_description":"DirectSubscription#subscribe! marks the subscription as billable","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":3,"run_time":0.084085822,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:3:2]","description":"does not change account_type when already live","full_description":"DirectSubscription#subscribe! does not change account_type when already live","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":67,"run_time":0.082280421,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:3:5]","description":"records metrics","full_description":"DirectSubscription#subscribe! records metrics","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":75,"run_time":0.081613924,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:3:9]","description":"sets the introductory offer end date","full_description":"DirectSubscription#subscribe! sets the introductory offer end date","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":111,"run_time":0.082224592,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:3:3:1]","description":"does not change account_type","full_description":"DirectSubscription#subscribe! when previously set to test does not change account_type","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":78,"run_time":0.080914707,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:3:4:1]","description":"updates account_type to live","full_description":"DirectSubscription#subscribe! when previously set to demo updates account_type to live","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":90,"run_time":0.082679396,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:3:6:1]","description":"marks the subscription as non-billable","full_description":"DirectSubscription#subscribe! for a non-live account marks the subscription as non-billable","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":11,"run_time":0.084582672,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:3:6:2]","description":"clears cancelled_at and free_trial_expires_on","full_description":"DirectSubscription#subscribe! for a non-live account clears cancelled_at and free_trial_expires_on","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":92,"run_time":0.080588115,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:3:7:1]","description":"gives the subscription full access","full_description":"DirectSubscription#subscribe! for a cancelled account gives the subscription full access","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":19,"run_time":0.126663535,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:3:8:1]","description":"gives the subscription full access","full_description":"DirectSubscription#subscribe! for an account requiring payment authorisation gives the subscription full access","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":19,"run_time":0.090727409,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:3:10:1]","description":"does not notify the referrer of a new referral","full_description":"DirectSubscription#subscribe! for a subscribed company that was referred does not notify the referrer of a new referral","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":130,"run_time":0.209447066,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:3:11:1]","description":"does not notify the referrer of a new referral","full_description":"DirectSubscription#subscribe! for a grace company that was referred does not notify the referrer of a new referral","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":130,"run_time":0.199287502,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:3:12:1]","description":"does not notify the referrer of a new referral","full_description":"DirectSubscription#subscribe! for a free_by_referrals company that was referred does not notify the referrer of a new referral","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":130,"run_time":0.181456952,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:3:13:1]","description":"does not notify the referrer of a new referral","full_description":"DirectSubscription#subscribe! for a complimentary company that was referred does not notify the referrer of a new referral","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":130,"run_time":0.180633765,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:4:1]","description":"marks the subscription as billable","full_description":"DirectSubscription#resubscribe! marks the subscription as billable","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":3,"run_time":0.093554126,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:4:2]","description":"does not change account_type when already live","full_description":"DirectSubscription#resubscribe! does not change account_type when already live","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":67,"run_time":0.099874843,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:4:5]","description":"records metrics","full_description":"DirectSubscription#resubscribe! records metrics","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":148,"run_time":0.112888122,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:4:8]","description":"sets the introductory offer end date","full_description":"DirectSubscription#resubscribe! sets the introductory offer end date","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":178,"run_time":0.118615139,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:4:3:1]","description":"does not change account_type","full_description":"DirectSubscription#resubscribe! when previously set to test does not change account_type","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":78,"run_time":0.092294748,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:4:4:1]","description":"updates account_type to live","full_description":"DirectSubscription#resubscribe! when previously set to demo updates account_type to live","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":90,"run_time":0.107199604,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:4:6:1]","description":"marks the subscription as non-billable","full_description":"DirectSubscription#resubscribe! for a non-live account marks the subscription as non-billable","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":11,"run_time":0.087644355,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:4:6:2]","description":"clears cancelled_at and free_trial_expires_on","full_description":"DirectSubscription#resubscribe! for a non-live account clears cancelled_at and free_trial_expires_on","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":165,"run_time":0.090164638,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:4:7:1]","description":"gives the subscription full access","full_description":"DirectSubscription#resubscribe! for a cancelled account gives the subscription full access","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":19,"run_time":0.079613718,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:5:1]","description":"marks the subscription as non-billable","full_description":"DirectSubscription#make_complimentary! marks the subscription as non-billable","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":11,"run_time":0.106168911,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:5:2]","description":"records metrics","full_description":"DirectSubscription#make_complimentary! records metrics","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":194,"run_time":0.101608421,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:5:4]","description":"does not change the account type on real accounts","full_description":"DirectSubscription#make_complimentary! does not change the account type on real accounts","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":205,"run_time":0.118076905,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:5:5]","description":"makes the billing profile FREE","full_description":"DirectSubscription#make_complimentary! makes the billing profile FREE","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":212,"run_time":0.092588492,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:5:3:1]","description":"gives the subscription full access","full_description":"DirectSubscription#make_complimentary! for a cancelled account gives the subscription full access","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":19,"run_time":0.092558353,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:5:6:1]","description":"creates a FREE billing profile","full_description":"DirectSubscription#make_complimentary! for a free trial creates a FREE billing profile","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":221,"run_time":0.100666842,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:5:7:1]","description":"marks the subscription with a demo account_type","full_description":"DirectSubscription#make_complimentary! for a company created by support marks the subscription with a demo account_type","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":43,"run_time":0.089451781,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:6:1]","description":"records metrics","full_description":"DirectSubscription#make_free_by_referrals records metrics","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":240,"run_time":0.089486288,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:6:2]","description":"makes the billing profile FREE","full_description":"DirectSubscription#make_free_by_referrals makes the billing profile FREE","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":245,"run_time":0.089915265,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:6:3]","description":"keeps the subscription billable","full_description":"DirectSubscription#make_free_by_referrals keeps the subscription billable","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":251,"run_time":0.099682015,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:7:1]","description":"marks the subscription as non-billable","full_description":"DirectSubscription#suspend! marks the subscription as non-billable","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":11,"run_time":0.11481147,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:7:2]","description":"revokes access","full_description":"DirectSubscription#suspend! revokes access","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":27,"run_time":0.090911951,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:7:3]","description":"does not change account_type when already live","full_description":"DirectSubscription#suspend! does not change account_type when already live","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":67,"run_time":0.092895602,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:7:6]","description":"records metrics","full_description":"DirectSubscription#suspend! records metrics","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":266,"run_time":0.094473884,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:7:4:1]","description":"does not change account_type","full_description":"DirectSubscription#suspend! when previously set to test does not change account_type","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":78,"run_time":0.093155633,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:7:5:1]","description":"updates account_type to live","full_description":"DirectSubscription#suspend! when previously set to demo updates account_type to live","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":90,"run_time":0.093458655,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:7:7:1]","description":"remains suspended","full_description":"DirectSubscription#suspend! when already suspended remains suspended","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":274,"run_time":0.08926922,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:7:8:1]","description":"notifies the referring company that a referral was lost","full_description":"DirectSubscription#suspend! for a company that was referred notifies the referring company that a referral was lost","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":290,"run_time":0.194584647,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:8:1]","description":"marks the subscription as non-billable","full_description":"DirectSubscription#cancel! marks the subscription as non-billable","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":11,"run_time":0.110220827,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:8:2]","description":"revokes access","full_description":"DirectSubscription#cancel! revokes access","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":27,"run_time":0.11002477,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:8:3]","description":"does not change account_type when already live","full_description":"DirectSubscription#cancel! does not change account_type when already live","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":67,"run_time":0.101072398,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:8:6]","description":"cancels outgoing and disables bank feeds","full_description":"DirectSubscription#cancel! cancels outgoing and disables bank feeds","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":99,"run_time":0.090800684,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:8:7]","description":"cancels copilot introduction","full_description":"DirectSubscription#cancel! cancels copilot introduction","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":107,"run_time":0.321449606,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:8:8]","description":"records metrics","full_description":"DirectSubscription#cancel! records metrics","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":310,"run_time":0.106311679,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:8:9]","description":"sets cancelled_at when a time is given","full_description":"DirectSubscription#cancel! sets cancelled_at when a time is given","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":315,"run_time":0.099617664,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:8:4:1]","description":"does not change account_type","full_description":"DirectSubscription#cancel! when previously set to test does not change account_type","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":78,"run_time":0.106408622,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:8:5:1]","description":"updates account_type to live","full_description":"DirectSubscription#cancel! when previously set to demo updates account_type to live","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":90,"run_time":0.121004702,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:8:10:1]","description":"cancels a suspended subscription","full_description":"DirectSubscription#cancel! for a suspended account cancels a suspended subscription","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":325,"run_time":0.109645529,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:8:11:1]","description":"changes the status to cancelled","full_description":"DirectSubscription#cancel! for a complimentary account changes the status to cancelled","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":335,"run_time":0.090515186,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:8:12:1:1]","description":"notifies the referring company that a referral was lost","full_description":"DirectSubscription#cancel! for a company that was referred and the cancelled company was active notifies the referring company that a referral was lost","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":351,"run_time":0.208634881,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:8:12:2:1]","description":"does not notify the referring company that a referral was lost","full_description":"DirectSubscription#cancel! for a company that was referred and the cancelled company was not active does not notify the referring company that a referral was lost","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":363,"run_time":0.188288,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:8:13:1]","description":"changes the status to cancelled","full_description":"DirectSubscription#cancel! for a grace subscription changes the status to cancelled","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":376,"run_time":0.095960559,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:8:14:1]","description":"changes the status to cancelled","full_description":"DirectSubscription#cancel! for a needs_payment_authorisation subscription changes the status to cancelled","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":386,"run_time":0.113072046,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:9:1]","description":"marks the subscription as non-billable","full_description":"DirectSubscription#make_free_trial! marks the subscription as non-billable","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":11,"run_time":0.105273182,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:9:2]","description":"does not change account_type when already live","full_description":"DirectSubscription#make_free_trial! does not change account_type when already live","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":67,"run_time":0.095761773,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:9:5]","description":"cancels copilot introduction","full_description":"DirectSubscription#make_free_trial! cancels copilot introduction","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":107,"run_time":0.205016756,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:9:6]","description":"records metrics","full_description":"DirectSubscription#make_free_trial! records metrics","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":402,"run_time":0.090819148,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:9:3:1]","description":"does not change account_type","full_description":"DirectSubscription#make_free_trial! when previously set to test does not change account_type","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":78,"run_time":0.094874045,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:9:4:1]","description":"updates account_type to live","full_description":"DirectSubscription#make_free_trial! when previously set to demo updates account_type to live","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":90,"run_time":0.132894614,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:9:7:1]","description":"gives the subscription full access","full_description":"DirectSubscription#make_free_trial! for a cancelled account gives the subscription full access","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":19,"run_time":0.095002908,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:9:8:1]","description":"converts to a free trial","full_description":"DirectSubscription#make_free_trial! for a complimentary account converts to a free trial","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":416,"run_time":0.093781662,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:9:8:2:1]","description":"converts to a free trial with a default expiry date of one week","full_description":"DirectSubscription#make_free_trial! for a complimentary account with no free trial expires on date converts to a free trial with a default expiry date of one week","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":425,"run_time":0.102905301,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:9:9:1]","description":"converts to a free trial","full_description":"DirectSubscription#make_free_trial! for a grace subscription converts to a free trial","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":437,"run_time":0.113118453,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:10:1]","description":"records metrics","full_description":"DirectSubscription#refrigerate! records metrics","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":449,"run_time":0.116603689,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:10:2]","description":"marks the subscription as non-billable","full_description":"DirectSubscription#refrigerate! marks the subscription as non-billable","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":11,"run_time":0.104370169,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:10:3]","description":"cancels outgoing and disables bank feeds","full_description":"DirectSubscription#refrigerate! cancels outgoing and disables bank feeds","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":99,"run_time":0.083891378,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:10:4]","description":"restricts access to read only","full_description":"DirectSubscription#refrigerate! restricts access to read only","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":457,"run_time":0.091358265,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:10:5]","description":"makes the billing profile FREE","full_description":"DirectSubscription#refrigerate! makes the billing profile FREE","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":463,"run_time":0.095113942,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:10:6:1]","description":"notifies referred companies that their referral discount was lost","full_description":"DirectSubscription#refrigerate! for a company that has referrals notifies referred companies that their referral discount was lost","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":477,"run_time":0.177679054,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:10:7:1]","description":"notifies the referring company that the referrer discount was lost","full_description":"DirectSubscription#refrigerate! for a company that was referred notifies the referring company that the referrer discount was lost","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":494,"run_time":0.177184821,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:11:1]","description":"revokes access","full_description":"DirectSubscription#expire_free_trial! revokes access","status":"passed","file_path":"./spec/support/shared_contexts/subscription_events_context.rb","line_number":27,"run_time":0.091630168,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:11:2]","description":"records metrics","full_description":"DirectSubscription#expire_free_trial! records metrics","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":510,"run_time":0.085579987,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:11:3]","description":"sets future dated expiry date to current date","full_description":"DirectSubscription#expire_free_trial! sets future dated expiry date to current date","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":515,"run_time":0.080905857,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:11:4]","description":"adds expiry date if none exists","full_description":"DirectSubscription#expire_free_trial! adds expiry date if none exists","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":522,"run_time":0.076820498,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:11:5]","description":"does not change expiry date in the past","full_description":"DirectSubscription#expire_free_trial! does not change expiry date in the past","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":529,"run_time":0.080511861,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:12:1]","description":"records metrics","full_description":"DirectSubscription#enter_grace_period! records metrics","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":545,"run_time":0.093625383,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:12:2]","description":"has full access","full_description":"DirectSubscription#enter_grace_period! has full access","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":549,"run_time":0.088116209,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:12:3]","description":"does not cancel the billing profile","full_description":"DirectSubscription#enter_grace_period! does not cancel the billing profile","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":553,"run_time":0.110897633,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:12:4]","description":"is billable","full_description":"DirectSubscription#enter_grace_period! is billable","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":557,"run_time":0.097638897,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:12:5]","description":"is in grace period","full_description":"DirectSubscription#enter_grace_period! is in grace period","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":561,"run_time":0.098684674,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:12:6]","description":"has a grace period extending after the next payment date","full_description":"DirectSubscription#enter_grace_period! has a grace period extending after the next payment date","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":566,"run_time":0.092800663,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:13:1]","description":"records metrics","full_description":"DirectSubscription#needs_payment_authorisation! records metrics","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":581,"run_time":0.086344901,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:13:2]","description":"has no access","full_description":"DirectSubscription#needs_payment_authorisation! has no access","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":585,"run_time":0.091652329,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:13:3]","description":"cancels the billing profile","full_description":"DirectSubscription#needs_payment_authorisation! cancels the billing profile","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":589,"run_time":0.090072293,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:13:4]","description":"is billable","full_description":"DirectSubscription#needs_payment_authorisation! is billable","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":593,"run_time":0.092388049,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:13:5]","description":"is in needs_payment_authorisation period","full_description":"DirectSubscription#needs_payment_authorisation! is in needs_payment_authorisation period","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":597,"run_time":0.084467303,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:13:6]","description":"has a grace period extending after the next payment date","full_description":"DirectSubscription#needs_payment_authorisation! has a grace period extending after the next payment date","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":602,"run_time":0.087629979,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:14:1]","description":"sets the next_payment_date to 7 days from now for a cancelled company","full_description":"DirectSubscription#reactivate! sets the next_payment_date to 7 days from now for a cancelled company","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":613,"run_time":0.078268627,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:14:2]","description":"sets the next_payment_date to 7 days from now for a suspended company","full_description":"DirectSubscription#reactivate! sets the next_payment_date to 7 days from now for a suspended company","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":619,"run_time":0.106743799,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:15:1:1]","description":"is expected to eq 4","full_description":"DirectSubscription#days_remaining_on_grace_period with some days remaining in the grace period is expected to eq 4","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":635,"run_time":0.09406177,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:15:2:1]","description":"is expected to eq 0","full_description":"DirectSubscription#days_remaining_on_grace_period with no days remaining is expected to eq 0","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":643,"run_time":0.085213356,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:15:3:1]","description":"is expected to be nil","full_description":"DirectSubscription#days_remaining_on_grace_period when not in a grace period is expected to be nil","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":649,"run_time":0.08437614,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:16:1:1]","description":"is expected to equal false","full_description":"DirectSubscription#grace_period_expired? before the end of the 7 day period is expected to equal false","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":663,"run_time":0.089968379,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:16:2:1]","description":"is expected to equal true","full_description":"DirectSubscription#grace_period_expired? after the end of the 7 day period is expected to equal true","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":671,"run_time":0.087003235,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:16:3:1:1]","description":"is expected to equal false","full_description":"DirectSubscription#grace_period_expired? when re-auth is required after 7 days is expected to equal false","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":682,"run_time":0.09007809,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:16:3:2:1]","description":"is expected to equal true","full_description":"DirectSubscription#grace_period_expired? when re-auth is required after the end of the 28 day period is expected to equal true","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":690,"run_time":0.089726525,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:17:1]","description":"is the day before free_trial_expires_on","full_description":"DirectSubscription#last_day_of_free_trial is the day before free_trial_expires_on","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":696,"run_time":0.075672276,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:18:1]","description":"is expected to equal true","full_description":"DirectSubscription#can_update_billing_details? is expected to equal true","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":704,"run_time":0.079334715,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:19:1]","description":"is expected to equal true","full_description":"DirectSubscription#billing_page_available? is expected to equal true","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":709,"run_time":0.083258427,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:20:1]","description":"is expected to equal true","full_description":"DirectSubscription#can_show_cancellation_instructions? is expected to equal true","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":715,"run_time":0.11353762,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:20:2:1]","description":"is expected to equal false","full_description":"DirectSubscription#can_show_cancellation_instructions? with CoPilot enabled is expected to equal false","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":720,"run_time":0.16059718,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:21:1]","description":"is expected to equal true","full_description":"DirectSubscription#can_be_cancelled_by_customer? is expected to equal true","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":727,"run_time":0.092661374,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:21:2:1]","description":"is expected to equal false","full_description":"DirectSubscription#can_be_cancelled_by_customer? with CoPilot enabled is expected to equal false","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":731,"run_time":0.139108794,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:22:1]","description":"is expected to eq \"Direct - Live Free Trial\"","full_description":"DirectSubscription#description is expected to eq \"Direct - Live Free Trial\"","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":739,"run_time":0.081407808,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:22:2]","description":"changes the description for an expired free trial","full_description":"DirectSubscription#description changes the description for an expired free trial","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":741,"run_time":0.080144639,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:23:1:1]","description":"is expected to equal true","full_description":"DirectSubscription#active_billing_cycle? when core service billing is active is expected to equal true","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":753,"run_time":0.089471957,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:23:2:1:1]","description":"is expected to equal false","full_description":"DirectSubscription#active_billing_cycle? when core service billing is inactive and the user has full access is expected to equal false","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":760,"run_time":0.087350162,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:23:2:1:2:1]","description":"is expected to equal true","full_description":"DirectSubscription#active_billing_cycle? when core service billing is inactive and the user has full access with billable addons is expected to equal true","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":765,"run_time":0.109683115,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:23:2:2:1]","description":"is expected to equal false","full_description":"DirectSubscription#active_billing_cycle? when core service billing is inactive and the user has no access is expected to equal false","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":772,"run_time":0.085848635,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:23:2:2:2:1]","description":"is expected to equal false","full_description":"DirectSubscription#active_billing_cycle? when core service billing is inactive and the user has no access with billable addons is expected to equal false","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":777,"run_time":0.107360819,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:24:1:1]","description":"is expected to equal true","full_description":"DirectSubscription#core_service_billing_active? subscribed is expected to equal true","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":789,"run_time":0.109353876,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:24:2:1]","description":"is expected to equal true","full_description":"DirectSubscription#core_service_billing_active? grace is expected to equal true","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":795,"run_time":0.102173356,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:24:3:1]","description":"is expected to equal true","full_description":"DirectSubscription#core_service_billing_active? needs_payment_authorisation is expected to equal true","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":801,"run_time":0.09689497,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:24:4:1]","description":"is expected to equal false","full_description":"DirectSubscription#core_service_billing_active? complimentary is expected to equal false","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":807,"run_time":0.094699644,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:24:5:1]","description":"is expected to equal false","full_description":"DirectSubscription#core_service_billing_active? suspended is expected to equal false","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":813,"run_time":0.091048631,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:24:6:1]","description":"is expected to equal false","full_description":"DirectSubscription#core_service_billing_active? frozen is expected to equal false","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":819,"run_time":0.091630562,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:24:7:1]","description":"is expected to equal false","full_description":"DirectSubscription#core_service_billing_active? live free trial is expected to equal false","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":825,"run_time":0.093885888,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:24:8:1]","description":"is expected to equal false","full_description":"DirectSubscription#core_service_billing_active? expired free trial is expected to equal false","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":831,"run_time":0.103790117,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:25:1]","description":"does not consider DIRECT a valid status with a reseller present","full_description":"DirectSubscription linked does not consider DIRECT a valid status with a reseller present","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":840,"run_time":0.104425283,"pending_message":null,"screenshot":null},{"id":"./spec/models/direct_subscription_spec.rb[1:25:2:1]","description":"allows access if linked to a suspended practice","full_description":"DirectSubscription linked #has_access? allows access if linked to a suspended practice","status":"passed","file_path":"./spec/models/direct_subscription_spec.rb","line_number":849,"run_time":0.146609395,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:7]","description":"is never creditable","full_description":"CreditNote is never creditable","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":148,"run_time":0.010436616,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:9]","description":"positive credit notes are not sendable","full_description":"CreditNote positive credit notes are not sendable","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":199,"run_time":0.129903745,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:1:1]","description":"is added to the same index as Invoice","full_description":"CreditNote when indexed by Elasticsearch is added to the same index as Invoice","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":26,"run_time":0.003713951,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:2:1:1]","description":"is expected to have the audit_entries scope with the correct parameters","full_description":"CreditNote behaves like auditable entity .audit_entries is expected to have the audit_entries scope with the correct parameters","status":"passed","file_path":"./engines/audit_trail/spec/support/shared_examples/audit_trail/entity_shared_examples.rb","line_number":20,"run_time":0.223486675,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:2:1:2]","description":"orders the audit_entries latest first, newest to oldest","full_description":"CreditNote behaves like auditable entity .audit_entries orders the audit_entries latest first, newest to oldest","status":"passed","file_path":"./engines/audit_trail/spec/support/shared_examples/audit_trail/entity_shared_examples.rb","line_number":25,"run_time":0.92510151,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:2:1:3]","description":"does not remove audit_entries when destroyed, instead it leaves the auditable_(type|id|name) untouched","full_description":"CreditNote behaves like auditable entity .audit_entries does not remove audit_entries when destroyed, instead it leaves the auditable_(type|id|name) untouched","status":"passed","file_path":"./engines/audit_trail/spec/support/shared_examples/audit_trail/entity_shared_examples.rb","line_number":40,"run_time":0.839831844,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:2:2:1]","description":"is expected to have the audit_entries scope with the correct parameters","full_description":"CreditNote behaves like auditable entity .linked_audit_entries is expected to have the audit_entries scope with the correct parameters","status":"passed","file_path":"./engines/audit_trail/spec/support/shared_examples/audit_trail/entity_shared_examples.rb","line_number":63,"run_time":0.220479176,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:2:2:2]","description":"orders the linked_audit_entries latest first, newest to oldest","full_description":"CreditNote behaves like auditable entity .linked_audit_entries orders the linked_audit_entries latest first, newest to oldest","status":"passed","file_path":"./engines/audit_trail/spec/support/shared_examples/audit_trail/entity_shared_examples.rb","line_number":68,"run_time":0.847367193,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:2:3:1]","description":"defines its own auditable_name that is suitable for the included class","full_description":"CreditNote behaves like auditable entity #auditable_name defines its own auditable_name that is suitable for the included class","status":"passed","file_path":"./engines/audit_trail/spec/support/shared_examples/audit_trail/entity_shared_examples.rb","line_number":89,"run_time":0.176767756,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:2:3:2]","description":"does not raise any errors","full_description":"CreditNote behaves like auditable entity #auditable_name does not raise any errors","status":"passed","file_path":"./engines/audit_trail/spec/support/shared_examples/audit_trail/entity_shared_examples.rb","line_number":93,"run_time":0.194639169,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:2:4:1]","description":"returns self","full_description":"CreditNote behaves like auditable entity #auditable_entity returns self","status":"passed","file_path":"./engines/audit_trail/spec/support/shared_examples/audit_trail/entity_shared_examples.rb","line_number":101,"run_time":0.302258844,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:2:5:1]","description":"defines its own auditable_capture_enabled? that returns a boolean","full_description":"CreditNote behaves like auditable entity #auditable_capture_enabled? defines its own auditable_capture_enabled? that returns a boolean","status":"passed","file_path":"./engines/audit_trail/spec/support/shared_examples/audit_trail/entity_shared_examples.rb","line_number":117,"run_time":0.748441347,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:2:5:2]","description":"does not raise any errors","full_description":"CreditNote behaves like auditable entity #auditable_capture_enabled? does not raise any errors","status":"passed","file_path":"./engines/audit_trail/spec/support/shared_examples/audit_trail/entity_shared_examples.rb","line_number":121,"run_time":0.218160037,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:3:1]","description":"is expected to eq true","full_description":"CreditNote#auditable_capture_enabled? is expected to eq true","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":40,"run_time":0.010475742,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:4:1]","description":"combines Credit Note and the reference together","full_description":"CreditNote#auditable_name combines Credit Note and the reference together","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":48,"run_time":0.067372924,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:5:1]","description":"has a type of CreditNote","full_description":"CreditNote by default has a type of CreditNote","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":54,"run_time":0.005511859,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:5:2]","description":"is dated with today's date by default","full_description":"CreditNote by default is dated with today's date by default","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":58,"run_time":0.004767744,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:5:3]","description":"defaults the payment terms in days","full_description":"CreditNote by default defaults the payment terms in days","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":62,"run_time":0.004559105,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:5:4]","description":"defaults to no payment methods","full_description":"CreditNote by default defaults to no payment methods","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":66,"run_time":0.004133365,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:6:1]","description":"takes a project, contact, company, bank account and theme from an invoice","full_description":"CreditNote building a credit note from an invoice takes a project, contact, company, bank account and theme from an invoice","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":80,"run_time":0.177187339,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:6:2]","description":"takes custom fields from an invoice","full_description":"CreditNote building a credit note from an invoice takes custom fields from an invoice","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":88,"run_time":0.172887156,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:6:3]","description":"takes cis rate from an invoice","full_description":"CreditNote building a credit note from an invoice takes cis rate from an invoice","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":96,"run_time":0.164914888,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:6:4]","description":"credits line items from an invoice","full_description":"CreditNote building a credit note from an invoice credits line items from an invoice","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":100,"run_time":0.167016546,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:6:5]","description":"takes the invoices currency","full_description":"CreditNote building a credit note from an invoice takes the invoices currency","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":111,"run_time":0.151294667,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:6:6]","description":"assigns a reference","full_description":"CreditNote building a credit note from an invoice assigns a reference","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":115,"run_time":0.162678886,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:6:7]","description":"takes the discount from the invoice when there is a discount","full_description":"CreditNote building a credit note from an invoice takes the discount from the invoice when there is a discount","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":119,"run_time":0.158746702,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:6:8:1]","description":"takes the EC Status","full_description":"CreditNote building a credit note from an invoice when invoice has EC status takes the EC Status","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":128,"run_time":0.13935278,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:6:9:1]","description":"has the property id of the invoice","full_description":"CreditNote building a credit note from an invoice for a landlord has the property id of the invoice","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":139,"run_time":0.197162584,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:8:1]","description":"cannot be written off when it is draft","full_description":"CreditNote writing off credit notes cannot be written off when it is draft","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":153,"run_time":0.19857581,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:8:2]","description":"cannot be written off when total value is zero","full_description":"CreditNote writing off credit notes cannot be written off when total value is zero","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":158,"run_time":0.204155761,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:8:3]","description":"cannot be written off until after its due date","full_description":"CreditNote writing off credit notes cannot be written off until after its due date","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":166,"run_time":0.28014422,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:8:4]","description":"cannot be written off if it has been refunded","full_description":"CreditNote writing off credit notes cannot be written off if it has been refunded","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":174,"run_time":0.284053704,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:8:5]","description":"cannot be written off when it is already written off","full_description":"CreditNote writing off credit notes cannot be written off when it is already written off","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":182,"run_time":0.262385721,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:8:6]","description":"can be written off after its due date once it has been sent","full_description":"CreditNote writing off credit notes can be written off after its due date once it has been sent","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":190,"run_time":0.283795038,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:10:1]","description":"does not increment negative_invoice created when we send a credit note","full_description":"CreditNote metrics does not increment negative_invoice created when we send a credit note","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":209,"run_time":0.198776558,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:10:2]","description":"increments credit note written-off every time we cancel a credit note","full_description":"CreditNote metrics increments credit note written-off every time we cancel a credit note","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":216,"run_time":0.220251221,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:11:1:1]","description":"returns the correct nature","full_description":"CreditNote#nature when passed a locale returns the correct nature","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":234,"run_time":0.13295296,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:11:2:1]","description":"returns the correct nature","full_description":"CreditNote#nature when not passed a locale returns the correct nature","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":240,"run_time":0.106549264,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:12:1:1]","description":"is expected to equal false","full_description":"CreditNote#positive_credit_note? when total value is zero is expected to equal false","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":254,"run_time":0.080538091,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:12:2:1]","description":"is expected to equal false","full_description":"CreditNote#positive_credit_note? when total value is less than zero is expected to equal false","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":262,"run_time":0.078205963,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:12:3:1]","description":"is expected to equal true","full_description":"CreditNote#positive_credit_note? when total value is greater than zero is expected to equal true","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":270,"run_time":0.08708662,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:13:1:1]","description":"does not use the global template","full_description":"CreditNote#email_should_use_global_template when no invoice emailing template is set does not use the global template","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":279,"run_time":0.120973687,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:13:2:1]","description":"does not use the global template","full_description":"CreditNote#email_should_use_global_template when an invoice emailing template is set does not use the global template","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":287,"run_time":0.193261296,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:14:1:1]","description":"is expected to eql \"Draft\"","full_description":"CreditNote#short_status when in a draft state is expected to eql \"Draft\"","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":297,"run_time":0.010072013,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:14:2:1]","description":"is expected to eql \"Refunded\"","full_description":"CreditNote#short_status when refunded is expected to eql \"Refunded\"","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":303,"run_time":0.009123385,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:14:3:1]","description":"is expected to eql \"Written-off\"","full_description":"CreditNote#short_status when written off is expected to eql \"Written-off\"","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":309,"run_time":0.008234748,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:14:4:1]","description":"is expected to eql \"Part written-off\"","full_description":"CreditNote#short_status when written off with a part payment is expected to eql \"Part written-off\"","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":324,"run_time":0.019766748,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:14:5:1]","description":"is expected to eql \"Overdue\"","full_description":"CreditNote#short_status when overdue is expected to eql \"Overdue\"","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":335,"run_time":0.09576521,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:14:6:1]","description":"is expected to eql \"Open\"","full_description":"CreditNote#short_status when not paid is expected to eql \"Open\"","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":341,"run_time":0.010415654,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:15:1:1]","description":"is expected to eql \"Draft\"","full_description":"CreditNote#long_status when in a draft state is expected to eql \"Draft\"","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":349,"run_time":0.01040239,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:15:2:1]","description":"is expected to eql \"Zero value\"","full_description":"CreditNote#long_status when the total value is zero is expected to eql \"Zero value\"","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":355,"run_time":0.009852875,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:15:3:1]","description":"is expected to eql \"Refunded on 05 Apr 20\"","full_description":"CreditNote#long_status when refunded is expected to eql \"Refunded on 05 Apr 20\"","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":363,"run_time":0.010690784,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:15:4:1]","description":"is expected to eql \"Unpaid - Written-off on 05 Apr 20\"","full_description":"CreditNote#long_status when written off is expected to eql \"Unpaid - Written-off on 05 Apr 20\"","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":369,"run_time":0.008376646,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:15:5:1]","description":"is expected to eql \"Part Paid - -199.00 written-off on 05 Mar 20\"","full_description":"CreditNote#long_status when written off with a part payment is expected to eql \"Part Paid - -199.00 written-off on 05 Mar 20\"","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":408,"run_time":0.567639738,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:15:6:1]","description":"is expected to eql \"Overdue - due about 1 month ago\"","full_description":"CreditNote#long_status when overdue is expected to eql \"Overdue - due about 1 month ago\"","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":421,"run_time":0.11033978,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:15:7:1]","description":"is expected to eql \"Overdue - -130.00 due about 1 month ago\"","full_description":"CreditNote#long_status when overdue with part payment is expected to eql \"Overdue - -130.00 due about 1 month ago\"","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":440,"run_time":0.107271238,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:15:8:1]","description":"is expected to eql \"Open - due in about 1 month\"","full_description":"CreditNote#long_status when not paid is expected to eql \"Open - due in about 1 month\"","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":452,"run_time":0.100308697,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:15:9:1]","description":"is expected to eql \"Open - -130.00 due in about 1 month\"","full_description":"CreditNote#long_status when part-paid is expected to eql \"Open - -130.00 due in about 1 month\"","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":471,"run_time":0.099583795,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:15:10:1]","description":"is expected to eql \"Applied against invoice on 05 Apr 20\"","full_description":"CreditNote#long_status when is fully paid off with a credit note is expected to eql \"Applied against invoice on 05 Apr 20\"","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":495,"run_time":0.315600421,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:16:2]","description":"returns the sent credit note","full_description":"CreditNote#available_for_payment returns the sent credit note","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":538,"run_time":0.408294122,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:16:1:1]","description":"returns @available_for_payment","full_description":"CreditNote#available_for_payment when @available_for_payment is already set returns @available_for_payment","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":531,"run_time":0.3884965,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:16:3:1]","description":"returns only invoices that have not been reconciled against the credit note","full_description":"CreditNote#available_for_payment when the credit note already has reconciliations returns only invoices that have not been reconciled against the credit note","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":605,"run_time":2.642772735,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:16:3:2:1]","description":"returns scoped invoices ordered by date, oldest first","full_description":"CreditNote#available_for_payment when the credit note already has reconciliations ordering returns scoped invoices ordered by date, oldest first","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":616,"run_time":2.430828003,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:17:1:1]","description":"is expected to eql false","full_description":"CreditNote#has_overpaid_for_valudation? when the invoice has not been overpaid is expected to eql false","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":646,"run_time":0.696834708,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:17:2:1]","description":"is expected to eql true","full_description":"CreditNote#has_overpaid_for_valudation? when the invoice has not been overpaid is expected to eql true","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":669,"run_time":0.708595389,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:18:1:1]","description":"allows PO reference to be present or absent for non landlord companies","full_description":"CreditNote#validate PO reference allows PO reference to be present or absent for non landlord companies","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":675,"run_time":0.125258504,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:18:1:2]","description":"validates the absence of PO reference for landlord companies","full_description":"CreditNote#validate PO reference validates the absence of PO reference for landlord companies","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":683,"run_time":0.10968808,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:18:2:1]","description":"validates the presence of a property","full_description":"CreditNote#validate for a landlord company validates the presence of a property","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":698,"run_time":0.100527603,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:18:2:2]","description":"validates the company and landlord company match","full_description":"CreditNote#validate for a landlord company validates the company and landlord company match","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":704,"run_time":0.185575968,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:19:1]","description":"tags all the ledger entries with the property id","full_description":"CreditNote ledger entry property tagging of credit notes tags all the ledger entries with the property id","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":718,"run_time":0.164300476,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:19:2:1]","description":"tags all the ledger entries with the property id","full_description":"CreditNote ledger entry property tagging of credit notes on cash basis tags all the ledger entries with the property id","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":726,"run_time":0.168856005,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:20:1:1]","description":"returns the configured theme","full_description":"CreditNote#theme with theme_customisation_circuit_breaker working returns the configured theme","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":751,"run_time":0.169179776,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:20:2:1:1]","description":"returns the configured theme","full_description":"CreditNote#theme with theme_customisation_circuit_breaker broken with a gallery theme configured returns the configured theme","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":765,"run_time":0.059890227,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:20:2:2:1:1]","description":"returns the company's default theme","full_description":"CreditNote#theme with theme_customisation_circuit_breaker broken with a custom theme configured when the company has a gallery theme as default returns the company's default theme","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":776,"run_time":0.086106432,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_spec.rb[1:20:2:2:2:1]","description":"returns the app-wide default theme (bauhaus)","full_description":"CreditNote#theme with theme_customisation_circuit_breaker broken with a custom theme configured when the company has the custom theme as default returns the app-wide default theme (bauhaus)","status":"passed","file_path":"./spec/models/credit_note_spec.rb","line_number":784,"run_time":0.121279678,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/predicted_event_calculations.feature[1:1:1]","description":"Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And a GBP bank account named CashflowTest with an opening balance of 1000 -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the company will have the following amounts projected per day in the future: -\u003e And the balance in 90 days will be calculated as '400.00'","full_description":"Predicted Event Calculations Project Accountancy Fee payments forward in the future Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And a GBP bank account named CashflowTest with an opening balance of 1000 -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the company will have the following amounts projected per day in the future: -\u003e And the balance in 90 days will be calculated as '400.00'","status":"passed","file_path":"./spec/acceptance/cashflow/predicted_event_calculations.feature","line_number":10,"run_time":1.224460225,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/predicted_event_calculations.feature[1:2:1]","description":"Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And a GBP bank account named CashflowTest with an opening balance of 1000 -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the company will have the following amounts projected per day in the future: -\u003e And the balance in 90 days will be calculated as '400.00'","full_description":"Predicted Event Calculations Project Accountancy Fee payments forward with most recent payment today Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And a GBP bank account named CashflowTest with an opening balance of 1000 -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the company will have the following amounts projected per day in the future: -\u003e And the balance in 90 days will be calculated as '400.00'","status":"passed","file_path":"./spec/acceptance/cashflow/predicted_event_calculations.feature","line_number":23,"run_time":1.130543887,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/predicted_event_calculations.feature[1:3:1]","description":"Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And a GBP bank account named CashflowTest with an opening balance of 1000 -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the company will have the following amounts projected per day in the future: -\u003e And the balance in 90 days will be calculated as '300.00'","full_description":"Predicted Event Calculations Project Accountancy Fee payments forward with two payments in the past month between 28 and 31 days of each other Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And a GBP bank account named CashflowTest with an opening balance of 1000 -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the company will have the following amounts projected per day in the future: -\u003e And the balance in 90 days will be calculated as '300.00'","status":"passed","file_path":"./spec/acceptance/cashflow/predicted_event_calculations.feature","line_number":36,"run_time":1.130374731,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/predicted_event_calculations.feature[1:4:1]","description":"Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And a GBP bank account named CashflowTest with an opening balance of 1000 -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '400.00'","full_description":"Predicted Event Calculations Project payments when description is missing number in description Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And a GBP bank account named CashflowTest with an opening balance of 1000 -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '400.00'","status":"passed","file_path":"./spec/acceptance/cashflow/predicted_event_calculations.feature","line_number":50,"run_time":1.499599169,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/predicted_event_calculations.feature[1:5:1]","description":"Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And a GBP bank account named CashflowTest with an opening balance of 1000 -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '600'","full_description":"Predicted Event Calculations Cannot project payments when there is a payment within 27 days of the first payment Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And a GBP bank account named CashflowTest with an opening balance of 1000 -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '600'","status":"passed","file_path":"./spec/acceptance/cashflow/predicted_event_calculations.feature","line_number":59,"run_time":1.093148591,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/predicted_event_calculations.feature[1:6:1]","description":"Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And a GBP bank account named CashflowTest with an opening balance of 1000 -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '750.01'","full_description":"Predicted Event Calculations Cannot project payments when 2nd amount is less than 50% of original Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And a GBP bank account named CashflowTest with an opening balance of 1000 -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '750.01'","status":"passed","file_path":"./spec/acceptance/cashflow/predicted_event_calculations.feature","line_number":68,"run_time":0.936820234,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/predicted_event_calculations.feature[1:7:1]","description":"Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And a GBP bank account named CashflowTest with an opening balance of 1000 -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '649.99'","full_description":"Predicted Event Calculations Cannot project payments when 2nd amount is more than 50% of original Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And a GBP bank account named CashflowTest with an opening balance of 1000 -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '649.99'","status":"passed","file_path":"./spec/acceptance/cashflow/predicted_event_calculations.feature","line_number":76,"run_time":0.96032889,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/predicted_event_calculations.feature[1:8:1]","description":"Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And a GBP bank account named CashflowTest with an opening balance of 1000 -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '750.01'","full_description":"Predicted Event Calculations Cannot project payments when 3rd amount is less than 50% of original Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And a GBP bank account named CashflowTest with an opening balance of 1000 -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '750.01'","status":"passed","file_path":"./spec/acceptance/cashflow/predicted_event_calculations.feature","line_number":84,"run_time":0.967499429,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/predicted_event_calculations.feature[1:9:1]","description":"Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And a GBP bank account named CashflowTest with an opening balance of 1000 -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '649.99'","full_description":"Predicted Event Calculations Cannot project payments when 3rd amount is more than 50% of original Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And a GBP bank account named CashflowTest with an opening balance of 1000 -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '649.99'","status":"passed","file_path":"./spec/acceptance/cashflow/predicted_event_calculations.feature","line_number":92,"run_time":0.994183057,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/predicted_event_calculations.feature[1:10:1]","description":"Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And a GBP bank account named CashflowTest with an opening balance of 1000 -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '700.00'","full_description":"Predicted Event Calculations Cannot project payments when 2nd date is closer than 21 days to 1st payment Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And a GBP bank account named CashflowTest with an opening balance of 1000 -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '700.00'","status":"passed","file_path":"./spec/acceptance/cashflow/predicted_event_calculations.feature","line_number":100,"run_time":1.546850653,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/predicted_event_calculations.feature[1:11:1]","description":"Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And a GBP bank account named CashflowTest with an opening balance of 1000 -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '700.00'","full_description":"Predicted Event Calculations Cannot project payments when 3rd date is closer than 21 days to 2nd payment Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And a GBP bank account named CashflowTest with an opening balance of 1000 -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '700.00'","status":"passed","file_path":"./spec/acceptance/cashflow/predicted_event_calculations.feature","line_number":108,"run_time":1.071654023,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/predicted_event_calculations.feature[1:12:1]","description":"Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And a GBP bank account named CashflowTest with an opening balance of 1000 -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '700.00'","full_description":"Predicted Event Calculations Cannot project payments when 2nd date is further than 41 days to 1st payment Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And a GBP bank account named CashflowTest with an opening balance of 1000 -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '700.00'","status":"passed","file_path":"./spec/acceptance/cashflow/predicted_event_calculations.feature","line_number":116,"run_time":1.001933178,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/predicted_event_calculations.feature[1:13:1]","description":"Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And a GBP bank account named CashflowTest with an opening balance of 1000 -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '700.00'","full_description":"Predicted Event Calculations Cannot project payments when 3rd date is further than 41 days to 2nd payment Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And a GBP bank account named CashflowTest with an opening balance of 1000 -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '700.00'","status":"passed","file_path":"./spec/acceptance/cashflow/predicted_event_calculations.feature","line_number":124,"run_time":1.011221448,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/predicted_event_calculations.feature[1:14:1]","description":"Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And a GBP bank account named CashflowTest with an opening balance of 1000 -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '700.00'","full_description":"Predicted Event Calculations Cannot project payments when 2nd payment description differs Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And a GBP bank account named CashflowTest with an opening balance of 1000 -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '700.00'","status":"passed","file_path":"./spec/acceptance/cashflow/predicted_event_calculations.feature","line_number":132,"run_time":0.999187979,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/predicted_event_calculations.feature[1:15:1]","description":"Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And a GBP bank account named CashflowTest with an opening balance of 1000 -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '700.00'","full_description":"Predicted Event Calculations Cannot project payments when 3rd payment description differs Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And a GBP bank account named CashflowTest with an opening balance of 1000 -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '700.00'","status":"passed","file_path":"./spec/acceptance/cashflow/predicted_event_calculations.feature","line_number":140,"run_time":1.013967203,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/predicted_event_calculations.feature[1:16:1]","description":"Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And a GBP bank account named CashflowTest with an opening balance of 1000 -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '700.00'","full_description":"Predicted Event Calculations Cannot project payments when payment is not a recognised recurring payment type Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And a GBP bank account named CashflowTest with an opening balance of 1000 -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '700.00'","status":"passed","file_path":"./spec/acceptance/cashflow/predicted_event_calculations.feature","line_number":148,"run_time":1.087530119,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/currency_revaluations/invoices.feature[1:1:1]","description":"Given exchange rates of -\u003e Given the pre-generated 2021 company, not VAT registered -\u003e Given a sent USD invoice to Uncle Sam dated on 2020-02-19 -\u003e And it has a line for 1 Hour of Awesomeness @ $120.00 -\u003e And a payment for 35.00 ($64.00) is received on 2020-02-21 -\u003e And a payment for 33.00 ($56.00) is received on 2020-02-23 -\u003e Then it should be valid -\u003e And the invoice currency revaluations are deleted and recalculated from 2020-02-18 -\u003e And it should have ledger entries -\u003e And the first payment should have ledger entries -\u003e And the second payment should have ledger entries","full_description":"Invoice Currency Flucuations Recalculating from different dates Given exchange rates of -\u003e Given the pre-generated 2021 company, not VAT registered -\u003e Given a sent USD invoice to Uncle Sam dated on 2020-02-19 -\u003e And it has a line for 1 Hour of Awesomeness @ $120.00 -\u003e And a payment for 35.00 ($64.00) is received on 2020-02-21 -\u003e And a payment for 33.00 ($56.00) is received on 2020-02-23 -\u003e Then it should be valid -\u003e And the invoice currency revaluations are deleted and recalculated from 2020-02-18 -\u003e And it should have ledger entries -\u003e And the first payment should have ledger entries -\u003e And the second payment should have ledger entries","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/currency_revaluations/invoices.feature","line_number":18,"run_time":1.029515464,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/currency_revaluations/invoices.feature[1:2:1]","description":"Given exchange rates of -\u003e Given the pre-generated 2021 company, not VAT registered -\u003e Given a sent USD invoice to Uncle Sam dated on 2020-02-19 -\u003e And it has a line for 1 Hour of Awesomeness @ $120.00 -\u003e And a payment for 35.00 ($64.00) is received on 2020-02-21 -\u003e And a payment for 33.00 ($56.00) is received on 2020-02-23 -\u003e Then it should be valid -\u003e And the invoice currency revaluations are deleted and recalculated from 2020-02-20 -\u003e And it should have ledger entries -\u003e And the first payment should have ledger entries -\u003e And the second payment should have ledger entries","full_description":"Invoice Currency Flucuations Recalculating from different dates Given exchange rates of -\u003e Given the pre-generated 2021 company, not VAT registered -\u003e Given a sent USD invoice to Uncle Sam dated on 2020-02-19 -\u003e And it has a line for 1 Hour of Awesomeness @ $120.00 -\u003e And a payment for 35.00 ($64.00) is received on 2020-02-21 -\u003e And a payment for 33.00 ($56.00) is received on 2020-02-23 -\u003e Then it should be valid -\u003e And the invoice currency revaluations are deleted and recalculated from 2020-02-20 -\u003e And it should have ledger entries -\u003e And the first payment should have ledger entries -\u003e And the second payment should have ledger entries","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/currency_revaluations/invoices.feature","line_number":18,"run_time":1.600861126,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/currency_revaluations/invoices.feature[1:3:1]","description":"Given exchange rates of -\u003e Given the pre-generated 2021 company, not VAT registered -\u003e Given a sent USD invoice to Uncle Sam dated on 2020-02-19 -\u003e And it has a line for 1 Hour of Awesomeness @ $120.00 -\u003e And a payment for 35.00 ($64.00) is received on 2020-02-21 -\u003e And a payment for 33.00 ($56.00) is received on 2020-02-23 -\u003e Then it should be valid -\u003e And the invoice currency revaluations are deleted and recalculated from 2020-02-21 -\u003e And it should have ledger entries -\u003e And the first payment should have ledger entries -\u003e And the second payment should have ledger entries","full_description":"Invoice Currency Flucuations Recalculating from different dates Given exchange rates of -\u003e Given the pre-generated 2021 company, not VAT registered -\u003e Given a sent USD invoice to Uncle Sam dated on 2020-02-19 -\u003e And it has a line for 1 Hour of Awesomeness @ $120.00 -\u003e And a payment for 35.00 ($64.00) is received on 2020-02-21 -\u003e And a payment for 33.00 ($56.00) is received on 2020-02-23 -\u003e Then it should be valid -\u003e And the invoice currency revaluations are deleted and recalculated from 2020-02-21 -\u003e And it should have ledger entries -\u003e And the first payment should have ledger entries -\u003e And the second payment should have ledger entries","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/currency_revaluations/invoices.feature","line_number":18,"run_time":1.024114249,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/currency_revaluations/invoices.feature[1:4:1]","description":"Given exchange rates of -\u003e Given the pre-generated 2021 company, not VAT registered -\u003e Given a sent USD invoice to Uncle Sam dated on 2020-02-19 -\u003e And it has a line for 1 Hour of Awesomeness @ $120.00 -\u003e And a payment for 35.00 ($64.00) is received on 2020-02-21 -\u003e And a payment for 33.00 ($56.00) is received on 2020-02-23 -\u003e Then it should be valid -\u003e And the invoice currency revaluations are deleted and recalculated from 2020-02-23 -\u003e And it should have ledger entries -\u003e And the first payment should have ledger entries -\u003e And the second payment should have ledger entries","full_description":"Invoice Currency Flucuations Recalculating from different dates Given exchange rates of -\u003e Given the pre-generated 2021 company, not VAT registered -\u003e Given a sent USD invoice to Uncle Sam dated on 2020-02-19 -\u003e And it has a line for 1 Hour of Awesomeness @ $120.00 -\u003e And a payment for 35.00 ($64.00) is received on 2020-02-21 -\u003e And a payment for 33.00 ($56.00) is received on 2020-02-23 -\u003e Then it should be valid -\u003e And the invoice currency revaluations are deleted and recalculated from 2020-02-23 -\u003e And it should have ledger entries -\u003e And the first payment should have ledger entries -\u003e And the second payment should have ledger entries","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/currency_revaluations/invoices.feature","line_number":18,"run_time":1.037142507,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/currency_revaluations/invoices.feature[1:5:1]","description":"Given exchange rates of -\u003e Given the pre-generated 2021 company, not VAT registered -\u003e Given a sent USD invoice to Uncle Sam dated on 2020-02-19 -\u003e And it has a line for 1 Hour of Awesomeness @ $120.00 -\u003e And a payment for 35.00 ($64.00) is received on 2020-02-21 -\u003e And a payment for 33.00 ($56.00) is received on 2020-02-23 -\u003e Then it should be valid -\u003e And the invoice currency revaluations are deleted and recalculated from 2020-02-25 -\u003e And it should have ledger entries -\u003e And the first payment should have ledger entries -\u003e And the second payment should have ledger entries","full_description":"Invoice Currency Flucuations Recalculating from different dates Given exchange rates of -\u003e Given the pre-generated 2021 company, not VAT registered -\u003e Given a sent USD invoice to Uncle Sam dated on 2020-02-19 -\u003e And it has a line for 1 Hour of Awesomeness @ $120.00 -\u003e And a payment for 35.00 ($64.00) is received on 2020-02-21 -\u003e And a payment for 33.00 ($56.00) is received on 2020-02-23 -\u003e Then it should be valid -\u003e And the invoice currency revaluations are deleted and recalculated from 2020-02-25 -\u003e And it should have ledger entries -\u003e And the first payment should have ledger entries -\u003e And the second payment should have ledger entries","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/currency_revaluations/invoices.feature","line_number":18,"run_time":1.015978399,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/currency_revaluations/invoices.feature[1:6:1]","description":"Given exchange rates of -\u003e Given the pre-generated 2021 company, not VAT registered -\u003e Given a sent USD invoice to Uncle Sam dated on 2020-02-19 -\u003e And it has a line for 1 Hour of Awesomeness @ $120.00 -\u003e And a payment for 35.00 ($64.00) is received on 2020-02-21 -\u003e And a payment for 33.00 ($56.00) is received on 2020-02-23 -\u003e Then it should be valid -\u003e And the invoice currency revaluations are not deleted and recalculated from 2020-02-18 -\u003e And it should have ledger entries -\u003e And the first payment should have ledger entries -\u003e And the second payment should have ledger entries","full_description":"Invoice Currency Flucuations Recalculating from different dates Given exchange rates of -\u003e Given the pre-generated 2021 company, not VAT registered -\u003e Given a sent USD invoice to Uncle Sam dated on 2020-02-19 -\u003e And it has a line for 1 Hour of Awesomeness @ $120.00 -\u003e And a payment for 35.00 ($64.00) is received on 2020-02-21 -\u003e And a payment for 33.00 ($56.00) is received on 2020-02-23 -\u003e Then it should be valid -\u003e And the invoice currency revaluations are not deleted and recalculated from 2020-02-18 -\u003e And it should have ledger entries -\u003e And the first payment should have ledger entries -\u003e And the second payment should have ledger entries","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/currency_revaluations/invoices.feature","line_number":18,"run_time":0.947840187,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/currency_revaluations/invoices.feature[1:7:1]","description":"Given exchange rates of -\u003e Given the pre-generated 2021 company, not VAT registered -\u003e Given a sent USD invoice to Uncle Sam dated on 2020-02-19 -\u003e And it has a line for 1 Hour of Awesomeness @ $120.00 -\u003e And a payment for 35.00 ($64.00) is received on 2020-02-21 -\u003e And a payment for 33.00 ($56.00) is received on 2020-02-23 -\u003e Then it should be valid -\u003e And the invoice currency revaluations are not deleted and recalculated from 2020-02-19 -\u003e And it should have ledger entries -\u003e And the first payment should have ledger entries -\u003e And the second payment should have ledger entries","full_description":"Invoice Currency Flucuations Recalculating from different dates Given exchange rates of -\u003e Given the pre-generated 2021 company, not VAT registered -\u003e Given a sent USD invoice to Uncle Sam dated on 2020-02-19 -\u003e And it has a line for 1 Hour of Awesomeness @ $120.00 -\u003e And a payment for 35.00 ($64.00) is received on 2020-02-21 -\u003e And a payment for 33.00 ($56.00) is received on 2020-02-23 -\u003e Then it should be valid -\u003e And the invoice currency revaluations are not deleted and recalculated from 2020-02-19 -\u003e And it should have ledger entries -\u003e And the first payment should have ledger entries -\u003e And the second payment should have ledger entries","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/currency_revaluations/invoices.feature","line_number":18,"run_time":0.993789133,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/currency_revaluations/invoices.feature[1:8:1]","description":"Given exchange rates of -\u003e Given the pre-generated 2021 company, not VAT registered -\u003e Given a sent USD invoice to Uncle Sam dated on 2020-02-19 -\u003e And it has a line for 1 Hour of Awesomeness @ $120.00 -\u003e And a payment for 35.00 ($64.00) is received on 2020-02-21 -\u003e And a payment for 33.00 ($56.00) is received on 2020-02-23 -\u003e Then it should be valid -\u003e And the invoice currency revaluations are not deleted and recalculated from 2020-02-22 -\u003e And it should have ledger entries -\u003e And the first payment should have ledger entries -\u003e And the second payment should have ledger entries","full_description":"Invoice Currency Flucuations Recalculating from different dates Given exchange rates of -\u003e Given the pre-generated 2021 company, not VAT registered -\u003e Given a sent USD invoice to Uncle Sam dated on 2020-02-19 -\u003e And it has a line for 1 Hour of Awesomeness @ $120.00 -\u003e And a payment for 35.00 ($64.00) is received on 2020-02-21 -\u003e And a payment for 33.00 ($56.00) is received on 2020-02-23 -\u003e Then it should be valid -\u003e And the invoice currency revaluations are not deleted and recalculated from 2020-02-22 -\u003e And it should have ledger entries -\u003e And the first payment should have ledger entries -\u003e And the second payment should have ledger entries","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/currency_revaluations/invoices.feature","line_number":18,"run_time":1.662308064,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/currency_revaluations/invoices.feature[1:9:1]","description":"Given exchange rates of -\u003e Given the pre-generated 2021 company, not VAT registered -\u003e Given a sent USD invoice to Uncle Sam dated on 2020-02-19 -\u003e And it has a line for 1 Hour of Awesomeness @ $120.00 -\u003e And a payment for 35.00 ($64.00) is received on 2020-02-21 -\u003e And a payment for 33.00 ($56.00) is received on 2020-02-23 -\u003e Then it should be valid -\u003e And the invoice currency revaluations are not deleted and recalculated from 2020-02-23 -\u003e And it should have ledger entries -\u003e And the first payment should have ledger entries -\u003e And the second payment should have ledger entries","full_description":"Invoice Currency Flucuations Recalculating from different dates Given exchange rates of -\u003e Given the pre-generated 2021 company, not VAT registered -\u003e Given a sent USD invoice to Uncle Sam dated on 2020-02-19 -\u003e And it has a line for 1 Hour of Awesomeness @ $120.00 -\u003e And a payment for 35.00 ($64.00) is received on 2020-02-21 -\u003e And a payment for 33.00 ($56.00) is received on 2020-02-23 -\u003e Then it should be valid -\u003e And the invoice currency revaluations are not deleted and recalculated from 2020-02-23 -\u003e And it should have ledger entries -\u003e And the first payment should have ledger entries -\u003e And the second payment should have ledger entries","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/currency_revaluations/invoices.feature","line_number":18,"run_time":1.026455673,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/currency_revaluations/invoices.feature[1:10:1]","description":"Given exchange rates of -\u003e Given the pre-generated 2021 company, not VAT registered -\u003e Given a sent USD invoice to Uncle Sam dated on 2020-02-19 -\u003e And it has a line for 1 Hour of Awesomeness @ $120.00 -\u003e And a payment for 35.00 ($64.00) is received on 2020-02-21 -\u003e And a payment for 33.00 ($56.00) is received on 2020-02-23 -\u003e Then it should be valid -\u003e And the invoice currency revaluations are not deleted and recalculated from 2020-02-24 -\u003e And it should have ledger entries -\u003e And the first payment should have ledger entries -\u003e And the second payment should have ledger entries","full_description":"Invoice Currency Flucuations Recalculating from different dates Given exchange rates of -\u003e Given the pre-generated 2021 company, not VAT registered -\u003e Given a sent USD invoice to Uncle Sam dated on 2020-02-19 -\u003e And it has a line for 1 Hour of Awesomeness @ $120.00 -\u003e And a payment for 35.00 ($64.00) is received on 2020-02-21 -\u003e And a payment for 33.00 ($56.00) is received on 2020-02-23 -\u003e Then it should be valid -\u003e And the invoice currency revaluations are not deleted and recalculated from 2020-02-24 -\u003e And it should have ledger entries -\u003e And the first payment should have ledger entries -\u003e And the second payment should have ledger entries","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/currency_revaluations/invoices.feature","line_number":18,"run_time":1.028641186,"pending_message":null,"screenshot":null},{"id":"./spec/features/projects/profit_and_loss_spec.rb[1:1]","description":"navigating to it from project's overview","full_description":"Profit and Loss navigating to it from project's overview","status":"passed","file_path":"./spec/features/projects/profit_and_loss_spec.rb","line_number":27,"run_time":2.034277161,"pending_message":null,"screenshot":null},{"id":"./spec/features/projects/profit_and_loss_spec.rb[1:2]","description":"visiting the report for a native currency project","full_description":"Profit and Loss visiting the report for a native currency project","status":"passed","file_path":"./spec/features/projects/profit_and_loss_spec.rb","line_number":42,"run_time":1.368308798,"pending_message":null,"screenshot":null},{"id":"./spec/features/projects/profit_and_loss_spec.rb[1:3]","description":"visiting the report for a foreign currency project","full_description":"Profit and Loss visiting the report for a foreign currency project","status":"passed","file_path":"./spec/features/projects/profit_and_loss_spec.rb","line_number":84,"run_time":1.240869377,"pending_message":null,"screenshot":null},{"id":"./spec/features/projects/profit_and_loss_spec.rb[1:4]","description":"toggling unbillable time inclusion","full_description":"Profit and Loss toggling unbillable time inclusion","status":"passed","file_path":"./spec/features/projects/profit_and_loss_spec.rb","line_number":120,"run_time":2.966336208,"pending_message":null,"screenshot":null},{"id":"./spec/features/projects/profit_and_loss_spec.rb[1:5]","description":"switching between accounting periods","full_description":"Profit and Loss switching between accounting periods","status":"passed","file_path":"./spec/features/projects/profit_and_loss_spec.rb","line_number":162,"run_time":2.659074393,"pending_message":null,"screenshot":null},{"id":"./spec/features/projects/profit_and_loss_spec.rb[1:6:1]","description":"trying to navigate to it from project's overview","full_description":"Profit and Loss as a user with permission level lower than 4 trying to navigate to it from project's overview","status":"passed","file_path":"./spec/features/projects/profit_and_loss_spec.rb","line_number":239,"run_time":0.7830057,"pending_message":null,"screenshot":null},{"id":"./spec/features/projects/profit_and_loss_spec.rb[1:7:1]","description":"navigating to it from the project's overview","full_description":"Profit and Loss for a project that is not supported navigating to it from the project's overview","status":"passed","file_path":"./spec/features/projects/profit_and_loss_spec.rb","line_number":259,"run_time":1.243294136,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/home_view_controller_spec.rb[1:1]","description":"responds with the info for the mobile home page","full_description":"Api::Mobile::HomeController responds with the info for the mobile home page","status":"passed","file_path":"./spec/controllers/api/mobile/home_view_controller_spec.rb","line_number":18,"run_time":0.129321959,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/home_view_controller_spec.rb[1:3]","description":"when user does not have permission to invoices","full_description":"Api::Mobile::HomeController when user does not have permission to invoices","status":"passed","file_path":"./spec/controllers/api/mobile/home_view_controller_spec.rb","line_number":85,"run_time":0.076038262,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/home_view_controller_spec.rb[1:5]","description":"when user does not have permission to estimates","full_description":"Api::Mobile::HomeController when user does not have permission to estimates","status":"passed","file_path":"./spec/controllers/api/mobile/home_view_controller_spec.rb","line_number":166,"run_time":0.078085511,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/home_view_controller_spec.rb[1:7]","description":"when user does not have permission to bills","full_description":"Api::Mobile::HomeController when user does not have permission to bills","status":"passed","file_path":"./spec/controllers/api/mobile/home_view_controller_spec.rb","line_number":216,"run_time":0.085158988,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/home_view_controller_spec.rb[1:9]","description":"contacts info","full_description":"Api::Mobile::HomeController contacts info","status":"passed","file_path":"./spec/controllers/api/mobile/home_view_controller_spec.rb","line_number":257,"run_time":0.362823204,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/home_view_controller_spec.rb[1:10]","description":"when user does not have permission to contacts","full_description":"Api::Mobile::HomeController when user does not have permission to contacts","status":"passed","file_path":"./spec/controllers/api/mobile/home_view_controller_spec.rb","line_number":280,"run_time":0.058122895,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/home_view_controller_spec.rb[1:11]","description":"banking info","full_description":"Api::Mobile::HomeController banking info","status":"passed","file_path":"./spec/controllers/api/mobile/home_view_controller_spec.rb","line_number":290,"run_time":0.169121888,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/home_view_controller_spec.rb[1:12]","description":"when user does not have permission to bank_accounts","full_description":"Api::Mobile::HomeController when user does not have permission to bank_accounts","status":"passed","file_path":"./spec/controllers/api/mobile/home_view_controller_spec.rb","line_number":305,"run_time":0.087567005,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/home_view_controller_spec.rb[1:13]","description":"profit and loss info","full_description":"Api::Mobile::HomeController profit and loss info","status":"passed","file_path":"./spec/controllers/api/mobile/home_view_controller_spec.rb","line_number":315,"run_time":0.799623315,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/home_view_controller_spec.rb[1:14]","description":"cashflow info","full_description":"Api::Mobile::HomeController cashflow info","status":"passed","file_path":"./spec/controllers/api/mobile/home_view_controller_spec.rb","line_number":340,"run_time":0.124667584,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/home_view_controller_spec.rb[1:15]","description":"when user does not have permission to tax and accounting","full_description":"Api::Mobile::HomeController when user does not have permission to tax and accounting","status":"passed","file_path":"./spec/controllers/api/mobile/home_view_controller_spec.rb","line_number":353,"run_time":0.095379128,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/home_view_controller_spec.rb[1:16]","description":"when user does not have permission to banking","full_description":"Api::Mobile::HomeController when user does not have permission to banking","status":"passed","file_path":"./spec/controllers/api/mobile/home_view_controller_spec.rb","line_number":363,"run_time":0.094690955,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/home_view_controller_spec.rb[1:2:1]","description":"includes counts and totals for overdue invoices","full_description":"Api::Mobile::HomeController invoices info includes counts and totals for overdue invoices","status":"passed","file_path":"./spec/controllers/api/mobile/home_view_controller_spec.rb","line_number":54,"run_time":1.715375981,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/home_view_controller_spec.rb[1:2:2]","description":"includes counts and totals for open invoices","full_description":"Api::Mobile::HomeController invoices info includes counts and totals for open invoices","status":"passed","file_path":"./spec/controllers/api/mobile/home_view_controller_spec.rb","line_number":62,"run_time":0.976627493,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/home_view_controller_spec.rb[1:2:3]","description":"includes counts and totals for draft invoices","full_description":"Api::Mobile::HomeController invoices info includes counts and totals for draft invoices","status":"passed","file_path":"./spec/controllers/api/mobile/home_view_controller_spec.rb","line_number":70,"run_time":0.950288948,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/home_view_controller_spec.rb[1:2:4]","description":"includes outstanding invoices native total","full_description":"Api::Mobile::HomeController invoices info includes outstanding invoices native total","status":"passed","file_path":"./spec/controllers/api/mobile/home_view_controller_spec.rb","line_number":78,"run_time":0.942141963,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/home_view_controller_spec.rb[1:4:1]","description":"includes counts and totals for draft estimates","full_description":"Api::Mobile::HomeController estimates info includes counts and totals for draft estimates","status":"passed","file_path":"./spec/controllers/api/mobile/home_view_controller_spec.rb","line_number":137,"run_time":0.51904543,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/home_view_controller_spec.rb[1:4:2]","description":"includes counts and totals for open estimates","full_description":"Api::Mobile::HomeController estimates info includes counts and totals for open estimates","status":"passed","file_path":"./spec/controllers/api/mobile/home_view_controller_spec.rb","line_number":145,"run_time":0.455542764,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/home_view_controller_spec.rb[1:4:3]","description":"includes counts and totals for approved estimates","full_description":"Api::Mobile::HomeController estimates info includes counts and totals for approved estimates","status":"passed","file_path":"./spec/controllers/api/mobile/home_view_controller_spec.rb","line_number":153,"run_time":0.460813269,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/home_view_controller_spec.rb[1:4:4]","description":"includes total for outstanding estimates in native currency","full_description":"Api::Mobile::HomeController estimates info includes total for outstanding estimates in native currency","status":"passed","file_path":"./spec/controllers/api/mobile/home_view_controller_spec.rb","line_number":161,"run_time":0.483531579,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/home_view_controller_spec.rb[1:6:1]","description":"returns open bills info","full_description":"Api::Mobile::HomeController bills info returns open bills info","status":"passed","file_path":"./spec/controllers/api/mobile/home_view_controller_spec.rb","line_number":195,"run_time":0.588060275,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/home_view_controller_spec.rb[1:6:2]","description":"returns overdue bills info","full_description":"Api::Mobile::HomeController bills info returns overdue bills info","status":"passed","file_path":"./spec/controllers/api/mobile/home_view_controller_spec.rb","line_number":203,"run_time":0.601675022,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/home_view_controller_spec.rb[1:6:3]","description":"returns outstanding bills native total","full_description":"Api::Mobile::HomeController bills info returns outstanding bills native total","status":"passed","file_path":"./spec/controllers/api/mobile/home_view_controller_spec.rb","line_number":211,"run_time":0.60681572,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/home_view_controller_spec.rb[1:8:1]","description":"includes amount of expenses spent in the past 3 months","full_description":"Api::Mobile::HomeController expenses info includes amount of expenses spent in the past 3 months","status":"passed","file_path":"./spec/controllers/api/mobile/home_view_controller_spec.rb","line_number":244,"run_time":0.311234597,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/home_view_controller_spec.rb[1:8:2]","description":"includes balance of expenses from all time for current user","full_description":"Api::Mobile::HomeController expenses info includes balance of expenses from all time for current user","status":"passed","file_path":"./spec/controllers/api/mobile/home_view_controller_spec.rb","line_number":248,"run_time":0.298956584,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/home_view_controller_spec.rb[1:8:3]","description":"includes the count of recent expenses","full_description":"Api::Mobile::HomeController expenses info includes the count of recent expenses","status":"passed","file_path":"./spec/controllers/api/mobile/home_view_controller_spec.rb","line_number":252,"run_time":0.316075748,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/delete_transaction_job_spec.rb[1:1:1:1]","description":"when the job is performed, it has access to the restored Current context","full_description":"Banking::DeleteTransactionJob behaves like ActiveJobWithCurrent #perform when the job is performed, it has access to the restored Current context","status":"passed","file_path":"./engines/jobs/spec/support/shared_examples/active_job_with_current_shared_example.rb","line_number":22,"run_time":0.077756009,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/delete_transaction_job_spec.rb[1:2:1]","description":"deletes the bank transaction","full_description":"Banking::DeleteTransactionJob with an unexplained transaction deletes the bank transaction","status":"passed","file_path":"./spec/jobs/banking/delete_transaction_job_spec.rb","line_number":42,"run_time":0.094896722,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/delete_transaction_job_spec.rb[1:2:3]","description":"creates an audit entry","full_description":"Banking::DeleteTransactionJob with an unexplained transaction creates an audit entry","status":"passed","file_path":"./spec/jobs/banking/delete_transaction_job_spec.rb","line_number":64,"run_time":0.088084418,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/delete_transaction_job_spec.rb[1:2:4]","description":"doesn't publish a bank transaction explanation deleted event","full_description":"Banking::DeleteTransactionJob with an unexplained transaction doesn't publish a bank transaction explanation deleted event","status":"passed","file_path":"./spec/jobs/banking/delete_transaction_job_spec.rb","line_number":75,"run_time":0.079862237,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/delete_transaction_job_spec.rb[1:2:2:1]","description":"tracks bulk deletion metrics","full_description":"Banking::DeleteTransactionJob with an unexplained transaction event publishing tracks bulk deletion metrics","status":"passed","file_path":"./spec/jobs/banking/delete_transaction_job_spec.rb","line_number":51,"run_time":0.073588801,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/delete_transaction_job_spec.rb[1:2:5:1]","description":"creates an audit entry where the admin user is the actor","full_description":"Banking::DeleteTransactionJob with an unexplained transaction when a support admin user created the job creates an audit entry where the admin user is the actor","status":"passed","file_path":"./spec/jobs/banking/delete_transaction_job_spec.rb","line_number":85,"run_time":0.113652366,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/delete_transaction_job_spec.rb[1:2:6:1]","description":"has no items passed in","full_description":"Banking::DeleteTransactionJob with an unexplained transaction with an invalid transaction id has no items passed in","status":"passed","file_path":"./spec/jobs/banking/delete_transaction_job_spec.rb","line_number":100,"run_time":0.012929948,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/delete_transaction_job_spec.rb[1:3:1]","description":"deletes the transaction and its explanation","full_description":"Banking::DeleteTransactionJob with a manual transaction deletes the transaction and its explanation","status":"passed","file_path":"./spec/jobs/banking/delete_transaction_job_spec.rb","line_number":113,"run_time":0.269063999,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/delete_transaction_job_spec.rb[1:3:3]","description":"publishes a bank transaction explanation deleted event","full_description":"Banking::DeleteTransactionJob with a manual transaction publishes a bank transaction explanation deleted event","status":"passed","file_path":"./spec/jobs/banking/delete_transaction_job_spec.rb","line_number":134,"run_time":0.243474077,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/delete_transaction_job_spec.rb[1:3:4]","description":"creates an audit entry","full_description":"Banking::DeleteTransactionJob with a manual transaction creates an audit entry","status":"passed","file_path":"./spec/jobs/banking/delete_transaction_job_spec.rb","line_number":150,"run_time":0.231422743,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/delete_transaction_job_spec.rb[1:3:2:1]","description":"tracks bulk deletion metrics","full_description":"Banking::DeleteTransactionJob with a manual transaction event publishing tracks bulk deletion metrics","status":"passed","file_path":"./spec/jobs/banking/delete_transaction_job_spec.rb","line_number":121,"run_time":0.251859426,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/delete_transaction_job_spec.rb[1:3:5:1:1]","description":"deletes the transaction and any attachments","full_description":"Banking::DeleteTransactionJob with a manual transaction manual transaction has attachment attachment should be deleted deletes the transaction and any attachments","status":"passed","file_path":"./spec/jobs/banking/delete_transaction_job_spec.rb","line_number":166,"run_time":0.303806924,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/delete_transaction_job_spec.rb[1:3:5:2:1]","description":"deletes the transaction and moves attachments back to the files area","full_description":"Banking::DeleteTransactionJob with a manual transaction manual transaction has attachment attachment should be retained deletes the transaction and moves attachments back to the files area","status":"passed","file_path":"./spec/jobs/banking/delete_transaction_job_spec.rb","line_number":178,"run_time":0.315753281,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/delete_transaction_job_spec.rb[1:3:5:3:1]","description":"deletes the transaction","full_description":"Banking::DeleteTransactionJob with a manual transaction manual transaction has attachment no attachment is present deletes the transaction","status":"passed","file_path":"./spec/jobs/banking/delete_transaction_job_spec.rb","line_number":198,"run_time":0.248870064,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/delete_transaction_job_spec.rb[1:4:1]","description":"does not delete the bank transaction","full_description":"Banking::DeleteTransactionJob with an explained transaction does not delete the bank transaction","status":"passed","file_path":"./spec/jobs/banking/delete_transaction_job_spec.rb","line_number":220,"run_time":0.133869354,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/delete_transaction_job_spec.rb[1:4:2]","description":"marks the bulk operation item as failed","full_description":"Banking::DeleteTransactionJob with an explained transaction marks the bulk operation item as failed","status":"passed","file_path":"./spec/jobs/banking/delete_transaction_job_spec.rb","line_number":225,"run_time":0.154056004,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/delete_transaction_job_spec.rb[1:4:3]","description":"does not create an audit entry","full_description":"Banking::DeleteTransactionJob with an explained transaction does not create an audit entry","status":"passed","file_path":"./spec/jobs/banking/delete_transaction_job_spec.rb","line_number":230,"run_time":0.14211596,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/delete_transaction_job_spec.rb[1:4:4]","description":"doesn't publish a bank transaction explanation deleted event","full_description":"Banking::DeleteTransactionJob with an explained transaction doesn't publish a bank transaction explanation deleted event","status":"passed","file_path":"./spec/jobs/banking/delete_transaction_job_spec.rb","line_number":235,"run_time":0.130690309,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/delete_transaction_job_spec.rb[1:5:1]","description":"deletes the bank transaction","full_description":"Banking::DeleteTransactionJob with an invoice receipt deletes the bank transaction","status":"passed","file_path":"./spec/jobs/banking/delete_transaction_job_spec.rb","line_number":247,"run_time":0.51708449,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/delete_transaction_job_spec.rb[1:5:2]","description":"creates an audit entry","full_description":"Banking::DeleteTransactionJob with an invoice receipt creates an audit entry","status":"passed","file_path":"./spec/jobs/banking/delete_transaction_job_spec.rb","line_number":252,"run_time":0.518962139,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/delete_transaction_job_spec.rb[1:6:1]","description":"deletes the bank transaction","full_description":"Banking::DeleteTransactionJob with an bill payment deletes the bank transaction","status":"passed","file_path":"./spec/jobs/banking/delete_transaction_job_spec.rb","line_number":270,"run_time":0.640096448,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/delete_transaction_job_spec.rb[1:6:2]","description":"creates an audit entry","full_description":"Banking::DeleteTransactionJob with an bill payment creates an audit entry","status":"passed","file_path":"./spec/jobs/banking/delete_transaction_job_spec.rb","line_number":275,"run_time":0.560801048,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:1:1:1]","description":"updates the category for any CIS line items","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is applicable for an invoice updates the category for any CIS line items","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":36,"run_time":0.428270546,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:1:1:2]","description":"doesn't change any non CIS line items","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is applicable for an invoice doesn't change any non CIS line items","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":50,"run_time":0.433747649,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:1:1:3]","description":"prevents you from changing to a non-CIS category","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is applicable for an invoice prevents you from changing to a non-CIS category","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":64,"run_time":0.417341959,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:1:1:4]","description":"doesn't list disabled rates as possible categories","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is applicable for an invoice doesn't list disabled rates as possible categories","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":78,"run_time":0.23574905,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:1:1:5:1]","description":"lists only the CIS categories as possible CIS categories","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is applicable for an invoice with CIS line items lists only the CIS categories as possible CIS categories","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":87,"run_time":0.397558938,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:1:1:6:1]","description":"includes 'N/A' alongside the CIS categories for the invoice's possible CIS categories","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is applicable for an invoice with no CIS line items includes 'N/A' alongside the CIS categories for the invoice's possible CIS categories","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":98,"run_time":0.230313864,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:1:1:7:1]","description":"returns only the chosen rate for the possible category options","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is applicable for an invoice when the invoice has been sent returns only the chosen rate for the possible category options","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":112,"run_time":0.305850801,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:1:2:1]","description":"updates the category for any CIS line items","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is applicable for a recurring invoice updates the category for any CIS line items","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":137,"run_time":0.183411125,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:1:2:2]","description":"doesn't change any non CIS line items","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is applicable for a recurring invoice doesn't change any non CIS line items","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":151,"run_time":0.323291807,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:1:2:3]","description":"prevents you from changing to a non-CIS category","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is applicable for a recurring invoice prevents you from changing to a non-CIS category","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":165,"run_time":0.287023333,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:1:2:4]","description":"doesn't list disabled rates as possible categories","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is applicable for a recurring invoice doesn't list disabled rates as possible categories","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":179,"run_time":0.286830903,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:1:2:5:1]","description":"lists only the CIS categories as possible CIS categories","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is applicable for a recurring invoice with CIS line items lists only the CIS categories as possible CIS categories","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":188,"run_time":0.355170084,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:1:2:6:1]","description":"includes 'N/A' alongside the CIS categories for the invoice's possible CIS categories","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is applicable for a recurring invoice with no CIS line items includes 'N/A' alongside the CIS categories for the invoice's possible CIS categories","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":202,"run_time":0.139980466,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:2:1:1]","description":"doesn't change the line items","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is not applicable for an invoice doesn't change the line items","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":225,"run_time":0.375093739,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:2:1:2]","description":"includes 'N/A' alongside the CIS categories for the invoice's possible CIS categories","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is not applicable for an invoice includes 'N/A' alongside the CIS categories for the invoice's possible CIS categories","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":233,"run_time":0.403475875,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:2:1:3:1]","description":"returns only N/A for the possible category options","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is not applicable for an invoice when the invoice has been sent returns only N/A for the possible category options","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":244,"run_time":0.456758236,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:2:2:1]","description":"doesn't change the line items","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is not applicable for a recurring invoice doesn't change the line items","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":262,"run_time":0.210531018,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:2:2:2]","description":"includes 'N/A' alongside the CIS categories for the invoice's possible CIS categories","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is not applicable for a recurring invoice includes 'N/A' alongside the CIS categories for the invoice's possible CIS categories","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":270,"run_time":0.197869911,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/theme_customisations_controller_spec.rb[1:1:1]","description":"redirects to the overview page","full_description":"ThemeCustomisationsController with a company that has theme customisation unavailable redirects to the overview page","status":"passed","file_path":"./spec/controllers/theme_customisations_controller_spec.rb","line_number":17,"run_time":0.147728235,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/theme_customisations_controller_spec.rb[1:2:1:1:1]","description":"can GET edit and displays the theme customisation functionality","full_description":"ThemeCustomisationsController with a company that has theme customisation available without an existing custom theme when the theme_customisation_circuit_breaker is working can GET edit and displays the theme customisation functionality","status":"passed","file_path":"./spec/controllers/theme_customisations_controller_spec.rb","line_number":42,"run_time":0.274100746,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/theme_customisations_controller_spec.rb[1:2:1:2:1]","description":"can GET edit but displays a notice instead of the theme customisation functionality","full_description":"ThemeCustomisationsController with a company that has theme customisation available without an existing custom theme when the theme_customisation_circuit_breaker is broken can GET edit but displays a notice instead of the theme customisation functionality","status":"passed","file_path":"./spec/controllers/theme_customisations_controller_spec.rb","line_number":62,"run_time":0.206383327,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/theme_customisations_controller_spec.rb[1:2:1:3:1]","description":"creates a custom theme with the correct attributes on update and publishes a THEME_SAVED event with a 'new' data attribute","full_description":"ThemeCustomisationsController with a company that has theme customisation available without an existing custom theme #update creates a custom theme with the correct attributes on update and publishes a THEME_SAVED event with a 'new' data attribute","status":"passed","file_path":"./spec/controllers/theme_customisations_controller_spec.rb","line_number":73,"run_time":0.139249236,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/theme_customisations_controller_spec.rb[1:2:1:3:2:1:1:1]","description":"updates the invoice's theme","full_description":"ThemeCustomisationsController with a company that has theme customisation available without an existing custom theme #update with a referring_object referring_object is an invoice the invoice belongs to the company updates the invoice's theme","status":"passed","file_path":"./spec/controllers/theme_customisations_controller_spec.rb","line_number":92,"run_time":0.235967572,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/theme_customisations_controller_spec.rb[1:2:1:3:2:1:2:1]","description":"doesn't update the invoice's theme","full_description":"ThemeCustomisationsController with a company that has theme customisation available without an existing custom theme #update with a referring_object referring_object is an invoice the invoice doesn't belong to the company doesn't update the invoice's theme","status":"passed","file_path":"./spec/controllers/theme_customisations_controller_spec.rb","line_number":111,"run_time":0.288307622,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/theme_customisations_controller_spec.rb[1:2:1:3:2:2:1:1]","description":"updates the recurring invoice's theme","full_description":"ThemeCustomisationsController with a company that has theme customisation available without an existing custom theme #update with a referring_object referring_object is a recurring invoice the recurring invoice belongs to the company updates the recurring invoice's theme","status":"passed","file_path":"./spec/controllers/theme_customisations_controller_spec.rb","line_number":131,"run_time":0.16009371,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/theme_customisations_controller_spec.rb[1:2:1:3:2:2:2:1]","description":"doesn't update the recurring invoice's theme","full_description":"ThemeCustomisationsController with a company that has theme customisation available without an existing custom theme #update with a referring_object referring_object is a recurring invoice the recurring invoice doesn't belong to the company doesn't update the recurring invoice's theme","status":"passed","file_path":"./spec/controllers/theme_customisations_controller_spec.rb","line_number":150,"run_time":0.280784804,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/theme_customisations_controller_spec.rb[1:2:1:3:2:3:1:1]","description":"updates the estimate's theme","full_description":"ThemeCustomisationsController with a company that has theme customisation available without an existing custom theme #update with a referring_object referring_object is an estimate the estimate belongs to the company updates the estimate's theme","status":"passed","file_path":"./spec/controllers/theme_customisations_controller_spec.rb","line_number":170,"run_time":0.195813349,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/theme_customisations_controller_spec.rb[1:2:1:3:2:3:2:1]","description":"doesn't update the estimate's theme","full_description":"ThemeCustomisationsController with a company that has theme customisation available without an existing custom theme #update with a referring_object referring_object is an estimate the estimate doesn't belong to the company doesn't update the estimate's theme","status":"passed","file_path":"./spec/controllers/theme_customisations_controller_spec.rb","line_number":189,"run_time":0.299472184,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/theme_customisations_controller_spec.rb[1:2:1:3:2:4:1]","description":"redirects back to the invoice without updating its theme","full_description":"ThemeCustomisationsController with a company that has theme customisation available without an existing custom theme #update with a referring_object referring_object isn't recognised after coming from an invoice redirects back to the invoice without updating its theme","status":"passed","file_path":"./spec/controllers/theme_customisations_controller_spec.rb","line_number":209,"run_time":0.239476613,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/theme_customisations_controller_spec.rb[1:2:1:3:3:1]","description":"redirects to the theme gallery","full_description":"ThemeCustomisationsController with a company that has theme customisation available without an existing custom theme #update without a referring_object redirects to the theme gallery","status":"passed","file_path":"./spec/controllers/theme_customisations_controller_spec.rb","line_number":223,"run_time":0.176245465,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/theme_customisations_controller_spec.rb[1:2:2:1]","description":"can GET edit","full_description":"ThemeCustomisationsController with a company that has theme customisation available given an existing custom theme can GET edit","status":"passed","file_path":"./spec/controllers/theme_customisations_controller_spec.rb","line_number":235,"run_time":0.304892865,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/theme_customisations_controller_spec.rb[1:2:2:2]","description":"updates correctly and publishes a THEME_SAVED event with a 'updated' data attribute","full_description":"ThemeCustomisationsController with a company that has theme customisation available given an existing custom theme updates correctly and publishes a THEME_SAVED event with a 'updated' data attribute","status":"passed","file_path":"./spec/controllers/theme_customisations_controller_spec.rb","line_number":241,"run_time":0.17159343,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/theme_customisations_controller_spec.rb[1:2:2:3]","description":"re-renders with existing values rather than redirects when updating fails","full_description":"ThemeCustomisationsController with a company that has theme customisation available given an existing custom theme re-renders with existing values rather than redirects when updating fails","status":"passed","file_path":"./spec/controllers/theme_customisations_controller_spec.rb","line_number":254,"run_time":0.247392659,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/theme_customisations_controller_spec.rb[1:2:3:1]","description":"uses turbo to update the CSS variables and table class","full_description":"ThemeCustomisationsController with a company that has theme customisation available live preview method uses turbo to update the CSS variables and table class","status":"passed","file_path":"./spec/controllers/theme_customisations_controller_spec.rb","line_number":268,"run_time":0.130249324,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/theme_customisations_controller_spec.rb[1:2:3:2:1]","description":"doesn't change the persisted customisation object","full_description":"ThemeCustomisationsController with a company that has theme customisation available live preview method with a persisted customisation object doesn't change the persisted customisation object","status":"passed","file_path":"./spec/controllers/theme_customisations_controller_spec.rb","line_number":286,"run_time":0.131899036,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/theme_customisations_controller_spec.rb[1:2:4:1]","description":"renders modal","full_description":"ThemeCustomisationsController with a company that has theme customisation available #logo renders modal","status":"passed","file_path":"./spec/controllers/theme_customisations_controller_spec.rb","line_number":302,"run_time":0.149646926,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/theme_customisations_controller_spec.rb[1:2:4:2:1]","description":"does not list payslips in the introductory text","full_description":"ThemeCustomisationsController with a company that has theme customisation available #logo with enable_version_2_payslips feature switch disabled does not list payslips in the introductory text","status":"passed","file_path":"./spec/controllers/theme_customisations_controller_spec.rb","line_number":313,"run_time":0.166839454,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/theme_customisations_controller_spec.rb[1:2:5:1:1]","description":"saves the logo and closes the modal","full_description":"ThemeCustomisationsController with a company that has theme customisation available #update_logo with a valid logo saves the logo and closes the modal","status":"passed","file_path":"./spec/controllers/theme_customisations_controller_spec.rb","line_number":328,"run_time":0.190429123,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/theme_customisations_controller_spec.rb[1:2:5:1:2]","description":"publishes a LOGO_UPLOADED event","full_description":"ThemeCustomisationsController with a company that has theme customisation available #update_logo with a valid logo publishes a LOGO_UPLOADED event","status":"passed","file_path":"./spec/controllers/theme_customisations_controller_spec.rb","line_number":336,"run_time":0.163259205,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/theme_customisations_controller_spec.rb[1:2:5:1:3:1]","description":"replaces the form logo section and renders the logo","full_description":"ThemeCustomisationsController with a company that has theme customisation available #update_logo with a valid logo when the company does not have an existing logo replaces the form logo section and renders the logo","status":"passed","file_path":"./spec/controllers/theme_customisations_controller_spec.rb","line_number":346,"run_time":0.060140282,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/theme_customisations_controller_spec.rb[1:2:5:1:3:2]","description":"adds a logo to the company record","full_description":"ThemeCustomisationsController with a company that has theme customisation available #update_logo with a valid logo when the company does not have an existing logo adds a logo to the company record","status":"passed","file_path":"./spec/controllers/theme_customisations_controller_spec.rb","line_number":354,"run_time":0.059661745,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/theme_customisations_controller_spec.rb[1:2:5:1:4:1]","description":"does not change the form logo section and re-renders the logo","full_description":"ThemeCustomisationsController with a company that has theme customisation available #update_logo with a valid logo when the company has an existing logo does not change the form logo section and re-renders the logo","status":"passed","file_path":"./spec/controllers/theme_customisations_controller_spec.rb","line_number":364,"run_time":0.153166449,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/theme_customisations_controller_spec.rb[1:2:5:1:4:2]","description":"changes the logo on the company record","full_description":"ThemeCustomisationsController with a company that has theme customisation available #update_logo with a valid logo when the company has an existing logo changes the logo on the company record","status":"passed","file_path":"./spec/controllers/theme_customisations_controller_spec.rb","line_number":372,"run_time":0.174271316,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/theme_customisations_controller_spec.rb[1:2:5:2:1]","description":"re-renders the form with a warning flash","full_description":"ThemeCustomisationsController with a company that has theme customisation available #update_logo with no logo re-renders the form with a warning flash","status":"passed","file_path":"./spec/controllers/theme_customisations_controller_spec.rb","line_number":385,"run_time":0.125003665,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/theme_customisations_controller_spec.rb[1:2:5:3:1]","description":"re-renders the modal and form","full_description":"ThemeCustomisationsController with a company that has theme customisation available #update_logo with an invalid logo re-renders the modal and form","status":"passed","file_path":"./spec/controllers/theme_customisations_controller_spec.rb","line_number":399,"run_time":0.154742458,"pending_message":null,"screenshot":null},{"id":"./spec/features/getting_started_spec.rb[1:2:1:1]","description":"sends tracking events","full_description":"Getting Started Google Analytics for rbsg customers when open banking in setup is enabled sends tracking events","status":"passed","file_path":"./spec/features/getting_started_spec.rb","line_number":66,"run_time":5.83721136,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb[1:1:1:1]","description":"redirects to overview page","full_description":"Accounting::EcSalesListController#show for a U.K. VAT registered company redirects to overview page","status":"passed","file_path":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb","line_number":5,"run_time":0.131340242,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb[1:1:1:2:1]","description":"renders the show page","full_description":"Accounting::EcSalesListController#show for a U.K. VAT registered company with EC VAT Reporting enabled renders the show page","status":"passed","file_path":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb","line_number":28,"run_time":0.217198477,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb[1:1:1:2:2:1]","description":"renders the show page","full_description":"Accounting::EcSalesListController#show for a U.K. VAT registered company with EC VAT Reporting enabled with year and quarter params renders the show page","status":"passed","file_path":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb","line_number":35,"run_time":0.213978148,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb[1:1:1:2:3:1]","description":"redirects to overview page","full_description":"Accounting::EcSalesListController#show for a U.K. VAT registered company with EC VAT Reporting enabled for a non-level 7 user redirects to overview page","status":"passed","file_path":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb","line_number":45,"run_time":0.193597044,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb[1:1:2:1]","description":"redirects to overview page","full_description":"Accounting::EcSalesListController#show for a U.K. VAT de-registered company redirects to overview page","status":"passed","file_path":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb","line_number":5,"run_time":0.142210762,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb[1:1:2:2:1]","description":"renders the show page","full_description":"Accounting::EcSalesListController#show for a U.K. VAT de-registered company with EC VAT Reporting enabled renders the show page","status":"passed","file_path":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb","line_number":63,"run_time":0.200829544,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb[1:1:2:2:2:1]","description":"renders the show page","full_description":"Accounting::EcSalesListController#show for a U.K. VAT de-registered company with EC VAT Reporting enabled with year and quarter params renders the show page","status":"passed","file_path":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb","line_number":70,"run_time":0.196120175,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb[1:1:2:2:3:1]","description":"redirects to overview page","full_description":"Accounting::EcSalesListController#show for a U.K. VAT de-registered company with EC VAT Reporting enabled for a non-level 7 user redirects to overview page","status":"passed","file_path":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb","line_number":80,"run_time":0.162413218,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb[1:1:3:1]","description":"redirects to overview page","full_description":"Accounting::EcSalesListController#show for a U.K. non-VAT registered company redirects to overview page","status":"passed","file_path":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb","line_number":5,"run_time":0.028810366,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb[1:1:4:1]","description":"redirects to overview page","full_description":"Accounting::EcSalesListController#show for a Universal company redirects to overview page","status":"passed","file_path":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb","line_number":5,"run_time":0.098395828,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb[1:2:1:1]","description":"redirects to overview page","full_description":"Accounting::EcSalesListController#switch for a U.K. VAT registered company redirects to overview page","status":"passed","file_path":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb","line_number":121,"run_time":0.122378341,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb[1:2:1:2:1]","description":"redirects to the show page","full_description":"Accounting::EcSalesListController#switch for a U.K. VAT registered company with EC VAT Reporting enabled redirects to the show page","status":"passed","file_path":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb","line_number":131,"run_time":0.153181827,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb[1:2:1:2:2:1]","description":"redirects to overview page","full_description":"Accounting::EcSalesListController#switch for a U.K. VAT registered company with EC VAT Reporting enabled for a non-level 7 user redirects to overview page","status":"passed","file_path":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb","line_number":139,"run_time":0.193742128,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb[1:2:2:1]","description":"redirects to overview page","full_description":"Accounting::EcSalesListController#switch for a U.K. VAT de-registered company redirects to overview page","status":"passed","file_path":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb","line_number":150,"run_time":0.159806944,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb[1:2:2:2:1]","description":"redirects to the show page","full_description":"Accounting::EcSalesListController#switch for a U.K. VAT de-registered company with EC VAT Reporting enabled redirects to the show page","status":"passed","file_path":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb","line_number":160,"run_time":0.123511354,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb[1:2:2:2:2:1]","description":"redirects to overview page","full_description":"Accounting::EcSalesListController#switch for a U.K. VAT de-registered company with EC VAT Reporting enabled for a non-level 7 user redirects to overview page","status":"passed","file_path":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb","line_number":168,"run_time":0.182955517,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb[1:2:3:1]","description":"redirects to overview page","full_description":"Accounting::EcSalesListController#switch for a U.K. non-VAT registered company redirects to overview page","status":"passed","file_path":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb","line_number":5,"run_time":0.030882686,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb[1:2:4:1]","description":"redirects to overview page","full_description":"Accounting::EcSalesListController#switch for a Universal company redirects to overview page","status":"passed","file_path":"./spec/controllers/accounting/ec_sales_list_controller_spec.rb","line_number":5,"run_time":0.10120754,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/credit_notes/send_email_controller_spec.rb[1:1:1:1]","description":"returns 200 and an empty body","full_description":"Api::CreditNotes::SendEmailController POST :create a valid request returns 200 and an empty body","status":"passed","file_path":"./spec/controllers/api/credit_notes/send_email_controller_spec.rb","line_number":25,"run_time":0.317540766,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/credit_notes/send_email_controller_spec.rb[1:1:2:1]","description":"blank body returns an error","full_description":"Api::CreditNotes::SendEmailController POST :create an invalid request blank body returns an error","status":"passed","file_path":"./spec/controllers/api/credit_notes/send_email_controller_spec.rb","line_number":34,"run_time":0.29670383,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/credit_notes/send_email_controller_spec.rb[1:1:2:2:1]","description":"returns an error","full_description":"Api::CreditNotes::SendEmailController POST :create an invalid request positive value credit note returns an error","status":"passed","file_path":"./spec/controllers/api/credit_notes/send_email_controller_spec.rb","line_number":52,"run_time":0.239803759,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/credit_notes/send_email_controller_spec.rb[1:1:3:1:1]","description":"returns 200 and an empty body","full_description":"Api::CreditNotes::SendEmailController POST :create with attachments params with a file_id returns 200 and an empty body","status":"passed","file_path":"./spec/controllers/api/credit_notes/send_email_controller_spec.rb","line_number":67,"run_time":0.360718049,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/credit_notes/send_email_controller_spec.rb[1:1:3:2:1]","description":"returns 200 and an empty body","full_description":"Api::CreditNotes::SendEmailController POST :create with attachments params with base64 encoded data returns 200 and an empty body","status":"passed","file_path":"./spec/controllers/api/credit_notes/send_email_controller_spec.rb","line_number":82,"run_time":0.37565416,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/credit_notes/send_email_controller_spec.rb[1:1:3:3:1]","description":"returns 404 not found error","full_description":"Api::CreditNotes::SendEmailController POST :create with attachments params with an invalid file_id  returns 404 not found error","status":"passed","file_path":"./spec/controllers/api/credit_notes/send_email_controller_spec.rb","line_number":91,"run_time":0.245686896,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/credit_notes/send_email_controller_spec.rb[1:1:3:4:1]","description":"returns 422 unprocessable entity error","full_description":"Api::CreditNotes::SendEmailController POST :create with attachments params with attachment size greater than 5MB returns 422 unprocessable entity error","status":"passed","file_path":"./spec/controllers/api/credit_notes/send_email_controller_spec.rb","line_number":110,"run_time":0.474812617,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/credit_notes/send_email_controller_spec.rb[1:1:3:5:1]","description":"returns 422 unprocessable entity error","full_description":"Api::CreditNotes::SendEmailController POST :create with attachments params without file_name attribute returns 422 unprocessable entity error","status":"passed","file_path":"./spec/controllers/api/credit_notes/send_email_controller_spec.rb","line_number":122,"run_time":0.259573256,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/external_identity_providers_controller_spec.rb[1:1:1]","description":"returns a success status code","full_description":"Admin::ExternalIdentityProvidersController GET index returns a success status code","status":"passed","file_path":"./spec/controllers/admin/external_identity_providers_controller_spec.rb","line_number":38,"run_time":0.267384475,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/external_identity_providers_controller_spec.rb[1:1:2]","description":"renders the expected template","full_description":"Admin::ExternalIdentityProvidersController GET index renders the expected template","status":"passed","file_path":"./spec/controllers/admin/external_identity_providers_controller_spec.rb","line_number":42,"run_time":0.222262998,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/external_identity_providers_controller_spec.rb[1:1:3]","description":"does not change the record count","full_description":"Admin::ExternalIdentityProvidersController GET index does not change the record count","status":"passed","file_path":"./spec/controllers/admin/external_identity_providers_controller_spec.rb","line_number":46,"run_time":0.271188159,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/external_identity_providers_controller_spec.rb[1:1:4]","description":"assigns the @external_identity_providers member","full_description":"Admin::ExternalIdentityProvidersController GET index assigns the @external_identity_providers member","status":"passed","file_path":"./spec/controllers/admin/external_identity_providers_controller_spec.rb","line_number":50,"run_time":0.202849586,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/external_identity_providers_controller_spec.rb[1:2:1]","description":"returns a success status code","full_description":"Admin::ExternalIdentityProvidersController GET new returns a success status code","status":"passed","file_path":"./spec/controllers/admin/external_identity_providers_controller_spec.rb","line_number":60,"run_time":0.036422828,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/external_identity_providers_controller_spec.rb[1:2:2]","description":"renders the expected template","full_description":"Admin::ExternalIdentityProvidersController GET new renders the expected template","status":"passed","file_path":"./spec/controllers/admin/external_identity_providers_controller_spec.rb","line_number":64,"run_time":0.031754595,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/external_identity_providers_controller_spec.rb[1:3:1]","description":"returns a success status code","full_description":"Admin::ExternalIdentityProvidersController GET edit returns a success status code","status":"passed","file_path":"./spec/controllers/admin/external_identity_providers_controller_spec.rb","line_number":76,"run_time":0.227905498,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/external_identity_providers_controller_spec.rb[1:3:2]","description":"renders the expected template","full_description":"Admin::ExternalIdentityProvidersController GET edit renders the expected template","status":"passed","file_path":"./spec/controllers/admin/external_identity_providers_controller_spec.rb","line_number":80,"run_time":0.200261177,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/external_identity_providers_controller_spec.rb[1:4:1:1]","description":"redirects to the index","full_description":"Admin::ExternalIdentityProvidersController POST create with valid parameters redirects to the index","status":"passed","file_path":"./spec/controllers/admin/external_identity_providers_controller_spec.rb","line_number":91,"run_time":0.234025989,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/external_identity_providers_controller_spec.rb[1:4:1:2]","description":"creates a record","full_description":"Admin::ExternalIdentityProvidersController POST create with valid parameters creates a record","status":"passed","file_path":"./spec/controllers/admin/external_identity_providers_controller_spec.rb","line_number":95,"run_time":0.438724476,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/external_identity_providers_controller_spec.rb[1:4:2:1]","description":"returns a success status code","full_description":"Admin::ExternalIdentityProvidersController POST create with invalid parameters returns a success status code","status":"passed","file_path":"./spec/controllers/admin/external_identity_providers_controller_spec.rb","line_number":106,"run_time":0.050746408,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/external_identity_providers_controller_spec.rb[1:4:2:2]","description":"renders the new template","full_description":"Admin::ExternalIdentityProvidersController POST create with invalid parameters renders the new template","status":"passed","file_path":"./spec/controllers/admin/external_identity_providers_controller_spec.rb","line_number":110,"run_time":0.046533196,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/external_identity_providers_controller_spec.rb[1:4:2:3]","description":"does not create a record","full_description":"Admin::ExternalIdentityProvidersController POST create with invalid parameters does not create a record","status":"passed","file_path":"./spec/controllers/admin/external_identity_providers_controller_spec.rb","line_number":114,"run_time":0.051441378,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/external_identity_providers_controller_spec.rb[1:5:1:1]","description":"redirects to the index","full_description":"Admin::ExternalIdentityProvidersController PUT update with valid parameters redirects to the index","status":"passed","file_path":"./spec/controllers/admin/external_identity_providers_controller_spec.rb","line_number":129,"run_time":0.253846088,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/external_identity_providers_controller_spec.rb[1:5:1:2]","description":"updates the specified record","full_description":"Admin::ExternalIdentityProvidersController PUT update with valid parameters updates the specified record","status":"passed","file_path":"./spec/controllers/admin/external_identity_providers_controller_spec.rb","line_number":133,"run_time":0.258798658,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/external_identity_providers_controller_spec.rb[1:5:2:1]","description":"renders the edit template","full_description":"Admin::ExternalIdentityProvidersController PUT update with invalid parameters renders the edit template","status":"passed","file_path":"./spec/controllers/admin/external_identity_providers_controller_spec.rb","line_number":143,"run_time":0.268094929,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/external_identity_providers_controller_spec.rb[1:5:2:2]","description":"does not update the specified record","full_description":"Admin::ExternalIdentityProvidersController PUT update with invalid parameters does not update the specified record","status":"passed","file_path":"./spec/controllers/admin/external_identity_providers_controller_spec.rb","line_number":148,"run_time":0.213767492,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/spending_categories/multi_period_data_spec.rb[1:1:1]","description":"returns the correct periods","full_description":"Accounting::SpendingCategories::MultiPeriodData#periods_covered returns the correct periods","status":"passed","file_path":"./spec/models/accounting/spending_categories/multi_period_data_spec.rb","line_number":26,"run_time":0.276541982,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/spending_categories/multi_period_data_spec.rb[1:2:1]","description":"generates the correct column names","full_description":"Accounting::SpendingCategories::MultiPeriodData#columns generates the correct column names","status":"passed","file_path":"./spec/models/accounting/spending_categories/multi_period_data_spec.rb","line_number":35,"run_time":0.29207272,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/spending_categories/multi_period_data_spec.rb[1:3:1]","description":"returns the correct values","full_description":"Accounting::SpendingCategories::MultiPeriodData#get_values returns the correct values","status":"passed","file_path":"./spec/models/accounting/spending_categories/multi_period_data_spec.rb","line_number":41,"run_time":0.284037895,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/spending_categories/multi_period_data_spec.rb[1:4:1]","description":"has all codes with an expence attached to it in the accounting period","full_description":"Accounting::SpendingCategories::MultiPeriodData#get_codes_names has all codes with an expence attached to it in the accounting period","status":"passed","file_path":"./spec/models/accounting/spending_categories/multi_period_data_spec.rb","line_number":50,"run_time":0.347283266,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/spending_categories/multi_period_data_spec.rb[1:5:1]","description":"has the correct filename","full_description":"Accounting::SpendingCategories::MultiPeriodData#get_filename has the correct filename","status":"passed","file_path":"./spec/models/accounting/spending_categories/multi_period_data_spec.rb","line_number":56,"run_time":0.305639356,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/spending_categories/multi_period_data_spec.rb[1:6:1]","description":"has the correct number of columns","full_description":"Accounting::SpendingCategories::MultiPeriodData#column_count has the correct number of columns","status":"passed","file_path":"./spec/models/accounting/spending_categories/multi_period_data_spec.rb","line_number":62,"run_time":0.300234027,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/spending_categories/multi_period_data_spec.rb[1:7:1]","description":"returns the correct rows","full_description":"Accounting::SpendingCategories::MultiPeriodData#rows returns the correct rows","status":"passed","file_path":"./spec/models/accounting/spending_categories/multi_period_data_spec.rb","line_number":68,"run_time":0.311879673,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/spending_categories/multi_period_data_spec.rb[1:7:2]","description":"returns the correct expense first","full_description":"Accounting::SpendingCategories::MultiPeriodData#rows returns the correct expense first","status":"passed","file_path":"./spec/models/accounting/spending_categories/multi_period_data_spec.rb","line_number":73,"run_time":0.313732118,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/spending_categories/multi_period_data_spec.rb[1:8:1]","description":"returns 10 rows","full_description":"Accounting::SpendingCategories::MultiPeriodData#top_ten returns 10 rows","status":"passed","file_path":"./spec/models/accounting/spending_categories/multi_period_data_spec.rb","line_number":79,"run_time":0.702401935,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/projects/expenses_controller_spec.rb[1:2]","description":"shows the expenses tab when visiting the project expenses path","full_description":"Projects::ExpensesController shows the expenses tab when visiting the project expenses path","status":"passed","file_path":"./spec/controllers/projects/expenses_controller_spec.rb","line_number":14,"run_time":0.220346255,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/projects/expenses_controller_spec.rb[1:3]","description":"uses the expenses/detail partial to show expenses","full_description":"Projects::ExpensesController uses the expenses/detail partial to show expenses","status":"passed","file_path":"./spec/controllers/projects/expenses_controller_spec.rb","line_number":19,"run_time":0.21805937,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/projects/expenses_controller_spec.rb[1:4]","description":"uses the bills/detail partial to show bills","full_description":"Projects::ExpensesController uses the bills/detail partial to show bills","status":"passed","file_path":"./spec/controllers/projects/expenses_controller_spec.rb","line_number":24,"run_time":0.300230832,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/projects/expenses_controller_spec.rb[1:5]","description":"uses the bank_account_entries/detail partial to show bank account entries","full_description":"Projects::ExpensesController uses the bank_account_entries/detail partial to show bank account entries","status":"passed","file_path":"./spec/controllers/projects/expenses_controller_spec.rb","line_number":30,"run_time":0.284377606,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/projects/expenses_controller_spec.rb[1:6]","description":"does not show rebill at for unbillable","full_description":"Projects::ExpensesController does not show rebill at for unbillable","status":"passed","file_path":"./spec/controllers/projects/expenses_controller_spec.rb","line_number":36,"run_time":0.272423115,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/projects/expenses_controller_spec.rb[1:7]","description":"shows original cost for a rebilled mileage in the cost column","full_description":"Projects::ExpensesController shows original cost for a rebilled mileage in the cost column","status":"passed","file_path":"./spec/controllers/projects/expenses_controller_spec.rb","line_number":42,"run_time":0.298051588,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/projects/expenses_controller_spec.rb[1:1:1]","description":"sets the current project","full_description":"Projects::ExpensesController behaves like a project scoped controller sets the current project","status":"passed","file_path":"./spec/support/shared_examples/project_scoped_controller_shared_examples.rb","line_number":8,"run_time":0.372483358,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/projects/expenses_controller_spec.rb[1:1:2]","description":"sets the contacts other active projects","full_description":"Projects::ExpensesController behaves like a project scoped controller sets the contacts other active projects","status":"passed","file_path":"./spec/support/shared_examples/project_scoped_controller_shared_examples.rb","line_number":14,"run_time":0.335769063,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:2:2:1:1:3]","description":"which has been cancelled","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the invoice accounting basis on the Flat Rate Scheme (at 5%) Invoices Given a native currency invoice with 3 line items in 2 categories which has been cancelled","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":4281,"run_time":0.744618076,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/hmrc/_vat_returns_card.html.erb_spec.rb[1:1:1]","description":"shows that the company is not VAT registered","full_description":"admin/companies/hmrc/_vat_returns_card when the company is not VAT registered shows that the company is not VAT registered","status":"passed","file_path":"./spec/views/admin/companies/hmrc/_vat_returns_card.html.erb_spec.rb","line_number":17,"run_time":0.049604958,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/hmrc/_vat_returns_card.html.erb_spec.rb[1:2:1]","description":"shows that the company is VAT registered and the basis","full_description":"admin/companies/hmrc/_vat_returns_card when the company is VAT registered shows that the company is VAT registered and the basis","status":"passed","file_path":"./spec/views/admin/companies/hmrc/_vat_returns_card.html.erb_spec.rb","line_number":28,"run_time":0.128266961,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/hmrc/_vat_returns_card.html.erb_spec.rb[1:3:1]","description":"shows that the company is VAT registration applied for and the registration effective date","full_description":"admin/companies/hmrc/_vat_returns_card when the company is VAT registration applied for shows that the company is VAT registration applied for and the registration effective date","status":"passed","file_path":"./spec/views/admin/companies/hmrc/_vat_returns_card.html.erb_spec.rb","line_number":39,"run_time":0.18373989,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/hmrc/_vat_returns_card.html.erb_spec.rb[1:4:1]","description":"shows that the company is VAT de-registered and the de-registration effective date","full_description":"admin/companies/hmrc/_vat_returns_card when the company is VAT de-registered shows that the company is VAT de-registered and the de-registration effective date","status":"passed","file_path":"./spec/views/admin/companies/hmrc/_vat_returns_card.html.erb_spec.rb","line_number":53,"run_time":0.476204491,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/hmrc/_vat_returns_card.html.erb_spec.rb[1:5:1]","description":"shows a button to 'View VAT returns'","full_description":"admin/companies/hmrc/_vat_returns_card when the admin user can view the VAT returns page shows a button to 'View VAT returns'","status":"passed","file_path":"./spec/views/admin/companies/hmrc/_vat_returns_card.html.erb_spec.rb","line_number":69,"run_time":0.048284055,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/hmrc/_vat_returns_card.html.erb_spec.rb[1:6:1]","description":"does not show a button to 'View VAT returns'","full_description":"admin/companies/hmrc/_vat_returns_card when the admin user cannot view the VAT returns page does not show a button to 'View VAT returns'","status":"passed","file_path":"./spec/views/admin/companies/hmrc/_vat_returns_card.html.erb_spec.rb","line_number":81,"run_time":0.041016781,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/importer/opening_balances/journal_set_updater_spec.rb[1:1:1:1]","description":"returns true","full_description":"Importer::OpeningBalances::JournalSetUpdater#validate when the changes from the import are valid returns true","status":"passed","file_path":"./spec/integrations/importer/opening_balances/journal_set_updater_spec.rb","line_number":22,"run_time":0.204051404,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/importer/opening_balances/journal_set_updater_spec.rb[1:1:2:1]","description":"returns false","full_description":"Importer::OpeningBalances::JournalSetUpdater#validate when the changes from the import are invalid returns false","status":"passed","file_path":"./spec/integrations/importer/opening_balances/journal_set_updater_spec.rb","line_number":34,"run_time":0.214451909,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/importer/opening_balances/journal_set_updater_spec.rb[1:1:2:2]","description":"merges the errors from the JournalEntries onto the matching ImportItems","full_description":"Importer::OpeningBalances::JournalSetUpdater#validate when the changes from the import are invalid merges the errors from the JournalEntries onto the matching ImportItems","status":"passed","file_path":"./spec/integrations/importer/opening_balances/journal_set_updater_spec.rb","line_number":38,"run_time":0.242839393,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/importer/opening_balances/journal_set_updater_spec.rb[1:2:1:1]","description":"returns true","full_description":"Importer::OpeningBalances::JournalSetUpdater#update when the changes from the import are valid returns true","status":"passed","file_path":"./spec/integrations/importer/opening_balances/journal_set_updater_spec.rb","line_number":48,"run_time":0.28653672,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/importer/opening_balances/journal_set_updater_spec.rb[1:2:1:2]","description":"updates the journal set","full_description":"Importer::OpeningBalances::JournalSetUpdater#update when the changes from the import are valid updates the journal set","status":"passed","file_path":"./spec/integrations/importer/opening_balances/journal_set_updater_spec.rb","line_number":52,"run_time":0.270301606,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/importer/opening_balances/journal_set_updater_spec.rb[1:2:2:1]","description":"raises an exception and merges the errors from the journal entries onto the matching import items","full_description":"Importer::OpeningBalances::JournalSetUpdater#update when the changes from the import are invalid raises an exception and merges the errors from the journal entries onto the matching import items","status":"passed","file_path":"./spec/integrations/importer/opening_balances/journal_set_updater_spec.rb","line_number":64,"run_time":0.204719036,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/account_manager_search_spec.rb[1:1:1:1]","description":"is expected to be indexable via bulk index scope","full_description":"AccountManager Search behaves like a search indexable model #bulk_index is expected to be indexable via bulk index scope","status":"passed","file_path":"./spec/support/shared_examples/search_indexable_model.rb","line_number":5,"run_time":0.064353235,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/account_manager_search_spec.rb[1:1:2:1]","description":"generates successfully on a new instance","full_description":"AccountManager Search behaves like a search indexable model #indexable_fields generates successfully on a new instance","status":"passed","file_path":"./spec/support/shared_examples/search_indexable_model.rb","line_number":9,"run_time":0.006319094,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/account_manager_search_spec.rb[1:2:1]","description":"is expected to be search indexable for {\"accountancy_practice_id\"=\u003e11}","full_description":"AccountManager Search #indexable_fields is expected to be search indexable for {\"accountancy_practice_id\"=\u003e11}","status":"passed","file_path":"./spec/models/search/account_manager_search_spec.rb","line_number":19,"run_time":0.060391991,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/account_manager_search_spec.rb[1:2:2]","description":"is expected to be search indexable for {\"email\"=\u003e\"gp@freeagent.test\"}","full_description":"AccountManager Search #indexable_fields is expected to be search indexable for {\"email\"=\u003e\"gp@freeagent.test\"}","status":"passed","file_path":"./spec/models/search/account_manager_search_spec.rb","line_number":20,"run_time":0.044990074,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/account_manager_search_spec.rb[1:2:3]","description":"is expected to be search indexable for {\"name\"=\u003e\"George Peppermint\"}","full_description":"AccountManager Search #indexable_fields is expected to be search indexable for {\"name\"=\u003e\"George Peppermint\"}","status":"passed","file_path":"./spec/models/search/account_manager_search_spec.rb","line_number":21,"run_time":0.053738377,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/account_manager_search_spec.rb[1:2:4]","description":"is expected to be search indexable for {\"phone\"=\u003e\"+123456789\"}","full_description":"AccountManager Search #indexable_fields is expected to be search indexable for {\"phone\"=\u003e\"+123456789\"}","status":"passed","file_path":"./spec/models/search/account_manager_search_spec.rb","line_number":22,"run_time":0.053690679,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/account_manager_search_spec.rb[1:2:5]","description":"is expected to be search indexable for {\"senior\"=\u003efalse}","full_description":"AccountManager Search #indexable_fields is expected to be search indexable for {\"senior\"=\u003efalse}","status":"passed","file_path":"./spec/models/search/account_manager_search_spec.rb","line_number":23,"run_time":0.046410373,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/account_manager_search_spec.rb[1:2:6:1]","description":"is expected to be search indexable for {\"senior\"=\u003etrue}","full_description":"AccountManager Search #indexable_fields when senior is expected to be search indexable for {\"senior\"=\u003etrue}","status":"passed","file_path":"./spec/models/search/account_manager_search_spec.rb","line_number":27,"run_time":0.035081896,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:1:16]","description":"deletes signup emails","full_description":"Company::ForgetCompanyData Deleting all data for a VAT registered UK company deletes signup emails","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":237,"run_time":1.188374797,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/webhook_spec.rb[1:1:1:1]","description":"marks the payment as processed","full_description":"Tyl::Webhook#process when everything is as expected marks the payment as processed","status":"passed","file_path":"./spec/integrations/tyl/webhook_spec.rb","line_number":22,"run_time":0.140403149,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/webhook_spec.rb[1:1:1:2]","description":"logs a message","full_description":"Tyl::Webhook#process when everything is as expected logs a message","status":"passed","file_path":"./spec/integrations/tyl/webhook_spec.rb","line_number":27,"run_time":0.113865326,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/webhook_spec.rb[1:1:1:3]","description":"schedules an email to the account owner","full_description":"Tyl::Webhook#process when everything is as expected schedules an email to the account owner","status":"passed","file_path":"./spec/integrations/tyl/webhook_spec.rb","line_number":34,"run_time":0.125476182,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/webhook_spec.rb[1:1:1:4]","description":"publishes both invoice paid events","full_description":"Tyl::Webhook#process when everything is as expected publishes both invoice paid events","status":"passed","file_path":"./spec/integrations/tyl/webhook_spec.rb","line_number":39,"run_time":0.129175465,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/webhook_spec.rb[1:1:2:1]","description":"logs a message","full_description":"Tyl::Webhook#process when the payment can't be found logs a message","status":"passed","file_path":"./spec/integrations/tyl/webhook_spec.rb","line_number":77,"run_time":0.10501332,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/webhook_spec.rb[1:1:3:1]","description":"logs a message","full_description":"Tyl::Webhook#process when the payment has already been processed logs a message","status":"passed","file_path":"./spec/integrations/tyl/webhook_spec.rb","line_number":90,"run_time":0.11157324,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/webhook_spec.rb[1:1:4:1]","description":"does not mark the payment as processed","full_description":"Tyl::Webhook#process when the status is not APPROVED does not mark the payment as processed","status":"passed","file_path":"./spec/integrations/tyl/webhook_spec.rb","line_number":101,"run_time":0.109828939,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/webhook_spec.rb[1:1:4:2]","description":"logs a message","full_description":"Tyl::Webhook#process when the status is not APPROVED logs a message","status":"passed","file_path":"./spec/integrations/tyl/webhook_spec.rb","line_number":106,"run_time":0.108486986,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/webhook_spec.rb[1:1:5:1]","description":"queues a job with the correct parameters","full_description":"Tyl::Webhook#process #process_later queues a job with the correct parameters","status":"passed","file_path":"./spec/integrations/tyl/webhook_spec.rb","line_number":117,"run_time":0.103596363,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:1:1]","description":"returns the default reference","full_description":"ReferenceGenerator when no sequence level is supplied returns the default reference","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":95,"run_time":0.004428178,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:2:1:1:1]","description":"increments the reference","full_description":"ReferenceGenerator when generating a global estimate reference behaves like estimate reference generator and an invoice exists increments the reference","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":14,"run_time":0.021976213,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:2:1:2:1]","description":"fills the gap in the references","full_description":"ReferenceGenerator when generating a global estimate reference behaves like estimate reference generator and the references have filled a gap fills the gap in the references","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":31,"run_time":0.038283935,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:2:1:3:1]","description":"increments the last available character","full_description":"ReferenceGenerator when generating a global estimate reference behaves like estimate reference generator and the existing references has reached the number limit increments the last available character","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":42,"run_time":0.019767259,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:2:1:4:1]","description":"preduces the next reference ignoring the spaces","full_description":"ReferenceGenerator when generating a global estimate reference behaves like estimate reference generator and the existing references have space in them preduces the next reference ignoring the spaces","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":52,"run_time":0.023091066,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:2:1:5:1]","description":"produces the correct next reference","full_description":"ReferenceGenerator when generating a global estimate reference behaves like estimate reference generator when the reference has only text produces the correct next reference","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":61,"run_time":0.024623957,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:2:1:6:1]","description":"produces the correct next reference","full_description":"ReferenceGenerator when generating a global estimate reference behaves like estimate reference generator when the number value is at the start of the reference produces the correct next reference","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":70,"run_time":0.026385662,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:2:1:7:1]","description":"produces the correct next reference","full_description":"ReferenceGenerator when generating a global estimate reference behaves like estimate reference generator and the number value is in the middle of the reference produces the correct next reference","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":79,"run_time":0.026312615,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:2:1:8:1]","description":"produces the correct next reference","full_description":"ReferenceGenerator when generating a global estimate reference behaves like estimate reference generator and the number value is in the middle of the reference and end of reference produces the correct next reference","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":88,"run_time":0.025066933,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:2:2:1]","description":"returns the default reference","full_description":"ReferenceGenerator when generating a global estimate reference and no estimate exist yet returns the default reference","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":108,"run_time":0.009171553,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:3:1]","description":"raises an exception","full_description":"ReferenceGenerator when generating a reference for a recurring invoice profile raises an exception","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":118,"run_time":0.016793535,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:4:1:1:1]","description":"increments the reference","full_description":"ReferenceGenerator when generating a reference with contact level sequencing behaves like estimate reference generator and an invoice exists increments the reference","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":14,"run_time":0.025812626,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:4:1:2:1]","description":"fills the gap in the references","full_description":"ReferenceGenerator when generating a reference with contact level sequencing behaves like estimate reference generator and the references have filled a gap fills the gap in the references","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":31,"run_time":0.037745977,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:4:1:3:1]","description":"increments the last available character","full_description":"ReferenceGenerator when generating a reference with contact level sequencing behaves like estimate reference generator and the existing references has reached the number limit increments the last available character","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":42,"run_time":0.026003879,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:4:1:4:1]","description":"preduces the next reference ignoring the spaces","full_description":"ReferenceGenerator when generating a reference with contact level sequencing behaves like estimate reference generator and the existing references have space in them preduces the next reference ignoring the spaces","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":52,"run_time":0.025635147,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:4:1:5:1]","description":"produces the correct next reference","full_description":"ReferenceGenerator when generating a reference with contact level sequencing behaves like estimate reference generator when the reference has only text produces the correct next reference","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":61,"run_time":0.0238417,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:4:1:6:1]","description":"produces the correct next reference","full_description":"ReferenceGenerator when generating a reference with contact level sequencing behaves like estimate reference generator when the number value is at the start of the reference produces the correct next reference","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":70,"run_time":0.023372107,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:4:1:7:1]","description":"produces the correct next reference","full_description":"ReferenceGenerator when generating a reference with contact level sequencing behaves like estimate reference generator and the number value is in the middle of the reference produces the correct next reference","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":79,"run_time":0.024091255,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:4:1:8:1]","description":"produces the correct next reference","full_description":"ReferenceGenerator when generating a reference with contact level sequencing behaves like estimate reference generator and the number value is in the middle of the reference and end of reference produces the correct next reference","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":88,"run_time":0.022614464,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:4:2:1]","description":"returns the default reference prefixed with the contact display name","full_description":"ReferenceGenerator when generating a reference with contact level sequencing and no invoices exist yet returns the default reference prefixed with the contact display name","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":135,"run_time":0.015965833,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:4:3:1:1:1]","description":"increments the reference","full_description":"ReferenceGenerator when generating a reference with contact level sequencing and it is not using contact estimate sequence behaves like estimate reference generator and an invoice exists increments the reference","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":14,"run_time":0.0224049,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:4:3:1:2:1]","description":"fills the gap in the references","full_description":"ReferenceGenerator when generating a reference with contact level sequencing and it is not using contact estimate sequence behaves like estimate reference generator and the references have filled a gap fills the gap in the references","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":31,"run_time":0.037502462,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:4:3:1:3:1]","description":"increments the last available character","full_description":"ReferenceGenerator when generating a reference with contact level sequencing and it is not using contact estimate sequence behaves like estimate reference generator and the existing references has reached the number limit increments the last available character","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":42,"run_time":0.02912492,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:4:3:1:4:1]","description":"preduces the next reference ignoring the spaces","full_description":"ReferenceGenerator when generating a reference with contact level sequencing and it is not using contact estimate sequence behaves like estimate reference generator and the existing references have space in them preduces the next reference ignoring the spaces","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":52,"run_time":0.025959009,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:4:3:1:5:1]","description":"produces the correct next reference","full_description":"ReferenceGenerator when generating a reference with contact level sequencing and it is not using contact estimate sequence behaves like estimate reference generator when the reference has only text produces the correct next reference","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":61,"run_time":0.027365407,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:4:3:1:6:1]","description":"produces the correct next reference","full_description":"ReferenceGenerator when generating a reference with contact level sequencing and it is not using contact estimate sequence behaves like estimate reference generator when the number value is at the start of the reference produces the correct next reference","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":70,"run_time":0.023016315,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:4:3:1:7:1]","description":"produces the correct next reference","full_description":"ReferenceGenerator when generating a reference with contact level sequencing and it is not using contact estimate sequence behaves like estimate reference generator and the number value is in the middle of the reference produces the correct next reference","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":79,"run_time":0.019532829,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:4:3:1:8:1]","description":"produces the correct next reference","full_description":"ReferenceGenerator when generating a reference with contact level sequencing and it is not using contact estimate sequence behaves like estimate reference generator and the number value is in the middle of the reference and end of reference produces the correct next reference","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":88,"run_time":0.020017036,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:5:1:1:1]","description":"increments the reference","full_description":"ReferenceGenerator when generating references with project level sequencing behaves like estimate reference generator and an invoice exists increments the reference","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":14,"run_time":0.026556225,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:5:1:2:1]","description":"fills the gap in the references","full_description":"ReferenceGenerator when generating references with project level sequencing behaves like estimate reference generator and the references have filled a gap fills the gap in the references","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":31,"run_time":0.0453695,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:5:1:3:1]","description":"increments the last available character","full_description":"ReferenceGenerator when generating references with project level sequencing behaves like estimate reference generator and the existing references has reached the number limit increments the last available character","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":42,"run_time":0.030751911,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:5:1:4:1]","description":"preduces the next reference ignoring the spaces","full_description":"ReferenceGenerator when generating references with project level sequencing behaves like estimate reference generator and the existing references have space in them preduces the next reference ignoring the spaces","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":52,"run_time":0.031180933,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:5:1:5:1]","description":"produces the correct next reference","full_description":"ReferenceGenerator when generating references with project level sequencing behaves like estimate reference generator when the reference has only text produces the correct next reference","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":61,"run_time":0.031386306,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:5:1:6:1]","description":"produces the correct next reference","full_description":"ReferenceGenerator when generating references with project level sequencing behaves like estimate reference generator when the number value is at the start of the reference produces the correct next reference","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":70,"run_time":0.025219205,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:5:1:7:1]","description":"produces the correct next reference","full_description":"ReferenceGenerator when generating references with project level sequencing behaves like estimate reference generator and the number value is in the middle of the reference produces the correct next reference","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":79,"run_time":0.026298167,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:5:1:8:1]","description":"produces the correct next reference","full_description":"ReferenceGenerator when generating references with project level sequencing behaves like estimate reference generator and the number value is in the middle of the reference and end of reference produces the correct next reference","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":88,"run_time":0.024900845,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:5:2:1]","description":"returns the default reference prefixed with the contact display name","full_description":"ReferenceGenerator when generating references with project level sequencing and no invoices exist yet returns the default reference prefixed with the contact display name","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":160,"run_time":0.017627634,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:5:3:1:1:1]","description":"increments the reference","full_description":"ReferenceGenerator when generating references with project level sequencing and it is not using project estimate sequence behaves like estimate reference generator and an invoice exists increments the reference","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":14,"run_time":0.022843238,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:5:3:1:2:1]","description":"fills the gap in the references","full_description":"ReferenceGenerator when generating references with project level sequencing and it is not using project estimate sequence behaves like estimate reference generator and the references have filled a gap fills the gap in the references","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":31,"run_time":0.033130633,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:5:3:1:3:1]","description":"increments the last available character","full_description":"ReferenceGenerator when generating references with project level sequencing and it is not using project estimate sequence behaves like estimate reference generator and the existing references has reached the number limit increments the last available character","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":42,"run_time":0.022549993,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:5:3:1:4:1]","description":"preduces the next reference ignoring the spaces","full_description":"ReferenceGenerator when generating references with project level sequencing and it is not using project estimate sequence behaves like estimate reference generator and the existing references have space in them preduces the next reference ignoring the spaces","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":52,"run_time":0.025185962,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:5:3:1:5:1]","description":"produces the correct next reference","full_description":"ReferenceGenerator when generating references with project level sequencing and it is not using project estimate sequence behaves like estimate reference generator when the reference has only text produces the correct next reference","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":61,"run_time":0.024106803,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:5:3:1:6:1]","description":"produces the correct next reference","full_description":"ReferenceGenerator when generating references with project level sequencing and it is not using project estimate sequence behaves like estimate reference generator when the number value is at the start of the reference produces the correct next reference","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":70,"run_time":0.027893631,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:5:3:1:7:1]","description":"produces the correct next reference","full_description":"ReferenceGenerator when generating references with project level sequencing and it is not using project estimate sequence behaves like estimate reference generator and the number value is in the middle of the reference produces the correct next reference","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":79,"run_time":0.02954638,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb[1:5:3:1:8:1]","description":"produces the correct next reference","full_description":"ReferenceGenerator when generating references with project level sequencing and it is not using project estimate sequence behaves like estimate reference generator and the number value is in the middle of the reference and end of reference produces the correct next reference","status":"passed","file_path":"./spec/freeagent/reference_generator/generate_estimate_reference_spec.rb","line_number":88,"run_time":0.026710522,"pending_message":null,"screenshot":null},{"id":"./spec/views/bills/_page_header_actions.html.erb_spec.rb[1:1:1]","description":"renders the button","full_description":"/bills/page_header_actions Edit bill details button renders the button","status":"passed","file_path":"./spec/views/bills/_page_header_actions.html.erb_spec.rb","line_number":9,"run_time":0.079806452,"pending_message":null,"screenshot":null},{"id":"./spec/views/bills/_page_header_actions.html.erb_spec.rb[1:2:1:1]","description":"does not render the button","full_description":"/bills/page_header_actions Add another bill button Bill with no line items does not render the button","status":"passed","file_path":"./spec/views/bills/_page_header_actions.html.erb_spec.rb","line_number":20,"run_time":0.094380927,"pending_message":null,"screenshot":null},{"id":"./spec/views/bills/_page_header_actions.html.erb_spec.rb[1:2:2:1]","description":"has the correct link","full_description":"/bills/page_header_actions Add another bill button Bill with line items has the correct link","status":"passed","file_path":"./spec/views/bills/_page_header_actions.html.erb_spec.rb","line_number":32,"run_time":0.146381829,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/hmrc_controller_spec.rb[1:1:1]","description":"assigns the company and latest_vat_registration","full_description":"Admin::Companies::HMRCController#index assigns the company and latest_vat_registration","status":"passed","file_path":"./spec/controllers/admin/companies/hmrc_controller_spec.rb","line_number":16,"run_time":0.123473796,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/hmrc_controller_spec.rb[1:1:2:1]","description":"assigns latest_payroll_period","full_description":"Admin::Companies::HMRCController#index when the company has setup payroll assigns latest_payroll_period","status":"passed","file_path":"./spec/controllers/admin/companies/hmrc_controller_spec.rb","line_number":29,"run_time":0.438689386,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/hmrc_controller_spec.rb[1:1:3:1]","description":"assigns latest_payroll_period to nil","full_description":"Admin::Companies::HMRCController#index when the company has not setup payroll assigns latest_payroll_period to nil","status":"passed","file_path":"./spec/controllers/admin/companies/hmrc_controller_spec.rb","line_number":39,"run_time":0.079564999,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/hmrc_controller_spec.rb[1:1:4:1:1]","description":"assigns current_year_end to nil","full_description":"Admin::Companies::HMRCController#index when the company is a limited company with no year ends assigns current_year_end to nil","status":"passed","file_path":"./spec/controllers/admin/companies/hmrc_controller_spec.rb","line_number":55,"run_time":0.160603909,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/hmrc_controller_spec.rb[1:1:4:2:1]","description":"assigns the current year end to the incomplete year end","full_description":"Admin::Companies::HMRCController#index when the company is a limited company with one incomplete year end assigns the current year end to the incomplete year end","status":"passed","file_path":"./spec/controllers/admin/companies/hmrc_controller_spec.rb","line_number":65,"run_time":0.149752843,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/hmrc_controller_spec.rb[1:1:4:3:1]","description":"assigns the current year end to the incomplete year end","full_description":"Admin::Companies::HMRCController#index when the company is a limited company with one complete and one incomplete year end assigns the current year end to the incomplete year end","status":"passed","file_path":"./spec/controllers/admin/companies/hmrc_controller_spec.rb","line_number":88,"run_time":0.146651516,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/hmrc_controller_spec.rb[1:1:5:1]","description":"does not assign current_year_end","full_description":"Admin::Companies::HMRCController#index when the company is not a limited company does not assign current_year_end","status":"passed","file_path":"./spec/controllers/admin/companies/hmrc_controller_spec.rb","line_number":99,"run_time":0.151517119,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:2:2:1]","description":"is invoices","full_description":"Invoice behaves like a todo dependency group target #radar_group_target_name is invoices","status":"passed","file_path":"./spec/support/shared_examples/radar/todo_dependency_group_target.rb","line_number":11,"run_time":0.1199388,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:97:1:3:1]","description":"is expected not to include #\u003cInvoice id: 204, project_id: nil, reference: \"REF 0001\", dated_on: \"2022-12-24\", status: \"Draft\", c...l, recurring_invoice_profile_id: nil, property_id: nil, is_paid: nil, include_payment_button: false\u003e","full_description":"Invoice.with_active_reminders scope when no argument is passed when an invoice does not have reminder emails set at all is expected not to include #\u003cInvoice id: 204, project_id: nil, reference: \"REF 0001\", dated_on: \"2022-12-24\", status: \"Draft\", c...l, recurring_invoice_profile_id: nil, property_id: nil, is_paid: nil, include_payment_button: false\u003e","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":2866,"run_time":0.06938641,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/companies/confirm_remove.html.erb_spec.rb[1:1:1]","description":"renders the confirmation page template with non removable info","full_description":"practice_dashboard/companies/confirm_remove for a demo company renders the confirmation page template with non removable info","status":"passed","file_path":"./spec/views/practice_dashboard/companies/confirm_remove.html.erb_spec.rb","line_number":25,"run_time":0.172980338,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/companies/confirm_remove.html.erb_spec.rb[1:2:1]","description":"renders the confirmation page template","full_description":"practice_dashboard/companies/confirm_remove for a regular practice managed company renders the confirmation page template","status":"passed","file_path":"./spec/views/practice_dashboard/companies/confirm_remove.html.erb_spec.rb","line_number":33,"run_time":0.168706296,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/companies/confirm_remove.html.erb_spec.rb[1:3:1]","description":"renders the confirmation page template","full_description":"practice_dashboard/companies/confirm_remove for a fapdrbsg practice managed company renders the confirmation page template","status":"passed","file_path":"./spec/views/practice_dashboard/companies/confirm_remove.html.erb_spec.rb","line_number":42,"run_time":0.186654609,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/companies/confirm_remove.html.erb_spec.rb[1:4:1]","description":"renders the confirmation page template","full_description":"practice_dashboard/companies/confirm_remove for a linked company renders the confirmation page template","status":"passed","file_path":"./spec/views/practice_dashboard/companies/confirm_remove.html.erb_spec.rb","line_number":61,"run_time":0.150973501,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/companies/confirm_remove.html.erb_spec.rb[1:5:1]","description":"renders the confirmation page template with non removable info","full_description":"practice_dashboard/companies/confirm_remove for a CoPilot company renders the confirmation page template with non removable info","status":"passed","file_path":"./spec/views/practice_dashboard/companies/confirm_remove.html.erb_spec.rb","line_number":81,"run_time":0.180020826,"pending_message":null,"screenshot":null},{"id":"./spec/views/invoices/_tyl_meta.html.erb_spec.rb[1:1:1]","description":"is expected to have visible css \"div.positive#payment-status\"","full_description":"invoices/_tyl_meta when a payment link has been used is expected to have visible css \"div.positive#payment-status\"","status":"passed","file_path":"./spec/views/invoices/_tyl_meta.html.erb_spec.rb","line_number":16,"run_time":0.128294493,"pending_message":null,"screenshot":null},{"id":"./spec/views/invoices/_tyl_meta.html.erb_spec.rb[1:1:2]","description":"is expected to have visible css \"span.fe-Badge\" with text \"Payment Authorised\"","full_description":"invoices/_tyl_meta when a payment link has been used is expected to have visible css \"span.fe-Badge\" with text \"Payment Authorised\"","status":"passed","file_path":"./spec/views/invoices/_tyl_meta.html.erb_spec.rb","line_number":17,"run_time":0.125830408,"pending_message":null,"screenshot":null},{"id":"./spec/views/invoices/_tyl_meta.html.erb_spec.rb[1:1:3]","description":"is expected to have text \"The payment by Sell Fridges was authorised\"","full_description":"invoices/_tyl_meta when a payment link has been used is expected to have text \"The payment by Sell Fridges was authorised\"","status":"passed","file_path":"./spec/views/invoices/_tyl_meta.html.erb_spec.rb","line_number":18,"run_time":0.174759059,"pending_message":null,"screenshot":null},{"id":"./spec/views/invoices/_tyl_meta.html.erb_spec.rb[1:1:4]","description":"is expected to have text \"24 Dec 22\"","full_description":"invoices/_tyl_meta when a payment link has been used is expected to have text \"24 Dec 22\"","status":"passed","file_path":"./spec/views/invoices/_tyl_meta.html.erb_spec.rb","line_number":19,"run_time":0.120980435,"pending_message":null,"screenshot":null},{"id":"./spec/views/invoices/_tyl_meta.html.erb_spec.rb[1:2:1]","description":"is expected to be blank","full_description":"invoices/_tyl_meta when a payment link is active is expected to be blank","status":"passed","file_path":"./spec/views/invoices/_tyl_meta.html.erb_spec.rb","line_number":25,"run_time":0.138253962,"pending_message":null,"screenshot":null},{"id":"./spec/views/invoices/_tyl_meta.html.erb_spec.rb[1:3:1]","description":"is expected to be blank","full_description":"invoices/_tyl_meta when a payment link has been cancelled is expected to be blank","status":"passed","file_path":"./spec/views/invoices/_tyl_meta.html.erb_spec.rb","line_number":31,"run_time":0.130798985,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[2:10:2:3:1]","description":"lets the user view the page","full_description":"InvoicesController GET :index sort behaves like CheckLandlordUserCanCreateProperties for a non-Landlord company the new action for a user with User::TAX_AND_LIMITED_ACCOUNTING permissions or above lets the user view the page","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":7,"run_time":0.57395057,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[6:1]","description":"viewing an Invoice should see the sort code renderered correctly","full_description":"InvoicesController GET :show with universal company with a single bank account containing UTF-8 characters viewing an Invoice should see the sort code renderered correctly","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":855,"run_time":0.294253417,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:46:2]","description":"correctly calculates native versions of its values","full_description":"Invoice A foreign currency invoice correctly calculates native versions of its values","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":994,"run_time":0.396205526,"pending_message":null,"screenshot":null},{"id":"./spec/views/settings/property_ownerships/_row.html.erb_spec.rb[1:1]","description":"renders the id field with the owner id","full_description":"settings/property_ownerships/_row renders the id field with the owner id","status":"passed","file_path":"./spec/views/settings/property_ownerships/_row.html.erb_spec.rb","line_number":10,"run_time":0.112480697,"pending_message":null,"screenshot":null},{"id":"./spec/views/settings/property_ownerships/_row.html.erb_spec.rb[1:2:1]","description":"renders the id field with the temp id","full_description":"settings/property_ownerships/_row for new objects renders the id field with the temp id","status":"passed","file_path":"./spec/views/settings/property_ownerships/_row.html.erb_spec.rb","line_number":24,"run_time":0.110967963,"pending_message":null,"screenshot":null},{"id":"./spec/views/settings/property_ownerships/_row.html.erb_spec.rb[1:3:1:1]","description":"does not render hidden users","full_description":"settings/property_ownerships/_row with users marked as hidden on a new row does not render hidden users","status":"passed","file_path":"./spec/views/settings/property_ownerships/_row.html.erb_spec.rb","line_number":46,"run_time":0.134202658,"pending_message":null,"screenshot":null},{"id":"./spec/views/settings/property_ownerships/_row.html.erb_spec.rb[1:3:2:1]","description":"shows the hidden user","full_description":"settings/property_ownerships/_row with users marked as hidden when user was selected but now hidden shows the hidden user","status":"passed","file_path":"./spec/views/settings/property_ownerships/_row.html.erb_spec.rb","line_number":62,"run_time":0.151569048,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/copilot_company_update_spec.rb[1:1:1]","description":"changes the account manager in practice client relationship","full_description":"PracticeDashboard::CopilotCompanyUpdate#save changes the account manager in practice client relationship","status":"passed","file_path":"./spec/models/practice_dashboard/copilot_company_update_spec.rb","line_number":19,"run_time":0.187923097,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/copilot_company_update_spec.rb[1:1:2]","description":"properly subscribes the new account manager to the message thread","full_description":"PracticeDashboard::CopilotCompanyUpdate#save properly subscribes the new account manager to the message thread","status":"passed","file_path":"./spec/models/practice_dashboard/copilot_company_update_spec.rb","line_number":25,"run_time":0.183099941,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/landing_zone/eligibility_check_spec.rb[1:1:1:1]","description":"is expected to equal true","full_description":"LandingZone::EligibilityCheck#eligible? when the company and user are eligible for landing zone by default is expected to equal true","status":"passed","file_path":"./spec/freeagent/landing_zone/eligibility_check_spec.rb","line_number":14,"run_time":0.009347134,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/landing_zone/eligibility_check_spec.rb[1:1:2:1]","description":"is expected to equal false","full_description":"LandingZone::EligibilityCheck#eligible? when the company is whitelabelled is expected to equal false","status":"passed","file_path":"./spec/freeagent/landing_zone/eligibility_check_spec.rb","line_number":19,"run_time":0.054825235,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/landing_zone/eligibility_check_spec.rb[1:1:3:1]","description":"is expected to equal false","full_description":"LandingZone::EligibilityCheck#eligible? when the user is an account manager is expected to equal false","status":"passed","file_path":"./spec/freeagent/landing_zone/eligibility_check_spec.rb","line_number":24,"run_time":0.029954287,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/landing_zone/eligibility_check_spec.rb[1:1:4:1]","description":"is expected to equal false","full_description":"LandingZone::EligibilityCheck#eligible? when the company and user are not eligible for landing zones is expected to equal false","status":"passed","file_path":"./spec/freeagent/landing_zone/eligibility_check_spec.rb","line_number":30,"run_time":0.074033773,"pending_message":null,"screenshot":null},{"id":"./spec/views/users/index.html.erb_spec.rb[1:1]","description":"shows the first user has 2FA enabled","full_description":"users/index shows the first user has 2FA enabled","status":"passed","file_path":"./spec/views/users/index.html.erb_spec.rb","line_number":27,"run_time":0.073490039,"pending_message":null,"screenshot":null},{"id":"./spec/views/users/index.html.erb_spec.rb[1:2]","description":"shows the second user does not have 2FA enabled","full_description":"users/index shows the second user does not have 2FA enabled","status":"passed","file_path":"./spec/views/users/index.html.erb_spec.rb","line_number":33,"run_time":0.062415728,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:22]","description":"Australian company should have an invoice called Tax Invoice","full_description":"Invoice Australian company should have an invoice called Tax Invoice","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":446,"run_time":0.223642219,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:16:3:1]","description":"returns due value","full_description":"Invoice#optional_due_value given an invoice with non-zero CIS deduction returns due value","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":310,"run_time":0.177990385,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:83:1]","description":"generates an online payment id","full_description":"Invoice An invoice that is payable by PayPal generates an online payment id","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":2436,"run_time":0.162208719,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:90:4]","description":"does not attempt to set a bank account when one has already been set","full_description":"Invoice#bank_account does not attempt to set a bank account when one has already been set","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":2608,"run_time":0.184263291,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:98:1]","description":"a pre trading invoice should be invalid","full_description":"Invoice Invoices dated before trading starts a pre trading invoice should be invalid","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":2934,"run_time":0.166323318,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:110:1:1]","description":"returns empty hash","full_description":"Invoice#grouped_written_off_totals with a non-written-off invoice returns empty hash","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":3284,"run_time":0.182677548,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:128:2:2]","description":"is invalid when the number of emails exceeds 10","full_description":"Invoice#validate_recipient_limit when the company is subscribed is invalid when the number of emails exceeds 10","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":3936,"run_time":0.185465478,"pending_message":null,"screenshot":null},{"id":"./spec/policies/radar/user_insight_notifications_policy_spec.rb[1:1:1]","description":"does not permit the update action","full_description":"Radar::UserInsightNotificationsPolicy a user with permission level below TAX_AND_LIMITED_ACCOUNTING does not permit the update action","status":"passed","file_path":"./spec/policies/radar/user_insight_notifications_policy_spec.rb","line_number":13,"run_time":0.039432198,"pending_message":null,"screenshot":null},{"id":"./spec/policies/radar/user_insight_notifications_policy_spec.rb[1:2:1]","description":"permits the update action","full_description":"Radar::UserInsightNotificationsPolicy a user with permission level TAX_AND_LIMITED_ACCOUNTING permits the update action","status":"passed","file_path":"./spec/policies/radar/user_insight_notifications_policy_spec.rb","line_number":21,"run_time":0.031757443,"pending_message":null,"screenshot":null},{"id":"./spec/policies/radar/user_insight_notifications_policy_spec.rb[1:3:1]","description":"permits the update action","full_description":"Radar::UserInsightNotificationsPolicy a user with permission level FULL_ACCESS permits the update action","status":"passed","file_path":"./spec/policies/radar/user_insight_notifications_policy_spec.rb","line_number":29,"run_time":0.035380933,"pending_message":null,"screenshot":null},{"id":"./spec/policies/radar/user_insight_notifications_policy_spec.rb[1:4:1]","description":"does not permit the update action","full_description":"Radar::UserInsightNotificationsPolicy a user with sufficient access level but insights disabled does not permit the update action","status":"passed","file_path":"./spec/policies/radar/user_insight_notifications_policy_spec.rb","line_number":41,"run_time":0.038412811,"pending_message":null,"screenshot":null},{"id":"./spec/policies/radar/user_insight_notifications_policy_spec.rb[1:5:1]","description":"permits the update action","full_description":"Radar::UserInsightNotificationsPolicy an account manager permits the update action","status":"passed","file_path":"./spec/policies/radar/user_insight_notifications_policy_spec.rb","line_number":49,"run_time":0.033567902,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[18:1]","description":"redirects to the selected bank account","full_description":"InvoicesController GET :pay redirects to the selected bank account","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":2153,"run_time":0.148562932,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:1:5:4]","description":"representing out of VAT scope admin expense","full_description":"UkAccountsMapper Accounts Mapper for UK companies that are not VAT registered Bills representing out of VAT scope admin expense","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":651,"run_time":0.176791738,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/deregistration_corrections.feature[1:1:1]","description":"Given a uk sole trader -\u003e And a bill: paid -\u003e And the deregistration VAT return is filed -\u003e And it is updated to a bill: capital asset 2000 plus -\u003e Given VAT settings: Invoice basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"VAT de-registration with corrections to bill in closed registration. VAT locked on bill, and corrected to control account on bill after de-registration Given a uk sole trader -\u003e And a bill: paid -\u003e And the deregistration VAT return is filed -\u003e And it is updated to a bill: capital asset 2000 plus -\u003e Given VAT settings: Invoice basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/deregistration_corrections.feature","line_number":26,"run_time":0.063367489,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/deregistration_corrections.feature[1:2:1]","description":"Given a uk sole trader -\u003e And a bill: paid -\u003e And the deregistration VAT return is filed -\u003e And it is updated to a bill: capital asset 2000 plus -\u003e Given a uk sole trader -\u003e And VAT settings: Cash basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"VAT de-registration with corrections to bill in closed registration. VAT locked on payment, and corrected to control account on payment after de-registration Given a uk sole trader -\u003e And a bill: paid -\u003e And the deregistration VAT return is filed -\u003e And it is updated to a bill: capital asset 2000 plus -\u003e Given a uk sole trader -\u003e And VAT settings: Cash basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/deregistration_corrections.feature","line_number":74,"run_time":0.043255752,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/deregistration_corrections.feature[1:3:1]","description":"Given a uk sole trader -\u003e And a bill: paid -\u003e And the deregistration VAT return is filed -\u003e And it is updated to a bill: capital asset 2000 plus -\u003e Given VAT settings: Invoice basis, FRS, then de-registered -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"VAT de-registration with corrections to bill in closed registration. Capital Asset reclaim deferred to control account on bill after de-registration date Given a uk sole trader -\u003e And a bill: paid -\u003e And the deregistration VAT return is filed -\u003e And it is updated to a bill: capital asset 2000 plus -\u003e Given VAT settings: Invoice basis, FRS, then de-registered -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/deregistration_corrections.feature","line_number":118,"run_time":0.030065391,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/deregistration_corrections.feature[1:4:1]","description":"Given a uk sole trader -\u003e And a bill: paid -\u003e And the deregistration VAT return is filed -\u003e And it is updated to a bill: capital asset 2000 plus -\u003e Given a uk sole trader -\u003e And VAT settings: Cash basis, FRS, then de-registered -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"VAT de-registration with corrections to bill in closed registration. Capital Asset reclaim deferred to control account on payment after de-registration date Given a uk sole trader -\u003e And a bill: paid -\u003e And the deregistration VAT return is filed -\u003e And it is updated to a bill: capital asset 2000 plus -\u003e Given a uk sole trader -\u003e And VAT settings: Cash basis, FRS, then de-registered -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/deregistration_corrections.feature","line_number":151,"run_time":0.03378016,"pending_message":null,"screenshot":null}],"summary":{"duration":2.282023954,"example_count":526,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"526 examples, 0 failures"}