{"version":"3.11.0","messages":["Run options:\n  include {:ids=\u003e{\"./spec/controllers/invoices_controller_spec.rb\"=\u003e[\"16:1\", \"24:1\"], \"./spec/models/invoice_spec.rb\"=\u003e[\"1:65:1:1\"]}}\n  exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:8]","description":"rejects the consent when there is an error param","full_description":"Api::ConsentsCallbackController POST #create rejects the consent when there is an error param","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":485,"run_time":0.54009421,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:1:1]","description":"returns a 200 response","full_description":"Api::ConsentsCallbackController POST #create successful response with authorised accounts returns a 200 response","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":101,"run_time":0.162939304,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:1:2]","description":"records an app metric for successful consent auth","full_description":"Api::ConsentsCallbackController POST #create successful response with authorised accounts records an app metric for successful consent auth","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":105,"run_time":0.137701166,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:1:3]","description":"doesn't record a failure app metric","full_description":"Api::ConsentsCallbackController POST #create successful response with authorised accounts doesn't record a failure app metric","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":111,"run_time":0.127447958,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:1:4]","description":"sets the access token, token expiry and refresh token on the consent","full_description":"Api::ConsentsCallbackController POST #create successful response with authorised accounts sets the access token, token expiry and refresh token on the consent","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":116,"run_time":0.133104639,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:1:5]","description":"sets the consent to be authorised","full_description":"Api::ConsentsCallbackController POST #create successful response with authorised accounts sets the consent to be authorised","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":122,"run_time":0.130613516,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:1:6]","description":"creates authorised accounts","full_description":"Api::ConsentsCallbackController POST #create successful response with authorised accounts creates authorised accounts","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":126,"run_time":0.143151591,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:1:7]","description":"schedules a job to set the opening_balance for authorised accounts","full_description":"Api::ConsentsCallbackController POST #create successful response with authorised accounts schedules a job to set the opening_balance for authorised accounts","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":130,"run_time":0.128932351,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:1:8]","description":"schedules a pre assessed limit job","full_description":"Api::ConsentsCallbackController POST #create successful response with authorised accounts schedules a pre assessed limit job","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":135,"run_time":0.115584939,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:1:9]","description":"returns success","full_description":"Api::ConsentsCallbackController POST #create successful response with authorised accounts returns success","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":140,"run_time":0.119617932,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:1:10:1]","description":"schedules an NWG addition fields import job","full_description":"Api::ConsentsCallbackController POST #create successful response with authorised accounts when the consent is NWG schedules an NWG addition fields import job","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":149,"run_time":0.126810142,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:1:10:2:1]","description":"should not schedule any jobs","full_description":"Api::ConsentsCallbackController POST #create successful response with authorised accounts when the consent is NWG if the callback URL is fired a second time should not schedule any jobs","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":53,"run_time":0.180721665,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:1:10:2:2]","description":"should not schedule any PAL related jobs","full_description":"Api::ConsentsCallbackController POST #create successful response with authorised accounts when the consent is NWG if the callback URL is fired a second time should not schedule any PAL related jobs","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":57,"run_time":0.144454097,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:1:10:2:3]","description":"should not change change the consent at all (access token, refresh token or expires_at value)","full_description":"Api::ConsentsCallbackController POST #create successful response with authorised accounts when the consent is NWG if the callback URL is fired a second time should not change change the consent at all (access token, refresh token or expires_at value)","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":63,"run_time":0.166578666,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:1:10:2:4]","description":"should not change the authorised accounts on the consent","full_description":"Api::ConsentsCallbackController POST #create successful response with authorised accounts when the consent is NWG if the callback URL is fired a second time should not change the authorised accounts on the consent","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":68,"run_time":0.153587198,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:1:10:2:5]","description":"should not increment any metric counters","full_description":"Api::ConsentsCallbackController POST #create successful response with authorised accounts when the consent is NWG if the callback URL is fired a second time should not increment any metric counters","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":72,"run_time":0.150624777,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:1:10:2:6]","description":"should not call the account provisioner","full_description":"Api::ConsentsCallbackController POST #create successful response with authorised accounts when the consent is NWG if the callback URL is fired a second time should not call the account provisioner","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":77,"run_time":0.162173999,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:1:10:2:7]","description":"should not fire any bank feed events","full_description":"Api::ConsentsCallbackController POST #create successful response with authorised accounts when the consent is NWG if the callback URL is fired a second time should not fire any bank feed events","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":82,"run_time":0.163118617,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:1:11:1]","description":"should not schedule any jobs","full_description":"Api::ConsentsCallbackController POST #create successful response with authorised accounts if the callback URL is fired a second time should not schedule any jobs","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":53,"run_time":0.14921348,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:1:11:2]","description":"should not schedule any PAL related jobs","full_description":"Api::ConsentsCallbackController POST #create successful response with authorised accounts if the callback URL is fired a second time should not schedule any PAL related jobs","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":57,"run_time":0.142733736,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:1:11:3]","description":"should not change change the consent at all (access token, refresh token or expires_at value)","full_description":"Api::ConsentsCallbackController POST #create successful response with authorised accounts if the callback URL is fired a second time should not change change the consent at all (access token, refresh token or expires_at value)","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":63,"run_time":0.155248476,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:1:11:4]","description":"should not change the authorised accounts on the consent","full_description":"Api::ConsentsCallbackController POST #create successful response with authorised accounts if the callback URL is fired a second time should not change the authorised accounts on the consent","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":68,"run_time":0.15486501,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:1:11:5]","description":"should not increment any metric counters","full_description":"Api::ConsentsCallbackController POST #create successful response with authorised accounts if the callback URL is fired a second time should not increment any metric counters","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":72,"run_time":0.170984641,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:1:11:6]","description":"should not call the account provisioner","full_description":"Api::ConsentsCallbackController POST #create successful response with authorised accounts if the callback URL is fired a second time should not call the account provisioner","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":77,"run_time":0.151121702,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:1:11:7]","description":"should not fire any bank feed events","full_description":"Api::ConsentsCallbackController POST #create successful response with authorised accounts if the callback URL is fired a second time should not fire any bank feed events","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":82,"run_time":0.150837962,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:2:1]","description":"returns a 200 response","full_description":"Api::ConsentsCallbackController POST #create successful reponse with no authorised accounts returns a 200 response","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":184,"run_time":0.112354882,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:2:2]","description":"does not records an app metric for successful consent auth","full_description":"Api::ConsentsCallbackController POST #create successful reponse with no authorised accounts does not records an app metric for successful consent auth","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":188,"run_time":0.118312503,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:2:3]","description":"records a failure app metric","full_description":"Api::ConsentsCallbackController POST #create successful reponse with no authorised accounts records a failure app metric","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":194,"run_time":0.109143133,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:2:4]","description":"sets the access token, token expiry and refresh token on the consent","full_description":"Api::ConsentsCallbackController POST #create successful reponse with no authorised accounts sets the access token, token expiry and refresh token on the consent","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":199,"run_time":0.120879183,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:2:5]","description":"sets the consent to be authorised","full_description":"Api::ConsentsCallbackController POST #create successful reponse with no authorised accounts sets the consent to be authorised","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":205,"run_time":0.099139967,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:2:6]","description":"does not create authorised accounts","full_description":"Api::ConsentsCallbackController POST #create successful reponse with no authorised accounts does not create authorised accounts","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":209,"run_time":0.100759303,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:2:7]","description":"does not schedule a job to set the opening_balance for authorised accounts","full_description":"Api::ConsentsCallbackController POST #create successful reponse with no authorised accounts does not schedule a job to set the opening_balance for authorised accounts","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":213,"run_time":0.101442732,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:2:8]","description":"schedules a pre assessed limit job","full_description":"Api::ConsentsCallbackController POST #create successful reponse with no authorised accounts schedules a pre assessed limit job","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":217,"run_time":0.105849232,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:2:9]","description":"returns success","full_description":"Api::ConsentsCallbackController POST #create successful reponse with no authorised accounts returns success","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":222,"run_time":0.104460167,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:2:10:1]","description":"schedules an NWG additional fields import job","full_description":"Api::ConsentsCallbackController POST #create successful reponse with no authorised accounts when the consent is NWG schedules an NWG additional fields import job","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":231,"run_time":0.122649565,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:2:10:2:1]","description":"should not schedule any jobs","full_description":"Api::ConsentsCallbackController POST #create successful reponse with no authorised accounts when the consent is NWG if the callback URL is fired a second time should not schedule any jobs","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":53,"run_time":0.146036224,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:2:10:2:2]","description":"should not schedule any PAL related jobs","full_description":"Api::ConsentsCallbackController POST #create successful reponse with no authorised accounts when the consent is NWG if the callback URL is fired a second time should not schedule any PAL related jobs","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":57,"run_time":0.138406344,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:2:10:2:3]","description":"should not change change the consent at all (access token, refresh token or expires_at value)","full_description":"Api::ConsentsCallbackController POST #create successful reponse with no authorised accounts when the consent is NWG if the callback URL is fired a second time should not change change the consent at all (access token, refresh token or expires_at value)","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":63,"run_time":0.131899918,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:2:10:2:4]","description":"should not change the authorised accounts on the consent","full_description":"Api::ConsentsCallbackController POST #create successful reponse with no authorised accounts when the consent is NWG if the callback URL is fired a second time should not change the authorised accounts on the consent","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":68,"run_time":0.13350307,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:2:10:2:5]","description":"should not increment any metric counters","full_description":"Api::ConsentsCallbackController POST #create successful reponse with no authorised accounts when the consent is NWG if the callback URL is fired a second time should not increment any metric counters","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":72,"run_time":0.144768714,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:2:10:2:6]","description":"should not call the account provisioner","full_description":"Api::ConsentsCallbackController POST #create successful reponse with no authorised accounts when the consent is NWG if the callback URL is fired a second time should not call the account provisioner","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":77,"run_time":0.143901849,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:2:10:2:7]","description":"should not fire any bank feed events","full_description":"Api::ConsentsCallbackController POST #create successful reponse with no authorised accounts when the consent is NWG if the callback URL is fired a second time should not fire any bank feed events","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":82,"run_time":0.150206709,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:3:1]","description":"calls the account provisioner","full_description":"Api::ConsentsCallbackController POST #create when we want to provision bank accounts calls the account provisioner","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":254,"run_time":0.274195424,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:3:2]","description":"knows the results of bank account provisioning","full_description":"Api::ConsentsCallbackController POST #create when we want to provision bank accounts knows the results of bank account provisioning","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":260,"run_time":0.241386396,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:3:3]","description":"does not provision bank accounts when the consent is not authorised","full_description":"Api::ConsentsCallbackController POST #create when we want to provision bank accounts does not provision bank accounts when the consent is not authorised","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":272,"run_time":0.091728905,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:3:4]","description":"sends an OPEN_BANKING_BANK_FEED_SETUP_COMPLETED event if a bank feed was created","full_description":"Api::ConsentsCallbackController POST #create when we want to provision bank accounts sends an OPEN_BANKING_BANK_FEED_SETUP_COMPLETED event if a bank feed was created","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":279,"run_time":0.279837639,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:3:5]","description":"marks the :link_bank_account Flying Start task as completed","full_description":"Api::ConsentsCallbackController POST #create when we want to provision bank accounts marks the :link_bank_account Flying Start task as completed","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":288,"run_time":0.265429687,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:3:6]","description":"does not send an event if a bank feed was not created","full_description":"Api::ConsentsCallbackController POST #create when we want to provision bank accounts does not send an event if a bank feed was not created","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":293,"run_time":0.141365956,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:3:7]","description":"returns 200","full_description":"Api::ConsentsCallbackController POST #create when we want to provision bank accounts returns 200","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":304,"run_time":0.26197517,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:3:8:1]","description":"should not schedule any jobs","full_description":"Api::ConsentsCallbackController POST #create when we want to provision bank accounts if the callback URL is fired a second time should not schedule any jobs","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":53,"run_time":0.315084335,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:3:8:2]","description":"should not schedule any PAL related jobs","full_description":"Api::ConsentsCallbackController POST #create when we want to provision bank accounts if the callback URL is fired a second time should not schedule any PAL related jobs","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":57,"run_time":0.279603257,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:3:8:3]","description":"should not change change the consent at all (access token, refresh token or expires_at value)","full_description":"Api::ConsentsCallbackController POST #create when we want to provision bank accounts if the callback URL is fired a second time should not change change the consent at all (access token, refresh token or expires_at value)","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":63,"run_time":0.28122926,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:3:8:4]","description":"should not change the authorised accounts on the consent","full_description":"Api::ConsentsCallbackController POST #create when we want to provision bank accounts if the callback URL is fired a second time should not change the authorised accounts on the consent","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":68,"run_time":0.302716428,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:3:8:5]","description":"should not increment any metric counters","full_description":"Api::ConsentsCallbackController POST #create when we want to provision bank accounts if the callback URL is fired a second time should not increment any metric counters","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":72,"run_time":0.296783143,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:3:8:6]","description":"should not call the account provisioner","full_description":"Api::ConsentsCallbackController POST #create when we want to provision bank accounts if the callback URL is fired a second time should not call the account provisioner","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":77,"run_time":0.308294398,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:3:8:7]","description":"should not fire any bank feed events","full_description":"Api::ConsentsCallbackController POST #create when we want to provision bank accounts if the callback URL is fired a second time should not fire any bank feed events","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":82,"run_time":0.30296929,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:4:1]","description":"links the bank account to an authorised account","full_description":"Api::ConsentsCallbackController POST #create when we want to link an existing bank account to an authorised account links the bank account to an authorised account","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":325,"run_time":0.191299682,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:4:2]","description":"does not link the bank account if the consent is not authorised","full_description":"Api::ConsentsCallbackController POST #create when we want to link an existing bank account to an authorised account does not link the bank account if the consent is not authorised","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":340,"run_time":0.116592569,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:4:3]","description":"has the error responses when we are unable to link","full_description":"Api::ConsentsCallbackController POST #create when we want to link an existing bank account to an authorised account has the error responses when we are unable to link","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":350,"run_time":0.165341467,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:4:4:1]","description":"should not schedule any jobs","full_description":"Api::ConsentsCallbackController POST #create when we want to link an existing bank account to an authorised account if the callback URL is fired a second time should not schedule any jobs","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":53,"run_time":0.157222829,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:4:4:2]","description":"should not schedule any PAL related jobs","full_description":"Api::ConsentsCallbackController POST #create when we want to link an existing bank account to an authorised account if the callback URL is fired a second time should not schedule any PAL related jobs","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":57,"run_time":0.178755177,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:4:4:3]","description":"should not change change the consent at all (access token, refresh token or expires_at value)","full_description":"Api::ConsentsCallbackController POST #create when we want to link an existing bank account to an authorised account if the callback URL is fired a second time should not change change the consent at all (access token, refresh token or expires_at value)","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":63,"run_time":0.197689351,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:4:4:4]","description":"should not change the authorised accounts on the consent","full_description":"Api::ConsentsCallbackController POST #create when we want to link an existing bank account to an authorised account if the callback URL is fired a second time should not change the authorised accounts on the consent","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":68,"run_time":0.200188469,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:4:4:5]","description":"should not increment any metric counters","full_description":"Api::ConsentsCallbackController POST #create when we want to link an existing bank account to an authorised account if the callback URL is fired a second time should not increment any metric counters","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":72,"run_time":0.197932416,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:4:4:6]","description":"should not call the account provisioner","full_description":"Api::ConsentsCallbackController POST #create when we want to link an existing bank account to an authorised account if the callback URL is fired a second time should not call the account provisioner","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":77,"run_time":0.178655006,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:4:4:7]","description":"should not fire any bank feed events","full_description":"Api::ConsentsCallbackController POST #create when we want to link an existing bank account to an authorised account if the callback URL is fired a second time should not fire any bank feed events","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":82,"run_time":0.190764538,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:5:1:1]","description":"assigns consent status all_linked","full_description":"Api::ConsentsCallbackController POST #create consenting when all authorised accounts are linked already assigns consent status all_linked","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":390,"run_time":0.723573826,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:5:2:1]","description":"assigns consent status connected","full_description":"Api::ConsentsCallbackController POST #create consenting when some bank accounts are linked assigns consent status connected","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":404,"run_time":0.58459417,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:5:3:1]","description":"should not schedule any jobs","full_description":"Api::ConsentsCallbackController POST #create consenting if the callback URL is fired a second time should not schedule any jobs","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":53,"run_time":0.591128921,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:5:3:2]","description":"should not schedule any PAL related jobs","full_description":"Api::ConsentsCallbackController POST #create consenting if the callback URL is fired a second time should not schedule any PAL related jobs","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":57,"run_time":0.644503383,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:5:3:3]","description":"should not change change the consent at all (access token, refresh token or expires_at value)","full_description":"Api::ConsentsCallbackController POST #create consenting if the callback URL is fired a second time should not change change the consent at all (access token, refresh token or expires_at value)","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":63,"run_time":0.624725779,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:5:3:4]","description":"should not change the authorised accounts on the consent","full_description":"Api::ConsentsCallbackController POST #create consenting if the callback URL is fired a second time should not change the authorised accounts on the consent","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":68,"run_time":0.618739894,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:5:3:5]","description":"should not increment any metric counters","full_description":"Api::ConsentsCallbackController POST #create consenting if the callback URL is fired a second time should not increment any metric counters","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":72,"run_time":0.63775541,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:5:3:6]","description":"should not call the account provisioner","full_description":"Api::ConsentsCallbackController POST #create consenting if the callback URL is fired a second time should not call the account provisioner","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":77,"run_time":1.281792746,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:5:3:7]","description":"should not fire any bank feed events","full_description":"Api::ConsentsCallbackController POST #create consenting if the callback URL is fired a second time should not fire any bank feed events","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":82,"run_time":0.637296412,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:5:3:8]","description":"still assigns consent status connected","full_description":"Api::ConsentsCallbackController POST #create consenting if the callback URL is fired a second time still assigns consent status connected","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":425,"run_time":0.604531499,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:6:1]","description":"sets the consent to be rejected","full_description":"Api::ConsentsCallbackController POST #create when the consent is invalid sets the consent to be rejected","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":444,"run_time":0.106212627,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:6:2]","description":"records an app metric for failed consent auth","full_description":"Api::ConsentsCallbackController POST #create when the consent is invalid records an app metric for failed consent auth","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":448,"run_time":0.107529003,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:6:4]","description":"assigns status failed","full_description":"Api::ConsentsCallbackController POST #create when the consent is invalid assigns status failed","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":474,"run_time":0.106143615,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:6:3:1]","description":"assigns status failed","full_description":"Api::ConsentsCallbackController POST #create when the consent is invalid with error params assigns status failed","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":455,"run_time":0.094898909,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:6:3:2:1]","description":"assigns consent_status rejected","full_description":"Api::ConsentsCallbackController POST #create when the consent is invalid with error params with access denied error assigns consent_status rejected","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":462,"run_time":0.097798101,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:6:3:2:2]","description":"records an app metric for rejected consent auth","full_description":"Api::ConsentsCallbackController POST #create when the consent is invalid with error params with access denied error records an app metric for rejected consent auth","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":466,"run_time":0.107753862,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:7:1]","description":"should not schedule any jobs","full_description":"Api::ConsentsCallbackController POST #create when a consent is not awaiting_authorisation should not schedule any jobs","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":53,"run_time":0.059563884,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:7:2]","description":"should not schedule any PAL related jobs","full_description":"Api::ConsentsCallbackController POST #create when a consent is not awaiting_authorisation should not schedule any PAL related jobs","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":57,"run_time":0.063018565,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:7:3]","description":"should not change change the consent at all (access token, refresh token or expires_at value)","full_description":"Api::ConsentsCallbackController POST #create when a consent is not awaiting_authorisation should not change change the consent at all (access token, refresh token or expires_at value)","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":63,"run_time":0.06536945,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:7:4]","description":"should not change the authorised accounts on the consent","full_description":"Api::ConsentsCallbackController POST #create when a consent is not awaiting_authorisation should not change the authorised accounts on the consent","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":68,"run_time":0.072799475,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:7:5]","description":"should not increment any metric counters","full_description":"Api::ConsentsCallbackController POST #create when a consent is not awaiting_authorisation should not increment any metric counters","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":72,"run_time":0.065573997,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:7:6]","description":"should not call the account provisioner","full_description":"Api::ConsentsCallbackController POST #create when a consent is not awaiting_authorisation should not call the account provisioner","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":77,"run_time":0.058240827,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:7:7]","description":"should not fire any bank feed events","full_description":"Api::ConsentsCallbackController POST #create when a consent is not awaiting_authorisation should not fire any bank feed events","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":82,"run_time":0.059157532,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:9:1]","description":"assigns consent_status accounts_fetch_failed","full_description":"Api::ConsentsCallbackController POST #create when fetch token times out assigns consent_status accounts_fetch_failed","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":503,"run_time":0.102707855,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:9:2]","description":"sends an error to the Rails logger","full_description":"Api::ConsentsCallbackController POST #create when fetch token times out sends an error to the Rails logger","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":508,"run_time":0.110962533,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:9:3]","description":"does not notify the error service","full_description":"Api::ConsentsCallbackController POST #create when fetch token times out does not notify the error service","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":513,"run_time":0.100822189,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:10:1]","description":"records an app metric for failed consent auth","full_description":"Api::ConsentsCallbackController POST #create when an OAuth error occurs records an app metric for failed consent auth","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":530,"run_time":0.089505912,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:10:2]","description":"assigns consent_status oauth_failed","full_description":"Api::ConsentsCallbackController POST #create when an OAuth error occurs assigns consent_status oauth_failed","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":536,"run_time":0.1033823,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:10:3]","description":"sends an error to the Rails logger","full_description":"Api::ConsentsCallbackController POST #create when an OAuth error occurs sends an error to the Rails logger","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":540,"run_time":0.103089905,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:10:4]","description":"does not notify the error service","full_description":"Api::ConsentsCallbackController POST #create when an OAuth error occurs does not notify the error service","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":544,"run_time":0.097869694,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:11:1]","description":"records an app metric for failed consent auth","full_description":"Api::ConsentsCallbackController POST #create when an OAuth connection error occurs records an app metric for failed consent auth","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":530,"run_time":0.10704249,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:11:2]","description":"assigns consent_status oauth_failed","full_description":"Api::ConsentsCallbackController POST #create when an OAuth connection error occurs assigns consent_status oauth_failed","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":536,"run_time":0.121064124,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:11:3]","description":"sends an error to the Rails logger","full_description":"Api::ConsentsCallbackController POST #create when an OAuth connection error occurs sends an error to the Rails logger","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":540,"run_time":0.098431888,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:11:4]","description":"does not notify the error service","full_description":"Api::ConsentsCallbackController POST #create when an OAuth connection error occurs does not notify the error service","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":544,"run_time":0.094991003,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:12:1]","description":"records an app metric","full_description":"Api::ConsentsCallbackController POST #create when an error is raised getting the accounts records an app metric","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":576,"run_time":0.107676915,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:12:2]","description":"assign consent_status accounts_fetch_failed","full_description":"Api::ConsentsCallbackController POST #create when an error is raised getting the accounts assign consent_status accounts_fetch_failed","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":582,"run_time":0.117963864,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:12:3]","description":"sends an error to the Rails logger","full_description":"Api::ConsentsCallbackController POST #create when an error is raised getting the accounts sends an error to the Rails logger","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":587,"run_time":0.114919671,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:12:4]","description":"does not notify the error service","full_description":"Api::ConsentsCallbackController POST #create when an error is raised getting the accounts does not notify the error service","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":592,"run_time":0.11446503,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:13:1]","description":"responds with a 200 if the state parameter is omitted","full_description":"Api::ConsentsCallbackController POST #create when the state parameter is invalid responds with a 200 if the state parameter is omitted","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":600,"run_time":0.082018417,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:13:2]","description":"responds with a 401 Unauthorized if the state parameter doesn't match","full_description":"Api::ConsentsCallbackController POST #create when the state parameter is invalid responds with a 401 Unauthorized if the state parameter doesn't match","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":606,"run_time":0.101343808,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:14:1]","description":"should not schedule any jobs","full_description":"Api::ConsentsCallbackController POST #create when the consent cannot be found in the database should not schedule any jobs","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":53,"run_time":0.117740948,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:14:2]","description":"should not schedule any PAL related jobs","full_description":"Api::ConsentsCallbackController POST #create when the consent cannot be found in the database should not schedule any PAL related jobs","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":57,"run_time":0.087117151,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:14:3]","description":"should not change the authorised accounts on the consent","full_description":"Api::ConsentsCallbackController POST #create when the consent cannot be found in the database should not change the authorised accounts on the consent","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":68,"run_time":0.099847057,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:14:4]","description":"should not increment any metric counters","full_description":"Api::ConsentsCallbackController POST #create when the consent cannot be found in the database should not increment any metric counters","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":72,"run_time":0.102598225,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:14:5]","description":"should not call the account provisioner","full_description":"Api::ConsentsCallbackController POST #create when the consent cannot be found in the database should not call the account provisioner","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":77,"run_time":0.089884232,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:14:6]","description":"should not fire any bank feed events","full_description":"Api::ConsentsCallbackController POST #create when the consent cannot be found in the database should not fire any bank feed events","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":82,"run_time":0.09513954,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:14:7]","description":"redirects with an error","full_description":"Api::ConsentsCallbackController POST #create when the consent cannot be found in the database redirects with an error","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":627,"run_time":0.105280292,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:14:8]","description":"sends an error to the Rails logger","full_description":"Api::ConsentsCallbackController POST #create when the consent cannot be found in the database sends an error to the Rails logger","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":632,"run_time":0.097370382,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:15:1:1]","description":"assigns consent_status connected","full_description":"Api::ConsentsCallbackController POST #create reconsenting when the bank account matches one of the authorised accounts reconsented assigns consent_status connected","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":666,"run_time":0.562701807,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:15:1:2]","description":"schedules a job for each reconsented authorised account","full_description":"Api::ConsentsCallbackController POST #create reconsenting when the bank account matches one of the authorised accounts reconsented schedules a job for each reconsented authorised account","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":672,"run_time":0.680561244,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:15:2:1]","description":"assigns consent status reconnect_account_not_selected","full_description":"Api::ConsentsCallbackController POST #create reconsenting when the bank account does not match any of the authorised accounts reconsented assigns consent status reconnect_account_not_selected","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":689,"run_time":0.588326146,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:15:3:1]","description":"resets the bank feed state back to pending","full_description":"Api::ConsentsCallbackController POST #create reconsenting when the bank bank feed is in a connection_issue state resets the bank feed state back to pending","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":704,"run_time":0.577531432,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:16:1]","description":"knows if this is a new consent","full_description":"Api::ConsentsCallbackController POST #create building the flow context knows if this is a new consent","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":718,"run_time":0.317789758,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:16:2]","description":"knows if the user is reconsenting","full_description":"Api::ConsentsCallbackController POST #create building the flow context knows if the user is reconsenting","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":730,"run_time":0.302949323,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:16:3]","description":"knows if there is a bank account present","full_description":"Api::ConsentsCallbackController POST #create building the flow context knows if there is a bank account present","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":742,"run_time":0.165676615,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/consents_callback_controller_spec.rb[1:1:16:4]","description":"knows if there is not a bank account present","full_description":"Api::ConsentsCallbackController POST #create building the flow context knows if there is not a bank account present","status":"passed","file_path":"./spec/controllers/api/consents_callback_controller_spec.rb","line_number":750,"run_time":0.159008742,"pending_message":null,"screenshot":null},{"id":"./spec/features/email_template_attachments_spec.rb[1:1:1]","description":"is able to attach default documents to an \"new invoice\" template","full_description":"email template attachments Signed in user with files is able to attach default documents to an \"new invoice\" template","status":"passed","file_path":"./spec/features/email_template_attachments_spec.rb","line_number":30,"run_time":3.419442321,"pending_message":null,"screenshot":null},{"id":"./spec/features/email_template_attachments_spec.rb[1:1:2]","description":"is able to change default documents on an email template","full_description":"email template attachments Signed in user with files is able to change default documents on an email template","status":"passed","file_path":"./spec/features/email_template_attachments_spec.rb","line_number":51,"run_time":2.545534621,"pending_message":null,"screenshot":null},{"id":"./spec/features/email_template_attachments_spec.rb[1:1:3]","description":"is able to clear all documents from a \"new invoice\" template","full_description":"email template attachments Signed in user with files is able to clear all documents from a \"new invoice\" template","status":"passed","file_path":"./spec/features/email_template_attachments_spec.rb","line_number":80,"run_time":2.117827467,"pending_message":null,"screenshot":null},{"id":"./spec/features/email_template_attachments_spec.rb[1:1:4]","description":"is able to attach default documents to a \"reminder\" template","full_description":"email template attachments Signed in user with files is able to attach default documents to a \"reminder\" template","status":"passed","file_path":"./spec/features/email_template_attachments_spec.rb","line_number":99,"run_time":2.647561964,"pending_message":null,"screenshot":null},{"id":"./spec/features/email_template_attachments_spec.rb[1:1:5]","description":"is able to change default documents on a \"reminder\" template","full_description":"email template attachments Signed in user with files is able to change default documents on a \"reminder\" template","status":"passed","file_path":"./spec/features/email_template_attachments_spec.rb","line_number":124,"run_time":2.64353251,"pending_message":null,"screenshot":null},{"id":"./spec/features/email_template_attachments_spec.rb[1:1:6]","description":"is able to clear all documents from a \"reminder\" template","full_description":"email template attachments Signed in user with files is able to clear all documents from a \"reminder\" template","status":"passed","file_path":"./spec/features/email_template_attachments_spec.rb","line_number":151,"run_time":2.083179344,"pending_message":null,"screenshot":null},{"id":"./spec/features/email_template_attachments_spec.rb[1:1:7]","description":"is able to attach default documents to a \"thank you\" template","full_description":"email template attachments Signed in user with files is able to attach default documents to a \"thank you\" template","status":"passed","file_path":"./spec/features/email_template_attachments_spec.rb","line_number":170,"run_time":2.477589785,"pending_message":null,"screenshot":null},{"id":"./spec/features/email_template_attachments_spec.rb[1:1:8]","description":"is able to change default documents on an \"thank you\" template","full_description":"email template attachments Signed in user with files is able to change default documents on an \"thank you\" template","status":"passed","file_path":"./spec/features/email_template_attachments_spec.rb","line_number":191,"run_time":3.1252535,"pending_message":null,"screenshot":null},{"id":"./spec/features/email_template_attachments_spec.rb[1:1:9]","description":"is able to clear all documents from a \"thank you\" template","full_description":"email template attachments Signed in user with files is able to clear all documents from a \"thank you\" template","status":"passed","file_path":"./spec/features/email_template_attachments_spec.rb","line_number":219,"run_time":2.063981572,"pending_message":null,"screenshot":null},{"id":"./spec/features/email_template_attachments_spec.rb[1:1:10:1]","description":"has these default documents pre-selected when emailing an invoice","full_description":"email template attachments Signed in user with files with a \"new invoice\" email template that has default documents specified has these default documents pre-selected when emailing an invoice","status":"passed","file_path":"./spec/features/email_template_attachments_spec.rb","line_number":245,"run_time":1.674680075,"pending_message":null,"screenshot":null},{"id":"./spec/features/email_template_attachments_spec.rb[1:1:10:2]","description":"sees these default attachments when editing a custom invoice email, but not the links to add/remove","full_description":"email template attachments Signed in user with files with a \"new invoice\" email template that has default documents specified sees these default attachments when editing a custom invoice email, but not the links to add/remove","status":"passed","file_path":"./spec/features/email_template_attachments_spec.rb","line_number":261,"run_time":1.672477542,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:1:1]","description":"is expected to redirect to \"/\"","full_description":"PracticeDashboard::CompaniesController while logged in as a regular user is expected to redirect to \"/\"","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":17,"run_time":0.037154485,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:2:1]","description":"is expected to redirect to \"/practice_dashboard\"","full_description":"PracticeDashboard::CompaniesController while logged in as a regular account manager is expected to redirect to \"/practice_dashboard\"","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":26,"run_time":0.175649609,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:1]","description":"Index action","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager Index action","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":35,"run_time":0.760010548,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:2:1]","description":"does not error out when a company is missing its account owner","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager GET #index does not error out when a company is missing its account owner","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":79,"run_time":0.362182237,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:3:1]","description":"only shows CoPilot companies, excluding those in the process of being deleted","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager GET all_copilot only shows CoPilot companies, excluding those in the process of being deleted","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":111,"run_time":0.8128609,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:4:1]","description":"only shows the account manager's clients","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager #mine only shows the account manager's clients","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":167,"run_time":0.965313369,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:4:2]","description":"does not error out when a company is missing its account owner","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager #mine does not error out when a company is missing its account owner","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":192,"run_time":1.702150953,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:5:1]","description":"For a active practice managed company","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager #show For a active practice managed company","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":209,"run_time":0.335130052,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:5:2]","description":"For a inactive practice managed company","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager #show For a inactive practice managed company","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":209,"run_time":0.273955929,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:5:3]","description":"For a demo practice managed company","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager #show For a demo practice managed company","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":209,"run_time":0.274175576,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:6:1]","description":"renders the form correctly","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager #new renders the form correctly","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":225,"run_time":0.139204453,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:7:1]","description":"with valid parameters","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager #create with valid parameters","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":235,"run_time":0.306388548,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:7:2]","description":"with invalid parameters (no associated account manager)","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager #create with invalid parameters (no associated account manager)","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":284,"run_time":0.124522104,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:8:1:1]","description":"doesn't disable the account owner fields","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager #edit for a inactive_free_period_expired company doesn't disable the account owner fields","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":321,"run_time":0.257251078,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:8:2:1]","description":"doesn't disable the account owner fields","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager #edit for a practice_managed_active company doesn't disable the account owner fields","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":321,"run_time":0.277556597,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:8:3:1]","description":"doesn't disable the account owner fields","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager #edit for a inactive company doesn't disable the account owner fields","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":321,"run_time":0.250706427,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:8:4:1]","description":"assigns the company_display_type field correctly","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager #edit for a getting started company assigns the company_display_type field correctly","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":339,"run_time":0.231173165,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:8:4:2]","description":"sets the company type correctly","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager #edit for a getting started company sets the company type correctly","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":343,"run_time":0.23672935,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:8:5:1]","description":"assigns the company_display_type field correctly","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager #edit for a company who has already been set up assigns the company_display_type field correctly","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":358,"run_time":0.299272751,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:8:5:2]","description":"does not display the select field allowing the user to change the company type","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager #edit for a company who has already been set up does not display the select field allowing the user to change the company type","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":362,"run_time":0.272322248,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:8:6:1]","description":"doesn't disable the account owner fields","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager #edit for an RBSG-subsidised company doesn't disable the account owner fields","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":373,"run_time":0.260960079,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:9:1]","description":"Update with valid parameters","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager #update Update with valid parameters","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":382,"run_time":0.28907795,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:9:2]","description":"grant bank feed access to a company","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager #update grant bank feed access to a company","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":406,"run_time":0.232387014,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:9:3]","description":"Update with valid parameters, changing company_display_type","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager #update Update with valid parameters, changing company_display_type","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":420,"run_time":0.857076303,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:9:4:1]","description":"when the company has not yet completed its setup","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager #update Update with valid parameters, changing the company type when the company has not yet completed its setup","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":452,"run_time":0.316038004,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:9:4:2]","description":"when the company has completed its setup","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager #update Update with valid parameters, changing the company type when the company has completed its setup","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":482,"run_time":0.244590346,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:9:5:1]","description":"is expected to redirect to \"/practice_dashboard/companies\"","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager #update Update with valid parameters, changing the account manager is expected to redirect to \"/practice_dashboard/companies\"","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":546,"run_time":0.324365418,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:9:5:2]","description":"is expected to match /Details for Effitz LLP were successfully updated/","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager #update Update with valid parameters, changing the account manager is expected to match /Details for Effitz LLP were successfully updated/","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":547,"run_time":0.310635676,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:9:5:3]","description":"updates the company's account_manager and practice_client_relationship","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager #update Update with valid parameters, changing the account manager updates the company's account_manager and practice_client_relationship","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":549,"run_time":0.333247153,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:10:1:1]","description":"makes the company direct with a default free trial period","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager #destroy on a company in same practice, owned by another account manager makes the company direct with a default free trial period","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":566,"run_time":0.285267593,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:11:1:1]","description":"redirects to the company's dashboard and sets the switch_to cookie","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager #switch_to for one of another account manager's companies redirects to the company's dashboard and sets the switch_to cookie","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":587,"run_time":0.195006179,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:12:3]","description":"with no companies selected","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager #switch_account_manager with no companies selected","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":664,"run_time":0.07362911,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:12:4]","description":"with no other account manager selected","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager #switch_account_manager with no other account manager selected","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":678,"run_time":0.070016207,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:12:1:1]","description":"reassigns the clients to the new account manager and redirects","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager #switch_account_manager with valid parameters reassigns the clients to the new account manager and redirects","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":602,"run_time":0.261445076,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:12:2:1:1]","description":"redirects to My CoPilot Clients page","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager #switch_account_manager with CoPilot company parameters on My CoPilot Clients page redirects to My CoPilot Clients page","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":634,"run_time":0.284030042,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:12:2:2:1]","description":"redirects to All CoPilot Clients page","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager #switch_account_manager with CoPilot company parameters on All CoPilot Clients page redirects to All CoPilot Clients page","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":656,"run_time":0.287956395,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb[1:3:13:1]","description":"shows switch account manager dropdown menu","full_description":"PracticeDashboard::CompaniesController while logged in as a senior account manager #my_copilot shows switch account manager dropdown menu","status":"passed","file_path":"./spec/controllers/practice_dashboard/companies_controller_senior_spec.rb","line_number":706,"run_time":0.315210444,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:1:1]","description":"renders ContactsImportsController#new if no file is uploaded","full_description":"ContactsImportsController when uploading a file renders ContactsImportsController#new if no file is uploaded","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":32,"run_time":0.151893428,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:1:2]","description":"redirects to the import job after uploading a valid ISO8859 file","full_description":"ContactsImportsController when uploading a file redirects to the import job after uploading a valid ISO8859 file","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":39,"run_time":0.361925234,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:1:3]","description":"redirects to the import job after uploading a valid Freshbooks file","full_description":"ContactsImportsController when uploading a file redirects to the import job after uploading a valid Freshbooks file","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":39,"run_time":0.643280516,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:1:4]","description":"redirects to the import job after uploading a valid GMail VCF file","full_description":"ContactsImportsController when uploading a file redirects to the import job after uploading a valid GMail VCF file","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":39,"run_time":0.272651246,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:1:5]","description":"redirects to the import job after uploading a valid GMail CSV file","full_description":"ContactsImportsController when uploading a file redirects to the import job after uploading a valid GMail CSV file","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":39,"run_time":0.289091186,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:1:6]","description":"redirects to the import job after uploading a valid GMail to Outlook CSV file","full_description":"ContactsImportsController when uploading a file redirects to the import job after uploading a valid GMail to Outlook CSV file","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":39,"run_time":0.289900842,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:1:7]","description":"redirects to the import job after uploading a valid Highrise VCF file","full_description":"ContactsImportsController when uploading a file redirects to the import job after uploading a valid Highrise VCF file","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":39,"run_time":2.344693174,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:1:8]","description":"redirects to the import job after uploading a valid Kashflow file","full_description":"ContactsImportsController when uploading a file redirects to the import job after uploading a valid Kashflow file","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":39,"run_time":0.352626459,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:1:9]","description":"redirects to the import job after uploading a valid Outlook file","full_description":"ContactsImportsController when uploading a file redirects to the import job after uploading a valid Outlook file","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":39,"run_time":0.362123668,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:1:10]","description":"redirects to the import job after uploading a valid Generic VCF file","full_description":"ContactsImportsController when uploading a file redirects to the import job after uploading a valid Generic VCF file","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":39,"run_time":0.269603097,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:1:11]","description":"redirects to the import job after uploading a valid Generic VCF with images file","full_description":"ContactsImportsController when uploading a file redirects to the import job after uploading a valid Generic VCF with images file","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":39,"run_time":0.274568132,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:1:12]","description":"redirects to the import job after uploading an malformed CSV file","full_description":"ContactsImportsController when uploading a file redirects to the import job after uploading an malformed CSV file","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":71,"run_time":0.226106009,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:1:13]","description":"redirects to the import job after uploading an malformed VCF file","full_description":"ContactsImportsController when uploading a file redirects to the import job after uploading an malformed VCF file","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":71,"run_time":0.193163772,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:1:14]","description":"redirects to the import job after uploading an invalid statement file","full_description":"ContactsImportsController when uploading a file redirects to the import job after uploading an invalid statement file","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":90,"run_time":0.211178475,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:2:1:1]","description":"appears in the imports index","full_description":"ContactsImportsController after a successful upload before processing appears in the imports index","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":115,"run_time":0.152767493,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:2:1:2]","description":"does not display the contacts in the ok view","full_description":"ContactsImportsController after a successful upload before processing does not display the contacts in the ok view","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":122,"run_time":0.156587554,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:2:1:3]","description":"does not display the contacts in the error view","full_description":"ContactsImportsController after a successful upload before processing does not display the contacts in the error view","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":122,"run_time":0.149580201,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:2:1:4]","description":"displays the contacts in the  view","full_description":"ContactsImportsController after a successful upload before processing displays the contacts in the  view","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":129,"run_time":0.155458832,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:2:1:5]","description":"displays the contacts in the pending view","full_description":"ContactsImportsController after a successful upload before processing displays the contacts in the pending view","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":129,"run_time":0.144075599,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:2:1:6]","description":"displays the contacts in the nil view","full_description":"ContactsImportsController after a successful upload before processing displays the contacts in the nil view","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":137,"run_time":0.145842971,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:2:1:7]","description":"creates the contact when requested","full_description":"ContactsImportsController after a successful upload before processing creates the contact when requested","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":144,"run_time":0.070636914,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:2:1:8]","description":"creates the contact when import all is selected","full_description":"ContactsImportsController after a successful upload before processing creates the contact when import all is selected","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":150,"run_time":0.075081459,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:2:1:9]","description":"is deletable","full_description":"ContactsImportsController after a successful upload before processing is deletable","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":156,"run_time":0.059912223,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:2:1:10]","description":"publishes an event","full_description":"ContactsImportsController after a successful upload before processing publishes an event","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":162,"run_time":0.088527154,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:2:2:1]","description":"appears in the imports index","full_description":"ContactsImportsController after a successful upload after processing appears in the imports index","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":173,"run_time":0.178716964,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:2:2:2]","description":"does not display the contacts in the pending view","full_description":"ContactsImportsController after a successful upload after processing does not display the contacts in the pending view","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":180,"run_time":0.188250953,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:2:2:3]","description":"does not display the contacts in the error view","full_description":"ContactsImportsController after a successful upload after processing does not display the contacts in the error view","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":180,"run_time":0.183915228,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:2:2:4]","description":"displays the contacts in the  view","full_description":"ContactsImportsController after a successful upload after processing displays the contacts in the  view","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":187,"run_time":0.252853763,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:2:2:5]","description":"displays the contacts in the ok view","full_description":"ContactsImportsController after a successful upload after processing displays the contacts in the ok view","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":187,"run_time":0.22672639,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:2:2:6]","description":"displays the contacts in the nil view","full_description":"ContactsImportsController after a successful upload after processing displays the contacts in the nil view","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":195,"run_time":0.192733381,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:2:2:7]","description":"displays contacts that were imported and later deleted","full_description":"ContactsImportsController after a successful upload after processing displays contacts that were imported and later deleted","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":202,"run_time":0.177262468,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:2:2:8]","description":"removes any created contacts when an undo_all is performed","full_description":"ContactsImportsController after a successful upload after processing removes any created contacts when an undo_all is performed","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":208,"run_time":0.193134964,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:2:2:9]","description":"is deletable (without deleting contacts)","full_description":"ContactsImportsController after a successful upload after processing is deletable (without deleting contacts)","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":218,"run_time":0.097238042,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:3:1]","description":"imports the first page in-request and queue the remainder","full_description":"ContactsImportsController importing all contacts from big files (\u003e 25 contacts) imports the first page in-request and queue the remainder","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":236,"run_time":1.114054537,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:4:1:1]","description":"uses the UK spelling of authorise","full_description":"ContactsImportsController as a UK user viewing the create page without Basecamp activated uses the UK spelling of authorise","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":259,"run_time":0.251026636,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts_imports_controller_spec.rb[1:5:1:1]","description":"uses the US spelling of authorise","full_description":"ContactsImportsController as a US user viewing the create page without Basecamp activated uses the US spelling of authorise","status":"passed","file_path":"./spec/controllers/contacts_imports_controller_spec.rb","line_number":278,"run_time":0.329448556,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/finance_metrics_spec.rb[1:1:1]","description":"enqueues the expected jobs to process seven companies given companies_per_batch","full_description":"Metrics::FinanceMetrics#enqueue enqueues the expected jobs to process seven companies given companies_per_batch","status":"passed","file_path":"./spec/models/metrics/finance_metrics_spec.rb","line_number":59,"run_time":1.815824519,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/finance_metrics_spec.rb[1:2:1]","description":"should have the expected headers and values","full_description":"Metrics::FinanceMetrics#write_csv should have the expected headers and values","status":"passed","file_path":"./spec/models/metrics/finance_metrics_spec.rb","line_number":82,"run_time":1.762711905,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/finance_metrics_spec.rb[1:2:2:1]","description":"is_charity is true","full_description":"Metrics::FinanceMetrics#write_csv when the company has the charity promotion set is_charity is true","status":"passed","file_path":"./spec/models/metrics/finance_metrics_spec.rb","line_number":120,"run_time":1.57357052,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/finance_metrics_spec.rb[1:2:3:1]","description":"contains weekly revenue and expenditure data","full_description":"Metrics::FinanceMetrics#write_csv when run for a given date 3 months ago contains weekly revenue and expenditure data","status":"passed","file_path":"./spec/models/metrics/finance_metrics_spec.rb","line_number":133,"run_time":2.365291602,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/finance_metrics_spec.rb[1:2:4:1]","description":"has the correct number_of_staff_on_payroll","full_description":"Metrics::FinanceMetrics#write_csv for a company with employees has the correct number_of_staff_on_payroll","status":"passed","file_path":"./spec/models/metrics/finance_metrics_spec.rb","line_number":151,"run_time":1.773910713,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/finance_metrics_spec.rb[1:2:5:1]","description":"has a nil number_of_staff_on_payroll","full_description":"Metrics::FinanceMetrics#write_csv for a company without employees has a nil number_of_staff_on_payroll","status":"passed","file_path":"./spec/models/metrics/finance_metrics_spec.rb","line_number":158,"run_time":1.582178076,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/finance_metrics_spec.rb[1:2:6:1]","description":"reports a problem but does not cause the export to fail but excludes failed companies from csv","full_description":"Metrics::FinanceMetrics#write_csv for a partially deleted company reports a problem but does not cause the export to fail but excludes failed companies from csv","status":"passed","file_path":"./spec/models/metrics/finance_metrics_spec.rb","line_number":170,"run_time":2.282114187,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/company_spec.rb[1:1]","description":"has Company as its section name","full_description":"Exporter::ExportableTypes::Company has Company as its section name","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/company_spec.rb","line_number":41,"run_time":0.618313464,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/company_spec.rb[1:2]","description":"has no nested types","full_description":"Exporter::ExportableTypes::Company has no nested types","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/company_spec.rb","line_number":45,"run_time":0.57825882,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/company_spec.rb[1:3]","description":"has correct headings, correctly ordered","full_description":"Exporter::ExportableTypes::Company has correct headings, correctly ordered","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/company_spec.rb","line_number":49,"run_time":0.610035688,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/company_spec.rb[1:6]","description":"returns correct values, correctly ordered","full_description":"Exporter::ExportableTypes::Company returns correct values, correctly ordered","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/company_spec.rb","line_number":124,"run_time":0.582997216,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/company_spec.rb[1:7]","description":"returns the correct values for non-UK companies","full_description":"Exporter::ExportableTypes::Company returns the correct values for non-UK companies","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/company_spec.rb","line_number":163,"run_time":0.778024928,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/company_spec.rb[1:8]","description":"returns the correct corporation tax reference","full_description":"Exporter::ExportableTypes::Company returns the correct corporation tax reference","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/company_spec.rb","line_number":178,"run_time":0.69266435,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/company_spec.rb[1:9]","description":"returns the correct VAT de-registration values","full_description":"Exporter::ExportableTypes::Company returns the correct VAT de-registration values","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/company_spec.rb","line_number":184,"run_time":0.758563905,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/company_spec.rb[1:10]","description":"returns the correct cash accounting basis value","full_description":"Exporter::ExportableTypes::Company returns the correct cash accounting basis value","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/company_spec.rb","line_number":191,"run_time":0.679494974,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/company_spec.rb[1:4:1]","description":"uses a whitelabel heading","full_description":"Exporter::ExportableTypes::Company for whitelabelled companies uses a whitelabel heading","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/company_spec.rb","line_number":100,"run_time":0.183801058,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/company_spec.rb[1:5:1]","description":"uses a generic heading","full_description":"Exporter::ExportableTypes::Company for companies where no known branding exists uses a generic heading","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/company_spec.rb","line_number":118,"run_time":0.160528798,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/accounting/trial_balance_integration_spec.rb[1:1:3]","description":"with from_date before the company's FreeAgent start date","full_description":"Api::Accounting::TrialBalanceIntegration GET /accounting/trial_balance/summary with from_date before the company's FreeAgent start date","status":"passed","file_path":"./spec/requests/api/accounting/trial_balance_integration_spec.rb","line_number":81,"run_time":0.496239067,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/accounting/trial_balance_integration_spec.rb[1:1:4]","description":"with to_date before the company's FreeAgent start date","full_description":"Api::Accounting::TrialBalanceIntegration GET /accounting/trial_balance/summary with to_date before the company's FreeAgent start date","status":"passed","file_path":"./spec/requests/api/accounting/trial_balance_integration_spec.rb","line_number":86,"run_time":0.48448854,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/accounting/trial_balance_integration_spec.rb[1:1:1:1]","description":"responds with the standard account fields","full_description":"Api::Accounting::TrialBalanceIntegration GET /accounting/trial_balance/summary without a date responds with the standard account fields","status":"passed","file_path":"./spec/requests/api/accounting/trial_balance_integration_spec.rb","line_number":44,"run_time":0.557829698,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/accounting/trial_balance_integration_spec.rb[1:1:2:1]","description":"is expected to eq 1","full_description":"Api::Accounting::TrialBalanceIntegration GET /accounting/trial_balance/summary with legacy date parameter is expected to eq 1","status":"passed","file_path":"./spec/requests/api/accounting/trial_balance_integration_spec.rb","line_number":75,"run_time":0.612867978,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/accounting/trial_balance_integration_spec.rb[1:1:5:1]","description":"is expected to eq 6","full_description":"Api::Accounting::TrialBalanceIntegration GET /accounting/trial_balance/summary with a from_date that is part of an accounting period is expected to eq 6","status":"passed","file_path":"./spec/requests/api/accounting/trial_balance_integration_spec.rb","line_number":97,"run_time":0.549296729,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/accounting/trial_balance_integration_spec.rb[1:1:6:1]","description":"is expected to eq 0","full_description":"Api::Accounting::TrialBalanceIntegration GET /accounting/trial_balance/summary with an to_date that is part of an accounting period is expected to eq 0","status":"passed","file_path":"./spec/requests/api/accounting/trial_balance_integration_spec.rb","line_number":112,"run_time":0.527355007,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/accounting/trial_balance_integration_spec.rb[1:1:7:1]","description":"is expected to eq 2","full_description":"Api::Accounting::TrialBalanceIntegration GET /accounting/trial_balance/summary with a date range that is part of an accounting period is expected to eq 2","status":"passed","file_path":"./spec/requests/api/accounting/trial_balance_integration_spec.rb","line_number":135,"run_time":0.588807603,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/accounting/trial_balance_integration_spec.rb[1:1:8:1]","description":"is expected to respond with status code :bad_request (400)","full_description":"Api::Accounting::TrialBalanceIntegration GET /accounting/trial_balance/summary that is after the end of the last accounting period is expected to respond with status code :bad_request (400)","status":"passed","file_path":"./spec/requests/api/accounting/trial_balance_integration_spec.rb","line_number":149,"run_time":0.461653539,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/accounting/trial_balance_integration_spec.rb[1:1:9:1]","description":"is expected to match /Invalid date supplied/","full_description":"Api::Accounting::TrialBalanceIntegration GET /accounting/trial_balance/summary with an invalid date is expected to match /Invalid date supplied/","status":"passed","file_path":"./spec/requests/api/accounting/trial_balance_integration_spec.rb","line_number":157,"run_time":0.477820736,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/accounting/trial_balance_integration_spec.rb[1:1:10:1]","description":"is expected to respond with status code :unauthorized (401)","full_description":"Api::Accounting::TrialBalanceIntegration GET /accounting/trial_balance/summary without the right permission_level is expected to respond with status code :unauthorized (401)","status":"passed","file_path":"./spec/requests/api/accounting/trial_balance_integration_spec.rb","line_number":165,"run_time":0.428504565,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/accounting/trial_balance_integration_spec.rb[1:2:1:1]","description":"is expected to eq 1","full_description":"Api::Accounting::TrialBalanceIntegration GET /summary/opening_balances with the right permission_level is expected to eq 1","status":"passed","file_path":"./spec/requests/api/accounting/trial_balance_integration_spec.rb","line_number":176,"run_time":0.571902372,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/accounting/trial_balance_integration_spec.rb[1:2:2:1]","description":"is expected to respond with status code :unauthorized (401)","full_description":"Api::Accounting::TrialBalanceIntegration GET /summary/opening_balances without the right permission_level is expected to respond with status code :unauthorized (401)","status":"passed","file_path":"./spec/requests/api/accounting/trial_balance_integration_spec.rb","line_number":187,"run_time":0.4961433,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/calendar_feeds_settings_spec.rb[1:1:1:1]","description":"allows user to enable Calendar Feeds","full_description":"Calendar Feeds connection with an authorised user accessing a disabled page allows user to enable Calendar Feeds","status":"passed","file_path":"./spec/features/settings/calendar_feeds_settings_spec.rb","line_number":22,"run_time":1.369691752,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/calendar_feeds_settings_spec.rb[1:1:2:1]","description":"allows user to disable Calendar Feed access","full_description":"Calendar Feeds connection with an authorised user accessing an enabled page allows user to disable Calendar Feed access","status":"passed","file_path":"./spec/features/settings/calendar_feeds_settings_spec.rb","line_number":40,"run_time":1.813002196,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/calendar_feeds_settings_spec.rb[1:1:2:2]","description":"allows user to regenerate the API key","full_description":"Calendar Feeds connection with an authorised user accessing an enabled page allows user to regenerate the API key","status":"passed","file_path":"./spec/features/settings/calendar_feeds_settings_spec.rb","line_number":49,"run_time":1.027122141,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/calendar_feeds_settings_spec.rb[1:1:2:3]","description":"shows a link to tax timeline feed","full_description":"Calendar Feeds connection with an authorised user accessing an enabled page shows a link to tax timeline feed","status":"passed","file_path":"./spec/features/settings/calendar_feeds_settings_spec.rb","line_number":64,"run_time":0.991512804,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/calendar_feeds_settings_spec.rb[1:1:2:4]","description":"shows a link to invoice timeline feed","full_description":"Calendar Feeds connection with an authorised user accessing an enabled page shows a link to invoice timeline feed","status":"passed","file_path":"./spec/features/settings/calendar_feeds_settings_spec.rb","line_number":68,"run_time":0.780962861,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payroll/rti_payslips_controller_spec.rb[1:1:1:1]","description":"renders unauthorized template","full_description":"Payroll::RTIPayslipsController GET edit behaves like unauthorised for users without full access renders unauthorized template","status":"passed","file_path":"./spec/controllers/payroll/rti_payslips_controller_spec.rb","line_number":7,"run_time":0.319425278,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payroll/rti_payslips_controller_spec.rb[1:1:2:1:1]","description":"redirects with a flash message","full_description":"Payroll::RTIPayslipsController GET edit behaves like a bad request if not amendable when requested by a user redirects with a flash message","status":"passed","file_path":"./spec/controllers/payroll/rti_payslips_controller_spec.rb","line_number":28,"run_time":0.206435776,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payroll/rti_payslips_controller_spec.rb[1:1:2:2:1:1]","description":"redirects with a flash message","full_description":"Payroll::RTIPayslipsController GET edit behaves like a bad request if not amendable when requested by an AccountManager when payslip not amendable redirects with a flash message","status":"passed","file_path":"./spec/controllers/payroll/rti_payslips_controller_spec.rb","line_number":47,"run_time":0.216613028,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payroll/rti_payslips_controller_spec.rb[1:1:3:1]","description":"render the edit form","full_description":"Payroll::RTIPayslipsController GET edit when account manager allowed to edit render the edit form","status":"passed","file_path":"./spec/controllers/payroll/rti_payslips_controller_spec.rb","line_number":143,"run_time":0.558519779,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payroll/rti_payslips_controller_spec.rb[1:1:4:1]","description":"render the edit form","full_description":"Payroll::RTIPayslipsController GET edit when level-8 user allowed to edit render the edit form","status":"passed","file_path":"./spec/controllers/payroll/rti_payslips_controller_spec.rb","line_number":155,"run_time":0.984371245,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payroll/rti_payslips_controller_spec.rb[1:1:5:1]","description":"redirects the user with a flash message","full_description":"Payroll::RTIPayslipsController GET edit when the payslip has pending period redirects the user with a flash message","status":"passed","file_path":"./spec/controllers/payroll/rti_payslips_controller_spec.rb","line_number":167,"run_time":0.268468816,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payroll/rti_payslips_controller_spec.rb[1:1:6:1:1]","description":"redirects the user","full_description":"Payroll::RTIPayslipsController GET edit when the payslip is in a filed period when you cannot make a furlough claim redirects the user","status":"passed","file_path":"./spec/controllers/payroll/rti_payslips_controller_spec.rb","line_number":187,"run_time":0.244683111,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payroll/rti_payslips_controller_spec.rb[1:1:6:2:1:1]","description":"redirects the user","full_description":"Payroll::RTIPayslipsController GET edit when the payslip is in a filed period when you can make a furlough claim with the feature switch off redirects the user","status":"passed","file_path":"./spec/controllers/payroll/rti_payslips_controller_spec.rb","line_number":201,"run_time":0.219610184,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payroll/rti_payslips_controller_spec.rb[1:1:6:2:2:1]","description":"shows the reduced edit template","full_description":"Payroll::RTIPayslipsController GET edit when the payslip is in a filed period when you can make a furlough claim with the feature switch on shows the reduced edit template","status":"passed","file_path":"./spec/controllers/payroll/rti_payslips_controller_spec.rb","line_number":212,"run_time":0.344779111,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payroll/rti_payslips_controller_spec.rb[1:1:7:1]","description":"shows the full edit template","full_description":"Payroll::RTIPayslipsController GET edit when the payslip is in an editable period shows the full edit template","status":"passed","file_path":"./spec/controllers/payroll/rti_payslips_controller_spec.rb","line_number":229,"run_time":0.317411477,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payroll/rti_payslips_controller_spec.rb[1:2:1:1]","description":"renders unauthorized template","full_description":"Payroll::RTIPayslipsController PUT update behaves like unauthorised for users without full access renders unauthorized template","status":"passed","file_path":"./spec/controllers/payroll/rti_payslips_controller_spec.rb","line_number":7,"run_time":0.259854346,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payroll/rti_payslips_controller_spec.rb[1:2:2:1:1]","description":"redirects with a flash message","full_description":"Payroll::RTIPayslipsController PUT update behaves like a bad request if not amendable when requested by a user redirects with a flash message","status":"passed","file_path":"./spec/controllers/payroll/rti_payslips_controller_spec.rb","line_number":28,"run_time":0.206314703,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payroll/rti_payslips_controller_spec.rb[1:2:2:2:1:1]","description":"redirects with a flash message","full_description":"Payroll::RTIPayslipsController PUT update behaves like a bad request if not amendable when requested by an AccountManager when payslip not amendable redirects with a flash message","status":"passed","file_path":"./spec/controllers/payroll/rti_payslips_controller_spec.rb","line_number":47,"run_time":0.240223504,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payroll/rti_payslips_controller_spec.rb[1:2:3:1:1:1]","description":"updates the payslip and redirects","full_description":"Payroll::RTIPayslipsController PUT update when account manager allowed to edit behaves like a correct update request if amendable when the payslip is not pending updates the payslip and redirects","status":"passed","file_path":"./spec/controllers/payroll/rti_payslips_controller_spec.rb","line_number":59,"run_time":0.350248743,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payroll/rti_payslips_controller_spec.rb[1:2:3:1:1:2]","description":"render edit if error raised","full_description":"Payroll::RTIPayslipsController PUT update when account manager allowed to edit behaves like a correct update request if amendable when the payslip is not pending render edit if error raised","status":"passed","file_path":"./spec/controllers/payroll/rti_payslips_controller_spec.rb","line_number":84,"run_time":0.38067069,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payroll/rti_payslips_controller_spec.rb[1:2:3:1:2:1]","description":"redirects with a flash message","full_description":"Payroll::RTIPayslipsController PUT update when account manager allowed to edit behaves like a correct update request if amendable When the payslip is pending redirects with a flash message","status":"passed","file_path":"./spec/controllers/payroll/rti_payslips_controller_spec.rb","line_number":103,"run_time":0.315652054,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payroll/rti_payslips_controller_spec.rb[1:2:4:1:1:1]","description":"updates the payslip and redirects","full_description":"Payroll::RTIPayslipsController PUT update when user allowed to edit behaves like a correct update request if amendable when the payslip is not pending updates the payslip and redirects","status":"passed","file_path":"./spec/controllers/payroll/rti_payslips_controller_spec.rb","line_number":59,"run_time":0.352129758,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payroll/rti_payslips_controller_spec.rb[1:2:4:1:1:2]","description":"render edit if error raised","full_description":"Payroll::RTIPayslipsController PUT update when user allowed to edit behaves like a correct update request if amendable when the payslip is not pending render edit if error raised","status":"passed","file_path":"./spec/controllers/payroll/rti_payslips_controller_spec.rb","line_number":84,"run_time":0.357070751,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payroll/rti_payslips_controller_spec.rb[1:2:4:1:2:1]","description":"redirects with a flash message","full_description":"Payroll::RTIPayslipsController PUT update when user allowed to edit behaves like a correct update request if amendable When the payslip is pending redirects with a flash message","status":"passed","file_path":"./spec/controllers/payroll/rti_payslips_controller_spec.rb","line_number":103,"run_time":0.24051238,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payroll/rti_payslips_controller_spec.rb[1:2:4:2:1]","description":"updates all attributes and redirects to the corrections summary","full_description":"Payroll::RTIPayslipsController PUT update when user allowed to edit when the report_corrections param is set updates all attributes and redirects to the corrections summary","status":"passed","file_path":"./spec/controllers/payroll/rti_payslips_controller_spec.rb","line_number":318,"run_time":0.343967823,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bills/show_spec.rb[1:1:1]","description":"returns the requested bill","full_description":"when retrieving a bill with a valid bill_id returns the requested bill","status":"passed","file_path":"./spec/requests/api/bills/show_spec.rb","line_number":18,"run_time":0.214299267,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bills/show_spec.rb[1:2:1]","description":"returns the requested bill","full_description":"when retrieving a bill with a foreign currency bill returns the requested bill","status":"passed","file_path":"./spec/requests/api/bills/show_spec.rb","line_number":31,"run_time":0.209279731,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bills/show_spec.rb[1:3:1]","description":"returns the bills with sales tax attributes","full_description":"when retrieving a bill with sales tax returns the bills with sales tax attributes","status":"passed","file_path":"./spec/requests/api/bills/show_spec.rb","line_number":75,"run_time":0.4991146,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bills/show_spec.rb[1:4:1]","description":"responds with the depreciation schedule","full_description":"when retrieving a bill when the bill item is a capital asset purchase responds with the depreciation schedule","status":"passed","file_path":"./spec/requests/api/bills/show_spec.rb","line_number":122,"run_time":0.271392013,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bills/show_spec.rb[1:4:2:1]","description":"responds without the depreciation schedule","full_description":"when retrieving a bill when the bill item is a capital asset purchase when the bill item has a deprecation schedule but is no a capital asset responds without the depreciation schedule","status":"passed","file_path":"./spec/requests/api/bills/show_spec.rb","line_number":136,"run_time":0.184795737,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bills/show_spec.rb[1:5:1]","description":"responds with the locked attributes of the bill","full_description":"when retrieving a bill with a paid bill responds with the locked attributes of the bill","status":"passed","file_path":"./spec/requests/api/bills/show_spec.rb","line_number":151,"run_time":0.465134213,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bills/show_spec.rb[1:5:2]","description":"responds with the locked attributes of the bill item","full_description":"when retrieving a bill with a paid bill responds with the locked attributes of the bill item","status":"passed","file_path":"./spec/requests/api/bills/show_spec.rb","line_number":160,"run_time":0.51811782,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bills/show_spec.rb[1:6:1]","description":"returns a missing status","full_description":"when retrieving a bill with invalid bill_id returns a missing status","status":"passed","file_path":"./spec/requests/api/bills/show_spec.rb","line_number":171,"run_time":0.058705616,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bills/show_spec.rb[1:7:1]","description":"returns a forbidden status","full_description":"when retrieving a bill when the user does not have permissions do bills returns a forbidden status","status":"passed","file_path":"./spec/requests/api/bills/show_spec.rb","line_number":181,"run_time":0.074533903,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:1:23:1]","description":"deletes the ec suppply with an invoice","full_description":"Company::ForgetCompanyData Deleting all data for a VAT registered UK company with EC Supply deletes the ec suppply with an invoice","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":304,"run_time":1.271224681,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:1]","description":"is a practice managed subscription","full_description":"FAPDRBSGSubscription is a practice managed subscription","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":8,"run_time":0.153957046,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:2:1:1:1]","description":"has no errors","full_description":"FAPDRBSGSubscription should validate that the company is a UK or Universal variant company is uk_sole_trader with reseller type natwest has no errors","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":34,"run_time":0.068688547,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:2:1:2:1]","description":"has no errors","full_description":"FAPDRBSGSubscription should validate that the company is a UK or Universal variant company is uk_sole_trader with reseller type royal_bank_of_scotland has no errors","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":34,"run_time":0.067941824,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:2:1:3:1]","description":"has no errors","full_description":"FAPDRBSGSubscription should validate that the company is a UK or Universal variant company is uk_sole_trader with reseller type ulster_bank has no errors","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":34,"run_time":0.064533734,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:2:2:1:1]","description":"has no errors","full_description":"FAPDRBSGSubscription should validate that the company is a UK or Universal variant company is uk_partnership with reseller type natwest has no errors","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":34,"run_time":0.058824219,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:2:2:2:1]","description":"has no errors","full_description":"FAPDRBSGSubscription should validate that the company is a UK or Universal variant company is uk_partnership with reseller type royal_bank_of_scotland has no errors","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":34,"run_time":0.055696274,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:2:2:3:1]","description":"has no errors","full_description":"FAPDRBSGSubscription should validate that the company is a UK or Universal variant company is uk_partnership with reseller type ulster_bank has no errors","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":34,"run_time":0.069669533,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:2:3:1:1]","description":"has no errors","full_description":"FAPDRBSGSubscription should validate that the company is a UK or Universal variant company is uk_limited_liability_partnership with reseller type natwest has no errors","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":34,"run_time":0.065739606,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:2:3:2:1]","description":"has no errors","full_description":"FAPDRBSGSubscription should validate that the company is a UK or Universal variant company is uk_limited_liability_partnership with reseller type royal_bank_of_scotland has no errors","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":34,"run_time":0.073136481,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:2:3:3:1]","description":"has no errors","full_description":"FAPDRBSGSubscription should validate that the company is a UK or Universal variant company is uk_limited_liability_partnership with reseller type ulster_bank has no errors","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":34,"run_time":0.073569466,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:2:4:1:1]","description":"has no errors","full_description":"FAPDRBSGSubscription should validate that the company is a UK or Universal variant company is uk_limited_company with reseller type natwest has no errors","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":34,"run_time":0.070348432,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:2:4:2:1]","description":"has no errors","full_description":"FAPDRBSGSubscription should validate that the company is a UK or Universal variant company is uk_limited_company with reseller type royal_bank_of_scotland has no errors","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":34,"run_time":0.072717733,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:2:4:3:1]","description":"has no errors","full_description":"FAPDRBSGSubscription should validate that the company is a UK or Universal variant company is uk_limited_company with reseller type ulster_bank has no errors","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":34,"run_time":0.06477107,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:2:5:1:1]","description":"has no errors","full_description":"FAPDRBSGSubscription should validate that the company is a UK or Universal variant company is universal_company with reseller type natwest has no errors","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":34,"run_time":0.059432055,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:2:5:2:1]","description":"has no errors","full_description":"FAPDRBSGSubscription should validate that the company is a UK or Universal variant company is universal_company with reseller type royal_bank_of_scotland has no errors","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":34,"run_time":0.055420342,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:2:5:3:1]","description":"has no errors","full_description":"FAPDRBSGSubscription should validate that the company is a UK or Universal variant company is universal_company with reseller type ulster_bank has no errors","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":34,"run_time":0.061799147,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:3:1:1:1]","description":"has errors","full_description":"FAPDRBSGSubscription should validate that the company is a US variant company is us_company with reseller type natwest has errors","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":61,"run_time":0.070893445,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:3:1:2:1]","description":"has errors","full_description":"FAPDRBSGSubscription should validate that the company is a US variant company is us_company with reseller type royal_bank_of_scotland has errors","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":61,"run_time":0.065252558,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:3:1:3:1]","description":"has errors","full_description":"FAPDRBSGSubscription should validate that the company is a US variant company is us_company with reseller type ulster_bank has errors","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":61,"run_time":0.064863937,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:3:2:1:1]","description":"has errors","full_description":"FAPDRBSGSubscription should validate that the company is a US variant company is us_partnership with reseller type natwest has errors","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":61,"run_time":0.062407884,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:3:2:2:1]","description":"has errors","full_description":"FAPDRBSGSubscription should validate that the company is a US variant company is us_partnership with reseller type royal_bank_of_scotland has errors","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":61,"run_time":0.051934538,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:3:2:3:1]","description":"has errors","full_description":"FAPDRBSGSubscription should validate that the company is a US variant company is us_partnership with reseller type ulster_bank has errors","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":61,"run_time":0.053174993,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:3:3:1:1]","description":"has errors","full_description":"FAPDRBSGSubscription should validate that the company is a US variant company is us_limited_liability_company with reseller type natwest has errors","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":61,"run_time":0.072472215,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:3:3:2:1]","description":"has errors","full_description":"FAPDRBSGSubscription should validate that the company is a US variant company is us_limited_liability_company with reseller type royal_bank_of_scotland has errors","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":61,"run_time":0.052920827,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:3:3:3:1]","description":"has errors","full_description":"FAPDRBSGSubscription should validate that the company is a US variant company is us_limited_liability_company with reseller type ulster_bank has errors","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":61,"run_time":0.054310565,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:3:4:1:1]","description":"has errors","full_description":"FAPDRBSGSubscription should validate that the company is a US variant company is us_c_corp with reseller type natwest has errors","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":61,"run_time":0.07528384,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:3:4:2:1]","description":"has errors","full_description":"FAPDRBSGSubscription should validate that the company is a US variant company is us_c_corp with reseller type royal_bank_of_scotland has errors","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":61,"run_time":0.054532221,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:3:4:3:1]","description":"has errors","full_description":"FAPDRBSGSubscription should validate that the company is a US variant company is us_c_corp with reseller type ulster_bank has errors","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":61,"run_time":0.055057316,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:3:5:1:1]","description":"has errors","full_description":"FAPDRBSGSubscription should validate that the company is a US variant company is us_s_corp with reseller type natwest has errors","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":61,"run_time":0.078038519,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:3:5:2:1]","description":"has errors","full_description":"FAPDRBSGSubscription should validate that the company is a US variant company is us_s_corp with reseller type royal_bank_of_scotland has errors","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":61,"run_time":0.058631304,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:3:5:3:1]","description":"has errors","full_description":"FAPDRBSGSubscription should validate that the company is a US variant company is us_s_corp with reseller type ulster_bank has errors","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":61,"run_time":0.067386555,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:4:1:1]","description":"is valid","full_description":"FAPDRBSGSubscription Mettle funded company is uk_sole_trader is valid","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":85,"run_time":0.068304006,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:4:2:1]","description":"is valid","full_description":"FAPDRBSGSubscription Mettle funded company is uk_partnership is valid","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":85,"run_time":0.124275131,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:4:3:1]","description":"is valid","full_description":"FAPDRBSGSubscription Mettle funded company is uk_limited_liability_partnership is valid","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":85,"run_time":0.071645187,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:4:4:1]","description":"is valid","full_description":"FAPDRBSGSubscription Mettle funded company is uk_limited_company is valid","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":85,"run_time":0.06687591,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:4:5:1]","description":"is not valid","full_description":"FAPDRBSGSubscription Mettle funded company is universal_company is not valid","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":103,"run_time":0.070683079,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:4:6:1]","description":"is not valid","full_description":"FAPDRBSGSubscription Mettle funded company is us_company is not valid","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":103,"run_time":0.070456599,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:4:7:1]","description":"is not valid","full_description":"FAPDRBSGSubscription Mettle funded company is us_partnership is not valid","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":103,"run_time":0.066221199,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:4:8:1]","description":"is not valid","full_description":"FAPDRBSGSubscription Mettle funded company is us_limited_liability_company is not valid","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":103,"run_time":0.057197695,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:4:9:1]","description":"is not valid","full_description":"FAPDRBSGSubscription Mettle funded company is us_c_corp is not valid","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":103,"run_time":0.055027233,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapdrbsg_subscription_spec.rb[1:4:10:1]","description":"is not valid","full_description":"FAPDRBSGSubscription Mettle funded company is us_s_corp is not valid","status":"passed","file_path":"./spec/models/fapdrbsg_subscription_spec.rb","line_number":103,"run_time":0.057468068,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/invoice_payments_spec.rb[1:1:1]","description":"includes payments from sent invoices","full_description":"Cashflow::InvoicePayments#payments_on includes payments from sent invoices","status":"passed","file_path":"./spec/freeagent/cashflow/invoice_payments_spec.rb","line_number":15,"run_time":0.33179497,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/invoice_payments_spec.rb[1:1:2]","description":"does not include payments from paid invoices","full_description":"Cashflow::InvoicePayments#payments_on does not include payments from paid invoices","status":"passed","file_path":"./spec/freeagent/cashflow/invoice_payments_spec.rb","line_number":52,"run_time":0.419998063,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/invoice_payments_spec.rb[1:1:3]","description":"does not include payments from draft invoices","full_description":"Cashflow::InvoicePayments#payments_on does not include payments from draft invoices","status":"passed","file_path":"./spec/freeagent/cashflow/invoice_payments_spec.rb","line_number":58,"run_time":0.159343101,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/invoice_payments_spec.rb[1:1:4]","description":"does not include payments from written-off invoices","full_description":"Cashflow::InvoicePayments#payments_on does not include payments from written-off invoices","status":"passed","file_path":"./spec/freeagent/cashflow/invoice_payments_spec.rb","line_number":64,"run_time":0.188689696,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/invoice_payments_spec.rb[1:1:5]","description":"does not include payments from foreign currency invoices","full_description":"Cashflow::InvoicePayments#payments_on does not include payments from foreign currency invoices","status":"passed","file_path":"./spec/freeagent/cashflow/invoice_payments_spec.rb","line_number":70,"run_time":0.232486983,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/invoice_payments_spec.rb[1:1:6]","description":"includes payments from partially paid invoices","full_description":"Cashflow::InvoicePayments#payments_on includes payments from partially paid invoices","status":"passed","file_path":"./spec/freeagent/cashflow/invoice_payments_spec.rb","line_number":80,"run_time":0.195217568,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/invoice_payments_spec.rb[1:1:7]","description":"includes payments from discounted invoices","full_description":"Cashflow::InvoicePayments#payments_on includes payments from discounted invoices","status":"passed","file_path":"./spec/freeagent/cashflow/invoice_payments_spec.rb","line_number":93,"run_time":0.180378272,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/invoice_payments_spec.rb[1:1:8]","description":"does not include payments from invoices due later than the cutoff","full_description":"Cashflow::InvoicePayments#payments_on does not include payments from invoices due later than the cutoff","status":"passed","file_path":"./spec/freeagent/cashflow/invoice_payments_spec.rb","line_number":107,"run_time":0.175932489,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/invoice_payments_spec.rb[1:1:9]","description":"includes payments from invoices due before today","full_description":"Cashflow::InvoicePayments#payments_on includes payments from invoices due before today","status":"passed","file_path":"./spec/freeagent/cashflow/invoice_payments_spec.rb","line_number":118,"run_time":0.183895659,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/invoice_payments_spec.rb[1:1:10]","description":"includes payments from invoices due on the cutoff","full_description":"Cashflow::InvoicePayments#payments_on includes payments from invoices due on the cutoff","status":"passed","file_path":"./spec/freeagent/cashflow/invoice_payments_spec.rb","line_number":129,"run_time":0.202938637,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/vat_reminder_spec.rb[1:1:1:1:1]","description":"returns a category defined on the Insight model","full_description":"Radar::Insights::Rules::VatReminder behaves like a reminder rule behaves like a ping rule #category returns a category defined on the Insight model","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":11,"run_time":0.003730955,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/vat_reminder_spec.rb[1:1:1:2:1]","description":"returns a boolean","full_description":"Radar::Insights::Rules::VatReminder behaves like a reminder rule behaves like a ping rule #send_notifications? returns a boolean","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":17,"run_time":0.003376167,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/vat_reminder_spec.rb[1:1:2:1]","description":"returns 'reminder'","full_description":"Radar::Insights::Rules::VatReminder behaves like a reminder rule #category returns 'reminder'","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rules/concerns/reminder_category.rb","line_number":12,"run_time":0.002826925,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/vat_reminder_spec.rb[1:2:1]","description":"returns eligible users to be notified","full_description":"Radar::Insights::Rules::VatReminder behaves like notifier for users with level 8 only returns eligible users to be notified","status":"passed","file_path":"./spec/support/shared_examples/insights_rules_permission_level_examples.rb","line_number":49,"run_time":0.034420243,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/vat_reminder_spec.rb[1:2:2]","description":"does not return ineligible users to be notified","full_description":"Radar::Insights::Rules::VatReminder behaves like notifier for users with level 8 only does not return ineligible users to be notified","status":"passed","file_path":"./spec/support/shared_examples/insights_rules_permission_level_examples.rb","line_number":53,"run_time":0.033898512,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/vat_reminder_spec.rb[1:3:1]","description":"the insight will recur over vat return periods","full_description":"Radar::Insights::Rules::VatReminder.evaluate_for the insight will recur over vat return periods","status":"passed","file_path":"./spec/models/radar/insights/rules/vat_reminder_spec.rb","line_number":11,"run_time":0.264583722,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/vat_reminder_spec.rb[1:4:1]","description":"only includes the correct companies","full_description":"Radar::Insights::Rules::VatReminder.companies_for_evaluation only includes the correct companies","status":"passed","file_path":"./spec/models/radar/insights/rules/vat_reminder_spec.rb","line_number":42,"run_time":0.707239835,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/vat_reminder_spec.rb[1:5:1]","description":"returns true for companies that file quarterly","full_description":"Radar::Insights::Rules::VatReminder#files_quarterly? returns true for companies that file quarterly","status":"passed","file_path":"./spec/models/radar/insights/rules/vat_reminder_spec.rb","line_number":61,"run_time":0.011945411,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/vat_reminder_spec.rb[1:6:1]","description":"returns true if a VAT return is due within 10 days and filing quarterly","full_description":"Radar::Insights::Rules::VatReminder#can_create_insight? returns true if a VAT return is due within 10 days and filing quarterly","status":"passed","file_path":"./spec/models/radar/insights/rules/vat_reminder_spec.rb","line_number":78,"run_time":0.154513052,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/vat_reminder_spec.rb[1:7:1:1]","description":"returns true","full_description":"Radar::Insights::Rules::VatReminder#should_notify? user is an account owner returns true","status":"passed","file_path":"./spec/models/radar/insights/rules/vat_reminder_spec.rb","line_number":101,"run_time":0.016352941,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/vat_reminder_spec.rb[1:7:1:2:1]","description":"returns false","full_description":"Radar::Insights::Rules::VatReminder#should_notify? user is an account owner user has been previously notified returns false","status":"passed","file_path":"./spec/models/radar/insights/rules/vat_reminder_spec.rb","line_number":110,"run_time":0.020216799,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/vat_reminder_spec.rb[1:7:2:1]","description":"returns true","full_description":"Radar::Insights::Rules::VatReminder#should_notify? user is an account manager returns true","status":"passed","file_path":"./spec/models/radar/insights/rules/vat_reminder_spec.rb","line_number":123,"run_time":0.168369761,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/vat_reminder_spec.rb[1:7:2:2:1]","description":"returns false","full_description":"Radar::Insights::Rules::VatReminder#should_notify? user is an account manager user has been previously notified returns false","status":"passed","file_path":"./spec/models/radar/insights/rules/vat_reminder_spec.rb","line_number":132,"run_time":0.209878857,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/vat_reminder_spec.rb[1:8:1]","description":"returns correct details","full_description":"Radar::Insights::Rules::VatReminder#details returns correct details","status":"passed","file_path":"./spec/models/radar/insights/rules/vat_reminder_spec.rb","line_number":146,"run_time":0.116717995,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/vat_reminder_spec.rb[1:8:2:1]","description":"returns an empty hash","full_description":"Radar::Insights::Rules::VatReminder#details there is no matching vat return returns an empty hash","status":"passed","file_path":"./spec/models/radar/insights/rules/vat_reminder_spec.rb","line_number":168,"run_time":0.031517713,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/vat_reminder_spec.rb[1:8:3:1]","description":"includes `vat_return_filed = true`","full_description":"Radar::Insights::Rules::VatReminder#details return is filed includes `vat_return_filed = true`","status":"passed","file_path":"./spec/models/radar/insights/rules/vat_reminder_spec.rb","line_number":177,"run_time":0.133223746,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/vat_reminder_spec.rb[1:9:1]","description":"contains the company id and vat return id","full_description":"Radar::Insights::Rules::VatReminder#key contains the company id and vat return id","status":"passed","file_path":"./spec/models/radar/insights/rules/vat_reminder_spec.rb","line_number":194,"run_time":0.107124436,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/vat_reminder_spec.rb[1:10:1]","description":"returns false","full_description":"Radar::Insights::Rules::VatReminder#mobile? returns false","status":"passed","file_path":"./spec/models/radar/insights/rules/vat_reminder_spec.rb","line_number":210,"run_time":0.005371618,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/vat_reminder_spec.rb[1:11:2]","description":"returns the nearest vat return with a payment due","full_description":"Radar::Insights::Rules::VatReminder#vat_return returns the nearest vat return with a payment due","status":"passed","file_path":"./spec/models/radar/insights/rules/vat_reminder_spec.rb","line_number":227,"run_time":0.255551978,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/vat_reminder_spec.rb[1:11:1:1]","description":"returns nil","full_description":"Radar::Insights::Rules::VatReminder#vat_return there are no suitable vat returns returns nil","status":"passed","file_path":"./spec/models/radar/insights/rules/vat_reminder_spec.rb","line_number":219,"run_time":0.037735503,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/company/delete_dependant_spec.rb[1:1:1]","description":"deletes email attachments","full_description":"Company::DeleteDependant with a disengaged company deletes email attachments","status":"passed","file_path":"./spec/models/concerns/company/delete_dependant_spec.rb","line_number":18,"run_time":0.252682709,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/company/delete_dependant_spec.rb[1:1:2]","description":"deletes expenses","full_description":"Company::DeleteDependant with a disengaged company deletes expenses","status":"passed","file_path":"./spec/models/concerns/company/delete_dependant_spec.rb","line_number":26,"run_time":0.258095996,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/company/delete_dependant_spec.rb[1:2:1]","description":"deletes global owners and ownerships","full_description":"Company::DeleteDependant with a UK unincorporated landlord deletes global owners and ownerships","status":"passed","file_path":"./spec/models/concerns/company/delete_dependant_spec.rb","line_number":48,"run_time":1.157542353,"pending_message":null,"screenshot":null},{"id":"./spec/models/support_engineering/frs_limited_cost_trader_spec.rb[1:1:1]","description":"updates only the unlocked VAT returns to the Limited Cost Trader flat rate scheme","full_description":"SupportEngineering::FRSLimitedCostTrader with a company that has VAT returns updates only the unlocked VAT returns to the Limited Cost Trader flat rate scheme","status":"passed","file_path":"./spec/models/support_engineering/frs_limited_cost_trader_spec.rb","line_number":25,"run_time":0.464698669,"pending_message":null,"screenshot":null},{"id":"./spec/models/support_engineering/frs_limited_cost_trader_spec.rb[1:2:1]","description":"creates missing VAT returns","full_description":"SupportEngineering::FRSLimitedCostTrader with a company that has no VAT returns creates missing VAT returns","status":"passed","file_path":"./spec/models/support_engineering/frs_limited_cost_trader_spec.rb","line_number":44,"run_time":0.292688528,"pending_message":null,"screenshot":null},{"id":"./spec/models/support_engineering/frs_limited_cost_trader_spec.rb[1:2:2]","description":"sets the VAT returns to the Limited Cost Trader flat rate scheme","full_description":"SupportEngineering::FRSLimitedCostTrader with a company that has no VAT returns sets the VAT returns to the Limited Cost Trader flat rate scheme","status":"passed","file_path":"./spec/models/support_engineering/frs_limited_cost_trader_spec.rb","line_number":48,"run_time":0.29599413,"pending_message":null,"screenshot":null},{"id":"./spec/features/ltd_company_year_ends_navigation_spec.rb[1:1:1:7:1]","description":"can access final accounts filing","full_description":"Limited company year end navigation with an unmanaged company logged in as account owner with the file_frs105 switch enabled can access final accounts filing","status":"passed","file_path":"./spec/features/ltd_company_year_ends_navigation_spec.rb","line_number":237,"run_time":1.944491396,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[3:9]","description":"shows view for latest accounting period","full_description":"InvoicesController GET :index shows view for latest accounting period","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":268,"run_time":0.53221294,"pending_message":null,"screenshot":null},{"id":"./spec/features/timeslips/index_spec.rb[1:1:1]","description":"renders the user select","full_description":"Timeslips#index when active user has other viewable users renders the user select","status":"passed","file_path":"./spec/features/timeslips/index_spec.rb","line_number":20,"run_time":1.010157359,"pending_message":null,"screenshot":null},{"id":"./spec/features/timeslips/index_spec.rb[1:2:1]","description":"does not render the user select","full_description":"Timeslips#index when active user has no other viewable users does not render the user select","status":"passed","file_path":"./spec/features/timeslips/index_spec.rb","line_number":28,"run_time":0.804214514,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:13]","description":"allows to create an invoice with reference used in another company","full_description":"Invoice allows to create an invoice with reference used in another company","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":173,"run_time":0.156798798,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/overview/_accounting_details.html.erb_spec.rb[1:1:1]","description":"displays the trading start date","full_description":"admin/companies/overview/_accounting_details when the company has entered a trading start date displays the trading start date","status":"passed","file_path":"./spec/views/admin/companies/overview/_accounting_details.html.erb_spec.rb","line_number":15,"run_time":0.091821702,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/overview/_accounting_details.html.erb_spec.rb[1:2:1]","description":"displays text to say the trading start date has not been provided","full_description":"admin/companies/overview/_accounting_details when the company has not entered a trading start date displays text to say the trading start date has not been provided","status":"passed","file_path":"./spec/views/admin/companies/overview/_accounting_details.html.erb_spec.rb","line_number":26,"run_time":0.176615684,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/overview/_accounting_details.html.erb_spec.rb[1:3:1]","description":"displays a message that the accounting dates setup stage has not yet been completed","full_description":"admin/companies/overview/_accounting_details when the company has not completed the accounting dates setup stage displays a message that the accounting dates setup stage has not yet been completed","status":"passed","file_path":"./spec/views/admin/companies/overview/_accounting_details.html.erb_spec.rb","line_number":39,"run_time":0.167944778,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/overview/_accounting_details.html.erb_spec.rb[1:3:2]","description":"does not display the accounting date key value pairs","full_description":"admin/companies/overview/_accounting_details when the company has not completed the accounting dates setup stage does not display the accounting date key value pairs","status":"passed","file_path":"./spec/views/admin/companies/overview/_accounting_details.html.erb_spec.rb","line_number":45,"run_time":0.155671142,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/overview/_accounting_details.html.erb_spec.rb[1:3:3]","description":"displays the accounting basis","full_description":"admin/companies/overview/_accounting_details when the company has not completed the accounting dates setup stage displays the accounting basis","status":"passed","file_path":"./spec/views/admin/companies/overview/_accounting_details.html.erb_spec.rb","line_number":54,"run_time":0.155171338,"pending_message":null,"screenshot":null},{"id":"./spec/models/dividend_spec.rb[1:1:1:1:1]","description":"returns the id","full_description":"Dividend BankAccountEntry behaves like a delegated id #id returns the id","status":"passed","file_path":"./spec/models/dividend_spec.rb","line_number":14,"run_time":0.120526328,"pending_message":null,"screenshot":null},{"id":"./spec/models/dividend_spec.rb[1:1:2:1:1]","description":"returns the dated_on","full_description":"Dividend BankAccountEntry behaves like a delegated dated_on #dated_on returns the dated_on","status":"passed","file_path":"./spec/models/dividend_spec.rb","line_number":22,"run_time":0.032673083,"pending_message":null,"screenshot":null},{"id":"./spec/models/dividend_spec.rb[1:1:3:1:1]","description":"delegates to the dividend_value","full_description":"Dividend BankAccountEntry behaves like a dividend_value #net_dividend delegates to the dividend_value","status":"passed","file_path":"./spec/models/dividend_spec.rb","line_number":30,"run_time":0.03451723,"pending_message":null,"screenshot":null},{"id":"./spec/models/dividend_spec.rb[1:1:4:1:1]","description":"divides the dividend_value by 9","full_description":"Dividend BankAccountEntry behaves like a tax_credit #tax_credit divides the dividend_value by 9","status":"passed","file_path":"./spec/models/dividend_spec.rb","line_number":38,"run_time":0.035050719,"pending_message":null,"screenshot":null},{"id":"./spec/models/dividend_spec.rb[1:1:5:1:1]","description":"sums up the net_dividend and the tax_credit","full_description":"Dividend BankAccountEntry behaves like a gross_dividend #gross_dividend sums up the net_dividend and the tax_credit","status":"passed","file_path":"./spec/models/dividend_spec.rb","line_number":46,"run_time":0.035539436,"pending_message":null,"screenshot":null},{"id":"./spec/models/dividend_spec.rb[1:1:6:1:1]","description":"returns the paid_user","full_description":"Dividend BankAccountEntry behaves like a delegated user #user returns the paid_user","status":"passed","file_path":"./spec/models/dividend_spec.rb","line_number":54,"run_time":0.0539855,"pending_message":null,"screenshot":null},{"id":"./spec/models/dividend_spec.rb[1:1:7:1:1]","description":"returns the id","full_description":"Dividend BankAccountEntry behaves like a to_param #to_param returns the id","status":"passed","file_path":"./spec/models/dividend_spec.rb","line_number":62,"run_time":0.026111277,"pending_message":null,"screenshot":null},{"id":"./spec/models/dividend_spec.rb[1:1:8:1:1]","description":"returns the description","full_description":"Dividend BankAccountEntry behaves like a delegated description #description returns the description","status":"passed","file_path":"./spec/models/dividend_spec.rb","line_number":6,"run_time":0.024215199,"pending_message":null,"screenshot":null},{"id":"./spec/models/dividend_spec.rb[1:1:9:1]","description":"returns class name","full_description":"Dividend BankAccountEntry #class_name returns class name","status":"passed","file_path":"./spec/models/dividend_spec.rb","line_number":114,"run_time":0.026036645,"pending_message":null,"screenshot":null},{"id":"./spec/models/dividend_spec.rb[1:1:10:1:1]","description":"returns true","full_description":"Dividend BankAccountEntry #is_a_smart_user_payment? when the nominal code is 900 returns true","status":"passed","file_path":"./spec/models/dividend_spec.rb","line_number":125,"run_time":0.130156691,"pending_message":null,"screenshot":null},{"id":"./spec/models/dividend_spec.rb[1:1:10:2:1]","description":"returns false","full_description":"Dividend BankAccountEntry #is_a_smart_user_payment? when the nominal_code is 908 returns false","status":"passed","file_path":"./spec/models/dividend_spec.rb","line_number":133,"run_time":0.101406483,"pending_message":null,"screenshot":null},{"id":"./spec/models/dividend_spec.rb[1:1:11:1]","description":"returns smart_net_salary_amount","full_description":"Dividend BankAccountEntry #smart_net_salary_amount returns smart_net_salary_amount","status":"passed","file_path":"./spec/models/dividend_spec.rb","line_number":148,"run_time":0.024334174,"pending_message":null,"screenshot":null},{"id":"./spec/models/dividend_spec.rb[1:1:12:1]","description":"returns smart_expense_repayment_amount","full_description":"Dividend BankAccountEntry #smart_expense_repayment_amount returns smart_expense_repayment_amount","status":"passed","file_path":"./spec/models/dividend_spec.rb","line_number":162,"run_time":0.024364055,"pending_message":null,"screenshot":null},{"id":"./spec/models/dividend_spec.rb[1:1:13:1]","description":"returns smart_dividend_amount","full_description":"Dividend BankAccountEntry #smart_dividend_amount returns smart_dividend_amount","status":"passed","file_path":"./spec/models/dividend_spec.rb","line_number":176,"run_time":0.025240621,"pending_message":null,"screenshot":null},{"id":"./spec/models/dividend_spec.rb[1:2:1:1:1]","description":"returns the id","full_description":"Dividend JournalEntry behaves like a delegated id #id returns the id","status":"passed","file_path":"./spec/models/dividend_spec.rb","line_number":14,"run_time":0.100531698,"pending_message":null,"screenshot":null},{"id":"./spec/models/dividend_spec.rb[1:2:2:1:1]","description":"returns the dated_on","full_description":"Dividend JournalEntry behaves like a delegated dated_on #dated_on returns the dated_on","status":"passed","file_path":"./spec/models/dividend_spec.rb","line_number":22,"run_time":0.01867424,"pending_message":null,"screenshot":null},{"id":"./spec/models/dividend_spec.rb[1:2:3:1:1]","description":"delegates to the dividend_value","full_description":"Dividend JournalEntry behaves like a dividend_value #net_dividend delegates to the dividend_value","status":"passed","file_path":"./spec/models/dividend_spec.rb","line_number":30,"run_time":0.017434786,"pending_message":null,"screenshot":null},{"id":"./spec/models/dividend_spec.rb[1:2:4:1:1]","description":"divides the dividend_value by 9","full_description":"Dividend JournalEntry behaves like a tax_credit #tax_credit divides the dividend_value by 9","status":"passed","file_path":"./spec/models/dividend_spec.rb","line_number":38,"run_time":0.015436189,"pending_message":null,"screenshot":null},{"id":"./spec/models/dividend_spec.rb[1:2:5:1:1]","description":"sums up the net_dividend and the tax_credit","full_description":"Dividend JournalEntry behaves like a gross_dividend #gross_dividend sums up the net_dividend and the tax_credit","status":"passed","file_path":"./spec/models/dividend_spec.rb","line_number":46,"run_time":0.01282982,"pending_message":null,"screenshot":null},{"id":"./spec/models/dividend_spec.rb[1:2:6:1:1]","description":"returns the paid_user","full_description":"Dividend JournalEntry behaves like a delegated user #user returns the paid_user","status":"passed","file_path":"./spec/models/dividend_spec.rb","line_number":54,"run_time":0.028498222,"pending_message":null,"screenshot":null},{"id":"./spec/models/dividend_spec.rb[1:2:7:1:1]","description":"returns the id","full_description":"Dividend JournalEntry behaves like a to_param #to_param returns the id","status":"passed","file_path":"./spec/models/dividend_spec.rb","line_number":62,"run_time":0.080145427,"pending_message":null,"screenshot":null},{"id":"./spec/models/dividend_spec.rb[1:2:8:1:1]","description":"returns the description","full_description":"Dividend JournalEntry behaves like a delegated description #description returns the description","status":"passed","file_path":"./spec/models/dividend_spec.rb","line_number":6,"run_time":0.017186116,"pending_message":null,"screenshot":null},{"id":"./spec/models/dividend_spec.rb[1:2:9:1]","description":"returns class name","full_description":"Dividend JournalEntry #class_name returns class name","status":"passed","file_path":"./spec/models/dividend_spec.rb","line_number":229,"run_time":0.017657491,"pending_message":null,"screenshot":null},{"id":"./spec/models/dividend_spec.rb[1:2:10:1]","description":"returns false","full_description":"Dividend JournalEntry #is_a_smart_user_payment? returns false","status":"passed","file_path":"./spec/models/dividend_spec.rb","line_number":237,"run_time":0.017214263,"pending_message":null,"screenshot":null},{"id":"./spec/models/dividend_spec.rb[1:3:1:1]","description":"returns true","full_description":"Dividend#hide_tax_credits? when tax_year is after 2017 returns true","status":"passed","file_path":"./spec/models/dividend_spec.rb","line_number":251,"run_time":0.004645383,"pending_message":null,"screenshot":null},{"id":"./spec/models/dividend_spec.rb[1:3:2:1:1]","description":"returns false","full_description":"Dividend#hide_tax_credits? when tax_year is before 2017 and tax_year is before 2017 returns false","status":"passed","file_path":"./spec/models/dividend_spec.rb","line_number":262,"run_time":0.004149705,"pending_message":null,"screenshot":null},{"id":"./spec/models/app_store_billing/subscription_sync_spec.rb[1:1:1]","description":"ignores billing profiles for non-app store companies","full_description":"AppStoreBilling::SubscriptionSync.check_due ignores billing profiles for non-app store companies","status":"passed","file_path":"./spec/models/app_store_billing/subscription_sync_spec.rb","line_number":5,"run_time":0.214850608,"pending_message":null,"screenshot":null},{"id":"./spec/models/app_store_billing/subscription_sync_spec.rb[1:1:2]","description":"ignores billing profiles that are due in the future","full_description":"AppStoreBilling::SubscriptionSync.check_due ignores billing profiles that are due in the future","status":"passed","file_path":"./spec/models/app_store_billing/subscription_sync_spec.rb","line_number":11,"run_time":0.135690875,"pending_message":null,"screenshot":null},{"id":"./spec/models/app_store_billing/subscription_sync_spec.rb[1:1:3]","description":"enqueues a sync job for app store billing profiles that are due","full_description":"AppStoreBilling::SubscriptionSync.check_due enqueues a sync job for app store billing profiles that are due","status":"passed","file_path":"./spec/models/app_store_billing/subscription_sync_spec.rb","line_number":16,"run_time":0.106535576,"pending_message":null,"screenshot":null},{"id":"./spec/models/app_store_billing/subscription_sync_spec.rb[1:2:1:1]","description":"updates the stored auto_renews attribute to match what we recevie from Apple","full_description":"AppStoreBilling::SubscriptionSync#perform when updating the auto_renews attribute updates the stored auto_renews attribute to match what we recevie from Apple","status":"passed","file_path":"./spec/models/app_store_billing/subscription_sync_spec.rb","line_number":36,"run_time":0.091768002,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/hire_purchase_altering_spec.rb[1:1:1]","description":"prevents a recurring hire purchase bill","full_description":"HirePurchaseAltering validations prevents a recurring hire purchase bill","status":"passed","file_path":"./spec/models/concerns/hire_purchase_altering_spec.rb","line_number":7,"run_time":0.068730938,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/hire_purchase_altering_spec.rb[1:2:1:1]","description":"should create a hire purchase","full_description":"HirePurchaseAltering creating when is_paid_by_hire_purchase is true should create a hire purchase","status":"passed","file_path":"./spec/models/concerns/hire_purchase_altering_spec.rb","line_number":18,"run_time":0.075118348,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/hire_purchase_altering_spec.rb[1:2:2:1]","description":"should not create a hire_purchase","full_description":"HirePurchaseAltering creating when is_paid_by_hire_purchase is false should not create a hire_purchase","status":"passed","file_path":"./spec/models/concerns/hire_purchase_altering_spec.rb","line_number":26,"run_time":0.053203944,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/hire_purchase_altering_spec.rb[1:3:1:1]","description":"updates the hire purchase description","full_description":"HirePurchaseAltering updating when the bill reference is updated updates the hire purchase description","status":"passed","file_path":"./spec/models/concerns/hire_purchase_altering_spec.rb","line_number":40,"run_time":0.13308249,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/hire_purchase_altering_spec.rb[1:3:2:1]","description":"destroys the hire purchase","full_description":"HirePurchaseAltering updating when is_paid_by_hire_purchase is set to a falsey value destroys the hire purchase","status":"passed","file_path":"./spec/models/concerns/hire_purchase_altering_spec.rb","line_number":49,"run_time":0.11872649,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/hire_purchase_altering_spec.rb[1:3:3:1]","description":"does not destroy the hire purchase","full_description":"HirePurchaseAltering updating when is_paid_by_hire_purchase is set to a truthy value does not destroy the hire purchase","status":"passed","file_path":"./spec/models/concerns/hire_purchase_altering_spec.rb","line_number":58,"run_time":0.109551535,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/hire_purchase_altering_spec.rb[1:4:1]","description":"also destroys the hire_purchase","full_description":"HirePurchaseAltering destroying the parent record also destroys the hire_purchase","status":"passed","file_path":"./spec/models/concerns/hire_purchase_altering_spec.rb","line_number":72,"run_time":0.095618737,"pending_message":null,"screenshot":null},{"id":"./spec/models/price_list_item_spec.rb[1:1:1]","description":"is valid","full_description":"PriceListItem A new price_list item for a universal company is valid","status":"passed","file_path":"./spec/models/price_list_item_spec.rb","line_number":11,"run_time":0.091912381,"pending_message":null,"screenshot":null},{"id":"./spec/models/price_list_item_spec.rb[1:1:2]","description":"sets out_of_scope VAT","full_description":"PriceListItem A new price_list item for a universal company sets out_of_scope VAT","status":"passed","file_path":"./spec/models/price_list_item_spec.rb","line_number":36,"run_time":0.080173734,"pending_message":null,"screenshot":null},{"id":"./spec/models/price_list_item_spec.rb[1:2:1]","description":"is valid","full_description":"PriceListItem A new price_list item is valid","status":"passed","file_path":"./spec/models/price_list_item_spec.rb","line_number":49,"run_time":0.015586055,"pending_message":null,"screenshot":null},{"id":"./spec/models/price_list_item_spec.rb[1:2:2]","description":"handles price precision","full_description":"PriceListItem A new price_list item handles price precision","status":"passed","file_path":"./spec/models/price_list_item_spec.rb","line_number":53,"run_time":0.013960719,"pending_message":null,"screenshot":null},{"id":"./spec/models/price_list_item_spec.rb[1:2:3]","description":"allows hours:minutes","full_description":"PriceListItem A new price_list item allows hours:minutes","status":"passed","file_path":"./spec/models/price_list_item_spec.rb","line_number":58,"run_time":0.021883975,"pending_message":null,"screenshot":null},{"id":"./spec/models/price_list_item_spec.rb[1:2:4]","description":"is expected to validate that :code cannot be empty/falsy","full_description":"PriceListItem A new price_list item is expected to validate that :code cannot be empty/falsy","status":"passed","file_path":"./spec/models/price_list_item_spec.rb","line_number":67,"run_time":0.029614264,"pending_message":null,"screenshot":null},{"id":"./spec/models/price_list_item_spec.rb[1:2:5]","description":"is expected to validate that :description cannot be empty/falsy","full_description":"PriceListItem A new price_list item is expected to validate that :description cannot be empty/falsy","status":"passed","file_path":"./spec/models/price_list_item_spec.rb","line_number":67,"run_time":0.025302878,"pending_message":null,"screenshot":null},{"id":"./spec/models/price_list_item_spec.rb[1:2:6]","description":"is expected to validate that :price cannot be empty/falsy","full_description":"PriceListItem A new price_list item is expected to validate that :price cannot be empty/falsy","status":"passed","file_path":"./spec/models/price_list_item_spec.rb","line_number":67,"run_time":0.021018317,"pending_message":null,"screenshot":null},{"id":"./spec/models/price_list_item_spec.rb[1:2:7]","description":"is expected to validate that :item_type cannot be empty/falsy","full_description":"PriceListItem A new price_list item is expected to validate that :item_type cannot be empty/falsy","status":"passed","file_path":"./spec/models/price_list_item_spec.rb","line_number":67,"run_time":0.020381771,"pending_message":null,"screenshot":null},{"id":"./spec/models/price_list_item_spec.rb[1:2:8]","description":"is expected to validate that :code is case-sensitively unique within the scope of :company_id","full_description":"PriceListItem A new price_list item is expected to validate that :code is case-sensitively unique within the scope of :company_id","status":"passed","file_path":"./spec/models/price_list_item_spec.rb","line_number":70,"run_time":0.024488927,"pending_message":null,"screenshot":null},{"id":"./spec/models/price_list_item_spec.rb[1:2:9]","description":"is expected to allow :item_type to be \"Bills\"","full_description":"PriceListItem A new price_list item is expected to allow :item_type to be \"Bills\"","status":"passed","file_path":"./spec/models/price_list_item_spec.rb","line_number":72,"run_time":0.015012652,"pending_message":null,"screenshot":null},{"id":"./spec/models/price_list_item_spec.rb[1:2:10]","description":"is expected not to allow :item_type to be \"Comment\"","full_description":"PriceListItem A new price_list item is expected not to allow :item_type to be \"Comment\"","status":"passed","file_path":"./spec/models/price_list_item_spec.rb","line_number":73,"run_time":0.017029777,"pending_message":null,"screenshot":null},{"id":"./spec/models/price_list_item_spec.rb[1:3:1]","description":"defaults to the sales account","full_description":"PriceListItem A new, unsaved price_list item defaults to the sales account","status":"passed","file_path":"./spec/models/price_list_item_spec.rb","line_number":77,"run_time":0.015401198,"pending_message":null,"screenshot":null},{"id":"./spec/models/price_list_item_spec.rb[1:4:1]","description":"is valid","full_description":"PriceListItem A price list item with a stock item and mismatched item type is valid","status":"passed","file_path":"./spec/models/price_list_item_spec.rb","line_number":91,"run_time":0.136159882,"pending_message":null,"screenshot":null},{"id":"./spec/models/price_list_item_spec.rb[1:4:2:1]","description":"throws away the stock item association","full_description":"PriceListItem A price list item with a stock item and mismatched item type when saved throws away the stock item association","status":"passed","file_path":"./spec/models/price_list_item_spec.rb","line_number":100,"run_time":0.136125555,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tax/timeline_controller_spec.rb[1:1]","description":"can't access the timeline without api key","full_description":"Tax::TimelineController can't access the timeline without api key","status":"passed","file_path":"./spec/controllers/tax/timeline_controller_spec.rb","line_number":14,"run_time":0.103837121,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tax/timeline_controller_spec.rb[1:2]","description":"can't access the timeline with an invalid token","full_description":"Tax::TimelineController can't access the timeline with an invalid token","status":"passed","file_path":"./spec/controllers/tax/timeline_controller_spec.rb","line_number":19,"run_time":0.096996352,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tax/timeline_controller_spec.rb[1:3]","description":"can access the timeline with an valid token","full_description":"Tax::TimelineController can access the timeline with an valid token","status":"passed","file_path":"./spec/controllers/tax/timeline_controller_spec.rb","line_number":24,"run_time":0.568475508,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[14:1]","description":"updates the payment methods on the invoice","full_description":"InvoicesController when updating a recurred invoice with payment methods updates the payment methods on the invoice","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":1794,"run_time":0.694166905,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/nwg/customer_api_client_spec.rb[1:1:1:1]","description":"calls `get_data` with the correct URL","full_description":"OpenBanking::Nwg::CustomerApiClient#customers with a BackbookConsent calls `get_data` with the correct URL","status":"passed","file_path":"./spec/models/open_banking/nwg/customer_api_client_spec.rb","line_number":20,"run_time":0.005477749,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/nwg/customer_api_client_spec.rb[1:1:2:1]","description":"calls `get_data` with the correct URL","full_description":"OpenBanking::Nwg::CustomerApiClient#customers with an 'normal OB' consent calls `get_data` with the correct URL","status":"passed","file_path":"./spec/models/open_banking/nwg/customer_api_client_spec.rb","line_number":35,"run_time":0.045743775,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/nwg/customer_api_client_spec.rb[1:1:2:2:1]","description":"does not refresh the consent","full_description":"OpenBanking::Nwg::CustomerApiClient#customers with an 'normal OB' consent OAuth access token valid does not refresh the consent","status":"passed","file_path":"./spec/models/open_banking/nwg/customer_api_client_spec.rb","line_number":42,"run_time":0.050104023,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/nwg/customer_api_client_spec.rb[1:1:2:3:1]","description":"refreshes the consent","full_description":"OpenBanking::Nwg::CustomerApiClient#customers with an 'normal OB' consent OAuth access token expired refreshes the consent","status":"passed","file_path":"./spec/models/open_banking/nwg/customer_api_client_spec.rb","line_number":51,"run_time":0.043113169,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/nwg/customer_api_client_spec.rb[1:1:3:1:1]","description":"raises a CustomerTypeNotSupported error","full_description":"OpenBanking::Nwg::CustomerApiClient#customers when the API returns an error with a 'customer type not supported' 400 error raises a CustomerTypeNotSupported error","status":"passed","file_path":"./spec/models/open_banking/nwg/customer_api_client_spec.rb","line_number":62,"run_time":0.037300529,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/nwg/customer_api_client_spec.rb[1:1:3:2:1]","description":"raises an generic error","full_description":"OpenBanking::Nwg::CustomerApiClient#customers when the API returns an error with any other API error raises an generic error","status":"passed","file_path":"./spec/models/open_banking/nwg/customer_api_client_spec.rb","line_number":76,"run_time":0.037940539,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/nwg/customer_api_client_spec.rb[1:1:3:3:1]","description":"raises an generic error","full_description":"OpenBanking::Nwg::CustomerApiClient#customers when the API returns an error with a network timeout raises an generic error","status":"passed","file_path":"./spec/models/open_banking/nwg/customer_api_client_spec.rb","line_number":86,"run_time":0.038714669,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[16:1]","description":"creates an audit entry","full_description":"InvoicesController DELETE destroy creates an audit entry","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":2094,"run_time":0.187969526,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[24:1]","description":"is rendered in norwegian","full_description":"InvoicesController An invoice for a contact set to the Norwegian locale is rendered in norwegian","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":2412,"run_time":0.30570992,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:65:1:1]","description":"updates the invoice items to have a VAT rate of zero","full_description":"Invoice A 'Reverse Charge' invoice for a VAT-registered company when updating the invoice to reverse charge status updates the invoice items to have a VAT rate of zero","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":1780,"run_time":0.307549344,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/recurring_invoices_controller_spec.rb[1:1:1:1]","description":"does not include a property","full_description":"Api::RecurringInvoicesController#show with a non-landlord company does not include a property","status":"passed","file_path":"./spec/controllers/api/recurring_invoices_controller_spec.rb","line_number":20,"run_time":0.064288489,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/recurring_invoices_controller_spec.rb[1:1:2:1]","description":"includes a property","full_description":"Api::RecurringInvoicesController#show with a landlord company includes a property","status":"passed","file_path":"./spec/controllers/api/recurring_invoices_controller_spec.rb","line_number":32,"run_time":0.133064047,"pending_message":null,"screenshot":null},{"id":"./spec/views/properties/index.html.erb_spec.rb[1:1:1]","description":"displays the blank slate","full_description":"properties/index with no properties displays the blank slate","status":"passed","file_path":"./spec/views/properties/index.html.erb_spec.rb","line_number":25,"run_time":0.03141139,"pending_message":null,"screenshot":null},{"id":"./spec/views/properties/index.html.erb_spec.rb[1:2:1]","description":"shows the overall property profitability","full_description":"properties/index with properties shows the overall property profitability","status":"passed","file_path":"./spec/views/properties/index.html.erb_spec.rb","line_number":54,"run_time":0.026809425,"pending_message":null,"screenshot":null},{"id":"./spec/views/properties/index.html.erb_spec.rb[1:2:2]","description":"shows a table of properties that contain the calculated profit and loss for each property","full_description":"properties/index with properties shows a table of properties that contain the calculated profit and loss for each property","status":"passed","file_path":"./spec/views/properties/index.html.erb_spec.rb","line_number":69,"run_time":0.020614727,"pending_message":null,"screenshot":null},{"id":"./spec/views/properties/index.html.erb_spec.rb[1:2:3]","description":"has header actions","full_description":"properties/index with properties has header actions","status":"passed","file_path":"./spec/views/properties/index.html.erb_spec.rb","line_number":98,"run_time":0.018971678,"pending_message":null,"screenshot":null},{"id":"./spec/views/properties/index.html.erb_spec.rb[1:2:4:1]","description":"does not have settings link action","full_description":"properties/index with properties feature disabled does not have settings link action","status":"passed","file_path":"./spec/views/properties/index.html.erb_spec.rb","line_number":109,"run_time":0.02619535,"pending_message":null,"screenshot":null},{"id":"./spec/models/construction_industry_scheme_config_spec.rb[1:1:1:1]","description":"is locked","full_description":"ConstructionIndustryScheme Config RTI payroll locking when a payroll period already exists is locked","status":"passed","file_path":"./spec/models/construction_industry_scheme_config_spec.rb","line_number":15,"run_time":0.071493138,"pending_message":null,"screenshot":null},{"id":"./spec/models/construction_industry_scheme_config_spec.rb[1:1:2:1]","description":"is not locked","full_description":"ConstructionIndustryScheme Config RTI payroll locking when there is no payroll period is not locked","status":"passed","file_path":"./spec/models/construction_industry_scheme_config_spec.rb","line_number":22,"run_time":0.033952715,"pending_message":null,"screenshot":null},{"id":"./spec/models/construction_industry_scheme_config_spec.rb[1:1:3:1]","description":"settings are not disableable","full_description":"ConstructionIndustryScheme Config RTI payroll locking with a CIS invoice settings are not disableable","status":"passed","file_path":"./spec/models/construction_industry_scheme_config_spec.rb","line_number":30,"run_time":0.139102637,"pending_message":null,"screenshot":null},{"id":"./spec/models/construction_industry_scheme_config_spec.rb[1:1:4:1]","description":"settings are not disableable","full_description":"ConstructionIndustryScheme Config RTI payroll locking when using RTI payroll settings are not disableable","status":"passed","file_path":"./spec/models/construction_industry_scheme_config_spec.rb","line_number":38,"run_time":0.065944513,"pending_message":null,"screenshot":null}],"summary":{"duration":1.709313999,"example_count":434,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"434 examples, 0 failures"}