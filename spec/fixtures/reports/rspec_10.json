{"version":"3.11.0","messages":["Run options:\n  include {:ids=\u003e{\"./spec/models/invoice_spec.rb\"=\u003e[\"1:50:2:1\", \"1:94:3:2\", \"1:92:2\"], \"./spec/controllers/invoices_controller_spec.rb\"=\u003e[\"15:6:4:1\"]}}\n  exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/models/expenses_spec.rb[1:1:1]","description":"correctly imports a valid expense CSV","full_description":"Expenses Import vanilla expenses correctly imports a valid expense CSV","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":62,"run_time":1.798243644,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:2]","description":"correctly imports an expenses CSV when spaces are present in fields and/or headers","full_description":"Expenses Import vanilla expenses correctly imports an expenses CSV when spaces are present in fields and/or headers","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":95,"run_time":0.397880899,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:3]","description":"correctly imports the EC status expense","full_description":"Expenses Import vanilla expenses correctly imports the EC status expense","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":112,"run_time":0.788043405,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:4]","description":"imports foreign currency expenses correctly","full_description":"Expenses Import vanilla expenses imports foreign currency expenses correctly","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":130,"run_time":0.449844067,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:5]","description":"correctly imports an expense when either project name or project client are missing","full_description":"Expenses Import vanilla expenses correctly imports an expense when either project name or project client are missing","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":149,"run_time":0.44252831,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:6]","description":"creates an error when importing any items where a field is invalid","full_description":"Expenses Import vanilla expenses creates an error when importing any items where a field is invalid","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":161,"run_time":0.257175628,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:7]","description":"creates an error when importing a file with an invalid category","full_description":"Expenses Import vanilla expenses creates an error when importing a file with an invalid category","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":165,"run_time":0.218745011,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:8]","description":"creates an error when importing a file with a missing category","full_description":"Expenses Import vanilla expenses creates an error when importing a file with a missing category","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":169,"run_time":0.195018048,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:9]","description":"creates an error when importing a file with an invalid sales tax","full_description":"Expenses Import vanilla expenses creates an error when importing a file with an invalid sales tax","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":173,"run_time":0.199427459,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:10]","description":"creates an error when importing a file with the intermediate reduced VAT rate for an expense outside the allowed date range for the intermediate reduced rate","full_description":"Expenses Import vanilla expenses creates an error when importing a file with the intermediate reduced VAT rate for an expense outside the allowed date range for the intermediate reduced rate","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":179,"run_time":0.203159149,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:11]","description":"creates an error when importing a file with an invalid expense type","full_description":"Expenses Import vanilla expenses creates an error when importing a file with an invalid expense type","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":185,"run_time":0.289958914,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:12]","description":"creates an error when importing a file with an invalid date","full_description":"Expenses Import vanilla expenses creates an error when importing a file with an invalid date","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":189,"run_time":0.176934822,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:13]","description":"creates an error when importing a file with an invalid rebill by value","full_description":"Expenses Import vanilla expenses creates an error when importing a file with an invalid rebill by value","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":193,"run_time":0.264120218,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:14]","description":"creates an error when importing a file with a rebill by value and an invalid project","full_description":"Expenses Import vanilla expenses creates an error when importing a file with a rebill by value and an invalid project","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":197,"run_time":0.248374826,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:15]","description":"creates an error when importing a file with a rebill by value of markup or price and no rebill factor amount","full_description":"Expenses Import vanilla expenses creates an error when importing a file with a rebill by value of markup or price and no rebill factor amount","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":203,"run_time":0.326921053,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:16]","description":"creates an error when importing a file with a rebill by value of markup or price and an invalid rebill factor amount","full_description":"Expenses Import vanilla expenses creates an error when importing a file with a rebill by value of markup or price and an invalid rebill factor amount","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":209,"run_time":0.287372358,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:17]","description":"creates an error when importing a file with category \"Purchase of Stock\" and no stock fields.","full_description":"Expenses Import vanilla expenses creates an error when importing a file with category \"Purchase of Stock\" and no stock fields.","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":215,"run_time":0.208107144,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:18]","description":"creates an error when importing a file with category \"Purchase of Stock\" and non-existent stock name.","full_description":"Expenses Import vanilla expenses creates an error when importing a file with category \"Purchase of Stock\" and non-existent stock name.","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":219,"run_time":0.206140612,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:19]","description":"creates an error when importing a file with an invalid EC Status","full_description":"Expenses Import vanilla expenses creates an error when importing a file with an invalid EC Status","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":223,"run_time":0.269025933,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:20]","description":"creates an error when importing a file with a user that cannot be found","full_description":"Expenses Import vanilla expenses creates an error when importing a file with a user that cannot be found","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":229,"run_time":0.173409312,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:21]","description":"creates an error when importing a file with a contact that cannot be found","full_description":"Expenses Import vanilla expenses creates an error when importing a file with a contact that cannot be found","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":233,"run_time":0.184496096,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:22]","description":"creates an error when importing a file with a project that cannot be found","full_description":"Expenses Import vanilla expenses creates an error when importing a file with a project that cannot be found","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":237,"run_time":0.1891923,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:23]","description":"creates an error when importing a file with both a sales_tax_rate and a sales_tax_value","full_description":"Expenses Import vanilla expenses creates an error when importing a file with both a sales_tax_rate and a sales_tax_value","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":241,"run_time":0.189685979,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:24]","description":"creates an error when importing a file with a Capital Expenses category and there is no asset life","full_description":"Expenses Import vanilla expenses creates an error when importing a file with a Capital Expenses category and there is no asset life","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":247,"run_time":0.198968859,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:25]","description":"creates an error when importing a file with a Capital Expenses category and the asset life is not valid","full_description":"Expenses Import vanilla expenses creates an error when importing a file with a Capital Expenses category and the asset life is not valid","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":251,"run_time":0.230614663,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:26]","description":"creates an error when importing a CSV file without some of the required headers","full_description":"Expenses Import vanilla expenses creates an error when importing a CSV file without some of the required headers","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":257,"run_time":0.215651007,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:27]","description":"creates an error when importing a CSV file without any of the required headers","full_description":"Expenses Import vanilla expenses creates an error when importing a CSV file without any of the required headers","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":261,"run_time":0.190753775,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:28]","description":"creates an error when importing a non-CSV file with CSV extension","full_description":"Expenses Import vanilla expenses creates an error when importing a non-CSV file with CSV extension","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":265,"run_time":0.175785948,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:29]","description":"creates an error when importing a non-CSV file","full_description":"Expenses Import vanilla expenses creates an error when importing a non-CSV file","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":269,"run_time":0.194843664,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:30]","description":"creates an error when importing a file with no data","full_description":"Expenses Import vanilla expenses creates an error when importing a file with no data","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":273,"run_time":0.199752023,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:31]","description":"creates an error about date format when importing a file with a blank row of commas","full_description":"Expenses Import vanilla expenses creates an error about date format when importing a file with a blank row of commas","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":277,"run_time":0.193602486,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:32:1]","description":"allows them to import for themselves","full_description":"Expenses Import vanilla expenses for users less than level 7 allows them to import for themselves","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":287,"run_time":0.363072085,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:32:2]","description":"creates an error when they try to import for another user","full_description":"Expenses Import vanilla expenses for users less than level 7 creates an error when they try to import for another user","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":295,"run_time":0.264782255,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:33:1]","description":"deletes imported expenses when called","full_description":"Expenses Import vanilla expenses #undo_all deletes imported expenses when called","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":304,"run_time":1.678192624,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:33:2]","description":"only deletes the specified transactions","full_description":"Expenses Import vanilla expenses #undo_all only deletes the specified transactions","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":313,"run_time":2.391674638,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:1:33:3]","description":"does not delete locked transactions","full_description":"Expenses Import vanilla expenses #undo_all does not delete locked transactions","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":324,"run_time":1.784265031,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:2:1]","description":"correctly imports a valid mileage expense CSV","full_description":"Expenses Import mileage expenses correctly imports a valid mileage expense CSV","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":355,"run_time":1.245030205,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:2:2]","description":"correctly imports a mileage CSV even when spaces are present in fields or header row","full_description":"Expenses Import mileage expenses correctly imports a mileage CSV even when spaces are present in fields or header row","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":406,"run_time":0.446399321,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:2:3]","description":"correctly imports a mileage CSV when either project client or project name is missing","full_description":"Expenses Import mileage expenses correctly imports a mileage CSV when either project client or project name is missing","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":423,"run_time":0.529577603,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:2:4]","description":"creates an error when importing any items with an invalid field","full_description":"Expenses Import mileage expenses creates an error when importing any items with an invalid field","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":435,"run_time":0.2944991,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:2:5]","description":"creates an error when importing a file with an invalid date","full_description":"Expenses Import mileage expenses creates an error when importing a file with an invalid date","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":441,"run_time":0.232025695,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:2:8]","description":"creates an error when importing a file with an invalid rebill mileage rate","full_description":"Expenses Import mileage expenses creates an error when importing a file with an invalid rebill mileage rate","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":459,"run_time":0.275381634,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:2:9]","description":"creates an error when importing a file with an vehicle type","full_description":"Expenses Import mileage expenses creates an error when importing a file with an vehicle type","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":465,"run_time":0.284885189,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:2:10]","description":"creates an error when importing a file with a user that cannot be found","full_description":"Expenses Import mileage expenses creates an error when importing a file with a user that cannot be found","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":471,"run_time":0.237407423,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:2:11]","description":"creates an error when importing a file with a contact that cannot be found","full_description":"Expenses Import mileage expenses creates an error when importing a file with a contact that cannot be found","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":475,"run_time":0.223515327,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:2:12]","description":"creates an error when importing a file with a project that cannot be found","full_description":"Expenses Import mileage expenses creates an error when importing a file with a project that cannot be found","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":479,"run_time":0.217919104,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:2:13]","description":"creates an error when importing a file with a car vehicle_type and no engine_type","full_description":"Expenses Import mileage expenses creates an error when importing a file with a car vehicle_type and no engine_type","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":483,"run_time":0.289291469,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:2:14]","description":"creates an error when importing a file with a car vehicle_type and no engine_size","full_description":"Expenses Import mileage expenses creates an error when importing a file with a car vehicle_type and no engine_size","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":489,"run_time":0.277378578,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:2:15]","description":"creates an error when importing a CSV file without some of the required headers","full_description":"Expenses Import mileage expenses creates an error when importing a CSV file without some of the required headers","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":495,"run_time":0.233017747,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:2:16]","description":"creates an error when importing a CSV file without any of the required headers","full_description":"Expenses Import mileage expenses creates an error when importing a CSV file without any of the required headers","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":499,"run_time":0.242628343,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:2:17]","description":"creates an error when importing a non-CSV file with CSV extension","full_description":"Expenses Import mileage expenses creates an error when importing a non-CSV file with CSV extension","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":503,"run_time":0.182618661,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:2:18]","description":"creates an error when importing a non-CSV file","full_description":"Expenses Import mileage expenses creates an error when importing a non-CSV file","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":507,"run_time":0.19279605,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:2:6:1]","description":"is expected to not import successfully \"There was a problem loading your expenses. There is a problem with line 2. Expense date is not a valid date.\"","full_description":"Expenses Import mileage expenses when importing a file with a date before 1990 is expected to not import successfully \"There was a problem loading your expenses. There is a problem with line 2. Expense date is not a valid date.\"","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":450,"run_time":0.245340409,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:2:7:1]","description":"is expected to not import successfully \"There was a problem loading your expenses. There is a problem with line 2. Expense date is not a valid date.\"","full_description":"Expenses Import mileage expenses when importing a file with a date before 1970 is expected to not import successfully \"There was a problem loading your expenses. There is a problem with line 2. Expense date is not a valid date.\"","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":456,"run_time":0.202893417,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:2:19:1]","description":"allows them to import for themselves","full_description":"Expenses Import mileage expenses for users less than level 7 allows them to import for themselves","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":515,"run_time":0.395290818,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:2:19:2]","description":"creates an error when they try to import for another user","full_description":"Expenses Import mileage expenses for users less than level 7 creates an error when they try to import for another user","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":523,"run_time":0.227591426,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:2:20:1]","description":"deletes imported mileage when called","full_description":"Expenses Import mileage expenses #undo_all deletes imported mileage when called","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":532,"run_time":1.374643777,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:2:20:2]","description":"only deletes the specified transactions","full_description":"Expenses Import mileage expenses #undo_all only deletes the specified transactions","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":541,"run_time":1.653027649,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses_spec.rb[1:2:20:3]","description":"does not delete locked transactions","full_description":"Expenses Import mileage expenses #undo_all does not delete locked transactions","status":"passed","file_path":"./spec/models/expenses_spec.rb","line_number":552,"run_time":1.175863159,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:1:1:1]","description":"responds with an array of estimates","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level with 3 estimates with 2 estimate items each with no nested estimate items responds with an array of estimates","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":115,"run_time":0.397035027,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:1:2:1]","description":"contains estimate_items fields","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level with 3 estimates with 2 estimate items each with nested_estimate_items=true contains estimate_items fields","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":142,"run_time":0.272652668,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:2:1:1]","description":"responds with an array of estimates","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level pagination with less entries then the default items per page responds with an array of estimates","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":160,"run_time":0.14844535,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:2:2:1:1]","description":"responds with an array of estimates","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level pagination with more entries then the default items per page on the first page responds with an array of estimates","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":177,"run_time":0.16975297,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:2:2:2:1]","description":"responds with an array of estimates","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level pagination with more entries then the default items per page on the last page responds with an array of estimates","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":191,"run_time":0.184133943,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:3:1:1:1:1]","description":"responds with an array of estimates","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level filter by view valid filter all responds with an array of estimates","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":232,"run_time":0.956107316,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:3:1:1:2:1]","description":"responds with an array of estimates","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level filter by view valid filter draft responds with an array of estimates","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":250,"run_time":0.860038237,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:3:1:1:3:1]","description":"responds with an array of estimates","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level filter by view valid filter non_draft responds with an array of estimates","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":268,"run_time":0.822955869,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:3:1:1:4:1]","description":"responds with an array of estimates","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level filter by view valid filter sent responds with an array of estimates","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":286,"run_time":0.858113735,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:3:1:1:5:1]","description":"responds with an array of estimates","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level filter by view valid filter approved responds with an array of estimates","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":304,"run_time":0.918820295,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:3:1:1:6:1]","description":"responds with an array of estimates","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level filter by view valid filter rejected responds with an array of estimates","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":322,"run_time":0.9011011,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:3:1:1:7:1]","description":"responds with an array of estimates","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level filter by view valid filter invoiced responds with an array of estimates","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":340,"run_time":0.892670878,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:3:1:2:1]","description":"is expected to respond with status code :bad_request (400)","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level filter by view invalid filter is expected to respond with status code :bad_request (400)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":357,"run_time":0.121401902,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:3:2:1:1:1]","description":"responds with an array of estimates","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level filter by date valid date from_date responds with an array of estimates","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":375,"run_time":0.440233072,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:3:2:1:2:1]","description":"responds with an array of estimates","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level filter by date valid date to_date responds with an array of estimates","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":387,"run_time":0.404057948,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:3:2:1:3:1]","description":"responds with an array of estimates","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level filter by date valid date from_date_to_date responds with an array of estimates","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":399,"run_time":0.439169494,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:3:2:1:4:1]","description":"responds with an array of estimates","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level filter by date valid date updated_since responds with an array of estimates","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":411,"run_time":0.432859073,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:3:2:2:1]","description":"is expected to respond with status code :bad_request (400)","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level filter by date invalid date is expected to respond with status code :bad_request (400)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":424,"run_time":0.122870739,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:1:4:1]","description":"sorts correctly","full_description":"Api::EstimateIntegration GET /estimates with the right permission_level with a :sort parameter sorts correctly","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":441,"run_time":0.534275434,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:1:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::EstimateIntegration GET /estimates without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":470,"run_time":0.112301314,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:2:1:1:1:1]","description":"responds with the standard estimate fields","full_description":"Api::EstimateIntegration GET /estimates/estimate_id with the right permission_level with valid estimate_id with no estimate_items responds with the standard estimate fields","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":483,"run_time":0.150582706,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:2:1:1:2:1]","description":"appends an array of estimate_items","full_description":"Api::EstimateIntegration GET /estimates/estimate_id with the right permission_level with valid estimate_id with 3 estimate_items appends an array of estimate_items","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":500,"run_time":0.22297355,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:2:1:1:3:1]","description":"is marked as moss","full_description":"Api::EstimateIntegration GET /estimates/estimate_id with the right permission_level with valid estimate_id for a MOSS estimate is marked as moss","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":522,"run_time":0.157927038,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:2:1:1:4:1]","description":"translates the sales tax status attributes into the API format","full_description":"Api::EstimateIntegration GET /estimates/estimate_id with the right permission_level with valid estimate_id sales tax status translates the sales tax status attributes into the API format","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":548,"run_time":0.185532832,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:2:1:2:1]","description":"is expected to respond with a missing status code (404)","full_description":"Api::EstimateIntegration GET /estimates/estimate_id with the right permission_level with invalid estimate_id is expected to respond with a missing status code (404)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":560,"run_time":0.103691876,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:2:2:1:1]","description":"responds with estimates only for the specified contact","full_description":"Api::EstimateIntegration GET /estimates/estimate_id for a company with estimates by two different contacts when filtering by the first contact responds with estimates only for the specified contact","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":577,"run_time":0.312707702,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:2:2:2:1]","description":"responds with estimates only for the specified contact","full_description":"Api::EstimateIntegration GET /estimates/estimate_id for a company with estimates by two different contacts when filtering by the second contact responds with estimates only for the specified contact","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":589,"run_time":0.438043092,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:2:3:1:1]","description":"responds with estimates only for the specified project","full_description":"Api::EstimateIntegration GET /estimates/estimate_id for a company with estimates on two different projects when filtering by the first project responds with estimates only for the specified project","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":611,"run_time":0.878679424,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:2:3:2:1]","description":"responds with estimates only for the specified project","full_description":"Api::EstimateIntegration GET /estimates/estimate_id for a company with estimates on two different projects when filtering by the second project responds with estimates only for the specified project","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":623,"run_time":0.36679992,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:2:4:1:1]","description":"responds with estimates only for the specified invoice","full_description":"Api::EstimateIntegration GET /estimates/estimate_id for a company with estimates on two different invoices when filtering by the first invoice responds with estimates only for the specified invoice","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":645,"run_time":0.240300332,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:2:4:2:1]","description":"responds with estimates only for the specified invoice","full_description":"Api::EstimateIntegration GET /estimates/estimate_id for a company with estimates on two different invoices when filtering by the second invoice responds with estimates only for the specified invoice","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":657,"run_time":0.244386916,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:2:5:1:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::EstimateIntegration GET /estimates/estimate_id without the right permission_level with valid estimate_id is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":672,"run_time":0.104202787,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:3:1]","description":"returns base64 encoded PDF data with correct permissions","full_description":"Api::EstimateIntegration GET /estimates/estimate_id/pdf returns base64 encoded PDF data with correct permissions","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":685,"run_time":0.262711605,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:3:2]","description":"doesn't allow access without the right permission_level","full_description":"Api::EstimateIntegration GET /estimates/estimate_id/pdf doesn't allow access without the right permission_level","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":696,"run_time":0.122584161,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:4:1:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::EstimateIntegration GET /estimates/:id/email_template without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":709,"run_time":0.120371569,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:4:2:1]","description":"returns the correct estimate data","full_description":"Api::EstimateIntegration GET /estimates/:id/email_template with a default new estimate template returns the correct estimate data","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":735,"run_time":0.205167908,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:4:3:1]","description":"returns the correct estimate data","full_description":"Api::EstimateIntegration GET /estimates/:id/email_template without a default new estimate template returns the correct estimate data","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":752,"run_time":0.138148628,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:2]","description":"with estimate item with a stock list item","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with estimate item with a stock list item","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1215,"run_time":0.193582192,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:1:1]","description":"uses the company's selected estimate theme","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with the company's default estimate theme set to something other than the last theme uses the company's selected estimate theme","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":784,"run_time":0.293959726,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:2:1]","description":"creates a new estimate using the fallback default theme instead of the custom theme","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes when the company's default theme selection is the custom theme and the theme_customisation_circuit_breaker is broken creates a new estimate using the fallback default theme instead of the custom theme","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":801,"run_time":0.12690187,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:3:1]","description":"has created a estimate record for the current company and creates an audit entry","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with no estimate_items has created a estimate record for the current company and creates an audit entry","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":813,"run_time":0.156750284,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:4:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with contact on another company is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":842,"run_time":0.217882784,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:1:1:1]","description":"creates an estimate with the correct ec_status","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to Non-EC (value as \"Non-EC\") creates an estimate with the correct ec_status","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":847,"run_time":0.144845148,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:1:2:1]","description":"creates an estimate with the correct ec_status","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to Non-EC (value as \"0\") creates an estimate with the correct ec_status","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":847,"run_time":0.157024488,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:2:1:1:1]","description":"creates an estimate with the correct ec_status","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to EC Services (value as \"EC Services\") when the company is in the EU on the record date creates an estimate with the correct ec_status","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":847,"run_time":0.166113673,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:2:1:2:1:1]","description":"creates an estimate with the correct ec_status","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to EC Services (value as \"EC Services\") when the company is not in the EU on the record date when the company has a NI postcode creates an estimate with the correct ec_status","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":847,"run_time":0.161545526,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:2:1:2:2:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to EC Services (value as \"EC Services\") when the company is not in the EU on the record date when the company does not have a NI postcode is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":912,"run_time":0.136025892,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:2:2:1:1]","description":"creates an estimate with the correct ec_status","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to EC Services (value as \"1\") when the company is in the EU on the record date creates an estimate with the correct ec_status","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":847,"run_time":0.152754099,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:2:2:2:1:1]","description":"creates an estimate with the correct ec_status","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to EC Services (value as \"1\") when the company is not in the EU on the record date when the company has a NI postcode creates an estimate with the correct ec_status","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":847,"run_time":0.156953471,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:2:2:2:2:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to EC Services (value as \"1\") when the company is not in the EU on the record date when the company does not have a NI postcode is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":912,"run_time":0.126890495,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:3:1:1]","description":"creates an estimate with the correct ec_status","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to EC Goods (value as \"EC Goods\") creates an estimate with the correct ec_status","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":847,"run_time":0.167523827,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:3:2:1]","description":"creates an estimate with the correct ec_status","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to EC Goods (value as \"2\") creates an estimate with the correct ec_status","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":847,"run_time":0.216886345,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:4:1:1:1:1]","description":"creates an estimate with the correct ec_status","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to EC VAT MOSS (value as \"EC VAT MOSS\") invoice dated inside EU membership with a place of supply creates an estimate with the correct ec_status","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":953,"run_time":0.165789999,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:4:1:1:2:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to EC VAT MOSS (value as \"EC VAT MOSS\") invoice dated inside EU membership without a place of supply is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":967,"run_time":0.122441176,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:4:1:2:1:1]","description":"creates an estimate with the correct ec_status","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to EC VAT MOSS (value as \"EC VAT MOSS\") invoice dated outside EU membership with a place of supply creates an estimate with the correct ec_status","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":978,"run_time":0.162307003,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:4:1:2:2:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to EC VAT MOSS (value as \"EC VAT MOSS\") invoice dated outside EU membership without a place of supply is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":992,"run_time":0.12085644,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:4:2:1:1:1]","description":"creates an estimate with the correct ec_status","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to EC VAT MOSS (value as \"3\") invoice dated inside EU membership with a place of supply creates an estimate with the correct ec_status","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":953,"run_time":0.15490665,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:4:2:1:2:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to EC VAT MOSS (value as \"3\") invoice dated inside EU membership without a place of supply is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":967,"run_time":0.151476617,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:4:2:2:1:1]","description":"creates an estimate with the correct ec_status","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to EC VAT MOSS (value as \"3\") invoice dated outside EU membership with a place of supply creates an estimate with the correct ec_status","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":978,"run_time":0.150664454,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:4:2:2:2:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to EC VAT MOSS (value as \"3\") invoice dated outside EU membership without a place of supply is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":992,"run_time":0.125870819,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:5:1:1:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to Reverse Charge (value as \"Reverse Charge\") when the company is in the EU on the record date is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1012,"run_time":0.151034141,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:5:1:2:1:1]","description":"creates an estimate with the correct ec_status","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to Reverse Charge (value as \"Reverse Charge\") when the company is not in the EU on the record date when the company has a NI postcode creates an estimate with the correct ec_status","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":847,"run_time":0.163509441,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:5:1:2:2:1]","description":"creates an estimate with the correct ec_status","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to Reverse Charge (value as \"Reverse Charge\") when the company is not in the EU on the record date when the company does not have a NI postcode creates an estimate with the correct ec_status","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":847,"run_time":0.15068639,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:5:2:1:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to Reverse Charge (value as \"4\") when the company is in the EU on the record date is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1012,"run_time":0.141727951,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:5:2:2:1:1]","description":"creates an estimate with the correct ec_status","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to Reverse Charge (value as \"4\") when the company is not in the EU on the record date when the company has a NI postcode creates an estimate with the correct ec_status","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":847,"run_time":0.172464263,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:5:2:2:2:1]","description":"creates an estimate with the correct ec_status","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to Reverse Charge (value as \"4\") when the company is not in the EU on the record date when the company does not have a NI postcode creates an estimate with the correct ec_status","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":847,"run_time":0.156692019,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:5:6:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with ec_status set to an invalid value is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1043,"run_time":0.133195357,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:6:1]","description":"has created a estimate record for the current company","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with 3 estimate_items has created a estimate record for the current company","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1059,"run_time":0.194153996,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:7:1]","description":"has created a the estimate items in the correct order","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with 3 estimate_items with named positions has created a the estimate items in the correct order","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1101,"run_time":0.149627841,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:8:1]","description":"has created a estimate record for the current company","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with 3 estimate_items to different category has created a estimate record for the current company","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1130,"run_time":0.200967806,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:9:1]","description":"should create the estimate","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with a nil category should create the estimate","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1180,"run_time":0.169471421,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:1:10:1]","description":"sets the sales tax rate of the nested estimate item","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with valid attributes with estimate items with a sales tax status specified sets the sales tax rate of the nested estimate item","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1204,"run_time":0.162866816,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:3:1:1:1]","description":"has the same number of estimates after posting attempt","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with invalid attributes estimate dated_on has the same number of estimates after posting attempt","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1244,"run_time":0.11397278,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:1:3:2:1:1]","description":"has the same number of estimates after posting attempt","full_description":"Api::EstimateIntegration POST /estimates with the right permission_level with invalid attributes estimate_item price has the same number of estimates after posting attempt","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1264,"run_time":0.132643608,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:5:2:1:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::EstimateIntegration POST /estimates without the right permission_level with valid attributes is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1280,"run_time":0.119220842,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:6:1]","description":"should duplicate the correct estimate properties","full_description":"Api::EstimateIntegration POST /estimates/:id/duplicate should duplicate the correct estimate properties","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1296,"run_time":0.205500509,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:7:3]","description":"without the right permission_level","full_description":"Api::EstimateIntegration POST /estimates/build without the right permission_level","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1359,"run_time":0.104939167,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:7:1:1]","description":"returns default attributes for a new estimate","full_description":"Api::EstimateIntegration POST /estimates/build with no attributes returns default attributes for a new estimate","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1318,"run_time":0.129093359,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:7:2:1]","description":"returns default and custom attributes for a new estimate","full_description":"Api::EstimateIntegration POST /estimates/build with custom attributes returns default and custom attributes for a new estimate","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1344,"run_time":0.14710463,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:8:1:1:1:1:1]","description":"does not have an additional estimate after one has been updated and creates an audit entry","full_description":"Api::EstimateIntegration PUT /estimates/estimate_id with the right permission_level with valid estimate_id with valid attributes estimate does not have an additional estimate after one has been updated and creates an audit entry","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1384,"run_time":0.218646853,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:8:1:1:1:2:1:1]","description":"have an additional estimate_item after one has been 'posted' and creates an audit entry","full_description":"Api::EstimateIntegration PUT /estimates/estimate_id with the right permission_level with valid estimate_id with valid attributes estimate_items POST estimate_item_id have an additional estimate_item after one has been 'posted' and creates an audit entry","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1414,"run_time":0.240786762,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:8:1:1:1:2:2:1]","description":"updates the estimate item fields","full_description":"Api::EstimateIntegration PUT /estimates/estimate_id with the right permission_level with valid estimate_id with valid attributes estimate_items PUT estimate_item_id updates the estimate item fields","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1434,"run_time":0.194681496,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:8:1:1:1:2:2:2]","description":"updates estimate item sales tax statuses and creates an audit entry","full_description":"Api::EstimateIntegration PUT /estimates/estimate_id with the right permission_level with valid estimate_id with valid attributes estimate_items PUT estimate_item_id updates estimate item sales tax statuses and creates an audit entry","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1448,"run_time":0.22040116,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:8:1:1:1:2:3:1]","description":"deletes the estimate item","full_description":"Api::EstimateIntegration PUT /estimates/estimate_id with the right permission_level with valid estimate_id with valid attributes estimate_items DELETE estimate_item_id deletes the estimate item","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1483,"run_time":0.19598372,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:8:1:1:1:3:1]","description":"removes the project from the estimate","full_description":"Api::EstimateIntegration PUT /estimates/estimate_id with the right permission_level with valid estimate_id with valid attributes removing the project removes the project from the estimate","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1500,"run_time":0.175159036,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:8:1:1:2:1:1]","description":"has the same number of estimates after posting attempt","full_description":"Api::EstimateIntegration PUT /estimates/estimate_id with the right permission_level with valid estimate_id with invalid attributes dated_on has the same number of estimates after posting attempt","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1515,"run_time":0.154633471,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:8:1:2:1]","description":"is expected to respond with a not_found status code (404)","full_description":"Api::EstimateIntegration PUT /estimates/estimate_id with the right permission_level with invalid estimate_id is expected to respond with a not_found status code (404)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1529,"run_time":0.120809221,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:8:2:1:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::EstimateIntegration PUT /estimates/estimate_id without the right permission_level with valid estimate_id is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1540,"run_time":0.131839391,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:9:1:1:1:1]","description":"has one less estimate after deletion and creates an audit entry","full_description":"Api::EstimateIntegration DELETE /estimates/estimate_id with the right permission_level with valid estimate_id deleteable (not sent) has one less estimate after deletion and creates an audit entry","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1562,"run_time":0.145282794,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:9:1:1:2:1]","description":"has the same number of estimates after deletion attempt","full_description":"Api::EstimateIntegration DELETE /estimates/estimate_id with the right permission_level with valid estimate_id not deleteable (sent) has the same number of estimates after deletion attempt","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1588,"run_time":0.131976249,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:9:1:2:1]","description":"is expected to respond with a not_found status code (404)","full_description":"Api::EstimateIntegration DELETE /estimates/estimate_id with the right permission_level with invalid estimate_id is expected to respond with a not_found status code (404)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1601,"run_time":0.1117849,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:9:2:1:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::EstimateIntegration DELETE /estimates/estimate_id without the right permission_level with valid estimate_id is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1612,"run_time":0.128428359,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:10:1:1:1:1]","description":"creates an audit entry","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/mark_as_draft with the right permission_level with valid estimate_id allowed transition creates an audit entry","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1629,"run_time":0.178718592,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:10:1:1:2:1]","description":"does not create an audit entry","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/mark_as_draft with the right permission_level with valid estimate_id prohibited transition does not create an audit entry","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1653,"run_time":0.288376543,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:10:1:2:1]","description":"is expected to respond with a missing status code (404)","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/mark_as_draft with the right permission_level with invalid estimate_id is expected to respond with a missing status code (404)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1665,"run_time":0.11734263,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:10:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/mark_as_draft without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1675,"run_time":0.128080228,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:11:1:1:1:1]","description":"creates an audit entry","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/mark_as_sent with the right permission_level with valid estimate_id allowed transition creates an audit entry","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1691,"run_time":0.188551802,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:11:1:1:2:1]","description":"does not create an audit entry and returns an error about the lack of line items","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/mark_as_sent with the right permission_level with valid estimate_id prohibited transition due to lack of line items does not create an audit entry and returns an error about the lack of line items","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1715,"run_time":0.130807852,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:11:1:2:1]","description":"is expected to respond with a missing status code (404)","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/mark_as_sent with the right permission_level with invalid estimate_id is expected to respond with a missing status code (404)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1729,"run_time":0.108041199,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:11:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/mark_as_sent without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1739,"run_time":0.135342114,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:12:1:1:1:1]","description":"creates an audit entry","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/mark_as_approved with the right permission_level with valid estimate_id allowed transition creates an audit entry","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1755,"run_time":0.19547705,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:12:1:1:2:1]","description":"does not create an audit entry","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/mark_as_approved with the right permission_level with valid estimate_id prohibited transition does not create an audit entry","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1779,"run_time":0.132308891,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:12:1:2:1]","description":"is expected to respond with a missing status code (404)","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/mark_as_approved with the right permission_level with invalid estimate_id is expected to respond with a missing status code (404)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1791,"run_time":0.119261792,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:12:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/mark_as_approved without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1801,"run_time":0.123526214,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:13:1:1:1:1]","description":"creates an audit entry","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/mark_as_rejected with the right permission_level with valid estimate_id allowed transition creates an audit entry","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1817,"run_time":0.163273777,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:13:1:1:2:1]","description":"does not create an audit entry","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/mark_as_rejected with the right permission_level with valid estimate_id prohibited transition does not create an audit entry","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1841,"run_time":0.13999827,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:13:1:2:1]","description":"is expected to respond with a missing status code (404)","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/mark_as_rejected with the right permission_level with invalid estimate_id is expected to respond with a missing status code (404)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1853,"run_time":0.145083959,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:13:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/mark_as_rejected without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1863,"run_time":0.15799911,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:14:3]","description":"should not be allowed for a draft estimate","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/convert_to_invoice should not be allowed for a draft estimate","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1929,"run_time":0.163039338,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:14:4]","description":"should not be allowed for an already invoiced estimate","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/convert_to_invoice should not be allowed for an already invoiced estimate","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1937,"run_time":0.314315498,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:14:1:1]","description":"should update the estimate status and creates an audit entry","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/convert_to_invoice for a sent invoice should update the estimate status and creates an audit entry","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1875,"run_time":0.333150205,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:14:1:2]","description":"publishes an INVOICE_CREATED event","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/convert_to_invoice for a sent invoice publishes an INVOICE_CREATED event","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1905,"run_time":0.286312386,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:14:2:1]","description":"should return an error message","full_description":"Api::EstimateIntegration PUT /estimates/:id/transitions/convert_to_invoice unsuccessful conversion should return an error message","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1921,"run_time":0.139536581,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:15:1]","description":"is always provided in the api response","full_description":"Api::EstimateIntegration the option to exclude sales tax is always provided in the api response","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1961,"run_time":0.147964492,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:15:2]","description":"defaults to including sales tax when the option is not specified","full_description":"Api::EstimateIntegration the option to exclude sales tax defaults to including sales tax when the option is not specified","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1969,"run_time":0.139888468,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:15:3]","description":"correctly sets the attribute to exclude sales tax from totals when specified in the params","full_description":"Api::EstimateIntegration the option to exclude sales tax correctly sets the attribute to exclude sales tax from totals when specified in the params","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1977,"run_time":0.143401106,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:15:4]","description":"can be updated via a PUT request","full_description":"Api::EstimateIntegration the option to exclude sales tax can be updated via a PUT request","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1987,"run_time":0.158106578,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/estimate_integration_spec.rb[1:15:5]","description":"cannot be updated once it is sent","full_description":"Api::EstimateIntegration the option to exclude sales tax cannot be updated once it is sent","status":"passed","file_path":"./spec/requests/api/estimate_integration_spec.rb","line_number":1999,"run_time":0.144920991,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting/ir35/report_for_frs_vat_registered_foreign_currency_transactions.feature[1:1:1]","description":"Given the current date is 2016-04-06 -\u003e And a UK Limited Company which was started on 2015-01-01 -\u003e And the company is VAT registered from 2015-01-01 -\u003e And the company is Cash accounting for VAT, on the \"Accountancy or Bookkeeping\" flat rate scheme -\u003e And they have GBP bank account -\u003e And they have EUR bank account -\u003e And they have USD bank account -\u003e And they are viewing the IR35 report for the 2015/16 tax year -\u003e And the company is not eligible for employment allowance -\u003e Given an IR35 project -\u003e And an IR35 project in USD -\u003e And exchange rates of -\u003e And a related unbilled Expense for €200.00 inc 20% VAT on 2015-04-20 -\u003e And a related unbilled Expense for €200.00 inc 20% VAT on 2015-05-20 -\u003e And a related unbilled Expense for €200.00 inc 20% VAT on 2015-06-20 -\u003e And a related unbilled Expense for €200.00 inc 20% VAT on 2015-07-20 -\u003e And a related unbilled Expense for €200.00 inc 20% VAT on 2015-08-20 -\u003e And a related unbilled Bank Payment for $200.00 inc 20% VAT on 2015-09-20 -\u003e And a related unbilled Bank Payment for $200.00 inc 20% VAT on 2015-10-20 -\u003e And a related unbilled Bank Payment for $200.00 inc 20% VAT on 2015-11-20 -\u003e And a related unbilled Bank Payment for $200.00 inc 20% VAT on 2015-12-20 -\u003e And a related unbilled Bank Payment for $200.00 inc 20% VAT on 2016-01-20 -\u003e And a related unbilled Bank Payment for $200.00 inc 20% VAT on 2016-02-20 -\u003e And a related unbilled Bank Payment for $200.00 inc 20% VAT on 2016-03-20 -\u003e And a related Invoice Payment for $10000.00 + 20% VAT on 2015-04-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2015-05-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2015-06-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2015-07-25 -\u003e And a related Invoice Payment for £5000.00 + 0% VAT on 2015-08-25 -\u003e And a related Invoice Payment for £5000.00 + 0% VAT on 2015-09-25 -\u003e And a related Invoice Payment for £5000.00 + 0% VAT on 2015-10-25 -\u003e And a related Invoice Payment for £5000.00 + 0% VAT on 2015-11-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2015-12-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2016-01-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2016-02-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2016-03-25 -\u003e And the director is over 21 years old -\u003e And the director uses the normal Director method for calculating NI -\u003e And the director gets paid £6440.67 on 2015-05-06 -\u003e And the director gets paid £4418.11 on 2015-06-06 -\u003e And the director gets paid £4215.44 on 2015-07-06 -\u003e And the director gets paid £4215.44 on 2015-08-06 -\u003e And the director gets paid £3493.34 on 2015-09-06 -\u003e And the director gets paid £3493.34 on 2015-10-06 -\u003e And the director gets paid £3493.34 on 2015-11-06 -\u003e And the director gets paid £3493.34 on 2015-12-06 -\u003e And the director gets paid £4215.44 on 2016-01-06 -\u003e And the director gets paid £4165.35 on 2016-02-06 -\u003e And the director gets paid £4165.35 on 2016-03-06 -\u003e When viewing the IR35 Report -\u003e Then the deemed payments should be","full_description":"IR35 Reports for FRS VAT registered Company FRS VAT Registered company on 14.5% with foreign transactions and some transactions are within the 1st year and therefore 1% discount applies Given the current date is 2016-04-06 -\u003e And a UK Limited Company which was started on 2015-01-01 -\u003e And the company is VAT registered from 2015-01-01 -\u003e And the company is Cash accounting for VAT, on the \"Accountancy or Bookkeeping\" flat rate scheme -\u003e And they have GBP bank account -\u003e And they have EUR bank account -\u003e And they have USD bank account -\u003e And they are viewing the IR35 report for the 2015/16 tax year -\u003e And the company is not eligible for employment allowance -\u003e Given an IR35 project -\u003e And an IR35 project in USD -\u003e And exchange rates of -\u003e And a related unbilled Expense for €200.00 inc 20% VAT on 2015-04-20 -\u003e And a related unbilled Expense for €200.00 inc 20% VAT on 2015-05-20 -\u003e And a related unbilled Expense for €200.00 inc 20% VAT on 2015-06-20 -\u003e And a related unbilled Expense for €200.00 inc 20% VAT on 2015-07-20 -\u003e And a related unbilled Expense for €200.00 inc 20% VAT on 2015-08-20 -\u003e And a related unbilled Bank Payment for $200.00 inc 20% VAT on 2015-09-20 -\u003e And a related unbilled Bank Payment for $200.00 inc 20% VAT on 2015-10-20 -\u003e And a related unbilled Bank Payment for $200.00 inc 20% VAT on 2015-11-20 -\u003e And a related unbilled Bank Payment for $200.00 inc 20% VAT on 2015-12-20 -\u003e And a related unbilled Bank Payment for $200.00 inc 20% VAT on 2016-01-20 -\u003e And a related unbilled Bank Payment for $200.00 inc 20% VAT on 2016-02-20 -\u003e And a related unbilled Bank Payment for $200.00 inc 20% VAT on 2016-03-20 -\u003e And a related Invoice Payment for $10000.00 + 20% VAT on 2015-04-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2015-05-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2015-06-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2015-07-25 -\u003e And a related Invoice Payment for £5000.00 + 0% VAT on 2015-08-25 -\u003e And a related Invoice Payment for £5000.00 + 0% VAT on 2015-09-25 -\u003e And a related Invoice Payment for £5000.00 + 0% VAT on 2015-10-25 -\u003e And a related Invoice Payment for £5000.00 + 0% VAT on 2015-11-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2015-12-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2016-01-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2016-02-25 -\u003e And a related Invoice Payment for £5000.00 + 20% VAT on 2016-03-25 -\u003e And the director is over 21 years old -\u003e And the director uses the normal Director method for calculating NI -\u003e And the director gets paid £6440.67 on 2015-05-06 -\u003e And the director gets paid £4418.11 on 2015-06-06 -\u003e And the director gets paid £4215.44 on 2015-07-06 -\u003e And the director gets paid £4215.44 on 2015-08-06 -\u003e And the director gets paid £3493.34 on 2015-09-06 -\u003e And the director gets paid £3493.34 on 2015-10-06 -\u003e And the director gets paid £3493.34 on 2015-11-06 -\u003e And the director gets paid £3493.34 on 2015-12-06 -\u003e And the director gets paid £4215.44 on 2016-01-06 -\u003e And the director gets paid £4165.35 on 2016-02-06 -\u003e And the director gets paid £4165.35 on 2016-03-06 -\u003e When viewing the IR35 Report -\u003e Then the deemed payments should be","status":"passed","file_path":"./spec/acceptance/accounting/ir35/report_for_frs_vat_registered_foreign_currency_transactions.feature","line_number":17,"run_time":12.201158106,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:1:1]","description":"creates a linked entry in the other account","full_description":"BankTransfer a bank transfer between base currency accounts creates a linked entry in the other account","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":15,"run_time":0.257233329,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:1:2]","description":"removes the linked entry when deleted","full_description":"BankTransfer a bank transfer between base currency accounts removes the linked entry when deleted","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":25,"run_time":0.361818044,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:1:3]","description":"updates the linked transfer when updated","full_description":"BankTransfer a bank transfer between base currency accounts updates the linked transfer when updated","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":30,"run_time":0.419006502,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:1:4]","description":"is not a foreign currency transfer","full_description":"BankTransfer a bank transfer between base currency accounts is not a foreign currency transfer","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":41,"run_time":0.260621784,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:1:5]","description":"ignores any specified transfer value","full_description":"BankTransfer a bank transfer between base currency accounts ignores any specified transfer value","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":46,"run_time":0.438929764,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:1:6]","description":"prevents changing the entry type","full_description":"BankTransfer a bank transfer between base currency accounts prevents changing the entry type","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":51,"run_time":0.257762175,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:1:7]","description":"does not allow zero value transfers","full_description":"BankTransfer a bank transfer between base currency accounts does not allow zero value transfers","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":56,"run_time":0.249559617,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:1:8]","description":"does not allow zero value transfers with a transfer value","full_description":"BankTransfer a bank transfer between base currency accounts does not allow zero value transfers with a transfer value","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":60,"run_time":0.257358394,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:1:9]","description":"adds an audit entry for the linked entry creation","full_description":"BankTransfer a bank transfer between base currency accounts adds an audit entry for the linked entry creation","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":66,"run_time":0.4608393,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:1:10]","description":"publishes a bank transaction created event","full_description":"BankTransfer a bank transfer between base currency accounts publishes a bank transaction created event","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":81,"run_time":0.220548123,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:1:11]","description":"publishes a bank transaction explanation created event","full_description":"BankTransfer a bank transfer between base currency accounts publishes a bank transaction explanation created event","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":93,"run_time":0.213871951,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:1:12]","description":"adds an audit entry for linked entry when deleted","full_description":"BankTransfer a bank transfer between base currency accounts adds an audit entry for linked entry when deleted","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":106,"run_time":0.318966602,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:1:13]","description":"adds an audit entry for linked entry when updated","full_description":"BankTransfer a bank transfer between base currency accounts adds an audit entry for linked entry when updated","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":121,"run_time":0.40758598,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:1]","description":"is a foreign currency transfer","full_description":"BankTransfer a bank transfer between accounts of different currencies is a foreign currency transfer","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":152,"run_time":0.275718178,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:2]","description":"transfer value is not a number","full_description":"BankTransfer a bank transfer between accounts of different currencies transfer value is not a number","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":158,"run_time":0.085070997,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:3]","description":"creates a linked entry in the other account","full_description":"BankTransfer a bank transfer between accounts of different currencies creates a linked entry in the other account","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":171,"run_time":0.26306078,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:4]","description":"has the same native value","full_description":"BankTransfer a bank transfer between accounts of different currencies has the same native value","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":183,"run_time":0.246674011,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:5]","description":"uses transfer_value to create the linked transfer in if provided","full_description":"BankTransfer a bank transfer between accounts of different currencies uses transfer_value to create the linked transfer in if provided","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":192,"run_time":0.291753574,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:6]","description":"uses transfer_value to create the linked transfer out if provided","full_description":"BankTransfer a bank transfer between accounts of different currencies uses transfer_value to create the linked transfer out if provided","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":201,"run_time":0.301490657,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:7]","description":"matches transactions with values which are ±5% of the sent value","full_description":"BankTransfer a bank transfer between accounts of different currencies matches transactions with values which are ±5% of the sent value","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":211,"run_time":0.298264477,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:8]","description":"matches transactions with values which are ±5% of the transfer_value if provided","full_description":"BankTransfer a bank transfer between accounts of different currencies matches transactions with values which are ±5% of the transfer_value if provided","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":228,"run_time":0.320897503,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:9]","description":"does not match transactions with values which are outside of +5%/-10% of the sent value","full_description":"BankTransfer a bank transfer between accounts of different currencies does not match transactions with values which are outside of +5%/-10% of the sent value","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":245,"run_time":0.267474608,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:10]","description":"does not update the value of the linked transaction when updated, just the ledgers","full_description":"BankTransfer a bank transfer between accounts of different currencies does not update the value of the linked transaction when updated, just the ledgers","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":261,"run_time":0.323510254,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:11]","description":"updates the realized gain if the date of the transfer out changes","full_description":"BankTransfer a bank transfer between accounts of different currencies updates the realized gain if the date of the transfer out changes","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":274,"run_time":0.310688699,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:12]","description":"does not allow zero value transfers","full_description":"BankTransfer a bank transfer between accounts of different currencies does not allow zero value transfers","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":282,"run_time":0.089423695,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:13]","description":"allows zero value transfers with a transfer value","full_description":"BankTransfer a bank transfer between accounts of different currencies allows zero value transfers with a transfer value","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":286,"run_time":0.299341204,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:14]","description":"adds an audit entry for the linked entry creation","full_description":"BankTransfer a bank transfer between accounts of different currencies adds an audit entry for the linked entry creation","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":290,"run_time":0.26716233,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:15]","description":"adds an audit entry for linked entry when deleted","full_description":"BankTransfer a bank transfer between accounts of different currencies adds an audit entry for linked entry when deleted","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":305,"run_time":0.358779225,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:16]","description":"emits a bank transaction explanation deleted event for the linked entry when deleted","full_description":"BankTransfer a bank transfer between accounts of different currencies emits a bank transaction explanation deleted event for the linked entry when deleted","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":321,"run_time":0.368013892,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:17]","description":"does not add an audit entry for linked entry when updated","full_description":"BankTransfer a bank transfer between accounts of different currencies does not add an audit entry for linked entry when updated","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":335,"run_time":0.398024124,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:3:1]","description":"explains the existing transaction","full_description":"BankTransfer when there's a matching unexplained transaction in the destination account explains the existing transaction","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":357,"run_time":0.244623254,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:3:2]","description":"adds an audit entry for the existing transaction explanation","full_description":"BankTransfer when there's a matching unexplained transaction in the destination account adds an audit entry for the existing transaction explanation","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":366,"run_time":0.261924408,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:3:3]","description":"doesn't publish a bank transaction created event","full_description":"BankTransfer when there's a matching unexplained transaction in the destination account doesn't publish a bank transaction created event","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":381,"run_time":0.040728447,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:3:4]","description":"adds an audit entry for linked entry when deleted","full_description":"BankTransfer when there's a matching unexplained transaction in the destination account adds an audit entry for linked entry when deleted","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":385,"run_time":0.360829102,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:3:5]","description":"adds an audit entry for linked entry when updated","full_description":"BankTransfer when there's a matching unexplained transaction in the destination account adds an audit entry for linked entry when updated","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":404,"run_time":0.4392446,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:4:1]","description":"fails validation","full_description":"BankTransfer when attempting to link to another company's bank account fails validation","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":431,"run_time":0.196209095,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:4:2]","description":"fails validation when an existing link entry is specified","full_description":"BankTransfer when attempting to link to another company's bank account fails validation when an existing link entry is specified","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":441,"run_time":0.423419902,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:5:1]","description":"emits a bank transaction explanation updated event with the correct source","full_description":"BankTransfer when the linked transfer exists already and needs updating emits a bank transaction explanation updated event with the correct source","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":465,"run_time":0.519296266,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/balance_calculations.feature[1:1:1]","description":"Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has the following bank accounts: -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '100.00'","full_description":"Balance Calculations Calculate 1 new positive transaction Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has the following bank accounts: -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '100.00'","status":"passed","file_path":"./spec/acceptance/cashflow/balance_calculations.feature","line_number":14,"run_time":1.91807624,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/balance_calculations.feature[1:2:1]","description":"Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has the following bank accounts: -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '200.00'","full_description":"Balance Calculations Calculate 2 new positive transactions in the same account Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has the following bank accounts: -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '200.00'","status":"passed","file_path":"./spec/acceptance/cashflow/balance_calculations.feature","line_number":20,"run_time":1.228691425,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/balance_calculations.feature[1:3:1]","description":"Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has the following bank accounts: -\u003e Given it has the following bank accounts: -\u003e And the company has the following CashflowTest bank transactions: -\u003e And the company has the following CashflowTest2 bank transactions: -\u003e Then the balance in 90 days will be calculated as '200.00'","full_description":"Balance Calculations Calculate 2 new positive transactions in different accounts Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has the following bank accounts: -\u003e Given it has the following bank accounts: -\u003e And the company has the following CashflowTest bank transactions: -\u003e And the company has the following CashflowTest2 bank transactions: -\u003e Then the balance in 90 days will be calculated as '200.00'","status":"passed","file_path":"./spec/acceptance/cashflow/balance_calculations.feature","line_number":27,"run_time":1.52450658,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/balance_calculations.feature[1:4:1]","description":"Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has the following bank accounts: -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '50.00'","full_description":"Balance Calculations Calculate a positive and a negative transaction in the same account Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has the following bank accounts: -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '50.00'","status":"passed","file_path":"./spec/acceptance/cashflow/balance_calculations.feature","line_number":40,"run_time":1.32628531,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/balance_calculations.feature[1:5:1]","description":"Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has the following bank accounts: -\u003e Given it has the following bank accounts: -\u003e And the company has the following CashflowTest bank transactions: -\u003e And the company has the following CashflowTest2 bank transactions: -\u003e Then the balance in 90 days will be calculated as '50.00'","full_description":"Balance Calculations Calculate a positive and a negative transaction in different accounts Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has the following bank accounts: -\u003e Given it has the following bank accounts: -\u003e And the company has the following CashflowTest bank transactions: -\u003e And the company has the following CashflowTest2 bank transactions: -\u003e Then the balance in 90 days will be calculated as '50.00'","status":"passed","file_path":"./spec/acceptance/cashflow/balance_calculations.feature","line_number":47,"run_time":1.539355924,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/balance_calculations.feature[1:6:1]","description":"Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has the following bank accounts: -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '-50.00'","full_description":"Balance Calculations Calculate a negative transaction taking an account to below 0 Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has the following bank accounts: -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '-50.00'","status":"passed","file_path":"./spec/acceptance/cashflow/balance_calculations.feature","line_number":60,"run_time":1.184885078,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/balance_calculations.feature[1:7:1]","description":"Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has the following bank accounts: -\u003e Given it has the following bank accounts: -\u003e And the company has the following CashflowPersonalAccountTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '-20.00'","full_description":"Balance Calculations Calculate a balance with transactions in personal accounts Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has the following bank accounts: -\u003e Given it has the following bank accounts: -\u003e And the company has the following CashflowPersonalAccountTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '-20.00'","status":"passed","file_path":"./spec/acceptance/cashflow/balance_calculations.feature","line_number":67,"run_time":1.317026331,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/balance_calculations.feature[1:8:1]","description":"Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has the following bank accounts: -\u003e Given it has the following bank accounts: -\u003e And the company has the following CashflowForeignAccountTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '-13.11'","full_description":"Balance Calculations Calculate a balance with transactions in non-GBP accounts Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has the following bank accounts: -\u003e Given it has the following bank accounts: -\u003e And the company has the following CashflowForeignAccountTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '-13.11'","status":"passed","file_path":"./spec/acceptance/cashflow/balance_calculations.feature","line_number":77,"run_time":1.219502909,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/balance_calculations.feature[1:9:1]","description":"Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has the following bank accounts: -\u003e Given it has the following credit card bank accounts: -\u003e And the company has the following CashflowCreditCardTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '-20.00'","full_description":"Balance Calculations Calculate a balance with transactions in credit card accounts Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has the following bank accounts: -\u003e Given it has the following credit card bank accounts: -\u003e And the company has the following CashflowCreditCardTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '-20.00'","status":"passed","file_path":"./spec/acceptance/cashflow/balance_calculations.feature","line_number":87,"run_time":1.161791255,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/cashflow/balance_calculations.feature[1:10:1]","description":"Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has the following bank accounts: -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '100.00'","full_description":"Balance Calculations Calculate a balance with future transactions Given the current date is 2020-03-01 -\u003e And a UK Limited Company which was started on 2019-01-01 -\u003e And the company is VAT registered from 2019-01-01 -\u003e And it has the following bank accounts: -\u003e Given the company has the following CashflowTest bank transactions: -\u003e Then the balance in 90 days will be calculated as '100.00'","status":"passed","file_path":"./spec/acceptance/cashflow/balance_calculations.feature","line_number":96,"run_time":1.140093914,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb[1:1:8]","description":"handles Sidekiq exceptions","full_description":"OpenBanking::AccountProvisioningImportJob#perform handles Sidekiq exceptions","status":"passed","file_path":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb","line_number":180,"run_time":0.131806546,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb[1:1:1:1]","description":"should import transactions from all account integrations","full_description":"OpenBanking::AccountProvisioningImportJob#perform with valid account_integrations should import transactions from all account integrations","status":"passed","file_path":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb","line_number":38,"run_time":0.348000207,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb[1:1:1:2]","description":"should mark the account_integration import as started and then success","full_description":"OpenBanking::AccountProvisioningImportJob#perform with valid account_integrations should mark the account_integration import as started and then success","status":"passed","file_path":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb","line_number":43,"run_time":0.314709326,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb[1:1:1:3]","description":"should not raise a FailAndRetry error","full_description":"OpenBanking::AccountProvisioningImportJob#perform with valid account_integrations should not raise a FailAndRetry error","status":"passed","file_path":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb","line_number":49,"run_time":0.344762572,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb[1:1:1:4]","description":"logs execution timings","full_description":"OpenBanking::AccountProvisioningImportJob#perform with valid account_integrations logs execution timings","status":"passed","file_path":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb","line_number":53,"run_time":0.306882453,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb[1:1:2:1]","description":"should continue to the next account_integration","full_description":"OpenBanking::AccountProvisioningImportJob#perform with account integrations that fail because the account integration no longer exists ( ActiveRecord Error ) should continue to the next account_integration","status":"passed","file_path":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb","line_number":66,"run_time":0.275609173,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb[1:1:2:2]","description":"should mark the account_integration import as started and then a single error","full_description":"OpenBanking::AccountProvisioningImportJob#perform with account integrations that fail because the account integration no longer exists ( ActiveRecord Error ) should mark the account_integration import as started and then a single error","status":"passed","file_path":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb","line_number":71,"run_time":0.270431563,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb[1:1:2:3]","description":"should not raise a FailAndRetry error","full_description":"OpenBanking::AccountProvisioningImportJob#perform with account integrations that fail because the account integration no longer exists ( ActiveRecord Error ) should not raise a FailAndRetry error","status":"passed","file_path":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb","line_number":77,"run_time":0.285657464,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb[1:1:3:1]","description":"should continue to the next account_integration","full_description":"OpenBanking::AccountProvisioningImportJob#perform with account integrations that fail for NON active record errors should continue to the next account_integration","status":"passed","file_path":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb","line_number":87,"run_time":0.254983919,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb[1:1:3:2]","description":"should mark the account_integration import as started and then errored","full_description":"OpenBanking::AccountProvisioningImportJob#perform with account integrations that fail for NON active record errors should mark the account_integration import as started and then errored","status":"passed","file_path":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb","line_number":92,"run_time":0.257275413,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb[1:1:3:3]","description":"should raise a FailAndRetry error","full_description":"OpenBanking::AccountProvisioningImportJob#perform with account integrations that fail for NON active record errors should raise a FailAndRetry error","status":"passed","file_path":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb","line_number":98,"run_time":0.268475882,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb[1:1:4:1]","description":"should continue to the next account_integration","full_description":"OpenBanking::AccountProvisioningImportJob#perform with account integration that have transaction_start_date in the future should continue to the next account_integration","status":"passed","file_path":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb","line_number":118,"run_time":0.287885373,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb[1:1:4:2]","description":"should defer the import","full_description":"OpenBanking::AccountProvisioningImportJob#perform with account integration that have transaction_start_date in the future should defer the import","status":"passed","file_path":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb","line_number":124,"run_time":0.303360725,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb[1:1:5:1]","description":"should run check_and_handle_invalid_grant","full_description":"OpenBanking::AccountProvisioningImportJob#perform with an invalid grant error should run check_and_handle_invalid_grant","status":"passed","file_path":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb","line_number":137,"run_time":0.328874866,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb[1:1:5:2]","description":"should set a connection issue on the bank feed on the first error only","full_description":"OpenBanking::AccountProvisioningImportJob#perform with an invalid grant error should set a connection issue on the bank feed on the first error only","status":"passed","file_path":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb","line_number":142,"run_time":0.266994564,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb[1:1:6:1]","description":"should not set a connection issue on the bank feed","full_description":"OpenBanking::AccountProvisioningImportJob#perform with a non invalid grant error should not set a connection issue on the bank feed","status":"passed","file_path":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb","line_number":155,"run_time":0.328545248,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb[1:1:7:1]","description":"should continue to the next account_integration","full_description":"OpenBanking::AccountProvisioningImportJob#perform with account integration that has already been imported should continue to the next account_integration","status":"passed","file_path":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb","line_number":169,"run_time":0.3200409,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb[1:1:7:2]","description":"should not raise a FailAndRetry error","full_description":"OpenBanking::AccountProvisioningImportJob#perform with account integration that has already been imported should not raise a FailAndRetry error","status":"passed","file_path":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb","line_number":175,"run_time":0.301601781,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb[1:2:1]","description":"returns 5, 10 and 10 minutes","full_description":"OpenBanking::AccountProvisioningImportJob sidekiq_retry_in returns 5, 10 and 10 minutes","status":"passed","file_path":"./spec/jobs/open_banking/account_provisioning_import_job_spec.rb","line_number":186,"run_time":0.156193867,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/authentication/with_user_session_spec.rb[1:1]","description":"creates a user session when the user logs in","full_description":"Authentication::WithUserSession creates a user session when the user logs in","status":"passed","file_path":"./spec/controllers/concerns/authentication/with_user_session_spec.rb","line_number":37,"run_time":0.25410803,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/authentication/with_user_session_spec.rb[1:2]","description":"calls the login_and_daily_activities method when the user logs in","full_description":"Authentication::WithUserSession calls the login_and_daily_activities method when the user logs in","status":"passed","file_path":"./spec/controllers/concerns/authentication/with_user_session_spec.rb","line_number":46,"run_time":0.216199249,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/authentication/with_user_session_spec.rb[1:3]","description":"exchanges a global_user_session_key for a fa_user_session_key","full_description":"Authentication::WithUserSession exchanges a global_user_session_key for a fa_user_session_key","status":"passed","file_path":"./spec/controllers/concerns/authentication/with_user_session_spec.rb","line_number":51,"run_time":0.227060826,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/authentication/with_user_session_spec.rb[1:4]","description":"loads a new user session if there's none","full_description":"Authentication::WithUserSession loads a new user session if there's none","status":"passed","file_path":"./spec/controllers/concerns/authentication/with_user_session_spec.rb","line_number":61,"run_time":0.283072639,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/authentication/with_user_session_spec.rb[1:5]","description":"can create a user session for an account manager","full_description":"Authentication::WithUserSession can create a user session for an account manager","status":"passed","file_path":"./spec/controllers/concerns/authentication/with_user_session_spec.rb","line_number":70,"run_time":0.248356578,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/authentication/with_user_session_spec.rb[1:6]","description":"stores metadata about the request","full_description":"Authentication::WithUserSession stores metadata about the request","status":"passed","file_path":"./spec/controllers/concerns/authentication/with_user_session_spec.rb","line_number":78,"run_time":0.284667164,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/authentication/with_user_session_spec.rb[1:7]","description":"respects the remember me param by setting expiry to two weeks from initial login","full_description":"Authentication::WithUserSession respects the remember me param by setting expiry to two weeks from initial login","status":"passed","file_path":"./spec/controllers/concerns/authentication/with_user_session_spec.rb","line_number":88,"run_time":0.251538245,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/authentication/with_user_session_spec.rb[1:8]","description":"updates the current user session if there's already one","full_description":"Authentication::WithUserSession updates the current user session if there's already one","status":"passed","file_path":"./spec/controllers/concerns/authentication/with_user_session_spec.rb","line_number":96,"run_time":0.26747436,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/authentication/with_user_session_spec.rb[1:12]","description":"clears the rails session when the user is logged out","full_description":"Authentication::WithUserSession clears the rails session when the user is logged out","status":"passed","file_path":"./spec/controllers/concerns/authentication/with_user_session_spec.rb","line_number":155,"run_time":0.206609605,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/authentication/with_user_session_spec.rb[1:13]","description":"removes the global session cookie when logging out","full_description":"Authentication::WithUserSession removes the global session cookie when logging out","status":"passed","file_path":"./spec/controllers/concerns/authentication/with_user_session_spec.rb","line_number":164,"run_time":0.26870351,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/authentication/with_user_session_spec.rb[1:14]","description":"removes the subdomain session cookie when logging out","full_description":"Authentication::WithUserSession removes the subdomain session cookie when logging out","status":"passed","file_path":"./spec/controllers/concerns/authentication/with_user_session_spec.rb","line_number":173,"run_time":0.246801815,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/authentication/with_user_session_spec.rb[1:15]","description":"removes any netlify session cookie present when logging out","full_description":"Authentication::WithUserSession removes any netlify session cookie present when logging out","status":"passed","file_path":"./spec/controllers/concerns/authentication/with_user_session_spec.rb","line_number":181,"run_time":0.382992597,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/authentication/with_user_session_spec.rb[1:9:1]","description":"does not extend a remember-me user session","full_description":"Authentication::WithUserSession when the session expires in more than 30 minutes does not extend a remember-me user session","status":"passed","file_path":"./spec/controllers/concerns/authentication/with_user_session_spec.rb","line_number":106,"run_time":0.33384177,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/authentication/with_user_session_spec.rb[1:10:1]","description":"extends a remember-me user session","full_description":"Authentication::WithUserSession when the session expires in under 30 minutes extends a remember-me user session","status":"passed","file_path":"./spec/controllers/concerns/authentication/with_user_session_spec.rb","line_number":120,"run_time":0.239119774,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/authentication/with_user_session_spec.rb[1:11:1]","description":"doens't log a user in if their session has expired","full_description":"Authentication::WithUserSession session expiry doens't log a user in if their session has expired","status":"passed","file_path":"./spec/controllers/concerns/authentication/with_user_session_spec.rb","line_number":136,"run_time":0.213093122,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/authentication/with_user_session_spec.rb[1:11:2]","description":"clears the Rails session when the user session expires","full_description":"Authentication::WithUserSession session expiry clears the Rails session when the user session expires","status":"passed","file_path":"./spec/controllers/concerns/authentication/with_user_session_spec.rb","line_number":144,"run_time":0.216272369,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb[1:1:1]","description":"is expected not to have a failure on #\u003cBill id: 1, contact_id: 1051239674, reference: \"REF001\", dated_on: \"2022-12-23\", due_date: \"2023-01...erty_id: nil, bill_items_count: 1, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","full_description":"BillTotalsMatchCheck when checking a company with correct bill totals is expected not to have a failure on #\u003cBill id: 1, contact_id: 1051239674, reference: \"REF001\", dated_on: \"2022-12-23\", due_date: \"2023-01...erty_id: nil, bill_items_count: 1, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb","line_number":15,"run_time":0.430762892,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb[1:2:1:1]","description":"is expected to have a failure on #\u003cBill id: 2, contact_id: 1051239675, reference: \"REF001\", dated_on: \"2022-12-23\", due_date: \"2023-01...erty_id: nil, bill_items_count: 1, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","full_description":"BillTotalsMatchCheck when a bill has an incorrect cached total value and the difference is over the allowed tollarance is expected to have a failure on #\u003cBill id: 2, contact_id: 1051239675, reference: \"REF001\", dated_on: \"2022-12-23\", due_date: \"2023-01...erty_id: nil, bill_items_count: 1, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb","line_number":24,"run_time":0.421567126,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb[1:2:1:2]","description":"is expected to have a failure like / has cached values that don't match/","full_description":"BillTotalsMatchCheck when a bill has an incorrect cached total value and the difference is over the allowed tollarance is expected to have a failure like / has cached values that don't match/","status":"passed","file_path":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb","line_number":26,"run_time":0.447400261,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb[1:2:1:3]","description":"is expected to have a failure like / cached_total_value/","full_description":"BillTotalsMatchCheck when a bill has an incorrect cached total value and the difference is over the allowed tollarance is expected to have a failure like / cached_total_value/","status":"passed","file_path":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb","line_number":27,"run_time":0.4166374,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb[1:2:2:1]","description":"is expected not to have a failure on #\u003cBill id: 5, contact_id: 1051239678, reference: \"REF001\", dated_on: \"2022-12-23\", due_date: \"2023-01...erty_id: nil, bill_items_count: 1, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","full_description":"BillTotalsMatchCheck when a bill has an incorrect cached total value and the difference is within the rounding error tolarence is expected not to have a failure on #\u003cBill id: 5, contact_id: 1051239678, reference: \"REF001\", dated_on: \"2022-12-23\", due_date: \"2023-01...erty_id: nil, bill_items_count: 1, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb","line_number":35,"run_time":0.415125976,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb[1:3:1:1]","description":"is expected to have a failure on #\u003cBill id: 6, contact_id: 1051239679, reference: \"REF001\", dated_on: \"2022-12-23\", due_date: \"2023-01...erty_id: nil, bill_items_count: 1, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","full_description":"BillTotalsMatchCheck when a bill has an incorrect cached sales tax value and the difference is over the allowed tollarance is expected to have a failure on #\u003cBill id: 6, contact_id: 1051239679, reference: \"REF001\", dated_on: \"2022-12-23\", due_date: \"2023-01...erty_id: nil, bill_items_count: 1, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb","line_number":45,"run_time":0.430016292,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb[1:3:1:2]","description":"is expected to have a failure like / has cached values that don't match/","full_description":"BillTotalsMatchCheck when a bill has an incorrect cached sales tax value and the difference is over the allowed tollarance is expected to have a failure like / has cached values that don't match/","status":"passed","file_path":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb","line_number":47,"run_time":0.419708596,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb[1:3:1:3]","description":"is expected to have a failure like / cached_sales_tax_value/","full_description":"BillTotalsMatchCheck when a bill has an incorrect cached sales tax value and the difference is over the allowed tollarance is expected to have a failure like / cached_sales_tax_value/","status":"passed","file_path":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb","line_number":48,"run_time":0.437823392,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb[1:3:2:1]","description":"is expected not to have a failure on #\u003cBill id: 9, contact_id: 1051239682, reference: \"REF001\", dated_on: \"2022-12-23\", due_date: \"2023-01...erty_id: nil, bill_items_count: 1, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","full_description":"BillTotalsMatchCheck when a bill has an incorrect cached sales tax value and the difference is within the rounding error tolarence is expected not to have a failure on #\u003cBill id: 9, contact_id: 1051239682, reference: \"REF001\", dated_on: \"2022-12-23\", due_date: \"2023-01...erty_id: nil, bill_items_count: 1, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb","line_number":56,"run_time":0.411212839,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb[1:4:1:1]","description":"is expected to have a failure on #\u003cBill id: 10, contact_id: 1051239683, reference: \"REF001\", dated_on: \"2022-12-23\", due_date: \"2023-0...erty_id: nil, bill_items_count: 1, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","full_description":"BillTotalsMatchCheck when a bill has an incorrect cached second sales tax value and the difference is over the allowed tollarance is expected to have a failure on #\u003cBill id: 10, contact_id: 1051239683, reference: \"REF001\", dated_on: \"2022-12-23\", due_date: \"2023-0...erty_id: nil, bill_items_count: 1, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb","line_number":68,"run_time":0.431306564,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb[1:4:1:2]","description":"is expected to have a failure like / has cached values that don't match/","full_description":"BillTotalsMatchCheck when a bill has an incorrect cached second sales tax value and the difference is over the allowed tollarance is expected to have a failure like / has cached values that don't match/","status":"passed","file_path":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb","line_number":70,"run_time":0.407855431,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb[1:4:1:3]","description":"is expected to have a failure like / cached_second_sales_tax_value/","full_description":"BillTotalsMatchCheck when a bill has an incorrect cached second sales tax value and the difference is over the allowed tollarance is expected to have a failure like / cached_second_sales_tax_value/","status":"passed","file_path":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb","line_number":71,"run_time":0.411101829,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb[1:4:2:1]","description":"is expected not to have a failure on #\u003cBill id: 13, contact_id: 1051239686, reference: \"REF001\", dated_on: \"2022-12-23\", due_date: \"2023-0...erty_id: nil, bill_items_count: 1, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","full_description":"BillTotalsMatchCheck when a bill has an incorrect cached second sales tax value and the difference is within the rounding error tolarence is expected not to have a failure on #\u003cBill id: 13, contact_id: 1051239686, reference: \"REF001\", dated_on: \"2022-12-23\", due_date: \"2023-0...erty_id: nil, bill_items_count: 1, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb","line_number":81,"run_time":0.415170215,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:1:1:1]","description":"contains the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a UK limited company without CIS enabled #sales_tax_control_accounts contains the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":10,"run_time":0.011238067,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:1:2:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a UK limited company without CIS enabled #other_money_in_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":16,"run_time":0.026261463,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:1:3:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a UK limited company without CIS enabled #other_money_out_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":22,"run_time":0.027008169,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:1:4:1:1:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a UK limited company without CIS enabled when company has custom balance sheet categories when explain_to_custom_categories is enabled #other_money_out_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":58,"run_time":0.040847344,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:1:4:1:2:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a UK limited company without CIS enabled when company has custom balance sheet categories when explain_to_custom_categories is enabled #other_money_in_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":65,"run_time":0.054748366,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:1:5:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a UK limited company without CIS enabled #hp_agreement_account returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":74,"run_time":0.016555737,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:1:6:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a UK limited company without CIS enabled #capital_asset_purchase_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":80,"run_time":0.010167859,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:1:7:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a UK limited company without CIS enabled #all_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":86,"run_time":0.055696564,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:1:8:1]","description":"returns the expected CIS accounts","full_description":"SelectableGeneralLedgerAccounts for a UK limited company without CIS enabled #cis_accounts returns the expected CIS accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":96,"run_time":0.007537741,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:1:9:1]","description":"returns an empty array","full_description":"SelectableGeneralLedgerAccounts for a UK limited company without CIS enabled #rental_deposits returns an empty array","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":102,"run_time":0.007482173,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:2:1:1]","description":"returns the expected CIS accounts","full_description":"SelectableGeneralLedgerAccounts for a UK limited company with CIS enabled #cis_accounts returns the expected CIS accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":112,"run_time":0.133524529,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:3:1:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a UK sole trader #other_money_in_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":122,"run_time":0.15182459,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:3:2:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a UK sole trader #other_money_out_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":128,"run_time":0.151556794,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:3:3:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a UK sole trader #user_receipt_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":134,"run_time":0.117690053,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:3:4:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a UK sole trader #user_payment_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":140,"run_time":0.113014044,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:3:4:2:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a UK sole trader #user_payment_accounts with employees returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":147,"run_time":0.129181425,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:3:5:1]","description":"returns an empty array","full_description":"SelectableGeneralLedgerAccounts for a UK sole trader #rental_deposits returns an empty array","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":154,"run_time":0.097157185,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:4:1:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a cash basis UK sole trader #other_money_in_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":164,"run_time":0.126082652,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:4:2:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a cash basis UK sole trader #other_money_out_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":170,"run_time":0.120281482,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:4:3:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a cash basis UK sole trader #user_receipt_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":176,"run_time":0.107209509,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:4:4:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a cash basis UK sole trader #user_payment_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":182,"run_time":0.125831638,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:4:4:2:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a cash basis UK sole trader #user_payment_accounts with employees returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":189,"run_time":0.131498763,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:5:1:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a UK limited liability partnership #other_money_in_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":200,"run_time":0.173384026,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:5:2:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a UK limited liability partnership #other_money_out_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":206,"run_time":0.114945602,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:5:3:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a UK limited liability partnership #user_receipt_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":212,"run_time":0.11512854,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:5:4:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a UK limited liability partnership #user_payment_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":218,"run_time":0.105138601,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:5:5:1]","description":"returns an empty array","full_description":"SelectableGeneralLedgerAccounts for a UK limited liability partnership #rental_deposits returns an empty array","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":224,"run_time":0.104155348,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:6:1:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a UK partnership #other_money_in_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":234,"run_time":0.141600322,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:6:2:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a UK partnership #other_money_out_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":240,"run_time":0.130910092,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:6:3:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a UK partnership #user_receipt_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":246,"run_time":0.104781704,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:6:4:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a UK partnership #user_payment_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":252,"run_time":0.099732975,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:6:5:1]","description":"returns an empty array","full_description":"SelectableGeneralLedgerAccounts for a UK partnership #rental_deposits returns an empty array","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":258,"run_time":0.094658979,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:7:1:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a cash basis UK partnership #other_money_in_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":268,"run_time":0.103968751,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:7:2:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a cash basis UK partnership #other_money_out_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":274,"run_time":0.132706719,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:7:3:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a cash basis UK partnership #user_receipt_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":280,"run_time":0.135085848,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:7:4:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a cash basis UK partnership #user_payment_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":286,"run_time":0.115355658,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:8:1:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a UK landlord #other_money_in_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":296,"run_time":0.148393902,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:8:2:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a UK landlord #other_money_out_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":302,"run_time":0.130416789,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:8:3:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a UK landlord #user_receipt_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":308,"run_time":0.101458578,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:8:4:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a UK landlord #user_payment_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":314,"run_time":0.111875197,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:9:1:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a cash basis UK landlord #other_money_in_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":324,"run_time":0.131913912,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:9:2:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a cash basis UK landlord #other_money_out_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":330,"run_time":0.122608246,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:9:3:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a cash basis UK landlord #user_receipt_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":336,"run_time":0.11091802,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:9:4:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a cash basis UK landlord #user_payment_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":342,"run_time":0.103273559,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:10:1:1]","description":"contains the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a universal company #sales_tax_control_accounts contains the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":352,"run_time":0.117563351,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:10:2:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a universal company #other_money_in_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":358,"run_time":0.116957453,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:10:3:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a universal company #other_money_out_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":364,"run_time":0.118864577,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:10:4:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a universal company #user_receipt_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":370,"run_time":0.097411157,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:10:5:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a universal company #user_payment_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":376,"run_time":0.092446466,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:10:6:1]","description":"returns an empty array","full_description":"SelectableGeneralLedgerAccounts for a universal company #rental_deposits returns an empty array","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":382,"run_time":0.098460912,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:11:1:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a US company #other_money_in_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":392,"run_time":0.191870393,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:11:2:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a US company #other_money_out_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":398,"run_time":0.125682645,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:11:3:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a US company #user_receipt_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":404,"run_time":0.109262939,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:11:4:1]","description":"returns the expected accounts","full_description":"SelectableGeneralLedgerAccounts for a US company #user_payment_accounts returns the expected accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":410,"run_time":0.394922224,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:11:5:1]","description":"returns an empty array","full_description":"SelectableGeneralLedgerAccounts for a US company #rental_deposits returns an empty array","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":416,"run_time":0.379314518,"pending_message":null,"screenshot":null},{"id":"./spec/models/selectable_general_ledger_accounts_spec.rb[1:12:1:1]","description":"returns the rental deposit accounts","full_description":"SelectableGeneralLedgerAccounts for a UkUnincorporatedLandlord #rental_deposits returns the rental deposit accounts","status":"passed","file_path":"./spec/models/selectable_general_ledger_accounts_spec.rb","line_number":426,"run_time":0.305505845,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:1:1]","description":"is expected to redirect to \"/\"","full_description":"CompaniesController GET :show is expected to redirect to \"/\"","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":21,"run_time":0.112224094,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:1:2:1]","description":"is expected to redirect to \"/setup\"","full_description":"CompaniesController GET :show when not set up is expected to redirect to \"/setup\"","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":25,"run_time":0.093040212,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:1:3:1]","description":"is expected to redirect to \"/\"","full_description":"CompaniesController GET :show with no transactions is expected to redirect to \"/\"","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":38,"run_time":0.134972535,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:2:1:1]","description":"redirects and saves the path","full_description":"CompaniesController Redirects for rebuilding companies with a normal request redirects and saves the path","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":48,"run_time":0.136646019,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:2:2:1]","description":"redirects but doesn't save the path","full_description":"CompaniesController Redirects for rebuilding companies with an XHR request redirects but doesn't save the path","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":57,"run_time":0.114382755,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:2:3:1]","description":"redirects but doesn't save the path","full_description":"CompaniesController Redirects for rebuilding companies with a request for a different format redirects but doesn't save the path","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":66,"run_time":0.122230514,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:3:1]","description":"is expected to respond with a success status code (2xx)","full_description":"CompaniesController GET :accounts_ready is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":76,"run_time":0.106823049,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:3:2]","description":"contains a 'complete' status and a redirect URL in the response","full_description":"CompaniesController GET :accounts_ready contains a 'complete' status and a redirect URL in the response","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":78,"run_time":0.113995004,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:3:3:1]","description":"is expected to respond with numeric status code 202","full_description":"CompaniesController GET :accounts_ready when rebuilding is expected to respond with numeric status code 202","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":89,"run_time":0.129135597,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:3:3:2]","description":"contains a 'pending' status in the response","full_description":"CompaniesController GET :accounts_ready when rebuilding contains a 'pending' status in the response","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":91,"run_time":0.113850491,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:4:1]","description":"is expected to respond with a success status code (2xx)","full_description":"CompaniesController GET :expired is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":103,"run_time":0.405613291,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:4:2]","description":"is expected to render template expired","full_description":"CompaniesController GET :expired is expected to render template expired","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":104,"run_time":0.220780031,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:4:3:1]","description":"is expected to respond with a success status code (2xx)","full_description":"CompaniesController GET :expired with less than full access is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":109,"run_time":0.285530311,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:4:3:2]","description":"is expected to render template expired","full_description":"CompaniesController GET :expired with less than full access is expected to render template expired","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":110,"run_time":0.223847893,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:4:3:3]","description":"does not display an inline link to edit payment details","full_description":"CompaniesController GET :expired with less than full access does not display an inline link to edit payment details","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":112,"run_time":0.224877766,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:4:3:4]","description":"displays a header stating that the account is suspended","full_description":"CompaniesController GET :expired with less than full access displays a header stating that the account is suspended","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":116,"run_time":0.239822431,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:4:4:1]","description":"is expected to redirect to \"/\"","full_description":"CompaniesController GET :expired with an unexpired company is expected to redirect to \"/\"","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":123,"run_time":0.0406859,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:4:5:1]","description":"is expected to redirect to \"/\"","full_description":"CompaniesController GET :expired with a cancelled company is expected to redirect to \"/\"","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":128,"run_time":0.130297614,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:6:1]","description":"an inactive company is redirected to the inactive message page","full_description":"CompaniesController GET: inactive an inactive company is redirected to the inactive message page","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":168,"run_time":0.297074867,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:6:2]","description":"an inactive company can view the inactive message page","full_description":"CompaniesController GET: inactive an inactive company can view the inactive message page","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":174,"run_time":0.338148703,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/companies_controller_spec.rb[1:6:3:1]","description":"redirects to the root path when trying to view the inactive page","full_description":"CompaniesController GET: inactive active company redirects to the root path when trying to view the inactive page","status":"passed","file_path":"./spec/controllers/companies_controller_spec.rb","line_number":182,"run_time":0.043891996,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tasks_integration_spec.rb[1:1:1:1:1:1]","description":"responds with an array of all tasks","full_description":"Api::TasksIntegration GET /tasks with the right permission_level with view filter all responds with an array of all tasks","status":"passed","file_path":"./spec/requests/api/tasks_integration_spec.rb","line_number":48,"run_time":0.125641314,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tasks_integration_spec.rb[1:1:1:1:2:1]","description":"responds with Active task","full_description":"Api::TasksIntegration GET /tasks with the right permission_level with view filter Active responds with Active task","status":"passed","file_path":"./spec/requests/api/tasks_integration_spec.rb","line_number":60,"run_time":0.106492127,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tasks_integration_spec.rb[1:1:1:1:3:1]","description":"responds with Completed task","full_description":"Api::TasksIntegration GET /tasks with the right permission_level with view filter Completed responds with Completed task","status":"passed","file_path":"./spec/requests/api/tasks_integration_spec.rb","line_number":60,"run_time":0.098869111,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tasks_integration_spec.rb[1:1:1:1:4:1]","description":"responds with Hidden task","full_description":"Api::TasksIntegration GET /tasks with the right permission_level with view filter Hidden responds with Hidden task","status":"passed","file_path":"./spec/requests/api/tasks_integration_spec.rb","line_number":60,"run_time":0.119983925,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tasks_integration_spec.rb[1:1:1:2:1]","description":"responds with an array of all tasks","full_description":"Api::TasksIntegration GET /tasks with the right permission_level with tasks in multiple projects responds with an array of all tasks","status":"passed","file_path":"./spec/requests/api/tasks_integration_spec.rb","line_number":77,"run_time":0.118341471,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tasks_integration_spec.rb[1:1:1:3:1]","description":"responds with an array of tasks","full_description":"Api::TasksIntegration GET /tasks with the right permission_level with 3 tasks responds with an array of tasks","status":"passed","file_path":"./spec/requests/api/tasks_integration_spec.rb","line_number":93,"run_time":0.106734901,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tasks_integration_spec.rb[1:1:1:4:1]","description":"responds with an array of tasks","full_description":"Api::TasksIntegration GET /tasks with the right permission_level updated_since filter responds with an array of tasks","status":"passed","file_path":"./spec/requests/api/tasks_integration_spec.rb","line_number":115,"run_time":0.108631563,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tasks_integration_spec.rb[1:1:1:5:1:1]","description":"responds with an array of tasks","full_description":"Api::TasksIntegration GET /tasks with the right permission_level pagiation with less entries then the default items per page responds with an array of tasks","status":"passed","file_path":"./spec/requests/api/tasks_integration_spec.rb","line_number":130,"run_time":0.102979922,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tasks_integration_spec.rb[1:1:1:5:2:1:1]","description":"responds with an array of tasks","full_description":"Api::TasksIntegration GET /tasks with the right permission_level pagiation with more entries then the default items per page on the first page responds with an array of tasks","status":"passed","file_path":"./spec/requests/api/tasks_integration_spec.rb","line_number":147,"run_time":0.114555022,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tasks_integration_spec.rb[1:1:1:5:2:2:1]","description":"responds with an array of tasks","full_description":"Api::TasksIntegration GET /tasks with the right permission_level pagiation with more entries then the default items per page on the last page responds with an array of tasks","status":"passed","file_path":"./spec/requests/api/tasks_integration_spec.rb","line_number":162,"run_time":0.107723063,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tasks_integration_spec.rb[1:1:1:6:1]","description":"sorts correctly","full_description":"Api::TasksIntegration GET /tasks with the right permission_level with a sort parameter sorts correctly","status":"passed","file_path":"./spec/requests/api/tasks_integration_spec.rb","line_number":187,"run_time":0.341588295,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tasks_integration_spec.rb[1:1:2:1]","description":"is expected to respond with status code :unauthorized (401)","full_description":"Api::TasksIntegration GET /tasks without the right permission_level is expected to respond with status code :unauthorized (401)","status":"passed","file_path":"./spec/requests/api/tasks_integration_spec.rb","line_number":218,"run_time":0.062450278,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tasks_integration_spec.rb[1:2:1:1:1]","description":"responds with the standard task fields","full_description":"Api::TasksIntegration GET /tasks/task_id with the right permission_level with valid task_id responds with the standard task fields","status":"passed","file_path":"./spec/requests/api/tasks_integration_spec.rb","line_number":229,"run_time":0.091611297,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tasks_integration_spec.rb[1:2:1:2:1]","description":"is expected to respond with a missing status code (404)","full_description":"Api::TasksIntegration GET /tasks/task_id with the right permission_level with invalid task_id is expected to respond with a missing status code (404)","status":"passed","file_path":"./spec/requests/api/tasks_integration_spec.rb","line_number":240,"run_time":0.099060432,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tasks_integration_spec.rb[1:2:2:1]","description":"is expected to respond with status code :unauthorized (401)","full_description":"Api::TasksIntegration GET /tasks/task_id without the right permission_level is expected to respond with status code :unauthorized (401)","status":"passed","file_path":"./spec/requests/api/tasks_integration_spec.rb","line_number":249,"run_time":0.073817953,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tasks_integration_spec.rb[1:3:1:1:1]","description":"has created a task record for the current contact","full_description":"Api::TasksIntegration POST /tasks/ with the right permission_level with valid attributes has created a task record for the current contact","status":"passed","file_path":"./spec/requests/api/tasks_integration_spec.rb","line_number":265,"run_time":0.122105001,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tasks_integration_spec.rb[1:3:1:2:1]","description":"has created a task record for the current contact","full_description":"Api::TasksIntegration POST /tasks/ with the right permission_level with the project as part of the task param has created a task record for the current contact","status":"passed","file_path":"./spec/requests/api/tasks_integration_spec.rb","line_number":280,"run_time":0.11068125,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tasks_integration_spec.rb[1:3:1:3:1:1]","description":"has the same number of tasks after posting attempt","full_description":"Api::TasksIntegration POST /tasks/ with the right permission_level with invalid attributes name has the same number of tasks after posting attempt","status":"passed","file_path":"./spec/requests/api/tasks_integration_spec.rb","line_number":297,"run_time":0.097157947,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tasks_integration_spec.rb[1:3:1:4:1]","description":"has the same number of tasks after posting attempt","full_description":"Api::TasksIntegration POST /tasks/ with the right permission_level with another company's project has the same number of tasks after posting attempt","status":"passed","file_path":"./spec/requests/api/tasks_integration_spec.rb","line_number":311,"run_time":0.220597631,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tasks_integration_spec.rb[1:4:1:1:1]","description":"has one less task after deletion","full_description":"Api::TasksIntegration DELETE /tasks/task_id with the right permission_level with valid task_id has one less task after deletion","status":"passed","file_path":"./spec/requests/api/tasks_integration_spec.rb","line_number":327,"run_time":0.112668221,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tasks_integration_spec.rb[1:4:1:2:1]","description":"is expected to respond with a not_found status code (404)","full_description":"Api::TasksIntegration DELETE /tasks/task_id with the right permission_level with invalid task_id is expected to respond with a not_found status code (404)","status":"passed","file_path":"./spec/requests/api/tasks_integration_spec.rb","line_number":338,"run_time":0.102231213,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tasks_integration_spec.rb[1:4:2:1:1]","description":"is expected to respond with status code :unauthorized (401)","full_description":"Api::TasksIntegration DELETE /tasks/task_id without the right permission_level with valid task_id is expected to respond with status code :unauthorized (401)","status":"passed","file_path":"./spec/requests/api/tasks_integration_spec.rb","line_number":349,"run_time":0.061550286,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tasks_integration_spec.rb[1:5:1:1:1:1]","description":"does not have an additional task after one has been updated","full_description":"Api::TasksIntegration PUT /tasks/task_id with the right permission_level with valid task_id with valid attributes does not have an additional task after one has been updated","status":"passed","file_path":"./spec/requests/api/tasks_integration_spec.rb","line_number":368,"run_time":0.1233193,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tasks_integration_spec.rb[1:5:1:1:2:1:1]","description":"has the same number of tasks after posting attempt","full_description":"Api::TasksIntegration PUT /tasks/task_id with the right permission_level with valid task_id with invalid attributes name has the same number of tasks after posting attempt","status":"passed","file_path":"./spec/requests/api/tasks_integration_spec.rb","line_number":382,"run_time":0.129066552,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tasks_integration_spec.rb[1:5:1:2:1]","description":"is expected to respond with a not_found status code (404)","full_description":"Api::TasksIntegration PUT /tasks/task_id with the right permission_level with invalid task_id is expected to respond with a not_found status code (404)","status":"passed","file_path":"./spec/requests/api/tasks_integration_spec.rb","line_number":395,"run_time":0.097452627,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_payment_spec.rb[1:3]","description":"has the right provider name","full_description":"TylPayment has the right provider name","status":"passed","file_path":"./spec/models/tyl_payment_spec.rb","line_number":36,"run_time":0.110523842,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_payment_spec.rb[1:4]","description":"has a payment completion estimate of the day after processing","full_description":"TylPayment has a payment completion estimate of the day after processing","status":"passed","file_path":"./spec/models/tyl_payment_spec.rb","line_number":40,"run_time":0.095977495,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_payment_spec.rb[1:1:1]","description":"is expected to validate that :payment_portal_reference cannot be empty/falsy","full_description":"TylPayment validations is expected to validate that :payment_portal_reference cannot be empty/falsy","status":"passed","file_path":"./spec/models/tyl_payment_spec.rb","line_number":8,"run_time":0.007666914,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_payment_spec.rb[1:1:2]","description":"is expected to validate that :invoice_due_value cannot be empty/falsy","full_description":"TylPayment validations is expected to validate that :invoice_due_value cannot be empty/falsy","status":"passed","file_path":"./spec/models/tyl_payment_spec.rb","line_number":9,"run_time":0.006977603,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_payment_spec.rb[1:1:3]","description":"is expected to validate that :invoice_currency cannot be empty/falsy","full_description":"TylPayment validations is expected to validate that :invoice_currency cannot be empty/falsy","status":"passed","file_path":"./spec/models/tyl_payment_spec.rb","line_number":10,"run_time":0.007608329,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_payment_spec.rb[1:1:4]","description":"is expected to validate that :expiry_date cannot be empty/falsy","full_description":"TylPayment validations is expected to validate that :expiry_date cannot be empty/falsy","status":"passed","file_path":"./spec/models/tyl_payment_spec.rb","line_number":11,"run_time":0.006701128,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_payment_spec.rb[1:1:5]","description":"is expected to validate that :link_requested_at cannot be empty/falsy","full_description":"TylPayment validations is expected to validate that :link_requested_at cannot be empty/falsy","status":"passed","file_path":"./spec/models/tyl_payment_spec.rb","line_number":12,"run_time":0.006578841,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_payment_spec.rb[1:1:6]","description":"is expected to validate that :payment_url cannot be empty/falsy","full_description":"TylPayment validations is expected to validate that :payment_url cannot be empty/falsy","status":"passed","file_path":"./spec/models/tyl_payment_spec.rb","line_number":13,"run_time":0.007376026,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_payment_spec.rb[1:1:7]","description":"is expected to validate that :invoice_due_value looks like a number greater than 0.0","full_description":"TylPayment validations is expected to validate that :invoice_due_value looks like a number greater than 0.0","status":"passed","file_path":"./spec/models/tyl_payment_spec.rb","line_number":15,"run_time":0.006966314,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_payment_spec.rb[1:1:8]","description":"is expected to validate that :order_id is unique when populated","full_description":"TylPayment validations is expected to validate that :order_id is unique when populated","status":"passed","file_path":"./spec/models/tyl_payment_spec.rb","line_number":17,"run_time":0.301034637,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_payment_spec.rb[1:2:1]","description":"is expected to include #\u003cTylPayment id: 5, order_id: \"babpthqmqzsdstjpezaz\", payment_url: \"https://test.com?storename=123\u0026oi...reated_at: \"2022-12-23 10:46:41.005651000 +0000\", updated_at: \"2022-12-23 10:46:41.005651000 +0000\"\u003e","full_description":"TylPayment.link_live is expected to include #\u003cTylPayment id: 5, order_id: \"babpthqmqzsdstjpezaz\", payment_url: \"https://test.com?storename=123\u0026oi...reated_at: \"2022-12-23 10:46:41.005651000 +0000\", updated_at: \"2022-12-23 10:46:41.005651000 +0000\"\u003e","status":"passed","file_path":"./spec/models/tyl_payment_spec.rb","line_number":32,"run_time":0.102191695,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_payment_spec.rb[1:2:2]","description":"is expected not to include #\u003cTylPayment id: 6, order_id: \"ysklfsbydnsmxcwlmqsk\", payment_url: \"https://test.com?storename=123\u0026oi...reated_at: \"2022-12-23 10:46:41.104999000 +0000\", updated_at: \"2022-12-23 10:46:41.104999000 +0000\"\u003e","full_description":"TylPayment.link_live is expected not to include #\u003cTylPayment id: 6, order_id: \"ysklfsbydnsmxcwlmqsk\", payment_url: \"https://test.com?storename=123\u0026oi...reated_at: \"2022-12-23 10:46:41.104999000 +0000\", updated_at: \"2022-12-23 10:46:41.104999000 +0000\"\u003e","status":"passed","file_path":"./spec/models/tyl_payment_spec.rb","line_number":33,"run_time":0.099439562,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_payment_spec.rb[1:5:1]","description":"builds a TylPayment with data from the invoice","full_description":"TylPayment#build_for(invoice) builds a TylPayment with data from the invoice","status":"passed","file_path":"./spec/models/tyl_payment_spec.rb","line_number":51,"run_time":0.24193425,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_payment_spec.rb[1:5:2]","description":"sets default values for expiry date and link requested time","full_description":"TylPayment#build_for(invoice) sets default values for expiry date and link requested time","status":"passed","file_path":"./spec/models/tyl_payment_spec.rb","line_number":59,"run_time":0.209406103,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_payment_spec.rb[1:6:1:1:1:1]","description":"is expected to equal \"Pending\"","full_description":"TylPayment#status when payment_url is present and not cancelled and not yet processed is expected to equal \"Pending\"","status":"passed","file_path":"./spec/models/tyl_payment_spec.rb","line_number":75,"run_time":0.114678897,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_payment_spec.rb[1:6:1:1:2:1]","description":"is expected to equal \"Processed\"","full_description":"TylPayment#status when payment_url is present and not cancelled and processed is expected to equal \"Processed\"","status":"passed","file_path":"./spec/models/tyl_payment_spec.rb","line_number":81,"run_time":0.09742102,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_payment_spec.rb[1:6:1:2:1]","description":"is expected to equal \"Link Cancelled\"","full_description":"TylPayment#status when payment_url is present and cancelled is expected to equal \"Link Cancelled\"","status":"passed","file_path":"./spec/models/tyl_payment_spec.rb","line_number":88,"run_time":0.095410409,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_payment_spec.rb[1:7:1:1]","description":"is payable but not paid","full_description":"TylPayment overridden payment_status_methods methods when payment is not yet processed is payable but not paid","status":"passed","file_path":"./spec/models/tyl_payment_spec.rb","line_number":97,"run_time":0.110484187,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_payment_spec.rb[1:7:2:1]","description":"is paid and no longer payable","full_description":"TylPayment overridden payment_status_methods methods when payment is processed is paid and no longer payable","status":"passed","file_path":"./spec/models/tyl_payment_spec.rb","line_number":107,"run_time":0.110568287,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_payment_spec.rb[1:7:3:1]","description":"is not paid and not payable","full_description":"TylPayment overridden payment_status_methods methods when payment link is cancelled is not paid and not payable","status":"passed","file_path":"./spec/models/tyl_payment_spec.rb","line_number":117,"run_time":0.118987853,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_payment_spec.rb[1:8:1:1]","description":"is expected to equal false","full_description":"TylPayment#stale? when the record is not stale is expected to equal false","status":"passed","file_path":"./spec/models/tyl_payment_spec.rb","line_number":129,"run_time":0.122958833,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_payment_spec.rb[1:8:2:1]","description":"is expected to equal true","full_description":"TylPayment#stale? when the due_value has gone stale is expected to equal true","status":"passed","file_path":"./spec/models/tyl_payment_spec.rb","line_number":135,"run_time":0.123747568,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_payment_spec.rb[1:8:3:1]","description":"is expected to equal true","full_description":"TylPayment#stale? when the currency has gone stale is expected to equal true","status":"passed","file_path":"./spec/models/tyl_payment_spec.rb","line_number":141,"run_time":0.115556631,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_payment_spec.rb[1:9:1]","description":"extracts the url id from the payment url string","full_description":"TylPayment#extract_url_id extracts the url id from the payment url string","status":"passed","file_path":"./spec/models/tyl_payment_spec.rb","line_number":148,"run_time":0.107120101,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_payment_spec.rb[1:10:1]","description":"is only true for live payments in the expiry window","full_description":"TylPayment#expiring_soon? is only true for live payments in the expiry window","status":"passed","file_path":"./spec/models/tyl_payment_spec.rb","line_number":161,"run_time":0.389455062,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_payment_spec.rb[1:11:1]","description":"returns the reference from the invoice linked via the payment portal reference","full_description":"TylPayment#invoice_reference returns the reference from the invoice linked via the payment portal reference","status":"passed","file_path":"./spec/models/tyl_payment_spec.rb","line_number":172,"run_time":0.071530607,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:44:1:1]","description":"updates stock entries on the invoice items","full_description":"Invoice a sent invoice with stock line items saving the invoice updates stock entries on the invoice items","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":921,"run_time":1.658387876,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/add_on_metrics_spec.rb[1:1:1]","description":"it should write a csv file in the expected location","full_description":"Metrics::AddOnMetrics#write_csv it should write a csv file in the expected location","status":"passed","file_path":"./spec/models/metrics/add_on_metrics_spec.rb","line_number":19,"run_time":0.415733883,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/add_on_metrics_spec.rb[1:1:2]","description":"should have the expected headers","full_description":"Metrics::AddOnMetrics#write_csv should have the expected headers","status":"passed","file_path":"./spec/models/metrics/add_on_metrics_spec.rb","line_number":23,"run_time":0.436775319,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/add_on_metrics_spec.rb[1:1:3]","description":"should have snapshot at Time.now","full_description":"Metrics::AddOnMetrics#write_csv should have snapshot at Time.now","status":"passed","file_path":"./spec/models/metrics/add_on_metrics_spec.rb","line_number":41,"run_time":0.444606614,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/add_on_metrics_spec.rb[1:1:4]","description":"should have the correct number of rows","full_description":"Metrics::AddOnMetrics#write_csv should have the correct number of rows","status":"passed","file_path":"./spec/models/metrics/add_on_metrics_spec.rb","line_number":45,"run_time":0.448658446,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/add_on_metrics_spec.rb[1:1:5]","description":"should have the expected fields when active","full_description":"Metrics::AddOnMetrics#write_csv should have the expected fields when active","status":"passed","file_path":"./spec/models/metrics/add_on_metrics_spec.rb","line_number":49,"run_time":0.513480021,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/add_on_metrics_spec.rb[1:1:6]","description":"should have the expected fields when cancelled","full_description":"Metrics::AddOnMetrics#write_csv should have the expected fields when cancelled","status":"passed","file_path":"./spec/models/metrics/add_on_metrics_spec.rb","line_number":62,"run_time":0.517302367,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/add_on_metrics_spec.rb[1:1:7]","description":"should send the status value not the integer","full_description":"Metrics::AddOnMetrics#write_csv should send the status value not the integer","status":"passed","file_path":"./spec/models/metrics/add_on_metrics_spec.rb","line_number":75,"run_time":0.468481703,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/fapdrbsg_to_fapd_migration_spec.rb[1:1:1:1]","description":"is expected to equal false","full_description":"SubscriptionMigrations::FapdrbsgToFapdMigration.allowed_for_company? when the company has chargeable subscription addons is expected to equal false","status":"passed","file_path":"./spec/models/subscription_migrations/fapdrbsg_to_fapd_migration_spec.rb","line_number":12,"run_time":0.200168313,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/fapdrbsg_to_fapd_migration_spec.rb[1:1:2:1]","description":"is expected to equal false","full_description":"SubscriptionMigrations::FapdrbsgToFapdMigration.allowed_for_company? when the company is not RBSG-funded, practice managed (FAPDRBSG) is expected to equal false","status":"passed","file_path":"./spec/models/subscription_migrations/fapdrbsg_to_fapd_migration_spec.rb","line_number":18,"run_time":0.108440772,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/fapdrbsg_to_fapd_migration_spec.rb[1:1:3:1]","description":"is expected to equal false","full_description":"SubscriptionMigrations::FapdrbsgToFapdMigration.allowed_for_company? when the company's accountancy practice's sale status is suspended is expected to equal false","status":"passed","file_path":"./spec/models/subscription_migrations/fapdrbsg_to_fapd_migration_spec.rb","line_number":25,"run_time":0.176173979,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/fapdrbsg_to_fapd_migration_spec.rb[1:1:4:1]","description":"is expected to equal true","full_description":"SubscriptionMigrations::FapdrbsgToFapdMigration.allowed_for_company? when the migration is possible for the company is expected to equal true","status":"passed","file_path":"./spec/models/subscription_migrations/fapdrbsg_to_fapd_migration_spec.rb","line_number":31,"run_time":0.191274968,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/fapdrbsg_to_fapd_migration_spec.rb[1:2:1:1:1]","description":"raises an exception and doesn't migrate","full_description":"SubscriptionMigrations::FapdrbsgToFapdMigration#migrate! when the company has chargeable subscription addons behaves like an unallowed migration raises an exception and doesn't migrate","status":"passed","file_path":"./spec/models/subscription_migrations/fapdrbsg_to_fapd_migration_spec.rb","line_number":40,"run_time":0.183526162,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/fapdrbsg_to_fapd_migration_spec.rb[1:2:2:1:1]","description":"raises an exception and doesn't migrate","full_description":"SubscriptionMigrations::FapdrbsgToFapdMigration#migrate! when the company is not RBSG-funded, practice managed (FAPDRBSG) behaves like an unallowed migration raises an exception and doesn't migrate","status":"passed","file_path":"./spec/models/subscription_migrations/fapdrbsg_to_fapd_migration_spec.rb","line_number":40,"run_time":0.115494955,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/fapdrbsg_to_fapd_migration_spec.rb[1:2:3:1:1]","description":"raises an exception and doesn't migrate","full_description":"SubscriptionMigrations::FapdrbsgToFapdMigration#migrate! when the company's accountancy practice's sale status is suspended behaves like an unallowed migration raises an exception and doesn't migrate","status":"passed","file_path":"./spec/models/subscription_migrations/fapdrbsg_to_fapd_migration_spec.rb","line_number":40,"run_time":0.172233278,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/fapdrbsg_to_fapd_migration_spec.rb[1:2:4:1]","description":"migrates the company to an FAPD subscription and doesn't raise an error","full_description":"SubscriptionMigrations::FapdrbsgToFapdMigration#migrate! when the migration is possible for the company migrates the company to an FAPD subscription and doesn't raise an error","status":"passed","file_path":"./spec/models/subscription_migrations/fapdrbsg_to_fapd_migration_spec.rb","line_number":75,"run_time":0.186236437,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility/accountant_user_checks_spec.rb[1:1:1:1]","description":"is expected to equal true","full_description":"Copilot::Eligibility::AccountantUserChecks#pass? when a company has no accountant users is expected to equal true","status":"passed","file_path":"./spec/models/copilot/eligibility/accountant_user_checks_spec.rb","line_number":14,"run_time":0.110036829,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility/accountant_user_checks_spec.rb[1:1:2:1:1]","description":"is expected to equal true","full_description":"Copilot::Eligibility::AccountantUserChecks#pass? when a company has an accountant user and user has never logged in is expected to equal true","status":"passed","file_path":"./spec/models/copilot/eligibility/accountant_user_checks_spec.rb","line_number":21,"run_time":0.124665943,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility/accountant_user_checks_spec.rb[1:1:2:2:1]","description":"is expected to equal true","full_description":"Copilot::Eligibility::AccountantUserChecks#pass? when a company has an accountant user and user has not logged in within last 12 months is expected to equal true","status":"passed","file_path":"./spec/models/copilot/eligibility/accountant_user_checks_spec.rb","line_number":27,"run_time":0.120041012,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility/accountant_user_checks_spec.rb[1:1:2:3:1]","description":"is expected to equal false","full_description":"Copilot::Eligibility::AccountantUserChecks#pass? when a company has an accountant user and user has logged in within last 12 months is expected to equal false","status":"passed","file_path":"./spec/models/copilot/eligibility/accountant_user_checks_spec.rb","line_number":33,"run_time":0.127898283,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility/accountant_user_checks_spec.rb[1:1:2:4:1]","description":"is expected to equal false","full_description":"Copilot::Eligibility::AccountantUserChecks#pass? when a company has an accountant user and user has an entry in the account managers table is expected to equal false","status":"passed","file_path":"./spec/models/copilot/eligibility/accountant_user_checks_spec.rb","line_number":42,"run_time":0.152254955,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility/accountant_user_checks_spec.rb[1:1:2:4:2:1]","description":"is expected to equal false","full_description":"Copilot::Eligibility::AccountantUserChecks#pass? when a company has an accountant user and user has an entry in the account managers table who has never logged in is expected to equal false","status":"passed","file_path":"./spec/models/copilot/eligibility/accountant_user_checks_spec.rb","line_number":47,"run_time":0.183518593,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility/accountant_user_checks_spec.rb[1:1:2:5:1]","description":"is expected to equal true","full_description":"Copilot::Eligibility::AccountantUserChecks#pass? when a company has an accountant user with the accountant user elapsed from Sales funnel is expected to equal true","status":"passed","file_path":"./spec/models/copilot/eligibility/accountant_user_checks_spec.rb","line_number":55,"run_time":0.128623537,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility/accountant_user_checks_spec.rb[1:1:2:6:1]","description":"is expected to equal false","full_description":"Copilot::Eligibility::AccountantUserChecks#pass? when a company has an accountant user with the accountant user who requested their clients be excluded from CoPilot is expected to equal false","status":"passed","file_path":"./spec/models/copilot/eligibility/accountant_user_checks_spec.rb","line_number":69,"run_time":0.130321057,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility/accountant_user_checks_spec.rb[1:2:1:1]","description":"is expected to equal false","full_description":"Copilot::Eligibility::AccountantUserChecks#fail? when the checks pass is expected to equal false","status":"passed","file_path":"./spec/models/copilot/eligibility/accountant_user_checks_spec.rb","line_number":82,"run_time":0.089795811,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility/accountant_user_checks_spec.rb[1:2:2:1]","description":"is expected to equal true","full_description":"Copilot::Eligibility::AccountantUserChecks#fail? when the checks fail is expected to equal true","status":"passed","file_path":"./spec/models/copilot/eligibility/accountant_user_checks_spec.rb","line_number":88,"run_time":0.089036079,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimation/email_builder_spec.rb[1:7]","description":"should set the emailable on the email to be the estimate","full_description":"Estimation::EmailBuilder should set the emailable on the email to be the estimate","status":"passed","file_path":"./spec/models/estimation/email_builder_spec.rb","line_number":113,"run_time":0.024874358,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimation/email_builder_spec.rb[1:8]","description":"should not allow more than the limit for recipients","full_description":"Estimation::EmailBuilder should not allow more than the limit for recipients","status":"passed","file_path":"./spec/models/estimation/email_builder_spec.rb","line_number":118,"run_time":0.030654281,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimation/email_builder_spec.rb[1:1:1]","description":"should return an email with the template recipients","full_description":"Estimation::EmailBuilder with default email template should return an email with the template recipients","status":"passed","file_path":"./spec/models/estimation/email_builder_spec.rb","line_number":14,"run_time":0.039380393,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimation/email_builder_spec.rb[1:1:2]","description":"should return an email with the template sender","full_description":"Estimation::EmailBuilder with default email template should return an email with the template sender","status":"passed","file_path":"./spec/models/estimation/email_builder_spec.rb","line_number":18,"run_time":0.042152407,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimation/email_builder_spec.rb[1:1:3]","description":"should return an email with the subject from the template","full_description":"Estimation::EmailBuilder with default email template should return an email with the subject from the template","status":"passed","file_path":"./spec/models/estimation/email_builder_spec.rb","line_number":22,"run_time":0.043503668,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimation/email_builder_spec.rb[1:2:1]","description":"should should return an email that is not emailed to the sender","full_description":"Estimation::EmailBuilder with a template with email_to_sender disabled should should return an email that is not emailed to the sender","status":"passed","file_path":"./spec/models/estimation/email_builder_spec.rb","line_number":33,"run_time":0.044407056,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimation/email_builder_spec.rb[1:3:1]","description":"should return an email that is emailed to the sender","full_description":"Estimation::EmailBuilder with a template with email_to_sender enabled should return an email that is emailed to the sender","status":"passed","file_path":"./spec/models/estimation/email_builder_spec.rb","line_number":44,"run_time":0.04129389,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimation/email_builder_spec.rb[1:4:1]","description":"should return an email with the estimate contact as recipient","full_description":"Estimation::EmailBuilder with no template set, using the estimate details should return an email with the estimate contact as recipient","status":"passed","file_path":"./spec/models/estimation/email_builder_spec.rb","line_number":54,"run_time":0.021317212,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimation/email_builder_spec.rb[1:4:2]","description":"should return an email with the active user as the sender","full_description":"Estimation::EmailBuilder with no template set, using the estimate details should return an email with the active user as the sender","status":"passed","file_path":"./spec/models/estimation/email_builder_spec.rb","line_number":58,"run_time":0.021492485,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimation/email_builder_spec.rb[1:4:3]","description":"should return an email with the company name, estimate type \u0026 reference as the subject","full_description":"Estimation::EmailBuilder with no template set, using the estimate details should return an email with the company name, estimate type \u0026 reference as the subject","status":"passed","file_path":"./spec/models/estimation/email_builder_spec.rb","line_number":62,"run_time":0.02227459,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimation/email_builder_spec.rb[1:4:4]","description":"should return an email with an empty body","full_description":"Estimation::EmailBuilder with no template set, using the estimate details should return an email with an empty body","status":"passed","file_path":"./spec/models/estimation/email_builder_spec.rb","line_number":66,"run_time":0.028630276,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimation/email_builder_spec.rb[1:4:5]","description":"should return an email that is emailed to the sender","full_description":"Estimation::EmailBuilder with no template set, using the estimate details should return an email that is emailed to the sender","status":"passed","file_path":"./spec/models/estimation/email_builder_spec.rb","line_number":70,"run_time":0.029758614,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimation/email_builder_spec.rb[1:5:1]","description":"should return an email with the recipient from the previous email","full_description":"Estimation::EmailBuilder with no template set, using the previously sent email's details should return an email with the recipient from the previous email","status":"passed","file_path":"./spec/models/estimation/email_builder_spec.rb","line_number":81,"run_time":0.04680784,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimation/email_builder_spec.rb[1:5:2]","description":"should return an email with sender from the previous email","full_description":"Estimation::EmailBuilder with no template set, using the previously sent email's details should return an email with sender from the previous email","status":"passed","file_path":"./spec/models/estimation/email_builder_spec.rb","line_number":85,"run_time":0.046061259,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimation/email_builder_spec.rb[1:5:3]","description":"should return an email with the company name, estimate type \u0026 reference as the subject","full_description":"Estimation::EmailBuilder with no template set, using the previously sent email's details should return an email with the company name, estimate type \u0026 reference as the subject","status":"passed","file_path":"./spec/models/estimation/email_builder_spec.rb","line_number":89,"run_time":0.044567352,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimation/email_builder_spec.rb[1:5:4]","description":"should return an email with the body from the previous email","full_description":"Estimation::EmailBuilder with no template set, using the previously sent email's details should return an email with the body from the previous email","status":"passed","file_path":"./spec/models/estimation/email_builder_spec.rb","line_number":93,"run_time":0.042701617,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimation/email_builder_spec.rb[1:5:5]","description":"the email being sent to sender should be set as in the previous email","full_description":"Estimation::EmailBuilder with no template set, using the previously sent email's details the email being sent to sender should be set as in the previous email","status":"passed","file_path":"./spec/models/estimation/email_builder_spec.rb","line_number":97,"run_time":0.075813639,"pending_message":null,"screenshot":null},{"id":"./spec/models/estimation/email_builder_spec.rb[1:6:1]","description":"should include the documents in the email","full_description":"Estimation::EmailBuilder with documents should include the documents in the email","status":"passed","file_path":"./spec/models/estimation/email_builder_spec.rb","line_number":108,"run_time":0.158434554,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections/copilot_addon_card_helper_spec.rb[1:1:1:1:1]","description":"is expected to eq \"eligible\"","full_description":"AddonsAndConnections::CopilotAddonCardHelper#copilot_journey_position with a CoPilot eligible company that's not started the journey is expected to eq \"eligible\"","status":"passed","file_path":"./spec/helpers/addons_and_connections/copilot_addon_card_helper_spec.rb","line_number":15,"run_time":0.014095786,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections/copilot_addon_card_helper_spec.rb[1:1:1:2:1]","description":"is expected to eq \"message_sent\"","full_description":"AddonsAndConnections::CopilotAddonCardHelper#copilot_journey_position with a CoPilot eligible company that's sent a message is expected to eq \"message_sent\"","status":"passed","file_path":"./spec/helpers/addons_and_connections/copilot_addon_card_helper_spec.rb","line_number":21,"run_time":0.153250197,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections/copilot_addon_card_helper_spec.rb[1:1:1:3:1]","description":"is expected to eq \"invited\"","full_description":"AddonsAndConnections::CopilotAddonCardHelper#copilot_journey_position with a CoPilot eligible company that's been invited by an accountant is expected to eq \"invited\"","status":"passed","file_path":"./spec/helpers/addons_and_connections/copilot_addon_card_helper_spec.rb","line_number":27,"run_time":0.133456967,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections/copilot_addon_card_helper_spec.rb[1:1:2:1:1]","description":"is expected to eq \"active\"","full_description":"AddonsAndConnections::CopilotAddonCardHelper#copilot_journey_position with an ineligible company that has an active CoPilot subscription is expected to eq \"active\"","status":"passed","file_path":"./spec/helpers/addons_and_connections/copilot_addon_card_helper_spec.rb","line_number":37,"run_time":0.166170136,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections/copilot_addon_card_helper_spec.rb[1:1:2:2:1]","description":"is expected to eq \"suspended\"","full_description":"AddonsAndConnections::CopilotAddonCardHelper#copilot_journey_position with an ineligible company that has a suspended CoPilot subscription is expected to eq \"suspended\"","status":"passed","file_path":"./spec/helpers/addons_and_connections/copilot_addon_card_helper_spec.rb","line_number":43,"run_time":0.175431621,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections/copilot_addon_card_helper_spec.rb[1:1:2:3:1]","description":"is expected to equal nil","full_description":"AddonsAndConnections::CopilotAddonCardHelper#copilot_journey_position with an ineligible company ineligible company type is expected to equal nil","status":"passed","file_path":"./spec/helpers/addons_and_connections/copilot_addon_card_helper_spec.rb","line_number":49,"run_time":0.08803138,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections/copilot_addon_card_helper_spec.rb[1:2:1:1]","description":"is expected to equal nil","full_description":"AddonsAndConnections::CopilotAddonCardHelper#copilot_addon_card_secondary_link when current user is not permitted is expected to equal nil","status":"passed","file_path":"./spec/helpers/addons_and_connections/copilot_addon_card_helper_spec.rb","line_number":73,"run_time":0.1742159,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections/copilot_addon_card_helper_spec.rb[1:2:2:1]","description":"is expected to equal nil","full_description":"AddonsAndConnections::CopilotAddonCardHelper#copilot_addon_card_secondary_link with no message thread subscriptions is expected to equal nil","status":"passed","file_path":"./spec/helpers/addons_and_connections/copilot_addon_card_helper_spec.rb","line_number":82,"run_time":0.01917484,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections/copilot_addon_card_helper_spec.rb[1:2:3:1]","description":"is expected to match \"Go to inbox\"","full_description":"AddonsAndConnections::CopilotAddonCardHelper#copilot_addon_card_secondary_link with no unread messages is expected to match \"Go to inbox\"","status":"passed","file_path":"./spec/helpers/addons_and_connections/copilot_addon_card_helper_spec.rb","line_number":92,"run_time":0.180391504,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections/copilot_addon_card_helper_spec.rb[1:2:4:1]","description":"is expected to match \"6 new messages\"","full_description":"AddonsAndConnections::CopilotAddonCardHelper#copilot_addon_card_secondary_link with unread messages is expected to match \"6 new messages\"","status":"passed","file_path":"./spec/helpers/addons_and_connections/copilot_addon_card_helper_spec.rb","line_number":102,"run_time":0.187036319,"pending_message":null,"screenshot":null},{"id":"./spec/policies/time_tracking_report_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"TimeTrackingReportPolicy a user with permission level below TIME is expected to equal false","status":"passed","file_path":"./spec/policies/time_tracking_report_policy_spec.rb","line_number":30,"run_time":0.024446718,"pending_message":null,"screenshot":null},{"id":"./spec/policies/time_tracking_report_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"TimeTrackingReportPolicy a user with permission level TIME is expected to equal true","status":"passed","file_path":"./spec/policies/time_tracking_report_policy_spec.rb","line_number":50,"run_time":0.026025729,"pending_message":null,"screenshot":null},{"id":"./spec/policies/time_tracking_report_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"TimeTrackingReportPolicy a user with permission level TAX_AND_LIMITED_ACCOUNTING is expected to equal true","status":"passed","file_path":"./spec/policies/time_tracking_report_policy_spec.rb","line_number":70,"run_time":0.026638818,"pending_message":null,"screenshot":null},{"id":"./spec/policies/time_tracking_report_policy_spec.rb[1:4:1]","description":"is expected to equal true","full_description":"TimeTrackingReportPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/time_tracking_report_policy_spec.rb","line_number":90,"run_time":0.156229242,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[4:3]","description":"shows invoice with project names","full_description":"InvoicesController GET :show for uk company shows invoice with project names","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":529,"run_time":0.613343216,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check_results_spec.rb[1:1:1]","description":"has a nice description","full_description":"HealthRobinson::CheckResults when all checks passed has a nice description","status":"passed","file_path":"./spec/models/health_robinson/check_results_spec.rb","line_number":22,"run_time":0.085021346,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check_results_spec.rb[1:1:2]","description":"knows that all checks passed","full_description":"HealthRobinson::CheckResults when all checks passed knows that all checks passed","status":"passed","file_path":"./spec/models/health_robinson/check_results_spec.rb","line_number":26,"run_time":0.098766825,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check_results_spec.rb[1:1:3]","description":"knows the checks that passed","full_description":"HealthRobinson::CheckResults when all checks passed knows the checks that passed","status":"passed","file_path":"./spec/models/health_robinson/check_results_spec.rb","line_number":31,"run_time":0.109596179,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check_results_spec.rb[1:1:4]","description":"has no errors","full_description":"HealthRobinson::CheckResults when all checks passed has no errors","status":"passed","file_path":"./spec/models/health_robinson/check_results_spec.rb","line_number":35,"run_time":0.095574759,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check_results_spec.rb[1:2:1]","description":"has a nice description","full_description":"HealthRobinson::CheckResults when some checks failed has a nice description","status":"passed","file_path":"./spec/models/health_robinson/check_results_spec.rb","line_number":41,"run_time":0.096616772,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check_results_spec.rb[1:2:2]","description":"has errors","full_description":"HealthRobinson::CheckResults when some checks failed has errors","status":"passed","file_path":"./spec/models/health_robinson/check_results_spec.rb","line_number":45,"run_time":0.117803062,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check_results_spec.rb[1:2:3]","description":"knows that not all the checks passed","full_description":"HealthRobinson::CheckResults when some checks failed knows that not all the checks passed","status":"passed","file_path":"./spec/models/health_robinson/check_results_spec.rb","line_number":49,"run_time":0.09079662,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check_results_spec.rb[1:2:4]","description":"knows the checks that failed","full_description":"HealthRobinson::CheckResults when some checks failed knows the checks that failed","status":"passed","file_path":"./spec/models/health_robinson/check_results_spec.rb","line_number":53,"run_time":0.089871063,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check_results_spec.rb[1:2:5]","description":"knows the checks that were run","full_description":"HealthRobinson::CheckResults when some checks failed knows the checks that were run","status":"passed","file_path":"./spec/models/health_robinson/check_results_spec.rb","line_number":58,"run_time":0.142939379,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check_results_spec.rb[1:2:6]","description":"knows the checks that succeeded","full_description":"HealthRobinson::CheckResults when some checks failed knows the checks that succeeded","status":"passed","file_path":"./spec/models/health_robinson/check_results_spec.rb","line_number":63,"run_time":0.107047096,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check_results_spec.rb[1:2:7]","description":"has the errors from the tests that failed","full_description":"HealthRobinson::CheckResults when some checks failed has the errors from the tests that failed","status":"passed","file_path":"./spec/models/health_robinson/check_results_spec.rb","line_number":68,"run_time":0.120132462,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check_results_spec.rb[1:2:8]","description":"is able to limit the errors to one test","full_description":"HealthRobinson::CheckResults when some checks failed is able to limit the errors to one test","status":"passed","file_path":"./spec/models/health_robinson/check_results_spec.rb","line_number":73,"run_time":0.116024987,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/up_to_date_helper_spec.rb[1:1]","description":"shows relevant status according to up_to_date value","full_description":"UpToDateHelper shows relevant status according to up_to_date value","status":"passed","file_path":"./spec/helpers/up_to_date_helper_spec.rb","line_number":21,"run_time":0.435294905,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/up_to_date_helper_spec.rb[1:2]","description":"column header should be Records Confirmed","full_description":"UpToDateHelper column header should be Records Confirmed","status":"passed","file_path":"./spec/helpers/up_to_date_helper_spec.rb","line_number":27,"run_time":0.356241521,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/up_to_date_helper_spec.rb[1:3]","description":"column header link should have param order set to up_to_date_until","full_description":"UpToDateHelper column header link should have param order set to up_to_date_until","status":"passed","file_path":"./spec/helpers/up_to_date_helper_spec.rb","line_number":34,"run_time":0.396786899,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/full_index_operation_spec.rb[1:1:1]","description":"returns a persisted operation","full_description":"Search::FullIndexOperation.prepare returns a persisted operation","status":"passed","file_path":"./spec/models/search/full_index_operation_spec.rb","line_number":16,"run_time":0.054801899,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/full_index_operation_spec.rb[1:1:2]","description":"by default creates one item per indexable model","full_description":"Search::FullIndexOperation.prepare by default creates one item per indexable model","status":"passed","file_path":"./spec/models/search/full_index_operation_spec.rb","line_number":23,"run_time":0.120437872,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/full_index_operation_spec.rb[1:1:3]","description":"does a full rollback if scheduling of any item failed","full_description":"Search::FullIndexOperation.prepare does a full rollback if scheduling of any item failed","status":"passed","file_path":"./spec/models/search/full_index_operation_spec.rb","line_number":36,"run_time":0.032388004,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/full_index_operation_spec.rb[1:1:4]","description":"takes a list of model classes and creates items for those","full_description":"Search::FullIndexOperation.prepare takes a list of model classes and creates items for those","status":"passed","file_path":"./spec/models/search/full_index_operation_spec.rb","line_number":51,"run_time":0.405379548,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/full_index_operation_spec.rb[1:2:1]","description":"schedules a Search::BeginReindexJob for all models to be indexed","full_description":"Search::FullIndexOperation#run schedules a Search::BeginReindexJob for all models to be indexed","status":"passed","file_path":"./spec/models/search/full_index_operation_spec.rb","line_number":75,"run_time":0.017712452,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/full_index_operation_spec.rb[1:2:2]","description":"marks the first item as running and returns it","full_description":"Search::FullIndexOperation#run marks the first item as running and returns it","status":"passed","file_path":"./spec/models/search/full_index_operation_spec.rb","line_number":82,"run_time":0.021058795,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/full_index_operation_spec.rb[1:2:3]","description":"enqueues the first item","full_description":"Search::FullIndexOperation#run enqueues the first item","status":"passed","file_path":"./spec/models/search/full_index_operation_spec.rb","line_number":92,"run_time":0.016935119,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/full_index_operation_spec.rb[1:2:4]","description":"adds a delay between the Search::BeginReindexJob and kicking off the first ModelIndexOperation","full_description":"Search::FullIndexOperation#run adds a delay between the Search::BeginReindexJob and kicking off the first ModelIndexOperation","status":"passed","file_path":"./spec/models/search/full_index_operation_spec.rb","line_number":98,"run_time":0.01704908,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/full_index_operation_spec.rb[1:2:5:1:1]","description":"schedules the Search::BeginReindexJobs accordingly","full_description":"Search::FullIndexOperation#run with given run_at parameter in the future schedules the Search::BeginReindexJobs accordingly","status":"passed","file_path":"./spec/models/search/full_index_operation_spec.rb","line_number":112,"run_time":0.017962158,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/full_index_operation_spec.rb[1:2:5:1:2]","description":"propagates the run_at time to the first item","full_description":"Search::FullIndexOperation#run with given run_at parameter in the future propagates the run_at time to the first item","status":"passed","file_path":"./spec/models/search/full_index_operation_spec.rb","line_number":118,"run_time":0.017931481,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/full_index_operation_spec.rb[1:2:5:2:1]","description":"schedules the Search::BeginReindexJob for the same time","full_description":"Search::FullIndexOperation#run with given run_at parameter in the past schedules the Search::BeginReindexJob for the same time","status":"passed","file_path":"./spec/models/search/full_index_operation_spec.rb","line_number":128,"run_time":0.049506382,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/full_index_operation_spec.rb[1:2:5:2:2]","description":"enqueues the first item to be run in the future","full_description":"Search::FullIndexOperation#run with given run_at parameter in the past enqueues the first item to be run in the future","status":"passed","file_path":"./spec/models/search/full_index_operation_spec.rb","line_number":134,"run_time":0.021473328,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/full_index_operation_spec.rb[1:3:1]","description":"returns a new item","full_description":"Search::FullIndexOperation#schedule returns a new item","status":"passed","file_path":"./spec/models/search/full_index_operation_spec.rb","line_number":146,"run_time":0.013737191,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/full_index_operation_spec.rb[1:3:2]","description":"creates a Search::ModelIndexOperation and stores the id in the payload","full_description":"Search::FullIndexOperation#schedule creates a Search::ModelIndexOperation and stores the id in the payload","status":"passed","file_path":"./spec/models/search/full_index_operation_spec.rb","line_number":155,"run_time":0.015454963,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/full_index_operation_spec.rb[1:4:1]","description":"kicks off the next ModelIndexOperation","full_description":"Search::FullIndexOperation#enqueue_item kicks off the next ModelIndexOperation","status":"passed","file_path":"./spec/models/search/full_index_operation_spec.rb","line_number":166,"run_time":0.009062594,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/full_index_operation_spec.rb[1:5:1]","description":"kicks off the next item","full_description":"Search::FullIndexOperation#item_complete kicks off the next item","status":"passed","file_path":"./spec/models/search/full_index_operation_spec.rb","line_number":187,"run_time":0.026327605,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/full_index_operation_spec.rb[1:5:2]","description":"marks the next item as running","full_description":"Search::FullIndexOperation#item_complete marks the next item as running","status":"passed","file_path":"./spec/models/search/full_index_operation_spec.rb","line_number":194,"run_time":0.023594184,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/full_index_operation_spec.rb[1:5:3]","description":"schedules a Search::CompleteReindexJob with a slight delay","full_description":"Search::FullIndexOperation#item_complete schedules a Search::CompleteReindexJob with a slight delay","status":"passed","file_path":"./spec/models/search/full_index_operation_spec.rb","line_number":204,"run_time":0.021474624,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/full_index_operation_spec.rb[1:5:4]","description":"does not schedule a Search::CompleteReindexJob if the item failed","full_description":"Search::FullIndexOperation#item_complete does not schedule a Search::CompleteReindexJob if the item failed","status":"passed","file_path":"./spec/models/search/full_index_operation_spec.rb","line_number":216,"run_time":0.02446927,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/full_index_operation_spec.rb[1:5:5]","description":"aborts the indexing if the item failed","full_description":"Search::FullIndexOperation#item_complete aborts the indexing if the item failed","status":"passed","file_path":"./spec/models/search/full_index_operation_spec.rb","line_number":224,"run_time":0.025682981,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/full_index_operation_spec.rb[1:6:1]","description":"returns the progress depending on the sub operation's items state","full_description":"Search::FullIndexOperation#progress returns the progress depending on the sub operation's items state","status":"passed","file_path":"./spec/models/search/full_index_operation_spec.rb","line_number":238,"run_time":0.056296735,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/full_index_operation_spec.rb[1:7:1]","description":"calls abort! on the child operations","full_description":"Search::FullIndexOperation#abort! calls abort! on the child operations","status":"passed","file_path":"./spec/models/search/full_index_operation_spec.rb","line_number":250,"run_time":0.013698819,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:1:2:3:2]","description":"representing admin expenses","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the cash accounting basis on the Flat Rate Scheme (at 5%) Expenses representing admin expenses","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":3348,"run_time":0.50816012,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:1:2:4:1]","description":"representing cost of sales","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the cash accounting basis on the Flat Rate Scheme (at 5%) Bills representing cost of sales","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":3423,"run_time":0.561143005,"pending_message":null,"screenshot":null},{"id":"./spec/views/banking/cashflow/_shortfall_prediction.html.erb_spec.rb[1:1:1]","description":"renders the horizon day in red for dates within 90 days","full_description":"banking/cashflow/_shortfall_prediction black/zero state renders the horizon day in red for dates within 90 days","status":"passed","file_path":"./spec/views/banking/cashflow/_shortfall_prediction.html.erb_spec.rb","line_number":25,"run_time":0.100049607,"pending_message":null,"screenshot":null},{"id":"./spec/views/banking/cashflow/_shortfall_prediction.html.erb_spec.rb[1:2:1]","description":"renders the horizon day in red for dates within 90 days","full_description":"banking/cashflow/_shortfall_prediction red/negative state renders the horizon day in red for dates within 90 days","status":"passed","file_path":"./spec/views/banking/cashflow/_shortfall_prediction.html.erb_spec.rb","line_number":34,"run_time":0.093136413,"pending_message":null,"screenshot":null},{"id":"./spec/views/banking/cashflow/_shortfall_prediction.html.erb_spec.rb[1:2:2:1]","description":"renders the horizon day in red for dates within 90 days","full_description":"banking/cashflow/_shortfall_prediction red/negative state if the currency is different renders the horizon day in red for dates within 90 days","status":"passed","file_path":"./spec/views/banking/cashflow/_shortfall_prediction.html.erb_spec.rb","line_number":52,"run_time":0.099492495,"pending_message":null,"screenshot":null},{"id":"./spec/views/banking/cashflow/_shortfall_prediction.html.erb_spec.rb[1:3:1]","description":"renders the horizon day in amber","full_description":"banking/cashflow/_shortfall_prediction amber/warning state renders the horizon day in amber","status":"passed","file_path":"./spec/views/banking/cashflow/_shortfall_prediction.html.erb_spec.rb","line_number":72,"run_time":0.095125024,"pending_message":null,"screenshot":null},{"id":"./spec/views/banking/cashflow/_shortfall_prediction.html.erb_spec.rb[1:4:1]","description":"renders a message in green when horizon day is not present","full_description":"banking/cashflow/_shortfall_prediction green/healthy state renders a message in green when horizon day is not present","status":"passed","file_path":"./spec/views/banking/cashflow/_shortfall_prediction.html.erb_spec.rb","line_number":82,"run_time":0.10370379,"pending_message":null,"screenshot":null},{"id":"./spec/views/banking/cashflow/_shortfall_prediction.html.erb_spec.rb[1:4:2:1]","description":"renders a message in green when horizon day is not present","full_description":"banking/cashflow/_shortfall_prediction green/healthy state if the currency is different renders a message in green when horizon day is not present","status":"passed","file_path":"./spec/views/banking/cashflow/_shortfall_prediction.html.erb_spec.rb","line_number":96,"run_time":0.093771938,"pending_message":null,"screenshot":null},{"id":"./spec/policies/mtd_debug_policy_spec.rb[1:1:1:1]","description":"does not allow prepare or submit","full_description":"MTDDebugPolicy an unmanaged company a user with permission level FULL_ACCESS does not allow prepare or submit","status":"passed","file_path":"./spec/policies/mtd_debug_policy_spec.rb","line_number":16,"run_time":0.101787189,"pending_message":null,"screenshot":null},{"id":"./spec/policies/mtd_debug_policy_spec.rb[1:1:2:1]","description":"allows prepare and submit","full_description":"MTDDebugPolicy an unmanaged company a support user allows prepare and submit","status":"passed","file_path":"./spec/policies/mtd_debug_policy_spec.rb","line_number":26,"run_time":0.167205619,"pending_message":null,"screenshot":null},{"id":"./spec/policies/mtd_debug_policy_spec.rb[1:2:1:1]","description":"does not allow prepare or submit","full_description":"MTDDebugPolicy a practice managed company a user with permission level FULL_ACCESS does not allow prepare or submit","status":"passed","file_path":"./spec/policies/mtd_debug_policy_spec.rb","line_number":39,"run_time":0.157174057,"pending_message":null,"screenshot":null},{"id":"./spec/policies/mtd_debug_policy_spec.rb[1:2:2:1]","description":"does not allow prepare or submit","full_description":"MTDDebugPolicy a practice managed company an account manager does not allow prepare or submit","status":"passed","file_path":"./spec/policies/mtd_debug_policy_spec.rb","line_number":48,"run_time":0.055753486,"pending_message":null,"screenshot":null},{"id":"./spec/policies/mtd_debug_policy_spec.rb[1:2:3:1]","description":"allows prepare and submit","full_description":"MTDDebugPolicy a practice managed company a support user allows prepare and submit","status":"passed","file_path":"./spec/policies/mtd_debug_policy_spec.rb","line_number":58,"run_time":0.185889492,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:50:2:1]","description":"is considered scheduled to email","full_description":"Invoice An invoice configured to send reminders in Scheduled state is considered scheduled to email","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":1201,"run_time":0.205531846,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:92:2]","description":"uses the right settings for sales tax number when sent status","full_description":"Invoice Universal company with two sales tax periods uses the right settings for sales tax number when sent status","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":2736,"run_time":0.240893274,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:94:3:2]","description":"has their place of supply locked","full_description":"Invoice MOSS invoices with line items has their place of supply locked","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":2800,"run_time":0.229879763,"pending_message":null,"screenshot":null},{"id":"./spec/lib/assets/uglifier_compressor_spec.rb[1:1]","description":"compress the javascript file","full_description":"Assets::UglifierCompressor compress the javascript file","status":"passed","file_path":"./spec/lib/assets/uglifier_compressor_spec.rb","line_number":34,"run_time":0.236127328,"pending_message":null,"screenshot":null},{"id":"./spec/models/report_date_range_spec.rb[1:1:1]","description":"reports valid ranges as valid","full_description":"ReportDateRange A ReportDateRange reports valid ranges as valid","status":"passed","file_path":"./spec/models/report_date_range_spec.rb","line_number":32,"run_time":0.069138732,"pending_message":null,"screenshot":null},{"id":"./spec/models/report_date_range_spec.rb[1:1:2]","description":"correctly parses dates in US format","full_description":"ReportDateRange A ReportDateRange correctly parses dates in US format","status":"passed","file_path":"./spec/models/report_date_range_spec.rb","line_number":39,"run_time":0.022900568,"pending_message":null,"screenshot":null},{"id":"./spec/models/report_date_range_spec.rb[1:1:3]","description":"correctly parses dates in ISO 8601 format","full_description":"ReportDateRange A ReportDateRange correctly parses dates in ISO 8601 format","status":"passed","file_path":"./spec/models/report_date_range_spec.rb","line_number":45,"run_time":0.018820619,"pending_message":null,"screenshot":null},{"id":"./spec/models/report_date_range_spec.rb[1:1:4]","description":"reports date ranges as invalid when they begin before the first accounting period","full_description":"ReportDateRange A ReportDateRange reports date ranges as invalid when they begin before the first accounting period","status":"passed","file_path":"./spec/models/report_date_range_spec.rb","line_number":51,"run_time":0.019685371,"pending_message":null,"screenshot":null},{"id":"./spec/models/report_date_range_spec.rb[1:1:5]","description":"assigns a default start date of the matching accounting period when not provided","full_description":"ReportDateRange A ReportDateRange assigns a default start date of the matching accounting period when not provided","status":"passed","file_path":"./spec/models/report_date_range_spec.rb","line_number":56,"run_time":0.020062216,"pending_message":null,"screenshot":null},{"id":"./spec/models/report_date_range_spec.rb[1:1:6]","description":"reports date ranges as invalid when they end after the last accounting period with no start date provided","full_description":"ReportDateRange A ReportDateRange reports date ranges as invalid when they end after the last accounting period with no start date provided","status":"passed","file_path":"./spec/models/report_date_range_spec.rb","line_number":63,"run_time":0.020098287,"pending_message":null,"screenshot":null},{"id":"./spec/models/report_date_range_spec.rb[1:1:7]","description":"reports date ranges as invalid when they end before they begin","full_description":"ReportDateRange A ReportDateRange reports date ranges as invalid when they end before they begin","status":"passed","file_path":"./spec/models/report_date_range_spec.rb","line_number":69,"run_time":0.019706233,"pending_message":null,"screenshot":null},{"id":"./spec/models/report_date_range_spec.rb[1:1:8]","description":"calculates the period start date when not provided","full_description":"ReportDateRange A ReportDateRange calculates the period start date when not provided","status":"passed","file_path":"./spec/models/report_date_range_spec.rb","line_number":74,"run_time":0.020114624,"pending_message":null,"screenshot":null},{"id":"./spec/models/report_date_range_spec.rb[1:1:9]","description":"correctly constructs the accounting period parameter","full_description":"ReportDateRange A ReportDateRange correctly constructs the accounting period parameter","status":"passed","file_path":"./spec/models/report_date_range_spec.rb","line_number":85,"run_time":0.019758612,"pending_message":null,"screenshot":null},{"id":"./spec/models/report_date_range_spec.rb[1:1:10:1]","description":"is not valid when no accounting periods exist","full_description":"ReportDateRange A ReportDateRange company has no start date set (and no annual accounting periods) is not valid when no accounting periods exist","status":"passed","file_path":"./spec/models/report_date_range_spec.rb","line_number":97,"run_time":0.01946045,"pending_message":null,"screenshot":null},{"id":"./spec/components/payment_methods/check_box_component_spec.rb[1:1]","description":"renders a tagged label element","full_description":"PaymentMethods::CheckBoxComponent renders a tagged label element","status":"passed","file_path":"./spec/components/payment_methods/check_box_component_spec.rb","line_number":30,"run_time":0.021989756,"pending_message":null,"screenshot":null},{"id":"./spec/components/payment_methods/check_box_component_spec.rb[1:2]","description":"renders a checkbox + hidden field","full_description":"PaymentMethods::CheckBoxComponent renders a checkbox + hidden field","status":"passed","file_path":"./spec/components/payment_methods/check_box_component_spec.rb","line_number":34,"run_time":0.012936443,"pending_message":null,"screenshot":null},{"id":"./spec/components/payment_methods/check_box_component_spec.rb[1:3]","description":"renders the primary and secondary text from i18n","full_description":"PaymentMethods::CheckBoxComponent renders the primary and secondary text from i18n","status":"passed","file_path":"./spec/components/payment_methods/check_box_component_spec.rb","line_number":39,"run_time":0.013216991,"pending_message":null,"screenshot":null},{"id":"./spec/components/payment_methods/check_box_component_spec.rb[1:4]","description":"renders a logo","full_description":"PaymentMethods::CheckBoxComponent renders a logo","status":"passed","file_path":"./spec/components/payment_methods/check_box_component_spec.rb","line_number":48,"run_time":0.013499134,"pending_message":null,"screenshot":null},{"id":"./spec/components/payment_methods/check_box_component_spec.rb[1:5:1]","description":"should render an unchecked box","full_description":"PaymentMethods::CheckBoxComponent when not selected should render an unchecked box","status":"passed","file_path":"./spec/components/payment_methods/check_box_component_spec.rb","line_number":55,"run_time":0.014280676,"pending_message":null,"screenshot":null},{"id":"./spec/components/payment_methods/check_box_component_spec.rb[1:6:1]","description":"should render a pre-checked box","full_description":"PaymentMethods::CheckBoxComponent when selected should render a pre-checked box","status":"passed","file_path":"./spec/components/payment_methods/check_box_component_spec.rb","line_number":63,"run_time":0.01770675,"pending_message":null,"screenshot":null},{"id":"./spec/components/payment_methods/check_box_component_spec.rb[1:7:1]","description":"should add a css class to the enclosing label","full_description":"PaymentMethods::CheckBoxComponent when disabled should add a css class to the enclosing label","status":"passed","file_path":"./spec/components/payment_methods/check_box_component_spec.rb","line_number":71,"run_time":0.019846323,"pending_message":null,"screenshot":null},{"id":"./spec/components/payment_methods/check_box_component_spec.rb[1:7:2]","description":"should render a disabled check box","full_description":"PaymentMethods::CheckBoxComponent when disabled should render a disabled check box","status":"passed","file_path":"./spec/components/payment_methods/check_box_component_spec.rb","line_number":75,"run_time":0.018560065,"pending_message":null,"screenshot":null},{"id":"./spec/components/payment_methods/check_box_component_spec.rb[1:7:3]","description":"should leave the hidden field enabled","full_description":"PaymentMethods::CheckBoxComponent when disabled should leave the hidden field enabled","status":"passed","file_path":"./spec/components/payment_methods/check_box_component_spec.rb","line_number":79,"run_time":0.079328323,"pending_message":null,"screenshot":null},{"id":"./spec/components/payment_methods/check_box_component_spec.rb[1:7:4]","description":"should preserve the helper text","full_description":"PaymentMethods::CheckBoxComponent when disabled should preserve the helper text","status":"passed","file_path":"./spec/components/payment_methods/check_box_component_spec.rb","line_number":83,"run_time":0.0189372,"pending_message":null,"screenshot":null},{"id":"./spec/components/payment_methods/check_box_component_spec.rb[1:7:5:1]","description":"should not retain the checked state","full_description":"PaymentMethods::CheckBoxComponent when disabled and the payment method was in a selected state should not retain the checked state","status":"passed","file_path":"./spec/components/payment_methods/check_box_component_spec.rb","line_number":93,"run_time":0.014337286,"pending_message":null,"screenshot":null},{"id":"./spec/components/payment_methods/check_box_component_spec.rb[1:8:1]","description":"should add a css class to the enclosing label","full_description":"PaymentMethods::CheckBoxComponent when in an error state should add a css class to the enclosing label","status":"passed","file_path":"./spec/components/payment_methods/check_box_component_spec.rb","line_number":102,"run_time":0.01394902,"pending_message":null,"screenshot":null},{"id":"./spec/components/payment_methods/check_box_component_spec.rb[1:8:2]","description":"should add a css class to the check box","full_description":"PaymentMethods::CheckBoxComponent when in an error state should add a css class to the check box","status":"passed","file_path":"./spec/components/payment_methods/check_box_component_spec.rb","line_number":106,"run_time":0.01381631,"pending_message":null,"screenshot":null},{"id":"./spec/components/payment_methods/check_box_component_spec.rb[1:8:3]","description":"should replace the helper text with the error","full_description":"PaymentMethods::CheckBoxComponent when in an error state should replace the helper text with the error","status":"passed","file_path":"./spec/components/payment_methods/check_box_component_spec.rb","line_number":110,"run_time":0.013242342,"pending_message":null,"screenshot":null},{"id":"./spec/components/payment_methods/check_box_component_spec.rb[1:8:4:1]","description":"should not apply the disabled style too","full_description":"PaymentMethods::CheckBoxComponent when in an error state when also disabled should not apply the disabled style too","status":"passed","file_path":"./spec/components/payment_methods/check_box_component_spec.rb","line_number":117,"run_time":0.013180714,"pending_message":null,"screenshot":null},{"id":"./spec/components/payment_methods/check_box_component_spec.rb[1:9:1]","description":"should attach a data attribute to the checkbox","full_description":"PaymentMethods::CheckBoxComponent when a currency list is provided should attach a data attribute to the checkbox","status":"passed","file_path":"./spec/components/payment_methods/check_box_component_spec.rb","line_number":126,"run_time":0.015050156,"pending_message":null,"screenshot":null},{"id":"./spec/components/payment_methods/check_box_component_spec.rb[1:10:1]","description":"should attach a data attribute to the checkbox","full_description":"PaymentMethods::CheckBoxComponent exclusive payment methods should attach a data attribute to the checkbox","status":"passed","file_path":"./spec/components/payment_methods/check_box_component_spec.rb","line_number":132,"run_time":0.018877193,"pending_message":null,"screenshot":null},{"id":"./spec/components/payment_methods/check_box_component_spec.rb[1:10:2:1]","description":"should update the data attribute value","full_description":"PaymentMethods::CheckBoxComponent exclusive payment methods when the payment method is exclusive should update the data attribute value","status":"passed","file_path":"./spec/components/payment_methods/check_box_component_spec.rb","line_number":139,"run_time":0.013872073,"pending_message":null,"screenshot":null},{"id":"./spec/components/payment_methods/check_box_component_spec.rb[1:11:1:1]","description":"should attach a negative data attribute to the checkbox","full_description":"PaymentMethods::CheckBoxComponent direct debits when a one-off payment method should attach a negative data attribute to the checkbox","status":"passed","file_path":"./spec/components/payment_methods/check_box_component_spec.rb","line_number":147,"run_time":0.012481127,"pending_message":null,"screenshot":null},{"id":"./spec/components/payment_methods/check_box_component_spec.rb[1:11:2:1]","description":"should attach a positive data attribute to the checkbox","full_description":"PaymentMethods::CheckBoxComponent direct debits when GoCardless should attach a positive data attribute to the checkbox","status":"passed","file_path":"./spec/components/payment_methods/check_box_component_spec.rb","line_number":155,"run_time":0.014397753,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[15:6:4:1]","description":"updates the project of the existing invoice item","full_description":"InvoicesController PUT :update syncing project ids to invoice items when changing the project from the invoice updates the project of the existing invoice item","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":1973,"run_time":0.294001501,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/paypal_sync_job_spec.rb[1:1:1]","description":"retries the job","full_description":"PaypalSyncJob when the DNS lookup fails retries the job","status":"passed","file_path":"./spec/jobs/paypal_sync_job_spec.rb","line_number":13,"run_time":0.036943944,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/paypal_sync_job_spec.rb[1:2:1]","description":"swallows the exception and logs it","full_description":"PaypalSyncJob when something else goes wrong swallows the exception and logs it","status":"passed","file_path":"./spec/jobs/paypal_sync_job_spec.rb","line_number":26,"run_time":0.033955284,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/paypal_sync_job_spec.rb[1:3:1]","description":"schedules another job","full_description":"PaypalSyncJob when the syncing for more than 7 days schedules another job","status":"passed","file_path":"./spec/jobs/paypal_sync_job_spec.rb","line_number":35,"run_time":0.051893528,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/paypal_sync_job_spec.rb[1:4:1]","description":"schedules another job","full_description":"PaypalSyncJob when the syncing for a specified date range schedules another job","status":"passed","file_path":"./spec/jobs/paypal_sync_job_spec.rb","line_number":44,"run_time":0.045483546,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/paypal_sync_job_spec.rb[1:5:1]","description":"skips the sync process","full_description":"PaypalSyncJob when the sync date range ends before its start skips the sync process","status":"passed","file_path":"./spec/jobs/paypal_sync_job_spec.rb","line_number":55,"run_time":0.032341678,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/paypal_sync_job_spec.rb[1:5:2]","description":"raises an exception when trying to queue a new sync job","full_description":"PaypalSyncJob when the sync date range ends before its start raises an exception when trying to queue a new sync job","status":"passed","file_path":"./spec/jobs/paypal_sync_job_spec.rb","line_number":65,"run_time":0.031704807,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/paypal_sync_job_spec.rb[1:6:1]","description":"does not schedule more PaypalSyncJobs","full_description":"PaypalSyncJob when the PayPal sync is disabled does not schedule more PaypalSyncJobs","status":"passed","file_path":"./spec/jobs/paypal_sync_job_spec.rb","line_number":77,"run_time":0.044485048,"pending_message":null,"screenshot":null}],"summary":{"duration":2.129264572,"example_count":553,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"553 examples, 0 failures"}