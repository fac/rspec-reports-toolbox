{"version":"3.11.0","messages":["Run options:\n  include {:ids=\u003e{\"./spec/models/uk_accounts_mapper_spec.rb\"=\u003e[\"1:1:2:1:3\"], \"./spec/controllers/invoices_controller_spec.rb\"=\u003e[\"29:1:1:2:1\", \"10:2:1\"], \"./spec/models/invoice_spec.rb\"=\u003e[\"1:16:4:1\"]}}\n  exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:1:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#prepare_to_fetch when the user is not MTD ITSA activated redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":5,"run_time":0.524833109,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:1:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#prepare_to_fetch when the user is MTD ITSA activated when there are no MTD ITSA tax years redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":17,"run_time":0.131852583,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:1:2:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#prepare_to_fetch when the user is MTD ITSA activated when the tax year exists before the user's starting tax year redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":33,"run_time":0.127797081,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:1:3:1]","description":"renders the template","full_description":"MTDITSA::SubmissionsController#prepare_to_fetch with an activated user and a current tax year renders the template","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":38,"run_time":3.443292082,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:1:3:2:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#prepare_to_fetch with an activated user and a current tax year when the `mtd_itsa_submissions` feature is disabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":61,"run_time":0.185958086,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:1:3:3:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#prepare_to_fetch with an activated user and a current tax year when the `prevent_sa_filing` feature is enabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":76,"run_time":0.274824991,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:1:3:4:1]","description":"returns a forbidden response","full_description":"MTDITSA::SubmissionsController#prepare_to_fetch with an activated user and a current tax year when selected user is different from current user returns a forbidden response","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":50,"run_time":0.207569164,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#fetch when the user is not MTD ITSA activated redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":5,"run_time":0.11932523,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:2:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#fetch when the user is MTD ITSA activated when there are no MTD ITSA tax years redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":17,"run_time":0.114627755,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:2:2:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#fetch when the user is MTD ITSA activated when the tax year exists before the user's starting tax year redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":33,"run_time":0.132890794,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:2:3:1:1]","description":"enqueues a job and redirects","full_description":"MTDITSA::SubmissionsController#fetch with an activated user and a current tax year when the submission succeeds enqueues a job and redirects","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":87,"run_time":0.209328155,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:2:3:2:1]","description":"renders the template","full_description":"MTDITSA::SubmissionsController#fetch with an activated user and a current tax year when the submission fails renders the template","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":99,"run_time":0.213808442,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:2:3:3:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#fetch with an activated user and a current tax year when the `mtd_itsa_submissions` feature is disabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":61,"run_time":0.18455238,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:2:3:4:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#fetch with an activated user and a current tax year when the `prevent_sa_filing` feature is enabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":76,"run_time":0.218184147,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:2:3:5:1]","description":"returns a forbidden response","full_description":"MTDITSA::SubmissionsController#fetch with an activated user and a current tax year when selected user is different from current user returns a forbidden response","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":50,"run_time":0.206734973,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:3:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#prepare_to_update when the user is not MTD ITSA activated redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":5,"run_time":0.150781609,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:3:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#prepare_to_update when the user is MTD ITSA activated when there are no MTD ITSA tax years redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":17,"run_time":0.17380555,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:3:2:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#prepare_to_update when the user is MTD ITSA activated when the tax year exists before the user's starting tax year redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":33,"run_time":0.144212218,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:3:3:1]","description":"renders the template","full_description":"MTDITSA::SubmissionsController#prepare_to_update with an activated user and a current tax year renders the template","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":128,"run_time":0.29562781,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:3:3:2:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#prepare_to_update with an activated user and a current tax year when the `mtd_itsa_submissions` feature is disabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":61,"run_time":0.267765879,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:3:3:3:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#prepare_to_update with an activated user and a current tax year when the `prevent_sa_filing` feature is enabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":76,"run_time":0.324034629,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:3:3:4:1]","description":"returns a forbidden response","full_description":"MTDITSA::SubmissionsController#prepare_to_update with an activated user and a current tax year when selected user is different from current user returns a forbidden response","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":50,"run_time":0.29969132,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:4:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#update when the user is not MTD ITSA activated redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":5,"run_time":0.166211706,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:4:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#update when the user is MTD ITSA activated when there are no MTD ITSA tax years redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":17,"run_time":0.18347075,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:4:2:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#update when the user is MTD ITSA activated when the tax year exists before the user's starting tax year redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":33,"run_time":0.196540577,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:4:3:1:1]","description":"enqueues a job, publishes an event, and redirects","full_description":"MTDITSA::SubmissionsController#update with an activated user and a current tax year when the submission succeeds enqueues a job, publishes an event, and redirects","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":192,"run_time":0.260076372,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:4:3:1:2:1:1]","description":"enqueues a job, publishes an event, and redirects","full_description":"MTDITSA::SubmissionsController#update with an activated user and a current tax year when the submission succeeds during the tax year with no type parameter enqueues a job, publishes an event, and redirects","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":205,"run_time":0.246691835,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:4:3:1:2:2:1]","description":"enqueues a job, publishes an event, and redirects","full_description":"MTDITSA::SubmissionsController#update with an activated user and a current tax year when the submission succeeds during the tax year with a type parameter of 'current_quarter' enqueues a job, publishes an event, and redirects","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":217,"run_time":0.232688579,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:4:3:1:2:3:1]","description":"enqueues a job, publishes an event, and redirects","full_description":"MTDITSA::SubmissionsController#update with an activated user and a current tax year when the submission succeeds during the tax year with a type parameter of 'q1' enqueues a job, publishes an event, and redirects","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":229,"run_time":0.236058049,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:4:3:1:2:4:1]","description":"enqueues a job, publishes an event, and redirects","full_description":"MTDITSA::SubmissionsController#update with an activated user and a current tax year when the submission succeeds during the tax year with a type parameter of 'year_to_date' enqueues a job, publishes an event, and redirects","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":241,"run_time":0.210487561,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:4:3:2:1]","description":"renders the template","full_description":"MTDITSA::SubmissionsController#update with an activated user and a current tax year when the submission fails renders the template","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":259,"run_time":0.332243512,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:4:3:3:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#update with an activated user and a current tax year when the `mtd_itsa_submissions` feature is disabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":61,"run_time":0.285913828,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:4:3:4:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#update with an activated user and a current tax year when the `prevent_sa_filing` feature is enabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":76,"run_time":0.318632817,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:4:3:5:1]","description":"returns a forbidden response","full_description":"MTDITSA::SubmissionsController#update with an activated user and a current tax year when selected user is different from current user returns a forbidden response","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":50,"run_time":0.232652325,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:5:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#prepare_biss when the user is not MTD ITSA activated redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":5,"run_time":0.159483992,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:5:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#prepare_biss when the user is MTD ITSA activated when there are no MTD ITSA tax years redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":17,"run_time":0.173864273,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:5:2:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#prepare_biss when the user is MTD ITSA activated when the tax year exists before the user's starting tax year redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":33,"run_time":0.190942676,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:5:3:1]","description":"renders the template","full_description":"MTDITSA::SubmissionsController#prepare_biss with an activated user and a current tax year renders the template","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":288,"run_time":0.309836742,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:5:3:2:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#prepare_biss with an activated user and a current tax year when the `mtd_itsa_submissions` feature is disabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":61,"run_time":0.2411073,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:5:3:3:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#prepare_biss with an activated user and a current tax year when the `prevent_sa_filing` feature is enabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":76,"run_time":0.349645069,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:5:3:4:1]","description":"returns a forbidden response","full_description":"MTDITSA::SubmissionsController#prepare_biss with an activated user and a current tax year when selected user is different from current user returns a forbidden response","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":50,"run_time":0.27636112,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:6:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#biss when the user is not MTD ITSA activated redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":5,"run_time":0.155233101,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:6:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#biss when the user is MTD ITSA activated when there are no MTD ITSA tax years redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":17,"run_time":0.18294031,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:6:2:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#biss when the user is MTD ITSA activated when the tax year exists before the user's starting tax year redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":33,"run_time":0.189975213,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:6:3:1:1]","description":"enqueues a job and redirects","full_description":"MTDITSA::SubmissionsController#biss with an activated user and a current tax year when the submission succeeds enqueues a job and redirects","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":337,"run_time":0.219484643,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:6:3:2:1]","description":"renders the template","full_description":"MTDITSA::SubmissionsController#biss with an activated user and a current tax year when the submission fails renders the template","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":349,"run_time":0.276185585,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:6:3:3:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#biss with an activated user and a current tax year when the `mtd_itsa_submissions` feature is disabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":61,"run_time":0.273799529,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:6:3:4:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#biss with an activated user and a current tax year when the `prevent_sa_filing` feature is enabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":76,"run_time":0.295735946,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:6:3:5:1]","description":"returns a forbidden response","full_description":"MTDITSA::SubmissionsController#biss with an activated user and a current tax year when selected user is different from current user returns a forbidden response","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":50,"run_time":0.291423851,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:7:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#review_biss when the user is not MTD ITSA activated redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":5,"run_time":0.180247767,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:7:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#review_biss when the user is MTD ITSA activated when there are no MTD ITSA tax years redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":17,"run_time":0.198447685,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:7:2:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#review_biss when the user is MTD ITSA activated when the tax year exists before the user's starting tax year redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":33,"run_time":0.198942226,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:7:3:1:1]","description":"renders the polling template","full_description":"MTDITSA::SubmissionsController#review_biss with an activated user and a current tax year with a pending BISS submission renders the polling template","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":391,"run_time":0.309519109,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:7:3:2:1]","description":"renders the calculation template","full_description":"MTDITSA::SubmissionsController#review_biss with an activated user and a current tax year with a successful BISS submission renders the calculation template","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":414,"run_time":0.31529967,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:7:3:3:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#review_biss with an activated user and a current tax year when the `mtd_itsa_submissions` feature is disabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":61,"run_time":0.266269728,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:7:3:4:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#review_biss with an activated user and a current tax year when the `prevent_sa_filing` feature is enabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":76,"run_time":0.294957897,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:7:3:5:1]","description":"returns a forbidden response","full_description":"MTDITSA::SubmissionsController#review_biss with an activated user and a current tax year when selected user is different from current user returns a forbidden response","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":50,"run_time":0.273388315,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:8:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#prepare_eops when the user is not MTD ITSA activated redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":5,"run_time":0.178066366,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:8:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#prepare_eops when the user is MTD ITSA activated when there are no MTD ITSA tax years redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":17,"run_time":0.177565109,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:8:2:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#prepare_eops when the user is MTD ITSA activated when the tax year exists before the user's starting tax year redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":33,"run_time":0.205015948,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:8:3:1]","description":"renders the template","full_description":"MTDITSA::SubmissionsController#prepare_eops with an activated user and a current tax year renders the template","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":471,"run_time":0.293226461,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:8:3:2:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#prepare_eops with an activated user and a current tax year when the `mtd_itsa_submissions` feature is disabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":61,"run_time":0.280000054,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:8:3:3:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#prepare_eops with an activated user and a current tax year when the `prevent_sa_filing` feature is enabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":76,"run_time":0.319548342,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:8:3:4:1]","description":"returns a forbidden response","full_description":"MTDITSA::SubmissionsController#prepare_eops with an activated user and a current tax year when selected user is different from current user returns a forbidden response","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":50,"run_time":0.285654717,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:9:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#eops when the user is not MTD ITSA activated redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":5,"run_time":0.167585832,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:9:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#eops when the user is MTD ITSA activated when there are no MTD ITSA tax years redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":17,"run_time":0.179046143,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:9:2:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#eops when the user is MTD ITSA activated when the tax year exists before the user's starting tax year redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":33,"run_time":0.209889813,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:9:3:1:1]","description":"enqueues a job and redirects","full_description":"MTDITSA::SubmissionsController#eops with an activated user and a current tax year when the submission succeeds enqueues a job and redirects","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":533,"run_time":0.231499196,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:9:3:2:1]","description":"renders the template","full_description":"MTDITSA::SubmissionsController#eops with an activated user and a current tax year when the submission fails renders the template","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":545,"run_time":0.354583706,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:9:3:3:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#eops with an activated user and a current tax year when the `mtd_itsa_submissions` feature is disabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":61,"run_time":0.315639409,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:9:3:4:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#eops with an activated user and a current tax year when the `prevent_sa_filing` feature is enabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":76,"run_time":0.347818315,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:9:3:5:1]","description":"returns a forbidden response","full_description":"MTDITSA::SubmissionsController#eops with an activated user and a current tax year when selected user is different from current user returns a forbidden response","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":50,"run_time":0.293675197,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:10:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#eops_poll when the user is not MTD ITSA activated redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":5,"run_time":0.173004791,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:10:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#eops_poll when the user is MTD ITSA activated when there are no MTD ITSA tax years redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":17,"run_time":0.182793999,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:10:2:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#eops_poll when the user is MTD ITSA activated when the tax year exists before the user's starting tax year redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":33,"run_time":0.194962845,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:10:3:1]","description":"returns a forbidden response","full_description":"MTDITSA::SubmissionsController#eops_poll when selected user is different from current user returns a forbidden response","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":50,"run_time":0.266008494,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:10:4:1:1]","description":"renders the polling template","full_description":"MTDITSA::SubmissionsController#eops_poll with an activated user and a current tax year with a pending EOPS submission renders the polling template","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":597,"run_time":0.298002702,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:10:4:2:1]","description":"redirects","full_description":"MTDITSA::SubmissionsController#eops_poll with an activated user and a current tax year with a successful EOPS submission redirects","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":615,"run_time":0.222594423,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:11:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#withdraw_eops when the user is not MTD ITSA activated redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":5,"run_time":0.185602475,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:11:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#withdraw_eops when the user is MTD ITSA activated when there are no MTD ITSA tax years redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":17,"run_time":0.19776953,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:11:2:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#withdraw_eops when the user is MTD ITSA activated when the tax year exists before the user's starting tax year redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":33,"run_time":0.186090739,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:11:3:1:1]","description":"redirects","full_description":"MTDITSA::SubmissionsController#withdraw_eops with an activated user and a current tax year when there are no EOPS submissions redirects","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":640,"run_time":0.221779431,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:11:3:2:1:1]","description":"redirects without archiving the submission","full_description":"MTDITSA::SubmissionsController#withdraw_eops with an activated user and a current tax year when there are EOPS submissions when the mtd_itsa_withdraw_eops feature flag is not enabled redirects without archiving the submission","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":658,"run_time":0.195025139,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:11:3:2:2:1]","description":"archives the submissions and redirects","full_description":"MTDITSA::SubmissionsController#withdraw_eops with an activated user and a current tax year when there are EOPS submissions when the mtd_itsa_withdraw_eops feature flag is enabled archives the submissions and redirects","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":669,"run_time":0.210095567,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:11:3:3:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#withdraw_eops with an activated user and a current tax year when the `mtd_itsa_submissions` feature is disabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":61,"run_time":0.274498302,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:11:3:4:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#withdraw_eops with an activated user and a current tax year when the `prevent_sa_filing` feature is enabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":76,"run_time":0.314566063,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:11:3:5:1]","description":"returns a forbidden response","full_description":"MTDITSA::SubmissionsController#withdraw_eops with an activated user and a current tax year when selected user is different from current user returns a forbidden response","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":50,"run_time":0.250068277,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:12:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#prepare_final_intent when the user is not MTD ITSA activated redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":5,"run_time":0.159780225,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:12:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#prepare_final_intent when the user is MTD ITSA activated when there are no MTD ITSA tax years redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":17,"run_time":0.205431687,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:12:2:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#prepare_final_intent when the user is MTD ITSA activated when the tax year exists before the user's starting tax year redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":33,"run_time":0.18274158,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:12:3:1]","description":"renders the template","full_description":"MTDITSA::SubmissionsController#prepare_final_intent with an activated user and a current tax year renders the template","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":699,"run_time":0.301281162,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:12:3:2:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#prepare_final_intent with an activated user and a current tax year when the `mtd_itsa_submissions` feature is disabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":61,"run_time":0.250077354,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:12:3:3:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#prepare_final_intent with an activated user and a current tax year when the `prevent_sa_filing` feature is enabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":76,"run_time":0.330551796,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:12:3:4:1]","description":"returns a forbidden response","full_description":"MTDITSA::SubmissionsController#prepare_final_intent with an activated user and a current tax year when selected user is different from current user returns a forbidden response","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":50,"run_time":0.277097983,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:13:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#final_intent when the user is not MTD ITSA activated redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":5,"run_time":0.183717706,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:13:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#final_intent when the user is MTD ITSA activated when there are no MTD ITSA tax years redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":17,"run_time":0.181777205,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:13:2:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#final_intent when the user is MTD ITSA activated when the tax year exists before the user's starting tax year redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":33,"run_time":0.189103267,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:13:3:1:1]","description":"enqueues a job and redirects to the calculation page","full_description":"MTDITSA::SubmissionsController#final_intent with an activated user and a current tax year when the submission succeeds enqueues a job and redirects to the calculation page","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":748,"run_time":0.21368837,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:13:3:2:1]","description":"renders the template","full_description":"MTDITSA::SubmissionsController#final_intent with an activated user and a current tax year when the submission fails renders the template","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":761,"run_time":0.284207866,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:13:3:3:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#final_intent with an activated user and a current tax year when the `mtd_itsa_submissions` feature is disabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":61,"run_time":0.279801071,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:13:3:4:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#final_intent with an activated user and a current tax year when the `prevent_sa_filing` feature is enabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":76,"run_time":0.31715502,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:13:3:5:1]","description":"returns a forbidden response","full_description":"MTDITSA::SubmissionsController#final_intent with an activated user and a current tax year when selected user is different from current user returns a forbidden response","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":50,"run_time":0.232796323,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:14:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#withdraw_final_intent when the user is not MTD ITSA activated redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":5,"run_time":0.156850166,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:14:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#withdraw_final_intent when the user is MTD ITSA activated when there are no MTD ITSA tax years redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":17,"run_time":0.174920625,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:14:2:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#withdraw_final_intent when the user is MTD ITSA activated when the tax year exists before the user's starting tax year redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":33,"run_time":0.189154935,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:14:3:1:1]","description":" redirects","full_description":"MTDITSA::SubmissionsController#withdraw_final_intent with an activated user and a current tax year when there are no intent submissions  redirects","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":808,"run_time":0.171031197,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:14:3:2:1]","description":"archives the submissions and redirects","full_description":"MTDITSA::SubmissionsController#withdraw_final_intent with an activated user and a current tax year when there are intent submissions archives the submissions and redirects","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":823,"run_time":0.213295743,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:14:3:2:2:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#withdraw_final_intent with an activated user and a current tax year when there are intent submissions when the `mtd_itsa_submissions` feature is disabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":61,"run_time":0.242776188,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:14:3:2:3:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#withdraw_final_intent with an activated user and a current tax year when there are intent submissions when the `prevent_sa_filing` feature is enabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":76,"run_time":0.336022748,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:14:3:2:4:1]","description":"returns a forbidden response","full_description":"MTDITSA::SubmissionsController#withdraw_final_intent with an activated user and a current tax year when there are intent submissions when selected user is different from current user returns a forbidden response","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":50,"run_time":0.290985503,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:15:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#final_calculation when the user is not MTD ITSA activated redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":5,"run_time":0.180445956,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:15:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#final_calculation when the user is MTD ITSA activated when there are no MTD ITSA tax years redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":17,"run_time":0.173855311,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:15:2:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#final_calculation when the user is MTD ITSA activated when the tax year exists before the user's starting tax year redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":33,"run_time":0.175220848,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:15:3:1]","description":"redirects","full_description":"MTDITSA::SubmissionsController#final_calculation with an activated user and a current tax year redirects","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":852,"run_time":0.176805943,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:15:3:2:1]","description":"renders the polling template","full_description":"MTDITSA::SubmissionsController#final_calculation with an activated user and a current tax year with a pending final intent submission renders the polling template","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":866,"run_time":0.254382455,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:15:3:3:1]","description":"renders the calculation template","full_description":"MTDITSA::SubmissionsController#final_calculation with an activated user and a current tax year with a successful final intent submission renders the calculation template","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":887,"run_time":0.64881469,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:15:3:3:2:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#final_calculation with an activated user and a current tax year with a successful final intent submission when the `mtd_itsa_submissions` feature is disabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":61,"run_time":0.321095399,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:15:3:3:3:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#final_calculation with an activated user and a current tax year with a successful final intent submission when the `prevent_sa_filing` feature is enabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":76,"run_time":0.385977481,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:15:3:3:4:1]","description":"returns a forbidden response","full_description":"MTDITSA::SubmissionsController#final_calculation with an activated user and a current tax year with a successful final intent submission when selected user is different from current user returns a forbidden response","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":50,"run_time":0.304035311,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:16:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#prepare_final_declaration when the user is not MTD ITSA activated redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":5,"run_time":0.16935956,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:16:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#prepare_final_declaration when the user is MTD ITSA activated when there are no MTD ITSA tax years redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":17,"run_time":0.188692535,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:16:2:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#prepare_final_declaration when the user is MTD ITSA activated when the tax year exists before the user's starting tax year redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":33,"run_time":0.194057609,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:16:3:1]","description":"redirects","full_description":"MTDITSA::SubmissionsController#prepare_final_declaration with an activated user and a current tax year redirects","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":915,"run_time":0.193999084,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:16:3:2:1]","description":"renders the template","full_description":"MTDITSA::SubmissionsController#prepare_final_declaration with an activated user and a current tax year with a final intent submission renders the template","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":929,"run_time":0.327166185,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:16:3:2:2:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#prepare_final_declaration with an activated user and a current tax year with a final intent submission when the `mtd_itsa_submissions` feature is disabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":61,"run_time":0.289662693,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:16:3:2:3:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#prepare_final_declaration with an activated user and a current tax year with a final intent submission when the `prevent_sa_filing` feature is enabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":76,"run_time":0.350864317,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:16:3:2:4:1]","description":"returns a forbidden response","full_description":"MTDITSA::SubmissionsController#prepare_final_declaration with an activated user and a current tax year with a final intent submission when selected user is different from current user returns a forbidden response","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":50,"run_time":0.261266341,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:17:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#final_declaration when the user is not MTD ITSA activated redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":5,"run_time":0.150325951,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:17:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#final_declaration when the user is MTD ITSA activated when there are no MTD ITSA tax years redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":17,"run_time":0.192659974,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:17:2:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#final_declaration when the user is MTD ITSA activated when the tax year exists before the user's starting tax year redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":33,"run_time":0.213811201,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:17:3:1]","description":"redirects","full_description":"MTDITSA::SubmissionsController#final_declaration with an activated user and a current tax year redirects","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":957,"run_time":0.208055273,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:17:3:2:1:1]","description":"enqueues a job and redirects","full_description":"MTDITSA::SubmissionsController#final_declaration with an activated user and a current tax year with a final intent submission when the submission succeeds enqueues a job and redirects","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":994,"run_time":0.246466519,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:17:3:2:2:1]","description":"renders the template","full_description":"MTDITSA::SubmissionsController#final_declaration with an activated user and a current tax year with a final intent submission when the submission fails renders the template","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":1006,"run_time":0.325914753,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:17:3:2:3:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#final_declaration with an activated user and a current tax year with a final intent submission when the `mtd_itsa_submissions` feature is disabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":61,"run_time":0.297512337,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:17:3:2:4:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#final_declaration with an activated user and a current tax year with a final intent submission when the `prevent_sa_filing` feature is enabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":76,"run_time":0.319787058,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:17:3:2:5:1]","description":"returns a forbidden response","full_description":"MTDITSA::SubmissionsController#final_declaration with an activated user and a current tax year with a final intent submission when selected user is different from current user returns a forbidden response","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":50,"run_time":0.302499626,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:18:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#final_poll when the user is not MTD ITSA activated redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":5,"run_time":0.182834254,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:18:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#final_poll when the user is MTD ITSA activated when there are no MTD ITSA tax years redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":17,"run_time":0.191014215,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:18:2:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#final_poll when the user is MTD ITSA activated when the tax year exists before the user's starting tax year redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":33,"run_time":0.182196131,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:18:3:1]","description":"returns a forbidden response","full_description":"MTDITSA::SubmissionsController#final_poll when selected user is different from current user returns a forbidden response","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":50,"run_time":0.262469527,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:18:4:1]","description":"redirects","full_description":"MTDITSA::SubmissionsController#final_poll with an activated user and a current tax year redirects","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":1037,"run_time":0.196968581,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:18:4:2:1:1]","description":"renders the polling template","full_description":"MTDITSA::SubmissionsController#final_poll with an activated user and a current tax year with a final intent submission with a pending final declaration submission renders the polling template","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":1062,"run_time":0.333374639,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:18:4:2:2:1]","description":"redirects","full_description":"MTDITSA::SubmissionsController#final_poll with an activated user and a current tax year with a final intent submission with a successful final declaration submission redirects","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":1080,"run_time":0.216625527,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:19:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#withdraw_final_declaration when the user is not MTD ITSA activated redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":5,"run_time":0.193496264,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:19:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#withdraw_final_declaration when the user is MTD ITSA activated when there are no MTD ITSA tax years redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":17,"run_time":0.191801706,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:19:2:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#withdraw_final_declaration when the user is MTD ITSA activated when the tax year exists before the user's starting tax year redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":33,"run_time":0.184553551,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:19:3:1]","description":"archives the submissions and redirects","full_description":"MTDITSA::SubmissionsController#withdraw_final_declaration with an activated user and a current tax year archives the submissions and redirects","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":1125,"run_time":0.229432052,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:19:3:2:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#withdraw_final_declaration with an activated user and a current tax year when the `mtd_itsa_submissions` feature is disabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":61,"run_time":0.286538563,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:19:3:3:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#withdraw_final_declaration with an activated user and a current tax year when the `prevent_sa_filing` feature is enabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":76,"run_time":0.348845496,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:19:3:4:1]","description":"returns a forbidden response","full_description":"MTDITSA::SubmissionsController#withdraw_final_declaration with an activated user and a current tax year when selected user is different from current user returns a forbidden response","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":50,"run_time":0.284608684,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:20:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#cancel when the user is not MTD ITSA activated redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":5,"run_time":0.182162572,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:20:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#cancel when the user is MTD ITSA activated when there are no MTD ITSA tax years redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":17,"run_time":0.193892293,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:20:2:2:1:1]","description":"redirects to the self assessment returns index page","full_description":"MTDITSA::SubmissionsController#cancel when the user is MTD ITSA activated when the tax year exists before the user's starting tax year redirects to the self assessment returns index page","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":33,"run_time":0.185876062,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:20:3:1:1]","description":"cancels the submission","full_description":"MTDITSA::SubmissionsController#cancel with an activated user and a current tax year with a pending submission cancels the submission","status":"passed","file_path":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb","line_number":1164,"run_time":0.239963896,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:20:3:1:2:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#cancel with an activated user and a current tax year with a pending submission when the `mtd_itsa_submissions` feature is disabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":61,"run_time":0.306061239,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:20:3:1:3:1]","description":"denies permission","full_description":"MTDITSA::SubmissionsController#cancel with an activated user and a current tax year with a pending submission when the `prevent_sa_filing` feature is enabled denies permission","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":76,"run_time":0.327237119,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mtd_itsa/submissions_controller_spec.rb[1:20:3:1:4:1]","description":"returns a forbidden response","full_description":"MTDITSA::SubmissionsController#cancel with an activated user and a current tax year with a pending submission when selected user is different from current user returns a forbidden response","status":"passed","file_path":"./spec/support/shared_examples/mtd_itsa_shared_examples.rb","line_number":50,"run_time":0.263527496,"pending_message":null,"screenshot":null},{"id":"./spec/features/flying_start_modal_spec.rb[1:1:1]","description":"triggers after setup","full_description":"The Flying Start modal for a new company triggers after setup","status":"passed","file_path":"./spec/features/flying_start_modal_spec.rb","line_number":11,"run_time":6.890833718,"pending_message":null,"screenshot":null},{"id":"./spec/features/flying_start_modal_spec.rb[1:2:1:1]","description":"displays a success message","full_description":"The Flying Start modal for a setup-complete company when completing a task displays a success message","status":"passed","file_path":"./spec/features/flying_start_modal_spec.rb","line_number":32,"run_time":2.17468887,"pending_message":null,"screenshot":null},{"id":"./spec/features/flying_start_modal_spec.rb[1:2:2:1]","description":"displays a success message","full_description":"The Flying Start modal for a setup-complete company when completing the final task displays a success message","status":"passed","file_path":"./spec/features/flying_start_modal_spec.rb","line_number":64,"run_time":2.221040576,"pending_message":null,"screenshot":null},{"id":"./spec/features/flying_start_modal_spec.rb[1:3:1]","description":"doesn't create the flying start","full_description":"The Flying Start modal for a whitelabelled company doesn't create the flying start","status":"passed","file_path":"./spec/features/flying_start_modal_spec.rb","line_number":100,"run_time":6.54560571,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:2]","description":"duplicate_for_recurring","full_description":"Recurring Bills duplicate_for_recurring","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":29,"run_time":0.825683341,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:4]","description":"duplicate_for_recurring with no number in reference","full_description":"Recurring Bills duplicate_for_recurring with no number in reference","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":91,"run_time":0.308087384,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:5]","description":"duplicate_for_recurring_no_change_in_standard_rate","full_description":"Recurring Bills duplicate_for_recurring_no_change_in_standard_rate","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":99,"run_time":0.50182762,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:6]","description":"duplicate_for_recurring_with_change_in_standard_rate","full_description":"Recurring Bills duplicate_for_recurring_with_change_in_standard_rate","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":114,"run_time":0.53100696,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:7]","description":"duplicate_for_recurring_with_change_in_standard_rate_2","full_description":"Recurring Bills duplicate_for_recurring_with_change_in_standard_rate_2","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":132,"run_time":0.531162085,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:1:1]","description":"validates the recurring value","full_description":"Recurring Bills when validating a recurring bill validates the recurring value","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":18,"run_time":0.269372598,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:3:1]","description":"updates the exchange_rate before updating the sales tax value","full_description":"Recurring Bills when the bill is a foreign currency bill updates the exchange_rate before updating the sales tax value","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":60,"run_time":0.861883918,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:8:1:1]","description":"is expected to be truthy","full_description":"Recurring Bills when calculating the next recurs on and the bill is recurring weekly is expected to be truthy","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":160,"run_time":0.26940637,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:8:1:2]","description":"is expected to eql Tue, 08 Apr 2008","full_description":"Recurring Bills when calculating the next recurs on and the bill is recurring weekly is expected to eql Tue, 08 Apr 2008","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":161,"run_time":0.285937503,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:8:2:1]","description":"is expected to be truthy","full_description":"Recurring Bills when calculating the next recurs on and the bill is recuring monthly is expected to be truthy","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":167,"run_time":0.244027517,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:8:2:2]","description":"is expected to eql Thu, 01 May 2008","full_description":"Recurring Bills when calculating the next recurs on and the bill is recuring monthly is expected to eql Thu, 01 May 2008","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":168,"run_time":0.249960209,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:8:3:1]","description":"is expected to be truthy","full_description":"Recurring Bills when calculating the next recurs on and the bill is two monthly is expected to be truthy","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":174,"run_time":0.272853171,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:8:3:2]","description":"is expected to eql Sun, 01 Jun 2008","full_description":"Recurring Bills when calculating the next recurs on and the bill is two monthly is expected to eql Sun, 01 Jun 2008","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":175,"run_time":0.270620228,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:8:4:1]","description":"is expected to be truthy","full_description":"Recurring Bills when calculating the next recurs on and the bill is recurring quaterly is expected to be truthy","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":181,"run_time":0.276607792,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:8:4:2]","description":"is expected to eql Tue, 01 Jul 2008","full_description":"Recurring Bills when calculating the next recurs on and the bill is recurring quaterly is expected to eql Tue, 01 Jul 2008","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":182,"run_time":0.256086155,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:8:5:1]","description":"is expected to be truthy","full_description":"Recurring Bills when calculating the next recurs on and the bill is recurring annually is expected to be truthy","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":188,"run_time":0.255670571,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:8:5:2]","description":"is expected to eql Wed, 01 Apr 2009","full_description":"Recurring Bills when calculating the next recurs on and the bill is recurring annually is expected to eql Wed, 01 Apr 2009","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":189,"run_time":0.427873412,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:8:6:1]","description":"is expected to be truthy","full_description":"Recurring Bills when calculating the next recurs on and the bill is recurring 2 yearly is expected to be truthy","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":195,"run_time":0.637754089,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:8:6:2]","description":"is expected to eql Thu, 01 Apr 2010","full_description":"Recurring Bills when calculating the next recurs on and the bill is recurring 2 yearly is expected to eql Thu, 01 Apr 2010","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":196,"run_time":0.484660675,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:9:1:1]","description":"is not ready to recur","full_description":"Recurring Bills when checking if the bill is ready to recur and the next recurs on is in the future is not ready to recur","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":210,"run_time":0.264843445,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:9:2:1]","description":"is ready to recur","full_description":"Recurring Bills when checking if the bill is ready to recur and the bill is dated and created today is ready to recur","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":218,"run_time":0.271129579,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:9:3:1]","description":"is ready to recur","full_description":"Recurring Bills when checking if the bill is ready to recur and the next recurs is in the past is ready to recur","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":226,"run_time":0.288149331,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:9:4:1]","description":"is not ready to recur","full_description":"Recurring Bills when checking if the bill is ready to recur and the bill is not recurring is not ready to recur","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":234,"run_time":0.278417034,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:10:1:1]","description":"adds an error to the bill","full_description":"Recurring Bills when setting the recurring end date and the date is before today adds an error to the bill","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":249,"run_time":0.251980833,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:10:2:1]","description":"adds an error to the bill","full_description":"Recurring Bills when setting the recurring end date and the date is today adds an error to the bill","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":263,"run_time":0.268215035,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:10:3:1]","description":"does not raises and exception when saved","full_description":"Recurring Bills when setting the recurring end date and the date is malformed does not raises and exception when saved","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":277,"run_time":0.333416024,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:11:1]","description":"should not mark the new bill as recurring","full_description":"Recurring Bills when bill stops recurring after one recur should not mark the new bill as recurring","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":300,"run_time":0.43709798,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:12:1]","description":"associates the new bill with the same project","full_description":"Recurring Bills when a recurring bill associated with a project associates the new bill with the same project","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":320,"run_time":0.364830592,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:13:1]","description":"recurs the bill via duplication","full_description":"Recurring Bills when source bill is invalid recurs the bill via duplication","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":345,"run_time":0.370786116,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:13:2]","description":"stops recurring the original invalid bill","full_description":"Recurring Bills when source bill is invalid stops recurring the original invalid bill","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":349,"run_time":0.451877099,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:13:3]","description":"notifies our error service of the invalid duplicate bill","full_description":"Recurring Bills when source bill is invalid notifies our error service of the invalid duplicate bill","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":357,"run_time":0.390132233,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:13:4]","description":"creates the bill item for the invalid bill","full_description":"Recurring Bills when source bill is invalid creates the bill item for the invalid bill","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":372,"run_time":0.391911546,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:14:1:1:1]","description":"should set the original bill to be no longer recurring","full_description":"Recurring Bills Generating recurring bills for a company with access to their account when there is a single recurring bill that recurs weekly and is dated one week ago should set the original bill to be no longer recurring","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":398,"run_time":0.285521365,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:14:1:1:2]","description":"should generate a new weekly recurring bill dated today","full_description":"Recurring Bills Generating recurring bills for a company with access to their account when there is a single recurring bill that recurs weekly and is dated one week ago should generate a new weekly recurring bill dated today","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":405,"run_time":0.32724938,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:15:1]","description":"create a new bill dated in 2011 with a 20% VAT rate","full_description":"Recurring Bills when recurring bill dated in 2009 on a 2-yearly frequency with a 15% VAT rate recurs create a new bill dated in 2011 with a 20% VAT rate","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":424,"run_time":0.516103287,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:16:1]","description":"preserves the sales tax amounts","full_description":"Recurring Bills when the bill has a manual sales tax rate preserves the sales tax amounts","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":450,"run_time":0.524642149,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/recurring_spec.rb[1:17:1]","description":"has the correct net total cost for the stock","full_description":"Recurring Bills when the bill is for stock has the correct net total cost for the stock","status":"passed","file_path":"./spec/models/bills/recurring_spec.rb","line_number":470,"run_time":0.797347208,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:5]","description":"create_new_valid_contacts","full_description":"Contact create_new_valid_contacts","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":112,"run_time":0.016574612,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:7]","description":"create_new_contact_and_override_charge_sales_tax_logic","full_description":"Contact create_new_contact_and_override_charge_sales_tax_logic","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":138,"run_time":0.026421863,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:8]","description":"create_contact_without_required_fields","full_description":"Contact create_contact_without_required_fields","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":146,"run_time":0.038603452,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:9]","description":"create_contact_with_invalid_country","full_description":"Contact create_contact_with_invalid_country","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":166,"run_time":0.013678475,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:10]","description":"create_contact_with_invalid_charge_sales_tax_value","full_description":"Contact create_contact_with_invalid_charge_sales_tax_value","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":173,"run_time":0.014784943,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:11]","description":"email_format","full_description":"Contact email_format","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":182,"run_time":0.023001478,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:12]","description":"mobile_number","full_description":"Contact mobile_number","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":189,"run_time":0.013733057,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:13]","description":"create_contact_with_non_unique_email","full_description":"Contact create_contact_with_non_unique_email","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":194,"run_time":0.131938951,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:14]","description":"create_contact_with_invalid_fields","full_description":"Contact create_contact_with_invalid_fields","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":199,"run_time":0.031042157,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:15]","description":"create_duplicate_contact_blank_emails","full_description":"Contact create_duplicate_contact_blank_emails","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":216,"run_time":0.016949864,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:18]","description":"trims email address before validation","full_description":"Contact trims email address before validation","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":293,"run_time":0.014242788,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:1:1:1]","description":"is expected to be truthy","full_description":"Contact#has_email_address? when both #email and #billing_email are present is expected to be truthy","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":14,"run_time":0.006850703,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:1:2:1]","description":"is expected to be truthy","full_description":"Contact#has_email_address? when only #email is present is expected to be truthy","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":20,"run_time":0.005367069,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:1:3:1]","description":"is expected to be truthy","full_description":"Contact#has_email_address? when only #billing_email is present is expected to be truthy","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":26,"run_time":0.005269744,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:1:4:1]","description":"is expected to be falsey","full_description":"Contact#has_email_address? when neither #email and #billing_email are present is expected to be falsey","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":32,"run_time":0.004984781,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:2:1]","description":"sorts by first_name","full_description":"Contact Post-process imported contacts sorts by first_name","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":48,"run_time":0.002929446,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:3:1]","description":"sorts by organisation and last_name","full_description":"Contact Contact ordering sorts by organisation and last_name","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":55,"run_time":0.190511186,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:4:1:1]","description":"is a vcard","full_description":"Contact A valid contact converted to a vcard is a vcard","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":93,"run_time":0.01033469,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:6:1]","description":"is expected to validate that :default_payment_terms_in_days looks like a number","full_description":"Contact#default_payment_terms_in_days is expected to validate that :default_payment_terms_in_days looks like a number","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":129,"run_time":0.007576835,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:6:2]","description":"is expected to allow :default_payment_terms_in_days to be \"\" or nil","full_description":"Contact#default_payment_terms_in_days is expected to allow :default_payment_terms_in_days to be \"\" or nil","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":131,"run_time":0.006054405,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:6:3]","description":"is expected not to allow :default_payment_terms_in_days to be -1","full_description":"Contact#default_payment_terms_in_days is expected not to allow :default_payment_terms_in_days to be -1","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":133,"run_time":0.006217582,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:6:4]","description":"is expected not to allow :default_payment_terms_in_days to be 1.3","full_description":"Contact#default_payment_terms_in_days is expected not to allow :default_payment_terms_in_days to be 1.3","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":135,"run_time":0.006371749,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:16:1]","description":"returns true if any recurring invoice assigned to this contact is set to email","full_description":"Contact#recipient_of_recurring_invoice_emails returns true if any recurring invoice assigned to this contact is set to email","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":227,"run_time":0.051516087,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:16:2]","description":"returns false if no recurring invoices for this contact are set to email","full_description":"Contact#recipient_of_recurring_invoice_emails returns false if no recurring invoices for this contact are set to email","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":232,"run_time":0.081397609,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:17:1]","description":"is not deleteable with bills","full_description":"Contact#is_deletable is not deleteable with bills","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":241,"run_time":0.083445239,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:17:2]","description":"is not deleteable with invoices","full_description":"Contact#is_deletable is not deleteable with invoices","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":247,"run_time":0.119865904,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:17:3]","description":"is not deleteable with recurring invoices profiles","full_description":"Contact#is_deletable is not deleteable with recurring invoices profiles","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":253,"run_time":0.028045123,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:17:4]","description":"is not deleteable with estimates","full_description":"Contact#is_deletable is not deleteable with estimates","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":260,"run_time":0.158146945,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:17:5]","description":"is not deleteable with projects","full_description":"Contact#is_deletable is not deleteable with projects","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":266,"run_time":0.024647914,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:17:6]","description":"is not deleteable with non-defunct gocardless mandates","full_description":"Contact#is_deletable is not deleteable with non-defunct gocardless mandates","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":272,"run_time":0.025043356,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:17:7]","description":"is deleteable with defunct gocardless mandates","full_description":"Contact#is_deletable is deleteable with defunct gocardless mandates","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":279,"run_time":0.035227592,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:17:8]","description":"is deleteable without projects, invoices, estimates, bills or non-defunct gocardless mandates","full_description":"Contact#is_deletable is deleteable without projects, invoices, estimates, bills or non-defunct gocardless mandates","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":287,"run_time":0.027191033,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:19:1]","description":"is not deletable","full_description":"Contact A contact with a recurring invoice is not deletable","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":302,"run_time":0.066609242,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:19:2]","description":"is deletable once the recurring invoice is deleted","full_description":"Contact A contact with a recurring invoice is deletable once the recurring invoice is deleted","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":306,"run_time":0.082350879,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:19:3]","description":"is not destroyable","full_description":"Contact A contact with a recurring invoice is not destroyable","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":312,"run_time":0.063695099,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:19:4]","description":"sends the recurring invoice to draft when the contact is hidden","full_description":"Contact A contact with a recurring invoice sends the recurring invoice to draft when the contact is hidden","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":318,"run_time":0.100533979,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:20:1]","description":"allows an email address containing an ampersand","full_description":"Contact A contact allows an email address containing an ampersand","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":330,"run_time":0.016421801,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:20:2]","description":"allows an billing email address containing an ampersand","full_description":"Contact A contact allows an billing email address containing an ampersand","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":335,"run_time":0.019811976,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:20:3]","description":"strips any trailing whitespace and commas from the email","full_description":"Contact A contact strips any trailing whitespace and commas from the email","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":340,"run_time":0.023056389,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:20:4]","description":"strips any trailing whitespace and commas from the billing_email","full_description":"Contact A contact strips any trailing whitespace and commas from the billing_email","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":346,"run_time":0.019080259,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:20:5]","description":"does not allow [contact_email] or [contact_billing_email] in email addresses","full_description":"Contact A contact does not allow [contact_email] or [contact_billing_email] in email addresses","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":352,"run_time":0.014994031,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:20:6]","description":"cannot have a blank locale","full_description":"Contact A contact cannot have a blank locale","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":360,"run_time":0.015744832,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:20:10]","description":"returns a LedgerApi::ContactAccount instance when getting the contact accounts","full_description":"Contact A contact returns a LedgerApi::ContactAccount instance when getting the contact accounts","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":424,"run_time":0.017416101,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:20:7:1]","description":"has a filename for statements","full_description":"Contact A contact with an historical statement date range has a filename for statements","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":376,"run_time":0.021266596,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:20:8:1]","description":"has no filename for statements","full_description":"Contact A contact with no historical statement date range has no filename for statements","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":390,"run_time":0.020455283,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:20:9:1]","description":"correctly substitutes the body macros","full_description":"Contact A contact with an email correctly substitutes the body macros","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":411,"run_time":0.043060138,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:20:9:2]","description":"correctly substitutes the subject macros","full_description":"Contact A contact with an email correctly substitutes the subject macros","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":415,"run_time":0.026259163,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:20:9:3]","description":"correctly substitutes the address macros","full_description":"Contact A contact with an email correctly substitutes the address macros","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":419,"run_time":0.027155688,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:21:1]","description":"allows UK contact to update country and charging","full_description":"Contact EC Goods validation allows UK contact to update country and charging","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":448,"run_time":0.179942991,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:21:2]","description":"allows EU contact to update country/sales tax charging if not on an EC goods invoice","full_description":"Contact EC Goods validation allows EU contact to update country/sales tax charging if not on an EC goods invoice","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":462,"run_time":0.166732889,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:21:3]","description":"allows contact to update charging country if on a sent non-EC Goods invoice","full_description":"Contact EC Goods validation allows contact to update charging country if on a sent non-EC Goods invoice","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":470,"run_time":0.250564516,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:21:4]","description":"does not allow contact to update charging country if on a sent EC Goods invoice","full_description":"Contact EC Goods validation does not allow contact to update charging country if on a sent EC Goods invoice","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":480,"run_time":0.23953658,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:21:5]","description":"does not allow contact to update country if on a sent EC Goods invoice","full_description":"Contact EC Goods validation does not allow contact to update country if on a sent EC Goods invoice","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":491,"run_time":0.269800543,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:22:1]","description":"does not try to recalculate its account balance on deletion","full_description":"Contact A contact with a bill does not try to recalculate its account balance on deletion","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":525,"run_time":0.129589054,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:22:2]","description":"tries to recalculate its account balance if the bill is deleted","full_description":"Contact A contact with a bill tries to recalculate its account balance if the bill is deleted","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":531,"run_time":0.227121811,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:23:1]","description":"returns on letter for two contacts starting with the same letter","full_description":"Contact::letters returns on letter for two contacts starting with the same letter","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":546,"run_time":0.022468481,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:24:1]","description":"returns nil for a contact with no invoices","full_description":"Contact#average_days_beyond_term returns nil for a contact with no invoices","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":560,"run_time":0.107191624,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:24:2]","description":"returns nil if number of paid invoices in time interval is less than 3","full_description":"Contact#average_days_beyond_term returns nil if number of paid invoices in time interval is less than 3","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":564,"run_time":1.435280058,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:24:3]","description":"disregards credit notes from calculation","full_description":"Contact#average_days_beyond_term disregards credit notes from calculation","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":575,"run_time":1.374105265,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:24:4]","description":"disregards cancelled invoices from calculation","full_description":"Contact#average_days_beyond_term disregards cancelled invoices from calculation","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":591,"run_time":1.113672153,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:24:5]","description":"disregards partially paid invoices from calculation","full_description":"Contact#average_days_beyond_term disregards partially paid invoices from calculation","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":605,"run_time":1.301577465,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:24:6]","description":"disregards recurring invoices from calculation","full_description":"Contact#average_days_beyond_term disregards recurring invoices from calculation","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":618,"run_time":0.954729755,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:24:7]","description":"calculates average correctly for over 3 invoices","full_description":"Contact#average_days_beyond_term calculates average correctly for over 3 invoices","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":631,"run_time":1.391298119,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:25:1:1]","description":"returns false","full_description":"Contact#send_new_invoice_emails when database value is false returns false","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":650,"run_time":0.008455536,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:25:2:1]","description":"returns true","full_description":"Contact#send_new_invoice_emails when database value is true returns true","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":658,"run_time":0.008569682,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:26:1:1]","description":"returns false","full_description":"Contact#send_reminder_emails when database value is false returns false","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":668,"run_time":0.008843067,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:26:2:1]","description":"returns true","full_description":"Contact#send_reminder_emails when database value is true returns true","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":676,"run_time":0.007508539,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:27:1:1]","description":"returns false","full_description":"Contact#send_thank_you_emails when database value is false returns false","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":686,"run_time":0.007336154,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:27:2:1]","description":"returns true","full_description":"Contact#send_thank_you_emails when database value is true returns true","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":694,"run_time":0.008075538,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:28:1:1:1]","description":"returns a presence validation error","full_description":"Contact validations #locale when locale is blank returns a presence validation error","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":708,"run_time":0.013587638,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:28:1:2:1]","description":"returns an inclusion validation error","full_description":"Contact validations #locale when locale is not an accepted language code returns an inclusion validation error","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":717,"run_time":0.012131552,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:28:1:3:1]","description":"is valid","full_description":"Contact validations #locale when locale is an accepted language code is valid","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":726,"run_time":0.012203576,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:28:2:1:1]","description":"does not allow more than 2 email addresses per field","full_description":"Contact validations #validate_email_fields when the company is on a free trial and the spam prevention for free trials feature is enabled does not allow more than 2 email addresses per field","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":734,"run_time":0.013578814,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:28:2:2:1]","description":"does not allow more than 10 email addresses per field","full_description":"Contact validations #validate_email_fields when the company is not on a free trial and the spam prevention for free trials feature is enabled does not allow more than 10 email addresses per field","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":747,"run_time":0.049288549,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:29:1:1]","description":"updates the recurring invoice profile search index","full_description":"Contact when a contacts details has been updated and the first name has changed updates the recurring invoice profile search index","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":762,"run_time":0.021249349,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:29:2:1]","description":"updates the recurring invoice profile search index","full_description":"Contact when a contacts details has been updated and the last name has changed updates the recurring invoice profile search index","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":770,"run_time":0.018528793,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:29:3:1]","description":"updates the recurring invoice profile search index","full_description":"Contact when a contacts details has been updated and the organisation name has changed updates the recurring invoice profile search index","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":778,"run_time":0.022367267,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:29:4:1]","description":"does not updates the recurring invoice profile search index","full_description":"Contact when a contacts details has been updated when another field is changed does not updates the recurring invoice profile search index","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":786,"run_time":0.021541546,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:30:1:1]","description":"returns true","full_description":"Contact#has_scheduled_emails? when the recurring invoice profile has emails scheduled returns true","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":806,"run_time":0.137087066,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:30:2:1]","description":"returns true","full_description":"Contact#has_scheduled_emails? when user has an invoice that is scheduled to send returns true","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":814,"run_time":0.104569923,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:30:3:1]","description":"returns true","full_description":"Contact#has_scheduled_emails? when user has an invoice with send_reminder_emails selected returns true","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":822,"run_time":0.079109207,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:30:4:1]","description":"returns true","full_description":"Contact#has_scheduled_emails? when user has an invoice with send_thank_you_emails selected returns true","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":830,"run_time":0.066998792,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:30:5:1]","description":"returns true","full_description":"Contact#has_scheduled_emails? when the user has contact level email settings set returns true","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":844,"run_time":0.011856912,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:30:6:1]","description":"returns true","full_description":"Contact#has_scheduled_emails? when the user has a contact level email settings set but not the top level uses_contact_level_email_settings setting returns true","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":858,"run_time":0.013505518,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:30:7:1]","description":"returns false","full_description":"Contact#has_scheduled_emails? when the user does not have invoices or recurring invoices without emails scheduled returns false","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":864,"run_time":0.017287956,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:31:1:1]","description":"is expected to eq \"Acme Inc\"","full_description":"Contact#display_name when #organisation_name, #first_name and #last_name are all present is expected to eq \"Acme Inc\"","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":876,"run_time":0.007499789,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:31:2:1]","description":"is expected to eq \"Adam Butler\"","full_description":"Contact#display_name when #first_name and #last_name are present is expected to eq \"Adam Butler\"","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":882,"run_time":0.006644636,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:32:1]","description":"is equivalent to #display_name","full_description":"Contact::DISPLAY_NAME_SQL is equivalent to #display_name","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":887,"run_time":0.019001542,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:33:1]","description":"does not schedule a job","full_description":"Contact#recalculate_sales_tax_on_invoices does not schedule a job","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":902,"run_time":0.016338959,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:33:2:1]","description":"does not schedule a job","full_description":"Contact#recalculate_sales_tax_on_invoices when charge_sales_tax is changed does not schedule a job","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":909,"run_time":0.018965943,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:33:3:1]","description":"does not schedule a job","full_description":"Contact#recalculate_sales_tax_on_invoices for a contact with a sent invoice does not schedule a job","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":919,"run_time":0.122120623,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:33:3:2:1]","description":"schedules a job","full_description":"Contact#recalculate_sales_tax_on_invoices for a contact with a sent invoice when charge_sales_tax is changed schedules a job","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":926,"run_time":0.115482737,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:34:1:1]","description":"is valid","full_description":"Contact when changing country with no invoices or recurring invoice profiles is valid","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":943,"run_time":0.014236279,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:34:2:1]","description":"is valid","full_description":"Contact when changing country with a sent invoice and draft recurring invoice profile is valid","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":956,"run_time":0.119696212,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:34:3:1]","description":"is invalid","full_description":"Contact when changing country with a draft invoice is invalid","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":968,"run_time":0.078705229,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:34:4:1]","description":"is invalid","full_description":"Contact when changing country with a scheduled invoice is invalid","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":981,"run_time":0.142989827,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:34:5:1]","description":"is invalid","full_description":"Contact when changing country with a recurring invoice profile is invalid","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":994,"run_time":0.027952807,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:35:1:1]","description":"is valid","full_description":"Contact when changing sales tax setting with no invoices or recurring invoice profiles is valid","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":1011,"run_time":0.021347883,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:35:2:1]","description":"is valid","full_description":"Contact when changing sales tax setting with a sent invoice and draft recurring invoice profile is valid","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":1024,"run_time":0.141358924,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:35:3:1]","description":"is invalid","full_description":"Contact when changing sales tax setting with a draft invoice is invalid","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":1036,"run_time":0.079255568,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:35:4:1]","description":"is invalid","full_description":"Contact when changing sales tax setting with a scheduled invoice is invalid","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":1049,"run_time":0.132199987,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:35:5:1]","description":"is invalid","full_description":"Contact when changing sales tax setting with a recurring invoice profile is invalid","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":1062,"run_time":0.02537826,"pending_message":null,"screenshot":null},{"id":"./spec/models/contact_spec.rb[1:36:1:1]","description":"resets the imported item state","full_description":"Contact if imported when the contact is destroyed resets the imported item state","status":"passed","file_path":"./spec/models/contact_spec.rb","line_number":1077,"run_time":0.061124838,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb[1:1:1:1:1]","description":"returns an empty array of payments","full_description":"Invoicable::PaymentCalculatorWithCreditNotePayments#all_payments with an invoice when the invoices doesn't have any payments returns an empty array of payments","status":"passed","file_path":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb","line_number":24,"run_time":0.127612371,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb[1:1:1:2:1]","description":"returns the list of payments","full_description":"Invoicable::PaymentCalculatorWithCreditNotePayments#all_payments with an invoice when the invoice has payments returns the list of payments","status":"passed","file_path":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb","line_number":43,"run_time":2.060326507,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb[1:1:2:1:1]","description":"is expected to eq [#\u003cBankAccountEntry id: 20, bank_account_id: 380302813, description: \"Credit Note refund against REF ...d_for_review: false, company_id: 895397833, general_ledger_account_id: 347682661, property_id: nil\u003e]","full_description":"Invoicable::PaymentCalculatorWithCreditNotePayments#all_payments with a credit note when the credit note has payments is expected to eq [#\u003cBankAccountEntry id: 20, bank_account_id: 380302813, description: \"Credit Note refund against REF ...d_for_review: false, company_id: 895397833, general_ledger_account_id: 347682661, property_id: nil\u003e]","status":"passed","file_path":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb","line_number":79,"run_time":1.303301968,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb[1:2:1:1]","description":"returns the total value of the invoicable's payments","full_description":"Invoicable::PaymentCalculatorWithCreditNotePayments#total_value without any payments returns the total value of the invoicable's payments","status":"passed","file_path":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb","line_number":91,"run_time":0.09836212,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb[1:2:2:1]","description":"should always be zero","full_description":"Invoicable::PaymentCalculatorWithCreditNotePayments#total_value with a draft invoice should always be zero","status":"passed","file_path":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb","line_number":99,"run_time":0.090069542,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb[1:2:3:1:1]","description":"returns the total value of the invoicable's payments","full_description":"Invoicable::PaymentCalculatorWithCreditNotePayments#total_value when the invoice has payments that fully net off the invoice returns the total value of the invoicable's payments","status":"passed","file_path":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb","line_number":106,"run_time":0.353585974,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb[1:2:3:2:1]","description":"returns the total value of the invoicable's payments","full_description":"Invoicable::PaymentCalculatorWithCreditNotePayments#total_value when the invoice has payments that partially net off the invoice returns the total value of the invoicable's payments","status":"passed","file_path":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb","line_number":113,"run_time":0.309402838,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb[1:2:3:3:1]","description":"returns the value of all the payments","full_description":"Invoicable::PaymentCalculatorWithCreditNotePayments#total_value when the invoice has payments with multiple payments returns the value of all the payments","status":"passed","file_path":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb","line_number":120,"run_time":0.64814605,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb[1:2:3:4:1]","description":"returns the total value of the invoicable's payments","full_description":"Invoicable::PaymentCalculatorWithCreditNotePayments#total_value when the invoice has payments and the invoice also has reconciliations returns the total value of the invoicable's payments","status":"passed","file_path":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb","line_number":139,"run_time":0.731450757,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb[1:2:4:1:1]","description":"it should calculate the total value correctly","full_description":"Invoicable::PaymentCalculatorWithCreditNotePayments#total_value with a foreign currency invoice with both native currency and foreign currency payments it should calculate the total value correctly","status":"passed","file_path":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb","line_number":165,"run_time":0.662697552,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb[1:2:5:1]","description":"returns the total value minus the value of the passed payment","full_description":"Invoicable::PaymentCalculatorWithCreditNotePayments#total_value #total_value_excluding returns the total value minus the value of the passed payment","status":"passed","file_path":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb","line_number":172,"run_time":0.604255885,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb[1:2:6:1:1]","description":"returns the date of the last payment","full_description":"Invoicable::PaymentCalculatorWithCreditNotePayments#total_value #paid_on_date for a fully paid invoice returns the date of the last payment","status":"passed","file_path":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb","line_number":192,"run_time":0.593750437,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb[1:2:6:2:1]","description":"returns nil","full_description":"Invoicable::PaymentCalculatorWithCreditNotePayments#total_value #paid_on_date for an invoice that isn't fully paid returns nil","status":"passed","file_path":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb","line_number":208,"run_time":0.120498512,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb[1:2:6:3:1]","description":"returns any payments before the passed date","full_description":"Invoicable::PaymentCalculatorWithCreditNotePayments#total_value #paid_on_date #payments_before_date returns any payments before the passed date","status":"passed","file_path":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb","line_number":214,"run_time":1.202586203,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb[1:2:6:4:1]","description":"returns the oldest payment, based on it's dated_on","full_description":"Invoicable::PaymentCalculatorWithCreditNotePayments#total_value #paid_on_date #earliest_payment returns the oldest payment, based on it's dated_on","status":"passed","file_path":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb","line_number":228,"run_time":1.152372178,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb[1:3:1:1]","description":"sums the total amount of all payments","full_description":"Invoicable::PaymentCalculatorWithCreditNotePayments#paid_amount with a credit note sums the total amount of all payments","status":"passed","file_path":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb","line_number":281,"run_time":0.386064273,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb[1:3:2:1]","description":"sums the total amount of all payments","full_description":"Invoicable::PaymentCalculatorWithCreditNotePayments#paid_amount with an invoice sums the total amount of all payments","status":"passed","file_path":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb","line_number":310,"run_time":0.903764226,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb[1:4:1:1:1]","description":"returns the total paid with credit note in the invoice's currency, not the company's native currency","full_description":"Invoicable::PaymentCalculatorWithCreditNotePayments#total_paid_with_credit_note with a universal_company when the reconciliations currency is different from the company's native currency returns the total paid with credit note in the invoice's currency, not the company's native currency","status":"passed","file_path":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb","line_number":334,"run_time":0.716868974,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb[1:4:1:2:1]","description":"returns the total paid with credit note in the invoice's currency which is the company's native currency","full_description":"Invoicable::PaymentCalculatorWithCreditNotePayments#total_paid_with_credit_note with a universal_company when the reconciliations currency is the same as the company's native currency returns the total paid with credit note in the invoice's currency which is the company's native currency","status":"passed","file_path":"./spec/models/invoicable/payment_calculator_with_credit_note_payments_spec.rb","line_number":345,"run_time":0.625679908,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb[1:1:1]","description":"is expected not to have a failure on #\u003cBill id: 42, contact_id: 1051239574, reference: \"REF001\", dated_on: \"2022-12-15\", due_date: \"2022-1...erty_id: nil, bill_items_count: 1, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","full_description":"BillTotalsMatchCheck when checking a company with correct bill totals is expected not to have a failure on #\u003cBill id: 42, contact_id: 1051239574, reference: \"REF001\", dated_on: \"2022-12-15\", due_date: \"2022-1...erty_id: nil, bill_items_count: 1, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb","line_number":15,"run_time":0.453920171,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb[1:2:1:1]","description":"is expected to have a failure on #\u003cBill id: 43, contact_id: 1051239575, reference: \"REF001\", dated_on: \"2022-12-15\", due_date: \"2022-1...erty_id: nil, bill_items_count: 1, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","full_description":"BillTotalsMatchCheck when a bill has an incorrect cached total value and the difference is over the allowed tollarance is expected to have a failure on #\u003cBill id: 43, contact_id: 1051239575, reference: \"REF001\", dated_on: \"2022-12-15\", due_date: \"2022-1...erty_id: nil, bill_items_count: 1, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb","line_number":24,"run_time":0.473532804,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb[1:2:1:2]","description":"is expected to have a failure like / has cached values that don't match/","full_description":"BillTotalsMatchCheck when a bill has an incorrect cached total value and the difference is over the allowed tollarance is expected to have a failure like / has cached values that don't match/","status":"passed","file_path":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb","line_number":26,"run_time":0.470424362,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb[1:2:1:3]","description":"is expected to have a failure like / cached_total_value/","full_description":"BillTotalsMatchCheck when a bill has an incorrect cached total value and the difference is over the allowed tollarance is expected to have a failure like / cached_total_value/","status":"passed","file_path":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb","line_number":27,"run_time":0.485468308,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb[1:2:2:1]","description":"is expected not to have a failure on #\u003cBill id: 46, contact_id: 1051239578, reference: \"REF001\", dated_on: \"2022-12-15\", due_date: \"2022-1...erty_id: nil, bill_items_count: 1, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","full_description":"BillTotalsMatchCheck when a bill has an incorrect cached total value and the difference is within the rounding error tolarence is expected not to have a failure on #\u003cBill id: 46, contact_id: 1051239578, reference: \"REF001\", dated_on: \"2022-12-15\", due_date: \"2022-1...erty_id: nil, bill_items_count: 1, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb","line_number":35,"run_time":0.464471759,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb[1:3:1:1]","description":"is expected to have a failure on #\u003cBill id: 47, contact_id: 1051239579, reference: \"REF001\", dated_on: \"2022-12-15\", due_date: \"2022-1...erty_id: nil, bill_items_count: 1, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","full_description":"BillTotalsMatchCheck when a bill has an incorrect cached sales tax value and the difference is over the allowed tollarance is expected to have a failure on #\u003cBill id: 47, contact_id: 1051239579, reference: \"REF001\", dated_on: \"2022-12-15\", due_date: \"2022-1...erty_id: nil, bill_items_count: 1, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb","line_number":45,"run_time":0.478212764,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb[1:3:1:2]","description":"is expected to have a failure like / has cached values that don't match/","full_description":"BillTotalsMatchCheck when a bill has an incorrect cached sales tax value and the difference is over the allowed tollarance is expected to have a failure like / has cached values that don't match/","status":"passed","file_path":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb","line_number":47,"run_time":0.433486375,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb[1:3:1:3]","description":"is expected to have a failure like / cached_sales_tax_value/","full_description":"BillTotalsMatchCheck when a bill has an incorrect cached sales tax value and the difference is over the allowed tollarance is expected to have a failure like / cached_sales_tax_value/","status":"passed","file_path":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb","line_number":48,"run_time":0.449037717,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb[1:3:2:1]","description":"is expected not to have a failure on #\u003cBill id: 50, contact_id: 1051239582, reference: \"REF001\", dated_on: \"2022-12-15\", due_date: \"2022-1...erty_id: nil, bill_items_count: 1, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","full_description":"BillTotalsMatchCheck when a bill has an incorrect cached sales tax value and the difference is within the rounding error tolarence is expected not to have a failure on #\u003cBill id: 50, contact_id: 1051239582, reference: \"REF001\", dated_on: \"2022-12-15\", due_date: \"2022-1...erty_id: nil, bill_items_count: 1, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb","line_number":56,"run_time":0.479589625,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb[1:4:1:1]","description":"is expected to have a failure on #\u003cBill id: 51, contact_id: 1051239583, reference: \"REF001\", dated_on: \"2022-12-15\", due_date: \"2022-1...erty_id: nil, bill_items_count: 1, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","full_description":"BillTotalsMatchCheck when a bill has an incorrect cached second sales tax value and the difference is over the allowed tollarance is expected to have a failure on #\u003cBill id: 51, contact_id: 1051239583, reference: \"REF001\", dated_on: \"2022-12-15\", due_date: \"2022-1...erty_id: nil, bill_items_count: 1, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb","line_number":68,"run_time":0.463511594,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb[1:4:1:2]","description":"is expected to have a failure like / has cached values that don't match/","full_description":"BillTotalsMatchCheck when a bill has an incorrect cached second sales tax value and the difference is over the allowed tollarance is expected to have a failure like / has cached values that don't match/","status":"passed","file_path":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb","line_number":70,"run_time":0.484445704,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb[1:4:1:3]","description":"is expected to have a failure like / cached_second_sales_tax_value/","full_description":"BillTotalsMatchCheck when a bill has an incorrect cached second sales tax value and the difference is over the allowed tollarance is expected to have a failure like / cached_second_sales_tax_value/","status":"passed","file_path":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb","line_number":71,"run_time":0.442153831,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb[1:4:2:1]","description":"is expected not to have a failure on #\u003cBill id: 54, contact_id: 1051239586, reference: \"REF001\", dated_on: \"2022-12-15\", due_date: \"2022-1...erty_id: nil, bill_items_count: 1, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","full_description":"BillTotalsMatchCheck when a bill has an incorrect cached second sales tax value and the difference is within the rounding error tolarence is expected not to have a failure on #\u003cBill id: 54, contact_id: 1051239586, reference: \"REF001\", dated_on: \"2022-12-15\", due_date: \"2022-1...erty_id: nil, bill_items_count: 1, input_total_values_inc_tax: false, is_paid_by_hire_purchase: nil\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/bill_totals_match_check_spec.rb","line_number":81,"run_time":0.464542043,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:1]","description":"rejects an unrecognised company_subscription_channel","full_description":"CompanySnapshot rejects an unrecognised company_subscription_channel","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":7,"run_time":0.028429013,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:2]","description":"allows \"FAPD\" as the company_subscription_channel","full_description":"CompanySnapshot allows \"FAPD\" as the company_subscription_channel","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":15,"run_time":0.01480043,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:3]","description":"allows FAPDRBSG as the subscription channel","full_description":"CompanySnapshot allows FAPDRBSG as the subscription channel","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":20,"run_time":0.017098562,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:4]","description":"allows the direct channels as the company_subscription_channel","full_description":"CompanySnapshot allows the direct channels as the company_subscription_channel","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":25,"run_time":0.014345261,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:5]","description":"raises ActiveRecord::RecordNotUnique if attempting to create a duplicate snapshot","full_description":"CompanySnapshot raises ActiveRecord::RecordNotUnique if attempting to create a duplicate snapshot","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":32,"run_time":0.044882652,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:6:1]","description":"returns the full name","full_description":"CompanySnapshot#account_manager_name returns the full name","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":49,"run_time":0.013748631,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:7:1]","description":"returns 'Linked' if the company subscription channel is one of the linked channels","full_description":"CompanySnapshot#billable_as returns 'Linked' if the company subscription channel is one of the linked channels","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":55,"run_time":0.014728917,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:7:2]","description":"return Practice Managed if the company subscription channel is Subscription::FAPD","full_description":"CompanySnapshot#billable_as return Practice Managed if the company subscription channel is Subscription::FAPD","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":62,"run_time":0.015511774,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:7:3]","description":"returns RBSG Subsidised if the subscription channel is Subscription::FAPDRBSG","full_description":"CompanySnapshot#billable_as returns RBSG Subsidised if the subscription channel is Subscription::FAPDRBSG","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":67,"run_time":0.01935053,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:7:4]","description":"returns nil if the subscription channel isn't set","full_description":"CompanySnapshot#billable_as returns nil if the subscription channel isn't set","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":72,"run_time":0.004525609,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:8:1]","description":"creates snapshots for discountable billable companies","full_description":"CompanySnapshot#snapshot_accountancy_practice creates snapshots for discountable billable companies","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":90,"run_time":0.420287034,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:8:2]","description":"creates snapshots for non-discountable billable companies","full_description":"CompanySnapshot#snapshot_accountancy_practice creates snapshots for non-discountable billable companies","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":102,"run_time":0.390711252,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:8:3]","description":"doesn't create snapshots for companies being deleted","full_description":"CompanySnapshot#snapshot_accountancy_practice doesn't create snapshots for companies being deleted","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":122,"run_time":0.596500289,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:8:4]","description":"rolls back snapshots and raises Fapd::BillingError if any snapshots should fail to be created","full_description":"CompanySnapshot#snapshot_accountancy_practice rolls back snapshots and raises Fapd::BillingError if any snapshots should fail to be created","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":141,"run_time":0.450733247,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:8:5]","description":"has correct discount rate for discountable billable companies","full_description":"CompanySnapshot#snapshot_accountancy_practice has correct discount rate for discountable billable companies","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":150,"run_time":0.47285304,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:8:6]","description":"has correct discount rate for non-discountable billable companies","full_description":"CompanySnapshot#snapshot_accountancy_practice has correct discount rate for non-discountable billable companies","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":163,"run_time":0.490290134,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:8:7:1]","description":"has correct discount rate for billable companies","full_description":"CompanySnapshot#snapshot_accountancy_practice when practice sale is internal and has no pricing plan has correct discount rate for billable companies","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":179,"run_time":0.44211785,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:9:1:1]","description":"creates a new snapshot for the practice, company and date","full_description":"CompanySnapshot.create_snapshot when a snapshot does not exist for the practice, company and date creates a new snapshot for the practice, company and date","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":202,"run_time":0.137059332,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:9:2:1]","description":"will not create a duplicate snapshot","full_description":"CompanySnapshot.create_snapshot when a matching snapshot already exists for the practice, company and date will not create a duplicate snapshot","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":222,"run_time":0.165116666,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:9:2:2]","description":"does not alter the existing snapshot","full_description":"CompanySnapshot.create_snapshot when a matching snapshot already exists for the practice, company and date does not alter the existing snapshot","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":226,"run_time":0.163374001,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:9:3:1]","description":"creates updates and saves the snapshot","full_description":"CompanySnapshot.create_snapshot if the snapshot is valid creates updates and saves the snapshot","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":235,"run_time":0.163547117,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:9:3:2]","description":"records the company name","full_description":"CompanySnapshot.create_snapshot if the snapshot is valid records the company name","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":239,"run_time":0.144917281,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:9:3:3]","description":"records the company type","full_description":"CompanySnapshot.create_snapshot if the snapshot is valid records the company type","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":243,"run_time":0.158559527,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:9:3:4]","description":"records the company subdomain","full_description":"CompanySnapshot.create_snapshot if the snapshot is valid records the company subdomain","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":247,"run_time":0.144862327,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:9:3:5]","description":"records the practice name","full_description":"CompanySnapshot.create_snapshot if the snapshot is valid records the practice name","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":251,"run_time":0.146224468,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:9:3:6]","description":"records the account manager first name","full_description":"CompanySnapshot.create_snapshot if the snapshot is valid records the account manager first name","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":255,"run_time":0.147377321,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:9:3:7]","description":"records the account manager last name","full_description":"CompanySnapshot.create_snapshot if the snapshot is valid records the account manager last name","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":259,"run_time":0.43851905,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:9:3:8]","description":"records the subscription channel","full_description":"CompanySnapshot.create_snapshot if the snapshot is valid records the subscription channel","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":263,"run_time":0.62227422,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:9:3:9]","description":"records the subscription status","full_description":"CompanySnapshot.create_snapshot if the snapshot is valid records the subscription status","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":267,"run_time":0.140971265,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:9:3:10]","description":"records the NET cost to the practice","full_description":"CompanySnapshot.create_snapshot if the snapshot is valid records the NET cost to the practice","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":271,"run_time":0.130720658,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:9:3:11]","description":"records the cost currency","full_description":"CompanySnapshot.create_snapshot if the snapshot is valid records the cost currency","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":275,"run_time":0.139589961,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:9:3:12]","description":"records when the company was created","full_description":"CompanySnapshot.create_snapshot if the snapshot is valid records when the company was created","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":279,"run_time":0.141545051,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:9:3:13]","description":"records when the company was last inactivated","full_description":"CompanySnapshot.create_snapshot if the snapshot is valid records when the company was last inactivated","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":283,"run_time":0.148546282,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:9:3:14]","description":"records the company discount rate","full_description":"CompanySnapshot.create_snapshot if the snapshot is valid records the company discount rate","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":287,"run_time":0.13663286,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_snapshot_spec.rb[1:9:4:1]","description":"raises an exception","full_description":"CompanySnapshot.create_snapshot if the snapshot would be invalid raises an exception","status":"passed","file_path":"./spec/models/company_snapshot_spec.rb","line_number":297,"run_time":0.130667985,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:1:1:1]","description":"is expected to redirect to \"/login\"","full_description":"TwoFactorAuthenticationController#new when the user is not logged in is expected to redirect to \"/login\"","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":11,"run_time":0.009217433,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:1:2:1]","description":"is expected to be successful","full_description":"TwoFactorAuthenticationController#new when the user has two factor authentication enabled is expected to be successful","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":23,"run_time":0.064000616,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:1:2:2]","description":"is expected to render template two_factor_authentication/new","full_description":"TwoFactorAuthenticationController#new when the user has two factor authentication enabled is expected to render template two_factor_authentication/new","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":24,"run_time":0.06720692,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:1:2:3]","description":"does not redirect to getting started stage when company is not set up","full_description":"TwoFactorAuthenticationController#new when the user has two factor authentication enabled does not redirect to getting started stage when company is not set up","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":26,"run_time":0.056172594,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:1:3:1]","description":"redirects to overview page","full_description":"TwoFactorAuthenticationController#new user with two factor auth and remember me when 2FA is skipped redirects to overview page","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":42,"run_time":0.03882277,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:1:4:1]","description":"is expected to redirect to \"/overview\"","full_description":"TwoFactorAuthenticationController#new user without two factor auth is expected to redirect to \"/overview\"","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":54,"run_time":0.032636294,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:1:1:1]","description":"is expected to redirect to \"/two_factor\"","full_description":"TwoFactorAuthenticationController#create when the purpose is unspecified behaves like an unsuccessful login is expected to redirect to \"/two_factor\"","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":91,"run_time":0.147994353,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:2:1:1]","description":"is expected to redirect to \"/two_factor?purpose=BAhJIhNzb21ldGhpbmcgZWxzZQY6BkVU--b06268c5ccf26c341cc79389b159d3dfdfce720b\"","full_description":"TwoFactorAuthenticationController#create when the purpose is not login behaves like an unsuccessful login is expected to redirect to \"/two_factor?purpose=BAhJIhNzb21ldGhpbmcgZWxzZQY6BkVU--b06268c5ccf26c341cc79389b159d3dfdfce720b\"","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":91,"run_time":0.158593868,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:3:1:1]","description":"is expected to redirect to \"/two_factor?purpose=invalid\"","full_description":"TwoFactorAuthenticationController#create when the purpose is invalid behaves like an unsuccessful login is expected to redirect to \"/two_factor?purpose=invalid\"","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":91,"run_time":0.163111614,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:4:1:1]","description":"is expected to redirect to \"/overview\"","full_description":"TwoFactorAuthenticationController#create when the purpose is login behaves like a successful login is expected to redirect to \"/overview\"","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":87,"run_time":0.170615742,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:5:1:1]","description":"is expected to redirect to \"/overview\"","full_description":"TwoFactorAuthenticationController#create when company is read only behaves like a successful login is expected to redirect to \"/overview\"","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":87,"run_time":0.183479423,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:6:2]","description":"is expected not to change `LoginAttempt.count`","full_description":"TwoFactorAuthenticationController#create when the sgid of an existing login attempt is passed is expected not to change `LoginAttempt.count`","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":144,"run_time":0.157035215,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:6:3]","description":"is expected to change `last_login_attempt.reload.state` to :success","full_description":"TwoFactorAuthenticationController#create when the sgid of an existing login attempt is passed is expected to change `last_login_attempt.reload.state` to :success","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":145,"run_time":0.134340439,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:6:1:1]","description":"is expected to redirect to \"/overview\"","full_description":"TwoFactorAuthenticationController#create when the sgid of an existing login attempt is passed behaves like a successful login is expected to redirect to \"/overview\"","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":87,"run_time":0.124034972,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:7:2]","description":"is expected to change `LoginAttempt.count` by 1","full_description":"TwoFactorAuthenticationController#create when the sgid of an existing login attempt is not passed is expected to change `LoginAttempt.count` by 1","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":154,"run_time":0.151980318,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:7:3]","description":"is expected to eq :success","full_description":"TwoFactorAuthenticationController#create when the sgid of an existing login attempt is not passed is expected to eq :success","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":155,"run_time":0.149277149,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:7:1:1]","description":"is expected to redirect to \"/overview\"","full_description":"TwoFactorAuthenticationController#create when the sgid of an existing login attempt is not passed behaves like a successful login is expected to redirect to \"/overview\"","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":87,"run_time":0.151110498,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:8:2]","description":"is expected to change `LoginAttempt.count` by 1","full_description":"TwoFactorAuthenticationController#create when an invalid login attempt sgid is passed is expected to change `LoginAttempt.count` by 1","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":164,"run_time":0.173875807,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:8:3]","description":"is expected to eq :success","full_description":"TwoFactorAuthenticationController#create when an invalid login attempt sgid is passed is expected to eq :success","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":165,"run_time":0.164305026,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:8:1:1]","description":"is expected to redirect to \"/overview\"","full_description":"TwoFactorAuthenticationController#create when an invalid login attempt sgid is passed behaves like a successful login is expected to redirect to \"/overview\"","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":87,"run_time":0.200886086,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:9:1]","description":"is expected to redirect to \"http://subdomain000001.fac.rails/another_url?with_parameters\"","full_description":"TwoFactorAuthenticationController#create when return_to_path is set is expected to redirect to \"http://subdomain000001.fac.rails/another_url?with_parameters\"","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":173,"run_time":0.151013437,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:10:1]","description":"is expected to redirect to \"http://subdomain000001.fac.rails/goto_here\"","full_description":"TwoFactorAuthenticationController#create when the deep link location is set is expected to redirect to \"http://subdomain000001.fac.rails/goto_here\"","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":185,"run_time":0.134065467,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:11:2]","description":"is expected to eq \"Incorrect code provided too many times\"","full_description":"TwoFactorAuthenticationController#create when backoff is enforced is expected to eq \"Incorrect code provided too many times\"","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":201,"run_time":0.125673405,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:11:1:1]","description":"is expected to redirect to \"/two_factor?purpose=BAhJIgpsb2dpbgY6BkVU--735ec5f1701581b5fc261723b037e11d0a2ae269\"","full_description":"TwoFactorAuthenticationController#create when backoff is enforced behaves like an unsuccessful login is expected to redirect to \"/two_factor?purpose=BAhJIgpsb2dpbgY6BkVU--735ec5f1701581b5fc261723b037e11d0a2ae269\"","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":91,"run_time":0.151225801,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:12:2]","description":"is expected to eq \"Code is not valid\"","full_description":"TwoFactorAuthenticationController#create when the sgid of an existing login attempt is passed is expected to eq \"Code is not valid\"","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":226,"run_time":0.149984252,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:12:3]","description":"is expected not to change `LoginAttempt.count`","full_description":"TwoFactorAuthenticationController#create when the sgid of an existing login attempt is passed is expected not to change `LoginAttempt.count`","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":227,"run_time":0.140823816,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:12:4]","description":"is expected to change `last_login_attempt.reload.state` to :two_factor_failed","full_description":"TwoFactorAuthenticationController#create when the sgid of an existing login attempt is passed is expected to change `last_login_attempt.reload.state` to :two_factor_failed","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":228,"run_time":0.134859756,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:12:1:1]","description":"is expected to redirect to \"/two_factor?purpose=BAhJIgpsb2dpbgY6BkVU--735ec5f1701581b5fc261723b037e11d0a2ae269\"","full_description":"TwoFactorAuthenticationController#create when the sgid of an existing login attempt is passed behaves like an unsuccessful login is expected to redirect to \"/two_factor?purpose=BAhJIgpsb2dpbgY6BkVU--735ec5f1701581b5fc261723b037e11d0a2ae269\"","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":91,"run_time":0.136531885,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:13:2]","description":"is expected to redirect to \"/two_factor?purpose=BAhJIgpsb2dpbgY6BkVU--735ec5f1701581b5fc261723b037e11d0a2ae269\"","full_description":"TwoFactorAuthenticationController#create when the sgid of an existing login attempt is not passed is expected to redirect to \"/two_factor?purpose=BAhJIgpsb2dpbgY6BkVU--735ec5f1701581b5fc261723b037e11d0a2ae269\"","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":237,"run_time":0.137981797,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:13:3]","description":"is expected to change `LoginAttempt.count` by 1","full_description":"TwoFactorAuthenticationController#create when the sgid of an existing login attempt is not passed is expected to change `LoginAttempt.count` by 1","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":238,"run_time":0.132075137,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:13:4]","description":"is expected to eq :two_factor_failed","full_description":"TwoFactorAuthenticationController#create when the sgid of an existing login attempt is not passed is expected to eq :two_factor_failed","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":239,"run_time":0.138294264,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:13:1:1]","description":"is expected to redirect to \"/two_factor?purpose=BAhJIgpsb2dpbgY6BkVU--735ec5f1701581b5fc261723b037e11d0a2ae269\"","full_description":"TwoFactorAuthenticationController#create when the sgid of an existing login attempt is not passed behaves like an unsuccessful login is expected to redirect to \"/two_factor?purpose=BAhJIgpsb2dpbgY6BkVU--735ec5f1701581b5fc261723b037e11d0a2ae269\"","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":91,"run_time":0.13147203,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:14:1]","description":"increases the exponential backoff for the user","full_description":"TwoFactorAuthenticationController#create when testing backoff increases the exponential backoff for the user","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":245,"run_time":0.126943022,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:15:1]","description":"is expected to redirect to \"/two_factor?purpose=BAhJIgpsb2dpbgY6BkVU--735ec5f1701581b5fc261723b037e11d0a2ae269\u0026return_to_path=non%2Fsint%2Foptio\"","full_description":"TwoFactorAuthenticationController#create when return_to_path is set is expected to redirect to \"/two_factor?purpose=BAhJIgpsb2dpbgY6BkVU--735ec5f1701581b5fc261723b037e11d0a2ae269\u0026return_to_path=non%2Fsint%2Foptio\"","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":257,"run_time":0.131952019,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:16:1]","description":"increases backoff","full_description":"TwoFactorAuthenticationController#create when backoff is enforced increases backoff","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":268,"run_time":0.129148507,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:16:2]","description":"is expected to eq \"Incorrect code provided too many times\"","full_description":"TwoFactorAuthenticationController#create when backoff is enforced is expected to eq \"Incorrect code provided too many times\"","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":271,"run_time":0.118274096,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:17:2]","description":"is expected to eq \"Code is not valid\"","full_description":"TwoFactorAuthenticationController#create when the code is empty is expected to eq \"Code is not valid\"","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":282,"run_time":0.133552621,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:17:1:1]","description":"is expected to redirect to \"/two_factor?purpose=BAhJIgpsb2dpbgY6BkVU--735ec5f1701581b5fc261723b037e11d0a2ae269\"","full_description":"TwoFactorAuthenticationController#create when the code is empty behaves like an unsuccessful login is expected to redirect to \"/two_factor?purpose=BAhJIgpsb2dpbgY6BkVU--735ec5f1701581b5fc261723b037e11d0a2ae269\"","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":91,"run_time":0.148135471,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:18:1]","description":"tracks with Sqreen","full_description":"TwoFactorAuthenticationController#create when tracking with Sqreen tracks with Sqreen","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":286,"run_time":0.174324269,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_authentication_controller_spec.rb[1:2:18:2]","description":"uses the purpose if given","full_description":"TwoFactorAuthenticationController#create when tracking with Sqreen uses the purpose if given","status":"passed","file_path":"./spec/controllers/two_factor_authentication_controller_spec.rb","line_number":294,"run_time":0.162473589,"pending_message":null,"screenshot":null},{"id":"./spec/features/accounting/bank_reconciliation_summary_spec.rb[1:1:1]","description":"redirect to default parameters","full_description":"Bank Reconciliation Summary Report without parameters redirect to default parameters","status":"passed","file_path":"./spec/features/accounting/bank_reconciliation_summary_spec.rb","line_number":23,"run_time":1.066250754,"pending_message":null,"screenshot":null},{"id":"./spec/features/accounting/bank_reconciliation_summary_spec.rb[1:2:1]","description":"load with the correct filters","full_description":"Bank Reconciliation Summary Report with parameters load with the correct filters","status":"passed","file_path":"./spec/features/accounting/bank_reconciliation_summary_spec.rb","line_number":36,"run_time":1.185134651,"pending_message":null,"screenshot":null},{"id":"./spec/features/accounting/bank_reconciliation_summary_spec.rb[1:2:2]","description":"set the closing balance","full_description":"Bank Reconciliation Summary Report with parameters set the closing balance","status":"passed","file_path":"./spec/features/accounting/bank_reconciliation_summary_spec.rb","line_number":48,"run_time":1.645459041,"pending_message":null,"screenshot":null},{"id":"./spec/features/accounting/bank_reconciliation_summary_spec.rb[1:2:3]","description":"display an error if the custom date is incorrect","full_description":"Bank Reconciliation Summary Report with parameters display an error if the custom date is incorrect","status":"passed","file_path":"./spec/features/accounting/bank_reconciliation_summary_spec.rb","line_number":63,"run_time":1.428569358,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/credit_note_reconciliations/uk_vat_registration_applied_for.feature[1:1:1]","description":"Given the current date is 2020-02-01 -\u003e And a UK Limited Company which was started on 2018-01-01 -\u003e And it has a contact in United Kingdom named John Bull -\u003e Given the company is VAT registration applied for from 2020-04-01 -\u003e Given a sent GBP invoice to John Bull dated on 2020-04-01 -\u003e And it has a line for 1 Hour of Awesomeness @ 1000.00 + 20% VAT -\u003e Given a sent credit note to John Bull dated on 2020-05-01 -\u003e And the credit note has a line for 1 Hour of Awesomeness @ 1000.00 + 20% VAT -\u003e And a credit note reconciliation is created for 1200.00 -\u003e Then the credit note reconciliation should have ledger entries -\u003e And the Accrual Ledger Entries on the invoice will be -\u003e And the Accrual Ledger Entries on the credit note will be","full_description":"Credit note reconcillation Business has applied for VAT registration Given the current date is 2020-02-01 -\u003e And a UK Limited Company which was started on 2018-01-01 -\u003e And it has a contact in United Kingdom named John Bull -\u003e Given the company is VAT registration applied for from 2020-04-01 -\u003e Given a sent GBP invoice to John Bull dated on 2020-04-01 -\u003e And it has a line for 1 Hour of Awesomeness @ 1000.00 + 20% VAT -\u003e Given a sent credit note to John Bull dated on 2020-05-01 -\u003e And the credit note has a line for 1 Hour of Awesomeness @ 1000.00 + 20% VAT -\u003e And a credit note reconciliation is created for 1200.00 -\u003e Then the credit note reconciliation should have ledger entries -\u003e And the Accrual Ledger Entries on the invoice will be -\u003e And the Accrual Ledger Entries on the credit note will be","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/credit_note_reconciliations/uk_vat_registration_applied_for.feature","line_number":11,"run_time":1.299504481,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/credit_note_reconciliations/uk_vat_registration_applied_for.feature[1:2:1]","description":"Given the current date is 2020-02-01 -\u003e And a UK Limited Company which was started on 2018-01-01 -\u003e And it has a contact in United Kingdom named John Bull -\u003e Given the company is VAT registration applied for from 2020-01-01 -\u003e And the company is VAT registered from 2020-02-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e Given a sent GBP invoice to John Bull dated on 2020-01-01 -\u003e And it has a line for 1 Hour of Awesomeness @ 600.00 -\u003e Given a sent credit note to John Bull dated on 2020-02-02 -\u003e And the credit note has a line for 1 Hour of Awesomeness @ 500.00 + 20% VAT -\u003e And a credit note reconciliation is created for 600.00 -\u003e Then the credit note reconciliation should have ledger entries -\u003e And the Accrual Ledger Entries on the invoice will be -\u003e And the Accrual Ledger Entries on the credit note will be","full_description":"Credit note reconcillation Business is not registered for VAT when the invoice is issued, is registered when the credit note is issued; is invoice accounting Given the current date is 2020-02-01 -\u003e And a UK Limited Company which was started on 2018-01-01 -\u003e And it has a contact in United Kingdom named John Bull -\u003e Given the company is VAT registration applied for from 2020-01-01 -\u003e And the company is VAT registered from 2020-02-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e Given a sent GBP invoice to John Bull dated on 2020-01-01 -\u003e And it has a line for 1 Hour of Awesomeness @ 600.00 -\u003e Given a sent credit note to John Bull dated on 2020-02-02 -\u003e And the credit note has a line for 1 Hour of Awesomeness @ 500.00 + 20% VAT -\u003e And a credit note reconciliation is created for 600.00 -\u003e Then the credit note reconciliation should have ledger entries -\u003e And the Accrual Ledger Entries on the invoice will be -\u003e And the Accrual Ledger Entries on the credit note will be","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/credit_note_reconciliations/uk_vat_registration_applied_for.feature","line_number":40,"run_time":1.370615707,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/inline_form/foreign_currency_value_spec.rb[1:1]","description":"updating foreign currency value","full_description":"Inline Banking - Foreign Currency Value updating foreign currency value","status":"passed","file_path":"./spec/features/new_banking/inline_form/foreign_currency_value_spec.rb","line_number":10,"run_time":2.794052309,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/stock/stock_purchased_on_bill_universal.feature[1:1:1]","description":"Given the current date is 2016-04-06 -\u003e And a Universal Company which was started on 2016-01-01 -\u003e And its first accounting year ends on 2016-12-31 -\u003e And it has a contact in United States named John Bull -\u003e Given it is registered for PST sales tax at 10%, 3%, 0% from 2016-01-01 -\u003e And sales tax is value added from 2016-01-01 -\u003e And it has a Widget stock item with opening balance of 0 @ $0.00 -\u003e And Widget has a cost of sales category of 101 -\u003e And a bill dated 2016-10-01 in USD from John Bull with the following item purchases: -\u003e And the company sells 1 x Widget for $50 with 10% sales tax via bank payment dated 2016-12-01 -\u003e Then the ledger entries on the purchase should be -\u003e And the ledger entries on the sale should be","full_description":"Accounting for Stock sold via bank transaction bought on a bill (Universal) Purchasing and selling stock with sales tax registration Given the current date is 2016-04-06 -\u003e And a Universal Company which was started on 2016-01-01 -\u003e And its first accounting year ends on 2016-12-31 -\u003e And it has a contact in United States named John Bull -\u003e Given it is registered for PST sales tax at 10%, 3%, 0% from 2016-01-01 -\u003e And sales tax is value added from 2016-01-01 -\u003e And it has a Widget stock item with opening balance of 0 @ $0.00 -\u003e And Widget has a cost of sales category of 101 -\u003e And a bill dated 2016-10-01 in USD from John Bull with the following item purchases: -\u003e And the company sells 1 x Widget for $50 with 10% sales tax via bank payment dated 2016-12-01 -\u003e Then the ledger entries on the purchase should be -\u003e And the ledger entries on the sale should be","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/stock/stock_purchased_on_bill_universal.feature","line_number":9,"run_time":0.964959849,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/stock/stock_purchased_on_bill_universal.feature[1:2:1]","description":"Given the current date is 2016-04-06 -\u003e And a Universal Company which was started on 2016-01-01 -\u003e And its first accounting year ends on 2016-12-31 -\u003e And it has a contact in United States named John Bull -\u003e Given it has a Widget stock item with opening balance of 0 @ $0.00 -\u003e And Widget has a cost of sales category of 101 -\u003e And a bill dated 2016-10-01 in USD from John Bull with the following item purchases: -\u003e And the company sells 1 x Widget for $50 via bank payment dated 2016-12-01 -\u003e Then the ledger entries on the purchase should be -\u003e And the ledger entries on the sale should be","full_description":"Accounting for Stock sold via bank transaction bought on a bill (Universal) Purchasing and selling stock without sales tax registration Given the current date is 2016-04-06 -\u003e And a Universal Company which was started on 2016-01-01 -\u003e And its first accounting year ends on 2016-12-31 -\u003e And it has a contact in United States named John Bull -\u003e Given it has a Widget stock item with opening balance of 0 @ $0.00 -\u003e And Widget has a cost of sales category of 101 -\u003e And a bill dated 2016-10-01 in USD from John Bull with the following item purchases: -\u003e And the company sells 1 x Widget for $50 via bank payment dated 2016-12-01 -\u003e Then the ledger entries on the purchase should be -\u003e And the ledger entries on the sale should be","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/stock/stock_purchased_on_bill_universal.feature","line_number":31,"run_time":0.896159825,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:130:3:1]","description":"returns only credit notes that have not been reconciled against the invoice","full_description":"Invoice#available_for_payment when the invoice already has reconciliations returns only credit notes that have not been reconciled against the invoice","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":4083,"run_time":2.846223635,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/console_bulk_company_deleter_spec.rb[1:1:1]","description":"calls methods in correct order","full_description":"Disengagement::ConsoleBulkCompanyDeleter#bulk_delete_companies calls methods in correct order","status":"passed","file_path":"./spec/models/disengagement/console_bulk_company_deleter_spec.rb","line_number":8,"run_time":0.004795475,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/console_bulk_company_deleter_spec.rb[1:1:2]","description":"logs each step of the bulk deletion","full_description":"Disengagement::ConsoleBulkCompanyDeleter#bulk_delete_companies logs each step of the bulk deletion","status":"passed","file_path":"./spec/models/disengagement/console_bulk_company_deleter_spec.rb","line_number":20,"run_time":0.011858317,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/console_bulk_company_deleter_spec.rb[1:1:3:1]","description":"schedules deleter jobs for all eligible companies","full_description":"Disengagement::ConsoleBulkCompanyDeleter#bulk_delete_companies when there are disengaged companies due for deletion schedules deleter jobs for all eligible companies","status":"passed","file_path":"./spec/models/disengagement/console_bulk_company_deleter_spec.rb","line_number":43,"run_time":0.837228289,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/console_bulk_company_deleter_spec.rb[1:1:3:2:1]","description":"applies the parameter","full_description":"Disengagement::ConsoleBulkCompanyDeleter#bulk_delete_companies when there are disengaged companies due for deletion with the limit parameter provided applies the parameter","status":"passed","file_path":"./spec/models/disengagement/console_bulk_company_deleter_spec.rb","line_number":51,"run_time":0.938548782,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/console_bulk_company_deleter_spec.rb[1:1:3:2:2]","description":"schedules no more than the allowed number of jobs","full_description":"Disengagement::ConsoleBulkCompanyDeleter#bulk_delete_companies when there are disengaged companies due for deletion with the limit parameter provided schedules no more than the allowed number of jobs","status":"passed","file_path":"./spec/models/disengagement/console_bulk_company_deleter_spec.rb","line_number":60,"run_time":0.866390455,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/console_bulk_company_deleter_spec.rb[1:1:4:1]","description":"creates soft deletes for companies that are not already soft deleted","full_description":"Disengagement::ConsoleBulkCompanyDeleter#bulk_delete_companies when there are disengaged companies to soft delete creates soft deletes for companies that are not already soft deleted","status":"passed","file_path":"./spec/models/disengagement/console_bulk_company_deleter_spec.rb","line_number":77,"run_time":0.213192292,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:1:2:2:7:4]","description":"representing out of VAT scope admin expense","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the cash accounting basis on the Flat Rate Scheme (at 5%) Bank Account Entries for the payment of a bill representing out of VAT scope admin expense","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":3277,"run_time":1.445559538,"pending_message":null,"screenshot":null},{"id":"./spec/views/settings/uk_vat_registration/_initial_settings.html.erb_spec.rb[1:1:1:1]","description":"should default initial VAT basis to Cash","full_description":"settings/uk_vat_registration/_initial_settings a VAT unregistered cash basis company should default initial VAT basis to Cash","status":"passed","file_path":"./spec/views/settings/uk_vat_registration/_initial_settings.html.erb_spec.rb","line_number":24,"run_time":0.446671437,"pending_message":null,"screenshot":null},{"id":"./spec/views/settings/uk_vat_registration/_initial_settings.html.erb_spec.rb[1:1:2:1]","description":"should default initial VAT basis to Invoice","full_description":"settings/uk_vat_registration/_initial_settings a VAT unregistered accrual basis company should default initial VAT basis to Invoice","status":"passed","file_path":"./spec/views/settings/uk_vat_registration/_initial_settings.html.erb_spec.rb","line_number":32,"run_time":0.109411485,"pending_message":null,"screenshot":null},{"id":"./spec/views/settings/uk_vat_registration/_initial_settings.html.erb_spec.rb[1:2:1:1]","description":"should use existing initial VAT basis of Cash","full_description":"settings/uk_vat_registration/_initial_settings a cash basis VAT registered cash basis company should use existing initial VAT basis of Cash","status":"passed","file_path":"./spec/views/settings/uk_vat_registration/_initial_settings.html.erb_spec.rb","line_number":44,"run_time":0.146316047,"pending_message":null,"screenshot":null},{"id":"./spec/views/settings/uk_vat_registration/_initial_settings.html.erb_spec.rb[1:2:2:1]","description":"should use existing initial VAT basis of Cash","full_description":"settings/uk_vat_registration/_initial_settings a cash basis VAT registered accrual basis company should use existing initial VAT basis of Cash","status":"passed","file_path":"./spec/views/settings/uk_vat_registration/_initial_settings.html.erb_spec.rb","line_number":52,"run_time":0.173026312,"pending_message":null,"screenshot":null},{"id":"./spec/views/settings/uk_vat_registration/_initial_settings.html.erb_spec.rb[1:3:1:1]","description":"should use existing initial VAT basis of Invoice","full_description":"settings/uk_vat_registration/_initial_settings an invoice basis VAT registered cash basis company should use existing initial VAT basis of Invoice","status":"passed","file_path":"./spec/views/settings/uk_vat_registration/_initial_settings.html.erb_spec.rb","line_number":64,"run_time":0.153325295,"pending_message":null,"screenshot":null},{"id":"./spec/views/settings/uk_vat_registration/_initial_settings.html.erb_spec.rb[1:3:2:1]","description":"should use existing initial VAT basis of Invoice","full_description":"settings/uk_vat_registration/_initial_settings an invoice basis VAT registered accrual basis company should use existing initial VAT basis of Invoice","status":"passed","file_path":"./spec/views/settings/uk_vat_registration/_initial_settings.html.erb_spec.rb","line_number":72,"run_time":0.16865179,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:3:1]","description":"should delete sales tax periods","full_description":"Company::ForgetCompanyData Deleting all data for a Universal company should delete sales tax periods","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":940,"run_time":1.396161527,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[21:3]","description":"shows the totals when viewing only draft invoices","full_description":"InvoicesController A draft invoice shows the totals when viewing only draft invoices","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":2271,"run_time":0.277010512,"pending_message":null,"screenshot":null},{"id":"./spec/features/projects/timeslips_spec.rb[1:1:1]","description":"removes the timeslip from the view","full_description":"Projects timeslips when deleting a timeslip removes the timeslip from the view","status":"passed","file_path":"./spec/features/projects/timeslips_spec.rb","line_number":20,"run_time":1.203471613,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:1:26]","description":"deletes the company setup stage","full_description":"Company::ForgetCompanyData Deleting all data for a VAT registered UK company deletes the company setup stage","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":359,"run_time":1.07956365,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:1:1]","description":"calls upsert! on the salesforce client","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #create_or_update_company calls upsert! on the salesforce client","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":28,"run_time":0.031067616,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:1:2]","description":"uses the correct Salesforce company identifiers","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #create_or_update_company uses the correct Salesforce company identifiers","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":34,"run_time":0.029052167,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:1:3]","description":"rescues any StandardError exceptions and logs error","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #create_or_update_company rescues any StandardError exceptions and logs error","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":41,"run_time":0.032032415,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:2:1]","description":"calls upsert! on the salesforce client","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #create_or_update_user calls upsert! on the salesforce client","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":53,"run_time":0.026058286,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:2:2]","description":"uses the correct Salesforce user identifiers","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #create_or_update_user uses the correct Salesforce user identifiers","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":59,"run_time":0.024396422,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:2:3]","description":"rescues any StandardError exceptions and logs error","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #create_or_update_user rescues any StandardError exceptions and logs error","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":66,"run_time":0.026095446,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:3:1:1]","description":"calls upsert! on the salesforce client","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #create_or_update_contact_event_data when the given user has a Contact record in SalesForce calls upsert! on the salesforce client","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":83,"run_time":0.027300289,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:3:1:2]","description":"uses the correct Salesforce contact_event_data identifiers","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #create_or_update_contact_event_data when the given user has a Contact record in SalesForce uses the correct Salesforce contact_event_data identifiers","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":89,"run_time":0.026078917,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:3:1:3]","description":"rescues any StandardError exceptions and logs error","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #create_or_update_contact_event_data when the given user has a Contact record in SalesForce rescues any StandardError exceptions and logs error","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":96,"run_time":0.032749427,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:3:2:1]","description":"raises a SingleEventPusherError exception","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #create_or_update_contact_event_data when the given user does not have a Contact in SalesForce raises a SingleEventPusherError exception","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":111,"run_time":0.030924745,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:4:1]","description":"calls find and upsert! twice on the salesforce client","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #create_company_and_account_owner calls find and upsert! twice on the salesforce client","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":120,"run_time":0.051071543,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:4:2]","description":"use the correct Salesforce identifiers","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #create_company_and_account_owner use the correct Salesforce identifiers","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":126,"run_time":0.048606098,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:4:3]","description":"rescues any StandardError exceptions and logs error","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #create_company_and_account_owner rescues any StandardError exceptions and logs error","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":134,"run_time":0.050445793,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:5:1]","description":"calls upsert! on the salesforce client","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #create_account_manager calls upsert! on the salesforce client","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":146,"run_time":0.041554692,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:5:2]","description":"uses the correct Salesforce account manager identifiers","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #create_account_manager uses the correct Salesforce account manager identifiers","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":152,"run_time":0.033875997,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:5:3]","description":"rescues any StandardError exceptions and logs error","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #create_account_manager rescues any StandardError exceptions and logs error","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":159,"run_time":0.046647303,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:6:1]","description":"calls find and upsert! on the salesforce client","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #track_company_event for company delete event calls find and upsert! on the salesforce client","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":171,"run_time":0.008272649,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:6:2]","description":"uses the correct Salesforce company identifiers","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #track_company_event for company delete event uses the correct Salesforce company identifiers","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":178,"run_time":0.007351362,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:6:3]","description":"rescues any StandardError exceptions on upsert and logs error","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #track_company_event for company delete event rescues any StandardError exceptions on upsert and logs error","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":187,"run_time":0.009406272,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:6:4]","description":"rescues Restforce::NotFoundError exception on find but does not log error","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #track_company_event for company delete event rescues Restforce::NotFoundError exception on find but does not log error","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":198,"run_time":0.006752382,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:6:5]","description":"rescues StandardError exceptions on find and logs errors","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #track_company_event for company delete event rescues StandardError exceptions on find and logs errors","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":204,"run_time":0.005267947,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:7:1]","description":"calls upsert! on the salesforce client","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #track_user_event calls upsert! on the salesforce client","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":215,"run_time":0.02162706,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:7:2]","description":"uses the correct Salesforce company identifiers","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #track_user_event uses the correct Salesforce company identifiers","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":221,"run_time":0.022082445,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:7:3]","description":"rescues any StandardError exceptions and logs error","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #track_user_event rescues any StandardError exceptions and logs error","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":228,"run_time":0.024121341,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:8:1]","description":"calls find and upsert! on the salesforce client","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #track_user_event for user delete event calls find and upsert! on the salesforce client","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":240,"run_time":0.022887072,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:8:2]","description":"uses the correct Salesforce company identifiers","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #track_user_event for user delete event uses the correct Salesforce company identifiers","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":247,"run_time":0.022517388,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:8:3]","description":"rescues any StandardError exceptions on upsert and logs error","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #track_user_event for user delete event rescues any StandardError exceptions on upsert and logs error","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":256,"run_time":0.023267116,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:8:4]","description":"rescues Restforce::NotFoundError exception on find but does not log error","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #track_user_event for user delete event rescues Restforce::NotFoundError exception on find but does not log error","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":266,"run_time":0.022370098,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:8:5]","description":"rescues StandardError exceptions on find and logs errors","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #track_user_event for user delete event rescues StandardError exceptions on find and logs errors","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":272,"run_time":0.022753799,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:9:1]","description":"calls find and upsert! on the salesforce client","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #mark_account_manager_deleted calls find and upsert! on the salesforce client","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":283,"run_time":0.033994688,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:9:2]","description":"uses the correct Salesforce company identifiers","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #mark_account_manager_deleted uses the correct Salesforce company identifiers","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":291,"run_time":0.034648365,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:9:3]","description":"rescues any StandardError exceptions on upsert and logs error","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #mark_account_manager_deleted rescues any StandardError exceptions on upsert and logs error","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":305,"run_time":0.034981625,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:9:4]","description":"rescues Restforce::NotFoundError exception on find but does not log error","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #mark_account_manager_deleted rescues Restforce::NotFoundError exception on find but does not log error","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":316,"run_time":0.0340698,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:1:9:5]","description":"rescues StandardError exceptions on find and logs errors","full_description":"Salesforce::SingleEventPusher when salesforce sync is enabled #mark_account_manager_deleted rescues StandardError exceptions on find and logs errors","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":323,"run_time":0.035152301,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:2:1:1]","description":"does not call upsert! on the salesforce client","full_description":"Salesforce::SingleEventPusher when salesforce sync is disabled #create_or_update_company does not call upsert! on the salesforce client","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":339,"run_time":0.022455651,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:2:2:1]","description":"does not call upsert! on the salesforce client","full_description":"Salesforce::SingleEventPusher when salesforce sync is disabled #create_or_update_user does not call upsert! on the salesforce client","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":346,"run_time":0.027050645,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:2:3:1]","description":"does not call upsert! on the salesforce client","full_description":"Salesforce::SingleEventPusher when salesforce sync is disabled #create_or_update_contact_event_data does not call upsert! on the salesforce client","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":353,"run_time":0.02775795,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:2:4:1]","description":"does not call upsert! on the salesforce client","full_description":"Salesforce::SingleEventPusher when salesforce sync is disabled #track_company_event does not call upsert! on the salesforce client","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":360,"run_time":0.006349682,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:2:5:1]","description":"does not call upsert! on the salesforce client","full_description":"Salesforce::SingleEventPusher when salesforce sync is disabled #track_user_event does not call upsert! on the salesforce client","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":367,"run_time":0.024818463,"pending_message":null,"screenshot":null},{"id":"./spec/models/salesforce/single_event_pusher_spec.rb[1:2:6:1]","description":"does not call upsert! on the salesforce client","full_description":"Salesforce::SingleEventPusher when salesforce sync is disabled #mark_account_manager_deleted does not call upsert! on the salesforce client","status":"passed","file_path":"./spec/models/salesforce/single_event_pusher_spec.rb","line_number":374,"run_time":0.044480824,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_addon_spec.rb[1:1]","description":"is expected to validate that :type cannot be empty/falsy","full_description":"SubscriptionAddon is expected to validate that :type cannot be empty/falsy","status":"passed","file_path":"./spec/models/subscription_addon_spec.rb","line_number":6,"run_time":0.020943174,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_addon_spec.rb[1:2:1]","description":"cannot create a new addon of the same type","full_description":"SubscriptionAddon when an non-cancelled addon already exists cannot create a new addon of the same type","status":"passed","file_path":"./spec/models/subscription_addon_spec.rb","line_number":10,"run_time":0.231940983,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_addon_spec.rb[1:3:1]","description":"can create a new addon of the same type","full_description":"SubscriptionAddon when a cancelled addon already exists can create a new addon of the same type","status":"passed","file_path":"./spec/models/subscription_addon_spec.rb","line_number":18,"run_time":0.172905391,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_addon_spec.rb[1:4:1]","description":"returns active addons","full_description":"SubscriptionAddon.billable returns active addons","status":"passed","file_path":"./spec/models/subscription_addon_spec.rb","line_number":27,"run_time":0.134210863,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_addon_spec.rb[1:4:2]","description":"does not return non-active addons","full_description":"SubscriptionAddon.billable does not return non-active addons","status":"passed","file_path":"./spec/models/subscription_addon_spec.rb","line_number":31,"run_time":0.305790763,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_addon_spec.rb[1:4:3]","description":"does not return active but free addons","full_description":"SubscriptionAddon.billable does not return active but free addons","status":"passed","file_path":"./spec/models/subscription_addon_spec.rb","line_number":38,"run_time":0.344361255,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_addon_spec.rb[1:5:1]","description":"raises an error","full_description":"SubscriptionAddon#name raises an error","status":"passed","file_path":"./spec/models/subscription_addon_spec.rb","line_number":47,"run_time":0.003986846,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_addon_spec.rb[1:6:1]","description":"is false when enabled and free","full_description":"SubscriptionAddon#billable? is false when enabled and free","status":"passed","file_path":"./spec/models/subscription_addon_spec.rb","line_number":53,"run_time":0.003334668,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_addon_spec.rb[1:6:2:1]","description":"is true when enabled","full_description":"SubscriptionAddon#billable? with non-free price set is true when enabled","status":"passed","file_path":"./spec/models/subscription_addon_spec.rb","line_number":64,"run_time":0.003536166,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_addon_spec.rb[1:6:2:2]","description":"is false when not enabled","full_description":"SubscriptionAddon#billable? with non-free price set is false when not enabled","status":"passed","file_path":"./spec/models/subscription_addon_spec.rb","line_number":69,"run_time":0.002739957,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_addon_spec.rb[1:7:1]","description":"sets cancelled_at timestamp","full_description":"SubscriptionAddon#set_cancelled_at sets cancelled_at timestamp","status":"passed","file_path":"./spec/models/subscription_addon_spec.rb","line_number":77,"run_time":0.003174094,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_recovery_controller_spec.rb[1:1:1:1]","description":"redirects to login path","full_description":"TwoFactorRecoveryController#new user is not logged in redirects to login path","status":"passed","file_path":"./spec/controllers/two_factor_recovery_controller_spec.rb","line_number":9,"run_time":0.008583818,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_recovery_controller_spec.rb[1:1:2:1]","description":"renders the page","full_description":"TwoFactorRecoveryController#new user with two factor auth renders the page","status":"passed","file_path":"./spec/controllers/two_factor_recovery_controller_spec.rb","line_number":22,"run_time":0.058955285,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_recovery_controller_spec.rb[1:1:3:1]","description":"redirects to overview page","full_description":"TwoFactorRecoveryController#new user without two factor auth redirects to overview page","status":"passed","file_path":"./spec/controllers/two_factor_recovery_controller_spec.rb","line_number":35,"run_time":0.033837986,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_recovery_controller_spec.rb[1:2:1:1]","description":"redirects to overview when recovery code is valid","full_description":"TwoFactorRecoveryController#create user with two factor auth redirects to overview when recovery code is valid","status":"passed","file_path":"./spec/controllers/two_factor_recovery_controller_spec.rb","line_number":53,"run_time":0.06840808,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_recovery_controller_spec.rb[1:2:1:2]","description":"redirects to a provided url if the recovery code is valid","full_description":"TwoFactorRecoveryController#create user with two factor auth redirects to a provided url if the recovery code is valid","status":"passed","file_path":"./spec/controllers/two_factor_recovery_controller_spec.rb","line_number":61,"run_time":0.059793575,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_recovery_controller_spec.rb[1:2:1:3]","description":"preserves return_to_path value when recovery code is invalid","full_description":"TwoFactorRecoveryController#create user with two factor auth preserves return_to_path value when recovery code is invalid","status":"passed","file_path":"./spec/controllers/two_factor_recovery_controller_spec.rb","line_number":73,"run_time":0.051913557,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_recovery_controller_spec.rb[1:2:1:4]","description":"deletes used recovery code","full_description":"TwoFactorRecoveryController#create user with two factor auth deletes used recovery code","status":"passed","file_path":"./spec/controllers/two_factor_recovery_controller_spec.rb","line_number":83,"run_time":0.065218135,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_recovery_controller_spec.rb[1:2:1:5]","description":"renders error when recovery code is invalid","full_description":"TwoFactorRecoveryController#create user with two factor auth renders error when recovery code is invalid","status":"passed","file_path":"./spec/controllers/two_factor_recovery_controller_spec.rb","line_number":89,"run_time":0.050742513,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/two_factor_recovery_controller_spec.rb[1:2:1:6]","description":"renders error when recovery code is empty","full_description":"TwoFactorRecoveryController#create user with two factor auth renders error when recovery code is empty","status":"passed","file_path":"./spec/controllers/two_factor_recovery_controller_spec.rb","line_number":97,"run_time":0.057149124,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/ct600a_outstanding_loans_table_spec.rb[1:1:1]","description":"is valid","full_description":"Accounting::CorporationTax::Ct600aOutstandingLoansTable#rows is valid","status":"passed","file_path":"./spec/models/accounting/corporation_tax/ct600a_outstanding_loans_table_spec.rb","line_number":17,"run_time":0.59929538,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:2:1:4:4]","description":"representing out of VAT scope admin expense","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the invoice accounting basis not on the Flat Rate Scheme Bills representing out of VAT scope admin expense","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":4153,"run_time":0.580534566,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/yodlee_refresh_job_spec.rb[1:1:1]","description":"retries in 20 minutes","full_description":"YodleeRefreshJob.sidekiq_retry_in retries in 20 minutes","status":"passed","file_path":"./spec/jobs/yodlee_refresh_job_spec.rb","line_number":5,"run_time":0.004376292,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/yodlee_refresh_job_spec.rb[1:2:1]","description":"logs and does not raise if BankFeed does not exist","full_description":"YodleeRefreshJob#perform logs and does not raise if BankFeed does not exist","status":"passed","file_path":"./spec/jobs/yodlee_refresh_job_spec.rb","line_number":13,"run_time":0.005677251,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/yodlee_refresh_job_spec.rb[1:2:2]","description":"requests refresh when the Bank Auth has a user credentials error on it","full_description":"YodleeRefreshJob#perform requests refresh when the Bank Auth has a user credentials error on it","status":"passed","file_path":"./spec/jobs/yodlee_refresh_job_spec.rb","line_number":22,"run_time":0.072119589,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/yodlee_refresh_job_spec.rb[1:2:3]","description":"does not request refresh when the retry count is 2 or more","full_description":"YodleeRefreshJob#perform does not request refresh when the retry count is 2 or more","status":"passed","file_path":"./spec/jobs/yodlee_refresh_job_spec.rb","line_number":29,"run_time":0.063576386,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/yodlee_refresh_job_spec.rb[1:2:4]","description":"does not request refresh when there is no user credentials error","full_description":"YodleeRefreshJob#perform does not request refresh when there is no user credentials error","status":"passed","file_path":"./spec/jobs/yodlee_refresh_job_spec.rb","line_number":36,"run_time":0.070408629,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/yodlee_refresh_job_spec.rb[1:2:5:1]","description":"increments a Yodlee timeout metric","full_description":"YodleeRefreshJob#perform when a Banksy::Errors::Timeout occurs increments a Yodlee timeout metric","status":"passed","file_path":"./spec/jobs/yodlee_refresh_job_spec.rb","line_number":50,"run_time":0.067842017,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/yodlee_refresh_job_spec.rb[1:2:6:1]","description":"logs the error","full_description":"YodleeRefreshJob#perform When a Banksy::Errors::ConnectionFailed error occurs logs the error","status":"passed","file_path":"./spec/jobs/yodlee_refresh_job_spec.rb","line_number":64,"run_time":0.054421086,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/yodlee_refresh_job_spec.rb[1:2:6:2]","description":"doesn't send a message to the error service","full_description":"YodleeRefreshJob#perform When a Banksy::Errors::ConnectionFailed error occurs doesn't send a message to the error service","status":"passed","file_path":"./spec/jobs/yodlee_refresh_job_spec.rb","line_number":73,"run_time":0.056599744,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/yodlee_refresh_job_spec.rb[1:2:7:1]","description":"logs the error","full_description":"YodleeRefreshJob#perform When a Banksy::Errors::InternalServerError error occurs logs the error","status":"passed","file_path":"./spec/jobs/yodlee_refresh_job_spec.rb","line_number":64,"run_time":0.064628507,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/yodlee_refresh_job_spec.rb[1:2:7:2]","description":"doesn't send a message to the error service","full_description":"YodleeRefreshJob#perform When a Banksy::Errors::InternalServerError error occurs doesn't send a message to the error service","status":"passed","file_path":"./spec/jobs/yodlee_refresh_job_spec.rb","line_number":73,"run_time":0.064193534,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/yodlee_refresh_job_spec.rb[1:2:8:1]","description":"logs the error","full_description":"YodleeRefreshJob#perform When a Banksy::Errors::BadGateway error occurs logs the error","status":"passed","file_path":"./spec/jobs/yodlee_refresh_job_spec.rb","line_number":64,"run_time":0.060750829,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/yodlee_refresh_job_spec.rb[1:2:8:2]","description":"doesn't send a message to the error service","full_description":"YodleeRefreshJob#perform When a Banksy::Errors::BadGateway error occurs doesn't send a message to the error service","status":"passed","file_path":"./spec/jobs/yodlee_refresh_job_spec.rb","line_number":73,"run_time":0.102232672,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/mobile_signup_spec.rb[1:1:1]","description":"should not send an activation email to the user","full_description":"Signups::Factory::MobileSignup#save should not send an activation email to the user","status":"passed","file_path":"./spec/freeagent/signups/factory/mobile_signup_spec.rb","line_number":17,"run_time":0.173524927,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/mobile_signup_spec.rb[1:1:2]","description":"sends a confirmation email to the user","full_description":"Signups::Factory::MobileSignup#save sends a confirmation email to the user","status":"passed","file_path":"./spec/freeagent/signups/factory/mobile_signup_spec.rb","line_number":23,"run_time":0.143972689,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/mobile_signup_spec.rb[1:1:3]","description":"logs the signup creation","full_description":"Signups::Factory::MobileSignup#save logs the signup creation","status":"passed","file_path":"./spec/freeagent/signups/factory/mobile_signup_spec.rb","line_number":30,"run_time":0.141353364,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/mobile_signup_spec.rb[1:1:4]","description":"tracks the signup in Sqreen","full_description":"Signups::Factory::MobileSignup#save tracks the signup in Sqreen","status":"passed","file_path":"./spec/freeagent/signups/factory/mobile_signup_spec.rb","line_number":36,"run_time":0.131665757,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/mobile_signup_spec.rb[1:2:1]","description":"is to redirect to the mobile thanks path","full_description":"Signups::Factory::MobileSignup#next_step is to redirect to the mobile thanks path","status":"passed","file_path":"./spec/freeagent/signups/factory/mobile_signup_spec.rb","line_number":43,"run_time":0.007184983,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:1:2:1:3]","description":"which has been cancelled","full_description":"UkAccountsMapper Accounts Mapper for UK companies that are not VAT registered Invoices Given a native currency invoice with 3 line items in 2 categories which has been cancelled","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":80,"run_time":0.298742025,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/import_date_range_spec.rb[1:2]","description":"should validate start_date is after BankFeed#start_on","full_description":"BankFeeds::ImportDateRange should validate start_date is after BankFeed#start_on","status":"passed","file_path":"./spec/models/bank_feeds/import_date_range_spec.rb","line_number":17,"run_time":0.038492499,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/import_date_range_spec.rb[1:3]","description":"should validate start_date is on or before end_date","full_description":"BankFeeds::ImportDateRange should validate start_date is on or before end_date","status":"passed","file_path":"./spec/models/bank_feeds/import_date_range_spec.rb","line_number":25,"run_time":0.039595832,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/import_date_range_spec.rb[1:4]","description":"should validate that date range is less than 60 days","full_description":"BankFeeds::ImportDateRange should validate that date range is less than 60 days","status":"passed","file_path":"./spec/models/bank_feeds/import_date_range_spec.rb","line_number":35,"run_time":0.035267978,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/import_date_range_spec.rb[1:1:1]","description":"is expected to validate that :start_date cannot be empty/falsy","full_description":"BankFeeds::ImportDateRange when date_range has feed is expected to validate that :start_date cannot be empty/falsy","status":"passed","file_path":"./spec/models/bank_feeds/import_date_range_spec.rb","line_number":13,"run_time":0.037959294,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/import_date_range_spec.rb[1:1:2]","description":"is expected to validate that :end_date cannot be empty/falsy","full_description":"BankFeeds::ImportDateRange when date_range has feed is expected to validate that :end_date cannot be empty/falsy","status":"passed","file_path":"./spec/models/bank_feeds/import_date_range_spec.rb","line_number":14,"run_time":0.041323448,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/import_date_range_spec.rb[1:5:1]","description":"should return warnings for each date","full_description":"BankFeeds::ImportDateRange getting date warnings should return warnings for each date","status":"passed","file_path":"./spec/models/bank_feeds/import_date_range_spec.rb","line_number":51,"run_time":0.06281014,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/import_date_range_spec.rb[1:5:2]","description":"should return empty array if dates are invalid","full_description":"BankFeeds::ImportDateRange getting date warnings should return empty array if dates are invalid","status":"passed","file_path":"./spec/models/bank_feeds/import_date_range_spec.rb","line_number":57,"run_time":0.124548392,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/import_date_range_spec.rb[1:5:3]","description":"should return empty array if date range is too big","full_description":"BankFeeds::ImportDateRange getting date warnings should return empty array if date range is too big","status":"passed","file_path":"./spec/models/bank_feeds/import_date_range_spec.rb","line_number":62,"run_time":0.184540907,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[10:2:1]","description":"shows the 'Edit' button","full_description":"InvoicesController GET :show for an invoice that is marked as sent as a support session user shows the 'Edit' button","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":1019,"run_time":0.966252248,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[29:1:1:2:1]","description":"retains existing line items by default when removing an existing project","full_description":"InvoicesController Multiple projects on invoice Multiple projects on invoice update #add_unbilled_items given an invoice associated with a project retains existing line items by default when removing an existing project","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":2847,"run_time":0.361244937,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/multi_category_bills_product_update_spec.rb[1:1:1:1:1]","description":"returns a category defined on the Insight model","full_description":"Radar::Insights::Rules::MultiCategoryBillsProductUpdate behaves like a product update rule behaves like a ping rule #category returns a category defined on the Insight model","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":11,"run_time":0.003544087,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/multi_category_bills_product_update_spec.rb[1:1:1:2:1]","description":"returns a boolean","full_description":"Radar::Insights::Rules::MultiCategoryBillsProductUpdate behaves like a product update rule behaves like a ping rule #send_notifications? returns a boolean","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":17,"run_time":0.002885527,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/multi_category_bills_product_update_spec.rb[1:1:2:1]","description":"returns a category of product update","full_description":"Radar::Insights::Rules::MultiCategoryBillsProductUpdate behaves like a product update rule #category is a product update returns a category of product update","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":29,"run_time":0.002817498,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/multi_category_bills_product_update_spec.rb[1:2:1]","description":"launch date is correct","full_description":"Radar::Insights::Rules::MultiCategoryBillsProductUpdate.launch_date launch date is correct","status":"passed","file_path":"./spec/models/radar/insights/rules/multi_category_bills_product_update_spec.rb","line_number":9,"run_time":0.00258065,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/multi_category_bills_product_update_spec.rb[1:3:1:1]","description":"is expected to equal true","full_description":"Radar::Insights::Rules::MultiCategoryBillsProductUpdate#product_update_applies? for a full access, freeagent-branding-allowed company is expected to equal true","status":"passed","file_path":"./spec/models/radar/insights/rules/multi_category_bills_product_update_spec.rb","line_number":21,"run_time":0.007484017,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/multi_category_bills_product_update_spec.rb[1:3:2:1]","description":"is expected to equal false","full_description":"Radar::Insights::Rules::MultiCategoryBillsProductUpdate#product_update_applies? for a company without full access is expected to equal false","status":"passed","file_path":"./spec/models/radar/insights/rules/multi_category_bills_product_update_spec.rb","line_number":27,"run_time":0.101643545,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/multi_category_bills_product_update_spec.rb[1:3:3:1]","description":"is expected to equal false","full_description":"Radar::Insights::Rules::MultiCategoryBillsProductUpdate#product_update_applies? for a company which does not allow freeagent branding is expected to equal false","status":"passed","file_path":"./spec/models/radar/insights/rules/multi_category_bills_product_update_spec.rb","line_number":33,"run_time":0.164852347,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/multi_category_bills_product_update_spec.rb[1:4:1]","description":"returns true","full_description":"Radar::Insights::Rules::MultiCategoryBillsProductUpdate#mobile? returns true","status":"passed","file_path":"./spec/models/radar/insights/rules/multi_category_bills_product_update_spec.rb","line_number":42,"run_time":0.009329119,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/multi_category_bills_product_update_spec.rb[1:5:1]","description":"has the correct permissions","full_description":"Radar::Insights::Rules::MultiCategoryBillsProductUpdate#allowed_permission_levels has the correct permissions","status":"passed","file_path":"./spec/models/radar/insights/rules/multi_category_bills_product_update_spec.rb","line_number":52,"run_time":0.008401972,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_data/all_company_data/payslips_spec.rb[1:1]","description":"has no nested data","full_description":"Exporter::ExportableData::AllCompanyData::Payslips has no nested data","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_data/all_company_data/payslips_spec.rb","line_number":9,"run_time":0.067275635,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_data/all_company_data/payslips_spec.rb[1:2]","description":"returns the correct exportable type","full_description":"Exporter::ExportableData::AllCompanyData::Payslips returns the correct exportable type","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_data/all_company_data/payslips_spec.rb","line_number":13,"run_time":0.060546936,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_data/all_company_data/payslips_spec.rb[1:3]","description":"operates on company's payslips","full_description":"Exporter::ExportableData::AllCompanyData::Payslips operates on company's payslips","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_data/all_company_data/payslips_spec.rb","line_number":17,"run_time":0.074101959,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_data/all_company_data/payslips_spec.rb[1:4]","description":"sorts payslips by dated on","full_description":"Exporter::ExportableData::AllCompanyData::Payslips sorts payslips by dated on","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_data/all_company_data/payslips_spec.rb","line_number":21,"run_time":0.148911472,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:16:4:1]","description":"returns due value","full_description":"Invoice#optional_due_value given a part-paid invoice returns due value","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":324,"run_time":0.333699262,"pending_message":null,"screenshot":null}],"summary":{"duration":3.215980442,"example_count":539,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"539 examples, 0 failures"}