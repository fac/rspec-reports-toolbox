{"version":"3.11.0","messages":["Run options:\n  include {:ids=\u003e{\"./spec/models/uk_accounts_mapper_spec.rb\"=\u003e[\"1:4:2:1\"], \"./spec/controllers/invoices_controller_spec.rb\"=\u003e[\"20:2\"]}}\n  exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/models/bill_item_spec.rb[1:1]","description":"is expected to validate that :total_value cannot be empty/falsy","full_description":"BillItem is expected to validate that :total_value cannot be empty/falsy","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":10,"run_time":0.418243968,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:2]","description":"is expected to validate that :quantity looks like a number greater than or equal to 0 as long as it is not nil","full_description":"BillItem is expected to validate that :quantity looks like a number greater than or equal to 0 as long as it is not nil","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":11,"run_time":0.04424911,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:3]","description":"is expected to validate that :total_value looks like a number as long as it is not nil","full_description":"BillItem is expected to validate that :total_value looks like a number as long as it is not nil","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":12,"run_time":0.034956822,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:4]","description":"is expected to validate that :item_type is either ‹\"-no unit-\"›, ‹\"Hours\"›, ‹\"Days\"›, ‹\"Weeks\"›, ‹\"Months\"›, ‹\"Years\"›, ‹\"Products\"›, ‹\"Services\"›, ‹\"Training\"›, or ‹\"Stock\"›, producing a custom validation error on failure","full_description":"BillItem is expected to validate that :item_type is either ‹\"-no unit-\"›, ‹\"Hours\"›, ‹\"Days\"›, ‹\"Weeks\"›, ‹\"Months\"›, ‹\"Years\"›, ‹\"Products\"›, ‹\"Services\"›, ‹\"Training\"›, or ‹\"Stock\"›, producing a custom validation error on failure","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":13,"run_time":0.038609331,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:5:1]","description":"only allows the EXEMPT_RATE for vat registered companies","full_description":"BillItem when validating the primary sales tax rate only allows the EXEMPT_RATE for vat registered companies","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":17,"run_time":0.163208265,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:5:2]","description":"allows OUT_OF_SCOPE_RATE and SPECIFY_AMOUNT_RATE","full_description":"BillItem when validating the primary sales tax rate allows OUT_OF_SCOPE_RATE and SPECIFY_AMOUNT_RATE","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":23,"run_time":0.033215355,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:5:3]","description":"is expected not to allow :sales_tax_rate to be ‹nil›","full_description":"BillItem when validating the primary sales tax rate is expected not to allow :sales_tax_rate to be ‹nil›","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":29,"run_time":0.027748068,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:5:4]","description":"is valid when an allowed rate is supplied","full_description":"BillItem when validating the primary sales tax rate is valid when an allowed rate is supplied","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":31,"run_time":0.028096933,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:5:5]","description":"is invalid when the rate is not a number","full_description":"BillItem when validating the primary sales tax rate is invalid when the rate is not a number","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":35,"run_time":0.027412047,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:5:6]","description":"is invalid when the rate is not an allowed rate","full_description":"BillItem when validating the primary sales tax rate is invalid when the rate is not an allowed rate","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":39,"run_time":0.02871301,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:5:7]","description":"is valid when the rate is greater than 100%","full_description":"BillItem when validating the primary sales tax rate is valid when the rate is greater than 100%","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":43,"run_time":0.026810452,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:6:1]","description":"is expected to allow :second_sales_tax_rate to be ‹-5›","full_description":"BillItem when validating the second sales tax rate is expected to allow :second_sales_tax_rate to be ‹-5›","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":49,"run_time":0.0271476,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:6:2]","description":"is expected not to allow :second_sales_tax_rate to be ‹-1› or ‹nil›","full_description":"BillItem when validating the second sales tax rate is expected not to allow :second_sales_tax_rate to be ‹-1› or ‹nil›","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":50,"run_time":0.028632217,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:6:3]","description":"is valid when an allowed rate is supplied","full_description":"BillItem when validating the second sales tax rate is valid when an allowed rate is supplied","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":52,"run_time":0.026314887,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:6:4]","description":"is invalid when the rate is not a number","full_description":"BillItem when validating the second sales tax rate is invalid when the rate is not a number","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":56,"run_time":0.027149421,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:6:5]","description":"is invalid when the rate is not an allowed rate","full_description":"BillItem when validating the second sales tax rate is invalid when the rate is not an allowed rate","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":60,"run_time":0.026940839,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:6:6]","description":"is valid when the rate is greater than 100%","full_description":"BillItem when validating the second sales tax rate is valid when the rate is greater than 100%","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":64,"run_time":0.026635036,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:7:1]","description":"fails to create bill with no manual sales tax rate","full_description":"BillItem when validating the manual sales tax amount fails to create bill with no manual sales tax rate","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":70,"run_time":0.028593773,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:7:2]","description":"fails to create bill with total_value and invalid manual sales tax rate","full_description":"BillItem when validating the manual sales tax amount fails to create bill with total_value and invalid manual sales tax rate","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":81,"run_time":0.53389883,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:7:3]","description":"fails to create bill with total_value_ex_tax and invalid manual sales tax rate","full_description":"BillItem when validating the manual sales tax amount fails to create bill with total_value_ex_tax and invalid manual sales tax rate","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":142,"run_time":0.123125491,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:8:1:1]","description":"is expected to allow :manual_sales_tax_amount to be ‹-100›, ‹-50›, or ‹0›","full_description":"BillItem when validating sales tax for credits with total_value is expected to allow :manual_sales_tax_amount to be ‹-100›, ‹-50›, or ‹0›","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":169,"run_time":0.031401107,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:8:1:2]","description":"does not allow positive sales tax","full_description":"BillItem when validating sales tax for credits with total_value does not allow positive sales tax","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":170,"run_time":0.029573854,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:8:1:3]","description":"does not allow sales tax of more than the value of the item itself","full_description":"BillItem when validating sales tax for credits with total_value does not allow sales tax of more than the value of the item itself","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":174,"run_time":0.029118215,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:8:2:1]","description":"is expected to allow :manual_sales_tax_amount to be ‹-100›, ‹-50›, or ‹0›","full_description":"BillItem when validating sales tax for credits with total_value_ex_tax is expected to allow :manual_sales_tax_amount to be ‹-100›, ‹-50›, or ‹0›","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":185,"run_time":0.031007483,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:8:2:2]","description":"does not allow positive sales tax","full_description":"BillItem when validating sales tax for credits with total_value_ex_tax does not allow positive sales tax","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":186,"run_time":0.029880882,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:8:2:3]","description":"allows sales tax of more than the value of the item itself","full_description":"BillItem when validating sales tax for credits with total_value_ex_tax allows sales tax of more than the value of the item itself","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":190,"run_time":0.029226446,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:9:1:1]","description":"is expected to allow :manual_sales_tax_amount to be ‹0›, ‹50›, or ‹100›","full_description":"BillItem when validating sales tax for bills with total_value is expected to allow :manual_sales_tax_amount to be ‹0›, ‹50›, or ‹100›","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":202,"run_time":0.030644492,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:9:1:2]","description":"does not allow negative sales tax","full_description":"BillItem when validating sales tax for bills with total_value does not allow negative sales tax","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":203,"run_time":0.028949353,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:9:1:3]","description":"does not allow sales tax of more than the value of the item itself","full_description":"BillItem when validating sales tax for bills with total_value does not allow sales tax of more than the value of the item itself","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":207,"run_time":0.02899066,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:9:2:1]","description":"is expected to allow :manual_sales_tax_amount to be ‹0›, ‹50›, or ‹100›","full_description":"BillItem when validating sales tax for bills with total_value_ex_tax is expected to allow :manual_sales_tax_amount to be ‹0›, ‹50›, or ‹100›","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":218,"run_time":0.031400672,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:9:2:2]","description":"does not allow negative sales tax","full_description":"BillItem when validating sales tax for bills with total_value_ex_tax does not allow negative sales tax","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":219,"run_time":0.030193007,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:9:2:3]","description":"allows sales tax of more than the value of the item itself","full_description":"BillItem when validating sales tax for bills with total_value_ex_tax allows sales tax of more than the value of the item itself","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":223,"run_time":0.029216781,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:10:1]","description":"is expected to allow :manual_sales_tax_amount to be ‹5›, ‹0›, or ‹-5›","full_description":"BillItem when validating sales tax for bills with total_value_ex_tax = 0 is expected to allow :manual_sales_tax_amount to be ‹5›, ‹0›, or ‹-5›","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":234,"run_time":0.032058476,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:11:1]","description":"is expected not to allow :stock_altering_quantity to be ‹nil›, producing a custom validation error on failure","full_description":"BillItem when validating stock item is expected not to allow :stock_altering_quantity to be ‹nil›, producing a custom validation error on failure","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":248,"run_time":0.149787063,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:11:2]","description":"is expected not to allow :stock_altering_quantity to be ‹0›, producing a custom validation error on failure","full_description":"BillItem when validating stock item is expected not to allow :stock_altering_quantity to be ‹0›, producing a custom validation error on failure","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":249,"run_time":0.100886343,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:11:3]","description":"has the same company on the bill item as the stock item","full_description":"BillItem when validating stock item has the same company on the bill item as the stock item","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":251,"run_time":0.100123367,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:11:4]","description":"must have a stock item","full_description":"BillItem when validating stock item must have a stock item","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":256,"run_time":0.101013657,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:12:1:1:1]","description":"does not allow the stock purchase category","full_description":"BillItem when validating credits with total_value for a stock purchase does not allow the stock purchase category","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":272,"run_time":0.0987692,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:12:1:2:1]","description":"does not allow a capital asset category","full_description":"BillItem when validating credits with total_value for a capital asset purchase does not allow a capital asset category","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":281,"run_time":0.029480312,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:12:2:1:1]","description":"does not allow the stock purchase category","full_description":"BillItem when validating credits with total_value_ex_tax for a stock purchase does not allow the stock purchase category","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":300,"run_time":0.103561695,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:12:2:2:1]","description":"does not allow a capital asset category","full_description":"BillItem when validating credits with total_value_ex_tax for a capital asset purchase does not allow a capital asset category","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":309,"run_time":0.029563135,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:13:1]","description":"must have a recognised general ledger account","full_description":"BillItem when validating general ledger entries must have a recognised general ledger account","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":320,"run_time":0.134386256,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:13:2]","description":"must have a valid general ledger account","full_description":"BillItem when validating general ledger entries must have a valid general ledger account","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":325,"run_time":0.123187089,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:14:1]","description":"creates a non-capital-asset bill item without a description","full_description":"BillItem when no description is provided creates a non-capital-asset bill item without a description","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":334,"run_time":0.028489487,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:14:2:1]","description":"is expected to validate that :description cannot be empty/falsy","full_description":"BillItem when no description is provided when the bill item is a capital asset purchase is expected to validate that :description cannot be empty/falsy","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":341,"run_time":0.033846307,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:15:1]","description":"is not valid to have a quantity for a stock purchase","full_description":"BillItem when validating the quantity is not valid to have a quantity for a stock purchase","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":346,"run_time":0.069170234,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:15:2]","description":"is not valid to have a quantity for a capital asset purchase","full_description":"BillItem when validating the quantity is not valid to have a quantity for a capital asset purchase","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":352,"run_time":0.030226341,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:15:3]","description":"forces quantity to be nil when set to 0 or 1 for a stock purchase","full_description":"BillItem when validating the quantity forces quantity to be nil when set to 0 or 1 for a stock purchase","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":358,"run_time":0.062394713,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:15:4]","description":"forces quantity to be nil when set to 0 or 1 for a capital asset purchase","full_description":"BillItem when validating the quantity forces quantity to be nil when set to 0 or 1 for a capital asset purchase","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":364,"run_time":0.03172658,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:15:5]","description":"forces quantity to be nil when set and changing to a stock purchase","full_description":"BillItem when validating the quantity forces quantity to be nil when set and changing to a stock purchase","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":370,"run_time":0.248763479,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:15:6]","description":"forces quantity to be nil when set and changing to a capital asset purchase","full_description":"BillItem when validating the quantity forces quantity to be nil when set and changing to a capital asset purchase","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":382,"run_time":0.116515804,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:16:1:1]","description":"is expected to be nil","full_description":"BillItem#native_value_on_bill_date when there is no total value is expected to be nil","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":396,"run_time":0.01561889,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:16:2:1]","description":"correctly uses the exchange rate to form the correctly rounded currency value","full_description":"BillItem#native_value_on_bill_date when there is a total value correctly uses the exchange rate to form the correctly rounded currency value","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":404,"run_time":0.015749793,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:17:1:1]","description":"is expected to be nil","full_description":"BillItem#native_net_value when the total value is not set is expected to be nil","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":414,"run_time":0.015709876,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:17:2:1:1]","description":"calculates the native net value of the bill item","full_description":"BillItem#native_net_value when the is a total value is set for a native currency bill calculates the native net value of the bill item","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":423,"run_time":0.02225256,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:17:2:2:1]","description":"calculates the native net value of the bill item","full_description":"BillItem#native_net_value when the is a total value is set for a foreign currency bill calculates the native net value of the bill item","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":443,"run_time":0.024234467,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:18:1:1]","description":"returns nil","full_description":"BillItem#net_value with a new, unsaved bill item, with a total_value of 0 but lacking a bill returns nil","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":454,"run_time":0.003212153,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:18:2:1:1]","description":"calculates the net value of the bill item","full_description":"BillItem#net_value with a native currency bill with a single sales tax rate calculates the net value of the bill item","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":465,"run_time":0.016264801,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:18:2:2:1]","description":"calculates the net value of the bill item","full_description":"BillItem#net_value with a native currency bill with two sales tax rates calculates the net value of the bill item","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":479,"run_time":0.017699621,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:18:3:1]","description":"calculates the net value of the bill item","full_description":"BillItem#net_value with a foreign currency bill calculates the net value of the bill item","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":500,"run_time":0.017167695,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:19:1:1]","description":"is expected to validate that :total_value_ex_tax looks like a number as long as it is not nil","full_description":"BillItem#total_value_ex_tax= validations is expected to validate that :total_value_ex_tax looks like a number as long as it is not nil","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":515,"run_time":0.031370969,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:19:2:1]","description":"casts a string to decimal","full_description":"BillItem#total_value_ex_tax= type casting casts a string to decimal","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":521,"run_time":0.017261957,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:19:2:2]","description":"casts an integer to decimal","full_description":"BillItem#total_value_ex_tax= type casting casts an integer to decimal","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":528,"run_time":0.016086279,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:19:2:3]","description":"casts a float to decimal","full_description":"BillItem#total_value_ex_tax= type casting casts a float to decimal","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":535,"run_time":0.01604806,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:19:2:4]","description":"sets to zero if input can't be type cast","full_description":"BillItem#total_value_ex_tax= type casting sets to zero if input can't be type cast","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":542,"run_time":0.016299143,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:19:3:1]","description":"sets net, gross, total value with zero sales tax","full_description":"BillItem#total_value_ex_tax= with a native currency bill sets net, gross, total value with zero sales tax","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":553,"run_time":0.120736461,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:19:3:2]","description":"sets net, gross, total value with single sales tax rate","full_description":"BillItem#total_value_ex_tax= with a native currency bill sets net, gross, total value with single sales tax rate","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":569,"run_time":0.141467061,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:19:3:3]","description":"sets net, gross, total value with single manual sales tax","full_description":"BillItem#total_value_ex_tax= with a native currency bill sets net, gross, total value with single manual sales tax","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":585,"run_time":0.112062432,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:19:3:4]","description":"sets net, gross, total value with single sales tax set to EXEMPT","full_description":"BillItem#total_value_ex_tax= with a native currency bill sets net, gross, total value with single sales tax set to EXEMPT","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":602,"run_time":0.119979967,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:19:3:5]","description":"sets net, gross, total value with single sales tax set to OUT_OF_SCOPE","full_description":"BillItem#total_value_ex_tax= with a native currency bill sets net, gross, total value with single sales tax set to OUT_OF_SCOPE","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":618,"run_time":0.127226506,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:19:3:6]","description":"fails to validate when total_value is also set","full_description":"BillItem#total_value_ex_tax= with a native currency bill fails to validate when total_value is also set","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":634,"run_time":0.073841545,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:19:4:1]","description":"sets net, gross, total value with two sales tax rates","full_description":"BillItem#total_value_ex_tax= with a native currency bill and compound second sales tax sets net, gross, total value with two sales tax rates","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":651,"run_time":0.211319065,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:19:4:2:1]","description":"sets net, gross, total value with two sales tax rates","full_description":"BillItem#total_value_ex_tax= with a native currency bill and compound second sales tax with particular values that used to lead to penny rounding errors sets net, gross, total value with two sales tax rates","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":675,"run_time":0.20096984,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:19:5:1]","description":"sets net, gross, total value with zero sales tax","full_description":"BillItem#total_value_ex_tax= with a foreign currency bill sets net, gross, total value with zero sales tax","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":699,"run_time":0.166443456,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:19:5:2]","description":"sets net, gross, total value with single reclaimed sales tax","full_description":"BillItem#total_value_ex_tax= with a foreign currency bill sets net, gross, total value with single reclaimed sales tax","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":715,"run_time":0.130758115,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:19:6:1]","description":"saves successfully when setting the same value","full_description":"BillItem#total_value_ex_tax= when `total_value` is locked saves successfully when setting the same value","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":738,"run_time":0.470606208,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:19:6:2]","description":"fails to save when setting a new value","full_description":"BillItem#total_value_ex_tax= when `total_value` is locked fails to save when setting a new value","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":744,"run_time":0.359243837,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:20:1:1:1]","description":"sets the total_value to the manual_sales_tax_amount","full_description":"BillItem#set_total_value_from_total_value_ex_tax when total_value_ex_tax is 0 and sales_tax_rate is ALL_SALES_TAX_RATE when manual_sales_tax_amount is positive sets the total_value to the manual_sales_tax_amount","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":767,"run_time":0.059828847,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:20:1:2:1]","description":"sets the total_value to the manual_sales_tax_amount","full_description":"BillItem#set_total_value_from_total_value_ex_tax when total_value_ex_tax is 0 and sales_tax_rate is ALL_SALES_TAX_RATE when manual_sales_tax_amount is negative sets the total_value to the manual_sales_tax_amount","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":784,"run_time":0.05818705,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:20:2:1]","description":"sets the total_value to the sum of the total_value_ex_tax and 20% of that","full_description":"BillItem#set_total_value_from_total_value_ex_tax when total_value_ex_tax is positive and sales_tax_rate is 20% sets the total_value to the sum of the total_value_ex_tax and 20% of that","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":800,"run_time":0.057019924,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:20:3:1]","description":"returns early and doesn't change total_value","full_description":"BillItem#set_total_value_from_total_value_ex_tax when total_value_ex_tax is not present returns early and doesn't change total_value","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":818,"run_time":0.058161264,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:21:1:1]","description":"returns nil","full_description":"BillItem#total_value_ex_tax with a new, unsaved bill item, with a total_value of 0 but lacking a bill returns nil","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":835,"run_time":0.003326284,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:21:2:1]","description":"returns positive net value","full_description":"BillItem#total_value_ex_tax for a bill returns positive net value","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":843,"run_time":0.114881967,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:21:2:2]","description":"returns new net total when set without saving","full_description":"BillItem#total_value_ex_tax for a bill returns new net total when set without saving","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":847,"run_time":0.127616533,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:21:3:1]","description":"returns negative net value","full_description":"BillItem#total_value_ex_tax for a refund returns negative net value","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":857,"run_time":0.120215719,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:21:4:1]","description":"returns a positive zero","full_description":"BillItem#total_value_ex_tax for a sales-tax only item returns a positive zero","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":872,"run_time":0.116913327,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:22:1]","description":"contains the customisable spending accounts","full_description":"BillItem#allowed_accounts contains the customisable spending accounts","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":879,"run_time":0.115764614,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:22:2]","description":"contains the fixed asset purchase accounts","full_description":"BillItem#allowed_accounts contains the fixed asset purchase accounts","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":887,"run_time":0.131619915,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:22:3]","description":"contains the stock item accounts","full_description":"BillItem#allowed_accounts contains the stock item accounts","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":894,"run_time":0.133695119,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:23:1]","description":"removes the stock item and resets item type to no unit","full_description":"BillItem when changing category from purchase of stock removes the stock item and resets item type to no unit","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":907,"run_time":0.258559622,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:23:2:1]","description":"removes the stock item and uses the new item type","full_description":"BillItem when changing category from purchase of stock with a non-stock item type removes the stock item and uses the new item type","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":917,"run_time":0.245635667,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:24:1]","description":"defaults item_type to NO_UNIT","full_description":"BillItem when creating without item_type defaults item_type to NO_UNIT","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":932,"run_time":0.02997086,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:25:1:1]","description":"changes item_type to STOCK","full_description":"BillItem when category is purchase of stock with an associated stock item changes item_type to STOCK","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":941,"run_time":0.057311341,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:25:2:1]","description":"only returns a validation error for the stock item missing","full_description":"BillItem when category is purchase of stock without an associated stock item only returns a validation error for the stock item missing","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":949,"run_time":0.028808807,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:26:1]","description":"changes item_type to NO_UNIT","full_description":"BillItem when category is a capital asset purchase changes item_type to NO_UNIT","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":961,"run_time":0.030046442,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:27:1:1:1:1]","description":"applies the standard VAT rate at the date of the bill item","full_description":"BillItem when the sales tax rate is a non standard vat rate with a uk vat registered company an AUTO_VAT bill item added to an account with a standard VAT rate applies the standard VAT rate at the date of the bill item","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":987,"run_time":0.132884137,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:27:1:1:2:1]","description":"applies the reduced VAT rate at the date of the bill item","full_description":"BillItem when the sales tax rate is a non standard vat rate with a uk vat registered company an AUTO_VAT bill item added to an account with a reduced VAT rate applies the reduced VAT rate at the date of the bill item","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1010,"run_time":0.153086915,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:27:1:1:3:1]","description":"applies a zero VAT rate","full_description":"BillItem when the sales tax rate is a non standard vat rate with a uk vat registered company an AUTO_VAT bill item added to an account with a zero VAT rate applies a zero VAT rate","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1033,"run_time":0.175091781,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:27:1:1:4:1]","description":"applies an out of scope VAT rate","full_description":"BillItem when the sales tax rate is a non standard vat rate with a uk vat registered company an AUTO_VAT bill item added to a category which is out of scope of VAT applies an out of scope VAT rate","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1054,"run_time":0.146541897,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:27:1:1:5:1]","description":"applies an out of scope VAT rate","full_description":"BillItem when the sales tax rate is a non standard vat rate with a uk vat registered company an AUTO_VAT bill item added to a category which is out of scope of VAT, default_auto_oos_vat_rate feature disabled applies an out of scope VAT rate","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1076,"run_time":0.154261243,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:27:1:1:6:1]","description":"applies an out of scope VAT rate","full_description":"BillItem when the sales tax rate is a non standard vat rate with a uk vat registered company an AUTO_VAT bill item and the bill is marked as EC Services applies an out of scope VAT rate","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1099,"run_time":0.139613239,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:27:1:2:1]","description":"has no VAT amount","full_description":"BillItem when the sales tax rate is a non standard vat rate with a uk vat registered company and is VAT exempt has no VAT amount","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1117,"run_time":0.124831465,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:27:1:3:1:1]","description":"returns correct sales_tax_value","full_description":"BillItem when the sales tax rate is a non standard vat rate with a uk vat registered company for a foreign currency bill and the sales tax rate is manually specified returns correct sales_tax_value","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1144,"run_time":0.018406775,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:27:2:1:1]","description":"set the sales tax rate to zero","full_description":"BillItem when the sales tax rate is a non standard vat rate with a universal company when the sales tax rate is set to AUTO_VAT set the sales tax rate to zero","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1163,"run_time":0.163832535,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:28:1:1]","description":"is using a defined sales tax rate","full_description":"BillItem#uses_defined_sales_tax_rate? when the sales tax rate matches a standard sales tax rate is using a defined sales tax rate","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1179,"run_time":0.245904246,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:28:2:1]","description":"is not using a defined sales tax rate","full_description":"BillItem#uses_defined_sales_tax_rate? when the sales tax rate does not matches a standard sales tax rate is not using a defined sales tax rate","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1187,"run_time":0.215857271,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:29:1:1]","description":"is false","full_description":"BillItem#can_depreciate? with a non-depreciating nominal code is false","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1204,"run_time":0.109177895,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:29:2:1]","description":"is true","full_description":"BillItem#can_depreciate? with a capital asset purchase is true","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1213,"run_time":0.195838648,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:30:1]","description":"is correct","full_description":"BillItem#notional_vat_value is correct","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1220,"run_time":0.015344176,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:31:1]","description":"is equal to notional_vat_value in the native currency","full_description":"BillItem#native_notional_vat_value_on_bill_date is equal to notional_vat_value in the native currency","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1227,"run_time":0.015090095,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:32:1]","description":"is true when the general ledger account is in scope of sales tax","full_description":"BillItem#is_vatable? is true when the general ledger account is in scope of sales tax","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1233,"run_time":0.014735891,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:32:2]","description":"is false when the general ledger account is out of scope of sales tax","full_description":"BillItem#is_vatable? is false when the general ledger account is out of scope of sales tax","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1237,"run_time":0.014066522,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:33:1]","description":"is true for a capital asset purchase account","full_description":"BillItem#is_a_capital_asset_purchase? is true for a capital asset purchase account","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1244,"run_time":0.015036034,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:33:2]","description":"is false for a non-capital asset purchase account","full_description":"BillItem#is_a_capital_asset_purchase? is false for a non-capital asset purchase account","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1249,"run_time":0.014998945,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:34:1:1]","description":"has two sales tax effects","full_description":"BillItem#tax_effect_source_items for a newly created capital asset bill has two sales tax effects","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1268,"run_time":0.42483646,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:34:1:2]","description":"has its effects annotated with id","full_description":"BillItem#tax_effect_source_items for a newly created capital asset bill has its effects annotated with id","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1272,"run_time":0.601823842,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:34:1:3]","description":"is expected to have 1 item","full_description":"BillItem#tax_effect_source_items for a newly created capital asset bill is expected to have 1 item","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1277,"run_time":0.830380308,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:34:1:4]","description":"populates the bill type with PURCHASE_OF_OTHER_CAPITAL_ASSET","full_description":"BillItem#tax_effect_source_items for a newly created capital asset bill populates the bill type with PURCHASE_OF_OTHER_CAPITAL_ASSET","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1279,"run_time":0.461345434,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:34:1:5]","description":"returns the correct nominal code for PURCHASE_OF_OTHER_CAPITAL_ASSET","full_description":"BillItem#tax_effect_source_items for a newly created capital asset bill returns the correct nominal code for PURCHASE_OF_OTHER_CAPITAL_ASSET","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1283,"run_time":0.437711207,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:35:1:1]","description":"creates a valid bill item","full_description":"BillItem when creating a bill item with a stock account creates a valid bill item","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1305,"run_time":0.214297048,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:35:1:2]","description":"sets the account_name to be the account name","full_description":"BillItem when creating a bill item with a stock account sets the account_name to be the account name","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1309,"run_time":0.229563232,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:35:1:4]","description":"does not create a bill item if the quantity is 0","full_description":"BillItem when creating a bill item with a stock account does not create a bill item if the quantity is 0","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1321,"run_time":0.100207506,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:35:1:5]","description":"does not create a bill item if the quantity is nil","full_description":"BillItem when creating a bill item with a stock account does not create a bill item if the quantity is nil","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1326,"run_time":0.118370164,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:35:1:6]","description":"does not create a bill item if the total value is not set","full_description":"BillItem when creating a bill item with a stock account does not create a bill item if the total value is not set","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1331,"run_time":0.09715118,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:35:1:3:1]","description":"deletes the stock transaction when deleted","full_description":"BillItem when creating a bill item with a stock account with a decimal quantity deletes the stock transaction when deleted","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1316,"run_time":0.284366218,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:35:2:1]","description":"is invalid","full_description":"BillItem when creating a bill item with stock category but no stock item is invalid","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1343,"run_time":0.147933556,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:35:3:1]","description":"is invalid","full_description":"BillItem when creating a bill item with a stock item from another company is invalid","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1361,"run_time":0.196654634,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:36:1:1]","description":"returns the correct sales tax rate","full_description":"BillItem#sales_tax_rate_calculator with a foreign currency bill using manual sales tax returns the correct sales tax rate","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1394,"run_time":0.021895574,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:36:1:2:1]","description":"returns the correct sales tax rate","full_description":"BillItem#sales_tax_rate_calculator with a foreign currency bill using manual sales tax when the sales tax is the entire value of the bill item returns the correct sales tax rate","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1419,"run_time":0.020740724,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:37:1]","description":"auto_vat","full_description":"BillItem#sales_tax_rate auto_vat","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1427,"run_time":0.234246923,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:37:2]","description":"stores_high_precision_sales_tax_rate","full_description":"BillItem#sales_tax_rate stores_high_precision_sales_tax_rate","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1449,"run_time":0.138225189,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:37:3]","description":"calculates_non_standard_sales_tax_from_manual_amount","full_description":"BillItem#sales_tax_rate calculates_non_standard_sales_tax_from_manual_amount","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1454,"run_time":0.12437405,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:37:4]","description":"calculates_non_standard_sales_tax_from_manual_negative_amount","full_description":"BillItem#sales_tax_rate calculates_non_standard_sales_tax_from_manual_negative_amount","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1469,"run_time":0.123793889,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:37:5]","description":"calculates_all_sales_tax_from_manual_amount","full_description":"BillItem#sales_tax_rate calculates_all_sales_tax_from_manual_amount","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1484,"run_time":0.129279168,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:37:6]","description":"calculates_all_sales_tax_from_manual_negative_amount","full_description":"BillItem#sales_tax_rate calculates_all_sales_tax_from_manual_negative_amount","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1496,"run_time":0.189849206,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:38:1:1:1:1]","description":"applies the standard VAT rate at the date of the bill item","full_description":"BillItem when creating a bill item that has sales tax an AUTO_VAT bill item added to an account with a standard VAT rate applies the standard VAT rate at the date of the bill item","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1529,"run_time":0.10474335,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:38:1:1:2:1]","description":"applies the reduced VAT rate at the date of the bill item","full_description":"BillItem when creating a bill item that has sales tax an AUTO_VAT bill item added to an account with a reduced VAT rate applies the reduced VAT rate at the date of the bill item","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1542,"run_time":0.130059907,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:38:1:1:3:1]","description":"applies a zero VAT rate","full_description":"BillItem when creating a bill item that has sales tax an AUTO_VAT bill item added to an account with a zero VAT rate applies a zero VAT rate","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1555,"run_time":0.128501628,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:38:1:1:4:1]","description":"applies an out of scope VAT rate","full_description":"BillItem when creating a bill item that has sales tax an AUTO_VAT bill item added to a category which is out of scope of VAT applies an out of scope VAT rate","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1567,"run_time":0.120979354,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:38:1:1:5:1]","description":"applies an out of scope VAT rate","full_description":"BillItem when creating a bill item that has sales tax an AUTO_VAT bill item added to a category which is out of scope of VAT, default_auto_oos_vat_rate feature disabled applies an out of scope VAT rate","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1583,"run_time":0.121343575,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:38:1:2:1]","description":"has no VAT amount","full_description":"BillItem when creating a bill item that has sales tax a bill item that is VAT exempt has no VAT amount","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1598,"run_time":0.08083499,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:39:1]","description":"is kept if the sales tax rate is not equal to SalesTaxCalculator::SPECIFY_AMOUNT_RATE","full_description":"BillItem#manual_sales_tax_amount is kept if the sales tax rate is not equal to SalesTaxCalculator::SPECIFY_AMOUNT_RATE","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1608,"run_time":0.188521938,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:39:2]","description":"is saved when the sales tax rate is equal to SalesTaxCalculator::SPECIFY_AMOUNT_RATE","full_description":"BillItem#manual_sales_tax_amount is saved when the sales tax rate is equal to SalesTaxCalculator::SPECIFY_AMOUNT_RATE","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1613,"run_time":0.192573631,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:40:1:1]","description":"is valid with a capital purchase category","full_description":"BillItem single capital asset validation new bill item with no other capital purchases is valid with a capital purchase category","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1630,"run_time":0.043596584,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:40:2:1:1]","description":"is invalid with a capital purchase category","full_description":"BillItem single capital asset validation with an existing capital purchase new bill item is invalid with a capital purchase category","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1646,"run_time":0.045282466,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:40:2:2:1]","description":"is invalid when changing category to a capital purchase","full_description":"BillItem single capital asset validation with an existing capital purchase existing bill item is invalid when changing category to a capital purchase","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1655,"run_time":0.040220242,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:41:1:1]","description":"is expected to be nil","full_description":"BillItem#credit? without total_value assigned is expected to be nil","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1671,"run_time":0.02411084,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:41:2:1]","description":"is expected to equal false","full_description":"BillItem#credit? with positive total_value is expected to equal false","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1677,"run_time":0.02119067,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:41:3:1]","description":"is expected to equal true","full_description":"BillItem#credit? with negative total_value is expected to equal true","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1683,"run_time":0.023294231,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:41:4:1]","description":"is expected to equal false","full_description":"BillItem#credit? with positive total_value_ex_tax is expected to equal false","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1689,"run_time":0.022372996,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:41:5:1]","description":"is expected to equal true","full_description":"BillItem#credit? with negative total_value_ex_tax is expected to equal true","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1695,"run_time":0.022021072,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:41:6:1]","description":"returns false from the new total_value_ex_tax sign","full_description":"BillItem#credit? with persisted negative total_value, then positive total_value_ex_tax assigned returns false from the new total_value_ex_tax sign","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1701,"run_time":0.15156548,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:41:7:1]","description":"returns true from the new total_value_ex_tax sign","full_description":"BillItem#credit? with persisted positive total_value, then negative total_value_ex_tax assigned returns true from the new total_value_ex_tax sign","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1711,"run_time":0.118207385,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:42:1:1]","description":"throws an exception","full_description":"BillItem validating capital asset purchase depreciation schedule without a depreciation schedule throws an exception","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1726,"run_time":0.08602673,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:42:2:1]","description":"throws an exception","full_description":"BillItem validating capital asset purchase depreciation schedule with an invalid depreciation schedule throws an exception","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1734,"run_time":0.084954092,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:43:1:1]","description":"fails validation","full_description":"BillItem validation for capital asset bill linked to a project when creating a capital asset bill with an associated project fails validation","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1763,"run_time":0.051197566,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:43:2:1]","description":"fails validation","full_description":"BillItem validation for capital asset bill linked to a project when updating a non-capital asset bill with an associated project to be capital asset fails validation","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1781,"run_time":0.08998363,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:43:3:1]","description":"fails validation","full_description":"BillItem validation for capital asset bill linked to a project when updating a capital asset bill to assign a project to it fails validation","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1805,"run_time":0.263271464,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:44:1]","description":"can't be destroyed","full_description":"BillItem with parent bill locked can't be destroyed","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1817,"run_time":0.386963079,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:45:1]","description":"fails validation when the item count reaches the maximum","full_description":"BillItem validation for maximum item count on a bill fails validation when the item count reaches the maximum","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1827,"run_time":0.677072075,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:46:1:1]","description":"detects the change and regenerates bill ledger entries","full_description":"BillItem when changing category when the company is not registered for sales tax detects the change and regenerates bill ledger entries","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1842,"run_time":0.355617824,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:47:1]","description":"should only include effects with source item type of Bill","full_description":"BillItem#sales_tax_effects should only include effects with source item type of Bill","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1859,"run_time":0.584890353,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:47:2:1]","description":"destroys the effects","full_description":"BillItem#sales_tax_effects when destroying the item destroys the effects","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1867,"run_time":0.319468141,"pending_message":null,"screenshot":null},{"id":"./spec/models/bill_item_spec.rb[1:48:1]","description":"should have tax effect for payments with source item type of BankAccountEntry","full_description":"BillItem#payment_sales_tax_effects should have tax effect for payments with source item type of BankAccountEntry","status":"passed","file_path":"./spec/models/bill_item_spec.rb","line_number":1882,"run_time":0.599982903,"pending_message":null,"screenshot":null},{"id":"./spec/features/credit_notes/create_credit_note_spec.rb[1:1]","description":"user visits page","full_description":"Create credit note user visits page","status":"passed","file_path":"./spec/features/credit_notes/create_credit_note_spec.rb","line_number":15,"run_time":2.064065305,"pending_message":null,"screenshot":null},{"id":"./spec/features/credit_notes/create_credit_note_spec.rb[1:2]","description":"user submits form with errors","full_description":"Create credit note user submits form with errors","status":"passed","file_path":"./spec/features/credit_notes/create_credit_note_spec.rb","line_number":36,"run_time":1.442162694,"pending_message":null,"screenshot":null},{"id":"./spec/features/credit_notes/create_credit_note_spec.rb[1:3]","description":"user submits valid form","full_description":"Create credit note user submits valid form","status":"passed","file_path":"./spec/features/credit_notes/create_credit_note_spec.rb","line_number":42,"run_time":1.733356383,"pending_message":null,"screenshot":null},{"id":"./spec/features/credit_notes/create_credit_note_spec.rb[1:4:1]","description":"user visits page","full_description":"Create credit note when company has CIS enabled user visits page","status":"passed","file_path":"./spec/features/credit_notes/create_credit_note_spec.rb","line_number":59,"run_time":1.309335673,"pending_message":null,"screenshot":null},{"id":"./spec/features/credit_notes/create_credit_note_spec.rb[1:4:2]","description":"user submits valid form with CIS Category","full_description":"Create credit note when company has CIS enabled user submits valid form with CIS Category","status":"passed","file_path":"./spec/features/credit_notes/create_credit_note_spec.rb","line_number":63,"run_time":2.941160249,"pending_message":null,"screenshot":null},{"id":"./spec/features/credit_notes/create_credit_note_spec.rb[1:5:1]","description":"user visits page","full_description":"Create credit note when company sees EC status options user visits page","status":"passed","file_path":"./spec/features/credit_notes/create_credit_note_spec.rb","line_number":87,"run_time":1.530792615,"pending_message":null,"screenshot":null},{"id":"./spec/features/credit_notes/create_credit_note_spec.rb[1:6:1]","description":"user visits page","full_description":"Create credit note when company has multiple bank accounts user visits page","status":"passed","file_path":"./spec/features/credit_notes/create_credit_note_spec.rb","line_number":100,"run_time":1.521013144,"pending_message":null,"screenshot":null},{"id":"./spec/features/credit_notes/create_credit_note_spec.rb[1:7:1]","description":"user visits page","full_description":"Create credit note when company has no contacts user visits page","status":"passed","file_path":"./spec/features/credit_notes/create_credit_note_spec.rb","line_number":108,"run_time":0.867985287,"pending_message":null,"screenshot":null},{"id":"./spec/features/credit_notes/create_credit_note_spec.rb[1:8:1]","description":"user visits page","full_description":"Create credit note when company has contacts user visits page","status":"passed","file_path":"./spec/features/credit_notes/create_credit_note_spec.rb","line_number":122,"run_time":1.326862368,"pending_message":null,"screenshot":null},{"id":"./spec/features/credit_notes/create_credit_note_spec.rb[1:8:2:1]","description":"user clicks to add a new contact","full_description":"Create credit note when company has contacts creating a new contact inline user clicks to add a new contact","status":"passed","file_path":"./spec/features/credit_notes/create_credit_note_spec.rb","line_number":128,"run_time":1.715343057,"pending_message":null,"screenshot":null},{"id":"./spec/features/credit_notes/create_credit_note_spec.rb[1:9:1:1:1]","description":"updates the form after a contact or project is selected","full_description":"Create credit note selecting projects behaves like a form which you can assign to a project when company has contacts with projects updates the form after a contact or project is selected","status":"passed","file_path":"./spec/support/shared_examples/form_project_selection.rb","line_number":35,"run_time":2.392199487,"pending_message":null,"screenshot":null},{"id":"./spec/features/credit_notes/create_credit_note_spec.rb[1:10:1]","description":"user creates credit note then adds a project","full_description":"Create credit note adding a project to a credit note with existing invoice items user creates credit note then adds a project","status":"passed","file_path":"./spec/features/credit_notes/create_credit_note_spec.rb","line_number":152,"run_time":3.265958681,"pending_message":null,"screenshot":null},{"id":"./spec/features/credit_notes/create_credit_note_spec.rb[1:10:2]","description":"a credit note belonging to a project, with invoice items, and removing the project","full_description":"Create credit note adding a project to a credit note with existing invoice items a credit note belonging to a project, with invoice items, and removing the project","status":"passed","file_path":"./spec/features/credit_notes/create_credit_note_spec.rb","line_number":179,"run_time":2.109935256,"pending_message":null,"screenshot":null},{"id":"./spec/features/vat/hmrc_mtd_filing_spec.rb[1:1]","description":"Authorise HMRC MTD and file a VAT return","full_description":"Filing VAT through HMRC MTD Authorise HMRC MTD and file a VAT return","status":"passed","file_path":"./spec/features/vat/hmrc_mtd_filing_spec.rb","line_number":108,"run_time":20.892803611,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/explain_transaction_job_spec.rb[1:1:1:1]","description":"when the job is performed, it has access to the restored Current context","full_description":"Banking::ExplainTransactionJob behaves like ActiveJobWithCurrent #perform when the job is performed, it has access to the restored Current context","status":"passed","file_path":"./engines/jobs/spec/support/shared_examples/active_job_with_current_shared_example.rb","line_number":22,"run_time":0.158956112,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/explain_transaction_job_spec.rb[1:2:1]","description":"explains the transaction","full_description":"Banking::ExplainTransactionJob explaining unexplained transaction explains the transaction","status":"passed","file_path":"./spec/jobs/banking/explain_transaction_job_spec.rb","line_number":65,"run_time":0.272514009,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/explain_transaction_job_spec.rb[1:2:2]","description":"marks the :explain_transaction Flying Start task as completed","full_description":"Banking::ExplainTransactionJob explaining unexplained transaction marks the :explain_transaction Flying Start task as completed","status":"passed","file_path":"./spec/jobs/banking/explain_transaction_job_spec.rb","line_number":72,"run_time":0.280915726,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/explain_transaction_job_spec.rb[1:2:3]","description":"publishes a bank transaction explanation created event","full_description":"Banking::ExplainTransactionJob explaining unexplained transaction publishes a bank transaction explanation created event","status":"passed","file_path":"./spec/jobs/banking/explain_transaction_job_spec.rb","line_number":78,"run_time":0.289607903,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/explain_transaction_job_spec.rb[1:2:4]","description":"creates an audit entry","full_description":"Banking::ExplainTransactionJob explaining unexplained transaction creates an audit entry","status":"passed","file_path":"./spec/jobs/banking/explain_transaction_job_spec.rb","line_number":99,"run_time":0.274625387,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/explain_transaction_job_spec.rb[1:2:5:1]","description":"creates an audit entry where the admin user is the actor","full_description":"Banking::ExplainTransactionJob explaining unexplained transaction when a support admin user created the job creates an audit entry where the admin user is the actor","status":"passed","file_path":"./spec/jobs/banking/explain_transaction_job_spec.rb","line_number":114,"run_time":0.335741167,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/explain_transaction_job_spec.rb[1:3:1:1]","description":"maintains the same explained amount","full_description":"Banking::ExplainTransactionJob re-explaining transactions when the explanation is successfully re-explained maintains the same explained amount","status":"passed","file_path":"./spec/jobs/banking/explain_transaction_job_spec.rb","line_number":142,"run_time":0.333706818,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/explain_transaction_job_spec.rb[1:3:1:2]","description":"updates the existing explanation with payload information","full_description":"Banking::ExplainTransactionJob re-explaining transactions when the explanation is successfully re-explained updates the existing explanation with payload information","status":"passed","file_path":"./spec/jobs/banking/explain_transaction_job_spec.rb","line_number":149,"run_time":0.275371946,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/explain_transaction_job_spec.rb[1:3:1:3]","description":"doesn't publish a bank transaction explanation created event","full_description":"Banking::ExplainTransactionJob re-explaining transactions when the explanation is successfully re-explained doesn't publish a bank transaction explanation created event","status":"passed","file_path":"./spec/jobs/banking/explain_transaction_job_spec.rb","line_number":153,"run_time":0.264369891,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/explain_transaction_job_spec.rb[1:3:1:4]","description":"publishes a bank transaction updated event","full_description":"Banking::ExplainTransactionJob re-explaining transactions when the explanation is successfully re-explained publishes a bank transaction updated event","status":"passed","file_path":"./spec/jobs/banking/explain_transaction_job_spec.rb","line_number":157,"run_time":0.264944213,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/explain_transaction_job_spec.rb[1:3:1:5]","description":"creates an audit entry","full_description":"Banking::ExplainTransactionJob re-explaining transactions when the explanation is successfully re-explained creates an audit entry","status":"passed","file_path":"./spec/jobs/banking/explain_transaction_job_spec.rb","line_number":169,"run_time":0.287358885,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/explain_transaction_job_spec.rb[1:3:1:6:1]","description":"creates an audit entry where the admin user is the actor","full_description":"Banking::ExplainTransactionJob re-explaining transactions when the explanation is successfully re-explained when a support admin user created the job creates an audit entry where the admin user is the actor","status":"passed","file_path":"./spec/jobs/banking/explain_transaction_job_spec.rb","line_number":183,"run_time":0.283328917,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/explain_transaction_job_spec.rb[1:3:2:1]","description":"maintains the same explained amount","full_description":"Banking::ExplainTransactionJob re-explaining transactions when the explanation is unsuccessfully re-explained maintains the same explained amount","status":"passed","file_path":"./spec/jobs/banking/explain_transaction_job_spec.rb","line_number":208,"run_time":0.207201769,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/explain_transaction_job_spec.rb[1:3:2:2]","description":"does not update the explanation","full_description":"Banking::ExplainTransactionJob re-explaining transactions when the explanation is unsuccessfully re-explained does not update the explanation","status":"passed","file_path":"./spec/jobs/banking/explain_transaction_job_spec.rb","line_number":215,"run_time":0.227825355,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/explain_transaction_job_spec.rb[1:3:2:3]","description":"marks the item as failed","full_description":"Banking::ExplainTransactionJob re-explaining transactions when the explanation is unsuccessfully re-explained marks the item as failed","status":"passed","file_path":"./spec/jobs/banking/explain_transaction_job_spec.rb","line_number":219,"run_time":0.200671922,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/explain_transaction_job_spec.rb[1:3:2:4]","description":"does not create an audit entry","full_description":"Banking::ExplainTransactionJob re-explaining transactions when the explanation is unsuccessfully re-explained does not create an audit entry","status":"passed","file_path":"./spec/jobs/banking/explain_transaction_job_spec.rb","line_number":223,"run_time":0.193335241,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/explain_transaction_job_spec.rb[1:4:1]","description":"returns nil","full_description":"Banking::ExplainTransactionJob explaining a transaction that doesn't belong to current company returns nil","status":"passed","file_path":"./spec/jobs/banking/explain_transaction_job_spec.rb","line_number":242,"run_time":0.257020241,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/explain_transaction_job_spec.rb[1:4:2]","description":"does not explain transaction","full_description":"Banking::ExplainTransactionJob explaining a transaction that doesn't belong to current company does not explain transaction","status":"passed","file_path":"./spec/jobs/banking/explain_transaction_job_spec.rb","line_number":246,"run_time":0.259877516,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/explain_transaction_job_spec.rb[1:4:3]","description":"marks the associated items as failed","full_description":"Banking::ExplainTransactionJob explaining a transaction that doesn't belong to current company marks the associated items as failed","status":"passed","file_path":"./spec/jobs/banking/explain_transaction_job_spec.rb","line_number":250,"run_time":0.28393926,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/explain_transaction_job_spec.rb[1:4:4]","description":"does not create an audit entry","full_description":"Banking::ExplainTransactionJob explaining a transaction that doesn't belong to current company does not create an audit entry","status":"passed","file_path":"./spec/jobs/banking/explain_transaction_job_spec.rb","line_number":254,"run_time":0.269573944,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/explain_transaction_job_spec.rb[1:5:1]","description":"populates the description","full_description":"Banking::ExplainTransactionJob explaining a transaction with no description populates the description","status":"passed","file_path":"./spec/jobs/banking/explain_transaction_job_spec.rb","line_number":273,"run_time":0.248819293,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/explain_transaction_job_spec.rb[1:6:1]","description":"sets the expected matching transfer on the explanation","full_description":"Banking::ExplainTransactionJob explaining as a transfer sets the expected matching transfer on the explanation","status":"passed","file_path":"./spec/jobs/banking/explain_transaction_job_spec.rb","line_number":306,"run_time":0.427710075,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/explain_transaction_job_spec.rb[1:6:2:1:1]","description":"finds the second transfer","full_description":"Banking::ExplainTransactionJob explaining as a transfer with two matching transactions when the first one is already explained finds the second transfer","status":"passed","file_path":"./spec/jobs/banking/explain_transaction_job_spec.rb","line_number":331,"run_time":0.486663978,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/explain_transaction_job_spec.rb[1:6:2:2:1]","description":"matches with the second transfer","full_description":"Banking::ExplainTransactionJob explaining as a transfer with two matching transactions when the first one is explained just after being matched matches with the second transfer","status":"passed","file_path":"./spec/jobs/banking/explain_transaction_job_spec.rb","line_number":342,"run_time":0.565319622,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/explain_transaction_job_spec.rb[1:6:3:1]","description":"retries 3 times before raising an exception","full_description":"Banking::ExplainTransactionJob explaining as a transfer error handling retries 3 times before raising an exception","status":"passed","file_path":"./spec/jobs/banking/explain_transaction_job_spec.rb","line_number":387,"run_time":0.467564174,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/explain_transaction_job_spec.rb[1:7:1]","description":"marks the bulk operation item as failed","full_description":"Banking::ExplainTransactionJob re-explaining a transfer marks the bulk operation item as failed","status":"passed","file_path":"./spec/jobs/banking/explain_transaction_job_spec.rb","line_number":431,"run_time":0.324706314,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/explain_transaction_job_spec.rb[1:7:2]","description":"does not create an audit entry","full_description":"Banking::ExplainTransactionJob re-explaining a transfer does not create an audit entry","status":"passed","file_path":"./spec/jobs/banking/explain_transaction_job_spec.rb","line_number":437,"run_time":0.311013925,"pending_message":null,"screenshot":null},{"id":"./spec/features/getting_started_spec.rb[1:5:1:4:2:3:1]","description":"can complete setup","full_description":"Getting Started for an RBSG agent signup with UK company type with the personalise_setup_stage feature flag enabled and the personalisation_interests_setup_stage flag enabled for Ulster Bank can complete setup","status":"passed","file_path":"./spec/features/getting_started_spec.rb","line_number":351,"run_time":10.867395139,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/sidebar/latest_statement_spec.rb[1:1]","description":"seeing without statement content","full_description":"Banking Sidebar - Latest statement seeing without statement content","status":"passed","file_path":"./spec/features/new_banking/sidebar/latest_statement_spec.rb","line_number":10,"run_time":1.237101875,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/sidebar/latest_statement_spec.rb[1:2]","description":"not seeing with bank feed enabled","full_description":"Banking Sidebar - Latest statement not seeing with bank feed enabled","status":"passed","file_path":"./spec/features/new_banking/sidebar/latest_statement_spec.rb","line_number":18,"run_time":1.10308352,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/sidebar/latest_statement_spec.rb[1:3:1]","description":"seeing personal content","full_description":"Banking Sidebar - Latest statement with statement seeing personal content","status":"passed","file_path":"./spec/features/new_banking/sidebar/latest_statement_spec.rb","line_number":36,"run_time":1.227899806,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/sidebar/latest_statement_spec.rb[1:3:2]","description":"seeing completed content","full_description":"Banking Sidebar - Latest statement with statement seeing completed content","status":"passed","file_path":"./spec/features/new_banking/sidebar/latest_statement_spec.rb","line_number":48,"run_time":1.418437675,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/sidebar/latest_statement_spec.rb[1:3:3]","description":"seeing in progress content","full_description":"Banking Sidebar - Latest statement with statement seeing in progress content","status":"passed","file_path":"./spec/features/new_banking/sidebar/latest_statement_spec.rb","line_number":57,"run_time":3.577353122,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates/emails_controller_spec.rb[1:4]","description":"GET on :new with :document_ids set","full_description":"Estimates::EmailsController GET on :new with :document_ids set","status":"passed","file_path":"./spec/controllers/estimates/emails_controller_spec.rb","line_number":133,"run_time":0.86061511,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates/emails_controller_spec.rb[1:5]","description":"GET on :new with :document_ids that do not belong to the company","full_description":"Estimates::EmailsController GET on :new with :document_ids that do not belong to the company","status":"passed","file_path":"./spec/controllers/estimates/emails_controller_spec.rb","line_number":147,"run_time":0.886707857,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates/emails_controller_spec.rb[1:6]","description":"GET on :new with :document_ids that aren't attachable","full_description":"Estimates::EmailsController GET on :new with :document_ids that aren't attachable","status":"passed","file_path":"./spec/controllers/estimates/emails_controller_spec.rb","line_number":159,"run_time":0.304919423,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates/emails_controller_spec.rb[1:9]","description":"POST #create for a marked-as-invoiced estimate for the first time","full_description":"Estimates::EmailsController POST #create for a marked-as-invoiced estimate for the first time","status":"passed","file_path":"./spec/controllers/estimates/emails_controller_spec.rb","line_number":273,"run_time":0.271043364,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates/emails_controller_spec.rb[1:1:1]","description":"renders the email","full_description":"Estimates::EmailsController when logged in as a non-owner user renders the email","status":"passed","file_path":"./spec/controllers/estimates/emails_controller_spec.rb","line_number":29,"run_time":0.307632617,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates/emails_controller_spec.rb[1:2:1]","description":"renders the email with associated variables","full_description":"Estimates::EmailsController GET #new with no prior estimate emails renders the email with associated variables","status":"passed","file_path":"./spec/controllers/estimates/emails_controller_spec.rb","line_number":47,"run_time":0.263333848,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates/emails_controller_spec.rb[1:2:2]","description":"does not show the invoice macros on the Send By Email page","full_description":"Estimates::EmailsController GET #new with no prior estimate emails does not show the invoice macros on the Send By Email page","status":"passed","file_path":"./spec/controllers/estimates/emails_controller_spec.rb","line_number":56,"run_time":0.233957068,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates/emails_controller_spec.rb[1:2:3]","description":"displays 'PDF Quote Attachment' in the form","full_description":"Estimates::EmailsController GET #new with no prior estimate emails displays 'PDF Quote Attachment' in the form","status":"passed","file_path":"./spec/controllers/estimates/emails_controller_spec.rb","line_number":63,"run_time":0.235775227,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates/emails_controller_spec.rb[1:2:4]","description":"does not show edit buttons","full_description":"Estimates::EmailsController GET #new with no prior estimate emails does not show edit buttons","status":"passed","file_path":"./spec/controllers/estimates/emails_controller_spec.rb","line_number":67,"run_time":0.250650157,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates/emails_controller_spec.rb[1:2:5]","description":"uses the estimate type in the subject line","full_description":"Estimates::EmailsController GET #new with no prior estimate emails uses the estimate type in the subject line","status":"passed","file_path":"./spec/controllers/estimates/emails_controller_spec.rb","line_number":73,"run_time":0.222407769,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates/emails_controller_spec.rb[1:2:6]","description":"renders the WYSIWYG editor","full_description":"Estimates::EmailsController GET #new with no prior estimate emails renders the WYSIWYG editor","status":"passed","file_path":"./spec/controllers/estimates/emails_controller_spec.rb","line_number":77,"run_time":0.265984911,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates/emails_controller_spec.rb[1:2:7]","description":"HTMLify should return empty when the body is empty","full_description":"Estimates::EmailsController GET #new with no prior estimate emails HTMLify should return empty when the body is empty","status":"passed","file_path":"./spec/controllers/estimates/emails_controller_spec.rb","line_number":81,"run_time":0.235316537,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates/emails_controller_spec.rb[1:3:1]","description":"renders the email with associated variables","full_description":"Estimates::EmailsController GET #new with existing emails renders the email with associated variables","status":"passed","file_path":"./spec/controllers/estimates/emails_controller_spec.rb","line_number":111,"run_time":0.260628368,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates/emails_controller_spec.rb[1:3:2]","description":"assigns latest email","full_description":"Estimates::EmailsController GET #new with existing emails assigns latest email","status":"passed","file_path":"./spec/controllers/estimates/emails_controller_spec.rb","line_number":120,"run_time":0.282895142,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates/emails_controller_spec.rb[1:3:3]","description":"renders the WYSIWYG editor","full_description":"Estimates::EmailsController GET #new with existing emails renders the WYSIWYG editor","status":"passed","file_path":"./spec/controllers/estimates/emails_controller_spec.rb","line_number":124,"run_time":0.2702042,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates/emails_controller_spec.rb[1:3:4]","description":"HTMLifies the email body","full_description":"Estimates::EmailsController GET #new with existing emails HTMLifies the email body","status":"passed","file_path":"./spec/controllers/estimates/emails_controller_spec.rb","line_number":128,"run_time":0.292402843,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates/emails_controller_spec.rb[1:7:1:1]","description":"sets @theme to the custom theme","full_description":"Estimates::EmailsController GET :new for an estimate with a custom theme with theme_customisation_circuit_breaker working sets @theme to the custom theme","status":"passed","file_path":"./spec/controllers/estimates/emails_controller_spec.rb","line_number":189,"run_time":0.21702773,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates/emails_controller_spec.rb[1:7:1:2]","description":"doesn't display a warning notice","full_description":"Estimates::EmailsController GET :new for an estimate with a custom theme with theme_customisation_circuit_breaker working doesn't display a warning notice","status":"passed","file_path":"./spec/controllers/estimates/emails_controller_spec.rb","line_number":193,"run_time":0.216175687,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates/emails_controller_spec.rb[1:7:2:1]","description":"sets @theme to the company's default","full_description":"Estimates::EmailsController GET :new for an estimate with a custom theme with theme_customisation_circuit_breaker broken sets @theme to the company's default","status":"passed","file_path":"./spec/controllers/estimates/emails_controller_spec.rb","line_number":201,"run_time":0.237822206,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates/emails_controller_spec.rb[1:7:2:2]","description":"displays a warning notice","full_description":"Estimates::EmailsController GET :new for an estimate with a custom theme with theme_customisation_circuit_breaker broken displays a warning notice","status":"passed","file_path":"./spec/controllers/estimates/emails_controller_spec.rb","line_number":205,"run_time":0.237108737,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates/emails_controller_spec.rb[1:8:1]","description":"sends the estimate email to the customer","full_description":"Estimates::EmailsController when sending an estimate email sends the estimate email to the customer","status":"passed","file_path":"./spec/controllers/estimates/emails_controller_spec.rb","line_number":226,"run_time":0.20608253,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates/emails_controller_spec.rb[1:8:2:1]","description":"marks the :send_estimate Flying Start task as completed","full_description":"Estimates::EmailsController when sending an estimate email flying start marks the :send_estimate Flying Start task as completed","status":"passed","file_path":"./spec/controllers/estimates/emails_controller_spec.rb","line_number":265,"run_time":0.209632577,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates/emails_controller_spec.rb[1:10:1]","description":"shows an error in the flash when the email fails to send","full_description":"Estimates::EmailsController POST #create shows an error in the flash when the email fails to send","status":"passed","file_path":"./spec/controllers/estimates/emails_controller_spec.rb","line_number":292,"run_time":0.283694214,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates/emails_controller_spec.rb[1:10:2:1]","description":"does not send an email","full_description":"Estimates::EmailsController POST #create for an invalid estimate does not send an email","status":"passed","file_path":"./spec/controllers/estimates/emails_controller_spec.rb","line_number":324,"run_time":0.201153382,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates/emails_controller_spec.rb[1:10:2:2:1]","description":"doesn't mark the :send_estimate Flying Start task as completed","full_description":"Estimates::EmailsController POST #create for an invalid estimate flying start doesn't mark the :send_estimate Flying Start task as completed","status":"passed","file_path":"./spec/controllers/estimates/emails_controller_spec.rb","line_number":336,"run_time":0.220391951,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates/emails_controller_spec.rb[1:11:1]","description":"is rendered in German on the send by email page","full_description":"Estimates::EmailsController A sent Estimate with a German locale is rendered in German on the send by email page","status":"passed","file_path":"./spec/controllers/estimates/emails_controller_spec.rb","line_number":359,"run_time":0.263387324,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates/emails_controller_spec.rb[1:12:1]","description":"retains the approved state","full_description":"Estimates::EmailsController resending email for an approved estimate retains the approved state","status":"passed","file_path":"./spec/controllers/estimates/emails_controller_spec.rb","line_number":368,"run_time":0.280264133,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb[1:1:1:1:1:1]","description":"includes contact bank account details in the response","full_description":"contact bank account behaviour via the API GET /contacts when the contact has a bank account request made by the FreeAgent Mobile app by a user who can manage PayIt payments includes contact bank account details in the response","status":"passed","file_path":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb","line_number":46,"run_time":0.207152267,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb[1:1:1:1:2:1]","description":"doesn't include contact bank account details in the response","full_description":"contact bank account behaviour via the API GET /contacts when the contact has a bank account request made by the FreeAgent Mobile app by a user who can't manage PayIt payments doesn't include contact bank account details in the response","status":"passed","file_path":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb","line_number":57,"run_time":0.184722785,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb[1:1:1:2:1]","description":"doesn't include contact bank account details in the response","full_description":"contact bank account behaviour via the API GET /contacts when the contact has a bank account request made by an app other than FreeAgent Mobile doesn't include contact bank account details in the response","status":"passed","file_path":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb","line_number":70,"run_time":0.169032494,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb[1:2:1:1:1:1]","description":"includes contact bank account details in the response","full_description":"contact bank account behaviour via the API GET /contacts/contact_id when the contact has a bank account request made by the FreeAgent Mobile app by a user who can manage PayIt payments includes contact bank account details in the response","status":"passed","file_path":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb","line_number":91,"run_time":0.178216376,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb[1:2:1:1:2:1]","description":"doesn't include contact bank account details in the response","full_description":"contact bank account behaviour via the API GET /contacts/contact_id when the contact has a bank account request made by the FreeAgent Mobile app by a user who can't manage PayIt payments doesn't include contact bank account details in the response","status":"passed","file_path":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb","line_number":99,"run_time":0.165866862,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb[1:2:1:2:1]","description":"doesn't include contact bank account details in the response","full_description":"contact bank account behaviour via the API GET /contacts/contact_id when the contact has a bank account request made by an app other than FreeAgent Mobile doesn't include contact bank account details in the response","status":"passed","file_path":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb","line_number":112,"run_time":0.167851555,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb[1:3:1:1:1]","description":"allows creation of a contact with a bank account","full_description":"contact bank account behaviour via the API POST /contacts request made by the FreeAgent Mobile app by a user who can manage PayIt payments allows creation of a contact with a bank account","status":"passed","file_path":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb","line_number":133,"run_time":0.092557284,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb[1:3:1:1:2]","description":"publishes the correct events","full_description":"contact bank account behaviour via the API POST /contacts request made by the FreeAgent Mobile app by a user who can manage PayIt payments publishes the correct events","status":"passed","file_path":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb","line_number":141,"run_time":0.078162523,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb[1:3:1:1:3:1]","description":"responds with validation errors","full_description":"contact bank account behaviour via the API POST /contacts request made by the FreeAgent Mobile app by a user who can manage PayIt payments with invalid attributes responds with validation errors","status":"passed","file_path":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb","line_number":149,"run_time":0.11590757,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb[1:3:1:1:3:2]","description":"doesn't publish contact events","full_description":"contact bank account behaviour via the API POST /contacts request made by the FreeAgent Mobile app by a user who can manage PayIt payments with invalid attributes doesn't publish contact events","status":"passed","file_path":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb","line_number":158,"run_time":0.090966918,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb[1:3:1:2:1]","description":"creates a contact without a bank account","full_description":"contact bank account behaviour via the API POST /contacts request made by the FreeAgent Mobile app by a user who can't manage PayIt payments creates a contact without a bank account","status":"passed","file_path":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb","line_number":168,"run_time":0.096607069,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb[1:3:1:2:2]","description":"publishes the correct events","full_description":"contact bank account behaviour via the API POST /contacts request made by the FreeAgent Mobile app by a user who can't manage PayIt payments publishes the correct events","status":"passed","file_path":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb","line_number":176,"run_time":0.08203718,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb[1:3:2:1]","description":"creates a contact without a bank account","full_description":"contact bank account behaviour via the API POST /contacts request made by an app other than FreeAgent Mobile creates a contact without a bank account","status":"passed","file_path":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb","line_number":192,"run_time":0.10120755,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb[1:3:2:2]","description":"publishes the correct events","full_description":"contact bank account behaviour via the API POST /contacts request made by an app other than FreeAgent Mobile publishes the correct events","status":"passed","file_path":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb","line_number":200,"run_time":0.094968021,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb[1:4:1:1:1:1]","description":"creates a contact bank account","full_description":"contact bank account behaviour via the API PUT /contacts/contact_id request made by the FreeAgent Mobile app by a user who can manage PayIt payments when the contact doesn't have an exiting bank account creates a contact bank account","status":"passed","file_path":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb","line_number":223,"run_time":0.102885908,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb[1:4:1:1:1:2]","description":"notifies the account owner","full_description":"contact bank account behaviour via the API PUT /contacts/contact_id request made by the FreeAgent Mobile app by a user who can manage PayIt payments when the contact doesn't have an exiting bank account notifies the account owner","status":"passed","file_path":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb","line_number":231,"run_time":0.09052131,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb[1:4:1:1:1:3]","description":"publishes the correct event","full_description":"contact bank account behaviour via the API PUT /contacts/contact_id request made by the FreeAgent Mobile app by a user who can manage PayIt payments when the contact doesn't have an exiting bank account publishes the correct event","status":"passed","file_path":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb","line_number":235,"run_time":0.09328664,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb[1:4:1:1:2:1]","description":"updates only the bank account details specified in the request body","full_description":"contact bank account behaviour via the API PUT /contacts/contact_id request made by the FreeAgent Mobile app by a user who can manage PayIt payments when the contact has an existing bank account updates only the bank account details specified in the request body","status":"passed","file_path":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb","line_number":248,"run_time":0.180089502,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb[1:4:1:1:2:2]","description":"notifies the account owner","full_description":"contact bank account behaviour via the API PUT /contacts/contact_id request made by the FreeAgent Mobile app by a user who can manage PayIt payments when the contact has an existing bank account notifies the account owner","status":"passed","file_path":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb","line_number":262,"run_time":0.178640587,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb[1:4:1:1:2:3:1]","description":"removes the bank account","full_description":"contact bank account behaviour via the API PUT /contacts/contact_id request made by the FreeAgent Mobile app by a user who can manage PayIt payments when the contact has an existing bank account when blank bank account details are passed in removes the bank account","status":"passed","file_path":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb","line_number":285,"run_time":0.192808636,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb[1:4:1:1:2:3:2]","description":"is expected to have published \"contact bank account removed\"","full_description":"contact bank account behaviour via the API PUT /contacts/contact_id request made by the FreeAgent Mobile app by a user who can manage PayIt payments when the contact has an existing bank account when blank bank account details are passed in is expected to have published \"contact bank account removed\"","status":"passed","file_path":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb","line_number":289,"run_time":0.180485956,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb[1:4:1:1:2:3:3]","description":"notifies the account owner","full_description":"contact bank account behaviour via the API PUT /contacts/contact_id request made by the FreeAgent Mobile app by a user who can manage PayIt payments when the contact has an existing bank account when blank bank account details are passed in notifies the account owner","status":"passed","file_path":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb","line_number":291,"run_time":0.216862671,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb[1:4:1:2:1]","description":"is expected to respond with status code :ok (200)","full_description":"contact bank account behaviour via the API PUT /contacts/contact_id request made by the FreeAgent Mobile app by account owner with limited access is expected to respond with status code :ok (200)","status":"passed","file_path":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb","line_number":307,"run_time":0.099304182,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb[1:4:1:2:2]","description":"doesn't notify the account owner","full_description":"contact bank account behaviour via the API PUT /contacts/contact_id request made by the FreeAgent Mobile app by account owner with limited access doesn't notify the account owner","status":"passed","file_path":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb","line_number":309,"run_time":0.100020856,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb[1:4:1:3:1]","description":"doesn't update the contact bank account","full_description":"contact bank account behaviour via the API PUT /contacts/contact_id request made by the FreeAgent Mobile app by a user who can't manage PayIt payments doesn't update the contact bank account","status":"passed","file_path":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb","line_number":325,"run_time":0.091937073,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb[1:4:1:3:2]","description":"doesn't notify the account owner","full_description":"contact bank account behaviour via the API PUT /contacts/contact_id request made by the FreeAgent Mobile app by a user who can't manage PayIt payments doesn't notify the account owner","status":"passed","file_path":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb","line_number":330,"run_time":0.1023322,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb[1:4:1:3:3]","description":"doesn't publish bank account added event","full_description":"contact bank account behaviour via the API PUT /contacts/contact_id request made by the FreeAgent Mobile app by a user who can't manage PayIt payments doesn't publish bank account added event","status":"passed","file_path":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb","line_number":334,"run_time":0.09452774,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb[1:4:2:1]","description":"doesn't update the contact bank account","full_description":"contact bank account behaviour via the API PUT /contacts/contact_id request made by an app other than FreeAgent Mobile doesn't update the contact bank account","status":"passed","file_path":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb","line_number":351,"run_time":0.080590444,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb[1:4:2:2]","description":"doesn't notify the account owner","full_description":"contact bank account behaviour via the API PUT /contacts/contact_id request made by an app other than FreeAgent Mobile doesn't notify the account owner","status":"passed","file_path":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb","line_number":356,"run_time":0.078700227,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb[1:4:2:3]","description":"doesn't publish bank account added event","full_description":"contact bank account behaviour via the API PUT /contacts/contact_id request made by an app other than FreeAgent Mobile doesn't publish bank account added event","status":"passed","file_path":"./spec/requests/api/contacts/contact_bank_account_integration_spec.rb","line_number":360,"run_time":0.082755167,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2017_18/auto_enrolment.feature[1:1:1]","description":"Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2017-04-06 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £1000 monthly -\u003e When they run payroll for a period -\u003e Then the qualifying earnings on the payslip should be £510 -\u003e And they could be eligible for auto-enrolment","full_description":"Auto Enrolment 2018 Checking eligibility for an employee paid more than the earnings trigger Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2017-04-06 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £1000 monthly -\u003e When they run payroll for a period -\u003e Then the qualifying earnings on the payslip should be £510 -\u003e And they could be eligible for auto-enrolment","status":"passed","file_path":"./spec/acceptance/payroll/2017_18/auto_enrolment.feature","line_number":12,"run_time":0.540293598,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2017_18/auto_enrolment.feature[1:2:1]","description":"Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2017-04-06 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £832 monthly -\u003e When they run payroll for a period -\u003e Then they are not eligible for auto-enrolment","full_description":"Auto Enrolment 2018 Checking eligibility for an employee paid less than the earnings trigger Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2017-04-06 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £832 monthly -\u003e When they run payroll for a period -\u003e Then they are not eligible for auto-enrolment","status":"passed","file_path":"./spec/acceptance/payroll/2017_18/auto_enrolment.feature","line_number":19,"run_time":0.409199277,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2017_18/auto_enrolment.feature[1:3:1]","description":"Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2017-04-06 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £489 monthly -\u003e When they run payroll for a period -\u003e Then they are not eligible for auto-enrolment","full_description":"Auto Enrolment 2018 Checking eligibility for an employee earnings less than the lower limit Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2017-04-06 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £489 monthly -\u003e When they run payroll for a period -\u003e Then they are not eligible for auto-enrolment","status":"passed","file_path":"./spec/acceptance/payroll/2017_18/auto_enrolment.feature","line_number":25,"run_time":0.459738858,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2017_18/auto_enrolment.feature[1:4:1]","description":"Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2017-04-06 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £4500 monthly -\u003e When they run payroll for a period -\u003e Then the qualifying earnings on the payslip should be £3260 -\u003e And they could be eligible for auto-enrolment","full_description":"Auto Enrolment 2018 Checking eligibility for an employee paid more than the upper limit Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2017-04-06 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £4500 monthly -\u003e When they run payroll for a period -\u003e Then the qualifying earnings on the payslip should be £3260 -\u003e And they could be eligible for auto-enrolment","status":"passed","file_path":"./spec/acceptance/payroll/2017_18/auto_enrolment.feature","line_number":31,"run_time":0.428952594,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2017_18/auto_enrolment.feature[1:5:1]","description":"Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2017-04-06 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £700 monthly -\u003e When they prepare payroll -\u003e And they add a bonus of £200 to the payslip -\u003e And they add commission of £100 to the payslip -\u003e Then the qualifying earnings on the payslip should be £510 -\u003e And they could be eligible for auto-enrolment","full_description":"Auto Enrolment 2018 Checking eligibility for an employee with additional pay Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2017-04-06 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £700 monthly -\u003e When they prepare payroll -\u003e And they add a bonus of £200 to the payslip -\u003e And they add commission of £100 to the payslip -\u003e Then the qualifying earnings on the payslip should be £510 -\u003e And they could be eligible for auto-enrolment","status":"passed","file_path":"./spec/acceptance/payroll/2017_18/auto_enrolment.feature","line_number":38,"run_time":0.508529213,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2017_18/auto_enrolment.feature[1:6:1]","description":"Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2017-04-06 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £400 monthly -\u003e When they prepare payroll -\u003e And they add statutory sick pay of £300 to the payslip -\u003e And they add statutory adoption pay of £100 to the payslip -\u003e And they add statutory maternity pay of £100 to the payslip -\u003e Then the qualifying earnings on the payslip should be £410 -\u003e And they could be eligible for auto-enrolment","full_description":"Auto Enrolment 2018 Checking eligibility for an employee with statutory pay Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2017-04-06 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £400 monthly -\u003e When they prepare payroll -\u003e And they add statutory sick pay of £300 to the payslip -\u003e And they add statutory adoption pay of £100 to the payslip -\u003e And they add statutory maternity pay of £100 to the payslip -\u003e Then the qualifying earnings on the payslip should be £410 -\u003e And they could be eligible for auto-enrolment","status":"passed","file_path":"./spec/acceptance/payroll/2017_18/auto_enrolment.feature","line_number":47,"run_time":0.515533154,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2017_18/auto_enrolment.feature[1:7:1]","description":"Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2017-04-06 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £500 monthly -\u003e When they prepare payroll -\u003e And they add a bonus of £150 to the payslip -\u003e And they add an allowance of £50 to the payslip -\u003e And they add other payments of £200 to the payslip -\u003e And they add deduction free pay of £100 to the payslip -\u003e Then they are not eligible for auto-enrolment","full_description":"Auto Enrolment 2018 Checking eligibility for an employee with other payments Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2017-04-06 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £500 monthly -\u003e When they prepare payroll -\u003e And they add a bonus of £150 to the payslip -\u003e And they add an allowance of £50 to the payslip -\u003e And they add other payments of £200 to the payslip -\u003e And they add deduction free pay of £100 to the payslip -\u003e Then they are not eligible for auto-enrolment","status":"passed","file_path":"./spec/acceptance/payroll/2017_18/auto_enrolment.feature","line_number":57,"run_time":0.593307911,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2017_18/auto_enrolment.feature[1:8:1]","description":"Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2017-04-06 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a 21 year old Employee payroll profile with NI letter A -\u003e And they are paid £1000 monthly -\u003e When they run payroll for a period -\u003e Then they are not eligible for auto-enrolment","full_description":"Auto Enrolment 2018 Checking eligibility for an employee under 22 Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2017-04-06 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a 21 year old Employee payroll profile with NI letter A -\u003e And they are paid £1000 monthly -\u003e When they run payroll for a period -\u003e Then they are not eligible for auto-enrolment","status":"passed","file_path":"./spec/acceptance/payroll/2017_18/auto_enrolment.feature","line_number":67,"run_time":0.431483225,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2017_18/auto_enrolment.feature[1:9:1]","description":"Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2017-04-06 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a 68 year old male Employee payroll profile with NI letter C -\u003e And they are paid £1000 monthly -\u003e When they run payroll for a period -\u003e Then they are not eligible for auto-enrolment","full_description":"Auto Enrolment 2018 Checking eligibility for a man over the state pension age Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2017-04-06 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a 68 year old male Employee payroll profile with NI letter C -\u003e And they are paid £1000 monthly -\u003e When they run payroll for a period -\u003e Then they are not eligible for auto-enrolment","status":"passed","file_path":"./spec/acceptance/payroll/2017_18/auto_enrolment.feature","line_number":73,"run_time":0.3871618,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2017_18/auto_enrolment.feature[1:10:1]","description":"Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2017-04-06 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a 68 year old female Employee payroll profile with NI letter C -\u003e And they are paid £1000 monthly -\u003e When they run payroll for a period -\u003e Then they are not eligible for auto-enrolment","full_description":"Auto Enrolment 2018 Checking eligibility for a woman over the state pension age Given the current date is 2017-04-06 -\u003e And a UK Limited Company which was started on 2014-01-01 -\u003e And a staging date of 2017-04-06 -\u003e And they are running payroll in the 2018 tax year on the 25th of each month -\u003e Given a 68 year old female Employee payroll profile with NI letter C -\u003e And they are paid £1000 monthly -\u003e When they run payroll for a period -\u003e Then they are not eligible for auto-enrolment","status":"passed","file_path":"./spec/acceptance/payroll/2017_18/auto_enrolment.feature","line_number":79,"run_time":0.390005357,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:1:1]","description":"is expected to respond to #record_payment!","full_description":"CustomerBilling::StripePaymentProcessor behaves like payment processor is expected to respond to #record_payment!","status":"passed","file_path":"./spec/support/shared_examples/payment_processor.rb","line_number":2,"run_time":0.107254749,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:1:2]","description":"is expected to respond to #update!","full_description":"CustomerBilling::StripePaymentProcessor behaves like payment processor is expected to respond to #update!","status":"passed","file_path":"./spec/support/shared_examples/payment_processor.rb","line_number":3,"run_time":0.102879525,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:1:3]","description":"is expected to respond to #cancel! with 1 argument","full_description":"CustomerBilling::StripePaymentProcessor behaves like payment processor is expected to respond to #cancel! with 1 argument","status":"passed","file_path":"./spec/support/shared_examples/payment_processor.rb","line_number":4,"run_time":0.096398777,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:1:4]","description":"is expected to respond to #remove_customer_data with 0 arguments","full_description":"CustomerBilling::StripePaymentProcessor behaves like payment processor is expected to respond to #remove_customer_data with 0 arguments","status":"passed","file_path":"./spec/support/shared_examples/payment_processor.rb","line_number":5,"run_time":0.109412294,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:2:1:1]","description":"returns a response object","full_description":"CustomerBilling::StripePaymentProcessor#record_payment! for a successful payment returns a response object","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":31,"run_time":0.099121636,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:2:1:2]","description":"records metrics","full_description":"CustomerBilling::StripePaymentProcessor#record_payment! for a successful payment records metrics","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":38,"run_time":0.116859988,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:2:1:3:1]","description":"reports an error and raises a CustomerBilling::Failure","full_description":"CustomerBilling::StripePaymentProcessor#record_payment! for a successful payment for a different company reports an error and raises a CustomerBilling::Failure","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":48,"run_time":0.132522753,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:2:1:4:1]","description":"raises a CustomerBilling::Failure","full_description":"CustomerBilling::StripePaymentProcessor#record_payment! for a successful payment which has already been processed raises a CustomerBilling::Failure","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":66,"run_time":0.145350653,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:2:1:4:2]","description":"does not record metrics","full_description":"CustomerBilling::StripePaymentProcessor#record_payment! for a successful payment which has already been processed does not record metrics","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":72,"run_time":0.130565891,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:2:1:4:3]","description":"does not record a payment failure","full_description":"CustomerBilling::StripePaymentProcessor#record_payment! for a successful payment which has already been processed does not record a payment failure","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":80,"run_time":0.129793603,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:2:2:1]","description":"raises CustomerBilling::PaymentDeclined","full_description":"CustomerBilling::StripePaymentProcessor#record_payment! for a declined payment raises CustomerBilling::PaymentDeclined","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":91,"run_time":0.12542822,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:2:2:2]","description":"records metrics","full_description":"CustomerBilling::StripePaymentProcessor#record_payment! for a declined payment records metrics","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":97,"run_time":0.105442183,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:2:2:3]","description":"records a payment failure","full_description":"CustomerBilling::StripePaymentProcessor#record_payment! for a declined payment records a payment failure","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":105,"run_time":0.101435385,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:2:3:1]","description":"raises CustomerBilling::PaymentRequiresAuthorisation","full_description":"CustomerBilling::StripePaymentProcessor#record_payment! for a payment requiring authorisation raises CustomerBilling::PaymentRequiresAuthorisation","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":122,"run_time":0.111013921,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:2:3:2]","description":"records metrics","full_description":"CustomerBilling::StripePaymentProcessor#record_payment! for a payment requiring authorisation records metrics","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":128,"run_time":0.097988215,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:2:3:3]","description":"records a payment failure","full_description":"CustomerBilling::StripePaymentProcessor#record_payment! for a payment requiring authorisation records a payment failure","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":136,"run_time":0.113946371,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:2:4:1:1]","description":"returns a response object","full_description":"CustomerBilling::StripePaymentProcessor#record_payment! for a payment requiring confirmation when confirmation is successful returns a response object","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":160,"run_time":0.10261803,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:2:4:1:2]","description":"records metrics","full_description":"CustomerBilling::StripePaymentProcessor#record_payment! for a payment requiring confirmation when confirmation is successful records metrics","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":167,"run_time":0.092284282,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:2:4:2:1]","description":"raises CustomerBilling::PaymentDeclined","full_description":"CustomerBilling::StripePaymentProcessor#record_payment! for a payment requiring confirmation when declined with a CardError raises CustomerBilling::PaymentDeclined","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":181,"run_time":0.104931992,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:2:4:2:2]","description":"records metrics","full_description":"CustomerBilling::StripePaymentProcessor#record_payment! for a payment requiring confirmation when declined with a CardError records metrics","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":187,"run_time":0.106746127,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:2:4:2:3]","description":"records a payment failure","full_description":"CustomerBilling::StripePaymentProcessor#record_payment! for a payment requiring confirmation when declined with a CardError records a payment failure","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":195,"run_time":0.111833804,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:2:4:3:1]","description":"raises CustomerBilling::PaymentDeclined","full_description":"CustomerBilling::StripePaymentProcessor#record_payment! for a payment requiring confirmation when declined with an InvalidRequestError raises CustomerBilling::PaymentDeclined","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":217,"run_time":0.123321002,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:2:4:3:2]","description":"records metrics","full_description":"CustomerBilling::StripePaymentProcessor#record_payment! for a payment requiring confirmation when declined with an InvalidRequestError records metrics","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":223,"run_time":0.088007773,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:2:4:3:3]","description":"records a payment failure","full_description":"CustomerBilling::StripePaymentProcessor#record_payment! for a payment requiring confirmation when declined with an InvalidRequestError records a payment failure","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":231,"run_time":0.097493822,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:2:4:4:1]","description":"raises CustomerBilling::PaymentDeclined","full_description":"CustomerBilling::StripePaymentProcessor#record_payment! for a payment requiring confirmation when declined with requires_payment_method raises CustomerBilling::PaymentDeclined","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":254,"run_time":0.111847263,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:2:4:4:2]","description":"records metrics","full_description":"CustomerBilling::StripePaymentProcessor#record_payment! for a payment requiring confirmation when declined with requires_payment_method records metrics","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":260,"run_time":0.099396646,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:2:4:4:3]","description":"records a payment failure","full_description":"CustomerBilling::StripePaymentProcessor#record_payment! for a payment requiring confirmation when declined with requires_payment_method records a payment failure","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":268,"run_time":0.113897785,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:2:5:1]","description":"raises CustomerBilling::Failure","full_description":"CustomerBilling::StripePaymentProcessor#record_payment! when payment_intent is nil raises CustomerBilling::Failure","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":286,"run_time":0.121187903,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:3:1:1:1:1]","description":"updates the customer if a payment method is given","full_description":"CustomerBilling::StripePaymentProcessor#update! with an existing customer with a payment method with valid card details updates the customer if a payment method is given","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":309,"run_time":0.151031681,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:3:1:1:1:2]","description":"records metrics","full_description":"CustomerBilling::StripePaymentProcessor#update! with an existing customer with a payment method with valid card details records metrics","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":314,"run_time":0.127072446,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:3:1:1:2:1]","description":"raises CustomerBilling::PaymentDeclined","full_description":"CustomerBilling::StripePaymentProcessor#update! with an existing customer with a payment method with invalid card details raises CustomerBilling::PaymentDeclined","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":324,"run_time":0.109177872,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:3:1:1:2:2]","description":"records a payment failure","full_description":"CustomerBilling::StripePaymentProcessor#update! with an existing customer with a payment method with invalid card details records a payment failure","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":330,"run_time":0.095630154,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:3:1:1:3:1]","description":"updates the existing payment method","full_description":"CustomerBilling::StripePaymentProcessor#update! with an existing customer with a payment method that is already attached updates the existing payment method","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":358,"run_time":0.097115358,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:3:1:2:1:1]","description":"updates the existing payment method without the phone and email","full_description":"CustomerBilling::StripePaymentProcessor#update! with an existing customer without a new payment method when the PaymentMethod is legacy card created as a Source updates the existing payment method without the phone and email","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":381,"run_time":0.100079934,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:3:1:2:2:1]","description":"updates the existing payment method","full_description":"CustomerBilling::StripePaymentProcessor#update! with an existing customer without a new payment method with a new style PaymentMethod updates the existing payment method","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":402,"run_time":0.097408577,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:3:2:1]","description":"creates a new customer","full_description":"CustomerBilling::StripePaymentProcessor#update! with a payment method creates a new customer","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":411,"run_time":0.103970922,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:3:3:1]","description":"raises an error","full_description":"CustomerBilling::StripePaymentProcessor#update! without a payment method raises an error","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":424,"run_time":0.107830608,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:4:1:1]","description":"creates a PaymentIntent","full_description":"CustomerBilling::StripePaymentProcessor#create_payment_intent on-session creates a PaymentIntent","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":438,"run_time":0.089181019,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/stripe_payment_processor_spec.rb[1:4:2:1]","description":"creates a PaymentIntent","full_description":"CustomerBilling::StripePaymentProcessor#create_payment_intent off-session creates a PaymentIntent","status":"passed","file_path":"./spec/models/customer_billing/stripe_payment_processor_spec.rb","line_number":459,"run_time":0.098131769,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_account_seeder_spec.rb[1:1:1:1]","description":"seeds the default current account","full_description":"CompanySeeder::BankAccountSeeder#seed for default FAPD demo companies seeds the default current account","status":"passed","file_path":"./spec/tools/company_seeder/bank_account_seeder_spec.rb","line_number":56,"run_time":0.244602789,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_account_seeder_spec.rb[1:1:1:2]","description":"seeds four bank accounts","full_description":"CompanySeeder::BankAccountSeeder#seed for default FAPD demo companies seeds four bank accounts","status":"passed","file_path":"./spec/tools/company_seeder/bank_account_seeder_spec.rb","line_number":60,"run_time":0.216542837,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_account_seeder_spec.rb[1:1:1:3]","description":"sets the current account as primary","full_description":"CompanySeeder::BankAccountSeeder#seed for default FAPD demo companies sets the current account as primary","status":"passed","file_path":"./spec/tools/company_seeder/bank_account_seeder_spec.rb","line_number":65,"run_time":0.214804922,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_account_seeder_spec.rb[1:1:1:4]","description":"seeds the default savings account","full_description":"CompanySeeder::BankAccountSeeder#seed for default FAPD demo companies seeds the default savings account","status":"passed","file_path":"./spec/tools/company_seeder/bank_account_seeder_spec.rb","line_number":69,"run_time":0.25111328,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_account_seeder_spec.rb[1:1:1:5]","description":"seeds the default petty cash account","full_description":"CompanySeeder::BankAccountSeeder#seed for default FAPD demo companies seeds the default petty cash account","status":"passed","file_path":"./spec/tools/company_seeder/bank_account_seeder_spec.rb","line_number":73,"run_time":0.224591686,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_account_seeder_spec.rb[1:1:1:6]","description":"seeds the default loan account","full_description":"CompanySeeder::BankAccountSeeder#seed for default FAPD demo companies seeds the default loan account","status":"passed","file_path":"./spec/tools/company_seeder/bank_account_seeder_spec.rb","line_number":77,"run_time":0.266833054,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_account_seeder_spec.rb[1:1:2:1]","description":"seeds three bank accounts","full_description":"CompanySeeder::BankAccountSeeder#seed for UK Landlord companies seeds three bank accounts","status":"passed","file_path":"./spec/tools/company_seeder/bank_account_seeder_spec.rb","line_number":85,"run_time":0.204571009,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_account_seeder_spec.rb[1:1:3:1]","description":"seeds four bank accounts","full_description":"CompanySeeder::BankAccountSeeder#seed for NatWest resold companies seeds four bank accounts","status":"passed","file_path":"./spec/tools/company_seeder/bank_account_seeder_spec.rb","line_number":104,"run_time":0.192041978,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_account_seeder_spec.rb[1:1:3:2]","description":"sets the business current account as primary","full_description":"CompanySeeder::BankAccountSeeder#seed for NatWest resold companies sets the business current account as primary","status":"passed","file_path":"./spec/tools/company_seeder/bank_account_seeder_spec.rb","line_number":109,"run_time":0.211991582,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_account_seeder_spec.rb[1:1:3:3]","description":"seeds bank NatWest bank accounts","full_description":"CompanySeeder::BankAccountSeeder#seed for NatWest resold companies seeds bank NatWest bank accounts","status":"passed","file_path":"./spec/tools/company_seeder/bank_account_seeder_spec.rb","line_number":113,"run_time":0.196695684,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_account_seeder_spec.rb[1:1:4:1]","description":"seeds four bank accounts","full_description":"CompanySeeder::BankAccountSeeder#seed for RBS resold companies seeds four bank accounts","status":"passed","file_path":"./spec/tools/company_seeder/bank_account_seeder_spec.rb","line_number":129,"run_time":0.185634019,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_account_seeder_spec.rb[1:1:4:2]","description":"sets the business current account as primary","full_description":"CompanySeeder::BankAccountSeeder#seed for RBS resold companies sets the business current account as primary","status":"passed","file_path":"./spec/tools/company_seeder/bank_account_seeder_spec.rb","line_number":134,"run_time":0.177665359,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_account_seeder_spec.rb[1:1:4:3]","description":"seeds Royal Bank of Scotland","full_description":"CompanySeeder::BankAccountSeeder#seed for RBS resold companies seeds Royal Bank of Scotland","status":"passed","file_path":"./spec/tools/company_seeder/bank_account_seeder_spec.rb","line_number":138,"run_time":0.213080164,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_account_seeder_spec.rb[1:1:5:1]","description":"seeds four bank accounts","full_description":"CompanySeeder::BankAccountSeeder#seed for a reseller without custom bank accounts seeds four bank accounts","status":"passed","file_path":"./spec/tools/company_seeder/bank_account_seeder_spec.rb","line_number":152,"run_time":0.196395894,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_account_seeder_spec.rb[1:1:5:2]","description":"seeds the default current account","full_description":"CompanySeeder::BankAccountSeeder#seed for a reseller without custom bank accounts seeds the default current account","status":"passed","file_path":"./spec/tools/company_seeder/bank_account_seeder_spec.rb","line_number":157,"run_time":0.206869264,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_account_seeder_spec.rb[1:1:5:3]","description":"sets the current account as primary","full_description":"CompanySeeder::BankAccountSeeder#seed for a reseller without custom bank accounts sets the current account as primary","status":"passed","file_path":"./spec/tools/company_seeder/bank_account_seeder_spec.rb","line_number":161,"run_time":0.201787971,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_account_seeder_spec.rb[1:1:5:4]","description":"seeds the default savings account","full_description":"CompanySeeder::BankAccountSeeder#seed for a reseller without custom bank accounts seeds the default savings account","status":"passed","file_path":"./spec/tools/company_seeder/bank_account_seeder_spec.rb","line_number":165,"run_time":0.197110512,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_account_seeder_spec.rb[1:1:5:5]","description":"seeds the default petty cash account","full_description":"CompanySeeder::BankAccountSeeder#seed for a reseller without custom bank accounts seeds the default petty cash account","status":"passed","file_path":"./spec/tools/company_seeder/bank_account_seeder_spec.rb","line_number":169,"run_time":0.185786892,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_account_seeder_spec.rb[1:1:5:6]","description":"seeds the default loan account","full_description":"CompanySeeder::BankAccountSeeder#seed for a reseller without custom bank accounts seeds the default loan account","status":"passed","file_path":"./spec/tools/company_seeder/bank_account_seeder_spec.rb","line_number":173,"run_time":0.248149586,"pending_message":null,"screenshot":null},{"id":"./spec/features/ltd_company_year_ends_navigation_spec.rb[1:2:1:5]","description":"cannot access final accounts filing","full_description":"Limited company year end navigation with a practice managed company logged in as account owner cannot access final accounts filing","status":"passed","file_path":"./spec/features/ltd_company_year_ends_navigation_spec.rb","line_number":200,"run_time":1.984067495,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:1:2]","description":"returns the ES query for the given query term","full_description":"Search::BankTransactionsQuery#query_body returns the ES query for the given query term","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":21,"run_time":0.036205515,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:1:1:1]","description":"returns nil if there is only a currency search","full_description":"Search::BankTransactionsQuery#query_body with only currency search returns nil if there is only a currency search","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":16,"run_time":0.034992124,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:1:3:1]","description":"returns the ES query for the given query term","full_description":"Search::BankTransactionsQuery#query_body with a numeric only term returns the ES query for the given query term","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":82,"run_time":0.036062271,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:2:1]","description":"defines term filters","full_description":"Search::BankTransactionsQuery#filter_body defines term filters","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":134,"run_time":0.03813285,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:2:2]","description":"scopes to the bank accout","full_description":"Search::BankTransactionsQuery#filter_body scopes to the bank accout","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":138,"run_time":0.035524087,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:2:3:1]","description":"filters to latest statement","full_description":"Search::BankTransactionsQuery#filter_body with uploaded at set filters to latest statement","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":146,"run_time":0.037391575,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:2:4:1:1]","description":"filters by unexplained","full_description":"Search::BankTransactionsQuery#filter_body filtering by view with the unexplained view filters by unexplained","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":155,"run_time":0.034280202,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:2:4:2:1]","description":"filters by explained","full_description":"Search::BankTransactionsQuery#filter_body filtering by view with the explained view filters by explained","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":163,"run_time":0.034674325,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:2:4:3:1]","description":"filters by manual","full_description":"Search::BankTransactionsQuery#filter_body filtering by view with the manual view filters by manual","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":171,"run_time":0.035777608,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:2:4:4:1]","description":"filters by imported","full_description":"Search::BankTransactionsQuery#filter_body filtering by view with the imported view filters by imported","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":179,"run_time":0.029083691,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:2:4:5:1]","description":"filters by marked for review","full_description":"Search::BankTransactionsQuery#filter_body filtering by view with the marked for review view filters by marked for review","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":187,"run_time":0.034916735,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:2:5:1:1]","description":"filters by money in","full_description":"Search::BankTransactionsQuery#filter_body filtering by money direction with the money in direction filters by money in","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":197,"run_time":0.035945209,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:2:5:2:1]","description":"filters by money out","full_description":"Search::BankTransactionsQuery#filter_body filtering by money direction with the money out direction filters by money out","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":205,"run_time":0.034734734,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:2:6:1:1]","description":"filters by from date","full_description":"Search::BankTransactionsQuery#filter_body filtering by date range with a from date filter filters by from date","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":221,"run_time":0.033502388,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:2:6:2:1]","description":"filters by to date","full_description":"Search::BankTransactionsQuery#filter_body filtering by date range with a to date filter filters by to date","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":229,"run_time":0.036333818,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:2:6:3:1]","description":"filters by date range","full_description":"Search::BankTransactionsQuery#filter_body filtering by date range with a date range filter filters by date range","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":239,"run_time":0.033384675,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:2:7:1:1]","description":"includes the correct filter ","full_description":"Search::BankTransactionsQuery#filter_body filtering by monetary value with a monetary value includes the correct filter ","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":255,"run_time":0.029072626,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:2:7:2:1]","description":"includes the correct filter when a monetary value and numeric value is detected","full_description":"Search::BankTransactionsQuery#filter_body filtering by monetary value with a monetary value and numeric value includes the correct filter when a monetary value and numeric value is detected","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":271,"run_time":0.03064113,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:2:7:3:1]","description":"does not include a filter","full_description":"Search::BankTransactionsQuery#filter_body filtering by monetary value with no sterling monetary value does not include a filter","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":289,"run_time":0.029120506,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:3:1]","description":"sorts by dated","full_description":"Search::BankTransactionsQuery#sort_body sorts by dated","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":299,"run_time":0.027699713,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:3:3]","description":"ignores unmapped when sorting by dated","full_description":"Search::BankTransactionsQuery#sort_body ignores unmapped when sorting by dated","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":311,"run_time":0.026268259,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:3:2:1]","description":"sorts dated by the given direction","full_description":"Search::BankTransactionsQuery#sort_body sorting by descending date sorts dated by the given direction","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":306,"run_time":0.026556048,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:4:1:1]","description":"extracts values prefixed with the currency symbol of the bank","full_description":"Search::BankTransactionsQuery#monetary_values_array for a GBP bank account extracts values prefixed with the currency symbol of the bank","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":318,"run_time":0.031708435,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:4:1:2]","description":"extracts values with two decimal points prefixed with a currency symbol","full_description":"Search::BankTransactionsQuery#monetary_values_array for a GBP bank account extracts values with two decimal points prefixed with a currency symbol","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":323,"run_time":0.03442941,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:4:1:3]","description":"extracts values with two decimal points suffixed with a currency symbol","full_description":"Search::BankTransactionsQuery#monetary_values_array for a GBP bank account extracts values with two decimal points suffixed with a currency symbol","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":328,"run_time":0.034783624,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:4:1:4]","description":"extracts values with two decimal points using a comma separator","full_description":"Search::BankTransactionsQuery#monetary_values_array for a GBP bank account extracts values with two decimal points using a comma separator","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":333,"run_time":0.036560812,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:4:1:5]","description":"extracts values with two decimal points using a comma separator","full_description":"Search::BankTransactionsQuery#monetary_values_array for a GBP bank account extracts values with two decimal points using a comma separator","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":338,"run_time":0.032662506,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:4:1:6]","description":"does not extract values with only one decimal point ","full_description":"Search::BankTransactionsQuery#monetary_values_array for a GBP bank account does not extract values with only one decimal point ","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":343,"run_time":0.029045273,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:4:1:7]","description":"does not extract values with more than 2 decimal points ","full_description":"Search::BankTransactionsQuery#monetary_values_array for a GBP bank account does not extract values with more than 2 decimal points ","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":348,"run_time":0.033563004,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:4:1:8]","description":"does not extract values where there is a space between the currency symbol and the value","full_description":"Search::BankTransactionsQuery#monetary_values_array for a GBP bank account does not extract values where there is a space between the currency symbol and the value","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":353,"run_time":0.032181544,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:4:1:9]","description":"does not extract values when the currency symbol is not that of the bank account","full_description":"Search::BankTransactionsQuery#monetary_values_array for a GBP bank account does not extract values when the currency symbol is not that of the bank account","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":358,"run_time":0.03256681,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:4:1:10]","description":"does not extract values where there is a minus sign prepending the value","full_description":"Search::BankTransactionsQuery#monetary_values_array for a GBP bank account does not extract values where there is a minus sign prepending the value","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":363,"run_time":0.028159385,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:4:1:11]","description":"does not extract values when commas are used as thousand separators","full_description":"Search::BankTransactionsQuery#monetary_values_array for a GBP bank account does not extract values when commas are used as thousand separators","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":368,"run_time":0.030462584,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:4:2:1]","description":"extracts values with two decimal points prefixed with the currency symbol of the bank account","full_description":"Search::BankTransactionsQuery#monetary_values_array for a USD bank account extracts values with two decimal points prefixed with the currency symbol of the bank account","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":377,"run_time":0.039747575,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:4:2:2]","description":"does not extract values when the currency symbol is not that of the bank account","full_description":"Search::BankTransactionsQuery#monetary_values_array for a USD bank account does not extract values when the currency symbol is not that of the bank account","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":382,"run_time":0.036423707,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:5:1]","description":"returns the text query correctly when monetary values are detected","full_description":"Search::BankTransactionsQuery#text_query_without_monetary_values returns the text query correctly when monetary values are detected","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":390,"run_time":0.033523219,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:5:2]","description":"returns the text query untouched, when no monetary values are detected","full_description":"Search::BankTransactionsQuery#text_query_without_monetary_values returns the text query untouched, when no monetary values are detected","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":395,"run_time":0.037449523,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:6:1]","description":"returns the correct filter when there are monetary values detected","full_description":"Search::BankTransactionsQuery#monetary_value_filters returns the correct filter when there are monetary values detected","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":404,"run_time":0.036584468,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:6:2]","description":"does not return a filter when there are no monetary values detected","full_description":"Search::BankTransactionsQuery#monetary_value_filters does not return a filter when there are no monetary values detected","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":429,"run_time":0.031399659,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:7:1:1]","description":"is given a monetary value as a string","full_description":"Search::BankTransactionsQuery#sanitize_user_input returns a correctly formatted float when is given a monetary value as a string","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":438,"run_time":0.031117628,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:7:2:1]","description":"handles the error, and logs an error","full_description":"Search::BankTransactionsQuery#sanitize_user_input when passed an invalid word handles the error, and logs an error","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":456,"run_time":0.03235773,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:8:1:1]","description":"is expected to be a kind of Search::NullQuery","full_description":"Search::BankTransactionsQuery.build for a search term shorter than the minimum is expected to be a kind of Search::NullQuery","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":473,"run_time":0.029274529,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transactions_query_spec.rb[1:8:2:1]","description":"is expected to be a kind of Search::BankTransactionsQuery","full_description":"Search::BankTransactionsQuery.build for a search term length equal to the minimum is expected to be a kind of Search::BankTransactionsQuery","status":"passed","file_path":"./spec/models/search/bank_transactions_query_spec.rb","line_number":478,"run_time":0.0297917,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb[1:1:1:1]","description":"calls generate_pro_tips","full_description":"Radar::Insights::ProTipGenerator.evaluate_pro_tips_for when a new instance has been initialised calls generate_pro_tips","status":"passed","file_path":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb","line_number":42,"run_time":0.007470554,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb[1:2:1:1]","description":"does not initialise a new ProTip rule","full_description":"Radar::Insights::ProTipGenerator#generate_pro_tip_notification! when the user does not have insights enabled does not initialise a new ProTip rule","status":"passed","file_path":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb","line_number":63,"run_time":0.011508351,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb[1:2:2:1]","description":"does not initialise a new ProTip rule","full_description":"Radar::Insights::ProTipGenerator#generate_pro_tip_notification! when the user has already received the relevant ProTip does not initialise a new ProTip rule","status":"passed","file_path":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb","line_number":74,"run_time":0.044880116,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb[1:2:3:1]","description":"does not initialise a new ProTip rule","full_description":"Radar::Insights::ProTipGenerator#generate_pro_tip_notification! when the event name does not trigger a ProTip does not initialise a new ProTip rule","status":"passed","file_path":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb","line_number":83,"run_time":0.014166136,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb[1:2:4:1:1]","description":"generates an insight","full_description":"Radar::Insights::ProTipGenerator#generate_pro_tip_notification! when the event triggers a ProTip and the rule is applicable in context generates an insight","status":"passed","file_path":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb","line_number":98,"run_time":0.029980299,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb[1:2:4:1:2:1:1]","description":"doesn't create another ProTips ping","full_description":"Radar::Insights::ProTipGenerator#generate_pro_tip_notification! when the event triggers a ProTip and the rule is applicable in context and the user has previously received a different ProTip within the ProTip generation interval doesn't create another ProTips ping","status":"passed","file_path":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb","line_number":119,"run_time":0.031567214,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb[1:2:4:1:2:2:1]","description":"creates another ProTip ping","full_description":"Radar::Insights::ProTipGenerator#generate_pro_tip_notification! when the event triggers a ProTip and the rule is applicable in context and the user has previously received a different ProTip outside of the ProTip generation interval creates another ProTip ping","status":"passed","file_path":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb","line_number":133,"run_time":0.04142429,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb[1:2:4:1:3:1:1:1]","description":"sends the account manager a notification","full_description":"Radar::Insights::ProTipGenerator#generate_pro_tip_notification! when the event triggers a ProTip and the rule is applicable in context when generating ProTips for account managers and the user is a senior account manager and the account manager is the company's account manager sends the account manager a notification","status":"passed","file_path":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb","line_number":157,"run_time":0.175630244,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb[1:2:4:1:3:1:2:1]","description":"does not send the user a notification","full_description":"Radar::Insights::ProTipGenerator#generate_pro_tip_notification! when the event triggers a ProTip and the rule is applicable in context when generating ProTips for account managers and the user is a senior account manager and the account manager is not the company's account manager does not send the user a notification","status":"passed","file_path":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb","line_number":171,"run_time":0.164043114,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb[1:2:4:2:1]","description":"does not generate an insight","full_description":"Radar::Insights::ProTipGenerator#generate_pro_tip_notification! when the event triggers a ProTip and the rule is not applicable in context does not generate an insight","status":"passed","file_path":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb","line_number":183,"run_time":0.018201583,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb[1:2:4:3:1:1]","description":"generates the next applicable ProTip","full_description":"Radar::Insights::ProTipGenerator#generate_pro_tip_notification! when the event triggers a ProTip when the event has multiple consumers when the last ProTip consumes the same event generates the next applicable ProTip","status":"passed","file_path":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb","line_number":209,"run_time":0.076114799,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb[1:2:4:3:2:1]","description":"only generates 1 ProTip","full_description":"Radar::Insights::ProTipGenerator#generate_pro_tip_notification! when the event triggers a ProTip when the event has multiple consumers and the consumers have different priority levels only generates 1 ProTip","status":"passed","file_path":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb","line_number":222,"run_time":0.037063626,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb[1:2:4:3:3:1]","description":"only generates 1 ProTip","full_description":"Radar::Insights::ProTipGenerator#generate_pro_tip_notification! when the event triggers a ProTip when the event has multiple consumers and the consumers have the same priority only generates 1 ProTip","status":"passed","file_path":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb","line_number":236,"run_time":0.039770189,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb[1:2:4:3:3:2]","description":"generates the first applicable ProTip","full_description":"Radar::Insights::ProTipGenerator#generate_pro_tip_notification! when the event triggers a ProTip when the event has multiple consumers and the consumers have the same priority generates the first applicable ProTip","status":"passed","file_path":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb","line_number":242,"run_time":0.035828629,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/file_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Api::FilePolicy a user with permission level below ESTIMATES_AND_INVOICES is expected to equal false","status":"passed","file_path":"./spec/policies/api/file_policy_spec.rb","line_number":29,"run_time":0.199514029,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/file_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Api::FilePolicy a user with permission level ESTIMATES_AND_INVOICES is expected to equal true","status":"passed","file_path":"./spec/policies/api/file_policy_spec.rb","line_number":45,"run_time":0.240558035,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/file_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Api::FilePolicy a user with permission level TAX_AND_LIMITED_ACCOUNTING is expected to equal true","status":"passed","file_path":"./spec/policies/api/file_policy_spec.rb","line_number":61,"run_time":0.122130578,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/file_policy_spec.rb[1:3:2:1]","description":"is expected to equal true","full_description":"Api::FilePolicy a user with permission level TAX_AND_LIMITED_ACCOUNTING when the document is personal and belongs to the user is expected to equal true","status":"passed","file_path":"./spec/policies/api/file_policy_spec.rb","line_number":71,"run_time":0.124677015,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/file_policy_spec.rb[1:3:3:1]","description":"is expected to equal false","full_description":"Api::FilePolicy a user with permission level TAX_AND_LIMITED_ACCOUNTING when the document is personal and doesn't belong to the user is expected to equal false","status":"passed","file_path":"./spec/policies/api/file_policy_spec.rb","line_number":79,"run_time":0.119521573,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/file_policy_spec.rb[1:4:1]","description":"is expected to equal false","full_description":"Api::FilePolicy an account manager is expected to equal false","status":"passed","file_path":"./spec/policies/api/file_policy_spec.rb","line_number":91,"run_time":0.251556822,"pending_message":null,"screenshot":null},{"id":"./spec/models/app_store_billing/subscription_sync_job_spec.rb[1:1]","description":"is skipped for a company not subscribed via the app store","full_description":"AppStoreBilling::SubscriptionSyncJob is skipped for a company not subscribed via the app store","status":"passed","file_path":"./spec/models/app_store_billing/subscription_sync_job_spec.rb","line_number":4,"run_time":0.123822462,"pending_message":null,"screenshot":null},{"id":"./spec/models/app_store_billing/subscription_sync_job_spec.rb[1:2]","description":"is skipped for a company on Apple free trial","full_description":"AppStoreBilling::SubscriptionSyncJob is skipped for a company on Apple free trial","status":"passed","file_path":"./spec/models/app_store_billing/subscription_sync_job_spec.rb","line_number":15,"run_time":0.111174762,"pending_message":null,"screenshot":null},{"id":"./spec/models/app_store_billing/subscription_sync_job_spec.rb[1:3:5]","description":"moves company into grace period if payment has not been made and company is currently subscribed","full_description":"AppStoreBilling::SubscriptionSyncJob for an app store subscribed company moves company into grace period if payment has not been made and company is currently subscribed","status":"passed","file_path":"./spec/models/app_store_billing/subscription_sync_job_spec.rb","line_number":201,"run_time":0.147439554,"pending_message":null,"screenshot":null},{"id":"./spec/models/app_store_billing/subscription_sync_job_spec.rb[1:3:1:1]","description":"is skipped","full_description":"AppStoreBilling::SubscriptionSyncJob for an app store subscribed company when the company is not due payment is skipped","status":"passed","file_path":"./spec/models/app_store_billing/subscription_sync_job_spec.rb","line_number":58,"run_time":0.117916933,"pending_message":null,"screenshot":null},{"id":"./spec/models/app_store_billing/subscription_sync_job_spec.rb[1:3:2:1]","description":"bumps up the next payment date","full_description":"AppStoreBilling::SubscriptionSyncJob for an app store subscribed company if new payment has been made (for an active company) bumps up the next payment date","status":"passed","file_path":"./spec/models/app_store_billing/subscription_sync_job_spec.rb","line_number":84,"run_time":0.142559285,"pending_message":null,"screenshot":null},{"id":"./spec/models/app_store_billing/subscription_sync_job_spec.rb[1:3:2:2]","description":"adds a new payment","full_description":"AppStoreBilling::SubscriptionSyncJob for an app store subscribed company if new payment has been made (for an active company) adds a new payment","status":"passed","file_path":"./spec/models/app_store_billing/subscription_sync_job_spec.rb","line_number":96,"run_time":0.141164355,"pending_message":null,"screenshot":null},{"id":"./spec/models/app_store_billing/subscription_sync_job_spec.rb[1:3:3:1]","description":"reactivates the subscription","full_description":"AppStoreBilling::SubscriptionSyncJob for an app store subscribed company if new payment has been made (for a grace company) reactivates the subscription","status":"passed","file_path":"./spec/models/app_store_billing/subscription_sync_job_spec.rb","line_number":117,"run_time":0.182110347,"pending_message":null,"screenshot":null},{"id":"./spec/models/app_store_billing/subscription_sync_job_spec.rb[1:3:3:2]","description":"adds a new payment","full_description":"AppStoreBilling::SubscriptionSyncJob for an app store subscribed company if new payment has been made (for a grace company) adds a new payment","status":"passed","file_path":"./spec/models/app_store_billing/subscription_sync_job_spec.rb","line_number":130,"run_time":0.17178442,"pending_message":null,"screenshot":null},{"id":"./spec/models/app_store_billing/subscription_sync_job_spec.rb[1:3:4:1:1]","description":"adds a new payment","full_description":"AppStoreBilling::SubscriptionSyncJob for an app store subscribed company for a suspended company if new payment has been made adds a new payment","status":"passed","file_path":"./spec/models/app_store_billing/subscription_sync_job_spec.rb","line_number":156,"run_time":0.169118146,"pending_message":null,"screenshot":null},{"id":"./spec/models/app_store_billing/subscription_sync_job_spec.rb[1:3:4:1:2]","description":"reactivates the subscription","full_description":"AppStoreBilling::SubscriptionSyncJob for an app store subscribed company for a suspended company if new payment has been made reactivates the subscription","status":"passed","file_path":"./spec/models/app_store_billing/subscription_sync_job_spec.rb","line_number":162,"run_time":0.164437084,"pending_message":null,"screenshot":null},{"id":"./spec/models/app_store_billing/subscription_sync_job_spec.rb[1:3:4:2:1]","description":"should keep the subscription suspended","full_description":"AppStoreBilling::SubscriptionSyncJob for an app store subscribed company for a suspended company without a new payment should keep the subscription suspended","status":"passed","file_path":"./spec/models/app_store_billing/subscription_sync_job_spec.rb","line_number":192,"run_time":0.133957053,"pending_message":null,"screenshot":null},{"id":"./spec/models/app_store_billing/subscription_sync_job_spec.rb[1:3:6:1]","description":"moves the company into grace period","full_description":"AppStoreBilling::SubscriptionSyncJob for an app store subscribed company when the subscription is cancelled by requesting a refund via Apple support moves the company into grace period","status":"passed","file_path":"./spec/models/app_store_billing/subscription_sync_job_spec.rb","line_number":234,"run_time":0.137269926,"pending_message":null,"screenshot":null},{"id":"./spec/views/payslips/_payslips.html.erb_spec.rb[1:1:1]","description":"with no other pay or other deductions","full_description":"payslips/_payslips A payroll month with no other pay or other deductions","status":"passed","file_path":"./spec/views/payslips/_payslips.html.erb_spec.rb","line_number":28,"run_time":0.331538032,"pending_message":null,"screenshot":null},{"id":"./spec/views/payslips/_payslips.html.erb_spec.rb[1:1:2]","description":"with other pay","full_description":"payslips/_payslips A payroll month with other pay","status":"passed","file_path":"./spec/views/payslips/_payslips.html.erb_spec.rb","line_number":66,"run_time":0.443428737,"pending_message":null,"screenshot":null},{"id":"./spec/views/payslips/_payslips.html.erb_spec.rb[1:1:3]","description":"with other deductions","full_description":"payslips/_payslips A payroll month with other deductions","status":"passed","file_path":"./spec/views/payslips/_payslips.html.erb_spec.rb","line_number":90,"run_time":0.380899079,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:69:4:1]","description":"is able to send the invoice","full_description":"Invoice A VAT-registered UK company with a sent invoice is able to send the invoice","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":1928,"run_time":0.363181848,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:1:43:1]","description":"deletes the import for bank accounts and companies","full_description":"Company::ForgetCompanyData Deleting all data for a VAT registered UK company with imports deletes the import for bank accounts and companies","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":631,"run_time":1.883024352,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/partner_resources_controller_spec.rb[1:1:1]","description":"publishes an event","full_description":"PracticeDashboard::PartnerResourcesController#show when accessed as an FAPD account manager publishes an event","status":"passed","file_path":"./spec/controllers/practice_dashboard/partner_resources_controller_spec.rb","line_number":14,"run_time":0.109350208,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/partner_resources_controller_spec.rb[1:1:2:1]","description":"shows the practice partners blank slate","full_description":"PracticeDashboard::PartnerResourcesController#show when accessed as an FAPD account manager from a practice that is not listed in the directory shows the practice partners blank slate","status":"passed","file_path":"./spec/controllers/practice_dashboard/partner_resources_controller_spec.rb","line_number":25,"run_time":0.093588453,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/partner_resources_controller_spec.rb[1:1:3:1]","description":"shows links to the practice's cobranded webpages","full_description":"PracticeDashboard::PartnerResourcesController#show when accessed as an FAPD account manager from a practice that is listed in the accountants directory shows links to the practice's cobranded webpages","status":"passed","file_path":"./spec/controllers/practice_dashboard/partner_resources_controller_spec.rb","line_number":39,"run_time":0.092381648,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/partner_resources_controller_spec.rb[1:2:1]","description":"returns 404","full_description":"PracticeDashboard::PartnerResourcesController#show when accessed as a white-labelled account manager returns 404","status":"passed","file_path":"./spec/controllers/practice_dashboard/partner_resources_controller_spec.rb","line_number":56,"run_time":0.055357719,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:2:1:4:2]","description":"representing admin expenses","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the invoice accounting basis not on the Flat Rate Scheme Bills representing admin expenses","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":4085,"run_time":0.575175788,"pending_message":null,"screenshot":null},{"id":"./spec/requests/radar/insights/enable_bank_feed_spec.rb[1:1:1]","description":"renders the Radar page copy","full_description":"EnableBankFeed insight with a UK Limited company renders the Radar page copy","status":"passed","file_path":"./spec/requests/radar/insights/enable_bank_feed_spec.rb","line_number":23,"run_time":0.264197295,"pending_message":null,"screenshot":null},{"id":"./spec/requests/radar/insights/enable_bank_feed_spec.rb[1:1:2]","description":"handles unexpected state - rule does not apply","full_description":"EnableBankFeed insight with a UK Limited company handles unexpected state - rule does not apply","status":"passed","file_path":"./spec/requests/radar/insights/enable_bank_feed_spec.rb","line_number":28,"run_time":0.31758161,"pending_message":null,"screenshot":null},{"id":"./spec/requests/radar/insights/enable_bank_feed_spec.rb[1:1:3]","description":"contains a link to enable bank feed","full_description":"EnableBankFeed insight with a UK Limited company contains a link to enable bank feed","status":"passed","file_path":"./spec/requests/radar/insights/enable_bank_feed_spec.rb","line_number":36,"run_time":0.242208446,"pending_message":null,"screenshot":null},{"id":"./spec/views/layouts/signup.html.erb_spec.rb[1:1:1]","description":"renders the google tag manager script when the feature is enabled","full_description":"layouts/signup behaves like a page tracked with google tag manager renders the google tag manager script when the feature is enabled","status":"passed","file_path":"./spec/shared/tracking/google_tag_manager_examples.rb","line_number":3,"run_time":0.815063332,"pending_message":null,"screenshot":null},{"id":"./spec/views/layouts/signup.html.erb_spec.rb[1:1:2]","description":"does not render the google tag manager script when the feature is disabeld","full_description":"layouts/signup behaves like a page tracked with google tag manager does not render the google tag manager script when the feature is disabeld","status":"passed","file_path":"./spec/shared/tracking/google_tag_manager_examples.rb","line_number":10,"run_time":0.076631778,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/subscriptions/_practice_transfer_details.html.erb_spec.rb[1:1:1]","description":"shows the correct details","full_description":"admin/companies/subscriptions/_practice_transfer_details with a pending transfer with an email sent shows the correct details","status":"passed","file_path":"./spec/views/admin/companies/subscriptions/_practice_transfer_details.html.erb_spec.rb","line_number":11,"run_time":0.074439368,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/subscriptions/_practice_transfer_details.html.erb_spec.rb[1:2:1]","description":"shows the correct details","full_description":"admin/companies/subscriptions/_practice_transfer_details with a canceled transfer shows the correct details","status":"passed","file_path":"./spec/views/admin/companies/subscriptions/_practice_transfer_details.html.erb_spec.rb","line_number":23,"run_time":0.059031071,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/subscriptions/_practice_transfer_details.html.erb_spec.rb[1:3:1]","description":"shows the correct details","full_description":"admin/companies/subscriptions/_practice_transfer_details with a complete transfer with an email sent shows the correct details","status":"passed","file_path":"./spec/views/admin/companies/subscriptions/_practice_transfer_details.html.erb_spec.rb","line_number":34,"run_time":0.112287996,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/standing_orders_controller_spec.rb[1:1:1:1]","description":"shows the existing scheduled payments for the company","full_description":"OpenBanking::StandingOrdersController#index with an associated bank account shows the existing scheduled payments for the company","status":"passed","file_path":"./spec/controllers/open_banking/standing_orders_controller_spec.rb","line_number":25,"run_time":0.406144581,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/open_banking/standing_orders_controller_spec.rb[1:1:2:1]","description":"renders the page without raising an error","full_description":"OpenBanking::StandingOrdersController#index without an associated bank account renders the page without raising an error","status":"passed","file_path":"./spec/controllers/open_banking/standing_orders_controller_spec.rb","line_number":39,"run_time":0.392647018,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:54:3:2:1]","description":"marks the invoice as unpaid","full_description":"Invoice Given an outstanding invoice,  existing overpayments and then removing it marks the invoice as unpaid","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":1365,"run_time":0.486870149,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/blocked_spec.rb[1:1:1:1]","description":"increments the spambot metrics","full_description":"Signups::Factory::Blocked For a signup blocked due to completion of a honeypot field #save increments the spambot metrics","status":"passed","file_path":"./spec/freeagent/signups/factory/blocked_spec.rb","line_number":18,"run_time":0.023030484,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/blocked_spec.rb[1:1:1:2]","description":"does not send an email to the user","full_description":"Signups::Factory::Blocked For a signup blocked due to completion of a honeypot field #save does not send an email to the user","status":"passed","file_path":"./spec/freeagent/signups/factory/blocked_spec.rb","line_number":24,"run_time":0.023259679,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/blocked_spec.rb[1:1:1:3]","description":"logs the blocked signup","full_description":"Signups::Factory::Blocked For a signup blocked due to completion of a honeypot field #save logs the blocked signup","status":"passed","file_path":"./spec/freeagent/signups/factory/blocked_spec.rb","line_number":30,"run_time":0.023955158,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/blocked_spec.rb[1:1:1:4]","description":"notifies slack with a link to sudo","full_description":"Signups::Factory::Blocked For a signup blocked due to completion of a honeypot field #save notifies slack with a link to sudo","status":"passed","file_path":"./spec/freeagent/signups/factory/blocked_spec.rb","line_number":38,"run_time":0.023092348,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/blocked_spec.rb[1:1:1:5]","description":"tracks the signup in Sqreen","full_description":"Signups::Factory::Blocked For a signup blocked due to completion of a honeypot field #save tracks the signup in Sqreen","status":"passed","file_path":"./spec/freeagent/signups/factory/blocked_spec.rb","line_number":47,"run_time":0.024383414,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/blocked_spec.rb[1:2:1:1]","description":"increments the spambot metrics","full_description":"Signups::Factory::Blocked For a signup blocked due to a banned email address #save increments the spambot metrics","status":"passed","file_path":"./spec/freeagent/signups/factory/blocked_spec.rb","line_number":63,"run_time":0.024784014,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/blocked_spec.rb[1:2:1:2]","description":"does not send an email to the user","full_description":"Signups::Factory::Blocked For a signup blocked due to a banned email address #save does not send an email to the user","status":"passed","file_path":"./spec/freeagent/signups/factory/blocked_spec.rb","line_number":69,"run_time":0.025892402,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/blocked_spec.rb[1:2:1:3]","description":"logs the blocked signup","full_description":"Signups::Factory::Blocked For a signup blocked due to a banned email address #save logs the blocked signup","status":"passed","file_path":"./spec/freeagent/signups/factory/blocked_spec.rb","line_number":75,"run_time":0.02540998,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/blocked_spec.rb[1:2:1:4]","description":"does not notify Slack","full_description":"Signups::Factory::Blocked For a signup blocked due to a banned email address #save does not notify Slack","status":"passed","file_path":"./spec/freeagent/signups/factory/blocked_spec.rb","line_number":83,"run_time":0.023871225,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/blocked_spec.rb[1:2:1:5]","description":"tracks the signup in Sqreen","full_description":"Signups::Factory::Blocked For a signup blocked due to a banned email address #save tracks the signup in Sqreen","status":"passed","file_path":"./spec/freeagent/signups/factory/blocked_spec.rb","line_number":88,"run_time":0.019528774,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/blocked_spec.rb[1:3:1:1]","description":"increments the spambot metrics","full_description":"Signups::Factory::Blocked For a signup blocked due to a dodgy email address #save increments the spambot metrics","status":"passed","file_path":"./spec/freeagent/signups/factory/blocked_spec.rb","line_number":104,"run_time":0.020458273,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/blocked_spec.rb[1:3:1:2]","description":"does not send an email to the user","full_description":"Signups::Factory::Blocked For a signup blocked due to a dodgy email address #save does not send an email to the user","status":"passed","file_path":"./spec/freeagent/signups/factory/blocked_spec.rb","line_number":110,"run_time":0.021436783,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/blocked_spec.rb[1:3:1:3]","description":"logs the blocked signup","full_description":"Signups::Factory::Blocked For a signup blocked due to a dodgy email address #save logs the blocked signup","status":"passed","file_path":"./spec/freeagent/signups/factory/blocked_spec.rb","line_number":116,"run_time":0.019963531,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/blocked_spec.rb[1:3:1:4]","description":"notifies slack with a link to sudo","full_description":"Signups::Factory::Blocked For a signup blocked due to a dodgy email address #save notifies slack with a link to sudo","status":"passed","file_path":"./spec/freeagent/signups/factory/blocked_spec.rb","line_number":124,"run_time":0.020154321,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/blocked_spec.rb[1:3:1:5]","description":"tracks the signup in Sqreen","full_description":"Signups::Factory::Blocked For a signup blocked due to a dodgy email address #save tracks the signup in Sqreen","status":"passed","file_path":"./spec/freeagent/signups/factory/blocked_spec.rb","line_number":133,"run_time":0.056077216,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/blocked_spec.rb[1:4:1]","description":"sends an activation email to the user","full_description":"Signups::Factory::Blocked For a signup blocked only due to a failing IP score sends an activation email to the user","status":"passed","file_path":"./spec/freeagent/signups/factory/blocked_spec.rb","line_number":144,"run_time":0.030332037,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/blocked_spec.rb[1:4:2]","description":"does not notify Slack","full_description":"Signups::Factory::Blocked For a signup blocked only due to a failing IP score does not notify Slack","status":"passed","file_path":"./spec/freeagent/signups/factory/blocked_spec.rb","line_number":149,"run_time":0.026582647,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/blocked_spec.rb[1:4:3]","description":"tracks the signup in Sqreen","full_description":"Signups::Factory::Blocked For a signup blocked only due to a failing IP score tracks the signup in Sqreen","status":"passed","file_path":"./spec/freeagent/signups/factory/blocked_spec.rb","line_number":153,"run_time":0.025724429,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/blocked_spec.rb[1:5:1]","description":"does not send an activation email to the user","full_description":"Signups::Factory::Blocked For a signup blocked due to missing fingerprint does not send an activation email to the user","status":"passed","file_path":"./spec/freeagent/signups/factory/blocked_spec.rb","line_number":163,"run_time":0.023310509,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/blocked_spec.rb[1:5:2]","description":"does not notify Slack","full_description":"Signups::Factory::Blocked For a signup blocked due to missing fingerprint does not notify Slack","status":"passed","file_path":"./spec/freeagent/signups/factory/blocked_spec.rb","line_number":167,"run_time":0.022376248,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/blocked_spec.rb[1:5:3]","description":"tracks the signup in Sqreen","full_description":"Signups::Factory::Blocked For a signup blocked due to missing fingerprint tracks the signup in Sqreen","status":"passed","file_path":"./spec/freeagent/signups/factory/blocked_spec.rb","line_number":172,"run_time":0.02365961,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/blocked_spec.rb[1:6:1]","description":"does not send an activation email to the user","full_description":"Signups::Factory::Blocked For a signup blocked due to missing fingerprint and failing IP score does not send an activation email to the user","status":"passed","file_path":"./spec/freeagent/signups/factory/blocked_spec.rb","line_number":186,"run_time":0.029920319,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/blocked_spec.rb[1:6:2]","description":"does not notify Slack","full_description":"Signups::Factory::Blocked For a signup blocked due to missing fingerprint and failing IP score does not notify Slack","status":"passed","file_path":"./spec/freeagent/signups/factory/blocked_spec.rb","line_number":190,"run_time":0.027361216,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/blocked_spec.rb[1:6:3]","description":"tracks the signup in Sqreen","full_description":"Signups::Factory::Blocked For a signup blocked due to missing fingerprint and failing IP score tracks the signup in Sqreen","status":"passed","file_path":"./spec/freeagent/signups/factory/blocked_spec.rb","line_number":195,"run_time":0.027704011,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/mobile_payit_product_update_spec.rb[1:1:1:1:1]","description":"returns a category defined on the Insight model","full_description":"Radar::Insights::Rules::MobilePayitProductUpdate behaves like a product update rule behaves like a ping rule #category returns a category defined on the Insight model","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":11,"run_time":0.003439274,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/mobile_payit_product_update_spec.rb[1:1:1:2:1]","description":"returns a boolean","full_description":"Radar::Insights::Rules::MobilePayitProductUpdate behaves like a product update rule behaves like a ping rule #send_notifications? returns a boolean","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":17,"run_time":0.003317108,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/mobile_payit_product_update_spec.rb[1:1:2:1]","description":"returns a category of product update","full_description":"Radar::Insights::Rules::MobilePayitProductUpdate behaves like a product update rule #category is a product update returns a category of product update","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":29,"run_time":0.002842564,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/mobile_payit_product_update_spec.rb[1:2:1]","description":"launch date is correct","full_description":"Radar::Insights::Rules::MobilePayitProductUpdate.launch_date launch date is correct","status":"passed","file_path":"./spec/models/radar/insights/rules/mobile_payit_product_update_spec.rb","line_number":9,"run_time":0.002902353,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/mobile_payit_product_update_spec.rb[1:3:1:1:1]","description":"is expected to equal true","full_description":"Radar::Insights::Rules::MobilePayitProductUpdate#product_update_applies? when there are users who existed before the launch date for a full access, freeagent-branding-allowed company is expected to equal true","status":"passed","file_path":"./spec/models/radar/insights/rules/mobile_payit_product_update_spec.rb","line_number":26,"run_time":0.102394216,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/mobile_payit_product_update_spec.rb[1:3:1:2:1]","description":"is expected to equal false","full_description":"Radar::Insights::Rules::MobilePayitProductUpdate#product_update_applies? when there are users who existed before the launch date for a UK Landlord is expected to equal false","status":"passed","file_path":"./spec/models/radar/insights/rules/mobile_payit_product_update_spec.rb","line_number":32,"run_time":0.10488921,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/mobile_payit_product_update_spec.rb[1:3:1:3:1]","description":"is expected to equal false","full_description":"Radar::Insights::Rules::MobilePayitProductUpdate#product_update_applies? when there are users who existed before the launch date for a company without full access is expected to equal false","status":"passed","file_path":"./spec/models/radar/insights/rules/mobile_payit_product_update_spec.rb","line_number":38,"run_time":0.089616927,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/mobile_payit_product_update_spec.rb[1:3:1:4:1]","description":"is expected to equal false","full_description":"Radar::Insights::Rules::MobilePayitProductUpdate#product_update_applies? when there are users who existed before the launch date for a company which does not allow freeagent branding is expected to equal false","status":"passed","file_path":"./spec/models/radar/insights/rules/mobile_payit_product_update_spec.rb","line_number":44,"run_time":0.176720699,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/mobile_payit_product_update_spec.rb[1:3:1:5:1:1]","description":"is expected to equal true","full_description":"Radar::Insights::Rules::MobilePayitProductUpdate#product_update_applies? when there are users who existed before the launch date for a direct company with a natwest primary bank account by default is expected to equal true","status":"passed","file_path":"./spec/models/radar/insights/rules/mobile_payit_product_update_spec.rb","line_number":55,"run_time":0.108404272,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/mobile_payit_product_update_spec.rb[1:4:1]","description":"returns true","full_description":"Radar::Insights::Rules::MobilePayitProductUpdate#mobile? returns true","status":"passed","file_path":"./spec/models/radar/insights/rules/mobile_payit_product_update_spec.rb","line_number":66,"run_time":0.009462016,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:1:2:2:3]","description":"representing admin expenses","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the cash accounting basis on the Flat Rate Scheme (at 5%) Bank Account Entries representing admin expenses","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":3125,"run_time":0.482251833,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/components/line_items/credit_note_component_spec.rb[1:1:1]","description":"returns the reference and link for the credit note","full_description":"Cashflow::Components::LineItems::CreditNoteComponent#title returns the reference and link for the credit note","status":"passed","file_path":"./spec/freeagent/cashflow/components/line_items/credit_note_component_spec.rb","line_number":24,"run_time":0.122189938,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/components/line_items/credit_note_component_spec.rb[1:2:1]","description":"provides text in the format of Credit Note to \u003ccontact name\u003e","full_description":"Cashflow::Components::LineItems::CreditNoteComponent#meta provides text in the format of Credit Note to \u003ccontact name\u003e","status":"passed","file_path":"./spec/freeagent/cashflow/components/line_items/credit_note_component_spec.rb","line_number":30,"run_time":0.095499555,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/ec_goods.feature[1:1:1]","description":"Given a uk sole trader -\u003e And a credit note: EC goods -\u003e Given VAT settings: Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"EC Goods Invoice VAT at standard rates Given a uk sole trader -\u003e And a credit note: EC goods -\u003e Given VAT settings: Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/ec_goods.feature","line_number":6,"run_time":0.020409597,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/ec_goods.feature[1:2:1]","description":"Given a uk sole trader -\u003e And a credit note: EC goods -\u003e Given VAT settings: Invoice basis, not FRS, then Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"EC Goods Invoice VAT at standard rates Given a uk sole trader -\u003e And a credit note: EC goods -\u003e Given VAT settings: Invoice basis, not FRS, then Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/ec_goods.feature","line_number":6,"run_time":0.011617084,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/ec_goods.feature[1:3:1]","description":"Given a uk sole trader -\u003e And a credit note: EC goods -\u003e Given VAT settings: Invoice basis, not FRS, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"EC Goods Invoice VAT at standard rates Given a uk sole trader -\u003e And a credit note: EC goods -\u003e Given VAT settings: Invoice basis, not FRS, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/ec_goods.feature","line_number":6,"run_time":0.013868677,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/ec_goods.feature[1:4:1]","description":"Given a uk sole trader -\u003e And a credit note: EC goods -\u003e Given VAT settings: Invoice basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"EC Goods Invoice VAT at standard rates Given a uk sole trader -\u003e And a credit note: EC goods -\u003e Given VAT settings: Invoice basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/ec_goods.feature","line_number":6,"run_time":0.011255251,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/ec_goods.feature[1:5:1]","description":"Given a uk sole trader -\u003e And a credit note: EC goods -\u003e Given VAT settings: Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"EC Goods Invoice VAT at standard rates Given a uk sole trader -\u003e And a credit note: EC goods -\u003e Given VAT settings: Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/ec_goods.feature","line_number":6,"run_time":0.010758788,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/ec_goods.feature[1:6:1]","description":"Given a uk sole trader -\u003e And a credit note: EC goods -\u003e Given VAT settings: Cash basis, not FRS, then Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"EC Goods Invoice VAT at standard rates Given a uk sole trader -\u003e And a credit note: EC goods -\u003e Given VAT settings: Cash basis, not FRS, then Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/ec_goods.feature","line_number":6,"run_time":0.011534321,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/ec_goods.feature[1:7:1]","description":"Given a uk sole trader -\u003e And a credit note: EC goods -\u003e Given VAT settings: Cash basis, not FRS, then Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"EC Goods Invoice VAT at standard rates Given a uk sole trader -\u003e And a credit note: EC goods -\u003e Given VAT settings: Cash basis, not FRS, then Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/ec_goods.feature","line_number":6,"run_time":0.01147722,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/ec_goods.feature[1:8:1]","description":"Given a uk sole trader -\u003e And a credit note: EC goods -\u003e Given VAT settings: Cash basis, not FRS, then Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"EC Goods Invoice VAT at standard rates Given a uk sole trader -\u003e And a credit note: EC goods -\u003e Given VAT settings: Cash basis, not FRS, then Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/ec_goods.feature","line_number":6,"run_time":0.015556151,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/ec_goods.feature[1:9:1]","description":"Given a uk sole trader -\u003e And a credit note: EC goods -\u003e Given VAT settings: Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"EC Goods Invoice VAT at FRS rate Given a uk sole trader -\u003e And a credit note: EC goods -\u003e Given VAT settings: Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/ec_goods.feature","line_number":34,"run_time":0.016312699,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/ec_goods.feature[1:10:1]","description":"Given a uk sole trader -\u003e And a credit note: EC goods -\u003e Given VAT settings: Invoice basis, FRS, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"EC Goods Invoice VAT at FRS rate Given a uk sole trader -\u003e And a credit note: EC goods -\u003e Given VAT settings: Invoice basis, FRS, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/ec_goods.feature","line_number":34,"run_time":0.020181471,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/ec_goods.feature[1:11:1]","description":"Given a uk sole trader -\u003e And a credit note: EC goods -\u003e Given VAT settings: Invoice basis, FRS, then Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"EC Goods Invoice VAT at FRS rate Given a uk sole trader -\u003e And a credit note: EC goods -\u003e Given VAT settings: Invoice basis, FRS, then Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/ec_goods.feature","line_number":34,"run_time":0.015511434,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/ec_goods.feature[1:12:1]","description":"Given a uk sole trader -\u003e And a credit note: EC goods -\u003e Given VAT settings: Invoice basis, FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"EC Goods Invoice VAT at FRS rate Given a uk sole trader -\u003e And a credit note: EC goods -\u003e Given VAT settings: Invoice basis, FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/ec_goods.feature","line_number":34,"run_time":0.016392744,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/ec_goods.feature[1:13:1]","description":"Given a uk sole trader -\u003e And a credit note: EC goods -\u003e Given VAT settings: Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"EC Goods Invoice VAT at FRS rate Given a uk sole trader -\u003e And a credit note: EC goods -\u003e Given VAT settings: Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/ec_goods.feature","line_number":34,"run_time":0.016292543,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/ec_goods.feature[1:14:1]","description":"Given a uk sole trader -\u003e And a credit note: EC goods -\u003e Given VAT settings: Cash basis, FRS, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"EC Goods Invoice VAT at FRS rate Given a uk sole trader -\u003e And a credit note: EC goods -\u003e Given VAT settings: Cash basis, FRS, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/ec_goods.feature","line_number":34,"run_time":0.019937446,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/ec_goods.feature[1:15:1]","description":"Given a uk sole trader -\u003e And a credit note: EC goods -\u003e Given VAT settings: Cash basis, FRS, then Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"EC Goods Invoice VAT at FRS rate Given a uk sole trader -\u003e And a credit note: EC goods -\u003e Given VAT settings: Cash basis, FRS, then Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/ec_goods.feature","line_number":34,"run_time":0.016806941,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/ec_goods.feature[1:16:1]","description":"Given a uk sole trader -\u003e And a credit note: EC goods -\u003e Given VAT settings: Cash basis, FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"EC Goods Invoice VAT at FRS rate Given a uk sole trader -\u003e And a credit note: EC goods -\u003e Given VAT settings: Cash basis, FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/ec_goods.feature","line_number":34,"run_time":0.017364897,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_service_seeder_spec.rb[1:1:1]","description":"updates an existing BankService","full_description":"Seeds::BankServiceSeeder.create updates an existing BankService","status":"passed","file_path":"./spec/tools/company_seeder/bank_service_seeder_spec.rb","line_number":37,"run_time":0.023013743,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_service_seeder_spec.rb[1:1:2:1]","description":"creates a BankService with the yodlee attributes","full_description":"Seeds::BankServiceSeeder.create yodlee creates a BankService with the yodlee attributes","status":"passed","file_path":"./spec/tools/company_seeder/bank_service_seeder_spec.rb","line_number":62,"run_time":0.010843831,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_service_seeder_spec.rb[1:1:2:2]","description":"creates a BankService with Yodlee Name","full_description":"Seeds::BankServiceSeeder.create yodlee creates a BankService with Yodlee Name","status":"passed","file_path":"./spec/tools/company_seeder/bank_service_seeder_spec.rb","line_number":74,"run_time":0.008903704,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_service_seeder_spec.rb[1:1:2:3]","description":"creates a BankService not available for open banking","full_description":"Seeds::BankServiceSeeder.create yodlee creates a BankService not available for open banking","status":"passed","file_path":"./spec/tools/company_seeder/bank_service_seeder_spec.rb","line_number":86,"run_time":0.007972357,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_service_seeder_spec.rb[1:1:3:1]","description":"creates a OpenBanking Provider","full_description":"Seeds::BankServiceSeeder.create open banking creates a OpenBanking Provider","status":"passed","file_path":"./spec/tools/company_seeder/bank_service_seeder_spec.rb","line_number":106,"run_time":0.019850163,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_service_seeder_spec.rb[1:1:3:2]","description":"creates a new OpenBanking Provider Configuration","full_description":"Seeds::BankServiceSeeder.create open banking creates a new OpenBanking Provider Configuration","status":"passed","file_path":"./spec/tools/company_seeder/bank_service_seeder_spec.rb","line_number":110,"run_time":0.021282734,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_service_seeder_spec.rb[1:1:3:3]","description":"creates a OpenBanking Provider Configuration with the given attributes","full_description":"Seeds::BankServiceSeeder.create open banking creates a OpenBanking Provider Configuration with the given attributes","status":"passed","file_path":"./spec/tools/company_seeder/bank_service_seeder_spec.rb","line_number":114,"run_time":0.022264963,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_service_seeder_spec.rb[1:1:3:4]","description":"updates OpenBanking Provider with the log_name, BankService and Configuration","full_description":"Seeds::BankServiceSeeder.create open banking updates OpenBanking Provider with the log_name, BankService and Configuration","status":"passed","file_path":"./spec/tools/company_seeder/bank_service_seeder_spec.rb","line_number":121,"run_time":0.038296805,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_service_seeder_spec.rb[1:1:3:5]","description":"assigns the correct BankInstitution to the bank service","full_description":"Seeds::BankServiceSeeder.create open banking assigns the correct BankInstitution to the bank service","status":"passed","file_path":"./spec/tools/company_seeder/bank_service_seeder_spec.rb","line_number":129,"run_time":0.021658904,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_service_seeder_spec.rb[1:1:4:1]","description":"is expected to eq \"Mettle\"","full_description":"Seeds::BankServiceSeeder.create api is expected to eq \"Mettle\"","status":"passed","file_path":"./spec/tools/company_seeder/bank_service_seeder_spec.rb","line_number":148,"run_time":0.012595173,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_service_seeder_spec.rb[1:1:4:2]","description":"is expected to eq \"Mettle\"","full_description":"Seeds::BankServiceSeeder.create api is expected to eq \"Mettle\"","status":"passed","file_path":"./spec/tools/company_seeder/bank_service_seeder_spec.rb","line_number":149,"run_time":0.012910312,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_service_seeder_spec.rb[1:1:4:3]","description":"is expected to eq BankFeeds::ApiProvider","full_description":"Seeds::BankServiceSeeder.create api is expected to eq BankFeeds::ApiProvider","status":"passed","file_path":"./spec/tools/company_seeder/bank_service_seeder_spec.rb","line_number":150,"run_time":0.012457348,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_service_seeder_spec.rb[1:1:5:1]","description":"creates a new OpenBanking Provider Configuration","full_description":"Seeds::BankServiceSeeder.create Bank Service with Balance at Bank creates a new OpenBanking Provider Configuration","status":"passed","file_path":"./spec/tools/company_seeder/bank_service_seeder_spec.rb","line_number":180,"run_time":0.029406013,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/bank_service_seeder_spec.rb[1:1:5:2]","description":"sets the balance at bank flag to true","full_description":"Seeds::BankServiceSeeder.create Bank Service with Balance at Bank sets the balance at bank flag to true","status":"passed","file_path":"./spec/tools/company_seeder/bank_service_seeder_spec.rb","line_number":185,"run_time":0.016714822,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_installment_spec.rb[1:1]","description":"is expected to belong to subscription required: false","full_description":"CompanyDigestInstallment is expected to belong to subscription required: false","status":"passed","file_path":"./spec/models/company_digest_installment_spec.rb","line_number":4,"run_time":0.011167235,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_installment_spec.rb[1:2]","description":"is expected to belong to user required: false","full_description":"CompanyDigestInstallment is expected to belong to user required: false","status":"passed","file_path":"./spec/models/company_digest_installment_spec.rb","line_number":5,"run_time":0.004069531,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_installment_spec.rb[1:3]","description":"is expected to validate that :subscription cannot be empty/falsy","full_description":"CompanyDigestInstallment is expected to validate that :subscription cannot be empty/falsy","status":"passed","file_path":"./spec/models/company_digest_installment_spec.rb","line_number":7,"run_time":0.005514264,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_installment_spec.rb[1:4]","description":"is expected to validate that :user cannot be empty/falsy","full_description":"CompanyDigestInstallment is expected to validate that :user cannot be empty/falsy","status":"passed","file_path":"./spec/models/company_digest_installment_spec.rb","line_number":8,"run_time":0.005434849,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_installment_spec.rb[1:5]","description":"is expected to make subscription_id read-only","full_description":"CompanyDigestInstallment is expected to make subscription_id read-only","status":"passed","file_path":"./spec/models/company_digest_installment_spec.rb","line_number":10,"run_time":0.002631655,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_installment_spec.rb[1:6]","description":"is expected to make user_id read-only","full_description":"CompanyDigestInstallment is expected to make user_id read-only","status":"passed","file_path":"./spec/models/company_digest_installment_spec.rb","line_number":11,"run_time":0.002410198,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_installment_spec.rb[1:7]","description":"is expected to make dated_on read-only","full_description":"CompanyDigestInstallment is expected to make dated_on read-only","status":"passed","file_path":"./spec/models/company_digest_installment_spec.rb","line_number":12,"run_time":0.002193285,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_installment_spec.rb[1:8]","description":"prevents racing worker processes from creating duplicate installments","full_description":"CompanyDigestInstallment prevents racing worker processes from creating duplicate installments","status":"passed","file_path":"./spec/models/company_digest_installment_spec.rb","line_number":14,"run_time":0.081953307,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_installment_spec.rb[1:9:1]","description":"returns false if sent_at is not assigned","full_description":"CompanyDigestInstallment#sent? returns false if sent_at is not assigned","status":"passed","file_path":"./spec/models/company_digest_installment_spec.rb","line_number":28,"run_time":0.003237533,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_installment_spec.rb[1:9:2]","description":"returns true if sent_at is assigned","full_description":"CompanyDigestInstallment#sent? returns true if sent_at is assigned","status":"passed","file_path":"./spec/models/company_digest_installment_spec.rb","line_number":32,"run_time":0.002651963,"pending_message":null,"screenshot":null},{"id":"./spec/models/company_digest_installment_spec.rb[1:10:1]","description":"assigns sent_at","full_description":"CompanyDigestInstallment#mark_as_sent assigns sent_at","status":"passed","file_path":"./spec/models/company_digest_installment_spec.rb","line_number":38,"run_time":0.082471505,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:4:2:1]","description":"representing a balance transfer out","full_description":"UkAccountsMapper UK Accounts Mapper common functionality Bank Account Entries representing a balance transfer out","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":5048,"run_time":0.204021091,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/freeagent_mailer_spec.rb[1:1:1]","description":"sets the mail transport encoding to base64","full_description":"FreeagentMailer transport encoding sets the mail transport encoding to base64","status":"passed","file_path":"./spec/mailers/freeagent_mailer_spec.rb","line_number":25,"run_time":0.010394801,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/freeagent_mailer_spec.rb[1:2:1]","description":"sets delivery methood accoriding to EmailDeliveryMethods::Selector","full_description":"FreeagentMailer delivery method sets delivery methood accoriding to EmailDeliveryMethods::Selector","status":"passed","file_path":"./spec/mailers/freeagent_mailer_spec.rb","line_number":37,"run_time":0.009643567,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/freeagent_mailer_spec.rb[1:2:2]","description":"invokes selector with correct data","full_description":"FreeagentMailer delivery method invokes selector with correct data","status":"passed","file_path":"./spec/mailers/freeagent_mailer_spec.rb","line_number":41,"run_time":0.011261434,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/freeagent_mailer_spec.rb[1:2:3]","description":"allows delivery method forcing","full_description":"FreeagentMailer delivery method allows delivery method forcing","status":"passed","file_path":"./spec/mailers/freeagent_mailer_spec.rb","line_number":50,"run_time":0.009434841,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/freeagent_mailer_spec.rb[1:3:1:1:1]","description":"rescues the exception","full_description":"FreeagentMailer error handling handling InactiveRecipientError with @email_model present rescues the exception","status":"passed","file_path":"./spec/mailers/freeagent_mailer_spec.rb","line_number":74,"run_time":0.009938537,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/freeagent_mailer_spec.rb[1:3:1:1:2]","description":"marks email model as hard bounced","full_description":"FreeagentMailer error handling handling InactiveRecipientError with @email_model present marks email model as hard bounced","status":"passed","file_path":"./spec/mailers/freeagent_mailer_spec.rb","line_number":78,"run_time":0.009949347,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/freeagent_mailer_spec.rb[1:3:1:1:3]","description":"logs a MAILER_INACTIVE_RECIPIENT event with email_id and exception","full_description":"FreeagentMailer error handling handling InactiveRecipientError with @email_model present logs a MAILER_INACTIVE_RECIPIENT event with email_id and exception","status":"passed","file_path":"./spec/mailers/freeagent_mailer_spec.rb","line_number":83,"run_time":0.009968063,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/freeagent_mailer_spec.rb[1:3:1:2:1]","description":"rescues the exception","full_description":"FreeagentMailer error handling handling InactiveRecipientError without @email_model present rescues the exception","status":"passed","file_path":"./spec/mailers/freeagent_mailer_spec.rb","line_number":103,"run_time":0.009581282,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/freeagent_mailer_spec.rb[1:3:1:2:2]","description":"logs a MAILER_INACTIVE_RECIPIENT event with exception","full_description":"FreeagentMailer error handling handling InactiveRecipientError without @email_model present logs a MAILER_INACTIVE_RECIPIENT event with exception","status":"passed","file_path":"./spec/mailers/freeagent_mailer_spec.rb","line_number":107,"run_time":0.009586483,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/freeagent_mailer_spec.rb[1:3:2:1:1]","description":"re-raises the exception","full_description":"FreeagentMailer error handling handling UnverifiedDomainError when sending failed for our branded domain re-raises the exception","status":"passed","file_path":"./spec/mailers/freeagent_mailer_spec.rb","line_number":131,"run_time":0.010415993,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/freeagent_mailer_spec.rb[1:3:2:2:1:1]","description":"aborts the delivery","full_description":"FreeagentMailer error handling handling UnverifiedDomainError when sending from custom domain when the domain is not verified in the system aborts the delivery","status":"passed","file_path":"./spec/mailers/freeagent_mailer_spec.rb","line_number":149,"run_time":0.011166186,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/freeagent_mailer_spec.rb[1:3:2:2:2:1]","description":"retries delivery with unverified domain","full_description":"FreeagentMailer error handling handling UnverifiedDomainError when sending from custom domain when the domain is verified in the system retries delivery with unverified domain","status":"passed","file_path":"./spec/mailers/freeagent_mailer_spec.rb","line_number":157,"run_time":0.015523308,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/freeagent_mailer_spec.rb[1:3:3:1]","description":"re-raises exception","full_description":"FreeagentMailer error handling handling DeliveryError re-raises exception","status":"passed","file_path":"./spec/mailers/freeagent_mailer_spec.rb","line_number":168,"run_time":0.010265434,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/freeagent_mailer_spec.rb[1:3:3:2:1]","description":"logs a MAILER_DELIVERY_ERROR event with email_id and exception","full_description":"FreeagentMailer error handling handling DeliveryError with @email_model present logs a MAILER_DELIVERY_ERROR event with email_id and exception","status":"passed","file_path":"./spec/mailers/freeagent_mailer_spec.rb","line_number":175,"run_time":0.01038967,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/freeagent_mailer_spec.rb[1:3:3:3:1]","description":"logs a MAILER_DELIVERY_ERROR event with exception","full_description":"FreeagentMailer error handling handling DeliveryError without @email_model present logs a MAILER_DELIVERY_ERROR event with exception","status":"passed","file_path":"./spec/mailers/freeagent_mailer_spec.rb","line_number":192,"run_time":0.009649026,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[20:2]","description":"does not show the totals when viewing all invoices","full_description":"InvoicesController A draft foreign currency invoice does not show the totals when viewing all invoices","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":2230,"run_time":0.304080091,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/invoices/foreign_currency_vat_part_paid.feature[1:1:1]","description":"Given a uk sole trader -\u003e And exchange rates are setup -\u003e And a foreign currency invoice: part paid, with VAT -\u003e Given VAT settings: Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Part Paid Foreign Currency VAT Invoice VAT due Given a uk sole trader -\u003e And exchange rates are setup -\u003e And a foreign currency invoice: part paid, with VAT -\u003e Given VAT settings: Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/invoices/foreign_currency_vat_part_paid.feature","line_number":14,"run_time":0.091222153,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/invoices/foreign_currency_vat_part_paid.feature[1:2:1]","description":"Given a uk sole trader -\u003e And exchange rates are setup -\u003e And a foreign currency invoice: part paid, with VAT -\u003e Given VAT settings: Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Part Paid Foreign Currency VAT Invoice VAT on payment Given a uk sole trader -\u003e And exchange rates are setup -\u003e And a foreign currency invoice: part paid, with VAT -\u003e Given VAT settings: Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/invoices/foreign_currency_vat_part_paid.feature","line_number":73,"run_time":0.05847431,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/invoices/foreign_currency_vat_part_paid.feature[1:3:1]","description":"Given a uk sole trader -\u003e And exchange rates are setup -\u003e And a foreign currency invoice: part paid, with VAT -\u003e Given VAT settings: Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Part Paid Foreign Currency VAT Invoice VAT due at 11.5% FRS rate Given a uk sole trader -\u003e And exchange rates are setup -\u003e And a foreign currency invoice: part paid, with VAT -\u003e Given VAT settings: Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/invoices/foreign_currency_vat_part_paid.feature","line_number":136,"run_time":0.063395882,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/invoices/foreign_currency_vat_part_paid.feature[1:4:1]","description":"Given a uk sole trader -\u003e And exchange rates are setup -\u003e And a foreign currency invoice: part paid, with VAT -\u003e Given VAT settings: Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Part Paid Foreign Currency VAT Invoice FRS VAT on payment Given a uk sole trader -\u003e And exchange rates are setup -\u003e And a foreign currency invoice: part paid, with VAT -\u003e Given VAT settings: Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/invoices/foreign_currency_vat_part_paid.feature","line_number":197,"run_time":0.056204139,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/banking/accounts_integration_spec.rb[1:1:1]","description":"responds with the company's accounts when a user has the right permission level","full_description":"Api::Banking::AccountsController GET /banking/accounts responds with the company's accounts when a user has the right permission level","status":"passed","file_path":"./spec/requests/api/banking/accounts_integration_spec.rb","line_number":25,"run_time":0.172526897,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/banking/accounts_integration_spec.rb[1:1:2]","description":"rejects the request when the user has a lower permission level","full_description":"Api::Banking::AccountsController GET /banking/accounts rejects the request when the user has a lower permission level","status":"passed","file_path":"./spec/requests/api/banking/accounts_integration_spec.rb","line_number":36,"run_time":0.072213553,"pending_message":null,"screenshot":null}],"summary":{"duration":2.133096998,"example_count":534,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"534 examples, 0 failures"}