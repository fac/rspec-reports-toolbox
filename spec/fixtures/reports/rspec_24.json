{"version":"3.11.0","messages":["Run options:\n  include {:ids=\u003e{\"./spec/controllers/invoices_controller_spec.rb\"=\u003e[\"4:11\"]}}\n  exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/features/accounting/audit_trail_report_spec.rb[1:1:1]","description":"User can see their audits for their company and view a full history for each item","full_description":"Audit Trail Report Audit trail report view User can see their audits for their company and view a full history for each item","status":"passed","file_path":"./spec/features/accounting/audit_trail_report_spec.rb","line_number":52,"run_time":16.171779316,"pending_message":null,"screenshot":null},{"id":"./spec/features/accounting/audit_trail_report_spec.rb[1:1:2]","description":"User can search and filter their results","full_description":"Audit Trail Report Audit trail report view User can search and filter their results","status":"passed","file_path":"./spec/features/accounting/audit_trail_report_spec.rb","line_number":93,"run_time":6.991132335,"pending_message":null,"screenshot":null},{"id":"./spec/features/accounting/audit_trail_report_spec.rb[1:1:3]","description":"Search, filters, and per_page are preserved when User changes sort order","full_description":"Audit Trail Report Audit trail report view Search, filters, and per_page are preserved when User changes sort order","status":"passed","file_path":"./spec/features/accounting/audit_trail_report_spec.rb","line_number":138,"run_time":1.409670487,"pending_message":null,"screenshot":null},{"id":"./spec/features/accounting/audit_trail_report_spec.rb[1:1:4]","description":"Search and filters are preserved when User changes number of audit entries per page","full_description":"Audit Trail Report Audit trail report view Search and filters are preserved when User changes number of audit entries per page","status":"passed","file_path":"./spec/features/accounting/audit_trail_report_spec.rb","line_number":165,"run_time":1.420197768,"pending_message":null,"screenshot":null},{"id":"./spec/features/accounting/audit_trail_report_spec.rb[1:1:5]","description":"Sort order, direction, and per_page are preserved when User changes search query or filters","full_description":"Audit Trail Report Audit trail report view Sort order, direction, and per_page are preserved when User changes search query or filters","status":"passed","file_path":"./spec/features/accounting/audit_trail_report_spec.rb","line_number":201,"run_time":1.636852436,"pending_message":null,"screenshot":null},{"id":"./spec/features/accounting/audit_trail_report_spec.rb[1:1:6]","description":"Google Analytics events are tracked for any configured filters","full_description":"Audit Trail Report Audit trail report view Google Analytics events are tracked for any configured filters","status":"passed","file_path":"./spec/features/accounting/audit_trail_report_spec.rb","line_number":238,"run_time":0.963044248,"pending_message":null,"screenshot":null},{"id":"./spec/features/accounting/audit_trail_report_spec.rb[1:1:7]","description":"User sees empty report message when there are no audit entries recorded in their account","full_description":"Audit Trail Report Audit trail report view User sees empty report message when there are no audit entries recorded in their account","status":"passed","file_path":"./spec/features/accounting/audit_trail_report_spec.rb","line_number":268,"run_time":0.900800049,"pending_message":null,"screenshot":null},{"id":"./spec/features/accounting/audit_trail_report_spec.rb[1:1:8]","description":"User sees no results message when there are no results when filtering/searching","full_description":"Audit Trail Report Audit trail report view User sees no results message when there are no results when filtering/searching","status":"passed","file_path":"./spec/features/accounting/audit_trail_report_spec.rb","line_number":277,"run_time":1.610532256,"pending_message":null,"screenshot":null},{"id":"./spec/features/accounting/audit_trail_report_spec.rb[1:1:9:1]","description":"Unavailable warning message is displayed","full_description":"Audit Trail Report Audit trail report view audit_trail_search feature flag is disabled Unavailable warning message is displayed","status":"passed","file_path":"./spec/features/accounting/audit_trail_report_spec.rb","line_number":293,"run_time":1.374880888,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:1:1]","description":"gets recent","full_description":"ExpensesController for a uk company GET :index gets recent","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":24,"run_time":0.683386583,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:1:2]","description":"gets upcoming","full_description":"ExpensesController for a uk company GET :index gets upcoming","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":30,"run_time":0.289116481,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:1:3]","description":"redirects if user is not found","full_description":"ExpensesController for a uk company GET :index redirects if user is not found","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":37,"run_time":0.092147953,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:1:4]","description":"redirects if selected user is outside company","full_description":"ExpensesController for a uk company GET :index redirects if selected user is outside company","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":42,"run_time":0.229007669,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:1:5]","description":"shows unauthorized page if selected user is within company but user does not have permission","full_description":"ExpensesController for a uk company GET :index shows unauthorized page if selected user is within company but user does not have permission","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":48,"run_time":0.175779599,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:1:6]","description":"allows access if current user is account manager","full_description":"ExpensesController for a uk company GET :index allows access if current user is account manager","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":55,"run_time":0.392296362,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:1:7]","description":"gets recent not setup","full_description":"ExpensesController for a uk company GET :index gets recent not setup","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":62,"run_time":0.112662282,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:1:8]","description":"gets recent balances","full_description":"ExpensesController for a uk company GET :index gets recent balances","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":70,"run_time":0.807189842,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:1:9]","description":"shows recent from index","full_description":"ExpensesController for a uk company GET :index shows recent from index","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":112,"run_time":0.220522348,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:1:10]","description":"shows all expenses from index if previous visited all expenses","full_description":"ExpensesController for a uk company GET :index shows all expenses from index if previous visited all expenses","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":117,"run_time":0.239244002,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:1:11]","description":"persists per_page param into the cookie","full_description":"ExpensesController for a uk company GET :index persists per_page param into the cookie","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":123,"run_time":0.263455984,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:1:12]","description":"gets recent no expense transactions","full_description":"ExpensesController for a uk company GET :index gets recent no expense transactions","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":130,"run_time":0.226513056,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:1:13]","description":"gets the current tax year list","full_description":"ExpensesController for a uk company GET :index gets the current tax year list","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":138,"run_time":0.23954887,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:1:14]","description":"gets tax year list of 2007","full_description":"ExpensesController for a uk company GET :index gets tax year list of 2007","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":144,"run_time":0.246900027,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:1:15]","description":"gets recurring","full_description":"ExpensesController for a uk company GET :index gets recurring","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":150,"run_time":0.353610561,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:1:16]","description":"redirects to view all when there is no latest import","full_description":"ExpensesController for a uk company GET :index redirects to view all when there is no latest import","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":164,"run_time":0.117347426,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:1:17:1]","description":"shows the last imported transactions","full_description":"ExpensesController for a uk company GET :index when there is a latest import shows the last imported transactions","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":177,"run_time":0.822250828,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:1:18:1]","description":"renders on the index page as 0.555","full_description":"ExpensesController for a uk company GET :index A universal mileage with reclaim mileage rate of 0.555 renders on the index page as 0.555","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":198,"run_time":0.318560767,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:1:19:1:1:1]","description":"displays the name of the category in the bills table cell for the bill","full_description":"ExpensesController for a uk company GET :index When logged into a company with categories with an existing expense in a category getting :index displays the name of the category in the bills table cell for the bill","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":218,"run_time":0.246312409,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:1:20:1:1]","description":"does not allow reordering of the expense list","full_description":"ExpensesController for a uk company GET :index ordering expenses when not viewing all expenses does not allow reordering of the expense list","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":232,"run_time":0.310990045,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:1:20:1:2]","description":"ignores any ordering params in the URL","full_description":"ExpensesController for a uk company GET :index ordering expenses when not viewing all expenses ignores any ordering params in the URL","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":237,"run_time":0.306948882,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:1:20:2:1]","description":"allows reordering of the expense list","full_description":"ExpensesController for a uk company GET :index ordering expenses when viewing all expenses allows reordering of the expense list","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":244,"run_time":0.304275139,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:1:20:2:2]","description":"orders by dated_on, ascending by default","full_description":"ExpensesController for a uk company GET :index ordering expenses when viewing all expenses orders by dated_on, ascending by default","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":249,"run_time":0.340241366,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:1:20:2:3]","description":"orders by description","full_description":"ExpensesController for a uk company GET :index ordering expenses when viewing all expenses orders by description","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":254,"run_time":0.305939389,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:1:20:2:4]","description":"orders by gross_value","full_description":"ExpensesController for a uk company GET :index ordering expenses when viewing all expenses orders by gross_value","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":259,"run_time":0.340800329,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:1:21:1]","description":"renders the landing zone","full_description":"ExpensesController for a uk company GET :index with a landing zone renders the landing zone","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":269,"run_time":0.203951495,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:2:1]","description":"shows redirect to edit","full_description":"ExpensesController for a uk company GET :show shows redirect to edit","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":278,"run_time":0.105872303,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:3:1]","description":"gets edit","full_description":"ExpensesController for a uk company GET :edit gets edit","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":285,"run_time":0.257304994,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:3:2]","description":"gets locked edit because rebilled","full_description":"ExpensesController for a uk company GET :edit gets locked edit because rebilled","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":290,"run_time":0.441257595,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:3:3]","description":"gets locked edit mileage because rebilled","full_description":"ExpensesController for a uk company GET :edit gets locked edit mileage because rebilled","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":305,"run_time":0.399289487,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:3:4:1]","description":"still displays the EC Status of an expense even if the EC VAT Reporting option has been turned off","full_description":"ExpensesController for a uk company GET :edit The Edit Expense form for a VAT registered UK company still displays the EC Status of an expense even if the EC VAT Reporting option has been turned off","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":323,"run_time":0.276951922,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:3:5:1]","description":"renders on the edit form as 40","full_description":"ExpensesController for a uk company GET :edit A mileage expense of 40 miles renders on the edit form as 40","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":333,"run_time":0.188560863,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:3:6:1]","description":"renders on the edit form as 37.5","full_description":"ExpensesController for a uk company GET :edit A mileage expense of 37.5 miles renders on the edit form as 37.5","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":342,"run_time":0.215444578,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:3:7:1]","description":"formats the quantity nicely when edited","full_description":"ExpensesController for a uk company GET :edit Editing a stock sale expense with stock details formats the quantity nicely when edited","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":353,"run_time":0.306055219,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:3:8:1]","description":"renders on the edit form as 0.555","full_description":"ExpensesController for a uk company GET :edit A universal mileage with reclaim mileage rate of 0.555 renders on the edit form as 0.555","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":369,"run_time":0.255798019,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:1]","description":"creates an expense","full_description":"ExpensesController for a uk company POST :create creates an expense","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":379,"run_time":0.15648802,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:2]","description":"creates an expense audit entry","full_description":"ExpensesController for a uk company POST :create creates an expense audit entry","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":400,"run_time":0.152009485,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:5]","description":"creates an expense and adds another","full_description":"ExpensesController for a uk company POST :create creates an expense and adds another","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":519,"run_time":0.217653352,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:6]","description":"creates mileage and add another mileage claim","full_description":"ExpensesController for a uk company POST :create creates mileage and add another mileage claim","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":542,"run_time":0.167316826,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:7]","description":"creates mileage with invalid date","full_description":"ExpensesController for a uk company POST :create creates mileage with invalid date","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":565,"run_time":0.201982144,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:8]","description":"ignores 'Reclaim VAT on Mileage' for bicycles","full_description":"ExpensesController for a uk company POST :create ignores 'Reclaim VAT on Mileage' for bicycles","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":583,"run_time":0.150975555,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:9]","description":"creates an expense using auto vat","full_description":"ExpensesController for a uk company POST :create creates an expense using auto vat","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":599,"run_time":0.346862803,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:10]","description":"handles nil gross value when creating","full_description":"ExpensesController for a uk company POST :create handles nil gross value when creating","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":641,"run_time":0.221836275,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:11]","description":"handles blank reclaimable_sales_tax_amount amount when creating a foreign expense","full_description":"ExpensesController for a uk company POST :create handles blank reclaimable_sales_tax_amount amount when creating a foreign expense","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":658,"run_time":0.238541777,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:12]","description":"creates mileage if no mileage entered","full_description":"ExpensesController for a uk company POST :create creates mileage if no mileage entered","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":679,"run_time":0.171019774,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:13]","description":"does not create mileage if no mileage_entered","full_description":"ExpensesController for a uk company POST :create does not create mileage if no mileage_entered","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":696,"run_time":0.191197047,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:14]","description":"creates mileage correctly for universal company","full_description":"ExpensesController for a uk company POST :create creates mileage correctly for universal company","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":712,"run_time":0.264440761,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:15]","description":"recalculates mileage apportionment","full_description":"ExpensesController for a uk company POST :create recalculates mileage apportionment","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":735,"run_time":0.784803285,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:17]","description":"is not able to create an expense for a user belonging to another company","full_description":"ExpensesController for a uk company POST :create is not able to create an expense for a user belonging to another company","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":853,"run_time":0.563036458,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:24]","description":"tracks the event","full_description":"ExpensesController for a uk company POST :create tracks the event","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1113,"run_time":0.480256981,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:25]","description":"marks the :add_expense Flying Start task as completed","full_description":"ExpensesController for a uk company POST :create marks the :add_expense Flying Start task as completed","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1120,"run_time":0.164227161,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:3:1]","description":"is able to create expense for another user","full_description":"ExpensesController for a uk company POST :create with permission is able to create expense for another user","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":426,"run_time":0.178215883,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:3:2]","description":"audits as being created by the correct user","full_description":"ExpensesController for a uk company POST :create with permission audits as being created by the correct user","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":444,"run_time":0.208775263,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:4:1]","description":"is able to create expense for themselves","full_description":"ExpensesController for a uk company POST :create without permission is able to create expense for themselves","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":476,"run_time":0.180118367,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:4:2]","description":"fails to create expense for another user, instead creating it for themself","full_description":"ExpensesController for a uk company POST :create without permission fails to create expense for another user, instead creating it for themself","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":494,"run_time":0.191770491,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:16:1]","description":"does not recalculate smart user payment","full_description":"ExpensesController for a uk company POST :create with a smart user payment does not recalculate smart user payment","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":803,"run_time":0.43006914,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:16:2]","description":"does not recalculate earlier smart user payment","full_description":"ExpensesController for a uk company POST :create with a smart user payment does not recalculate earlier smart user payment","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":827,"run_time":0.393380022,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:18:1]","description":"handles a delimiter (,) in the mileage","full_description":"ExpensesController for a uk company POST :create Creating a new mileage entry handles a delimiter (,) in the mileage","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":870,"run_time":0.290543336,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:18:2]","description":"handles a request which takes the total over the mileage limit","full_description":"ExpensesController for a uk company POST :create Creating a new mileage entry handles a request which takes the total over the mileage limit","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":885,"run_time":0.248164824,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:18:4]","description":"tracks the event","full_description":"ExpensesController for a uk company POST :create Creating a new mileage entry tracks the event","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":931,"run_time":0.243706071,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:18:3:1]","description":"sets the expense's engine_type_index to 1 (for Diesel)","full_description":"ExpensesController for a uk company POST :create Creating a new mileage entry with an engine_type_and_size index of 5 (Diesel \u003e2000cc) sets the expense's engine_type_index to 1 (for Diesel)","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":920,"run_time":0.264302389,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:18:3:2]","description":"sets the expense's engine_size_index to 2 (over 2000cc)","full_description":"ExpensesController for a uk company POST :create Creating a new mileage entry with an engine_type_and_size index of 5 (Diesel \u003e2000cc) sets the expense's engine_size_index to 2 (over 2000cc)","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":924,"run_time":0.246893143,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:18:3:3]","description":"is expected to redirect to \"/users/590306657/expenses\"","full_description":"ExpensesController for a uk company POST :create Creating a new mileage entry with an engine_type_and_size index of 5 (Diesel \u003e2000cc) is expected to redirect to \"/users/590306657/expenses\"","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":928,"run_time":0.221237251,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:19:3]","description":"tracks the event","full_description":"ExpensesController for a uk company POST :create foreign currency expenses tracks the event","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1007,"run_time":0.200163684,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:19:1:1]","description":"creates a foreign currency expense","full_description":"ExpensesController for a uk company POST :create foreign currency expenses creating an expense with automatic currency conversion creates a foreign currency expense","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":968,"run_time":0.161774867,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:19:1:2]","description":"records the foreign value as entered","full_description":"ExpensesController for a uk company POST :create foreign currency expenses creating an expense with automatic currency conversion records the foreign value as entered","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":972,"run_time":0.181332629,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:19:1:3]","description":"applies automatic currency conversion","full_description":"ExpensesController for a uk company POST :create foreign currency expenses creating an expense with automatic currency conversion applies automatic currency conversion","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":976,"run_time":0.160913468,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:19:2:1]","description":"creates a foreign currency expense","full_description":"ExpensesController for a uk company POST :create foreign currency expenses creating an expense with manual currency conversion creates a foreign currency expense","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":994,"run_time":0.163354277,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:19:2:2]","description":"records the foreign value as entered","full_description":"ExpensesController for a uk company POST :create foreign currency expenses creating an expense with manual currency conversion records the foreign value as entered","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":998,"run_time":0.156935195,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:19:2:3]","description":"does not apply automatic currency conversion","full_description":"ExpensesController for a uk company POST :create foreign currency expenses creating an expense with manual currency conversion does not apply automatic currency conversion","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1002,"run_time":0.156238793,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:20:1]","description":"correctly sets the ec status","full_description":"ExpensesController for a uk company POST :create Creating an expense with the EC Status set to EC Goods correctly sets the ec status","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1024,"run_time":0.170313237,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:21:1:1]","description":"is successful","full_description":"ExpensesController for a uk company POST :create Creating a new stock sale expense including a stock item is successful","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1054,"run_time":0.230968665,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:21:2:1]","description":"only returns a validation error for the stock item missing","full_description":"ExpensesController for a uk company POST :create Creating a new stock sale expense without including a stock item only returns a validation error for the stock item missing","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1074,"run_time":0.245055826,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:22:1:1]","description":"creates an expense in that account","full_description":"ExpensesController for a uk company POST :create When logged into a company with categories posting an expense with a nominal code creates an expense in that account","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1094,"run_time":0.159382217,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:23:1]","description":"expenses a capital asset","full_description":"ExpensesController for a uk company POST :create posting a nominal code for ExpenseConstants::PURCHASE_OF_FIXTURES_AND_FITTINGS expenses a capital asset","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1108,"run_time":0.193652903,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:26:1:1]","description":"creates an expense with attachment","full_description":"ExpensesController for a uk company POST :create expenses with attachments uploading a file creates an expense with attachment","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1127,"run_time":0.189771429,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:26:1:2]","description":"publishes an event","full_description":"ExpensesController for a uk company POST :create expenses with attachments uploading a file publishes an event","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1141,"run_time":0.230663406,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:26:1:3]","description":"is not able to create an attachment for another company","full_description":"ExpensesController for a uk company POST :create expenses with attachments uploading a file is not able to create an attachment for another company","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1147,"run_time":0.307321078,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:26:1:4:1]","description":"creates an expense without attachment","full_description":"ExpensesController for a uk company POST :create expenses with attachments uploading a file with no file uploaded creates an expense without attachment","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1167,"run_time":0.14201969,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:26:2:1:1]","description":"creates a new expense with valid attachment","full_description":"ExpensesController for a uk company POST :create expenses with attachments attaching file from files area for an available file creates a new expense with valid attachment","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1204,"run_time":0.326670237,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:26:2:1:2]","description":"sets the attachment description","full_description":"ExpensesController for a uk company POST :create expenses with attachments attaching file from files area for an available file sets the attachment description","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1213,"run_time":0.368025525,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:26:2:1:3]","description":"removes file from files area","full_description":"ExpensesController for a uk company POST :create expenses with attachments attaching file from files area for an available file removes file from files area","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1219,"run_time":0.352982368,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:26:2:1:4]","description":"redirects to the user expenses page","full_description":"ExpensesController for a uk company POST :create expenses with attachments attaching file from files area for an available file redirects to the user expenses page","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1226,"run_time":0.343944959,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:26:2:1:5]","description":"publishes an event when it creates an expense with an attachment from files area","full_description":"ExpensesController for a uk company POST :create expenses with attachments attaching file from files area for an available file publishes an event when it creates an expense with an attachment from files area","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1232,"run_time":0.323064287,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:26:2:1:6:1]","description":"displays an error message","full_description":"ExpensesController for a uk company POST :create expenses with attachments attaching file from files area for an available file and invalid params displays an error message","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1252,"run_time":0.35049025,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:26:2:1:6:2]","description":"does not remove the file from the files area","full_description":"ExpensesController for a uk company POST :create expenses with attachments attaching file from files area for an available file and invalid params does not remove the file from the files area","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1263,"run_time":0.339823097,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:26:2:1:6:3]","description":"persists attachment information","full_description":"ExpensesController for a uk company POST :create expenses with attachments attaching file from files area for an available file and invalid params persists attachment information","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1269,"run_time":0.320977048,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:26:2:2:1]","description":"displays an error to the user","full_description":"ExpensesController for a uk company POST :create expenses with attachments attaching file from files area for a file that doesn't belong to user and company displays an error to the user","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1282,"run_time":0.482520476,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:4:26:2:2:2]","description":"does not remove the document","full_description":"ExpensesController for a uk company POST :create expenses with attachments attaching file from files area for a file that doesn't belong to user and company does not remove the document","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1291,"run_time":0.512510381,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:5:1]","description":"updates expense","full_description":"ExpensesController for a uk company PUT :update updates expense","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1302,"run_time":0.193230623,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:5:2]","description":"updates expense as refund","full_description":"ExpensesController for a uk company PUT :update updates expense as refund","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1314,"run_time":0.174117432,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:5:3]","description":"updates expense with manual sales tax amount","full_description":"ExpensesController for a uk company PUT :update updates expense with manual sales tax amount","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1325,"run_time":0.272339379,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:5:4]","description":"updates expense refund with manual sales tax amount","full_description":"ExpensesController for a uk company PUT :update updates expense refund with manual sales tax amount","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1358,"run_time":0.181166955,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:5:5]","description":"updates expense with manual all sales tax amount","full_description":"ExpensesController for a uk company PUT :update updates expense with manual all sales tax amount","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1377,"run_time":0.215320405,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:5:6]","description":"updates expense refund with manual all sales tax amount","full_description":"ExpensesController for a uk company PUT :update updates expense refund with manual all sales tax amount","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1395,"run_time":0.177662844,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:5:7]","description":"is not able to change the user to one belonging to another company","full_description":"ExpensesController for a uk company PUT :update is not able to change the user to one belonging to another company","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1414,"run_time":0.307197031,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:5:8:1]","description":"results in a valid expense","full_description":"ExpensesController for a uk company PUT :update updating a stock sale expense to expense against a different stock item results in a valid expense","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1457,"run_time":0.340147999,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:5:8:2]","description":"updates the expense correctly","full_description":"ExpensesController for a uk company PUT :update updating a stock sale expense to expense against a different stock item updates the expense correctly","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1461,"run_time":0.349355167,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:5:9:1]","description":"does not raise an error","full_description":"ExpensesController for a uk company PUT :update when updating a capital asset expense to a non-capital asset expense does not raise an error","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1473,"run_time":0.271313551,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:5:10:1:1:1]","description":"reassigns expense category","full_description":"ExpensesController for a uk company PUT :update When logged into a company with categories with an existing expense in a category putting an updated nominal code reassigns expense category","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1507,"run_time":0.218195819,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:5:10:1:2:1]","description":"expenses a capital asset","full_description":"ExpensesController for a uk company PUT :update When logged into a company with categories with an existing expense in a category putting a nominal code for ExpenseConstants::PURCHASE_OF_FIXTURES_AND_FITTINGS expenses a capital asset","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1522,"run_time":0.270742666,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:5:11:1:1]","description":"updates attachment description","full_description":"ExpensesController for a uk company PUT :update expenses with attachments updating an attachment updates attachment description","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1533,"run_time":0.21796839,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:5:11:2:1]","description":"deletes the attachment","full_description":"ExpensesController for a uk company PUT :update expenses with attachments removing an attachment deletes the attachment","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1554,"run_time":0.216479975,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:5:11:3:1:1]","description":"sets the expense's attachment","full_description":"ExpensesController for a uk company PUT :update expenses with attachments replacing an attachment by uploading a file sets the expense's attachment","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1587,"run_time":0.191044795,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:5:11:3:1:2]","description":"publishes an event","full_description":"ExpensesController for a uk company PUT :update expenses with attachments replacing an attachment by uploading a file publishes an event","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1599,"run_time":0.206690239,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:5:11:3:1:3]","description":"is not able to create an attachment for another company","full_description":"ExpensesController for a uk company PUT :update expenses with attachments replacing an attachment by uploading a file is not able to create an attachment for another company","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1605,"run_time":0.273933068,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:5:11:3:1:4:1]","description":"does not add an attachment","full_description":"ExpensesController for a uk company PUT :update expenses with attachments replacing an attachment by uploading a file with no file uploaded does not add an attachment","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1639,"run_time":0.192182961,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:5:11:3:2:1:1]","description":"redirects to the user expenes path","full_description":"ExpensesController for a uk company PUT :update expenses with attachments replacing an attachment by attaching file from files area for an available file redirects to the user expenes path","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1666,"run_time":0.329128117,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:5:11:3:2:1:2]","description":"updates the expense attachment","full_description":"ExpensesController for a uk company PUT :update expenses with attachments replacing an attachment by attaching file from files area for an available file updates the expense attachment","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1672,"run_time":0.330834493,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:5:11:3:2:1:3]","description":"removes file from files area","full_description":"ExpensesController for a uk company PUT :update expenses with attachments replacing an attachment by attaching file from files area for an available file removes file from files area","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1681,"run_time":0.334655967,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:5:11:3:2:1:4]","description":"publishes an event when attaching file from files area","full_description":"ExpensesController for a uk company PUT :update expenses with attachments replacing an attachment by attaching file from files area for an available file publishes an event when attaching file from files area","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1687,"run_time":0.300231968,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:5:11:3:2:2:1]","description":"shows an error to the user","full_description":"ExpensesController for a uk company PUT :update expenses with attachments replacing an attachment by attaching file from files area for a file that doesn't belong to user and company shows an error to the user","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1697,"run_time":0.559900888,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:5:11:3:2:2:2]","description":"does not attach the file to expense","full_description":"ExpensesController for a uk company PUT :update expenses with attachments replacing an attachment by attaching file from files area for a file that doesn't belong to user and company does not attach the file to expense","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1707,"run_time":0.476375445,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:5:11:3:2:2:3]","description":"does not remove the document","full_description":"ExpensesController for a uk company PUT :update expenses with attachments replacing an attachment by attaching file from files area for a file that doesn't belong to user and company does not remove the document","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1714,"run_time":0.266620705,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:5:11:3:2:2:4]","description":"persists attachment information","full_description":"ExpensesController for a uk company PUT :update expenses with attachments replacing an attachment by attaching file from files area for a file that doesn't belong to user and company persists attachment information","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1718,"run_time":0.504546949,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:6:1]","description":"destroys expense","full_description":"ExpensesController for a uk company Delete destroys expense","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1732,"run_time":0.143164612,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:6:2]","description":"tracks the Delete event","full_description":"ExpensesController for a uk company Delete tracks the Delete event","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1739,"run_time":0.139988876,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:6:3:1:1]","description":"deletes the expense and returns the attachment to files","full_description":"ExpensesController for a uk company Delete expense has an attachment attachments should be moved back to files area deletes the expense and returns the attachment to files","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1751,"run_time":0.197597278,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:6:3:2:1]","description":"deletes the expense and attachment","full_description":"ExpensesController for a uk company Delete expense has an attachment attachments should be moved back to files area deletes the expense and attachment","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1763,"run_time":0.172705791,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:1:7:1]","description":"returns unchanged status for sales_tax_rates","full_description":"ExpensesController for a uk company GET :sales_tax_rates returns unchanged status for sales_tax_rates","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1778,"run_time":0.104225676,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:2:1]","description":"gets recent universal","full_description":"ExpensesController for a universal company gets recent universal","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1794,"run_time":0.244809377,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:3:1:1:1:1]","description":"does not allow reordering of the expense list","full_description":"ExpensesController for a UK landlord #index ordering expenses when not viewing all expenses does not allow reordering of the expense list","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1838,"run_time":1.073376174,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:3:1:1:1:2]","description":"ignores any ordering params in the URL","full_description":"ExpensesController for a UK landlord #index ordering expenses when not viewing all expenses ignores any ordering params in the URL","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1843,"run_time":0.383519617,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:3:1:1:2:1]","description":"allows reordering of the expense list","full_description":"ExpensesController for a UK landlord #index ordering expenses when viewing all expenses allows reordering of the expense list","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1852,"run_time":0.383102079,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:3:1:1:2:2]","description":"orders by property_address","full_description":"ExpensesController for a UK landlord #index ordering expenses when viewing all expenses orders by property_address","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1857,"run_time":0.379327941,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:3:2:1:1:1]","description":"allows a property to be created","full_description":"ExpensesController for a UK landlord #create when the company doesn't have any properties when providing property details allows a property to be created","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1876,"run_time":0.180016017,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:3:2:1:2:1]","description":"does not create the expense","full_description":"ExpensesController for a UK landlord #create when the company doesn't have any properties without providing property details does not create the expense","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1882,"run_time":0.251938524,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:3:2:2:1:1]","description":"allows a property to be created","full_description":"ExpensesController for a UK landlord #create when the company has at least one property when providing a property ID allows a property to be created","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1894,"run_time":0.184814389,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:3:2:2:2:1]","description":"does not create the expense","full_description":"ExpensesController for a UK landlord #create when the company has at least one property without providing a property ID does not create the expense","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1900,"run_time":0.258611204,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:3:3:1:1:1:1]","description":"completes the add_property event","full_description":"ExpensesController for a UK landlord flying start event tracking behaves like FlyingStart::TrackAddPropertyCompletion for landlord companies on successful creation completes the add_property event","status":"passed","file_path":"./spec/support/shared_examples/flying_start/track_add_property_completion_examples.rb","line_number":15,"run_time":0.248667952,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:3:3:1:1:2:1]","description":"doesn't complete the add_property event","full_description":"ExpensesController for a UK landlord flying start event tracking behaves like FlyingStart::TrackAddPropertyCompletion for landlord companies on unsuccessful creation doesn't complete the add_property event","status":"passed","file_path":"./spec/support/shared_examples/flying_start/track_add_property_completion_examples.rb","line_number":23,"run_time":0.159370076,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:3:3:1:2:1]","description":"doesn't complete the add_property event","full_description":"ExpensesController for a UK landlord flying start event tracking behaves like FlyingStart::TrackAddPropertyCompletion for non-landlord companies doesn't complete the add_property event","status":"passed","file_path":"./spec/support/shared_examples/flying_start/track_add_property_completion_examples.rb","line_number":34,"run_time":0.124229235,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:3:4:1]","description":"allows the property ID to be updated","full_description":"ExpensesController for a UK landlord #update allows the property ID to be updated","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1932,"run_time":0.296106977,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:4:1:1:1:1]","description":"lets the user view the page","full_description":"ExpensesController behaves like CheckLandlordUserCanCreateProperties for a UK Landlord company the index action for a user with User::TAX_AND_LIMITED_ACCOUNTING permissions or above when there are existing properties lets the user view the page","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":7,"run_time":0.250893251,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:4:1:1:2:1]","description":"lets the user view the page","full_description":"ExpensesController behaves like CheckLandlordUserCanCreateProperties for a UK Landlord company the index action for a user with User::TAX_AND_LIMITED_ACCOUNTING permissions or above when there are no existing properties lets the user view the page","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":7,"run_time":0.267409632,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:4:1:2:1:1]","description":"lets the user view the page","full_description":"ExpensesController behaves like CheckLandlordUserCanCreateProperties for a UK Landlord company the index action for a user with User::BANKING permissions or below when there are existing properties lets the user view the page","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":7,"run_time":0.214297568,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:4:1:2:2:1]","description":"shows the user the access denied page, as they cannot do anything without a property","full_description":"ExpensesController behaves like CheckLandlordUserCanCreateProperties for a UK Landlord company the index action for a user with User::BANKING permissions or below when there are no existing properties shows the user the access denied page, as they cannot do anything without a property","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":57,"run_time":0.198426129,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:4:1:3:1:1]","description":"lets the user view the page","full_description":"ExpensesController behaves like CheckLandlordUserCanCreateProperties for a UK Landlord company the new action for a user with User::TAX_AND_LIMITED_ACCOUNTING permissions or above when there are existing properties lets the user view the page","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":7,"run_time":0.266940496,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:4:1:3:2:1]","description":"lets the user view the page","full_description":"ExpensesController behaves like CheckLandlordUserCanCreateProperties for a UK Landlord company the new action for a user with User::TAX_AND_LIMITED_ACCOUNTING permissions or above when there are no existing properties lets the user view the page","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":7,"run_time":0.290688323,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:4:1:4:1:1]","description":"lets the user view the page","full_description":"ExpensesController behaves like CheckLandlordUserCanCreateProperties for a UK Landlord company the new action for a user with User::BANKING permissions or below when there are existing properties lets the user view the page","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":7,"run_time":0.264000697,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:4:1:4:2:1]","description":"shows the user the access denied page, as they cannot do anything without a property","full_description":"ExpensesController behaves like CheckLandlordUserCanCreateProperties for a UK Landlord company the new action for a user with User::BANKING permissions or below when there are no existing properties shows the user the access denied page, as they cannot do anything without a property","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":57,"run_time":0.188569554,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:4:2:1:1]","description":"lets the user view the page","full_description":"ExpensesController behaves like CheckLandlordUserCanCreateProperties for a non-Landlord company the index action for a user with User::TAX_AND_LIMITED_ACCOUNTING permissions or above lets the user view the page","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":7,"run_time":0.250443748,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:4:2:2:1]","description":"lets the user view the page","full_description":"ExpensesController behaves like CheckLandlordUserCanCreateProperties for a non-Landlord company the index action for a user with User::BANKING permissions or below lets the user view the page","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":7,"run_time":0.221220866,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:4:2:3:1]","description":"lets the user view the page","full_description":"ExpensesController behaves like CheckLandlordUserCanCreateProperties for a non-Landlord company the new action for a user with User::TAX_AND_LIMITED_ACCOUNTING permissions or above lets the user view the page","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":7,"run_time":0.262897098,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:4:2:4:1]","description":"lets the user view the page","full_description":"ExpensesController behaves like CheckLandlordUserCanCreateProperties for a non-Landlord company the new action for a user with User::BANKING permissions or below lets the user view the page","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":7,"run_time":0.247141335,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:5:1:1]","description":"renders the confirmation modal","full_description":"ExpensesController#confirm_delete when the format is JS renders the confirmation modal","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1948,"run_time":0.126111933,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/expenses_controller_spec.rb[1:5:2:1]","description":"returns 406 Unacceptable","full_description":"ExpensesController#confirm_delete when the format is HTML returns 406 Unacceptable","status":"passed","file_path":"./spec/controllers/expenses_controller_spec.rb","line_number":1957,"run_time":0.133637221,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:1:1]","description":"redirects the login a custom login_prompt and after_login_path","full_description":"Api::AppApprovalController GET approve_app redirects the login a custom login_prompt and after_login_path","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":41,"run_time":0.012003753,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:1]","description":"renders the approve app confirmation form","full_description":"Api::AppApprovalController GET new renders the approve app confirmation form","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":70,"run_time":1.079671481,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:2]","description":"shows an error message with an invalid request","full_description":"Api::AppApprovalController GET new shows an error message with an invalid request","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":78,"run_time":0.134700923,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:3]","description":"shows an error message when there's no redirect URI","full_description":"Api::AppApprovalController GET new shows an error message when there's no redirect URI","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":87,"run_time":0.136284661,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:4]","description":"with Dev Dashboard Unavailable","full_description":"Api::AppApprovalController GET new with Dev Dashboard Unavailable","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":97,"run_time":0.137975517,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:5:1:1]","description":"is expected to be successful","full_description":"Api::AppApprovalController GET new for a setup incomplete company as the account owner is expected to be successful","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":118,"run_time":0.142626234,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:5:1:2]","description":"is expected to render template new","full_description":"Api::AppApprovalController GET new for a setup incomplete company as the account owner is expected to render template new","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":119,"run_time":0.133388593,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:5:1:3]","description":"displays instructions for completing setup","full_description":"Api::AppApprovalController GET new for a setup incomplete company as the account owner displays instructions for completing setup","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":121,"run_time":0.116567334,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:5:1:4]","description":"hides the application approval form","full_description":"Api::AppApprovalController GET new for a setup incomplete company as the account owner hides the application approval form","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":126,"run_time":0.129751039,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:5:2:1]","description":"is expected to be successful","full_description":"Api::AppApprovalController GET new for a setup incomplete company as a secondary user is expected to be successful","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":138,"run_time":0.132478556,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:5:2:2]","description":"is expected to render template new","full_description":"Api::AppApprovalController GET new for a setup incomplete company as a secondary user is expected to render template new","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":139,"run_time":0.122396392,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:5:2:3]","description":"is expected to render template api/app_approval/_restricted_user","full_description":"Api::AppApprovalController GET new for a setup incomplete company as a secondary user is expected to render template api/app_approval/_restricted_user","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":140,"run_time":0.139345177,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:5:2:4]","description":"hides the application approval form","full_description":"Api::AppApprovalController GET new for a setup incomplete company as a secondary user hides the application approval form","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":142,"run_time":0.138942639,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:6:1:1]","description":"is expected to be successful","full_description":"Api::AppApprovalController GET new for an unconfirmed company as the account owner is expected to be successful","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":158,"run_time":0.148098764,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:6:1:2]","description":"is expected to render template new","full_description":"Api::AppApprovalController GET new for an unconfirmed company as the account owner is expected to render template new","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":159,"run_time":0.132818813,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:6:1:3]","description":"displays instructions for confirming the account","full_description":"Api::AppApprovalController GET new for an unconfirmed company as the account owner displays instructions for confirming the account","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":161,"run_time":0.123247193,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:6:1:4]","description":"hides the application approval form","full_description":"Api::AppApprovalController GET new for an unconfirmed company as the account owner hides the application approval form","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":166,"run_time":0.126569575,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:6:2:1]","description":"is expected to be successful","full_description":"Api::AppApprovalController GET new for an unconfirmed company as a secondary user is expected to be successful","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":178,"run_time":0.144902889,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:6:2:2]","description":"is expected to render template new","full_description":"Api::AppApprovalController GET new for an unconfirmed company as a secondary user is expected to render template new","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":179,"run_time":0.149259314,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:6:2:3]","description":"is expected to render template api/app_approval/_restricted_user","full_description":"Api::AppApprovalController GET new for an unconfirmed company as a secondary user is expected to render template api/app_approval/_restricted_user","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":180,"run_time":0.14898148,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:6:2:4]","description":"hides the application approval form","full_description":"Api::AppApprovalController GET new for an unconfirmed company as a secondary user hides the application approval form","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":182,"run_time":0.181069768,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:7:1]","description":"doesn't redirect to the grinding gears page","full_description":"Api::AppApprovalController GET new for a company with recalculating accounts doesn't redirect to the grinding gears page","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":191,"run_time":0.113145615,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:8:1]","description":"renders the unrecognised app error view","full_description":"Api::AppApprovalController GET new for an invalid client id renders the unrecognised app error view","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":203,"run_time":0.1171103,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:9:1]","description":"renders the approve app confirmation form","full_description":"Api::AppApprovalController GET new with dynamic_thumbnail_generation renders the approve app confirmation form","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":217,"run_time":0.130069765,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:10:1:1]","description":"is expected to have text \"FreeAgent Central's account data\"","full_description":"Api::AppApprovalController GET new company-level app account owner is expected to have text \"FreeAgent Central's account data\"","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":240,"run_time":0.139332502,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:10:1:2]","description":"is expected not to have text \"your user's account data\"","full_description":"Api::AppApprovalController GET new company-level app account owner is expected not to have text \"your user's account data\"","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":241,"run_time":0.148552438,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:10:1:3]","description":"is expected to have visible css \".app_actions\"","full_description":"Api::AppApprovalController GET new company-level app account owner is expected to have visible css \".app_actions\"","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":242,"run_time":0.155949944,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:10:2:1]","description":"is expected not to have visible css \".app_actions\"","full_description":"Api::AppApprovalController GET new company-level app regular bills user is expected not to have visible css \".app_actions\"","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":255,"run_time":0.142909016,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:10:2:2]","description":"is expected to render template api/app_approval/_non_company_level_user","full_description":"Api::AppApprovalController GET new company-level app regular bills user is expected to render template api/app_approval/_non_company_level_user","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":256,"run_time":0.151787491,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:10:3:1]","description":"is expected to have text \"FreeAgent Central's account data\"","full_description":"Api::AppApprovalController GET new company-level app regular banking user is expected to have text \"FreeAgent Central's account data\"","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":269,"run_time":0.161510084,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:10:3:2]","description":"is expected not to have text \"your user's account data\"","full_description":"Api::AppApprovalController GET new company-level app regular banking user is expected not to have text \"your user's account data\"","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":270,"run_time":0.148131528,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:10:3:3]","description":"is expected to have visible css \".app_actions\"","full_description":"Api::AppApprovalController GET new company-level app regular banking user is expected to have visible css \".app_actions\"","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":271,"run_time":0.138508165,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:10:4:1]","description":"is expected to have text \"This app is not available for accountants.\"","full_description":"Api::AppApprovalController GET new company-level app account manager is expected to have text \"This app is not available for accountants.\"","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":284,"run_time":0.06778915,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:10:4:2]","description":"is expected not to have visible css \".app_actions\"","full_description":"Api::AppApprovalController GET new company-level app account manager is expected not to have visible css \".app_actions\"","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":285,"run_time":0.079081312,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:11:1]","description":"is expected to have text \"your user's account data\"","full_description":"Api::AppApprovalController GET new user-level app is expected to have text \"your user's account data\"","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":297,"run_time":0.139035683,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:2:11:2]","description":"is expected not to have text \"FreeAgent Central's account data\"","full_description":"Api::AppApprovalController GET new user-level app is expected not to have text \"FreeAgent Central's account data\"","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":298,"run_time":0.125050889,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:3:4]","description":"with an invalid client_id","full_description":"Api::AppApprovalController POST :create with an invalid client_id","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":360,"run_time":0.141908543,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:3:5]","description":"approve application","full_description":"Api::AppApprovalController POST :create approve application","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":366,"run_time":0.131527681,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:3:6]","description":"deny approval","full_description":"Api::AppApprovalController POST :create deny approval","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":376,"run_time":0.132028981,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:3:7]","description":"does not pass redirect_uri to dev dashboard if was not in the request","full_description":"Api::AppApprovalController POST :create does not pass redirect_uri to dev dashboard if was not in the request","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":382,"run_time":0.117141259,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:3:1:1]","description":"doesn't allow the application to be approved","full_description":"Api::AppApprovalController POST :create with an unconfirmed company doesn't allow the application to be approved","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":330,"run_time":0.250156134,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:3:2:1]","description":"doesn't allow the application to be approved","full_description":"Api::AppApprovalController POST :create with a company which hasn't completed setup doesn't allow the application to be approved","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":342,"run_time":0.240227839,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/app_approval_controller_spec.rb[1:3:3:1]","description":"allows the application to be approved","full_description":"Api::AppApprovalController POST :create with a company created before activation step removal allows the application to be approved","status":"passed","file_path":"./spec/controllers/api/app_approval_controller_spec.rb","line_number":354,"run_time":0.21169344,"pending_message":null,"screenshot":null},{"id":"./spec/features/getting_started_spec.rb[1:5:1:4:1:1:1]","description":"can complete setup","full_description":"Getting Started for an RBSG agent signup with UK company type with the personalise_setup_stage feature flag enabled and the personalisation_interests_setup_stage flag disabled for RBS can complete setup","status":"passed","file_path":"./spec/features/getting_started_spec.rb","line_number":351,"run_time":7.967516725,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:1:1:1]","description":"allows ec_status to be assigned","full_description":"EcStatusValidator companies with existing EC invoices with ec_vat_reporting_enabled allows ec_status to be assigned","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":64,"run_time":0.092896059,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:1:2:1]","description":"does not allow ec_status to be assigned","full_description":"EcStatusValidator companies with existing EC invoices without ec_vat_reporting_enabled does not allow ec_status to be assigned","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":77,"run_time":0.119508853,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:1:2:2]","description":"does not validate existing records","full_description":"EcStatusValidator companies with existing EC invoices without ec_vat_reporting_enabled does not validate existing records","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":85,"run_time":0.117278025,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:2:1:1]","description":"is expected to allow :ec_status to be 3","full_description":"EcStatusValidator#ec_status when tagged as MOSS but not VAT registered (under the VAT threshold) is expected to allow :ec_status to be 3","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":123,"run_time":0.103357583,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:2:2:1:1]","description":"allows ec_status EC Goods","full_description":"EcStatusValidator#ec_status with an NI company pre-brexit allows ec_status EC Goods","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":96,"run_time":0.127352569,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:2:2:1:2]","description":"allows ec_status EC Services","full_description":"EcStatusValidator#ec_status with an NI company pre-brexit allows ec_status EC Services","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":96,"run_time":0.121673459,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:2:2:1:3]","description":"allows ec_status EC VAT MOSS","full_description":"EcStatusValidator#ec_status with an NI company pre-brexit allows ec_status EC VAT MOSS","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":96,"run_time":0.131798932,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:2:2:1:4]","description":"doesn't allow ec_status Reverse Charge","full_description":"EcStatusValidator#ec_status with an NI company pre-brexit doesn't allow ec_status Reverse Charge","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":102,"run_time":0.123638609,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:2:2:1:5]","description":"doesn't allow a non-existent ec_status","full_description":"EcStatusValidator#ec_status with an NI company pre-brexit doesn't allow a non-existent ec_status","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":107,"run_time":0.128276341,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:2:2:1:6]","description":"does allow ec_status nil","full_description":"EcStatusValidator#ec_status with an NI company pre-brexit does allow ec_status nil","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":111,"run_time":0.118745804,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:2:2:2:1]","description":"allows ec_status EC Goods","full_description":"EcStatusValidator#ec_status with an NI company post-brexit allows ec_status EC Goods","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":96,"run_time":0.128402622,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:2:2:2:2]","description":"allows ec_status EC Services","full_description":"EcStatusValidator#ec_status with an NI company post-brexit allows ec_status EC Services","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":96,"run_time":0.127974554,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:2:2:2:3]","description":"allows ec_status EC VAT MOSS","full_description":"EcStatusValidator#ec_status with an NI company post-brexit allows ec_status EC VAT MOSS","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":96,"run_time":0.130129211,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:2:2:2:4]","description":"allows ec_status Reverse Charge","full_description":"EcStatusValidator#ec_status with an NI company post-brexit allows ec_status Reverse Charge","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":96,"run_time":0.127320567,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:2:2:2:5]","description":"doesn't allow a non-existent ec_status","full_description":"EcStatusValidator#ec_status with an NI company post-brexit doesn't allow a non-existent ec_status","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":107,"run_time":0.110799253,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:2:2:2:6]","description":"does allow ec_status nil","full_description":"EcStatusValidator#ec_status with an NI company post-brexit does allow ec_status nil","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":111,"run_time":0.133785812,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:2:3:1:1]","description":"allows ec_status EC Goods","full_description":"EcStatusValidator#ec_status with a rUK company pre-brexit allows ec_status EC Goods","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":96,"run_time":0.139625501,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:2:3:1:2]","description":"allows ec_status EC Services","full_description":"EcStatusValidator#ec_status with a rUK company pre-brexit allows ec_status EC Services","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":96,"run_time":0.108687913,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:2:3:1:3]","description":"allows ec_status EC VAT MOSS","full_description":"EcStatusValidator#ec_status with a rUK company pre-brexit allows ec_status EC VAT MOSS","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":96,"run_time":0.142200097,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:2:3:1:4]","description":"doesn't allow ec_status Reverse Charge","full_description":"EcStatusValidator#ec_status with a rUK company pre-brexit doesn't allow ec_status Reverse Charge","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":102,"run_time":0.134237793,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:2:3:1:5]","description":"doesn't allow a non-existent ec_status","full_description":"EcStatusValidator#ec_status with a rUK company pre-brexit doesn't allow a non-existent ec_status","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":107,"run_time":0.146658025,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:2:3:1:6]","description":"does allow ec_status nil","full_description":"EcStatusValidator#ec_status with a rUK company pre-brexit does allow ec_status nil","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":111,"run_time":0.133032022,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:2:3:2:1]","description":"allows ec_status EC VAT MOSS","full_description":"EcStatusValidator#ec_status with a rUK company post-brexit allows ec_status EC VAT MOSS","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":96,"run_time":0.121580638,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:2:3:2:2]","description":"allows ec_status Reverse Charge","full_description":"EcStatusValidator#ec_status with a rUK company post-brexit allows ec_status Reverse Charge","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":96,"run_time":0.128706617,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:2:3:2:3]","description":"doesn't allow ec_status EC Services","full_description":"EcStatusValidator#ec_status with a rUK company post-brexit doesn't allow ec_status EC Services","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":102,"run_time":0.137375648,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:2:3:2:4]","description":"doesn't allow ec_status EC Goods","full_description":"EcStatusValidator#ec_status with a rUK company post-brexit doesn't allow ec_status EC Goods","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":102,"run_time":0.120617468,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:2:3:2:5]","description":"doesn't allow a non-existent ec_status","full_description":"EcStatusValidator#ec_status with a rUK company post-brexit doesn't allow a non-existent ec_status","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":107,"run_time":0.110856133,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:2:3:2:6]","description":"does allow ec_status nil","full_description":"EcStatusValidator#ec_status with a rUK company post-brexit does allow ec_status nil","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":111,"run_time":0.121288168,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:3:1]","description":"produces an error with valid ec_status values for an invoice","full_description":"EcStatusValidator when EC status is invalid produces an error with valid ec_status values for an invoice","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":181,"run_time":0.139017809,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:3:2]","description":"produces a different error with valid ec_status values for an expense","full_description":"EcStatusValidator when EC status is invalid produces a different error with valid ec_status values for an expense","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":186,"run_time":0.142302203,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:4:1]","description":"is not valid before the VAT registration date","full_description":"EcStatusValidator#dated_on values is not valid before the VAT registration date","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":196,"run_time":0.129647365,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:4:2]","description":"is valid within the VAT registration period","full_description":"EcStatusValidator#dated_on values is valid within the VAT registration period","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":202,"run_time":0.122158126,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:4:3]","description":"is not valid after the VAT deregistration date","full_description":"EcStatusValidator#dated_on values is not valid after the VAT deregistration date","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":207,"run_time":1.988716425,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:4:4:1]","description":"is not valid before the introduction of MOSS","full_description":"EcStatusValidator#dated_on values for a record with MOSS status is not valid before the introduction of MOSS","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":223,"run_time":0.135533992,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:4:4:2]","description":"is valid after the introduction of MOSS","full_description":"EcStatusValidator#dated_on values for a record with MOSS status is valid after the introduction of MOSS","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":229,"run_time":0.138003559,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:5:1]","description":"is not valid for contacts without charge sales tax set if status is EC Goods","full_description":"EcStatusValidator contact country and sales tax charging settings is not valid for contacts without charge sales tax set if status is EC Goods","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":239,"run_time":0.139536385,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:5:2]","description":"is valid for contacts without charge sales tax set if sent status hasn't changed to EC Goods","full_description":"EcStatusValidator contact country and sales tax charging settings is valid for contacts without charge sales tax set if sent status hasn't changed to EC Goods","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":245,"run_time":0.110251203,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:5:3]","description":"is invalid for EU contacts after 2021/01/01","full_description":"EcStatusValidator contact country and sales tax charging settings is invalid for EU contacts after 2021/01/01","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":253,"run_time":0.113519589,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:5:4]","description":"is valid for EU contacts before 2021/01/01","full_description":"EcStatusValidator contact country and sales tax charging settings is valid for EU contacts before 2021/01/01","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":258,"run_time":0.128412147,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:5:5]","description":"is valid for EU contacts when not an EC transaction","full_description":"EcStatusValidator contact country and sales tax charging settings is valid for EU contacts when not an EC transaction","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":264,"run_time":0.12326444,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:5:6:1]","description":"is valid for all contacts when a MOSS transaction","full_description":"EcStatusValidator contact country and sales tax charging settings for MOSS transactions is valid for all contacts when a MOSS transaction","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":276,"run_time":0.126256338,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:6:1]","description":"is not valid for capital asset transactions","full_description":"EcStatusValidator#nominal_code values for EC Services is not valid for capital asset transactions","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":296,"run_time":0.014013995,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:6:2]","description":"is not valid for stock transactions","full_description":"EcStatusValidator#nominal_code values for EC Services is not valid for stock transactions","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":302,"run_time":0.013176696,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:6:3]","description":"is not valid for hire purchases","full_description":"EcStatusValidator#nominal_code values for EC Services is not valid for hire purchases","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":309,"run_time":0.013078727,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:7:1:1]","description":"is expected to be valid","full_description":"EcStatusValidator CIS invoices when tagged as EC Services is expected to be valid","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":326,"run_time":0.149725639,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:7:2:1]","description":"is expected not to be valid","full_description":"EcStatusValidator CIS invoices when tagged as EC Goods is expected not to be valid","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":332,"run_time":0.14662961,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:7:3:1]","description":"is expected not to be valid","full_description":"EcStatusValidator CIS invoices when tagged as MOSS is expected not to be valid","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":338,"run_time":0.122790141,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:8:1]","description":"allows EC Goods status before transition","full_description":"EcStatusValidator EC Goods transition allows EC Goods status before transition","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":347,"run_time":0.026490609,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_status_validator_spec.rb[1:8:2]","description":"does not allow EC Goods status after transition","full_description":"EcStatusValidator EC Goods transition does not allow EC Goods status after transition","status":"passed","file_path":"./spec/validators/ec_status_validator_spec.rb","line_number":353,"run_time":0.027389989,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/mobile/search_integration_spec.rb[1:1:1:1]","description":"returns a not authorised status","full_description":"Api::MobileSearchIntegration GET /mobile/search without the right permission_level returns a not authorised status","status":"passed","file_path":"./spec/requests/api/mobile/search_integration_spec.rb","line_number":201,"run_time":0.238156982,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/mobile/search_integration_spec.rb[1:1:2:1]","description":"returns a successful status code","full_description":"Api::MobileSearchIntegration GET /mobile/search with the right permission level returns a successful status code","status":"passed","file_path":"./spec/requests/api/mobile/search_integration_spec.rb","line_number":207,"run_time":0.378319036,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/mobile/search_integration_spec.rb[1:1:3:1]","description":"returns the correct response for a multi query","full_description":"Api::MobileSearchIntegration GET /mobile/search when searching for expenses returns the correct response for a multi query","status":"passed","file_path":"./spec/requests/api/mobile/search_integration_spec.rb","line_number":220,"run_time":0.375156318,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/mobile/search_integration_spec.rb[1:1:3:2]","description":"returns the correct response for single query","full_description":"Api::MobileSearchIntegration GET /mobile/search when searching for expenses returns the correct response for single query","status":"passed","file_path":"./spec/requests/api/mobile/search_integration_spec.rb","line_number":235,"run_time":0.380609308,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/mobile/search_integration_spec.rb[1:1:4:1]","description":"returns the correct response for a multi query","full_description":"Api::MobileSearchIntegration GET /mobile/search when searching for contacts returns the correct response for a multi query","status":"passed","file_path":"./spec/requests/api/mobile/search_integration_spec.rb","line_number":253,"run_time":0.366808758,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/mobile/search_integration_spec.rb[1:1:4:2]","description":"returns the correct response for single query","full_description":"Api::MobileSearchIntegration GET /mobile/search when searching for contacts returns the correct response for single query","status":"passed","file_path":"./spec/requests/api/mobile/search_integration_spec.rb","line_number":268,"run_time":0.374499822,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/mobile/search_integration_spec.rb[1:1:5:1]","description":"returns the correct response for a multi query","full_description":"Api::MobileSearchIntegration GET /mobile/search when searching for bills returns the correct response for a multi query","status":"passed","file_path":"./spec/requests/api/mobile/search_integration_spec.rb","line_number":282,"run_time":0.956055858,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/mobile/search_integration_spec.rb[1:1:5:2]","description":"returns the correct response for single query","full_description":"Api::MobileSearchIntegration GET /mobile/search when searching for bills returns the correct response for single query","status":"passed","file_path":"./spec/requests/api/mobile/search_integration_spec.rb","line_number":298,"run_time":0.222257811,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/mobile/search_integration_spec.rb[1:1:6:1]","description":"returns the correct response for a multi query","full_description":"Api::MobileSearchIntegration GET /mobile/search when searching for bank_transactions returns the correct response for a multi query","status":"passed","file_path":"./spec/requests/api/mobile/search_integration_spec.rb","line_number":314,"run_time":0.575895503,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/mobile/search_integration_spec.rb[1:1:6:2]","description":"returns the correct response for single query","full_description":"Api::MobileSearchIntegration GET /mobile/search when searching for bank_transactions returns the correct response for single query","status":"passed","file_path":"./spec/requests/api/mobile/search_integration_spec.rb","line_number":329,"run_time":0.58485636,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/mobile/search_integration_spec.rb[1:1:7:1]","description":"returns the correct response for a multi query","full_description":"Api::MobileSearchIntegration GET /mobile/search when searching for unexplained_bank_transactions returns the correct response for a multi query","status":"passed","file_path":"./spec/requests/api/mobile/search_integration_spec.rb","line_number":343,"run_time":0.347046987,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/mobile/search_integration_spec.rb[1:1:7:2]","description":"returns the correct response for single query","full_description":"Api::MobileSearchIntegration GET /mobile/search when searching for unexplained_bank_transactions returns the correct response for single query","status":"passed","file_path":"./spec/requests/api/mobile/search_integration_spec.rb","line_number":358,"run_time":0.368046914,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/mobile/search_integration_spec.rb[1:1:8:1]","description":"returns the correct response for a multi query","full_description":"Api::MobileSearchIntegration GET /mobile/search when searching for estimates returns the correct response for a multi query","status":"passed","file_path":"./spec/requests/api/mobile/search_integration_spec.rb","line_number":372,"run_time":0.428764134,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/mobile/search_integration_spec.rb[1:1:8:2]","description":"returns the correct response for single query","full_description":"Api::MobileSearchIntegration GET /mobile/search when searching for estimates returns the correct response for single query","status":"passed","file_path":"./spec/requests/api/mobile/search_integration_spec.rb","line_number":387,"run_time":0.469138295,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/mobile/search_integration_spec.rb[1:1:9:1]","description":"returns the correct response for a multi query","full_description":"Api::MobileSearchIntegration GET /mobile/search when searching for invoices returns the correct response for a multi query","status":"passed","file_path":"./spec/requests/api/mobile/search_integration_spec.rb","line_number":405,"run_time":0.462638232,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/mobile/search_integration_spec.rb[1:1:9:2]","description":"returns the correct response for single query","full_description":"Api::MobileSearchIntegration GET /mobile/search when searching for invoices returns the correct response for single query","status":"passed","file_path":"./spec/requests/api/mobile/search_integration_spec.rb","line_number":420,"run_time":0.47257985,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/mobile/search_integration_spec.rb[1:1:10:1]","description":"returns the correct total results count","full_description":"Api::MobileSearchIntegration GET /mobile/search when searching for multiple types of items returns the correct total results count","status":"passed","file_path":"./spec/requests/api/mobile/search_integration_spec.rb","line_number":438,"run_time":1.528727927,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/alert_rule/row_spec.rb[1:1:1]","description":"returns all the attributes as an array","full_description":"Reports::AlertRuleNotifications::Row#row returns all the attributes as an array","status":"passed","file_path":"./spec/models/reports/alert_rule/row_spec.rb","line_number":134,"run_time":1.316791166,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/alert_rule/row_spec.rb[1:1:2]","description":"returns the correct amount of attributes","full_description":"Reports::AlertRuleNotifications::Row#row returns the correct amount of attributes","status":"passed","file_path":"./spec/models/reports/alert_rule/row_spec.rb","line_number":148,"run_time":1.28014579,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/alert_rule/row_spec.rb[1:1:3]","description":"returns the attributes in the correct order","full_description":"Reports::AlertRuleNotifications::Row#row returns the attributes in the correct order","status":"passed","file_path":"./spec/models/reports/alert_rule/row_spec.rb","line_number":162,"run_time":1.204400552,"pending_message":null,"screenshot":null},{"id":"./spec/requests/getting_started_spec.rb[1:1:1]","description":"is redirected if trying to get ahead of themselves","full_description":"Getting Started with a company that has not completed setup is redirected if trying to get ahead of themselves","status":"passed","file_path":"./spec/requests/getting_started_spec.rb","line_number":14,"run_time":0.138278436,"pending_message":null,"screenshot":null},{"id":"./spec/requests/getting_started_spec.rb[1:2:1]","description":"is redirected if trying to setup again","full_description":"Getting Started with a company that has completed setup is redirected if trying to setup again","status":"passed","file_path":"./spec/requests/getting_started_spec.rb","line_number":26,"run_time":0.075711001,"pending_message":null,"screenshot":null},{"id":"./spec/requests/getting_started_spec.rb[1:3:1:1]","description":"redirects to the overview page","full_description":"Getting Started for a company provisioned via the Mettle provisioner signed up redirects to the overview page","status":"passed","file_path":"./spec/requests/getting_started_spec.rb","line_number":46,"run_time":0.160749275,"pending_message":null,"screenshot":null},{"id":"./spec/requests/getting_started_spec.rb[1:3:2:1]","description":"redirects to the setup page","full_description":"Getting Started for a company provisioned via the Mettle provisioner a company has reset its account data redirects to the setup page","status":"passed","file_path":"./spec/requests/getting_started_spec.rb","line_number":59,"run_time":1.312835874,"pending_message":null,"screenshot":null},{"id":"./spec/requests/getting_started_spec.rb[1:3:2:2]","description":"uses the RsbgStages signup steps","full_description":"Getting Started for a company provisioned via the Mettle provisioner a company has reset its account data uses the RsbgStages signup steps","status":"passed","file_path":"./spec/requests/getting_started_spec.rb","line_number":63,"run_time":1.199385272,"pending_message":null,"screenshot":null},{"id":"./spec/requests/getting_started_spec.rb[1:4:1:1]","description":"renders the company type drop down correctly","full_description":"Getting Started business details A UK company type renders the company type drop down correctly","status":"passed","file_path":"./spec/requests/getting_started_spec.rb","line_number":87,"run_time":0.255711917,"pending_message":null,"screenshot":null},{"id":"./spec/requests/getting_started_spec.rb[1:4:1:2]","description":"has the correct values","full_description":"Getting Started business details A UK company type has the correct values","status":"passed","file_path":"./spec/requests/getting_started_spec.rb","line_number":103,"run_time":0.214364811,"pending_message":null,"screenshot":null},{"id":"./spec/requests/getting_started_spec.rb[1:4:2:1]","description":"has the correct values","full_description":"Getting Started business details A universal company has the correct values","status":"passed","file_path":"./spec/requests/getting_started_spec.rb","line_number":120,"run_time":0.16909336,"pending_message":null,"screenshot":null},{"id":"./spec/requests/getting_started_spec.rb[1:4:3:1]","description":"displays US-specific selectors and params","full_description":"Getting Started business details A US company displays US-specific selectors and params","status":"passed","file_path":"./spec/requests/getting_started_spec.rb","line_number":131,"run_time":0.258995535,"pending_message":null,"screenshot":null},{"id":"./spec/models/requester_company_finder_spec.rb[1:1:1:1]","description":"finds a company using instance attribute","full_description":"RequesterCompanyFinder finding company from instance method finds a company using instance attribute","status":"passed","file_path":"./spec/models/requester_company_finder_spec.rb","line_number":18,"run_time":0.008574372,"pending_message":null,"screenshot":null},{"id":"./spec/models/requester_company_finder_spec.rb[1:1:1:2]","description":"raises error if company not found using instance attribute","full_description":"RequesterCompanyFinder finding company from instance method raises error if company not found using instance attribute","status":"passed","file_path":"./spec/models/requester_company_finder_spec.rb","line_number":22,"run_time":1.729353874,"pending_message":null,"screenshot":null},{"id":"./spec/models/requester_company_finder_spec.rb[1:1:2:1]","description":"finds company using method argument","full_description":"RequesterCompanyFinder finding company using method argument finds company using method argument","status":"passed","file_path":"./spec/models/requester_company_finder_spec.rb","line_number":32,"run_time":0.006809883,"pending_message":null,"screenshot":null},{"id":"./spec/models/requester_company_finder_spec.rb[1:1:2:2]","description":"raises error if company not found using method argument","full_description":"RequesterCompanyFinder finding company using method argument raises error if company not found using method argument","status":"passed","file_path":"./spec/models/requester_company_finder_spec.rb","line_number":36,"run_time":1.586628397,"pending_message":null,"screenshot":null},{"id":"./spec/models/requester_company_finder_spec.rb[1:2:1:1:1]","description":"finds a user attached to company","full_description":"RequesterCompanyFinder finding requester when User using instance attributes finds a user attached to company","status":"passed","file_path":"./spec/models/requester_company_finder_spec.rb","line_number":56,"run_time":0.011070307,"pending_message":null,"screenshot":null},{"id":"./spec/models/requester_company_finder_spec.rb[1:2:1:1:2]","description":"fails to find users not attached to company","full_description":"RequesterCompanyFinder finding requester when User using instance attributes fails to find users not attached to company","status":"passed","file_path":"./spec/models/requester_company_finder_spec.rb","line_number":60,"run_time":0.13244242,"pending_message":null,"screenshot":null},{"id":"./spec/models/requester_company_finder_spec.rb[1:2:1:2:1]","description":"finds a user attached to company","full_description":"RequesterCompanyFinder finding requester when User using method arguments finds a user attached to company","status":"passed","file_path":"./spec/models/requester_company_finder_spec.rb","line_number":71,"run_time":0.010220134,"pending_message":null,"screenshot":null},{"id":"./spec/models/requester_company_finder_spec.rb[1:2:1:2:2]","description":"fails to find users not attached to company","full_description":"RequesterCompanyFinder finding requester when User using method arguments fails to find users not attached to company","status":"passed","file_path":"./spec/models/requester_company_finder_spec.rb","line_number":75,"run_time":0.108625257,"pending_message":null,"screenshot":null},{"id":"./spec/models/requester_company_finder_spec.rb[1:2:2:1:1]","description":"finds a company's account manager","full_description":"RequesterCompanyFinder finding requester when AccountManager using instance attributes finds a company's account manager","status":"passed","file_path":"./spec/models/requester_company_finder_spec.rb","line_number":96,"run_time":0.06598724,"pending_message":null,"screenshot":null},{"id":"./spec/models/requester_company_finder_spec.rb[1:2:2:1:2]","description":"finds account managers at same practice as company's account manager","full_description":"RequesterCompanyFinder finding requester when AccountManager using instance attributes finds account managers at same practice as company's account manager","status":"passed","file_path":"./spec/models/requester_company_finder_spec.rb","line_number":100,"run_time":0.066865013,"pending_message":null,"screenshot":null},{"id":"./spec/models/requester_company_finder_spec.rb[1:2:2:1:3]","description":"fails to find account managers at other practices","full_description":"RequesterCompanyFinder finding requester when AccountManager using instance attributes fails to find account managers at other practices","status":"passed","file_path":"./spec/models/requester_company_finder_spec.rb","line_number":106,"run_time":0.086144538,"pending_message":null,"screenshot":null},{"id":"./spec/models/requester_company_finder_spec.rb[1:2:2:1:4]","description":"fails to find account manager on company with no accountancy practice","full_description":"RequesterCompanyFinder finding requester when AccountManager using instance attributes fails to find account manager on company with no accountancy practice","status":"passed","file_path":"./spec/models/requester_company_finder_spec.rb","line_number":116,"run_time":0.149714092,"pending_message":null,"screenshot":null},{"id":"./spec/models/requester_company_finder_spec.rb[1:2:2:2:1]","description":"finds a company's account manager","full_description":"RequesterCompanyFinder finding requester when AccountManager using method arguments finds a company's account manager","status":"passed","file_path":"./spec/models/requester_company_finder_spec.rb","line_number":126,"run_time":0.063813248,"pending_message":null,"screenshot":null},{"id":"./spec/models/requester_company_finder_spec.rb[1:2:2:2:2]","description":"finds account managers at same practice as company's account manager","full_description":"RequesterCompanyFinder finding requester when AccountManager using method arguments finds account managers at same practice as company's account manager","status":"passed","file_path":"./spec/models/requester_company_finder_spec.rb","line_number":130,"run_time":0.073594726,"pending_message":null,"screenshot":null},{"id":"./spec/models/requester_company_finder_spec.rb[1:2:2:2:3]","description":"fails to find account managers at other practices","full_description":"RequesterCompanyFinder finding requester when AccountManager using method arguments fails to find account managers at other practices","status":"passed","file_path":"./spec/models/requester_company_finder_spec.rb","line_number":136,"run_time":0.101059609,"pending_message":null,"screenshot":null},{"id":"./spec/models/requester_company_finder_spec.rb[1:2:3:1]","description":"raises error","full_description":"RequesterCompanyFinder finding requester when unknown requester type raises error","status":"passed","file_path":"./spec/models/requester_company_finder_spec.rb","line_number":149,"run_time":0.008050147,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax/bill_source_item_builder_spec.rb[1:1]","description":"returns a source item","full_description":"SalesTax::BillSourceItemBuilder returns a source item","status":"passed","file_path":"./spec/models/sales_tax/bill_source_item_builder_spec.rb","line_number":7,"run_time":0.435250072,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax/bill_source_item_builder_spec.rb[1:2]","description":"sets the tax_rules using ec_status","full_description":"SalesTax::BillSourceItemBuilder sets the tax_rules using ec_status","status":"passed","file_path":"./spec/models/sales_tax/bill_source_item_builder_spec.rb","line_number":11,"run_time":0.54758617,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax/bill_source_item_builder_spec.rb[1:3]","description":"includes the payments","full_description":"SalesTax::BillSourceItemBuilder includes the payments","status":"passed","file_path":"./spec/models/sales_tax/bill_source_item_builder_spec.rb","line_number":25,"run_time":0.3994021,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax/bill_source_item_builder_spec.rb[1:4]","description":"references the original source item in the payments","full_description":"SalesTax::BillSourceItemBuilder references the original source item in the payments","status":"passed","file_path":"./spec/models/sales_tax/bill_source_item_builder_spec.rb","line_number":30,"run_time":0.377794235,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax/bill_source_item_builder_spec.rb[1:6]","description":"create a bill item on the source item for each bill item on the bill","full_description":"SalesTax::BillSourceItemBuilder create a bill item on the source item for each bill item on the bill","status":"passed","file_path":"./spec/models/sales_tax/bill_source_item_builder_spec.rb","line_number":43,"run_time":0.503767647,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax/bill_source_item_builder_spec.rb[1:7]","description":"sets the hire_purchase boolean based on whether it is a hire purchase bill","full_description":"SalesTax::BillSourceItemBuilder sets the hire_purchase boolean based on whether it is a hire purchase bill","status":"passed","file_path":"./spec/models/sales_tax/bill_source_item_builder_spec.rb","line_number":50,"run_time":0.511802137,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax/bill_source_item_builder_spec.rb[1:5:1]","description":"includes the provided payment","full_description":"SalesTax::BillSourceItemBuilder when a payment_source_item is provided includes the provided payment","status":"passed","file_path":"./spec/models/sales_tax/bill_source_item_builder_spec.rb","line_number":38,"run_time":0.3879387,"pending_message":null,"screenshot":null},{"id":"./spec/features/invoices/automated_payment_reminders_spec.rb[1:1:1:1]","description":"supports including a payment button on the reminder email template","full_description":"when sending automated payment reminders for an invoice when setting up a reminder when the email_payment_button feature switch is enabled supports including a payment button on the reminder email template","status":"passed","file_path":"./spec/features/invoices/automated_payment_reminders_spec.rb","line_number":41,"run_time":2.294945441,"pending_message":null,"screenshot":null},{"id":"./spec/models/mtd_itsa/submission_features_spec.rb[1:1:1:1]","description":"allows neither","full_description":"MTDITSA::SubmissionFeatures can_fetch? and can_file? when the `mtd_itsa_submissions` feature flag is disabled allows neither","status":"passed","file_path":"./spec/models/mtd_itsa/submission_features_spec.rb","line_number":17,"run_time":0.217851164,"pending_message":null,"screenshot":null},{"id":"./spec/models/mtd_itsa/submission_features_spec.rb[1:1:2:1:1:1]","description":"allows fetching but not filing","full_description":"MTDITSA::SubmissionFeatures can_fetch? and can_file? when the `mtd_itsa_submissions` feature flag is enabled when the `mtd_itsa_submissions_in_old_tax_years` feature is disabled up to 2022 allows fetching but not filing","status":"passed","file_path":"./spec/models/mtd_itsa/submission_features_spec.rb","line_number":32,"run_time":0.21029699,"pending_message":null,"screenshot":null},{"id":"./spec/models/mtd_itsa/submission_features_spec.rb[1:1:2:1:1:2:1]","description":"allows neither","full_description":"MTDITSA::SubmissionFeatures can_fetch? and can_file? when the `mtd_itsa_submissions` feature flag is enabled when the `mtd_itsa_submissions_in_old_tax_years` feature is disabled up to 2022 when the tax year is locked allows neither","status":"passed","file_path":"./spec/models/mtd_itsa/submission_features_spec.rb","line_number":42,"run_time":0.181305577,"pending_message":null,"screenshot":null},{"id":"./spec/models/mtd_itsa/submission_features_spec.rb[1:1:2:1:1:3:1]","description":"allows fetching but not filing","full_description":"MTDITSA::SubmissionFeatures can_fetch? and can_file? when the `mtd_itsa_submissions` feature flag is enabled when the `mtd_itsa_submissions_in_old_tax_years` feature is disabled up to 2022 for a practice managed company allows fetching but not filing","status":"passed","file_path":"./spec/models/mtd_itsa/submission_features_spec.rb","line_number":51,"run_time":0.253260841,"pending_message":null,"screenshot":null},{"id":"./spec/models/mtd_itsa/submission_features_spec.rb[1:1:2:1:1:3:2:1]","description":"allows neither","full_description":"MTDITSA::SubmissionFeatures can_fetch? and can_file? when the `mtd_itsa_submissions` feature flag is enabled when the `mtd_itsa_submissions_in_old_tax_years` feature is disabled up to 2022 for a practice managed company when the `prevent_sa_filing` feature flag is enabled allows neither","status":"passed","file_path":"./spec/models/mtd_itsa/submission_features_spec.rb","line_number":59,"run_time":0.20897562,"pending_message":null,"screenshot":null},{"id":"./spec/models/mtd_itsa/submission_features_spec.rb[1:1:2:1:2:1]","description":"allows both","full_description":"MTDITSA::SubmissionFeatures can_fetch? and can_file? when the `mtd_itsa_submissions` feature flag is enabled when the `mtd_itsa_submissions_in_old_tax_years` feature is disabled from 2023 allows both","status":"passed","file_path":"./spec/models/mtd_itsa/submission_features_spec.rb","line_number":70,"run_time":0.168681887,"pending_message":null,"screenshot":null},{"id":"./spec/models/mtd_itsa/submission_features_spec.rb[1:1:2:1:2:2:1]","description":"allows neither","full_description":"MTDITSA::SubmissionFeatures can_fetch? and can_file? when the `mtd_itsa_submissions` feature flag is enabled when the `mtd_itsa_submissions_in_old_tax_years` feature is disabled from 2023 when the tax year is locked allows neither","status":"passed","file_path":"./spec/models/mtd_itsa/submission_features_spec.rb","line_number":80,"run_time":0.196916071,"pending_message":null,"screenshot":null},{"id":"./spec/models/mtd_itsa/submission_features_spec.rb[1:1:2:1:2:3:1]","description":"allows both","full_description":"MTDITSA::SubmissionFeatures can_fetch? and can_file? when the `mtd_itsa_submissions` feature flag is enabled when the `mtd_itsa_submissions_in_old_tax_years` feature is disabled from 2023 for a practice managed company allows both","status":"passed","file_path":"./spec/models/mtd_itsa/submission_features_spec.rb","line_number":89,"run_time":0.220403036,"pending_message":null,"screenshot":null},{"id":"./spec/models/mtd_itsa/submission_features_spec.rb[1:1:2:1:2:3:2:1]","description":"allows neither","full_description":"MTDITSA::SubmissionFeatures can_fetch? and can_file? when the `mtd_itsa_submissions` feature flag is enabled when the `mtd_itsa_submissions_in_old_tax_years` feature is disabled from 2023 for a practice managed company when the `prevent_sa_filing` feature flag is enabled allows neither","status":"passed","file_path":"./spec/models/mtd_itsa/submission_features_spec.rb","line_number":97,"run_time":0.242260285,"pending_message":null,"screenshot":null},{"id":"./spec/models/mtd_itsa/submission_features_spec.rb[1:1:2:2:1:1]","description":"allows fetching but not filing","full_description":"MTDITSA::SubmissionFeatures can_fetch? and can_file? when the `mtd_itsa_submissions` feature flag is enabled when the `mtd_itsa_submissions_in_old_tax_years` feature is enabled up to 2018 allows fetching but not filing","status":"passed","file_path":"./spec/models/mtd_itsa/submission_features_spec.rb","line_number":112,"run_time":0.186023524,"pending_message":null,"screenshot":null},{"id":"./spec/models/mtd_itsa/submission_features_spec.rb[1:1:2:2:2:1]","description":"allows both","full_description":"MTDITSA::SubmissionFeatures can_fetch? and can_file? when the `mtd_itsa_submissions` feature flag is enabled when the `mtd_itsa_submissions_in_old_tax_years` feature is enabled from 2019 allows both","status":"passed","file_path":"./spec/models/mtd_itsa/submission_features_spec.rb","line_number":121,"run_time":0.193886661,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb[1:1:1]","description":"returns true if everything was successful","full_description":"ProfitAndLoss::UiState::Monthly#store returns true if everything was successful","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb","line_number":34,"run_time":0.102272989,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb[1:1:2]","description":"stores the accounting period as a parameter in the rails cache","full_description":"ProfitAndLoss::UiState::Monthly#store stores the accounting period as a parameter in the rails cache","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb","line_number":38,"run_time":0.109786418,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb[1:1:3:1]","description":"returns false, as it couldn't be cached","full_description":"ProfitAndLoss::UiState::Monthly#store when the rails cache is unavailable returns false, as it couldn't be cached","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb","line_number":51,"run_time":0.089659018,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb[1:1:4:1]","description":"stores current year to date as a special symbol","full_description":"ProfitAndLoss::UiState::Monthly#store when storing current year to date stores current year to date as a special symbol","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb","line_number":59,"run_time":0.094756595,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb[1:1:5:1]","description":"stores last 3 months as a special symbol","full_description":"ProfitAndLoss::UiState::Monthly#store when storing last 3 months stores last 3 months as a special symbol","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb","line_number":70,"run_time":0.092718584,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb[1:1:6:1]","description":"stores last 6 months as a special symbol","full_description":"ProfitAndLoss::UiState::Monthly#store when storing last 6 months stores last 6 months as a special symbol","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb","line_number":81,"run_time":0.099284863,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb[1:1:7:1]","description":"stores last 9 months as a special symbol","full_description":"ProfitAndLoss::UiState::Monthly#store when storing last 9 months stores last 9 months as a special symbol","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb","line_number":92,"run_time":0.112374868,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb[1:2:1:1]","description":"returns the cached params","full_description":"ProfitAndLoss::UiState::Monthly#restore_or_default when there is an accounting period stored in the cache returns the cached params","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb","line_number":113,"run_time":0.113107252,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb[1:2:2:1]","description":"retrieves the same period if visited on the same day as it is stored","full_description":"ProfitAndLoss::UiState::Monthly#restore_or_default when current year to date is stored in the cache retrieves the same period if visited on the same day as it is stored","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb","line_number":127,"run_time":0.103307698,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb[1:2:2:2]","description":"retrieves an up-to-date current year if visited after the cache exires","full_description":"ProfitAndLoss::UiState::Monthly#restore_or_default when current year to date is stored in the cache retrieves an up-to-date current year if visited after the cache exires","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb","line_number":133,"run_time":0.118742762,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb[1:2:2:3]","description":"retrieves an up-to-date current year if visited in a later accounting year, after the cache expires","full_description":"ProfitAndLoss::UiState::Monthly#restore_or_default when current year to date is stored in the cache retrieves an up-to-date current year if visited in a later accounting year, after the cache expires","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb","line_number":140,"run_time":0.089923578,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb[1:2:3:1]","description":"retrieves the same period if visited on the same day as it is stored","full_description":"ProfitAndLoss::UiState::Monthly#restore_or_default when last 3 months is stored in the cache retrieves the same period if visited on the same day as it is stored","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb","line_number":155,"run_time":0.086406463,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb[1:2:3:2]","description":"retrieves an up-to-date current year if visited after the cache exires","full_description":"ProfitAndLoss::UiState::Monthly#restore_or_default when last 3 months is stored in the cache retrieves an up-to-date current year if visited after the cache exires","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb","line_number":161,"run_time":0.087247668,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb[1:2:4:1]","description":"retrieves the same period if visited on the same day as it is stored","full_description":"ProfitAndLoss::UiState::Monthly#restore_or_default when last 6 months is stored in the cache retrieves the same period if visited on the same day as it is stored","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb","line_number":176,"run_time":0.08405758,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb[1:2:4:2]","description":"retrieves an up-to-date current year if visited after the cache exires","full_description":"ProfitAndLoss::UiState::Monthly#restore_or_default when last 6 months is stored in the cache retrieves an up-to-date current year if visited after the cache exires","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb","line_number":182,"run_time":0.088294264,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb[1:2:5:1]","description":"retrieves the same period if visited on the same day as it is stored","full_description":"ProfitAndLoss::UiState::Monthly#restore_or_default when last 9 months is stored in the cache retrieves the same period if visited on the same day as it is stored","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb","line_number":197,"run_time":0.097264868,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb[1:2:5:2]","description":"retrieves an up-to-date current year if visited after the cache exires","full_description":"ProfitAndLoss::UiState::Monthly#restore_or_default when last 9 months is stored in the cache retrieves an up-to-date current year if visited after the cache exires","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb","line_number":203,"run_time":0.091012909,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb[1:2:6:1]","description":"returns the current year to date period as a default","full_description":"ProfitAndLoss::UiState::Monthly#restore_or_default when there is nothing stored in the cache returns the current year to date period as a default","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb","line_number":214,"run_time":0.084460865,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb[1:2:7:1]","description":"returns the current year to date period as a default","full_description":"ProfitAndLoss::UiState::Monthly#restore_or_default when the cache is unavailable returns the current year to date period as a default","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb","line_number":228,"run_time":0.083262821,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb[1:3:1:1]","description":"is expected to equal true","full_description":"ProfitAndLoss::UiState::Monthly#default_period? when the accounting_period matches the default accounting period for this report type is expected to equal true","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb","line_number":241,"run_time":0.08248761,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb[1:3:2:1]","description":"is expected to equal false","full_description":"ProfitAndLoss::UiState::Monthly#default_period? when the accounting_period does not match the default accounting period for this report type is expected to equal false","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/monthly_spec.rb","line_number":246,"run_time":0.105658507,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:1:1:1]","description":"is expected to eq 6524.34 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is not vat registered and the recurring invoice profile has a positive value is expected to eq 6524.34 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":39,"run_time":0.068204768,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:1:1:2]","description":"is expected to eq 6524.34 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is not vat registered and the recurring invoice profile has a positive value is expected to eq 6524.34 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":40,"run_time":0.028748889,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:1:1:3]","description":"is expected to eq 6524.34 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is not vat registered and the recurring invoice profile has a positive value is expected to eq 6524.34 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":41,"run_time":0.027795022,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:1:1:4]","description":"is expected to eq 6524.34 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is not vat registered and the recurring invoice profile has a positive value is expected to eq 6524.34 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":42,"run_time":0.039606205,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:1:1:5]","description":"is expected to eq 0.0 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is not vat registered and the recurring invoice profile has a positive value is expected to eq 0.0 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":43,"run_time":0.037428699,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:1:1:6]","description":"is expected to eq 6524.34 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is not vat registered and the recurring invoice profile has a positive value is expected to eq 6524.34 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":44,"run_time":0.039509674,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:1:2:1]","description":"is expected to eq 6524.34 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is not vat registered and the recurring invoice profile is in a foreign currency is expected to eq 6524.34 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":78,"run_time":0.033207927,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:1:2:2]","description":"is expected to eq 6524.34 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is not vat registered and the recurring invoice profile is in a foreign currency is expected to eq 6524.34 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":79,"run_time":0.036249218,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:1:2:3]","description":"is expected to eq 8155.43 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is not vat registered and the recurring invoice profile is in a foreign currency is expected to eq 8155.43 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":80,"run_time":0.028667167,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:1:2:4]","description":"is expected to eq 6524.34 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is not vat registered and the recurring invoice profile is in a foreign currency is expected to eq 6524.34 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":81,"run_time":0.030648515,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:1:2:5]","description":"is expected to eq 0.0 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is not vat registered and the recurring invoice profile is in a foreign currency is expected to eq 0.0 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":82,"run_time":0.032313117,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:1:2:6]","description":"is expected to eq 6524.34 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is not vat registered and the recurring invoice profile is in a foreign currency is expected to eq 6524.34 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":83,"run_time":0.052221573,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:1:3:1]","description":"is expected to eq 0.0 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is not vat registered and the recurring invoice profile has a zero value is expected to eq 0.0 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":115,"run_time":0.034632708,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:1:3:2]","description":"is expected to eq 0.0 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is not vat registered and the recurring invoice profile has a zero value is expected to eq 0.0 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":116,"run_time":0.038507209,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:1:3:3]","description":"is expected to eq 0.0 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is not vat registered and the recurring invoice profile has a zero value is expected to eq 0.0 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":117,"run_time":0.039273477,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:1:3:4]","description":"is expected to eq 0.0 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is not vat registered and the recurring invoice profile has a zero value is expected to eq 0.0 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":118,"run_time":0.039519746,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:1:3:5]","description":"is expected to eq 0.0 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is not vat registered and the recurring invoice profile has a zero value is expected to eq 0.0 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":119,"run_time":0.038233746,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:1:3:6]","description":"is expected to eq 0.0 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is not vat registered and the recurring invoice profile has a zero value is expected to eq 0.0 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":120,"run_time":0.039359447,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:2:1:1]","description":"is expected to eq 7666.1 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is uk vat registered and the recurring invoice profile has a positive value is expected to eq 7666.1 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":156,"run_time":0.042978572,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:2:1:2]","description":"is expected to eq 6524.34 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is uk vat registered and the recurring invoice profile has a positive value is expected to eq 6524.34 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":157,"run_time":0.037822725,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:2:1:3]","description":"is expected to eq 6524.34 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is uk vat registered and the recurring invoice profile has a positive value is expected to eq 6524.34 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":158,"run_time":0.03810842,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:2:1:4]","description":"is expected to eq 7666.1 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is uk vat registered and the recurring invoice profile has a positive value is expected to eq 7666.1 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":159,"run_time":0.041036675,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:2:1:5]","description":"is expected to eq 0.0 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is uk vat registered and the recurring invoice profile has a positive value is expected to eq 0.0 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":160,"run_time":0.036251806,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:2:1:6]","description":"is expected to eq 6524.34 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is uk vat registered and the recurring invoice profile has a positive value is expected to eq 6524.34 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":161,"run_time":0.036659265,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:2:2:1]","description":"is expected to eq 7666.1 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is uk vat registered and the recurring invoice profile is in a foreign currency is expected to eq 7666.1 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":195,"run_time":0.03616215,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:2:2:2]","description":"is expected to eq 6524.34 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is uk vat registered and the recurring invoice profile is in a foreign currency is expected to eq 6524.34 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":196,"run_time":0.027773093,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:2:2:3]","description":"is expected to eq 8155.43 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is uk vat registered and the recurring invoice profile is in a foreign currency is expected to eq 8155.43 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":197,"run_time":0.033613777,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:2:2:4]","description":"is expected to eq 7666.1 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is uk vat registered and the recurring invoice profile is in a foreign currency is expected to eq 7666.1 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":198,"run_time":0.030221694,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:2:2:5]","description":"is expected to eq 0.0 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is uk vat registered and the recurring invoice profile is in a foreign currency is expected to eq 0.0 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":199,"run_time":0.029673639,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:2:2:6]","description":"is expected to eq 6524.34 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is uk vat registered and the recurring invoice profile is in a foreign currency is expected to eq 6524.34 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":200,"run_time":0.028876032,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:2:3:1]","description":"is expected to eq 7666.1 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is uk vat registered and the recurring invoice profile is tagged as EC Services is expected to eq 7666.1 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":235,"run_time":0.028180933,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:2:3:2]","description":"is expected to eq 6524.34 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is uk vat registered and the recurring invoice profile is tagged as EC Services is expected to eq 6524.34 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":236,"run_time":0.026005524,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:2:3:3]","description":"is expected to eq 6524.34 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is uk vat registered and the recurring invoice profile is tagged as EC Services is expected to eq 6524.34 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":237,"run_time":0.03309986,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:2:3:4]","description":"is expected to eq 7666.1 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is uk vat registered and the recurring invoice profile is tagged as EC Services is expected to eq 7666.1 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":238,"run_time":0.035830077,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:2:3:5]","description":"is expected to eq 0.0 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is uk vat registered and the recurring invoice profile is tagged as EC Services is expected to eq 0.0 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":239,"run_time":0.032441478,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:2:3:6]","description":"is expected to eq 6524.34 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is uk vat registered and the recurring invoice profile is tagged as EC Services is expected to eq 6524.34 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":240,"run_time":0.026436939,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:2:4:1]","description":"is expected to eq 6524.34 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is uk vat registered and the contact does not charge sales tax is expected to eq 6524.34 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":274,"run_time":0.032926468,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:2:4:2]","description":"is expected to eq 6524.34 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is uk vat registered and the contact does not charge sales tax is expected to eq 6524.34 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":275,"run_time":0.03014462,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:2:4:3]","description":"is expected to eq 6524.34 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is uk vat registered and the contact does not charge sales tax is expected to eq 6524.34 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":276,"run_time":0.031466364,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:2:4:4]","description":"is expected to eq 6524.34 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is uk vat registered and the contact does not charge sales tax is expected to eq 6524.34 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":277,"run_time":0.034903448,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:2:4:5]","description":"is expected to eq 0.0 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is uk vat registered and the contact does not charge sales tax is expected to eq 0.0 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":278,"run_time":0.023411498,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:2:4:6]","description":"is expected to eq 6524.34 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is uk vat registered and the contact does not charge sales tax is expected to eq 6524.34 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":279,"run_time":0.022896689,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:2:5:1]","description":"is expected to eq 90.0 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is uk vat registered and the invoice is discounted is expected to eq 90.0 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":303,"run_time":0.018525695,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:2:5:2]","description":"is expected to eq 90.0 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is uk vat registered and the invoice is discounted is expected to eq 90.0 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":304,"run_time":0.016074071,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:2:5:3]","description":"is expected to eq 90.0 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is uk vat registered and the invoice is discounted is expected to eq 90.0 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":305,"run_time":0.015942206,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:2:5:4]","description":"is expected to eql 90","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is uk vat registered and the invoice is discounted is expected to eql 90","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":306,"run_time":0.017023904,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:2:5:5]","description":"is expected to eq 10.0 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is uk vat registered and the invoice is discounted is expected to eq 10.0 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":307,"run_time":0.016299224,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:2:5:6]","description":"is expected to eq 100.0 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is uk vat registered and the invoice is discounted is expected to eq 100.0 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":308,"run_time":0.0170951,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:3:1]","description":"is expected to eq 6524.34 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is a universal company is expected to eq 6524.34 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":345,"run_time":0.127411441,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:3:2]","description":"is expected to eq 6524.34 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is a universal company is expected to eq 6524.34 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":346,"run_time":0.144148387,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:3:3]","description":"is expected to eq 7992.32 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is a universal company is expected to eq 7992.32 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":347,"run_time":0.134163042,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:3:4]","description":"is expected to eq 0.0 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is a universal company is expected to eq 0.0 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":348,"run_time":0.140817907,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/value_spec.rb[1:1:3:5]","description":"is expected to eq 6524.34 (BigDecimal)","full_description":"RecurringInvoiceProfile::Value when calculating the recurring invoice values and the company is a universal company is expected to eq 6524.34 (BigDecimal)","status":"passed","file_path":"./spec/models/recurring_invoice_profile/value_spec.rb","line_number":349,"run_time":0.117777718,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/line_item_spec.rb[1:1:1:1]","description":"should create the UK standard vat rate on the item","full_description":"LineItem#configure_sales_tax A UK company registered for VAT should create the UK standard vat rate on the item","status":"passed","file_path":"./spec/models/modules/line_item_spec.rb","line_number":16,"run_time":0.027668525,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/line_item_spec.rb[1:1:2:1]","description":"should use the EU company sales tax rate","full_description":"LineItem#configure_sales_tax A MOSS estimate or invoice should use the EU company sales tax rate","status":"passed","file_path":"./spec/models/modules/line_item_spec.rb","line_number":44,"run_time":0.021552556,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/line_item_spec.rb[1:1:2:2]","description":"should have a #parent","full_description":"LineItem#configure_sales_tax A MOSS estimate or invoice should have a #parent","status":"passed","file_path":"./spec/models/modules/line_item_spec.rb","line_number":54,"run_time":0.018367048,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/line_item_spec.rb[1:2:1:1:1]","description":"returns zero for the rate and EXEMPT as the status","full_description":"LineItem#calculate_vat_status when the sales tax is VAT when the sales tax rate is Exempt returns zero for the rate and EXEMPT as the status","status":"passed","file_path":"./spec/models/modules/line_item_spec.rb","line_number":71,"run_time":0.106650419,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/line_item_spec.rb[1:2:1:2:1]","description":"returns zero for the rate and ZERO as the status","full_description":"LineItem#calculate_vat_status when the sales tax is VAT when the sales tax rate is zero returns zero for the rate and ZERO as the status","status":"passed","file_path":"./spec/models/modules/line_item_spec.rb","line_number":79,"run_time":0.119607998,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/line_item_spec.rb[1:2:1:3:1]","description":"returns zero for the rate and REDUCED as the status","full_description":"LineItem#calculate_vat_status when the sales tax is VAT when the sales tax rate matches the reduced rate returns zero for the rate and REDUCED as the status","status":"passed","file_path":"./spec/models/modules/line_item_spec.rb","line_number":87,"run_time":0.112428579,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/line_item_spec.rb[1:2:1:4:1]","description":"returns zero for the rate and STANDARD as the status","full_description":"LineItem#calculate_vat_status when the sales tax is VAT when the sales tax rate is any other rate returns zero for the rate and STANDARD as the status","status":"passed","file_path":"./spec/models/modules/line_item_spec.rb","line_number":95,"run_time":0.115231256,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/line_item_spec.rb[1:2:2:1]","description":"is returns the rate and OUT_OF_SCOPE as the status","full_description":"LineItem#calculate_vat_status when the sales tax is not VAT is returns the rate and OUT_OF_SCOPE as the status","status":"passed","file_path":"./spec/models/modules/line_item_spec.rb","line_number":105,"run_time":0.162784083,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/line_item_spec.rb[1:3:1:1]","description":"returns nil","full_description":"LineItem#sales_tax_status when sales tax is NOT relevant returns nil","status":"passed","file_path":"./spec/models/modules/line_item_spec.rb","line_number":123,"run_time":0.091471029,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/line_item_spec.rb[1:3:2:1:1:1]","description":"returns :exempt","full_description":"LineItem#sales_tax_status when sales tax is relevant when the parent involves sales tax when the rate is exempt returns :exempt","status":"passed","file_path":"./spec/models/modules/line_item_spec.rb","line_number":141,"run_time":0.091875349,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/line_item_spec.rb[1:3:2:1:2:1]","description":"returns :taxable","full_description":"LineItem#sales_tax_status when sales tax is relevant when the parent involves sales tax when the rate is any other value returns :taxable","status":"passed","file_path":"./spec/models/modules/line_item_spec.rb","line_number":149,"run_time":0.099079694,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/line_item_spec.rb[1:3:2:2:1]","description":"returns :out_of_scope","full_description":"LineItem#sales_tax_status when sales tax is relevant when the parent does NOT involve sales tax returns :out_of_scope","status":"passed","file_path":"./spec/models/modules/line_item_spec.rb","line_number":158,"run_time":0.111430971,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/line_item_spec.rb[1:4:1:1]","description":"returns nil","full_description":"LineItem#second_sales_tax_status when second sales tax is NOT relevant returns nil","status":"passed","file_path":"./spec/models/modules/line_item_spec.rb","line_number":177,"run_time":0.115636437,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/line_item_spec.rb[1:4:2:1:1]","description":"returns :taxable","full_description":"LineItem#second_sales_tax_status when second sales tax is relevant when the parent involves second sales tax returns :taxable","status":"passed","file_path":"./spec/models/modules/line_item_spec.rb","line_number":192,"run_time":0.104033649,"pending_message":null,"screenshot":null},{"id":"./spec/models/modules/line_item_spec.rb[1:4:2:2:1]","description":"returns :out_of_scope","full_description":"LineItem#second_sales_tax_status when second sales tax is relevant when the parent does NOT involve sales tax returns :out_of_scope","status":"passed","file_path":"./spec/models/modules/line_item_spec.rb","line_number":200,"run_time":0.106618789,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/corporation_tax/apportionment/thirteen_month_period_with_profit.feature[1:1:1]","description":"Given a UK Limited Company which was started on 2020-06-01 -\u003e And its first accounting year ends on 2021-06-30 -\u003e And the current date is 2020-06-30 -\u003e Then the company should have corporation tax return periods for -\u003e Given the company has the following invoices: -\u003e And the company has the following bills: -\u003e Then the company should have a corporation tax liability as follows","full_description":"Corporation tax: a thirteen month period with a profit all transactions appear in second period Given a UK Limited Company which was started on 2020-06-01 -\u003e And its first accounting year ends on 2021-06-30 -\u003e And the current date is 2020-06-30 -\u003e Then the company should have corporation tax return periods for -\u003e Given the company has the following invoices: -\u003e And the company has the following bills: -\u003e Then the company should have a corporation tax liability as follows","status":"passed","file_path":"./spec/acceptance/corporation_tax/apportionment/thirteen_month_period_with_profit.feature","line_number":12,"run_time":0.838160587,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/corporation_tax/apportionment/thirteen_month_period_with_profit.feature[1:2:1]","description":"Given a UK Limited Company which was started on 2020-06-01 -\u003e And its first accounting year ends on 2021-06-30 -\u003e And the current date is 2020-06-30 -\u003e Then the company should have corporation tax return periods for -\u003e Given the company has the following invoices: -\u003e And the company has the following bills: -\u003e Then the company should have a corporation tax liability as follows","full_description":"Corporation tax: a thirteen month period with a profit all transactions appear in first period Given a UK Limited Company which was started on 2020-06-01 -\u003e And its first accounting year ends on 2021-06-30 -\u003e And the current date is 2020-06-30 -\u003e Then the company should have corporation tax return periods for -\u003e Given the company has the following invoices: -\u003e And the company has the following bills: -\u003e Then the company should have a corporation tax liability as follows","status":"passed","file_path":"./spec/acceptance/corporation_tax/apportionment/thirteen_month_period_with_profit.feature","line_number":24,"run_time":0.820596179,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/payroll/periods_controller_spec.rb[1:1:1:1]","description":"returns a 400 error","full_description":"Api::Payroll::PeriodsController for a Universal company GET index returns a 400 error","status":"passed","file_path":"./spec/controllers/api/payroll/periods_controller_spec.rb","line_number":17,"run_time":0.129340542,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/payroll/periods_controller_spec.rb[1:2:1:1]","description":"returns a forbidden response","full_description":"Api::Payroll::PeriodsController for a UK company with payroll and a user without required permissions GET index returns a forbidden response","status":"passed","file_path":"./spec/controllers/api/payroll/periods_controller_spec.rb","line_number":33,"run_time":0.126882306,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/payroll/periods_controller_spec.rb[1:3:1:1]","description":"returns and render a list of payroll periods","full_description":"Api::Payroll::PeriodsController for a UK company with payroll and a user with required permissions GET index returns and render a list of payroll periods","status":"passed","file_path":"./spec/controllers/api/payroll/periods_controller_spec.rb","line_number":55,"run_time":0.242115589,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/payroll/periods_controller_spec.rb[1:3:1:2]","description":"handles invalid year parameters","full_description":"Api::Payroll::PeriodsController for a UK company with payroll and a user with required permissions GET index handles invalid year parameters","status":"passed","file_path":"./spec/controllers/api/payroll/periods_controller_spec.rb","line_number":63,"run_time":0.184640205,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/payroll/periods_controller_spec.rb[1:3:2:1]","description":"renders the period and payslips","full_description":"Api::Payroll::PeriodsController for a UK company with payroll and a user with required permissions GET show renders the period and payslips","status":"passed","file_path":"./spec/controllers/api/payroll/periods_controller_spec.rb","line_number":71,"run_time":0.202489802,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/payroll/periods_controller_spec.rb[1:3:2:2]","description":"handles invalid period parameters","full_description":"Api::Payroll::PeriodsController for a UK company with payroll and a user with required permissions GET show handles invalid period parameters","status":"passed","file_path":"./spec/controllers/api/payroll/periods_controller_spec.rb","line_number":80,"run_time":0.184480962,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/payroll/periods_controller_spec.rb[1:3:2:3]","description":"handles periods which are missing","full_description":"Api::Payroll::PeriodsController for a UK company with payroll and a user with required permissions GET show handles periods which are missing","status":"passed","file_path":"./spec/controllers/api/payroll/periods_controller_spec.rb","line_number":85,"run_time":0.18107329,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/foreign_bank_account_balance_observer_spec.rb[1:1]","description":"does not recalculate when the change doesn't affect foreign accounts","full_description":"Accounting::ForeignBankAccountBalanceObserver does not recalculate when the change doesn't affect foreign accounts","status":"passed","file_path":"./spec/models/accounting/foreign_bank_account_balance_observer_spec.rb","line_number":19,"run_time":0.151047851,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/foreign_bank_account_balance_observer_spec.rb[1:2]","description":"does not recalculate when the change is a currency gain","full_description":"Accounting::ForeignBankAccountBalanceObserver does not recalculate when the change is a currency gain","status":"passed","file_path":"./spec/models/accounting/foreign_bank_account_balance_observer_spec.rb","line_number":26,"run_time":0.150441972,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/foreign_bank_account_balance_observer_spec.rb[1:3]","description":"recalculates when the change affects a foreign bank account","full_description":"Accounting::ForeignBankAccountBalanceObserver recalculates when the change affects a foreign bank account","status":"passed","file_path":"./spec/models/accounting/foreign_bank_account_balance_observer_spec.rb","line_number":33,"run_time":0.152815494,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/foreign_bank_account_balance_observer_spec.rb[1:4]","description":"recalculates from the earliest affected date","full_description":"Accounting::ForeignBankAccountBalanceObserver recalculates from the earliest affected date","status":"passed","file_path":"./spec/models/accounting/foreign_bank_account_balance_observer_spec.rb","line_number":40,"run_time":0.172531022,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/foreign_bank_account_balance_observer_spec.rb[1:5]","description":"logs that it was triggered","full_description":"Accounting::ForeignBankAccountBalanceObserver logs that it was triggered","status":"passed","file_path":"./spec/models/accounting/foreign_bank_account_balance_observer_spec.rb","line_number":47,"run_time":0.145644904,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/foreign_bank_account_balance_observer_spec.rb[1:6]","description":"Logs that it is finding the bank account from code","full_description":"Accounting::ForeignBankAccountBalanceObserver Logs that it is finding the bank account from code","status":"passed","file_path":"./spec/models/accounting/foreign_bank_account_balance_observer_spec.rb","line_number":54,"run_time":0.197726376,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:110:4:1:1]","description":"returns hash totalling invoice written off amounts due by currency","full_description":"Invoice#grouped_written_off_totals with a CIS invoice with a written-off part-paid invoice returns hash totalling invoice written off amounts due by currency","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":3333,"run_time":0.587811354,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax_timeline_integration_spec.rb[1:1:1]","description":"with the right permission_level","full_description":"Api::TaxTimelineIntegration GET /company/tax_timeline with the right permission_level","status":"passed","file_path":"./spec/requests/api/tax_timeline_integration_spec.rb","line_number":10,"run_time":0.477220276,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax_timeline_integration_spec.rb[1:1:2]","description":"without the right permission_level","full_description":"Api::TaxTimelineIntegration GET /company/tax_timeline without the right permission_level","status":"passed","file_path":"./spec/requests/api/tax_timeline_integration_spec.rb","line_number":27,"run_time":0.058763487,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax_timeline_integration_spec.rb[1:2:1]","description":"with the right permission_level","full_description":"Api::TaxTimelineIntegration GET /user/tax_timeline with the right permission_level","status":"passed","file_path":"./spec/requests/api/tax_timeline_integration_spec.rb","line_number":34,"run_time":0.764835189,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax_timeline_integration_spec.rb[1:2:2]","description":"without the right permission_level","full_description":"Api::TaxTimelineIntegration GET /user/tax_timeline without the right permission_level","status":"passed","file_path":"./spec/requests/api/tax_timeline_integration_spec.rb","line_number":49,"run_time":0.055974856,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:2:2]","description":"deletes year ends","full_description":"Company::ForgetCompanyData Deleting all data for uk limited company deletes year ends","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":860,"run_time":1.017530084,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:4:2:1]","description":"deletes self assessment returns","full_description":"Company::ForgetCompanyData Deleting all data for a UK Sole Trader Self Assessment deletes self assessment returns","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":1028,"run_time":0.982316259,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/ledgers/expense_check_spec.rb[1:1:1:1:1]","description":"doesn't report any failure","full_description":"Ledgers::ExpenseCheck#run_check behaves like a ledger check when ledgers are correct behaves like no check errors doesn't report any failure","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":2,"run_time":0.088494266,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/ledgers/expense_check_spec.rb[1:1:2:1:1]","description":"reports a failed check","full_description":"Ledgers::ExpenseCheck#run_check behaves like a ledger check when ledgers have been removed behaves like check errors reports a failed check","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":77,"run_time":0.102967747,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/ledgers/expense_check_spec.rb[1:1:2:1:2]","description":"reports the failure","full_description":"Ledgers::ExpenseCheck#run_check behaves like a ledger check when ledgers have been removed behaves like check errors reports the failure","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":81,"run_time":0.12211565,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/ledgers/expense_check_spec.rb[1:1:3:1:1]","description":"reports a failed check","full_description":"Ledgers::ExpenseCheck#run_check behaves like a ledger check when the source item's ledgers cannot be recalculated behaves like check errors reports a failed check","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":77,"run_time":0.083750297,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/ledgers/expense_check_spec.rb[1:1:3:1:2]","description":"reports the failure","full_description":"Ledgers::ExpenseCheck#run_check behaves like a ledger check when the source item's ledgers cannot be recalculated behaves like check errors reports the failure","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":81,"run_time":0.106996521,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/ledgers/expense_check_spec.rb[1:1:4:1:1]","description":"doesn't report any failure","full_description":"Ledgers::ExpenseCheck#run_check behaves like a ledger check when the source item has a ledger with zero as a value behaves like no check errors doesn't report any failure","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":2,"run_time":0.12880167,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/ledgers/expense_check_spec.rb[1:1:5:1:1:1]","description":"has no failures","full_description":"Ledgers::ExpenseCheck#run_check behaves like a ledger check property tagged ledgers behaves like a property tagged ledger check with valid ledgers has no failures","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":11,"run_time":0.13585009,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/ledgers/expense_check_spec.rb[1:1:5:1:2:1]","description":"has failures on the item","full_description":"Ledgers::ExpenseCheck#run_check behaves like a ledger check property tagged ledgers behaves like a property tagged ledger check missing a property id has failures on the item","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":19,"run_time":0.143842206,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/report/csv_spec.rb[1:1:1]","description":"returns the correct CSV data","full_description":"Cashflow::Report::Csv#generate returns the correct CSV data","status":"passed","file_path":"./spec/freeagent/cashflow/report/csv_spec.rb","line_number":113,"run_time":0.893075802,"pending_message":null,"screenshot":null},{"id":"./spec/validators/bank_account_uniqueness_validator_spec.rb[1:1]","description":"is valid when account number is blank","full_description":"BankAccountUniquenessValidator is valid when account number is blank","status":"passed","file_path":"./spec/validators/bank_account_uniqueness_validator_spec.rb","line_number":8,"run_time":0.046425569,"pending_message":null,"screenshot":null},{"id":"./spec/validators/bank_account_uniqueness_validator_spec.rb[1:2]","description":"is valid when sort code is blank","full_description":"BankAccountUniquenessValidator is valid when sort code is blank","status":"passed","file_path":"./spec/validators/bank_account_uniqueness_validator_spec.rb","line_number":13,"run_time":0.04764881,"pending_message":null,"screenshot":null},{"id":"./spec/validators/bank_account_uniqueness_validator_spec.rb[1:3]","description":"is valid when account number and sort code are both blank","full_description":"BankAccountUniquenessValidator is valid when account number and sort code are both blank","status":"passed","file_path":"./spec/validators/bank_account_uniqueness_validator_spec.rb","line_number":18,"run_time":0.046155501,"pending_message":null,"screenshot":null},{"id":"./spec/validators/bank_account_uniqueness_validator_spec.rb[1:4]","description":"is invalid when account and sort code are duplicated for an account","full_description":"BankAccountUniquenessValidator is invalid when account and sort code are duplicated for an account","status":"passed","file_path":"./spec/validators/bank_account_uniqueness_validator_spec.rb","line_number":23,"run_time":0.037249251,"pending_message":null,"screenshot":null},{"id":"./spec/validators/bank_account_uniqueness_validator_spec.rb[1:5]","description":"is valid when account and sort code are duplicated but on another company","full_description":"BankAccountUniquenessValidator is valid when account and sort code are duplicated but on another company","status":"passed","file_path":"./spec/validators/bank_account_uniqueness_validator_spec.rb","line_number":31,"run_time":0.111847982,"pending_message":null,"screenshot":null},{"id":"./spec/validators/bank_account_uniqueness_validator_spec.rb[1:6]","description":"is invalid when credit card is duplicated","full_description":"BankAccountUniquenessValidator is invalid when credit card is duplicated","status":"passed","file_path":"./spec/validators/bank_account_uniqueness_validator_spec.rb","line_number":40,"run_time":0.033634602,"pending_message":null,"screenshot":null},{"id":"./spec/validators/bank_account_uniqueness_validator_spec.rb[1:7]","description":"is valid if sort code and account number do not change","full_description":"BankAccountUniquenessValidator is valid if sort code and account number do not change","status":"passed","file_path":"./spec/validators/bank_account_uniqueness_validator_spec.rb","line_number":48,"run_time":0.048752052,"pending_message":null,"screenshot":null},{"id":"./spec/validators/bank_account_uniqueness_validator_spec.rb[1:8]","description":"won't compare with itself, unless id changes","full_description":"BankAccountUniquenessValidator won't compare with itself, unless id changes","status":"passed","file_path":"./spec/validators/bank_account_uniqueness_validator_spec.rb","line_number":57,"run_time":0.034014444,"pending_message":null,"screenshot":null},{"id":"./spec/validators/bank_account_uniqueness_validator_spec.rb[1:9:1]","description":"is invalid when one account number is zero padded and the other is not","full_description":"BankAccountUniquenessValidator non-standard account details is invalid when one account number is zero padded and the other is not","status":"passed","file_path":"./spec/validators/bank_account_uniqueness_validator_spec.rb","line_number":73,"run_time":0.034137107,"pending_message":null,"screenshot":null},{"id":"./spec/validators/bank_account_uniqueness_validator_spec.rb[1:9:2]","description":"is invalid when sort code is hyphenated","full_description":"BankAccountUniquenessValidator non-standard account details is invalid when sort code is hyphenated","status":"passed","file_path":"./spec/validators/bank_account_uniqueness_validator_spec.rb","line_number":84,"run_time":0.030530302,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:2:1:2:3]","description":"representing admin expenses","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the invoice accounting basis not on the Flat Rate Scheme Bank Account Entries representing admin expenses","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":3739,"run_time":0.733974177,"pending_message":null,"screenshot":null},{"id":"./spec/views/settings/company_delete_requests/new.html.erb_spec.rb[1:1:1:1]","description":"displays a warning message and hides the form","full_description":"settings/company_delete_requests/new for a company with active add-ons with CoPilot enabled displays a warning message and hides the form","status":"passed","file_path":"./spec/views/settings/company_delete_requests/new.html.erb_spec.rb","line_number":22,"run_time":0.697822494,"pending_message":null,"screenshot":null},{"id":"./spec/views/settings/company_delete_requests/new.html.erb_spec.rb[1:1:2:1]","description":"displays a warning message and hides the form","full_description":"settings/company_delete_requests/new for a company with active add-ons with more and one add-on enabled displays a warning message and hides the form","status":"passed","file_path":"./spec/views/settings/company_delete_requests/new.html.erb_spec.rb","line_number":43,"run_time":0.163269418,"pending_message":null,"screenshot":null},{"id":"./spec/views/settings/company_delete_requests/new.html.erb_spec.rb[1:2:1]","description":"shows the apple subscription checkbox","full_description":"settings/company_delete_requests/new for an apple subscription shows the apple subscription checkbox","status":"passed","file_path":"./spec/views/settings/company_delete_requests/new.html.erb_spec.rb","line_number":60,"run_time":0.199038117,"pending_message":null,"screenshot":null},{"id":"./spec/views/settings/company_delete_requests/new.html.erb_spec.rb[1:3:1]","description":"shows the apple subscription checkbox","full_description":"settings/company_delete_requests/new for an BCSG subscription shows the apple subscription checkbox","status":"passed","file_path":"./spec/views/settings/company_delete_requests/new.html.erb_spec.rb","line_number":72,"run_time":0.145634794,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/referrals_helper_spec.rb[1:1:1:1]","description":"does not have access to the referrals page","full_description":"ReferralsHelper#supports_referrals? while on a free trial does not have access to the referrals page","status":"passed","file_path":"./spec/helpers/referrals_helper_spec.rb","line_number":9,"run_time":0.08959077,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/referrals_helper_spec.rb[1:1:2:1]","description":"does have access to the referrals page","full_description":"ReferralsHelper#supports_referrals? with a company on a direct subscription does have access to the referrals page","status":"passed","file_path":"./spec/helpers/referrals_helper_spec.rb","line_number":16,"run_time":0.089128233,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/referrals_helper_spec.rb[1:1:3:1]","description":"does not have access to the referrals page","full_description":"ReferralsHelper#supports_referrals? with a whitelabel company does not have access to the referrals page","status":"passed","file_path":"./spec/helpers/referrals_helper_spec.rb","line_number":23,"run_time":0.21633901,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/referrals_helper_spec.rb[1:1:4:1]","description":"does not have access to the referrals page","full_description":"ReferralsHelper#supports_referrals? with a resold company does not have access to the referrals page","status":"passed","file_path":"./spec/helpers/referrals_helper_spec.rb","line_number":30,"run_time":0.088082316,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/referrals_helper_spec.rb[1:1:5:1]","description":"does have access to the referrals page","full_description":"ReferralsHelper#supports_referrals? with a NWG subsidised subscription does have access to the referrals page","status":"passed","file_path":"./spec/helpers/referrals_helper_spec.rb","line_number":37,"run_time":0.089903966,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/referrals_helper_spec.rb[1:2:1]","description":"returns the referrer url for the company","full_description":"ReferralsHelper#referrer_url returns the referrer url for the company","status":"passed","file_path":"./spec/helpers/referrals_helper_spec.rb","line_number":45,"run_time":0.006130014,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_data/all_company_data/year_ends_spec.rb[1:1]","description":"has no nested data","full_description":"Exporter::ExportableData::AllCompanyData::YearEnds has no nested data","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_data/all_company_data/year_ends_spec.rb","line_number":22,"run_time":0.110661222,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_data/all_company_data/year_ends_spec.rb[1:2]","description":"returns the correct exportable type","full_description":"Exporter::ExportableData::AllCompanyData::YearEnds returns the correct exportable type","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_data/all_company_data/year_ends_spec.rb","line_number":26,"run_time":0.100674182,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_data/all_company_data/year_ends_spec.rb[1:3]","description":"sorts year ends by date","full_description":"Exporter::ExportableData::AllCompanyData::YearEnds sorts year ends by date","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_data/all_company_data/year_ends_spec.rb","line_number":30,"run_time":0.092723239,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/bank_service_syncer_spec.rb[1:1:1]","description":"should create service if service with code does not exist","full_description":"BankFeeds::BankServiceSyncer upserting from Yodlee bank services should create service if service with code does not exist","status":"passed","file_path":"./spec/models/bank_feeds/bank_service_syncer_spec.rb","line_number":6,"run_time":0.012446966,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/bank_service_syncer_spec.rb[1:1:2]","description":"should log when it creates a new service","full_description":"BankFeeds::BankServiceSyncer upserting from Yodlee bank services should log when it creates a new service","status":"passed","file_path":"./spec/models/bank_feeds/bank_service_syncer_spec.rb","line_number":36,"run_time":0.009045007,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/bank_service_syncer_spec.rb[1:1:3]","description":"should put a service in beta only if it is in beta at Yodlee","full_description":"BankFeeds::BankServiceSyncer upserting from Yodlee bank services should put a service in beta only if it is in beta at Yodlee","status":"passed","file_path":"./spec/models/bank_feeds/bank_service_syncer_spec.rb","line_number":43,"run_time":0.014760467,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/bank_service_syncer_spec.rb[1:1:4]","description":"should not change beta when updating existing service","full_description":"BankFeeds::BankServiceSyncer upserting from Yodlee bank services should not change beta when updating existing service","status":"passed","file_path":"./spec/models/bank_feeds/bank_service_syncer_spec.rb","line_number":55,"run_time":0.027389719,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/bank_service_syncer_spec.rb[1:1:5]","description":"should mark service as undeprecated","full_description":"BankFeeds::BankServiceSyncer upserting from Yodlee bank services should mark service as undeprecated","status":"passed","file_path":"./spec/models/bank_feeds/bank_service_syncer_spec.rb","line_number":67,"run_time":0.016026424,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/bank_service_syncer_spec.rb[1:1:6]","description":"should update service if service with code exists","full_description":"BankFeeds::BankServiceSyncer upserting from Yodlee bank services should update service if service with code exists","status":"passed","file_path":"./spec/models/bank_feeds/bank_service_syncer_spec.rb","line_number":74,"run_time":0.017131543,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/bank_service_syncer_spec.rb[1:1:7]","description":"should log when it updates service","full_description":"BankFeeds::BankServiceSyncer upserting from Yodlee bank services should log when it updates service","status":"passed","file_path":"./spec/models/bank_feeds/bank_service_syncer_spec.rb","line_number":118,"run_time":0.016173153,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/bank_service_syncer_spec.rb[1:1:8]","description":"should not log when service is unchanged","full_description":"BankFeeds::BankServiceSyncer upserting from Yodlee bank services should not log when service is unchanged","status":"passed","file_path":"./spec/models/bank_feeds/bank_service_syncer_spec.rb","line_number":126,"run_time":0.012374806,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/bank_service_syncer_spec.rb[1:1:9]","description":"should not overwrite present values with blank values except if mfa_type changes","full_description":"BankFeeds::BankServiceSyncer upserting from Yodlee bank services should not overwrite present values with blank values except if mfa_type changes","status":"passed","file_path":"./spec/models/bank_feeds/bank_service_syncer_spec.rb","line_number":135,"run_time":0.014604311,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/bank_service_syncer_spec.rb[1:1:10]","description":"does not set the bank institution","full_description":"BankFeeds::BankServiceSyncer upserting from Yodlee bank services does not set the bank institution","status":"passed","file_path":"./spec/models/bank_feeds/bank_service_syncer_spec.rb","line_number":175,"run_time":0.013686425,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/bank_service_syncer_spec.rb[1:2:1]","description":"should add new bank service","full_description":"BankFeeds::BankServiceSyncer importing from Yodlee should add new bank service","status":"passed","file_path":"./spec/models/bank_feeds/bank_service_syncer_spec.rb","line_number":213,"run_time":0.0088392,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/bank_service_syncer_spec.rb[1:2:2]","description":"should report errors","full_description":"BankFeeds::BankServiceSyncer importing from Yodlee should report errors","status":"passed","file_path":"./spec/models/bank_feeds/bank_service_syncer_spec.rb","line_number":220,"run_time":0.011284063,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/bank_service_syncer_spec.rb[1:2:3]","description":"should recover from errors","full_description":"BankFeeds::BankServiceSyncer importing from Yodlee should recover from errors","status":"passed","file_path":"./spec/models/bank_feeds/bank_service_syncer_spec.rb","line_number":227,"run_time":0.014349693,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/bank_service_syncer_spec.rb[1:3:1]","description":"should deprecate service if it does not exist in Yodlee","full_description":"BankFeeds::BankServiceSyncer deprecating services should deprecate service if it does not exist in Yodlee","status":"passed","file_path":"./spec/models/bank_feeds/bank_service_syncer_spec.rb","line_number":238,"run_time":0.01711216,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/bank_service_syncer_spec.rb[1:3:2]","description":"should not deprecate service if exists at Yodlee","full_description":"BankFeeds::BankServiceSyncer deprecating services should not deprecate service if exists at Yodlee","status":"passed","file_path":"./spec/models/bank_feeds/bank_service_syncer_spec.rb","line_number":248,"run_time":0.013180935,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/bank_service_syncer_spec.rb[1:3:3]","description":"should not deprecate a service if service type is mismatched","full_description":"BankFeeds::BankServiceSyncer deprecating services should not deprecate a service if service type is mismatched","status":"passed","file_path":"./spec/models/bank_feeds/bank_service_syncer_spec.rb","line_number":258,"run_time":0.012973588,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/bank_service_syncer_spec.rb[1:4:1]","description":"is the bank services","full_description":"BankFeeds::BankServiceSyncer#yodlee_services is the bank services","status":"passed","file_path":"./spec/models/bank_feeds/bank_service_syncer_spec.rb","line_number":273,"run_time":0.009113707,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/bank_service_syncer_spec.rb[1:4:2]","description":"raises an error if the switch is broken","full_description":"BankFeeds::BankServiceSyncer#yodlee_services raises an error if the switch is broken","status":"passed","file_path":"./spec/models/bank_feeds/bank_service_syncer_spec.rb","line_number":279,"run_time":0.00978624,"pending_message":null,"screenshot":null},{"id":"./spec/models/guess_reference_transaction_spec.rb[1:1:1]","description":"is expected to validate that :company cannot be empty/falsy","full_description":"GuessReferenceTransaction validations is expected to validate that :company cannot be empty/falsy","status":"passed","file_path":"./spec/models/guess_reference_transaction_spec.rb","line_number":18,"run_time":0.041163254,"pending_message":null,"screenshot":null},{"id":"./spec/models/guess_reference_transaction_spec.rb[1:1:2]","description":"is expected to validate that :bank_account cannot be empty/falsy","full_description":"GuessReferenceTransaction validations is expected to validate that :bank_account cannot be empty/falsy","status":"passed","file_path":"./spec/models/guess_reference_transaction_spec.rb","line_number":19,"run_time":0.037777031,"pending_message":null,"screenshot":null},{"id":"./spec/models/guess_reference_transaction_spec.rb[1:1:3]","description":"is expected to validate that :bank_transaction cannot be empty/falsy","full_description":"GuessReferenceTransaction validations is expected to validate that :bank_transaction cannot be empty/falsy","status":"passed","file_path":"./spec/models/guess_reference_transaction_spec.rb","line_number":20,"run_time":0.033081254,"pending_message":null,"screenshot":null},{"id":"./spec/models/guess_reference_transaction_spec.rb[1:2:1:1]","description":"is expected to eq false","full_description":"GuessReferenceTransaction.available_for_company? with `automation_pilot` and `guess_reference_transactions` off is expected to eq false","status":"passed","file_path":"./spec/models/guess_reference_transaction_spec.rb","line_number":26,"run_time":0.035151647,"pending_message":null,"screenshot":null},{"id":"./spec/models/guess_reference_transaction_spec.rb[1:2:2:1]","description":"is expected to eq false","full_description":"GuessReferenceTransaction.available_for_company? with `automation_pilot` on and `guess_reference_transactions` off is expected to eq false","status":"passed","file_path":"./spec/models/guess_reference_transaction_spec.rb","line_number":33,"run_time":0.035483015,"pending_message":null,"screenshot":null},{"id":"./spec/models/guess_reference_transaction_spec.rb[1:2:3:1]","description":"is expected to eq true","full_description":"GuessReferenceTransaction.available_for_company? with `automation_pilot` and `guess_reference_transactions` on is expected to eq true","status":"passed","file_path":"./spec/models/guess_reference_transaction_spec.rb","line_number":41,"run_time":0.037231577,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[4:11]","description":"get invoice as PDF","full_description":"InvoicesController GET :show for uk company get invoice as PDF","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":629,"run_time":0.313217616,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/line_items/account_totals/invoice_spec.rb[1:1:1]","description":"returns the invoices company","full_description":"LineItems::AccountTotals::Invoice#company returns the invoices company","status":"passed","file_path":"./spec/freeagent/line_items/account_totals/invoice_spec.rb","line_number":10,"run_time":0.014772106,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/line_items/account_totals/invoice_spec.rb[1:2:1]","description":"returns the dated_on of the invoice","full_description":"LineItems::AccountTotals::Invoice#dated_on returns the dated_on of the invoice","status":"passed","file_path":"./spec/freeagent/line_items/account_totals/invoice_spec.rb","line_number":21,"run_time":0.011163032,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/line_items/account_totals/invoice_spec.rb[1:3:1]","description":"returns the native_total_value_at_invoice_date of the invoice","full_description":"LineItems::AccountTotals::Invoice#native_total_value returns the native_total_value_at_invoice_date of the invoice","status":"passed","file_path":"./spec/freeagent/line_items/account_totals/invoice_spec.rb","line_number":42,"run_time":0.031630386,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/line_items/account_totals/invoice_spec.rb[1:4:1]","description":"returns the native_net_value_at_invoice_date of the invoice","full_description":"LineItems::AccountTotals::Invoice#native_net_value returns the native_net_value_at_invoice_date of the invoice","status":"passed","file_path":"./spec/freeagent/line_items/account_totals/invoice_spec.rb","line_number":63,"run_time":0.026341325,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/line_items/account_totals/invoice_spec.rb[1:5:1]","description":"returns the sum of the native_sales_tax_value of the bill items","full_description":"LineItems::AccountTotals::Invoice#native_sales_tax_value returns the sum of the native_sales_tax_value of the bill items","status":"passed","file_path":"./spec/freeagent/line_items/account_totals/invoice_spec.rb","line_number":84,"run_time":0.035261937,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/line_items/account_totals/invoice_spec.rb[1:6:1]","description":"returns the exchange rate of the invoice","full_description":"LineItems::AccountTotals::Invoice#exchange_rate returns the exchange rate of the invoice","status":"passed","file_path":"./spec/freeagent/line_items/account_totals/invoice_spec.rb","line_number":95,"run_time":0.014731617,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/line_items/account_totals/invoice_spec.rb[1:7:1]","description":"returns the is_non_native_currency? of the invoice","full_description":"LineItems::AccountTotals::Invoice#is_non_native_currency? returns the is_non_native_currency? of the invoice","status":"passed","file_path":"./spec/freeagent/line_items/account_totals/invoice_spec.rb","line_number":112,"run_time":0.109319459,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/line_items/account_totals/invoice_spec.rb[1:8:1]","description":"returns invoice items wrapped in an LineItems::AccountTotals::InvoiceItem","full_description":"LineItems::AccountTotals::Invoice#line_items returns invoice items wrapped in an LineItems::AccountTotals::InvoiceItem","status":"passed","file_path":"./spec/freeagent/line_items/account_totals/invoice_spec.rb","line_number":130,"run_time":0.035616497,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/line_items/account_totals/invoice_spec.rb[1:9:1]","description":"does not include comment line items","full_description":"LineItems::AccountTotals::Invoice#non_comment does not include comment line items","status":"passed","file_path":"./spec/freeagent/line_items/account_totals/invoice_spec.rb","line_number":151,"run_time":0.03445644,"pending_message":null,"screenshot":null},{"id":"./spec/config/whenever_schedule_spec.rb[1:1]","description":"is syntactically valid","full_description":"whenever schedule is syntactically valid","status":"passed","file_path":"./spec/config/whenever_schedule_spec.rb","line_number":6,"run_time":0.006487509,"pending_message":null,"screenshot":null},{"id":"./spec/config/whenever_schedule_spec.rb[1:2:1]","description":"has a corresponding Rake task defined","full_description":"whenever schedule scheduled Rake tasks has a corresponding Rake task defined","status":"passed","file_path":"./spec/config/whenever_schedule_spec.rb","line_number":11,"run_time":0.079902351,"pending_message":null,"screenshot":null},{"id":"./spec/config/whenever_schedule_spec.rb[1:3:1]","description":"can be invoked without exception","full_description":"whenever schedule scheduled runner statements can be invoked without exception","status":"passed","file_path":"./spec/config/whenever_schedule_spec.rb","line_number":19,"run_time":0.0174574,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/cashflow/predicted_events_controller_spec.rb[1:1:1]","description":"renders the index view","full_description":"Cashflow::PredictedEventsController#show renders the index view","status":"passed","file_path":"./spec/controllers/cashflow/predicted_events_controller_spec.rb","line_number":17,"run_time":0.111516011,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/cashflow/predicted_events_controller_spec.rb[1:2:1:1]","description":"disables predicted events","full_description":"Cashflow::PredictedEventsController#update disabling predicted events disables predicted events","status":"passed","file_path":"./spec/controllers/cashflow/predicted_events_controller_spec.rb","line_number":49,"run_time":0.035596523,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/cashflow/predicted_events_controller_spec.rb[1:2:1:2]","description":"redirects back to the predicted events path","full_description":"Cashflow::PredictedEventsController#update disabling predicted events redirects back to the predicted events path","status":"passed","file_path":"./spec/controllers/cashflow/predicted_events_controller_spec.rb","line_number":65,"run_time":0.038757012,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/cashflow/predicted_events_controller_spec.rb[1:2:2:1]","description":"enables predicted events","full_description":"Cashflow::PredictedEventsController#update enabling predicted events enables predicted events","status":"passed","file_path":"./spec/controllers/cashflow/predicted_events_controller_spec.rb","line_number":91,"run_time":0.030321707,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/cashflow/predicted_events_controller_spec.rb[1:2:2:2]","description":"redirects back to the predicted events path","full_description":"Cashflow::PredictedEventsController#update enabling predicted events redirects back to the predicted events path","status":"passed","file_path":"./spec/controllers/cashflow/predicted_events_controller_spec.rb","line_number":107,"run_time":0.030331742,"pending_message":null,"screenshot":null}],"summary":{"duration":1.770712646,"example_count":499,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"499 examples, 0 failures"}