{"version":"3.11.0","messages":["Run options:\n  include {:ids=\u003e{\"./spec/models/uk_accounts_mapper_spec.rb\"=\u003e[\"1:2:1:3:2\", \"1:1:5:4\"], \"./spec/models/invoice_spec.rb\"=\u003e[\"1:90:4\", \"1:139:2:1\", \"1:112:2:1\"], \"./spec/controllers/invoices_controller_spec.rb\"=\u003e[\"12:14:1\"]}}\n  exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/features/radar/todo_items/overdue_invoices_spec.rb[1:1:1:1]","description":"is expected to have title \"Radar\"","full_description":"Admin Todo feed overdue invoices when the user has an overdue invoice behaves like there is an overdue invoices todo item is expected to have title \"Radar\"","status":"passed","file_path":"./spec/features/radar/todo_items/overdue_invoices_spec.rb","line_number":7,"run_time":14.316338982,"pending_message":null,"screenshot":null},{"id":"./spec/features/radar/todo_items/overdue_invoices_spec.rb[1:1:2:1:1]","description":"is expected to have title \"Radar\"","full_description":"Admin Todo feed overdue invoices when the user has an overdue invoice when the overdue_invoices_todo feature is disabled behaves like the admin todo list is clear is expected to have title \"Radar\"","status":"passed","file_path":"./spec/features/radar/todo_items/overdue_invoices_spec.rb","line_number":21,"run_time":0.79798068,"pending_message":null,"screenshot":null},{"id":"./spec/features/radar/todo_items/overdue_invoices_spec.rb[1:1:3:1:1]","description":"is expected to have title \"Radar\"","full_description":"Admin Todo feed overdue invoices when the user has an overdue invoice that has automatic reminder emails set up behaves like the admin todo list is clear is expected to have title \"Radar\"","status":"passed","file_path":"./spec/features/radar/todo_items/overdue_invoices_spec.rb","line_number":21,"run_time":0.946367948,"pending_message":null,"screenshot":null},{"id":"./spec/features/radar/todo_items/overdue_invoices_spec.rb[1:1:4:1:1]","description":"is expected to have title \"Radar\"","full_description":"Admin Todo feed overdue invoices when the user has an overdue invoice that is still in draft behaves like the admin todo list is clear is expected to have title \"Radar\"","status":"passed","file_path":"./spec/features/radar/todo_items/overdue_invoices_spec.rb","line_number":21,"run_time":0.831682397,"pending_message":null,"screenshot":null},{"id":"./spec/features/radar/todo_items/overdue_invoices_spec.rb[1:1:5:1:1]","description":"is expected to have title \"Radar\"","full_description":"Admin Todo feed overdue invoices when the user has an overdue invoice and the user clicks on the todo item to resolve it by sending a reminder email is expected to have title \"Radar\"","status":"passed","file_path":"./spec/features/radar/todo_items/overdue_invoices_spec.rb","line_number":102,"run_time":9.184643546,"pending_message":null,"screenshot":null},{"id":"./spec/features/radar/todo_items/overdue_invoices_spec.rb[1:2:1:1]","description":"is expected to have title \"Radar\"","full_description":"Admin Todo feed overdue invoices when the user has two overdue invoices behaves like there is an overdue invoices todo item is expected to have title \"Radar\"","status":"passed","file_path":"./spec/features/radar/todo_items/overdue_invoices_spec.rb","line_number":7,"run_time":0.901938126,"pending_message":null,"screenshot":null},{"id":"./spec/features/radar/todo_items/overdue_invoices_spec.rb[1:2:2:1:1:1]","description":"is expected to have title \"Radar\"","full_description":"Admin Todo feed overdue invoices when the user has two overdue invoices and the user clicks on the todo item to resolve it by sending a reminder email behaves like there is an overdue invoices todo item is expected to have title \"Radar\"","status":"passed","file_path":"./spec/features/radar/todo_items/overdue_invoices_spec.rb","line_number":7,"run_time":8.675239498,"pending_message":null,"screenshot":null},{"id":"./spec/features/radar/todo_items/overdue_invoices_spec.rb[1:2:2:2:1:1]","description":"is expected to have title \"Radar\"","full_description":"Admin Todo feed overdue invoices when the user has two overdue invoices and the user clicks on the todo item to resolve it by creating a credit note against the invoice behaves like there is an overdue invoices todo item is expected to have title \"Radar\"","status":"passed","file_path":"./spec/features/radar/todo_items/overdue_invoices_spec.rb","line_number":7,"run_time":4.955585603,"pending_message":null,"screenshot":null},{"id":"./spec/features/radar/todo_items/overdue_invoices_spec.rb[1:2:2:3:1:1]","description":"is expected to have title \"Radar\"","full_description":"Admin Todo feed overdue invoices when the user has two overdue invoices and the user clicks on the todo item to resolve it by writing off the invoice entirely behaves like there is an overdue invoices todo item is expected to have title \"Radar\"","status":"passed","file_path":"./spec/features/radar/todo_items/overdue_invoices_spec.rb","line_number":7,"run_time":3.3725532,"pending_message":null,"screenshot":null},{"id":"./spec/features/radar/todo_items/overdue_invoices_spec.rb[1:2:2:4:1:1]","description":"is expected to have title \"Radar\"","full_description":"Admin Todo feed overdue invoices when the user has two overdue invoices and the user clicks on the todo item to resolve it by recording manual payment for the invoice behaves like there is an overdue invoices todo item is expected to have title \"Radar\"","status":"passed","file_path":"./spec/features/radar/todo_items/overdue_invoices_spec.rb","line_number":7,"run_time":3.916085765,"pending_message":null,"screenshot":null},{"id":"./spec/features/radar/todo_items/overdue_invoices_spec.rb[1:3:1:1]","description":"is expected to have title \"Radar\"","full_description":"Admin Todo feed overdue invoices when the user has sent invoices but they are not overdue behaves like the admin todo list is clear is expected to have title \"Radar\"","status":"passed","file_path":"./spec/features/radar/todo_items/overdue_invoices_spec.rb","line_number":21,"run_time":0.877505478,"pending_message":null,"screenshot":null},{"id":"./spec/features/radar/todo_items/overdue_invoices_spec.rb[1:3:2:1:1]","description":"is expected to have title \"Radar\"","full_description":"Admin Todo feed overdue invoices when the user has sent invoices but they are not overdue if we wait a few days until the invoices become overdue behaves like there is an overdue invoices todo item is expected to have title \"Radar\"","status":"passed","file_path":"./spec/features/radar/todo_items/overdue_invoices_spec.rb","line_number":7,"run_time":1.211861596,"pending_message":null,"screenshot":null},{"id":"./spec/features/radar/todo_items/overdue_invoices_spec.rb[1:3:3:1:1]","description":"is expected to have title \"Radar\"","full_description":"Admin Todo feed overdue invoices when the user has sent invoices but they are not overdue if we then create an overdue invoice behaves like there is an overdue invoices todo item is expected to have title \"Radar\"","status":"passed","file_path":"./spec/features/radar/todo_items/overdue_invoices_spec.rb","line_number":7,"run_time":1.341878709,"pending_message":null,"screenshot":null},{"id":"./spec/features/radar/todo_items/overdue_invoices_spec.rb[1:3:4:1:1]","description":"is expected to have title \"Radar\"","full_description":"Admin Todo feed overdue invoices when the user has sent invoices but they are not overdue if we create another invoice that is due first then between the two due dates behaves like there is an overdue invoices todo item is expected to have title \"Radar\"","status":"passed","file_path":"./spec/features/radar/todo_items/overdue_invoices_spec.rb","line_number":7,"run_time":1.274475696,"pending_message":null,"screenshot":null},{"id":"./spec/features/auto_extract/attach_file_to_new_expense_spec.rb[1:1:1:1]","description":"displays extracted totals column with autofill information","full_description":"Attach Auto Extract file to new expense viewing the saved files modal for a new regular expense displays extracted totals column with autofill information","status":"passed","file_path":"./spec/features/auto_extract/attach_file_to_new_expense_spec.rb","line_number":19,"run_time":2.45886673,"pending_message":null,"screenshot":null},{"id":"./spec/features/auto_extract/attach_file_to_new_expense_spec.rb[1:1:2:1]","description":"displays extracted totals column without autofill information","full_description":"Attach Auto Extract file to new expense viewing the saved files modal for a new mileage claim displays extracted totals column without autofill information","status":"passed","file_path":"./spec/features/auto_extract/attach_file_to_new_expense_spec.rb","line_number":53,"run_time":1.977637834,"pending_message":null,"screenshot":null},{"id":"./spec/features/auto_extract/attach_file_to_new_expense_spec.rb[1:2:1]","description":"autofills description \u0026 receipt data for payment when attaching an extracted file with postive total","full_description":"Attach Auto Extract file to new expense attaching a file autofills description \u0026 receipt data for payment when attaching an extracted file with postive total","status":"passed","file_path":"./spec/features/auto_extract/attach_file_to_new_expense_spec.rb","line_number":98,"run_time":3.229174734,"pending_message":null,"screenshot":null},{"id":"./spec/features/auto_extract/attach_file_to_new_expense_spec.rb[1:2:2]","description":"autofills description \u0026 receipt data for refund when attaching an extracted file with negative total","full_description":"Attach Auto Extract file to new expense attaching a file autofills description \u0026 receipt data for refund when attaching an extracted file with negative total","status":"passed","file_path":"./spec/features/auto_extract/attach_file_to_new_expense_spec.rb","line_number":143,"run_time":3.680817388,"pending_message":null,"screenshot":null},{"id":"./spec/features/auto_extract/attach_file_to_new_expense_spec.rb[1:2:3]","description":"autofills description \u0026 receipt date only when attaching an extracted file with no total","full_description":"Attach Auto Extract file to new expense attaching a file autofills description \u0026 receipt date only when attaching an extracted file with no total","status":"passed","file_path":"./spec/features/auto_extract/attach_file_to_new_expense_spec.rb","line_number":183,"run_time":3.536472835,"pending_message":null,"screenshot":null},{"id":"./spec/features/auto_extract/attach_file_to_new_expense_spec.rb[1:2:4]","description":"autofills description when attaching a file that failed to extract","full_description":"Attach Auto Extract file to new expense attaching a file autofills description when attaching a file that failed to extract","status":"passed","file_path":"./spec/features/auto_extract/attach_file_to_new_expense_spec.rb","line_number":224,"run_time":3.107622029,"pending_message":null,"screenshot":null},{"id":"./spec/features/auto_extract/attach_file_to_new_expense_spec.rb[1:2:5]","description":"doesn't autofill description or receipt data when attaching an extracted file to a new mileage claim","full_description":"Attach Auto Extract file to new expense attaching a file doesn't autofill description or receipt data when attaching an extracted file to a new mileage claim","status":"passed","file_path":"./spec/features/auto_extract/attach_file_to_new_expense_spec.rb","line_number":259,"run_time":3.703817012,"pending_message":null,"screenshot":null},{"id":"./spec/features/auto_extract/attach_file_to_new_expense_spec.rb[1:2:6:1]","description":"shows comma-separated amount in modal, autofills with a dot-separated amount and saves the amount correctly","full_description":"Attach Auto Extract file to new expense attaching a file in the Spanish locale shows comma-separated amount in modal, autofills with a dot-separated amount and saves the amount correctly","status":"passed","file_path":"./spec/features/auto_extract/attach_file_to_new_expense_spec.rb","line_number":296,"run_time":3.432324762,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:1:1]","description":"schedules the job","full_description":"OpenBanking::NwgAdditionalFieldsImportJob.schedule schedules the job","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":42,"run_time":0.364199251,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:1:2:1]","description":"does not schedule the job","full_description":"OpenBanking::NwgAdditionalFieldsImportJob.schedule with a non-NWG consent does not schedule the job","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":49,"run_time":0.302141825,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:2:1:1]","description":"returns true","full_description":"OpenBanking::NwgAdditionalFieldsImportJob.is_available_for_consent? with a UK NWG consent returns true","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":59,"run_time":0.303348673,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:2:2:1]","description":"returns false","full_description":"OpenBanking::NwgAdditionalFieldsImportJob.is_available_for_consent? with a non-UK NWG consent returns false","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":65,"run_time":0.349514889,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:2:3:1]","description":"returns false","full_description":"OpenBanking::NwgAdditionalFieldsImportJob.is_available_for_consent? with a non-NWG consent returns false","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":71,"run_time":0.291437421,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:1:1]","description":"creates a Company partner identifiers entry with a BIN","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with an NWG consent object creates a Company partner identifiers entry with a BIN","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":97,"run_time":0.307063379,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:1:2]","description":"creates a Company partner identifiers entry with a CIN","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with an NWG consent object creates a Company partner identifiers entry with a CIN","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":107,"run_time":0.333056364,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:1:3]","description":"logs that it collected a BIN and a CIN","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with an NWG consent object logs that it collected a BIN and a CIN","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":118,"run_time":0.325975535,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:1:4]","description":"should schedule an NwgXrefSyncJob job for the received bins","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with an NWG consent object should schedule an NwgXrefSyncJob job for the received bins","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":129,"run_time":0.335711104,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:1:5]","description":"fails gracefully if the customer type is not supported by NWG","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with an NWG consent object fails gracefully if the customer type is not supported by NWG","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":136,"run_time":0.290582753,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:1:6]","description":"raise a ResponseError for other errors","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with an NWG consent object raise a ResponseError for other errors","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":155,"run_time":0.297017642,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:1:7:1]","description":"fails gracefully if the associated consent cannot be found","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with an NWG consent object missing database records fails gracefully if the associated consent cannot be found","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":172,"run_time":0.317211784,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:1:7:2]","description":"fails gracefully if the associated company cannot be found","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with an NWG consent object missing database records fails gracefully if the associated company cannot be found","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":191,"run_time":0.2822524,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:1:8:1]","description":"should not schedule an NwgXrefSyncJob job for each bin","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with an NWG consent object with nwg_xref_populate feature disabled should not schedule an NwgXrefSyncJob job for each bin","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":216,"run_time":0.285618804,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:2:1]","description":"returns without running","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with a non-NWG consent object returns without running","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":226,"run_time":0.302302585,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:3:1]","description":"returns without running","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform when the API returns an empty response returns without running","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":238,"run_time":0.306406537,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:4:1]","description":"perists both BINs","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with multiple BINs perists both BINs","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":254,"run_time":0.340866287,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:4:2]","description":"logs that there were multiple BINs recorded","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with multiple BINs logs that there were multiple BINs recorded","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":259,"run_time":0.339318134,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:5:1]","description":"logs there were no BINs in the response","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with no BIN numbers logs there were no BINs in the response","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":278,"run_time":0.312846885,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:6:1]","description":"logs there were no CINs in the response","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with no CIN numbers logs there were no CINs in the response","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":297,"run_time":0.277148675,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:7:1]","description":"records the BIN once","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with the same BIN repeated records the BIN once","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":319,"run_time":0.295589282,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:7:2]","description":"logs the creation of the PartnerIdentifier object once","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with the same BIN repeated logs the creation of the PartnerIdentifier object once","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":324,"run_time":0.306714305,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:8:1]","description":"doesn't store the CIN","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with the CIN already stored doesn't store the CIN","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":349,"run_time":0.308398925,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:8:2]","description":"doesn't log a collection of a CIN","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with the CIN already stored doesn't log a collection of a CIN","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":354,"run_time":0.313805301,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:1:1]","description":"is expected to eq [UkLimitedCompany(id: integer, subdomain: string, address1: string, town: string, region: string, pos...ed_setup_done: boolean, last_accessed_on: date, cash_basis: boolean, business_phone_number: string)]","full_description":"Copilot::Pricing#valid_company_types is expected to eq [UkLimitedCompany(id: integer, subdomain: string, address1: string, town: string, region: string, pos...ed_setup_done: boolean, last_accessed_on: date, cash_basis: boolean, business_phone_number: string)]","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":10,"run_time":0.009830895,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:2:1]","description":"has prices 0-2:7500, 3-10:9500, 11+: for vat_registered_uk_limited_company","full_description":"Copilot::Pricing#price has prices 0-2:7500, 3-10:9500, 11+: for vat_registered_uk_limited_company","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":35,"run_time":0.393393053,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:2:2]","description":"has prices 0-2:7500, 3-10:9500, 11+: for vat_registration_applied_for_uk_limited_company","full_description":"Copilot::Pricing#price has prices 0-2:7500, 3-10:9500, 11+: for vat_registration_applied_for_uk_limited_company","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":35,"run_time":0.480331948,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:2:3]","description":"has prices 0-2:6000, 3-10:8000, 11+: for uk_limited_company","full_description":"Copilot::Pricing#price has prices 0-2:6000, 3-10:8000, 11+: for uk_limited_company","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":35,"run_time":0.354253777,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:2:4]","description":"has prices 0-2:4500, 3-10:6500, 11+: for vat_registered_uk_sole_trader","full_description":"Copilot::Pricing#price has prices 0-2:4500, 3-10:6500, 11+: for vat_registered_uk_sole_trader","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":35,"run_time":0.434201975,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:2:5]","description":"has prices 0-2:4500, 3-10:6500, 11+: for vat_registration_applied_for_uk_sole_trader","full_description":"Copilot::Pricing#price has prices 0-2:4500, 3-10:6500, 11+: for vat_registration_applied_for_uk_sole_trader","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":35,"run_time":0.471475369,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:2:6]","description":"has prices 0-2:3000, 3-10:5000, 11+: for uk_sole_trader","full_description":"Copilot::Pricing#price has prices 0-2:3000, 3-10:5000, 11+: for uk_sole_trader","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":35,"run_time":0.40688562,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:2:7]","description":"has prices 0-2:7500, 3-10:9500, 11+: for vat_registered_uk_limited_liability_partnership","full_description":"Copilot::Pricing#price has prices 0-2:7500, 3-10:9500, 11+: for vat_registered_uk_limited_liability_partnership","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":35,"run_time":0.519610352,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:2:8]","description":"has prices 0-2:7500, 3-10:9500, 11+: for vat_registration_applied_for_uk_limited_liability_partnership","full_description":"Copilot::Pricing#price has prices 0-2:7500, 3-10:9500, 11+: for vat_registration_applied_for_uk_limited_liability_partnership","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":35,"run_time":0.443626308,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:2:9]","description":"has prices 0-2:6000, 3-10:8000, 11+: for uk_limited_liability_partnership","full_description":"Copilot::Pricing#price has prices 0-2:6000, 3-10:8000, 11+: for uk_limited_liability_partnership","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":35,"run_time":0.412356261,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:2:10]","description":"has prices 0-2:6500, 3-10:8500, 11+: for vat_registered_uk_partnership","full_description":"Copilot::Pricing#price has prices 0-2:6500, 3-10:8500, 11+: for vat_registered_uk_partnership","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":35,"run_time":0.386470197,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:2:11]","description":"has prices 0-2:6500, 3-10:8500, 11+: for vat_registration_applied_for_uk_partnership","full_description":"Copilot::Pricing#price has prices 0-2:6500, 3-10:8500, 11+: for vat_registration_applied_for_uk_partnership","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":35,"run_time":0.383602579,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:2:12]","description":"has prices 0-2:5000, 3-10:7000, 11+: for uk_partnership","full_description":"Copilot::Pricing#price has prices 0-2:5000, 3-10:7000, 11+: for uk_partnership","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":35,"run_time":0.353324268,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:2:13]","description":"has prices 0-2:, 3-10:, 11+: for us_company","full_description":"Copilot::Pricing#price has prices 0-2:, 3-10:, 11+: for us_company","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":35,"run_time":0.444191503,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:2:14:1]","description":"is not counted towards the employee limit","full_description":"Copilot::Pricing#price with two current employees, plus one profile from the previous tax year is not counted towards the employee limit","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":66,"run_time":0.073972938,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:2:15:1]","description":"should cache the result","full_description":"Copilot::Pricing#price when called repeatedly should cache the result","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":75,"run_time":0.006227996,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:3:1:1]","description":"is expected to be truthy","full_description":"Copilot::Pricing#valid_company_size? with no employees is expected to be truthy","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":97,"run_time":0.007212986,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:3:2:1]","description":"is expected to be truthy","full_description":"Copilot::Pricing#valid_company_size? with one employee is expected to be truthy","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":103,"run_time":0.062774315,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:3:3:1]","description":"is expected to be truthy","full_description":"Copilot::Pricing#valid_company_size? with ten employees is expected to be truthy","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":109,"run_time":0.3130668,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:3:4:1]","description":"is expected to be falsey","full_description":"Copilot::Pricing#valid_company_size? with 11 employees is expected to be falsey","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":115,"run_time":0.324182865,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/sessions/open_id_connect_controller_spec.rb[1:1:1:1]","description":"logs the user into the first associated identity","full_description":"Sessions::OpenIdConnectController#callback logging in logs the user into the first associated identity","status":"passed","file_path":"./spec/controllers/sessions/open_id_connect_controller_spec.rb","line_number":30,"run_time":0.766636844,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/sessions/open_id_connect_controller_spec.rb[1:1:1:2]","description":"redirects the user to the login destination","full_description":"Sessions::OpenIdConnectController#callback logging in redirects the user to the login destination","status":"passed","file_path":"./spec/controllers/sessions/open_id_connect_controller_spec.rb","line_number":47,"run_time":0.261164833,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/sessions/open_id_connect_controller_spec.rb[1:1:1:3]","description":"updates the users' last logged in timestamp","full_description":"Sessions::OpenIdConnectController#callback logging in updates the users' last logged in timestamp","status":"passed","file_path":"./spec/controllers/sessions/open_id_connect_controller_spec.rb","line_number":55,"run_time":0.242719887,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/sessions/open_id_connect_controller_spec.rb[1:1:1:4:1]","description":"updates the email address of the user and external identity","full_description":"Sessions::OpenIdConnectController#callback logging in with a provider that supports practice email linking updates the email address of the user and external identity","status":"passed","file_path":"./spec/controllers/sessions/open_id_connect_controller_spec.rb","line_number":66,"run_time":0.31624423,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/sessions/open_id_connect_controller_spec.rb[1:1:1:4:2:1]","description":"silently fails to update the email address","full_description":"Sessions::OpenIdConnectController#callback logging in with a provider that supports practice email linking when there is another unassociated account manager with the same email address silently fails to update the email address","status":"passed","file_path":"./spec/controllers/sessions/open_id_connect_controller_spec.rb","line_number":77,"run_time":0.257316113,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/sessions/open_id_connect_controller_spec.rb[1:1:1:5:1:1]","description":"keeps the user logged in","full_description":"Sessions::OpenIdConnectController#callback logging in with the remember_me parameter and the identity provider is google keeps the user logged in","status":"passed","file_path":"./spec/controllers/sessions/open_id_connect_controller_spec.rb","line_number":98,"run_time":0.272103534,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/sessions/open_id_connect_controller_spec.rb[1:1:1:5:2:1]","description":"ignores the remember_me parameter","full_description":"Sessions::OpenIdConnectController#callback logging in with the remember_me parameter and the identity provider is not google ignores the remember_me parameter","status":"passed","file_path":"./spec/controllers/sessions/open_id_connect_controller_spec.rb","line_number":107,"run_time":0.231362379,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/sessions/open_id_connect_controller_spec.rb[1:1:2:1]","description":"creates a new record","full_description":"Sessions::OpenIdConnectController#callback preparing a new identity association creates a new record","status":"passed","file_path":"./spec/controllers/sessions/open_id_connect_controller_spec.rb","line_number":118,"run_time":0.217755609,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/sessions/open_id_connect_controller_spec.rb[1:1:2:2]","description":"redirects to the login path with extra parameters","full_description":"Sessions::OpenIdConnectController#callback preparing a new identity association redirects to the login path with extra parameters","status":"passed","file_path":"./spec/controllers/sessions/open_id_connect_controller_spec.rb","line_number":129,"run_time":0.232195092,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/sessions/open_id_connect_controller_spec.rb[1:1:2:3:1]","description":"reuses a stale unassociated identity","full_description":"Sessions::OpenIdConnectController#callback preparing a new identity association reuse of existing unassociated identities reuses a stale unassociated identity","status":"passed","file_path":"./spec/controllers/sessions/open_id_connect_controller_spec.rb","line_number":138,"run_time":0.209044406,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/sessions/open_id_connect_controller_spec.rb[1:1:2:3:2]","description":"does not reuse an unassociated identity for another user","full_description":"Sessions::OpenIdConnectController#callback preparing a new identity association reuse of existing unassociated identities does not reuse an unassociated identity for another user","status":"passed","file_path":"./spec/controllers/sessions/open_id_connect_controller_spec.rb","line_number":146,"run_time":0.1954783,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/sessions/open_id_connect_controller_spec.rb[1:1:2:3:3]","description":"does not reuse an unassociated identity for another identity provider","full_description":"Sessions::OpenIdConnectController#callback preparing a new identity association reuse of existing unassociated identities does not reuse an unassociated identity for another identity provider","status":"passed","file_path":"./spec/controllers/sessions/open_id_connect_controller_spec.rb","line_number":154,"run_time":0.370704121,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/sessions/open_id_connect_controller_spec.rb[1:1:2:4:1]","description":"redirects and shows an error","full_description":"Sessions::OpenIdConnectController#callback preparing a new identity association with open linking disabled redirects and shows an error","status":"passed","file_path":"./spec/controllers/sessions/open_id_connect_controller_spec.rb","line_number":166,"run_time":0.184650296,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/sessions/open_id_connect_controller_spec.rb[1:1:2:4:2:1:1]","description":"creates an ExternalIdentity and logs them in","full_description":"Sessions::OpenIdConnectController#callback preparing a new identity association with open linking disabled with practice_email_linking enabled and an ExternalIdentity can be provisioned creates an ExternalIdentity and logs them in","status":"passed","file_path":"./spec/controllers/sessions/open_id_connect_controller_spec.rb","line_number":187,"run_time":0.250503372,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/sessions/open_id_connect_controller_spec.rb[1:1:2:4:2:2:1]","description":"redirects and shows an error","full_description":"Sessions::OpenIdConnectController#callback preparing a new identity association with open linking disabled with practice_email_linking enabled when an ExternalIdentity is not provisioned redirects and shows an error","status":"passed","file_path":"./spec/controllers/sessions/open_id_connect_controller_spec.rb","line_number":198,"run_time":0.179780613,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/sessions/open_id_connect_controller_spec.rb[1:1:3:1:1]","description":"logs the user into the matching account","full_description":"Sessions::OpenIdConnectController#callback with a target sgid when the sgid matches a record logs the user into the matching account","status":"passed","file_path":"./spec/controllers/sessions/open_id_connect_controller_spec.rb","line_number":221,"run_time":0.40645742,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/sessions/open_id_connect_controller_spec.rb[1:1:3:2:1]","description":"creates a new record","full_description":"Sessions::OpenIdConnectController#callback with a target sgid when the sgid doesn't match any records creates a new record","status":"passed","file_path":"./spec/controllers/sessions/open_id_connect_controller_spec.rb","line_number":231,"run_time":0.370098745,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/sessions/open_id_connect_controller_spec.rb[1:2:1:1]","description":"associates the identity","full_description":"Sessions::OpenIdConnectController#associate with a valid sgid associates the identity","status":"passed","file_path":"./spec/controllers/sessions/open_id_connect_controller_spec.rb","line_number":251,"run_time":0.277789102,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/sessions/open_id_connect_controller_spec.rb[1:2:1:2]","description":"redirects to the after login destination","full_description":"Sessions::OpenIdConnectController#associate with a valid sgid redirects to the after login destination","status":"passed","file_path":"./spec/controllers/sessions/open_id_connect_controller_spec.rb","line_number":255,"run_time":0.217210851,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/sessions/open_id_connect_controller_spec.rb[1:2:2:1]","description":"does not associate the identity","full_description":"Sessions::OpenIdConnectController#associate with an invalid sgid does not associate the identity","status":"passed","file_path":"./spec/controllers/sessions/open_id_connect_controller_spec.rb","line_number":263,"run_time":0.262233479,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/sessions/open_id_connect_controller_spec.rb[1:2:2:2]","description":"redirects to the login path","full_description":"Sessions::OpenIdConnectController#associate with an invalid sgid redirects to the login path","status":"passed","file_path":"./spec/controllers/sessions/open_id_connect_controller_spec.rb","line_number":267,"run_time":0.217952198,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/sessions/open_id_connect_controller_spec.rb[1:2:3:1]","description":"does not associate the identity","full_description":"Sessions::OpenIdConnectController#associate when there's already an associated and matching identity does not associate the identity","status":"passed","file_path":"./spec/controllers/sessions/open_id_connect_controller_spec.rb","line_number":283,"run_time":0.219878119,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/sessions/open_id_connect_controller_spec.rb[1:3:1]","description":"deletes a revokable identity","full_description":"Sessions::OpenIdConnectController#revoke deletes a revokable identity","status":"passed","file_path":"./spec/controllers/sessions/open_id_connect_controller_spec.rb","line_number":298,"run_time":0.41650216,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/sessions/open_id_connect_controller_spec.rb[1:3:2]","description":"does not delete a non-revokable identity","full_description":"Sessions::OpenIdConnectController#revoke does not delete a non-revokable identity","status":"passed","file_path":"./spec/controllers/sessions/open_id_connect_controller_spec.rb","line_number":305,"run_time":0.450564839,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/sessions/open_id_connect_controller_spec.rb[1:3:3]","description":"revokes other user sessions","full_description":"Sessions::OpenIdConnectController#revoke revokes other user sessions","status":"passed","file_path":"./spec/controllers/sessions/open_id_connect_controller_spec.rb","line_number":310,"run_time":0.402184703,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/sessions/open_id_connect_controller_spec.rb[1:4:1]","description":"copies the message parameter into the flash","full_description":"Sessions::OpenIdConnectController#auth_failure copies the message parameter into the flash","status":"passed","file_path":"./spec/controllers/sessions/open_id_connect_controller_spec.rb","line_number":323,"run_time":0.010814201,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/sessions/open_id_connect_controller_spec.rb[1:4:2]","description":"shows a generic flash without the message parameter","full_description":"Sessions::OpenIdConnectController#auth_failure shows a generic flash without the message parameter","status":"passed","file_path":"./spec/controllers/sessions/open_id_connect_controller_spec.rb","line_number":329,"run_time":0.008816773,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/sessions/open_id_connect_controller_spec.rb[1:4:3]","description":"redirects to the login page","full_description":"Sessions::OpenIdConnectController#auth_failure redirects to the login page","status":"passed","file_path":"./spec/controllers/sessions/open_id_connect_controller_spec.rb","line_number":335,"run_time":0.0083463,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:1:1]","description":"is expected to eq \"open_banking_bank_integrations\"","full_description":"OpenBanking::BankIntegration.table_name is expected to eq \"open_banking_bank_integrations\"","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":15,"run_time":0.012917992,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:2:1]","description":"returns providers available for a company","full_description":"OpenBanking::BankIntegration.available_providers_for returns providers available for a company","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":19,"run_time":0.01601154,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:2:2:1]","description":"returns no providers","full_description":"OpenBanking::BankIntegration.available_providers_for bank service does not exist returns no providers","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":29,"run_time":0.016929205,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:2:3:1]","description":"returns no providers","full_description":"OpenBanking::BankIntegration.available_providers_for provider is not available to company returns no providers","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":37,"run_time":0.018383091,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:3:1]","description":"creates an integration if one doesn't exist","full_description":"OpenBanking::BankIntegration.for creates an integration if one doesn't exist","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":44,"run_time":0.020238497,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:3:2]","description":"finds an integration if one exists","full_description":"OpenBanking::BankIntegration.for finds an integration if one exists","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":50,"run_time":0.019704826,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:4:1]","description":"removes all associated bank_feeds","full_description":"OpenBanking::BankIntegration#destroy removes all associated bank_feeds","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":110,"run_time":0.116681789,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:5:1]","description":"is the provider","full_description":"OpenBanking::BankIntegration#provider is the provider","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":120,"run_time":0.021562941,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:6:1]","description":"fetches bank service matching provider name","full_description":"OpenBanking::BankIntegration#bank_service fetches bank service matching provider name","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":127,"run_time":0.021268389,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:7:1]","description":"asks the authorisation client for the authorisation url","full_description":"OpenBanking::BankIntegration#authorise_url asks the authorisation client for the authorisation url","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":137,"run_time":0.021623617,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:8:1]","description":"propagates any errors raised","full_description":"OpenBanking::BankIntegration#create_consent_with_provider! propagates any errors raised","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":184,"run_time":0.096170538,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:8:2:1]","description":"creates a consent with the correct attributes","full_description":"OpenBanking::BankIntegration#create_consent_with_provider! behaves like a consent created expiring in creates a consent with the correct attributes","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":203,"run_time":0.176094278,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:8:2:2]","description":"expires the consent on the correct date at midnight","full_description":"OpenBanking::BankIntegration#create_consent_with_provider! behaves like a consent created expiring in expires the consent on the correct date at midnight","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":208,"run_time":0.171300344,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:8:2:3]","description":"sets the bank_expires_at to be the time received","full_description":"OpenBanking::BankIntegration#create_consent_with_provider! behaves like a consent created expiring in sets the bank_expires_at to be the time received","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":214,"run_time":0.186735123,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:8:3:1]","description":"creates a consent with the correct attributes","full_description":"OpenBanking::BankIntegration#create_consent_with_provider! when the remote consent response has an empty expiration date field creates a consent with the correct attributes","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":203,"run_time":0.249921961,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:8:3:2]","description":"expires the consent on the correct date at midnight","full_description":"OpenBanking::BankIntegration#create_consent_with_provider! when the remote consent response has an empty expiration date field expires the consent on the correct date at midnight","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":208,"run_time":0.197876322,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:8:3:3]","description":"sets the bank_expires_at to be the time received","full_description":"OpenBanking::BankIntegration#create_consent_with_provider! when the remote consent response has an empty expiration date field sets the bank_expires_at to be the time received","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":214,"run_time":0.184823165,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:8:4:1]","description":"creates a consent with the correct attributes","full_description":"OpenBanking::BankIntegration#create_consent_with_provider! when the remote consent response has no expiration date field creates a consent with the correct attributes","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":203,"run_time":0.212226001,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:8:4:2]","description":"expires the consent on the correct date at midnight","full_description":"OpenBanking::BankIntegration#create_consent_with_provider! when the remote consent response has no expiration date field expires the consent on the correct date at midnight","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":208,"run_time":0.202575038,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:8:4:3]","description":"sets the bank_expires_at to be the time received","full_description":"OpenBanking::BankIntegration#create_consent_with_provider! when the remote consent response has no expiration date field sets the bank_expires_at to be the time received","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":214,"run_time":0.184450733,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:8:5:1]","description":"creates a consent with the correct attributes","full_description":"OpenBanking::BankIntegration#create_consent_with_provider! when the remote consent response has an expiration date beyond 90 days creates a consent with the correct attributes","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":203,"run_time":0.198591026,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:8:5:2]","description":"expires the consent on the correct date at midnight","full_description":"OpenBanking::BankIntegration#create_consent_with_provider! when the remote consent response has an expiration date beyond 90 days expires the consent on the correct date at midnight","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":208,"run_time":0.186243594,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:8:5:3]","description":"sets the bank_expires_at to be the time received","full_description":"OpenBanking::BankIntegration#create_consent_with_provider! when the remote consent response has an expiration date beyond 90 days sets the bank_expires_at to be the time received","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":214,"run_time":0.201011135,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:8:6:1]","description":"creates a consent with the correct attributes","full_description":"OpenBanking::BankIntegration#create_consent_with_provider! when the remote consent response has an expiration date shorter that 90 days creates a consent with the correct attributes","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":203,"run_time":0.220738178,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:8:6:2]","description":"expires the consent on the correct date at midnight","full_description":"OpenBanking::BankIntegration#create_consent_with_provider! when the remote consent response has an expiration date shorter that 90 days expires the consent on the correct date at midnight","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":208,"run_time":0.219018037,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:8:6:3]","description":"sets the bank_expires_at to be the time received","full_description":"OpenBanking::BankIntegration#create_consent_with_provider! when the remote consent response has an expiration date shorter that 90 days sets the bank_expires_at to be the time received","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":214,"run_time":0.219665466,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:9:1:1]","description":"returns true","full_description":"OpenBanking::BankIntegration#try_tpp_90_day_reconsent bank integration is 90 day TPP reconsent eligible returns true","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":268,"run_time":0.47538607,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:9:1:2]","description":"sets `expires_at` on all authorised consents to 90 days in the future","full_description":"OpenBanking::BankIntegration#try_tpp_90_day_reconsent bank integration is 90 day TPP reconsent eligible sets `expires_at` on all authorised consents to 90 days in the future","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":272,"run_time":0.889307796,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:9:1:3]","description":"schedules import jobs","full_description":"OpenBanking::BankIntegration#try_tpp_90_day_reconsent bank integration is 90 day TPP reconsent eligible schedules import jobs","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":276,"run_time":0.342398308,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:9:1:4]","description":"published reconsent event","full_description":"OpenBanking::BankIntegration#try_tpp_90_day_reconsent bank integration is 90 day TPP reconsent eligible published reconsent event","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":290,"run_time":0.3363119,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:9:2:1]","description":"returns nil","full_description":"OpenBanking::BankIntegration#try_tpp_90_day_reconsent bank integration is not 90 days TPP reconsent eligible returns nil","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":296,"run_time":0.027646966,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:9:2:2]","description":"does not modify the expriy date on any consents","full_description":"OpenBanking::BankIntegration#try_tpp_90_day_reconsent bank integration is not 90 days TPP reconsent eligible does not modify the expriy date on any consents","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":300,"run_time":0.119690657,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:9:2:3]","description":"does not schedule any import jobs","full_description":"OpenBanking::BankIntegration#try_tpp_90_day_reconsent bank integration is not 90 days TPP reconsent eligible does not schedule any import jobs","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":305,"run_time":0.029148352,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:9:2:4]","description":"does not publish any events","full_description":"OpenBanking::BankIntegration#try_tpp_90_day_reconsent bank integration is not 90 days TPP reconsent eligible does not publish any events","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":309,"run_time":0.02777295,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:10:1:1]","description":"is eligible for TPP 90 day reconsent journey","full_description":"OpenBanking::BankIntegration#tpp_90_day_eligible? TPP 90 Day reconsent conditions met is eligible for TPP 90 day reconsent journey","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":325,"run_time":0.358165267,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:10:2:1:1]","description":"is not eligible for TPP 90 day reconsent journey","full_description":"OpenBanking::BankIntegration#tpp_90_day_eligible? when no authorised consents behaves like TPP 90 Day reconsent conditions not met is not eligible for TPP 90 day reconsent journey","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":331,"run_time":0.318527447,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:10:3:1:1]","description":"is not eligible for TPP 90 day reconsent journey","full_description":"OpenBanking::BankIntegration#tpp_90_day_eligible? when tpp reconsent not enabled on provider config behaves like TPP 90 Day reconsent conditions not met is not eligible for TPP 90 day reconsent journey","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":331,"run_time":0.302534463,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:10:4:1:1]","description":"is not eligible for TPP 90 day reconsent journey","full_description":"OpenBanking::BankIntegration#tpp_90_day_eligible? when consent expires at bank less than 90 days from today behaves like TPP 90 Day reconsent conditions not met is not eligible for TPP 90 day reconsent journey","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":331,"run_time":0.286579969,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:10:5:1:1]","description":"is not eligible for TPP 90 day reconsent journey","full_description":"OpenBanking::BankIntegration#tpp_90_day_eligible? when last import was more than 90 days ago behaves like TPP 90 Day reconsent conditions not met is not eligible for TPP 90 day reconsent journey","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":331,"run_time":0.320884821,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/bank_integration_spec.rb[1:10:6:1:1]","description":"is not eligible for TPP 90 day reconsent journey","full_description":"OpenBanking::BankIntegration#tpp_90_day_eligible? when feed is in connection issue behaves like TPP 90 Day reconsent conditions not met is not eligible for TPP 90 day reconsent journey","status":"passed","file_path":"./spec/models/open_banking/bank_integration_spec.rb","line_number":331,"run_time":0.322499303,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_data/all_company_data/ct600a_return_payments_spec.rb[1:1]","description":"has no nested data","full_description":"Exporter::ExportableData::AllCompanyData::Ct600aReturnPayments has no nested data","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_data/all_company_data/ct600a_return_payments_spec.rb","line_number":9,"run_time":1.22401488,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_data/all_company_data/ct600a_return_payments_spec.rb[1:2]","description":"returns the correct exportable type","full_description":"Exporter::ExportableData::AllCompanyData::Ct600aReturnPayments returns the correct exportable type","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_data/all_company_data/ct600a_return_payments_spec.rb","line_number":13,"run_time":1.092391457,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_data/all_company_data/ct600a_return_payments_spec.rb[1:3]","description":"operates on company's CT600A Return Payments","full_description":"Exporter::ExportableData::AllCompanyData::Ct600aReturnPayments operates on company's CT600A Return Payments","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_data/all_company_data/ct600a_return_payments_spec.rb","line_number":17,"run_time":1.085993498,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/finance/subscription_payment_report_spec.rb[1:1]","description":"generates the csv properly","full_description":"Admin::Finance::SubscriptionPaymentReport generates the csv properly","status":"passed","file_path":"./spec/models/admin/finance/subscription_payment_report_spec.rb","line_number":13,"run_time":0.239453396,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/finance/subscription_payment_report_spec.rb[1:2]","description":"does not include App Store payments","full_description":"Admin::Finance::SubscriptionPaymentReport does not include App Store payments","status":"passed","file_path":"./spec/models/admin/finance/subscription_payment_report_spec.rb","line_number":44,"run_time":0.290010031,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/finance/subscription_payment_report_spec.rb[1:3]","description":"includes the original payment date of a refund","full_description":"Admin::Finance::SubscriptionPaymentReport includes the original payment date of a refund","status":"passed","file_path":"./spec/models/admin/finance/subscription_payment_report_spec.rb","line_number":55,"run_time":0.323869995,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/finance/subscription_payment_report_spec.rb[1:5]","description":"correctly displays companies with an active CoPilot addon","full_description":"Admin::Finance::SubscriptionPaymentReport correctly displays companies with an active CoPilot addon","status":"passed","file_path":"./spec/models/admin/finance/subscription_payment_report_spec.rb","line_number":96,"run_time":0.395764077,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/finance/subscription_payment_report_spec.rb[1:7]","description":"displays separate totals for each item_type","full_description":"Admin::Finance::SubscriptionPaymentReport displays separate totals for each item_type","status":"passed","file_path":"./spec/models/admin/finance/subscription_payment_report_spec.rb","line_number":196,"run_time":0.290739571,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/finance/subscription_payment_report_spec.rb[1:4:1]","description":"generates the csv properly","full_description":"Admin::Finance::SubscriptionPaymentReport with a payment from a deleted company generates the csv properly","status":"passed","file_path":"./spec/models/admin/finance/subscription_payment_report_spec.rb","line_number":64,"run_time":0.111125743,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/finance/subscription_payment_report_spec.rb[1:6:1:1]","description":"correctly displays companies with an active CoPilot addon","full_description":"Admin::Finance::SubscriptionPaymentReport with prior CoPilot addon from a previous month correctly displays companies with an active CoPilot addon","status":"passed","file_path":"./spec/models/admin/finance/subscription_payment_report_spec.rb","line_number":129,"run_time":0.389584303,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/finance/subscription_payment_report_spec.rb[1:6:1:2]","description":"correctly displays companies without an active CoPilot addon","full_description":"Admin::Finance::SubscriptionPaymentReport with prior CoPilot addon from a previous month correctly displays companies without an active CoPilot addon","status":"passed","file_path":"./spec/models/admin/finance/subscription_payment_report_spec.rb","line_number":138,"run_time":0.323596101,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/finance/subscription_payment_report_spec.rb[1:6:2:1:1]","description":"includes the available information","full_description":"Admin::Finance::SubscriptionPaymentReport with prior CoPilot addon from earlier this month with the invoice date prior to cancellation includes the available information","status":"passed","file_path":"./spec/models/admin/finance/subscription_payment_report_spec.rb","line_number":153,"run_time":0.330520852,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/finance/subscription_payment_report_spec.rb[1:6:2:2:1]","description":"does not include CoPilot information","full_description":"Admin::Finance::SubscriptionPaymentReport with prior CoPilot addon from earlier this month with the invoice date after to cancellation does not include CoPilot information","status":"passed","file_path":"./spec/models/admin/finance/subscription_payment_report_spec.rb","line_number":164,"run_time":0.36403417,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/finance/subscription_payment_report_spec.rb[1:6:3:1:1]","description":"does not include CoPilot information","full_description":"Admin::Finance::SubscriptionPaymentReport with prior CoPilot addon from earlier today with another addon added since does not include CoPilot information","status":"passed","file_path":"./spec/models/admin/finance/subscription_payment_report_spec.rb","line_number":183,"run_time":0.401421241,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/finance/subscription_payment_report_spec.rb[1:8:1]","description":"saves the report csv to a tempfile","full_description":"Admin::Finance::SubscriptionPaymentReport#report_file saves the report csv to a tempfile","status":"passed","file_path":"./spec/models/admin/finance/subscription_payment_report_spec.rb","line_number":212,"run_time":0.187190774,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/vat_return_spec.rb[1:1]","description":"has VAT Returns as its section name","full_description":"Exporter::ExportableTypes::VatReturn has VAT Returns as its section name","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/vat_return_spec.rb","line_number":32,"run_time":0.307897948,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/vat_return_spec.rb[1:2]","description":"has no nested types","full_description":"Exporter::ExportableTypes::VatReturn has no nested types","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/vat_return_spec.rb","line_number":36,"run_time":0.318308827,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/vat_return_spec.rb[1:3]","description":"has correct headings, correctly ordered","full_description":"Exporter::ExportableTypes::VatReturn has correct headings, correctly ordered","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/vat_return_spec.rb","line_number":40,"run_time":0.282992408,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/vat_return_spec.rb[1:4]","description":"returns correct values, correctly ordered","full_description":"Exporter::ExportableTypes::VatReturn returns correct values, correctly ordered","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/vat_return_spec.rb","line_number":63,"run_time":0.289457884,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/vat_return_spec.rb[1:5]","description":"returns the correct cached values","full_description":"Exporter::ExportableTypes::VatReturn returns the correct cached values","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/vat_return_spec.rb","line_number":86,"run_time":0.321593952,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/vat_return_spec.rb[1:6:1]","description":"has correct vat registrations numbers","full_description":"Exporter::ExportableTypes::VatReturn with multiple registration has correct vat registrations numbers","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/vat_return_spec.rb","line_number":138,"run_time":1.225580986,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:1:1:1]","description":"is expected to equal true","full_description":"CustomerBilling::PaymentsToBeTakenToday#payment_required? when core service payment is due is expected to equal true","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":16,"run_time":0.095158058,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:1:1:2:1]","description":"is expected to equal false","full_description":"CustomerBilling::PaymentsToBeTakenToday#payment_required? when core service payment is due but the payment amount is 0 is expected to equal false","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":23,"run_time":0.08373749,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:1:2:1]","description":"is expected to equal true","full_description":"CustomerBilling::PaymentsToBeTakenToday#payment_required? when addon payment is due is expected to equal true","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":32,"run_time":0.114614555,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:1:3:1]","description":"is expected to equal false","full_description":"CustomerBilling::PaymentsToBeTakenToday#payment_required? when neither core service or addon payment is due is expected to equal false","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":36,"run_time":0.081965344,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:2:1:1]","description":"is expected to equal true","full_description":"CustomerBilling::PaymentsToBeTakenToday#core_service_payment_due? when subscription is in grace is expected to equal true","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":46,"run_time":0.11740773,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:2:2:1]","description":"is expected to equal true","full_description":"CustomerBilling::PaymentsToBeTakenToday#core_service_payment_due? when subscription is suspended is expected to equal true","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":52,"run_time":0.0865946,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:2:3:1:1]","description":"is expected to equal true","full_description":"CustomerBilling::PaymentsToBeTakenToday#core_service_payment_due? when subscribed when next_payment_date is today is expected to equal true","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":63,"run_time":0.087732051,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:2:3:2:1]","description":"is expected to equal true","full_description":"CustomerBilling::PaymentsToBeTakenToday#core_service_payment_due? when subscribed when next_payment_date is in the past is expected to equal true","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":71,"run_time":0.096303216,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:2:3:3:1]","description":"is expected to equal false","full_description":"CustomerBilling::PaymentsToBeTakenToday#core_service_payment_due? when subscribed when next_payment_date is in the future is expected to equal false","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":79,"run_time":0.08362094,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:2:4:1]","description":"is expected to be falsy","full_description":"CustomerBilling::PaymentsToBeTakenToday#core_service_payment_due? when RBSG subscriber is expected to be falsy","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":86,"run_time":0.095276069,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:3:1]","description":"is expected to equal false","full_description":"CustomerBilling::PaymentsToBeTakenToday#addon_payments_due? is expected to equal false","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":94,"run_time":0.098922103,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:3:2:1:1]","description":"is expected to equal true","full_description":"CustomerBilling::PaymentsToBeTakenToday#addon_payments_due? with enabled addons and the payment date is today is expected to equal true","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":100,"run_time":0.093025648,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:3:2:1:2:1]","description":"is expected to equal false","full_description":"CustomerBilling::PaymentsToBeTakenToday#addon_payments_due? with enabled addons and the payment date is today that are free is expected to equal false","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":105,"run_time":0.093847698,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:3:2:2:1]","description":"is expected to equal false","full_description":"CustomerBilling::PaymentsToBeTakenToday#addon_payments_due? with enabled addons and the payment date is in the future is expected to equal false","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":114,"run_time":0.088809836,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:3:3:1]","description":"is expected to equal true","full_description":"CustomerBilling::PaymentsToBeTakenToday#addon_payments_due? with suspended addons is expected to equal true","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":121,"run_time":0.10521507,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:3:3:2:1]","description":"is expected to equal false","full_description":"CustomerBilling::PaymentsToBeTakenToday#addon_payments_due? with suspended addons that are free is expected to equal false","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":126,"run_time":0.095282879,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:3:3:3:1]","description":"is expected to equal false","full_description":"CustomerBilling::PaymentsToBeTakenToday#addon_payments_due? with suspended addons when off_session is expected to equal false","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":132,"run_time":0.099601417,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:3:4:1]","description":"is expected to equal false","full_description":"CustomerBilling::PaymentsToBeTakenToday#addon_payments_due? with only cancelled addons is expected to equal false","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":141,"run_time":0.10679421,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:4:1:1]","description":"is expected to equal false","full_description":"CustomerBilling::PaymentsToBeTakenToday#core_service_and_addon_payments_due? when core service payment is due is expected to equal false","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":154,"run_time":0.089860915,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:4:1:2:1]","description":"is expected to equal true","full_description":"CustomerBilling::PaymentsToBeTakenToday#core_service_and_addon_payments_due? when core service payment is due and addon payment is due is expected to equal true","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":161,"run_time":0.108114909,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:4:2:1]","description":"is expected to equal false","full_description":"CustomerBilling::PaymentsToBeTakenToday#core_service_and_addon_payments_due? when only addon payment is due is expected to equal false","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":170,"run_time":0.113333436,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:4:3:1]","description":"is expected to equal false","full_description":"CustomerBilling::PaymentsToBeTakenToday#core_service_and_addon_payments_due? when neither core service or addon payment is due is expected to equal false","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":174,"run_time":0.084079545,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:5:1:1:1]","description":"is expected to equal false","full_description":"CustomerBilling::PaymentsToBeTakenToday#any_pro_rata_payments? when payment is due without any addons is expected to equal false","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":190,"run_time":0.097047004,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:5:1:2:1]","description":"is expected to equal false","full_description":"CustomerBilling::PaymentsToBeTakenToday#any_pro_rata_payments? when payment is due with an active addon is expected to equal false","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":198,"run_time":0.095569687,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:5:1:3:1:1]","description":"is expected to equal false","full_description":"CustomerBilling::PaymentsToBeTakenToday#any_pro_rata_payments? when payment is due with a suspended addon off_session: true is expected to equal false","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":209,"run_time":0.090790005,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:5:1:3:2:1]","description":"is expected to equal true","full_description":"CustomerBilling::PaymentsToBeTakenToday#any_pro_rata_payments? when payment is due with a suspended addon off_session: false is expected to equal true","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":215,"run_time":0.087134849,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:5:2:1:1]","description":"is expected to equal false","full_description":"CustomerBilling::PaymentsToBeTakenToday#any_pro_rata_payments? when payment is not due without any addons is expected to equal false","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":224,"run_time":0.086750008,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:5:2:2:1]","description":"is expected to equal false","full_description":"CustomerBilling::PaymentsToBeTakenToday#any_pro_rata_payments? when payment is not due with an active addon is expected to equal false","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":232,"run_time":0.100468477,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:5:2:3:1]","description":"is expected to equal false","full_description":"CustomerBilling::PaymentsToBeTakenToday#any_pro_rata_payments? when payment is not due with a suspended addon is expected to equal false","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":240,"run_time":0.094787375,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:6:1:1]","description":"builds an invoice for the core service","full_description":"CustomerBilling::PaymentsToBeTakenToday#invoice when core service payment is due builds an invoice for the core service","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":254,"run_time":0.081108869,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:6:2:1]","description":"builds an invoice for the addons","full_description":"CustomerBilling::PaymentsToBeTakenToday#invoice when payment for an active addon is due builds an invoice for the addons","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":264,"run_time":0.090957428,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:6:3:1]","description":"builds a pro-rata invoice for the addons","full_description":"CustomerBilling::PaymentsToBeTakenToday#invoice when payment for a suspended addon is due builds a pro-rata invoice for the addons","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":276,"run_time":0.111893913,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:6:4:1]","description":"builds a pro-rata invoice for the addons","full_description":"CustomerBilling::PaymentsToBeTakenToday#invoice when payment is due for active and suspended addons builds a pro-rata invoice for the addons","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":289,"run_time":0.13740553,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:6:5:1]","description":"builds an invoice for the core service + addons","full_description":"CustomerBilling::PaymentsToBeTakenToday#invoice when core service and addons payment is due builds an invoice for the core service + addons","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":300,"run_time":0.113819756,"pending_message":null,"screenshot":null},{"id":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb[1:6:6:1]","description":"builds an invoice for the core service + addons","full_description":"CustomerBilling::PaymentsToBeTakenToday#invoice when core service and suspended addons payment is due builds an invoice for the core service + addons","status":"passed","file_path":"./spec/models/customer_billing/payments_to_be_taken_today_spec.rb","line_number":311,"run_time":0.097828803,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:1:1]","description":"schedules the job","full_description":"OpenBanking::PreAssessedLimitValueSyncJob.schedule schedules the job","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":16,"run_time":0.048173902,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:1:2]","description":"does not schedule the job when the consent is not eligible for Pre-Assessed Limit","full_description":"OpenBanking::PreAssessedLimitValueSyncJob.schedule does not schedule the job when the consent is not eligible for Pre-Assessed Limit","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":22,"run_time":0.047713065,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:1]","description":"fetches the Pre-Assessed Limit amount","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform fetches the Pre-Assessed Limit amount","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":51,"run_time":0.049174821,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:2]","description":"logs the amount fetched from the API","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform logs the amount fetched from the API","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":56,"run_time":0.047934935,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:3]","description":"logs the Provider name","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform logs the Provider name","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":66,"run_time":0.048913411,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:4]","description":"logs the legalEntityType fetched from the API","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform logs the legalEntityType fetched from the API","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":76,"run_time":0.059171259,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:9]","description":"logs errors","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform logs errors","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":159,"run_time":0.059559643,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:5:1]","description":"logs the error and does not fail the job","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform when the consent is not eligible for Pre-Assessed Limit logs the error and does not fail the job","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":87,"run_time":0.058495259,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:6:1:1]","description":"sets the Pre-Assessed Limit amount to -1 for code B","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform with Legal Entity Types behaves like Unsets PAL amount sets the Pre-Assessed Limit amount to -1 for code B","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":102,"run_time":0.051527942,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:6:2:1]","description":"sets the Pre-Assessed Limit amount to -1 for code F","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform with Legal Entity Types behaves like Unsets PAL amount sets the Pre-Assessed Limit amount to -1 for code F","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":102,"run_time":0.057912355,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:6:3:1]","description":"fetches the Pre-Assessed Limit amount for code L","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform with Legal Entity Types behaves like Sets PAL amount fetches the Pre-Assessed Limit amount for code L","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":113,"run_time":0.06300797,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:6:4:1]","description":"sets the Pre-Assessed Limit amount to -1 for code O","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform with Legal Entity Types behaves like Unsets PAL amount sets the Pre-Assessed Limit amount to -1 for code O","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":102,"run_time":0.051220941,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:6:5:1]","description":"fetches the Pre-Assessed Limit amount for code P","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform with Legal Entity Types behaves like Sets PAL amount fetches the Pre-Assessed Limit amount for code P","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":113,"run_time":0.057953412,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:6:6:1]","description":"sets the Pre-Assessed Limit amount to -1 for code S","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform with Legal Entity Types behaves like Unsets PAL amount sets the Pre-Assessed Limit amount to -1 for code S","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":102,"run_time":0.065396466,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:6:7:1]","description":"sets the Pre-Assessed Limit amount to -1 for code U","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform with Legal Entity Types behaves like Unsets PAL amount sets the Pre-Assessed Limit amount to -1 for code U","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":102,"run_time":0.059507379,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:6:8:1]","description":"sets PAL value to -1","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform with Legal Entity Types when no nonPersonal record is available sets PAL value to -1","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":131,"run_time":0.048879889,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:7:1]","description":"does nothing","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform when the consent no longer exists does nothing","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":142,"run_time":0.069617535,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:8:1]","description":"sets the Pre-Assessed Limit to -1","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform when Customer Type is not supported sets the Pre-Assessed Limit to -1","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":150,"run_time":0.063678291,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:10:1]","description":"rescues the error and re-raises a Jobs::FailAndRetry","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform when a OpenBanking::Nwg::CustomerApiClient::Error error occurs rescues the error and re-raises a Jobs::FailAndRetry","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":172,"run_time":0.059941701,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:10:2]","description":"logs the error","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform when a OpenBanking::Nwg::CustomerApiClient::Error error occurs logs the error","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":176,"run_time":0.060808,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:10:3]","description":"does not change the PAL value","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform when a OpenBanking::Nwg::CustomerApiClient::Error error occurs does not change the PAL value","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":182,"run_time":0.064878166,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:10:4:1]","description":"rescues the error and re-raises a Jobs::FailAndRetry","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform when a OpenBanking::Nwg::CustomerApiClient::Error error occurs on the final attempt rescues the error and re-raises a Jobs::FailAndRetry","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":192,"run_time":0.060297642,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:10:4:2]","description":"sets PAL to `-1`","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform when a OpenBanking::Nwg::CustomerApiClient::Error error occurs on the final attempt sets PAL to `-1`","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":196,"run_time":0.053151364,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:10:4:3]","description":"logs that the jobs has failed after 3 attempts","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform when a OpenBanking::Nwg::CustomerApiClient::Error error occurs on the final attempt logs that the jobs has failed after 3 attempts","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":201,"run_time":0.056230194,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:11:1]","description":"rescues the error and re-raises a Jobs::FailAndRetry","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform when a OpenBanking::Integration::RestApi::ResponseError error occurs rescues the error and re-raises a Jobs::FailAndRetry","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":172,"run_time":0.058379178,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:11:2]","description":"logs the error","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform when a OpenBanking::Integration::RestApi::ResponseError error occurs logs the error","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":176,"run_time":0.053719913,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:11:3]","description":"does not change the PAL value","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform when a OpenBanking::Integration::RestApi::ResponseError error occurs does not change the PAL value","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":182,"run_time":0.049680798,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:11:4:1]","description":"rescues the error and re-raises a Jobs::FailAndRetry","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform when a OpenBanking::Integration::RestApi::ResponseError error occurs on the final attempt rescues the error and re-raises a Jobs::FailAndRetry","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":192,"run_time":0.05039795,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:11:4:2]","description":"sets PAL to `-1`","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform when a OpenBanking::Integration::RestApi::ResponseError error occurs on the final attempt sets PAL to `-1`","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":196,"run_time":0.04819858,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:11:4:3]","description":"logs that the jobs has failed after 3 attempts","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform when a OpenBanking::Integration::RestApi::ResponseError error occurs on the final attempt logs that the jobs has failed after 3 attempts","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":201,"run_time":0.049810388,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:12:1]","description":"rescues the error and re-raises a Jobs::FailAndRetry","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform when a OAuth2::Error error occurs rescues the error and re-raises a Jobs::FailAndRetry","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":172,"run_time":0.049528338,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:12:2]","description":"logs the error","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform when a OAuth2::Error error occurs logs the error","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":176,"run_time":0.066526383,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:12:3]","description":"does not change the PAL value","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform when a OAuth2::Error error occurs does not change the PAL value","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":182,"run_time":0.052386891,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:12:4:1]","description":"rescues the error and re-raises a Jobs::FailAndRetry","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform when a OAuth2::Error error occurs on the final attempt rescues the error and re-raises a Jobs::FailAndRetry","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":192,"run_time":0.048619297,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:12:4:2]","description":"sets PAL to `-1`","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform when a OAuth2::Error error occurs on the final attempt sets PAL to `-1`","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":196,"run_time":0.050535476,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb[1:2:12:4:3]","description":"logs that the jobs has failed after 3 attempts","full_description":"OpenBanking::PreAssessedLimitValueSyncJob#perform when a OAuth2::Error error occurs on the final attempt logs that the jobs has failed after 3 attempts","status":"passed","file_path":"./spec/jobs/open_banking/pre_assessed_limit_value_sync_job_spec.rb","line_number":201,"run_time":0.051986581,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/fapd/pricing_tiers_controller_spec.rb[1:1]","description":"GET :new","full_description":"Admin::Fapd::PricingTiersController GET :new","status":"passed","file_path":"./spec/controllers/admin/fapd/pricing_tiers_controller_spec.rb","line_number":10,"run_time":0.080556518,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/fapd/pricing_tiers_controller_spec.rb[1:3]","description":"GET :edit","full_description":"Admin::Fapd::PricingTiersController GET :edit","status":"passed","file_path":"./spec/controllers/admin/fapd/pricing_tiers_controller_spec.rb","line_number":42,"run_time":0.035884448,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/fapd/pricing_tiers_controller_spec.rb[1:5]","description":"DELETE :destroy","full_description":"Admin::Fapd::PricingTiersController DELETE :destroy","status":"passed","file_path":"./spec/controllers/admin/fapd/pricing_tiers_controller_spec.rb","line_number":82,"run_time":0.017956624,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/fapd/pricing_tiers_controller_spec.rb[1:2:1]","description":"creates the pricing tier","full_description":"Admin::Fapd::PricingTiersController POST :create creates the pricing tier","status":"passed","file_path":"./spec/controllers/admin/fapd/pricing_tiers_controller_spec.rb","line_number":18,"run_time":0.019124898,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/fapd/pricing_tiers_controller_spec.rb[1:2:2]","description":"doesn't create the the tier if the params are invalid","full_description":"Admin::Fapd::PricingTiersController POST :create doesn't create the the tier if the params are invalid","status":"passed","file_path":"./spec/controllers/admin/fapd/pricing_tiers_controller_spec.rb","line_number":30,"run_time":0.040168152,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/fapd/pricing_tiers_controller_spec.rb[1:4:1]","description":"modifies the the pricing tier","full_description":"Admin::Fapd::PricingTiersController POST :update modifies the the pricing tier","status":"passed","file_path":"./spec/controllers/admin/fapd/pricing_tiers_controller_spec.rb","line_number":53,"run_time":0.022467406,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/fapd/pricing_tiers_controller_spec.rb[1:4:2]","description":"does not modify the tier if the params are invalid","full_description":"Admin::Fapd::PricingTiersController POST :update does not modify the tier if the params are invalid","status":"passed","file_path":"./spec/controllers/admin/fapd/pricing_tiers_controller_spec.rb","line_number":66,"run_time":0.054128445,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/mobile/notice_helper_spec.rb[1:1:1]","description":"is expected to be nil","full_description":"Mobile::NoticeHelper for a non-UK company is expected to be nil","status":"passed","file_path":"./spec/helpers/mobile/notice_helper_spec.rb","line_number":71,"run_time":0.091679094,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/mobile/notice_helper_spec.rb[1:2:1:1]","description":"is expected to match /^Defer your VAT payment/","full_description":"Mobile::NoticeHelper A UK Limited Company with a deferred VAT return is expected to match /^Defer your VAT payment/","status":"passed","file_path":"./spec/helpers/mobile/notice_helper_spec.rb","line_number":27,"run_time":0.101984821,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/mobile/notice_helper_spec.rb[1:2:2:1]","description":"is expected to match /^Find information/","full_description":"Mobile::NoticeHelper A UK Limited Company not registered for VAT is expected to match /^Find information/","status":"passed","file_path":"./spec/helpers/mobile/notice_helper_spec.rb","line_number":9,"run_time":0.008281982,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/mobile/notice_helper_spec.rb[1:2:2:2:1]","description":"is expected to be nil","full_description":"Mobile::NoticeHelper A UK Limited Company not registered for VAT the notice message is expected to be nil","status":"passed","file_path":"./spec/helpers/mobile/notice_helper_spec.rb","line_number":63,"run_time":0.024638203,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/mobile/notice_helper_spec.rb[1:2:3:1]","description":"is expected to be nil","full_description":"Mobile::NoticeHelper A UK Limited Company the notice message is expected to be nil","status":"passed","file_path":"./spec/helpers/mobile/notice_helper_spec.rb","line_number":48,"run_time":0.023514652,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/mobile/notice_helper_spec.rb[1:3:1:1]","description":"is expected to match /^Defer your VAT payment/","full_description":"Mobile::NoticeHelper for a UK sole trader with a deferred VAT return is expected to match /^Defer your VAT payment/","status":"passed","file_path":"./spec/helpers/mobile/notice_helper_spec.rb","line_number":27,"run_time":0.200996653,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/mobile/notice_helper_spec.rb[1:3:2:1]","description":"is expected to match /^You might be eligible for/","full_description":"Mobile::NoticeHelper for a UK sole trader the notice message is expected to match /^You might be eligible for/","status":"passed","file_path":"./spec/helpers/mobile/notice_helper_spec.rb","line_number":36,"run_time":0.074295295,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/mobile/notice_helper_spec.rb[1:3:3:1]","description":"is expected to be nil","full_description":"Mobile::NoticeHelper for a UK sole trader the notice message is expected to be nil","status":"passed","file_path":"./spec/helpers/mobile/notice_helper_spec.rb","line_number":48,"run_time":0.085131681,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/mobile/notice_helper_spec.rb[1:4:1:1]","description":"is expected to match /^Defer your VAT payment/","full_description":"Mobile::NoticeHelper for a UK Partnership with a deferred VAT return is expected to match /^Defer your VAT payment/","status":"passed","file_path":"./spec/helpers/mobile/notice_helper_spec.rb","line_number":27,"run_time":0.222678526,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/mobile/notice_helper_spec.rb[1:4:2:1]","description":"is expected to match /^You might be eligible for/","full_description":"Mobile::NoticeHelper for a UK Partnership the notice message is expected to match /^You might be eligible for/","status":"passed","file_path":"./spec/helpers/mobile/notice_helper_spec.rb","line_number":36,"run_time":0.082075402,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/mobile/notice_helper_spec.rb[1:4:3:1]","description":"is expected to be nil","full_description":"Mobile::NoticeHelper for a UK Partnership the notice message is expected to be nil","status":"passed","file_path":"./spec/helpers/mobile/notice_helper_spec.rb","line_number":48,"run_time":0.087889407,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/mobile/notice_helper_spec.rb[1:5:1:1]","description":"is expected to match /^Defer your VAT payment/","full_description":"Mobile::NoticeHelper for a UK Limited Liability Partnership with a deferred VAT return is expected to match /^Defer your VAT payment/","status":"passed","file_path":"./spec/helpers/mobile/notice_helper_spec.rb","line_number":27,"run_time":0.207321246,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/mobile/notice_helper_spec.rb[1:5:2:1]","description":"is expected to match /^You might be eligible for/","full_description":"Mobile::NoticeHelper for a UK Limited Liability Partnership the notice message is expected to match /^You might be eligible for/","status":"passed","file_path":"./spec/helpers/mobile/notice_helper_spec.rb","line_number":36,"run_time":0.083431263,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/mobile/notice_helper_spec.rb[1:5:3:1]","description":"is expected to be nil","full_description":"Mobile::NoticeHelper for a UK Limited Liability Partnership the notice message is expected to be nil","status":"passed","file_path":"./spec/helpers/mobile/notice_helper_spec.rb","line_number":48,"run_time":0.08654488,"pending_message":null,"screenshot":null},{"id":"./spec/features/contacts/recurring_invoices/index_spec.rb[1:1]","description":"allows user to view list of recurring invoice profiles and navigate to them","full_description":"View list of recurring invoices allows user to view list of recurring invoice profiles and navigate to them","status":"passed","file_path":"./spec/features/contacts/recurring_invoices/index_spec.rb","line_number":22,"run_time":2.191816729,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice/duplicator_spec.rb[1:1:1:1]","description":"should correctly set the attributes on the duplicate invoice","full_description":"Invoice::Duplicator when duplicating an invoice without invoice items should correctly set the attributes on the duplicate invoice","status":"passed","file_path":"./spec/models/invoice/duplicator_spec.rb","line_number":28,"run_time":0.090352012,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice/duplicator_spec.rb[1:1:1:2]","description":"should correctly increment the reference","full_description":"Invoice::Duplicator when duplicating an invoice without invoice items should correctly increment the reference","status":"passed","file_path":"./spec/models/invoice/duplicator_spec.rb","line_number":41,"run_time":0.088552354,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice/duplicator_spec.rb[1:1:2:1]","description":"correctly sets the attributes on the duplicate invoice","full_description":"Invoice::Duplicator when duplicating an invoice with invoice items correctly sets the attributes on the duplicate invoice","status":"passed","file_path":"./spec/models/invoice/duplicator_spec.rb","line_number":49,"run_time":0.115101135,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice/duplicator_spec.rb[1:1:2:2]","description":"duplicates the invoice items before the block is applied","full_description":"Invoice::Duplicator when duplicating an invoice with invoice items duplicates the invoice items before the block is applied","status":"passed","file_path":"./spec/models/invoice/duplicator_spec.rb","line_number":64,"run_time":0.174979913,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice/duplicator_spec.rb[1:1:3:1]","description":"correctly sets the attributes on the duplicate invoice","full_description":"Invoice::Duplicator when duplicating an invoice where the contact of the duplicated invoice is hidden correctly sets the attributes on the duplicate invoice","status":"passed","file_path":"./spec/models/invoice/duplicator_spec.rb","line_number":81,"run_time":0.114394374,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice/duplicator_spec.rb[1:1:4:1]","description":"can copy invoice items to the new invoice","full_description":"Invoice::Duplicator when duplicating an invoice with an existing new invoice can copy invoice items to the new invoice","status":"passed","file_path":"./spec/models/invoice/duplicator_spec.rb","line_number":96,"run_time":0.214002133,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice/duplicator_spec.rb[1:1:5:1]","description":"copies the property ID to the new invoice","full_description":"Invoice::Duplicator when duplicating an invoice which is linked to a property copies the property ID to the new invoice","status":"passed","file_path":"./spec/models/invoice/duplicator_spec.rb","line_number":109,"run_time":0.210398733,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice/duplicator_spec.rb[1:2:5]","description":"receives the same interface between invoices and recurring invoice profiles","full_description":"Invoice::Duplicator when duplicating a recurring invoice profile receives the same interface between invoices and recurring invoice profiles","status":"passed","file_path":"./spec/models/invoice/duplicator_spec.rb","line_number":196,"run_time":0.022370796,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice/duplicator_spec.rb[1:2:1:1]","description":"should correctly set the attributes on the duplicate invoice","full_description":"Invoice::Duplicator when duplicating a recurring invoice profile without invoice items should correctly set the attributes on the duplicate invoice","status":"passed","file_path":"./spec/models/invoice/duplicator_spec.rb","line_number":123,"run_time":0.088464067,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice/duplicator_spec.rb[1:2:1:2]","description":"should correctly increment the reference","full_description":"Invoice::Duplicator when duplicating a recurring invoice profile without invoice items should correctly increment the reference","status":"passed","file_path":"./spec/models/invoice/duplicator_spec.rb","line_number":137,"run_time":0.083904812,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice/duplicator_spec.rb[1:2:2:1]","description":"correctly sets the attributes on the duplicate invoice","full_description":"Invoice::Duplicator when duplicating a recurring invoice profile with invoice items correctly sets the attributes on the duplicate invoice","status":"passed","file_path":"./spec/models/invoice/duplicator_spec.rb","line_number":147,"run_time":0.067988448,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice/duplicator_spec.rb[1:2:2:2]","description":"duplicates the invoice items before the block is applied","full_description":"Invoice::Duplicator when duplicating a recurring invoice profile with invoice items duplicates the invoice items before the block is applied","status":"passed","file_path":"./spec/models/invoice/duplicator_spec.rb","line_number":162,"run_time":0.147858165,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice/duplicator_spec.rb[1:2:3:1]","description":"can copy invoice items to the new invoice","full_description":"Invoice::Duplicator when duplicating a recurring invoice profile with an existing new invoice can copy invoice items to the new invoice","status":"passed","file_path":"./spec/models/invoice/duplicator_spec.rb","line_number":175,"run_time":0.181079139,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice/duplicator_spec.rb[1:2:4:1]","description":"copies the property ID to the new recurring invoice profile","full_description":"Invoice::Duplicator when duplicating a recurring invoice profile which is linked to a property copies the property ID to the new recurring invoice profile","status":"passed","file_path":"./spec/models/invoice/duplicator_spec.rb","line_number":190,"run_time":0.118606947,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bills/payit_payment_integration_spec.rb[1:1:1:1:1]","description":"includes payit payment details in the response","full_description":"retrieving PayIt payment via the API GET /bills request made by the FreeAgent Mobile app by a user with full access includes payit payment details in the response","status":"passed","file_path":"./spec/requests/api/bills/payit_payment_integration_spec.rb","line_number":32,"run_time":0.195495401,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bills/payit_payment_integration_spec.rb[1:1:1:1:2:1]","description":"includes payit payment details in the response","full_description":"retrieving PayIt payment via the API GET /bills request made by the FreeAgent Mobile app by a user with full access and the bill has a payment reference includes payit payment details in the response","status":"passed","file_path":"./spec/requests/api/bills/payit_payment_integration_spec.rb","line_number":40,"run_time":0.131414983,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bills/payit_payment_integration_spec.rb[1:1:1:2:1]","description":"includes payit payment details in the response","full_description":"retrieving PayIt payment via the API GET /bills request made by the FreeAgent Mobile app by an account owner with limited access includes payit payment details in the response","status":"passed","file_path":"./spec/requests/api/bills/payit_payment_integration_spec.rb","line_number":50,"run_time":0.121425234,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bills/payit_payment_integration_spec.rb[1:1:1:3:1]","description":"doesn't include payit payment details in the response","full_description":"retrieving PayIt payment via the API GET /bills request made by the FreeAgent Mobile app by a level 7 user who isn't the account owner doesn't include payit payment details in the response","status":"passed","file_path":"./spec/requests/api/bills/payit_payment_integration_spec.rb","line_number":58,"run_time":0.118022249,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bills/payit_payment_integration_spec.rb[1:1:2:1]","description":"doesn't include payit payment details in the response","full_description":"retrieving PayIt payment via the API GET /bills request made by an app other than FreeAgent Mobile doesn't include payit payment details in the response","status":"passed","file_path":"./spec/requests/api/bills/payit_payment_integration_spec.rb","line_number":71,"run_time":0.123815964,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bills/payit_payment_integration_spec.rb[1:2:1:1:1]","description":"includes payit payment details in the response","full_description":"retrieving PayIt payment via the API GET /bills/:bill_id request made by the FreeAgent Mobile app by a user with full access includes payit payment details in the response","status":"passed","file_path":"./spec/requests/api/bills/payit_payment_integration_spec.rb","line_number":91,"run_time":0.131365384,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bills/payit_payment_integration_spec.rb[1:2:1:1:2:1]","description":"includes payit payment details in the response","full_description":"retrieving PayIt payment via the API GET /bills/:bill_id request made by the FreeAgent Mobile app by a user with full access and the bill has a payment reference includes payit payment details in the response","status":"passed","file_path":"./spec/requests/api/bills/payit_payment_integration_spec.rb","line_number":99,"run_time":0.116968336,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bills/payit_payment_integration_spec.rb[1:2:1:2:1]","description":"includes payit payment details in the response","full_description":"retrieving PayIt payment via the API GET /bills/:bill_id request made by the FreeAgent Mobile app by an account owner with limited access includes payit payment details in the response","status":"passed","file_path":"./spec/requests/api/bills/payit_payment_integration_spec.rb","line_number":109,"run_time":0.124725466,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bills/payit_payment_integration_spec.rb[1:2:1:3:1]","description":"doesn't include payit payment details in the response","full_description":"retrieving PayIt payment via the API GET /bills/:bill_id request made by the FreeAgent Mobile app by a level 7 user who isn't the account owner doesn't include payit payment details in the response","status":"passed","file_path":"./spec/requests/api/bills/payit_payment_integration_spec.rb","line_number":117,"run_time":0.117400994,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bills/payit_payment_integration_spec.rb[1:2:2:1]","description":"doesn't include payit payment details in the response","full_description":"retrieving PayIt payment via the API GET /bills/:bill_id request made by an app other than FreeAgent Mobile doesn't include payit payment details in the response","status":"passed","file_path":"./spec/requests/api/bills/payit_payment_integration_spec.rb","line_number":130,"run_time":0.13066035,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:119:1]","description":"returns correct invoices for filters","full_description":"Invoice.filter_by returns correct invoices for filters","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":3705,"run_time":1.214600463,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/recalculate_contact_invoice_sales_tax_effects_job_spec.rb[1:2]","description":"ignores non-existent contacts","full_description":"RecalculateContactInvoiceSalesTaxEffectsJob ignores non-existent contacts","status":"passed","file_path":"./spec/jobs/recalculate_contact_invoice_sales_tax_effects_job_spec.rb","line_number":49,"run_time":0.006538231,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/recalculate_contact_invoice_sales_tax_effects_job_spec.rb[1:1:1:1]","description":"recalculates only the sent invoices","full_description":"RecalculateContactInvoiceSalesTaxEffectsJob for a contact with invoices on the invoice basis recalculates only the sent invoices","status":"passed","file_path":"./spec/jobs/recalculate_contact_invoice_sales_tax_effects_job_spec.rb","line_number":25,"run_time":1.413848905,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/recalculate_contact_invoice_sales_tax_effects_job_spec.rb[1:1:2:1]","description":"recalculates invoice payments","full_description":"RecalculateContactInvoiceSalesTaxEffectsJob for a contact with invoices on the cash basis recalculates invoice payments","status":"passed","file_path":"./spec/jobs/recalculate_contact_invoice_sales_tax_effects_job_spec.rb","line_number":42,"run_time":0.549647201,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb[1:1:1:1]","description":"is expected to eql 2006","full_description":"Accounting::CorporationTax::Computations::TaxCalculation a period which crosses a financial year boundary #first_financial_year is expected to eql 2006","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb","line_number":19,"run_time":0.00398457,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb[1:1:2:1]","description":"is expected to eql 74","full_description":"Accounting::CorporationTax::Computations::TaxCalculation a period which crosses a financial year boundary #first_financial_year_profit is expected to eql 74","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb","line_number":24,"run_time":0.003010727,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb[1:1:3:1]","description":"is expected to eql 19","full_description":"Accounting::CorporationTax::Computations::TaxCalculation a period which crosses a financial year boundary #first_financial_year_rate is expected to eql 19","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb","line_number":29,"run_time":0.002771247,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb[1:1:4:1]","description":"is expected to eql 14.06 (BigDecimal)","full_description":"Accounting::CorporationTax::Computations::TaxCalculation a period which crosses a financial year boundary #first_financial_year_tax is expected to eql 14.06 (BigDecimal)","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb","line_number":34,"run_time":0.002700109,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb[1:1:5:1]","description":"is expected to eql 2007","full_description":"Accounting::CorporationTax::Computations::TaxCalculation a period which crosses a financial year boundary #second_financial_year is expected to eql 2007","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb","line_number":39,"run_time":0.002396274,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb[1:1:6:1]","description":"is expected to eql 26","full_description":"Accounting::CorporationTax::Computations::TaxCalculation a period which crosses a financial year boundary #second_financial_year_profit is expected to eql 26","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb","line_number":44,"run_time":0.002581517,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb[1:1:7:1]","description":"is expected to eql 20","full_description":"Accounting::CorporationTax::Computations::TaxCalculation a period which crosses a financial year boundary #second_financial_year_rate is expected to eql 20","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb","line_number":49,"run_time":0.002423219,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb[1:1:8:1]","description":"is expected to eql 5.2 (BigDecimal)","full_description":"Accounting::CorporationTax::Computations::TaxCalculation a period which crosses a financial year boundary #second_financial_year_tax is expected to eql 5.2 (BigDecimal)","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb","line_number":54,"run_time":0.002787648,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb[1:1:9:1]","description":"is the sum of the tax from both financial years","full_description":"Accounting::CorporationTax::Computations::TaxCalculation a period which crosses a financial year boundary #corporation_tax is the sum of the tax from both financial years","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb","line_number":58,"run_time":0.003045005,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb[1:2:1:1]","description":"is expected to eql 2006","full_description":"Accounting::CorporationTax::Computations::TaxCalculation a period starting at the financial year boundary #first_financial_year is expected to eql 2006","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb","line_number":70,"run_time":0.002825347,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb[1:2:2:1]","description":"is expected to eql 100","full_description":"Accounting::CorporationTax::Computations::TaxCalculation a period starting at the financial year boundary #first_financial_year_profit is expected to eql 100","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb","line_number":75,"run_time":0.002587696,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb[1:2:3:1]","description":"is expected to eql 19","full_description":"Accounting::CorporationTax::Computations::TaxCalculation a period starting at the financial year boundary #first_financial_year_rate is expected to eql 19","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb","line_number":80,"run_time":0.002511777,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb[1:2:4:1]","description":"is expected to eql 19.0","full_description":"Accounting::CorporationTax::Computations::TaxCalculation a period starting at the financial year boundary #first_financial_year_tax is expected to eql 19.0","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb","line_number":85,"run_time":0.002570736,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb[1:2:5:1]","description":"is expected to eql nil","full_description":"Accounting::CorporationTax::Computations::TaxCalculation a period starting at the financial year boundary #second_financial_year_profit is expected to eql nil","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb","line_number":90,"run_time":0.00255125,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb[1:2:6:1]","description":"is expected to eql nil","full_description":"Accounting::CorporationTax::Computations::TaxCalculation a period starting at the financial year boundary #second_financial_year_rate is expected to eql nil","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb","line_number":95,"run_time":0.002906345,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb[1:2:7:1]","description":"is expected to eql nil","full_description":"Accounting::CorporationTax::Computations::TaxCalculation a period starting at the financial year boundary #second_financial_year_tax is expected to eql nil","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb","line_number":100,"run_time":0.002793557,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb[1:2:8:1]","description":"is the first financial year tax","full_description":"Accounting::CorporationTax::Computations::TaxCalculation a period starting at the financial year boundary #corporation_tax is the first financial year tax","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb","line_number":104,"run_time":0.002511644,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb[1:3:1:1]","description":"is expected to eql 2006","full_description":"Accounting::CorporationTax::Computations::TaxCalculation a period ending at the financial year boundary #first_financial_year is expected to eql 2006","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb","line_number":116,"run_time":0.002408405,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb[1:3:2:1]","description":"is expected to eql 100","full_description":"Accounting::CorporationTax::Computations::TaxCalculation a period ending at the financial year boundary #first_financial_year_profit is expected to eql 100","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb","line_number":121,"run_time":0.002514395,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb[1:3:3:1]","description":"is expected to eql 19","full_description":"Accounting::CorporationTax::Computations::TaxCalculation a period ending at the financial year boundary #first_financial_year_rate is expected to eql 19","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb","line_number":126,"run_time":0.002304063,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb[1:3:4:1]","description":"is expected to eql 19.0 (BigDecimal)","full_description":"Accounting::CorporationTax::Computations::TaxCalculation a period ending at the financial year boundary #first_financial_year_tax is expected to eql 19.0 (BigDecimal)","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb","line_number":131,"run_time":0.002514615,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb[1:3:5:1]","description":"is expected to eql nil","full_description":"Accounting::CorporationTax::Computations::TaxCalculation a period ending at the financial year boundary #second_financial_year is expected to eql nil","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb","line_number":136,"run_time":0.002511931,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb[1:3:6:1]","description":"is expected to eql nil","full_description":"Accounting::CorporationTax::Computations::TaxCalculation a period ending at the financial year boundary #second_financial_year_profit is expected to eql nil","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb","line_number":141,"run_time":0.002602328,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb[1:3:7:1]","description":"is expected to eql nil","full_description":"Accounting::CorporationTax::Computations::TaxCalculation a period ending at the financial year boundary #second_financial_year_rate is expected to eql nil","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb","line_number":146,"run_time":0.002580096,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb[1:3:8:1]","description":"is expected to eql nil","full_description":"Accounting::CorporationTax::Computations::TaxCalculation a period ending at the financial year boundary #second_financial_year_tax is expected to eql nil","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb","line_number":151,"run_time":0.002721869,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb[1:3:9:1]","description":"is the first financial year tax","full_description":"Accounting::CorporationTax::Computations::TaxCalculation a period ending at the financial year boundary #corporation_tax is the first financial year tax","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb","line_number":155,"run_time":0.002480071,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb[1:4:1:1]","description":"is equal to the corporation tax","full_description":"Accounting::CorporationTax::Computations::TaxCalculation calculations #corporation_tax_chargeable is equal to the corporation tax","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb","line_number":166,"run_time":0.002498026,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb[1:4:2:1]","description":"is equal to the corporation tax chargeable","full_description":"Accounting::CorporationTax::Computations::TaxCalculation calculations #net_corporation_tax_liability is equal to the corporation tax chargeable","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb","line_number":172,"run_time":0.002465608,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb[1:4:3:1]","description":"is equal to the net corporation tax liability plus outstanding loans tax chargeable","full_description":"Accounting::CorporationTax::Computations::TaxCalculation calculations #tax_chargeable is equal to the net corporation tax liability plus outstanding loans tax chargeable","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb","line_number":178,"run_time":0.00253991,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb[1:4:4:1]","description":"is equal to the tax_chargeable","full_description":"Accounting::CorporationTax::Computations::TaxCalculation calculations #tax_payable_before_restitution_tax is equal to the tax_chargeable","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb","line_number":184,"run_time":0.002348718,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb[1:4:5:1]","description":"is the sum of tax_payable_before_restitution_tax and coronavirus_support_schemes_overpayment_now_due","full_description":"Accounting::CorporationTax::Computations::TaxCalculation calculations #self_assessment_of_tax_payable is the sum of tax_payable_before_restitution_tax and coronavirus_support_schemes_overpayment_now_due","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb","line_number":190,"run_time":0.002369575,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb[1:4:6:1]","description":"is equal to tax_payable_before_restitution_tax","full_description":"Accounting::CorporationTax::Computations::TaxCalculation calculations #tax_outstanding is equal to tax_payable_before_restitution_tax","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/tax_calculation_spec.rb","line_number":196,"run_time":0.002459658,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payments_helper_spec.rb[1:1:1]","description":"formats the sales tax name and rate","full_description":"PaymentsHelper#subscription_invoice_sales_tax_description formats the sales tax name and rate","status":"passed","file_path":"./spec/helpers/payments_helper_spec.rb","line_number":15,"run_time":0.011377226,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payments_helper_spec.rb[1:2:1]","description":"returns the rate formatted when sales_tax_rate is provided","full_description":"PaymentsHelper#payments_sales_tax_rate returns the rate formatted when sales_tax_rate is provided","status":"passed","file_path":"./spec/helpers/payments_helper_spec.rb","line_number":27,"run_time":0.011332233,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payments_helper_spec.rb[1:2:2]","description":"returns the standard UK VAT rate at the payment date when sales_tax_rate is nil","full_description":"PaymentsHelper#payments_sales_tax_rate returns the standard UK VAT rate at the payment date when sales_tax_rate is nil","status":"passed","file_path":"./spec/helpers/payments_helper_spec.rb","line_number":33,"run_time":0.010511265,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payments_helper_spec.rb[1:3:1:1]","description":"displays ' + VAT'","full_description":"PaymentsHelper#sales_tax_name_display UK company displays ' + VAT'","status":"passed","file_path":"./spec/helpers/payments_helper_spec.rb","line_number":47,"run_time":0.086749103,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payments_helper_spec.rb[1:3:2:1]","description":"displays nothing","full_description":"PaymentsHelper#sales_tax_name_display Germany company displays nothing","status":"passed","file_path":"./spec/helpers/payments_helper_spec.rb","line_number":56,"run_time":0.087347399,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payments_helper_spec.rb[1:3:3:1]","description":"displays nothing","full_description":"PaymentsHelper#sales_tax_name_display US company displays nothing","status":"passed","file_path":"./spec/helpers/payments_helper_spec.rb","line_number":64,"run_time":0.085529592,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payments_helper_spec.rb[1:4:1:1]","description":"shows the correct total value and not include 'GBP' on the total line","full_description":"PaymentsHelper#payment_amount_with_foreign_currency A subscription payment invoice for a UK company shows the correct total value and not include 'GBP' on the total line","status":"passed","file_path":"./spec/helpers/payments_helper_spec.rb","line_number":74,"run_time":0.099818087,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payments_helper_spec.rb[1:4:2:1]","description":"shows the correct total value and not include 'USD' on the total line","full_description":"PaymentsHelper#payment_amount_with_foreign_currency A subscription payment invoice for a US company shows the correct total value and not include 'USD' on the total line","status":"passed","file_path":"./spec/helpers/payments_helper_spec.rb","line_number":85,"run_time":0.206211152,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payments_helper_spec.rb[1:4:3:1]","description":"shows the correct total value and include USD on the Total line","full_description":"PaymentsHelper#payment_amount_with_foreign_currency A subscription payment invoice for a Universal company which does not have USD as its native currency shows the correct total value and include USD on the Total line","status":"passed","file_path":"./spec/helpers/payments_helper_spec.rb","line_number":96,"run_time":0.184768437,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payments_helper_spec.rb[1:5:1]","description":"formats the expiry date as MM/YY","full_description":"PaymentsHelper#saved_card_expiry_date formats the expiry date as MM/YY","status":"passed","file_path":"./spec/helpers/payments_helper_spec.rb","line_number":105,"run_time":0.010405507,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payments_helper_spec.rb[1:6:1:1]","description":"is true when the company has an offer and is eligible","full_description":"PaymentsHelper#monthly_payment_will_include_introductory_offer? when a payment will be taken today is true when the company has an offer and is eligible","status":"passed","file_path":"./spec/helpers/payments_helper_spec.rb","line_number":112,"run_time":0.083679774,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payments_helper_spec.rb[1:6:1:2]","description":"is false when the company does not have an offer","full_description":"PaymentsHelper#monthly_payment_will_include_introductory_offer? when a payment will be taken today is false when the company does not have an offer","status":"passed","file_path":"./spec/helpers/payments_helper_spec.rb","line_number":117,"run_time":0.005895418,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payments_helper_spec.rb[1:6:1:3]","description":"is false when the company is not eligible for the offer","full_description":"PaymentsHelper#monthly_payment_will_include_introductory_offer? when a payment will be taken today is false when the company is not eligible for the offer","status":"passed","file_path":"./spec/helpers/payments_helper_spec.rb","line_number":122,"run_time":0.031721566,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payments_helper_spec.rb[1:6:2:1]","description":"is true when the next payment date is within the offer period","full_description":"PaymentsHelper#monthly_payment_will_include_introductory_offer? when a payment will be taken on a future date is true when the next payment date is within the offer period","status":"passed","file_path":"./spec/helpers/payments_helper_spec.rb","line_number":137,"run_time":0.09427702,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payments_helper_spec.rb[1:6:2:2]","description":"is false when the next payment date is outside the offer period","full_description":"PaymentsHelper#monthly_payment_will_include_introductory_offer? when a payment will be taken on a future date is false when the next payment date is outside the offer period","status":"passed","file_path":"./spec/helpers/payments_helper_spec.rb","line_number":142,"run_time":0.096120955,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payments_helper_spec.rb[1:7:1:1]","description":"is true when the company has an offer and is eligible","full_description":"PaymentsHelper#yearly_payment_will_include_introductory_offer? when a payment will be taken today is true when the company has an offer and is eligible","status":"passed","file_path":"./spec/helpers/payments_helper_spec.rb","line_number":151,"run_time":0.087957415,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payments_helper_spec.rb[1:7:1:2]","description":"is false when the company does not have an offer","full_description":"PaymentsHelper#yearly_payment_will_include_introductory_offer? when a payment will be taken today is false when the company does not have an offer","status":"passed","file_path":"./spec/helpers/payments_helper_spec.rb","line_number":156,"run_time":0.007113329,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payments_helper_spec.rb[1:7:1:3]","description":"is false when the company is not eligible for the offer","full_description":"PaymentsHelper#yearly_payment_will_include_introductory_offer? when a payment will be taken today is false when the company is not eligible for the offer","status":"passed","file_path":"./spec/helpers/payments_helper_spec.rb","line_number":161,"run_time":0.029784325,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payments_helper_spec.rb[1:7:2:1]","description":"is true when the next payment date is within the offer period","full_description":"PaymentsHelper#yearly_payment_will_include_introductory_offer? when a payment will be taken on a future date is true when the next payment date is within the offer period","status":"passed","file_path":"./spec/helpers/payments_helper_spec.rb","line_number":176,"run_time":0.103464259,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payments_helper_spec.rb[1:7:2:2]","description":"is false when the next payment date is outside the offer period","full_description":"PaymentsHelper#yearly_payment_will_include_introductory_offer? when a payment will be taken on a future date is false when the next payment date is outside the offer period","status":"passed","file_path":"./spec/helpers/payments_helper_spec.rb","line_number":181,"run_time":0.099346927,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes/projects_controller_spec.rb[1:1]","description":"GET to show should render a JSON response","full_description":"CreditNotes::ProjectsController GET to show should render a JSON response","status":"passed","file_path":"./spec/controllers/credit_notes/projects_controller_spec.rb","line_number":13,"run_time":0.205709842,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes/projects_controller_spec.rb[1:2]","description":"GET to show with a contact, project and credit note should render a JSON response","full_description":"CreditNotes::ProjectsController GET to show with a contact, project and credit note should render a JSON response","status":"passed","file_path":"./spec/controllers/credit_notes/projects_controller_spec.rb","line_number":21,"run_time":0.181863415,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes/projects_controller_spec.rb[1:3]","description":"GET to show with a contact, project and credit note should raise an error where project can't be found","full_description":"CreditNotes::ProjectsController GET to show with a contact, project and credit note should raise an error where project can't be found","status":"passed","file_path":"./spec/controllers/credit_notes/projects_controller_spec.rb","line_number":32,"run_time":0.25696701,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/credit_notes/projects_controller_spec.rb[1:4]","description":"GET to show with a contact and credit note, but no project","full_description":"CreditNotes::ProjectsController GET to show with a contact and credit note, but no project","status":"passed","file_path":"./spec/controllers/credit_notes/projects_controller_spec.rb","line_number":37,"run_time":0.16862727,"pending_message":null,"screenshot":null},{"id":"./spec/models/apple_subscription_spec.rb[1:1:1]","description":"is expected to equal true","full_description":"AppleSubscription#can_update_billing_details? is expected to equal true","status":"passed","file_path":"./spec/models/apple_subscription_spec.rb","line_number":8,"run_time":0.007365101,"pending_message":null,"screenshot":null},{"id":"./spec/models/apple_subscription_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"AppleSubscription#billing_page_available? is expected to equal true","status":"passed","file_path":"./spec/models/apple_subscription_spec.rb","line_number":13,"run_time":0.006226951,"pending_message":null,"screenshot":null},{"id":"./spec/models/apple_subscription_spec.rb[1:3:1:1]","description":"is expected to equal true","full_description":"AppleSubscription#can_show_cancellation_instructions? on an app store subscription is expected to equal true","status":"passed","file_path":"./spec/models/apple_subscription_spec.rb","line_number":20,"run_time":0.105888686,"pending_message":null,"screenshot":null},{"id":"./spec/models/apple_subscription_spec.rb[1:3:2:1]","description":"is expected to equal true","full_description":"AppleSubscription#can_show_cancellation_instructions? on a free trial is expected to equal true","status":"passed","file_path":"./spec/models/apple_subscription_spec.rb","line_number":25,"run_time":0.08657076,"pending_message":null,"screenshot":null},{"id":"./spec/models/apple_subscription_spec.rb[1:4:1:1]","description":"is expected to equal false","full_description":"AppleSubscription#can_be_cancelled_by_customer? when subscribed via the App Store is expected to equal false","status":"passed","file_path":"./spec/models/apple_subscription_spec.rb","line_number":33,"run_time":0.103964073,"pending_message":null,"screenshot":null},{"id":"./spec/models/apple_subscription_spec.rb[1:4:2:1]","description":"is expected to equal true","full_description":"AppleSubscription#can_be_cancelled_by_customer? when on a free trial is expected to equal true","status":"passed","file_path":"./spec/models/apple_subscription_spec.rb","line_number":38,"run_time":0.083543849,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/chart_of_accounts_check_spec.rb[1:1:1]","description":"is expected not to have a failure on #\u003cUkLimitedCompany id: 895397833, name: \"FreeAgent Central\"\u003e","full_description":"ChartOfAccountsCheck with a chart of accounts is expected not to have a failure on #\u003cUkLimitedCompany id: 895397833, name: \"FreeAgent Central\"\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/chart_of_accounts_check_spec.rb","line_number":10,"run_time":0.006273966,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/chart_of_accounts_check_spec.rb[1:2:1]","description":"is expected to have a failure on #\u003cUkLimitedCompany id: 895397833, name: \"FreeAgent Central\"\u003e","full_description":"ChartOfAccountsCheck without a chart of accounts is expected to have a failure on #\u003cUkLimitedCompany id: 895397833, name: \"FreeAgent Central\"\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/chart_of_accounts_check_spec.rb","line_number":18,"run_time":0.482039971,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/chart_of_accounts_check_spec.rb[1:2:2]","description":"is expected to have a failure like /Company-\\d+ does not have a chart of accounts/","full_description":"ChartOfAccountsCheck without a chart of accounts is expected to have a failure like /Company-\\d+ does not have a chart of accounts/","status":"passed","file_path":"./spec/models/health_robinson/check/chart_of_accounts_check_spec.rb","line_number":19,"run_time":0.469755093,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage/open_banking_setup_spec.rb[1:1:1:1]","description":"returns true","full_description":"Company::SetupStage::OpenBankingSetup#stage_completed? company with a bank feed returns true","status":"passed","file_path":"./spec/models/company/setup_stage/open_banking_setup_spec.rb","line_number":10,"run_time":0.123919761,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage/open_banking_setup_spec.rb[1:1:2:1]","description":"returns true","full_description":"Company::SetupStage::OpenBankingSetup#stage_completed? company with a bank account but no bank feed returns true","status":"passed","file_path":"./spec/models/company/setup_stage/open_banking_setup_spec.rb","line_number":18,"run_time":0.08241257,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage/open_banking_setup_spec.rb[1:1:3:1]","description":"returns false","full_description":"Company::SetupStage::OpenBankingSetup#stage_completed? company without a bank account returns false","status":"passed","file_path":"./spec/models/company/setup_stage/open_banking_setup_spec.rb","line_number":25,"run_time":0.068810239,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/signup_deleter_spec.rb[1:1:1:1]","description":"is expected to be empty","full_description":"Disengagement::SignupDeleter.old_unactivated_signups up to 120 days old is expected to be empty","status":"passed","file_path":"./spec/models/disengagement/signup_deleter_spec.rb","line_number":13,"run_time":0.092039733,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/signup_deleter_spec.rb[1:1:2:1]","description":"is expected to eq [#\u003cSignup id: 6, company_name: \"Creaky Builders - subdomain000001\", company_type: \"UK Sole Trader\", s...y_url: nil, source: nil, reseller_id: nil, marketing_consent: false, copilot_info_requested: false\u003e]","full_description":"Disengagement::SignupDeleter.old_unactivated_signups more than 120 days old is expected to eq [#\u003cSignup id: 6, company_name: \"Creaky Builders - subdomain000001\", company_type: \"UK Sole Trader\", s...y_url: nil, source: nil, reseller_id: nil, marketing_consent: false, copilot_info_requested: false\u003e]","status":"passed","file_path":"./spec/models/disengagement/signup_deleter_spec.rb","line_number":19,"run_time":0.074387368,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/signup_deleter_spec.rb[1:1:2:2]","description":"is limited by DELETE_COUNT_LIMIT constant","full_description":"Disengagement::SignupDeleter.old_unactivated_signups more than 120 days old is limited by DELETE_COUNT_LIMIT constant","status":"passed","file_path":"./spec/models/disengagement/signup_deleter_spec.rb","line_number":21,"run_time":0.077711483,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/signup_deleter_spec.rb[1:2:1]","description":"removes all old, unactivated signups","full_description":"Disengagement::SignupDeleter.perform_deletion removes all old, unactivated signups","status":"passed","file_path":"./spec/models/disengagement/signup_deleter_spec.rb","line_number":32,"run_time":0.171709675,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/signup_deleter_spec.rb[1:2:2]","description":"doesn't affect the new signups","full_description":"Disengagement::SignupDeleter.perform_deletion doesn't affect the new signups","status":"passed","file_path":"./spec/models/disengagement/signup_deleter_spec.rb","line_number":36,"run_time":0.161787263,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/signup_deleter_spec.rb[1:3:1:1]","description":"doesn't delete the signup as it's too young, and raises error","full_description":"Disengagement::SignupDeleter#perform_deletion up to 120 days old doesn't delete the signup as it's too young, and raises error","status":"passed","file_path":"./spec/models/disengagement/signup_deleter_spec.rb","line_number":47,"run_time":0.068326197,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/signup_deleter_spec.rb[1:3:2:1]","description":"deletes signup","full_description":"Disengagement::SignupDeleter#perform_deletion more than 120 days old deletes signup","status":"passed","file_path":"./spec/models/disengagement/signup_deleter_spec.rb","line_number":57,"run_time":0.073797394,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_generator_spec.rb[1:1:1:1]","description":"should create an invoice with an item for each combination of discount and company type","full_description":"Fapd::Billing::InvoiceGenerator#generate_invoice when a practice has several billable companies should create an invoice with an item for each combination of discount and company type","status":"passed","file_path":"./spec/models/fapd/billing/invoice_generator_spec.rb","line_number":22,"run_time":0.090114487,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_generator_spec.rb[1:1:1:2]","description":"should create an email","full_description":"Fapd::Billing::InvoiceGenerator#generate_invoice when a practice has several billable companies should create an email","status":"passed","file_path":"./spec/models/fapd/billing/invoice_generator_spec.rb","line_number":41,"run_time":0.056295183,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_generator_spec.rb[1:1:1:3]","description":"should mark the invoice as sent","full_description":"Fapd::Billing::InvoiceGenerator#generate_invoice when a practice has several billable companies should mark the invoice as sent","status":"passed","file_path":"./spec/models/fapd/billing/invoice_generator_spec.rb","line_number":48,"run_time":0.063340326,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_generator_spec.rb[1:1:1:4]","description":"should not create a duplicate invoice","full_description":"Fapd::Billing::InvoiceGenerator#generate_invoice when a practice has several billable companies should not create a duplicate invoice","status":"passed","file_path":"./spec/models/fapd/billing/invoice_generator_spec.rb","line_number":53,"run_time":0.06659458,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_generator_spec.rb[1:1:2:1]","description":"notifies our error service","full_description":"Fapd::Billing::InvoiceGenerator#generate_invoice when a practice has no billing email address notifies our error service","status":"passed","file_path":"./spec/models/fapd/billing/invoice_generator_spec.rb","line_number":69,"run_time":0.04210581,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_generator_spec.rb[1:1:3:1]","description":"does not generate an invoice","full_description":"Fapd::Billing::InvoiceGenerator#generate_invoice when a practice has no clients does not generate an invoice","status":"passed","file_path":"./spec/models/fapd/billing/invoice_generator_spec.rb","line_number":80,"run_time":0.012251812,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_generator_spec.rb[1:1:3:2]","description":"does not generate an email","full_description":"Fapd::Billing::InvoiceGenerator#generate_invoice when a practice has no clients does not generate an email","status":"passed","file_path":"./spec/models/fapd/billing/invoice_generator_spec.rb","line_number":85,"run_time":0.011491401,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_generator_spec.rb[1:2:1:1]","description":"only creates invoices for active FAPD practices","full_description":"Fapd::Billing::InvoiceGenerator.generate_invoices when there are practices with a range of sale types and statuses only creates invoices for active FAPD practices","status":"passed","file_path":"./spec/models/fapd/billing/invoice_generator_spec.rb","line_number":104,"run_time":0.153593372,"pending_message":null,"screenshot":null},{"id":"./spec/models/fapd/billing/invoice_generator_spec.rb[1:2:1:2]","description":"does not create invoices for active practices that have been made internal","full_description":"Fapd::Billing::InvoiceGenerator.generate_invoices when there are practices with a range of sale types and statuses does not create invoices for active practices that have been made internal","status":"passed","file_path":"./spec/models/fapd/billing/invoice_generator_spec.rb","line_number":113,"run_time":0.133331827,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/welcome_spec.rb[1:1:1:1:1]","description":"returns a category defined on the Insight model","full_description":"Radar::Insights::Rules::Welcome behaves like a product update rule behaves like a ping rule #category returns a category defined on the Insight model","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":11,"run_time":0.003106394,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/welcome_spec.rb[1:1:1:2:1]","description":"returns a boolean","full_description":"Radar::Insights::Rules::Welcome behaves like a product update rule behaves like a ping rule #send_notifications? returns a boolean","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":17,"run_time":0.002574937,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/welcome_spec.rb[1:1:2:1]","description":"returns a category of product update","full_description":"Radar::Insights::Rules::Welcome behaves like a product update rule #category is a product update returns a category of product update","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":29,"run_time":0.002242011,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/welcome_spec.rb[1:2:1]","description":"launch date is correct","full_description":"Radar::Insights::Rules::Welcome.launch_date launch date is correct","status":"passed","file_path":"./spec/models/radar/insights/rules/welcome_spec.rb","line_number":13,"run_time":0.004607079,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/welcome_spec.rb[1:3:1]","description":"contains the company id","full_description":"Radar::Insights::Rules::Welcome#key contains the company id","status":"passed","file_path":"./spec/models/radar/insights/rules/welcome_spec.rb","line_number":19,"run_time":0.004501835,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/welcome_spec.rb[1:4:1:1]","description":"is expected to equal true","full_description":"Radar::Insights::Rules::Welcome#product_update_applies? for a full access, freeagent-branding-allowed company is expected to equal true","status":"passed","file_path":"./spec/models/radar/insights/rules/welcome_spec.rb","line_number":35,"run_time":0.004434954,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/welcome_spec.rb[1:4:2:1]","description":"is expected to equal true","full_description":"Radar::Insights::Rules::Welcome#product_update_applies? for a company without full access is expected to equal true","status":"passed","file_path":"./spec/models/radar/insights/rules/welcome_spec.rb","line_number":41,"run_time":0.075375646,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/welcome_spec.rb[1:4:3:1]","description":"is expected to equal true","full_description":"Radar::Insights::Rules::Welcome#product_update_applies? for a company which does not allow freeagent branding is expected to equal true","status":"passed","file_path":"./spec/models/radar/insights/rules/welcome_spec.rb","line_number":47,"run_time":0.122933196,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/welcome_spec.rb[1:5:1]","description":"returns true","full_description":"Radar::Insights::Rules::Welcome#mobile? returns true","status":"passed","file_path":"./spec/models/radar/insights/rules/welcome_spec.rb","line_number":56,"run_time":0.007541114,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/welcome_spec.rb[1:6:1:1]","description":"the correct generation event is published","full_description":"Radar::Insights::Rules::Welcome event tracking on creation the correct generation event is published","status":"passed","file_path":"./spec/models/radar/insights/rules/welcome_spec.rb","line_number":63,"run_time":0.085101084,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/welcome_spec.rb[1:7:1:1]","description":"returns the manager creation date","full_description":"Radar::Insights::Rules::Welcome#notify_at_for_account_manager when the company was created before the manager returns the manager creation date","status":"passed","file_path":"./spec/models/radar/insights/rules/welcome_spec.rb","line_number":83,"run_time":0.138683787,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/welcome_spec.rb[1:7:2:1]","description":"returns the company creation date","full_description":"Radar::Insights::Rules::Welcome#notify_at_for_account_manager when the manager was created before the company returns the company creation date","status":"passed","file_path":"./spec/models/radar/insights/rules/welcome_spec.rb","line_number":90,"run_time":0.173169491,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:2:1:4:5]","description":"representing a non-category expense (purchase of capital asset, including deprecation)","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the invoice accounting basis not on the Flat Rate Scheme Bills representing a non-category expense (purchase of capital asset, including deprecation)","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":4182,"run_time":0.594289536,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/explained_status_match_check_spec.rb[1:1:1]","description":"is expected not to have a failure on #\u003cBankTransaction id: 4, bank_account_id: 950310510, transaction_type: nil, amount: -50.0 (BigDecimal..._id: 895397833, explained: false, date_time_on: \"2022-12-14 00:00:00.000000000 +0000\", balance: nil\u003e","full_description":"ExplainedStatusMatchCheck partially explained and explained is false is expected not to have a failure on #\u003cBankTransaction id: 4, bank_account_id: 950310510, transaction_type: nil, amount: -50.0 (BigDecimal..._id: 895397833, explained: false, date_time_on: \"2022-12-14 00:00:00.000000000 +0000\", balance: nil\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/explained_status_match_check_spec.rb","line_number":11,"run_time":0.108793501,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/explained_status_match_check_spec.rb[1:2:1]","description":"is expected to have a failure like /explained column doesn't match status/","full_description":"ExplainedStatusMatchCheck partially explained and explained is true is expected to have a failure like /explained column doesn't match status/","status":"passed","file_path":"./spec/models/health_robinson/check/explained_status_match_check_spec.rb","line_number":18,"run_time":0.125225015,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/explained_status_match_check_spec.rb[1:3:1]","description":"is expected to have a failure like /explained column doesn't match status/","full_description":"ExplainedStatusMatchCheck fully explained and explained is true is expected to have a failure like /explained column doesn't match status/","status":"passed","file_path":"./spec/models/health_robinson/check/explained_status_match_check_spec.rb","line_number":28,"run_time":0.101147127,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/explained_status_match_check_spec.rb[1:4:1]","description":"is expected not to have a failure on #\u003cBankTransaction id: 7, bank_account_id: 950310513, transaction_type: nil, amount: -50.0 (BigDecimal...y_id: 895397833, explained: true, date_time_on: \"2022-12-14 00:00:00.000000000 +0000\", balance: nil\u003e","full_description":"ExplainedStatusMatchCheck fully explained and explained is true is expected not to have a failure on #\u003cBankTransaction id: 7, bank_account_id: 950310513, transaction_type: nil, amount: -50.0 (BigDecimal...y_id: 895397833, explained: true, date_time_on: \"2022-12-14 00:00:00.000000000 +0000\", balance: nil\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/explained_status_match_check_spec.rb","line_number":38,"run_time":0.16291404,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/copilot_company_update_spec.rb[1:1:1]","description":"changes the account manager in practice client relationship","full_description":"PracticeDashboard::CopilotCompanyUpdate#save changes the account manager in practice client relationship","status":"passed","file_path":"./spec/models/practice_dashboard/copilot_company_update_spec.rb","line_number":19,"run_time":0.178237159,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/copilot_company_update_spec.rb[1:1:2]","description":"properly subscribes the new account manager to the message thread","full_description":"PracticeDashboard::CopilotCompanyUpdate#save properly subscribes the new account manager to the message thread","status":"passed","file_path":"./spec/models/practice_dashboard/copilot_company_update_spec.rb","line_number":25,"run_time":0.177139002,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[11:2:1]","description":"creates an array of blocked emails","full_description":"InvoicesController GET :show for an invoice that is overdue when the invoice has blocked emails creates an array of blocked emails","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":1064,"run_time":0.322791152,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[19:1]","description":"GETS last 3 months invoice","full_description":"InvoicesController Given a Universal company GETS last 3 months invoice","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":2174,"run_time":0.264772587,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_payout_transfer_job_spec.rb[1:1]","description":"create three account entries","full_description":"GocardlessPayoutTransferJob create three account entries","status":"passed","file_path":"./spec/jobs/gocardless_payout_transfer_job_spec.rb","line_number":20,"run_time":0.320466338,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_payout_transfer_job_spec.rb[1:2:1]","description":"does not create any bank account entries","full_description":"GocardlessPayoutTransferJob payout bank account entry already exists does not create any bank account entries","status":"passed","file_path":"./spec/jobs/gocardless_payout_transfer_job_spec.rb","line_number":37,"run_time":0.049466595,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:1:5:4]","description":"representing out of VAT scope admin expense","full_description":"UkAccountsMapper Accounts Mapper for UK companies that are not VAT registered Bills representing out of VAT scope admin expense","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":651,"run_time":0.150588433,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:2:1:3:2]","description":"representing admin expenses","full_description":"UkAccountsMapper Accounts Mapper for UK companies who have applied for VAT registration before their registration effective date Expenses representing admin expenses","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":1165,"run_time":0.181333275,"pending_message":null,"screenshot":null},{"id":"./spec/presenters/admin/paypal_poll_presenter_spec.rb[1:1:1:1]","description":"returns true","full_description":"Admin::PaypalPollPresenter#feed_access_successful? there is a successful response from the PayPal API returns true","status":"passed","file_path":"./spec/presenters/admin/paypal_poll_presenter_spec.rb","line_number":32,"run_time":0.035611939,"pending_message":null,"screenshot":null},{"id":"./spec/presenters/admin/paypal_poll_presenter_spec.rb[1:1:2:1]","description":"returns false","full_description":"Admin::PaypalPollPresenter#feed_access_successful? there is a failed response from the PayPal API returns false","status":"passed","file_path":"./spec/presenters/admin/paypal_poll_presenter_spec.rb","line_number":39,"run_time":0.033496239,"pending_message":null,"screenshot":null},{"id":"./spec/presenters/admin/paypal_poll_presenter_spec.rb[1:2:1:1]","description":"returns both messages","full_description":"Admin::PaypalPollPresenter#error_messages when there are two error messages returns both messages","status":"passed","file_path":"./spec/presenters/admin/paypal_poll_presenter_spec.rb","line_number":48,"run_time":0.034470756,"pending_message":null,"screenshot":null},{"id":"./spec/presenters/admin/paypal_poll_presenter_spec.rb[1:2:2:1]","description":"returns only one message","full_description":"Admin::PaypalPollPresenter#error_messages when there is only one error message returns only one message","status":"passed","file_path":"./spec/presenters/admin/paypal_poll_presenter_spec.rb","line_number":61,"run_time":0.026943508,"pending_message":null,"screenshot":null},{"id":"./spec/presenters/admin/paypal_poll_presenter_spec.rb[1:2:3:1]","description":"returns an empty array","full_description":"Admin::PaypalPollPresenter#error_messages when there are no error messages returns an empty array","status":"passed","file_path":"./spec/presenters/admin/paypal_poll_presenter_spec.rb","line_number":68,"run_time":0.03368437,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:90:4]","description":"does not attempt to set a bank account when one has already been set","full_description":"Invoice#bank_account does not attempt to set a bank account when one has already been set","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":2608,"run_time":0.155760998,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:112:2:1]","description":"is true when the company has a registration number","full_description":"Invoice#show_company_registration_number? on a Scheduled invoice is true when the company has a registration number","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":3413,"run_time":0.147488056,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:139:2:1]","description":"tags all the ledger entries with the property id","full_description":"Invoice ledger entry property tagging of invoices on cash basis tags all the ledger entries with the property id","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":4482,"run_time":0.177631029,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[12:14:1]","description":"shows the CIS category dropdown","full_description":"InvoicesController GET new when CIS is enabled shows the CIS category dropdown","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":1250,"run_time":0.19255963,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_institutions/help_sidebar.html.erb_spec.rb[1:1:1]","description":"renders the third-party feeds card","full_description":"bank_institutions/_help_sidebar For a normal company renders the third-party feeds card","status":"passed","file_path":"./spec/views/bank_institutions/help_sidebar.html.erb_spec.rb","line_number":14,"run_time":0.024161386,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_institutions/help_sidebar.html.erb_spec.rb[1:2:1]","description":"renders the third-party feeds card","full_description":"bank_institutions/_help_sidebar For a white-labelled company renders the third-party feeds card","status":"passed","file_path":"./spec/views/bank_institutions/help_sidebar.html.erb_spec.rb","line_number":25,"run_time":0.219790512,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/cached_setup_done_check_spec.rb[1:1:1]","description":"is expected not to have a failure on #\u003cUkLimitedCompany id: 895397833, name: \"FreeAgent Central\"\u003e","full_description":"CachedSetupDoneCheck company is setup done and cached_setup_done is not set is expected not to have a failure on #\u003cUkLimitedCompany id: 895397833, name: \"FreeAgent Central\"\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/cached_setup_done_check_spec.rb","line_number":12,"run_time":0.00841477,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/cached_setup_done_check_spec.rb[1:2:1]","description":"is expected not to have a failure on #\u003cUkLimitedCompany id: 895397833, name: \"FreeAgent Central\"\u003e","full_description":"CachedSetupDoneCheck company is setup done and cached_setup_done is set is expected not to have a failure on #\u003cUkLimitedCompany id: 895397833, name: \"FreeAgent Central\"\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/cached_setup_done_check_spec.rb","line_number":20,"run_time":0.007683486,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/cached_setup_done_check_spec.rb[1:3:1]","description":"is expected not to have a failure on #\u003cUkLimitedCompany id: 895398219, name: \"Getting Started\"\u003e","full_description":"CachedSetupDoneCheck company is not setup done and cached_setup_done is not set is expected not to have a failure on #\u003cUkLimitedCompany id: 895398219, name: \"Getting Started\"\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/cached_setup_done_check_spec.rb","line_number":28,"run_time":0.067377354,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/cached_setup_done_check_spec.rb[1:4:1]","description":"is expected to have a failure on #\u003cUkLimitedCompany id: 895398220, name: \"Getting Started\"\u003e","full_description":"CachedSetupDoneCheck company is not setup done and cached_setup_done is set is expected to have a failure on #\u003cUkLimitedCompany id: 895398220, name: \"Getting Started\"\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/cached_setup_done_check_spec.rb","line_number":36,"run_time":0.070066456,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/admin_users_permissions_controller_spec.rb[1:1:1:1]","description":"renders successfully","full_description":"Admin::AdminUserPermissionsController#index as a superhero renders successfully","status":"passed","file_path":"./spec/controllers/admin/admin_users_permissions_controller_spec.rb","line_number":15,"run_time":0.07940944,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/admin_users_permissions_controller_spec.rb[1:1:2:1]","description":"redirects to unauthorized","full_description":"Admin::AdminUserPermissionsController#index as a support user redirects to unauthorized","status":"passed","file_path":"./spec/controllers/admin/admin_users_permissions_controller_spec.rb","line_number":26,"run_time":0.038113775,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/admin_users_permissions_controller_spec.rb[1:2:1:1]","description":"routes to #default","full_description":"Admin::AdminUserPermissionsController#default as a superhero routes to #default","status":"passed","file_path":"./spec/controllers/admin/admin_users_permissions_controller_spec.rb","line_number":39,"run_time":0.02079323,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/admin_users_permissions_controller_spec.rb[1:3:1:1]","description":"routes to #additional","full_description":"Admin::AdminUserPermissionsController#additional as a superhero routes to #additional","status":"passed","file_path":"./spec/controllers/admin/admin_users_permissions_controller_spec.rb","line_number":56,"run_time":0.02649973,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/admin_users_permissions_controller_spec.rb[1:4:1:1]","description":"routes to #revoked","full_description":"Admin::AdminUserPermissionsController#revoked as a superhero routes to #revoked","status":"passed","file_path":"./spec/controllers/admin/admin_users_permissions_controller_spec.rb","line_number":73,"run_time":0.029241474,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:1:1]","description":"is not foreign_currency?","full_description":"ForeignCurrency For a GBP company with a GBP item is not foreign_currency?","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":47,"run_time":0.006047273,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:1:2]","description":"has an exchange rate of 1","full_description":"ForeignCurrency For a GBP company with a GBP item has an exchange rate of 1","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":52,"run_time":0.003769202,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:1:3]","description":"has the correct foreign currency sales tax values","full_description":"ForeignCurrency For a GBP company with a GBP item has the correct foreign currency sales tax values","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":56,"run_time":0.003627336,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:1:4:1]","description":"correctly sets the native value to be the same as the foreign value","full_description":"ForeignCurrency For a GBP company with a GBP item with automatic currency conversion on validation correctly sets the native value to be the same as the foreign value","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":67,"run_time":0.003437783,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:1:5:1]","description":"correctly sets the native value to be the same as the foreign value","full_description":"ForeignCurrency For a GBP company with a GBP item without automatic currency conversion on validation correctly sets the native value to be the same as the foreign value","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":78,"run_time":0.003320446,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:2:1]","description":"is not foreign_currency?","full_description":"ForeignCurrency For a GBP company with an old-skool GBP item (foreign_gross_value = nil) is not foreign_currency?","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":94,"run_time":0.003376188,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:2:2]","description":"has an exchange rate of 1","full_description":"ForeignCurrency For a GBP company with an old-skool GBP item (foreign_gross_value = nil) has an exchange rate of 1","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":99,"run_time":0.003325584,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:2:3]","description":"has the correct foreign currency values","full_description":"ForeignCurrency For a GBP company with an old-skool GBP item (foreign_gross_value = nil) has the correct foreign currency values","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":103,"run_time":0.003242025,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:3:1]","description":"is not foreign_currency?","full_description":"ForeignCurrency For a GBP company with an old-skool GBP item (foreign_gross_value = 0) is not foreign_currency?","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":122,"run_time":0.003189016,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:3:2]","description":"has an exchange rate of 1","full_description":"ForeignCurrency For a GBP company with an old-skool GBP item (foreign_gross_value = 0) has an exchange rate of 1","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":127,"run_time":0.003182228,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:3:3]","description":"has the correct foreign currency values","full_description":"ForeignCurrency For a GBP company with an old-skool GBP item (foreign_gross_value = 0) has the correct foreign currency values","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":131,"run_time":0.00321923,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:4:1]","description":"is foreign_currency?","full_description":"ForeignCurrency For a GBP company with a USD item is foreign_currency?","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":152,"run_time":0.00584627,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:4:2]","description":"uses the correct exchange rate","full_description":"ForeignCurrency For a GBP company with a USD item uses the correct exchange rate","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":157,"run_time":0.006489241,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:4:3]","description":"uses the manually reclaimable sales tax amount","full_description":"ForeignCurrency For a GBP company with a USD item uses the manually reclaimable sales tax amount","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":161,"run_time":0.00565211,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:4:4:1]","description":"correctly calculates the native gross value","full_description":"ForeignCurrency For a GBP company with a USD item with automatic currency conversion on validation correctly calculates the native gross value","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":173,"run_time":0.006954885,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:4:4:2]","description":"uses the manually reclaimable sales tax amount","full_description":"ForeignCurrency For a GBP company with a USD item with automatic currency conversion on validation uses the manually reclaimable sales tax amount","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":177,"run_time":0.006725559,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:4:5:1:1]","description":"does not override the manual native value","full_description":"ForeignCurrency For a GBP company with a USD item without automatic currency conversion on validation with a gross value specified does not override the manual native value","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":195,"run_time":0.006485841,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:4:5:1:2]","description":"uses the manually reclaimable sales tax amount","full_description":"ForeignCurrency For a GBP company with a USD item without automatic currency conversion on validation with a gross value specified uses the manually reclaimable sales tax amount","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":199,"run_time":0.006207947,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:4:5:2:1]","description":"correctly calculates the native gross value","full_description":"ForeignCurrency For a GBP company with a USD item without automatic currency conversion on validation with a gross value of nil correctly calculates the native gross value","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":210,"run_time":0.006842117,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:4:5:3:1]","description":"correctly calculates the native gross value","full_description":"ForeignCurrency For a GBP company with a USD item without automatic currency conversion on validation with a gross value of zero correctly calculates the native gross value","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":222,"run_time":0.006769575,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:5:1]","description":"is foreign_currency?","full_description":"ForeignCurrency For a GBP company with an item in an unsupported currency is foreign_currency?","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":247,"run_time":0.004893826,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:5:2]","description":"does not raise an error","full_description":"ForeignCurrency For a GBP company with an item in an unsupported currency does not raise an error","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":252,"run_time":0.005714121,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:1:5:3]","description":"does not perform automatic conversion","full_description":"ForeignCurrency For a GBP company with an item in an unsupported currency does not perform automatic conversion","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":258,"run_time":0.005677648,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:2:1:1]","description":"returns zero","full_description":"ForeignCurrency#foreign_sales_tax_value when the transaction is out of scope returns zero","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":272,"run_time":0.003667305,"pending_message":null,"screenshot":null},{"id":"./spec/models/foreign_currency_spec.rb[1:2:2:1]","description":"returns zero","full_description":"ForeignCurrency#foreign_sales_tax_value when the transaction is exempt from VAT returns zero","status":"passed","file_path":"./spec/models/foreign_currency_spec.rb","line_number":280,"run_time":0.003499465,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/salesforce/models/contact_event_data_spec.rb[1:1:1:1]","description":"sets the Has_Seen_Mobile_Promo flag to false","full_description":"Salesforce::Models::ContactEventData#to_hash when the user has not seen a mobile promo page sets the Has_Seen_Mobile_Promo flag to false","status":"passed","file_path":"./spec/freeagent/salesforce/models/contact_event_data_spec.rb","line_number":11,"run_time":0.078629083,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/salesforce/models/contact_event_data_spec.rb[1:1:2:1]","description":"sets the Has_Seen_Mobile_Promo flag to true","full_description":"Salesforce::Models::ContactEventData#to_hash when the user has seen a mobile promo page sets the Has_Seen_Mobile_Promo flag to true","status":"passed","file_path":"./spec/freeagent/salesforce/models/contact_event_data_spec.rb","line_number":18,"run_time":0.080478575,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/introduction_history_recording_spec.rb[1:1:1:1]","description":"attaches a note to the company","full_description":"Copilot::IntroductionHistoryRecording when handling lifecycle events #create attaches a note to the company","status":"passed","file_path":"./spec/models/copilot/introduction_history_recording_spec.rb","line_number":21,"run_time":0.166568456,"pending_message":null,"screenshot":null}],"summary":{"duration":2.235474355,"example_count":433,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"433 examples, 0 failures"}