{"version":"3.11.0","messages":["Run options:\n  include {:ids=\u003e{\"./spec/models/uk_accounts_mapper_spec.rb\"=\u003e[\"1:1:3:6\"], \"./spec/models/invoice_spec.rb\"=\u003e[\"1:69:3:2:1\", \"1:17\", \"1:70:2:2:1\", \"1:85:3:1\"]}}\n  exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/features/email_statement_of_account_spec.rb[1:1:1]","description":"is able to send a statement of account with documents attachments","full_description":"EmailStatementOfAccount Signed in user with documents is able to send a statement of account with documents attachments","status":"passed","file_path":"./spec/features/email_statement_of_account_spec.rb","line_number":14,"run_time":16.578618778,"pending_message":null,"screenshot":null},{"id":"./spec/features/email_statement_of_account_spec.rb[1:1:2]","description":"sees the email history","full_description":"EmailStatementOfAccount Signed in user with documents sees the email history","status":"passed","file_path":"./spec/features/email_statement_of_account_spec.rb","line_number":36,"run_time":3.167112896,"pending_message":null,"screenshot":null},{"id":"./spec/features/email_statement_of_account_spec.rb[1:1:3:1]","description":"sends the email with a recipient that didn't bounce","full_description":"EmailStatementOfAccount Signed in user with documents with a hard bounced recipient sends the email with a recipient that didn't bounce","status":"passed","file_path":"./spec/features/email_statement_of_account_spec.rb","line_number":73,"run_time":2.958876157,"pending_message":null,"screenshot":null},{"id":"./spec/features/email_statement_of_account_spec.rb[1:1:3:2]","description":"shows the dialog for a recipient that bounced","full_description":"EmailStatementOfAccount Signed in user with documents with a hard bounced recipient shows the dialog for a recipient that bounced","status":"passed","file_path":"./spec/features/email_statement_of_account_spec.rb","line_number":88,"run_time":2.615549234,"pending_message":null,"screenshot":null},{"id":"./spec/features/email_statement_of_account_spec.rb[1:1:4:1]","description":"disables and enables the button if the recipient is blocked or not","full_description":"EmailStatementOfAccount Signed in user with documents with blocked recipients disables and enables the button if the recipient is blocked or not","status":"passed","file_path":"./spec/features/email_statement_of_account_spec.rb","line_number":129,"run_time":2.51594174,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:1:1]","description":"requires a bank_transaction","full_description":"Api::BankTransactionExplanationsIntegration GET /bank_transaction_explanations/new requires a bank_transaction","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":115,"run_time":0.144494573,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:1:2]","description":"sets default attributes from the transaction","full_description":"Api::BankTransactionExplanationsIntegration GET /bank_transaction_explanations/new sets default attributes from the transaction","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":120,"run_time":0.231430934,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:1:3]","description":"includes a default value for ec_status when the EC VAT reporting is enabled","full_description":"Api::BankTransactionExplanationsIntegration GET /bank_transaction_explanations/new includes a default value for ec_status when the EC VAT reporting is enabled","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":151,"run_time":0.16787965,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:1:4:1]","description":"has paid_invoice attribute","full_description":"Api::BankTransactionExplanationsIntegration GET /bank_transaction_explanations/new when an invoice with matching amount exists has paid_invoice attribute","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":168,"run_time":0.233076363,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:1:5:1]","description":"has paid_bill attribute","full_description":"Api::BankTransactionExplanationsIntegration GET /bank_transaction_explanations/new when a bill with matching amount exists has paid_bill attribute","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":185,"run_time":0.28443691,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:1:6:1]","description":"does not have paid_bill attribute","full_description":"Api::BankTransactionExplanationsIntegration GET /bank_transaction_explanations/new when a bill with matching amount does not exist does not have paid_bill attribute","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":202,"run_time":0.271406066,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:2:1]","description":"lists the bank transaction explanations","full_description":"Api::BankTransactionExplanationsIntegration GET /bank_transaction_explanations for VAT registered company with EC VAT reporting lists the bank transaction explanations","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":220,"run_time":0.514996344,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:3:1:1]","description":"responds with the correct attributes","full_description":"Api::BankTransactionExplanationsIntegration GET /bank_transaction_explanations/:id with permission responds with the correct attributes","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":238,"run_time":0.19958175,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:3:1:2:1]","description":"translates the sales tax status attributes into the API format","full_description":"Api::BankTransactionExplanationsIntegration GET /bank_transaction_explanations/:id with permission sales tax status translates the sales tax status attributes into the API format","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":267,"run_time":0.483845383,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:3:1:3:1]","description":"responds with the correct attributes","full_description":"Api::BankTransactionExplanationsIntegration GET /bank_transaction_explanations/:id with permission with a Guessed Explanation responds with the correct attributes","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":288,"run_time":0.322951722,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:3:2:1]","description":"has pending operation flag","full_description":"Api::BankTransactionExplanationsIntegration GET /bank_transaction_explanations/:id with pending operation against explanation has pending operation flag","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":303,"run_time":0.282483468,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:3:3:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::BankTransactionExplanationsIntegration GET /bank_transaction_explanations/:id without permission is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":316,"run_time":0.169040173,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:4:1]","description":"returns project and rebilling attributes","full_description":"Api::BankTransactionExplanationsIntegration fetching a rebilled bank transaction explanation returns project and rebilling attributes","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":332,"run_time":0.228727509,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:4:2]","description":"returns detail in HTML when requested by a 3rd party app","full_description":"Api::BankTransactionExplanationsIntegration fetching a rebilled bank transaction explanation returns detail in HTML when requested by a 3rd party app","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":344,"run_time":0.206324057,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:4:3]","description":"returns detail in plain text when requested by the mobile app","full_description":"Api::BankTransactionExplanationsIntegration fetching a rebilled bank transaction explanation returns detail in plain text when requested by the mobile app","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":351,"run_time":0.216659285,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:5:1]","description":"responds with the locked fields and reason","full_description":"Api::BankTransactionExplanationsIntegration GET /bank_transaction_explanations/:id with locked fields responds with the locked fields and reason","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":367,"run_time":0.249378033,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:6:1:1]","description":"responds with one entry","full_description":"Api::BankTransactionExplanationsIntegration GET /bank_transaction_explanations date filters from_date responds with one entry","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":395,"run_time":0.290367859,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:6:2:1]","description":"responds with two entries","full_description":"Api::BankTransactionExplanationsIntegration GET /bank_transaction_explanations date filters updated_since responds with two entries","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":409,"run_time":0.259699403,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:3]","description":"includes error keys when X-KEYED-VALIDATIONS is true","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations includes error keys when X-KEYED-VALIDATIONS is true","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1389,"run_time":0.11487711,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:1:1:1]","description":"creates the entry and an audit entry","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_account_id adding an attachment creates the entry and an audit entry","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":448,"run_time":0.245221526,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:1:2:1]","description":"creates the entry","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_account_id without attachment creates the entry","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":488,"run_time":0.214394377,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:1:3:1]","description":"responds with standard bank transaction explanation fields and creates a linked entry","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_account_id transferring money between accounts responds with standard bank transaction explanation fields and creates a linked entry","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":506,"run_time":0.350768716,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:1:4:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_account_id transferring money between accounts on another company is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":533,"run_time":0.197920773,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:2:1:1]","description":"creates the entry and an audit entry","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_transaction_id with attachment creates the entry and an audit entry","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":563,"run_time":0.262139418,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:2:2:1]","description":"creates the entry","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_transaction_id without attachment creates the entry","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":605,"run_time":0.290878513,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:2:3:1]","description":"marks invoice as paid and responds with standard bank transaction explanation fields","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_transaction_id to pay an invoice marks invoice as paid and responds with standard bank transaction explanation fields","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":630,"run_time":0.461188742,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:2:4:1]","description":"is expected to eq \"USD\"","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_transaction_id to pay a foreign currency invoice is expected to eq \"USD\"","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":657,"run_time":0.466693204,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:2:5:1:1]","description":"error message correct","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_transaction_id to pay a credit note is draft error message correct","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":684,"run_time":0.256514088,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:2:5:2:1]","description":"error message correct","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_transaction_id to pay a credit note is written off error message correct","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":695,"run_time":0.254701283,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:2:5:3:1]","description":"marks credit note paid and responds with standard bank transaction explanation fields","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_transaction_id to pay a credit note is sent marks credit note paid and responds with standard bank transaction explanation fields","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":706,"run_time":0.521251964,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:2:6:1]","description":"responds with standard bank transaction explanation fields","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_transaction_id to pay a bill responds with standard bank transaction explanation fields","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":734,"run_time":0.506151172,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:2:7:1]","description":"is expected to eq \"USD\"","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_transaction_id to pay a foreign currency bill is expected to eq \"USD\"","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":758,"run_time":0.452169908,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:2:8:1]","description":"marks bill refund as paid and responds with standard bank transaction explanation fields","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_transaction_id to pay a bill refund marks bill refund as paid and responds with standard bank transaction explanation fields","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":778,"run_time":0.555164723,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:2:9:1]","description":"responds with standard bank transaction explanation fields and creates a linked entry","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_transaction_id transferring money between accounts responds with standard bank transaction explanation fields and creates a linked entry","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":801,"run_time":0.402886057,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:2:10:1:1]","description":"responds with standard bank transaction explanation fields","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_transaction_id to pay a user Drawings responds with standard bank transaction explanation fields","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":841,"run_time":0.281428562,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:2:10:2:1]","description":"responds with standard bank transaction explanation fields","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_transaction_id to pay a user Net Salary and Bonuses responds with standard bank transaction explanation fields","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":862,"run_time":0.280789297,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:2:10:3:1]","description":"responds with standard bank transaction explanation fields","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_transaction_id to pay a user Benefit in Kind responds with standard bank transaction explanation fields","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":883,"run_time":0.277358014,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:2:10:4:1]","description":"responds with standard bank transaction explanation fields","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_transaction_id to pay a user Expense Payment responds with standard bank transaction explanation fields","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":904,"run_time":0.23956361,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:2:10:5:1]","description":"responds with standard bank transaction explanation fields","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_transaction_id to pay a user Dividend Payment responds with standard bank transaction explanation fields","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":925,"run_time":0.252013991,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:2:10:6:1]","description":"responds with standard bank transaction explanation fields","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_transaction_id to pay a user Unpaid Shares responds with standard bank transaction explanation fields","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":946,"run_time":0.258546857,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:2:10:7:1]","description":"responds with standard bank transaction explanation fields","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_transaction_id to pay a user from Director Loan account responds with standard bank transaction explanation fields","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":967,"run_time":0.276537825,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:2:10:8:1]","description":"responds with standard bank transaction explanation fields","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_transaction_id to pay a user to Director Loan account responds with standard bank transaction explanation fields","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":990,"run_time":0.292776848,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:2:10:9:1]","description":"responds with standard bank transaction explanation fields","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_transaction_id to pay a user Smart User Payment responds with standard bank transaction explanation fields","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1012,"run_time":0.310251056,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:2:10:10:1]","description":"responds with standard bank transaction explanation fields","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_transaction_id to pay a user Share Capital Introduced responds with standard bank transaction explanation fields","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1033,"run_time":0.279998324,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:2:10:11:1]","description":"is expected to respond with status code :created (201)","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_transaction_id to pay a user An empty paid_user is expected to respond with status code :created (201)","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1054,"run_time":0.242710357,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:2:11:1]","description":"responds with standard bank transaction explanation fields","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_transaction_id to purchase stock responds with standard bank transaction explanation fields","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1074,"run_time":0.307483771,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:2:12:1]","description":"responds with standard bank transaction explanation fields and sets entry type based on category","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_transaction_id to sell stock responds with standard bank transaction explanation fields and sets entry type based on category","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1104,"run_time":0.364668622,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:2:13:1:1]","description":"responds with standard bank transaction explanation fields","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_transaction_id Other accounts Initial Debtors responds with standard bank transaction explanation fields","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1132,"run_time":0.259494235,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:2:13:2:1]","description":"responds with standard bank transaction explanation fields","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_transaction_id Other accounts Initial Creditors responds with standard bank transaction explanation fields","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1152,"run_time":0.266422561,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:2:13:3:1]","description":"responds with standard bank transaction explanation fields","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_transaction_id Other accounts Capital Asset Purchase responds with standard bank transaction explanation fields","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1173,"run_time":0.300279405,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:2:13:4:1]","description":"responds with standard bank transaction explanation fields","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_transaction_id Other accounts Capital Asset Disposal responds with standard bank transaction explanation fields","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1196,"run_time":0.266129576,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:2:14:1]","description":"uses the sales_tax_rate over the manual_sales_tax_amount","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_transaction_id with a manual_sales_tax_amount provided and no sales_tax_rate uses the sales_tax_rate over the manual_sales_tax_amount","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1214,"run_time":0.218368561,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:2:15:1]","description":"uses the sales_tax_rate over the manual_sales_tax_amount","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_transaction_id with a sales_tax_rate provided and no manual_sales_tax_amount uses the sales_tax_rate over the manual_sales_tax_amount","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1227,"run_time":0.213587026,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:2:16:1]","description":"uses the sales_tax_rate over the manual_sales_tax_amount","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_transaction_id with both manual_sales_tax_amount and sales_tax_rate set uses the sales_tax_rate over the manual_sales_tax_amount","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1239,"run_time":0.232167349,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:2:17:1]","description":"does not create the entry","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with bank_transaction_id transaction dated_on and explanation dated_on do not match does not create the entry","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1266,"run_time":0.117132812,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:3:1]","description":"sets the sales_tax_rate to out of scope","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with the sales_tax_status set to OUT_OF_SCOPE sets the sales_tax_rate to out of scope","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1285,"run_time":0.210444729,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:4:1]","description":"sets the second_sales_tax_rate to out of scope","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with the second_sales_tax_status set to OUT_OF_SCOPE sets the second_sales_tax_rate to out of scope","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1300,"run_time":0.197031575,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:1:5:1]","description":"is expected to respond with status code :bad_request (400)","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with valid attributes with invalid params is expected to respond with status code :bad_request (400)","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1310,"run_time":0.097325332,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:2:1:1]","description":"does not save the bank account entry","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with invalid attributes dated_on does not save the bank account entry","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1323,"run_time":0.099120798,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:2:2:1]","description":"returns an error message","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with invalid attributes category returns an error message","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1338,"run_time":0.105890081,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:2:3:1]","description":"is ignored and creates a new transaction","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with invalid attributes bank_transaction is ignored and creates a new transaction","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1355,"run_time":0.175843905,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:2:4:1]","description":"is ignored and creates a new transaction","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with invalid attributes bank_account is ignored and creates a new transaction","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1370,"run_time":0.186571606,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:2:5:1]","description":"returns a sensible error message","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with invalid attributes blank entry_type and category returns a sensible error message","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1382,"run_time":0.120694077,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:4:1:1]","description":"creates a bank_transaction_explanation with nil ec_status","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with ec_status set to UK/Non-EC creates a bank_transaction_explanation with nil ec_status","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1417,"run_time":0.278518222,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:4:2:1]","description":"creates a bank_transaction_explanation with nil ec_status","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with ec_status set to Non-EC creates a bank_transaction_explanation with nil ec_status","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1417,"run_time":0.280092705,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:4:3:1]","description":"creates a bank_transaction_explanation with the correct ec_status","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with ec_status set to EC Services creates a bank_transaction_explanation with the correct ec_status","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1435,"run_time":0.300707441,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:4:4:1]","description":"creates a bank_transaction_explanation with the correct ec_status","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with ec_status set to Reverse Charge creates a bank_transaction_explanation with the correct ec_status","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1452,"run_time":0.298336197,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:4:5:1:1]","description":"creates a bank_transaction_explanation with the correct ec_status","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with ec_status set to EC VAT MOSS with a place of supply creates a bank_transaction_explanation with the correct ec_status","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1473,"run_time":0.299185868,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:4:5:2:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with ec_status set to EC VAT MOSS with an invalid place of supply is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1488,"run_time":0.212491609,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:4:5:3:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with ec_status set to EC VAT MOSS without a place of supply is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1496,"run_time":0.233144131,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:4:6:1:1]","description":"creates a bank_transaction_explanation with no ec_status","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with ec_status set to an integer value of 0 creates a bank_transaction_explanation with no ec_status","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1507,"run_time":0.272835817,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:4:6:2:1]","description":"creates a bank_transaction_explanation with an ec_status of EC Services","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with ec_status set to an integer value of 1 creates a bank_transaction_explanation with an ec_status of EC Services","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1524,"run_time":0.261225964,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:4:6:3:1]","description":"creates a bank_transaction_explanation with an ec_status of EC Goods","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with ec_status set to an integer value of 2 creates a bank_transaction_explanation with an ec_status of EC Goods","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1538,"run_time":0.259343023,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:4:6:4:1]","description":"creates a bank_transaction_explanation with an ec_status of EC VAT MOSS","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with ec_status set to an integer value of 3 creates a bank_transaction_explanation with an ec_status of EC VAT MOSS","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1555,"run_time":0.237255032,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:4:6:5:1]","description":"creates a bank_transaction_explanation with an ec_status of Reverse Charge","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with ec_status set to an integer value of 4 creates a bank_transaction_explanation with an ec_status of Reverse Charge","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1572,"run_time":0.256332162,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:7:4:6:6:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations with ec_status set to an integer value of 5 is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1585,"run_time":0.161709015,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:8:1]","description":"returns a bank_transaction_explanation","full_description":"Api::BankTransactionExplanationsIntegration POST /bank_transaction_explanations/build returns a bank_transaction_explanation","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1593,"run_time":0.10363785,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:9:1]","description":"create a purchase of stock bank transaction explanation","full_description":"Api::BankTransactionExplanationsIntegration create bank transaction explanation with stock item create a purchase of stock bank transaction explanation","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1613,"run_time":0.229271232,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:9:2]","description":"create a sell of stock bank transaction explanation","full_description":"Api::BankTransactionExplanationsIntegration create bank transaction explanation with stock item create a sell of stock bank transaction explanation","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1625,"run_time":0.432689266,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:10:1]","description":"create a purchase of capital asset bank transaction explanation","full_description":"Api::BankTransactionExplanationsIntegration create bank transaction explanation with capital asset create a purchase of capital asset bank transaction explanation","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1658,"run_time":0.488759336,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:10:2]","description":"create a disposal of capital asset bank transaction explanation","full_description":"Api::BankTransactionExplanationsIntegration create bank transaction explanation with capital asset create a disposal of capital asset bank transaction explanation","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1671,"run_time":0.620070275,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:11:1]","description":"rebilling the project","full_description":"Api::BankTransactionExplanationsIntegration create bank transaction explanation rebilled to a project rebilling the project","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1692,"run_time":0.23047138,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:12:1:1:1:1]","description":"updates the entry","full_description":"Api::BankTransactionExplanationsIntegration PUT /bank_transaction_explanations/id with valid id with valid attributes adding an attachment updates the entry","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1737,"run_time":0.340298027,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:12:1:1:2:1]","description":"updates the entry","full_description":"Api::BankTransactionExplanationsIntegration PUT /bank_transaction_explanations/id with valid id with valid attributes without attachment updates the entry","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1768,"run_time":0.302003322,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:12:1:1:3:1]","description":"updates the entry","full_description":"Api::BankTransactionExplanationsIntegration PUT /bank_transaction_explanations/id with valid id with valid attributes when changing an invoice receipt to money received from user updates the entry","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1792,"run_time":0.629771292,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:12:1:1:4:1]","description":"updates the attachment description","full_description":"Api::BankTransactionExplanationsIntegration PUT /bank_transaction_explanations/id with valid id with valid attributes updating the attachment description updates the attachment description","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1818,"run_time":0.290171373,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:12:1:1:5:1]","description":"updates the attachment description","full_description":"Api::BankTransactionExplanationsIntegration PUT /bank_transaction_explanations/id with valid id with valid attributes removing an attachment updates the attachment description","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1839,"run_time":0.316486091,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:12:1:1:6:1]","description":"marks the entry as reviewed","full_description":"Api::BankTransactionExplanationsIntegration PUT /bank_transaction_explanations/id with valid id with valid attributes when approving an explanation that is marked_for_review marks the entry as reviewed","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1861,"run_time":0.433665406,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:12:1:1:7:1]","description":"uses the sales_tax_rate over the manual_sales_tax_amount","full_description":"Api::BankTransactionExplanationsIntegration PUT /bank_transaction_explanations/id with valid id with valid attributes with a manual_sales_tax_amount provided and no sales_tax_rate uses the sales_tax_rate over the manual_sales_tax_amount","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1888,"run_time":0.253096281,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:12:1:1:8:1]","description":"uses the sales_tax_rate over the manual_sales_tax_amount","full_description":"Api::BankTransactionExplanationsIntegration PUT /bank_transaction_explanations/id with valid id with valid attributes with a sales_tax_rate provided and no manual_sales_tax_amount uses the sales_tax_rate over the manual_sales_tax_amount","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1901,"run_time":0.26061961,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:12:1:1:9:1]","description":"uses the sales_tax_rate over the manual_sales_tax_amount","full_description":"Api::BankTransactionExplanationsIntegration PUT /bank_transaction_explanations/id with valid id with valid attributes with both manual_sales_tax_amount and sales_tax_rate set uses the sales_tax_rate over the manual_sales_tax_amount","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1913,"run_time":0.240863752,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:12:1:1:10:1]","description":"sets the sales_tax_rate to out of scope","full_description":"Api::BankTransactionExplanationsIntegration PUT /bank_transaction_explanations/id with valid id with valid attributes with the sales_tax_status set to OUT_OF_SCOPE sets the sales_tax_rate to out of scope","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1931,"run_time":0.290224356,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:12:1:1:11:1]","description":"sets the second_sales_tax_rate to out of scope","full_description":"Api::BankTransactionExplanationsIntegration PUT /bank_transaction_explanations/id with valid id with valid attributes with the second_sales_tax_status set to OUT_OF_SCOPE sets the second_sales_tax_rate to out of scope","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1945,"run_time":0.345478064,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:12:1:2:1]","description":"renders an error","full_description":"Api::BankTransactionExplanationsIntegration PUT /bank_transaction_explanations/id with valid id with invalid attachment renders an error","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1963,"run_time":1.151123773,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:12:1:3:1]","description":"does not update the entry","full_description":"Api::BankTransactionExplanationsIntegration PUT /bank_transaction_explanations/id with valid id with invalid attributes does not update the entry","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1975,"run_time":0.152329975,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:12:1:4:1]","description":"updates the account when it is passed in","full_description":"Api::BankTransactionExplanationsIntegration PUT /bank_transaction_explanations/id with valid id selling of stock updates the account when it is passed in","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":1998,"run_time":0.577735193,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:12:1:4:2]","description":"does not change the account when it is not passed in","full_description":"Api::BankTransactionExplanationsIntegration PUT /bank_transaction_explanations/id with valid id selling of stock does not change the account when it is not passed in","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":2005,"run_time":0.519428881,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:12:1:5:1]","description":"updates the explanation as payment successfully","full_description":"Api::BankTransactionExplanationsIntegration PUT /bank_transaction_explanations/id with valid id updating the transaction type updates the explanation as payment successfully","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":2027,"run_time":0.407737893,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:12:1:6:1]","description":"resets the smart user payment fields","full_description":"Api::BankTransactionExplanationsIntegration PUT /bank_transaction_explanations/id with valid id updating a smart user payment resets the smart user payment fields","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":2049,"run_time":0.443795789,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:12:2:1]","description":"is expected to respond with a not_found status code (404)","full_description":"Api::BankTransactionExplanationsIntegration PUT /bank_transaction_explanations/id with invalid id is expected to respond with a not_found status code (404)","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":2062,"run_time":0.068471553,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:13:1:1:1]","description":"deletes explanation, but not the bank transaction and creates an audit entry","full_description":"Api::BankTransactionExplanationsIntegration DELETE /bank_transaction_explanations/id with valid id deleteable explanation deletes explanation, but not the bank transaction and creates an audit entry","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":2079,"run_time":0.2181465,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:13:1:2:1]","description":"deletes the explanation and the bank transaction and creates an audit entry","full_description":"Api::BankTransactionExplanationsIntegration DELETE /bank_transaction_explanations/id with valid id for a manual bank transaction deletes the explanation and the bank transaction and creates an audit entry","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":2107,"run_time":0.208318528,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb[1:13:2:1]","description":"respond with a not found error","full_description":"Api::BankTransactionExplanationsIntegration DELETE /bank_transaction_explanations/id with invalid id respond with a not found error","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations_integration_spec.rb","line_number":2132,"run_time":0.074049954,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:1:1]","description":"sets bank account","full_description":"BankAccountEntryBuilder#build sets bank account","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":15,"run_time":0.029994821,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:1:2]","description":"is dated on today","full_description":"BankAccountEntryBuilder#build is dated on today","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":20,"run_time":0.025879019,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:1:3]","description":"sets sales tax rate to company default","full_description":"BankAccountEntryBuilder#build sets sales tax rate to company default","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":25,"run_time":0.028081354,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:1:4]","description":"sets paid user","full_description":"BankAccountEntryBuilder#build sets paid user","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":35,"run_time":0.02546967,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:1:5]","description":"sets the paid invoice if it is open","full_description":"BankAccountEntryBuilder#build sets the paid invoice if it is open","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":42,"run_time":0.10208942,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:1:6]","description":"does not set the gross value when paying a different currency invoice","full_description":"BankAccountEntryBuilder#build does not set the gross value when paying a different currency invoice","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":51,"run_time":0.128837549,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:1:7]","description":"sets the paid bill","full_description":"BankAccountEntryBuilder#build sets the paid bill","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":60,"run_time":0.078831692,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:1:8]","description":"explains a transaction","full_description":"BankAccountEntryBuilder#build explains a transaction","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":69,"run_time":0.045318178,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:1:9]","description":"sets paid invoice to the first invoice with a matching unpaid amount","full_description":"BankAccountEntryBuilder#build sets paid invoice to the first invoice with a matching unpaid amount","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":76,"run_time":0.196705698,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:1:10]","description":"does not set paid invoice if no invoice has matching amount","full_description":"BankAccountEntryBuilder#build does not set paid invoice if no invoice has matching amount","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":87,"run_time":0.306380958,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:1:11]","description":"sets paid bill to the first bill with a matching unpaid amount","full_description":"BankAccountEntryBuilder#build sets paid bill to the first bill with a matching unpaid amount","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":98,"run_time":0.123225648,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:1:12]","description":"does not set paid bill if no bill has matching amount","full_description":"BankAccountEntryBuilder#build does not set paid bill if no bill has matching amount","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":113,"run_time":0.083586788,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:1:13]","description":"copies nominal code of last manual entry by default","full_description":"BankAccountEntryBuilder#build copies nominal code of last manual entry by default","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":125,"run_time":0.009288615,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:1:14]","description":"copies the purchase account of last manual entry if applicable","full_description":"BankAccountEntryBuilder#build copies the purchase account of last manual entry if applicable","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":134,"run_time":0.031758326,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:1:15]","description":"copies the income account of last manual entry if applicable","full_description":"BankAccountEntryBuilder#build copies the income account of last manual entry if applicable","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":151,"run_time":0.094230347,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:1:16]","description":"does not duplicate the last manual entry for explanations","full_description":"BankAccountEntryBuilder#build does not duplicate the last manual entry for explanations","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":167,"run_time":0.052181347,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:1:17]","description":"copies the stock item of last manual entry if applicable","full_description":"BankAccountEntryBuilder#build copies the stock item of last manual entry if applicable","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":184,"run_time":0.029326183,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:1:18]","description":"sets the linked_transfer_transaction attribute on the bank account entry","full_description":"BankAccountEntryBuilder#build sets the linked_transfer_transaction attribute on the bank account entry","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":198,"run_time":0.046969182,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:2:1]","description":"does not set sales_tax_rate unless explicitly specified","full_description":"BankAccountEntryBuilder#create does not set sales_tax_rate unless explicitly specified","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":226,"run_time":0.09959391,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:2:2]","description":"creates matching bank account entries","full_description":"BankAccountEntryBuilder#create creates matching bank account entries","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":234,"run_time":0.194210761,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:2:3:1]","description":"publishes BANK_TRANSACTION_EXPLANATION_CREATED events for matching bank account entries","full_description":"BankAccountEntryBuilder#create publishing transaction explained events publishes BANK_TRANSACTION_EXPLANATION_CREATED events for matching bank account entries","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":269,"run_time":0.268673413,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:2:4:1:1]","description":"creates an audit entry against the bank transaction showing that it was created manually","full_description":"BankAccountEntryBuilder#create auditing when creating a manual transaction creates an audit entry against the bank transaction showing that it was created manually","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":283,"run_time":0.132728364,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:2:4:2:1]","description":"creates an audit entry against the bank transaction showing it was updated and explanation added","full_description":"BankAccountEntryBuilder#create auditing when creating an explanation which fully explains a bank transaction creates an audit entry against the bank transaction showing it was updated and explanation added","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":312,"run_time":0.131499998,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:2:4:3:1]","description":"creates an audit entry against the bank transaction showing it was updated and explanation added","full_description":"BankAccountEntryBuilder#create auditing when creating an explanation which partially explains a bank transaction creates an audit entry against the bank transaction showing it was updated and explanation added","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":343,"run_time":0.109113478,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:2:4:4:1]","description":"creates an audit entry against each of the transactions","full_description":"BankAccountEntryBuilder#create auditing when creating an explanation with matching transactions creates an audit entry against each of the transactions","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":375,"run_time":0.203901553,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:2:4:5:1]","description":"creates an audit entry against the bank transaction showing an explanation was added by Guess","full_description":"BankAccountEntryBuilder#create auditing when creating an explanation through banquo creates an audit entry against the bank transaction showing an explanation was added by Guess","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":406,"run_time":0.129787626,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:2:5:1]","description":"uses document_id to create the attachment","full_description":"BankAccountEntryBuilder#create with a document uses document_id to create the attachment","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":442,"run_time":0.245512096,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:2:5:2]","description":"reattaches the document to the entry when other params cause the entry to be invalid","full_description":"BankAccountEntryBuilder#create with a document reattaches the document to the entry when other params cause the entry to be invalid","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":451,"run_time":0.139264406,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:2:5:3:1]","description":"does not persist the bank account entry and populates errors","full_description":"BankAccountEntryBuilder#create with a document with a user that doesn't have access to the document does not persist the bank account entry and populates errors","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":466,"run_time":0.201718153,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:2:5:4:1]","description":"does not save the attachment","full_description":"BankAccountEntryBuilder#create with a document for a locked document does not save the attachment","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":479,"run_time":0.208431959,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:2:5:4:2]","description":"attaches an error to the base object","full_description":"BankAccountEntryBuilder#create with a document for a locked document attaches an error to the base object","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":484,"run_time":0.465414655,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:2:6:1:1]","description":"finds the matching transfer and explains both of them","full_description":"BankAccountEntryBuilder#create transfers between accounts with one matching transfer in another account finds the matching transfer and explains both of them","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":518,"run_time":0.726716915,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:2:6:2:1:1]","description":"matches with the second transaction","full_description":"BankAccountEntryBuilder#create transfers between accounts with two matching transactions in another account and the first one is already explained matches with the second transaction","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":543,"run_time":0.335430757,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:2:6:2:2:1]","description":"matches with the second transaction","full_description":"BankAccountEntryBuilder#create transfers between accounts with two matching transactions in another account when the first one is explained just after being matched matches with the second transaction","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":554,"run_time":0.348656281,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:2:6:3:1]","description":"retries 3 times before logging a message","full_description":"BankAccountEntryBuilder#create transfers between accounts error handling retries 3 times before logging a message","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":595,"run_time":0.364727429,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:3:1:1]","description":"updates the disposed_on date on the capital asset for capital asset disposals","full_description":"BankAccountEntryBuilder#update Capital Asset Disposals updates the disposed_on date on the capital asset for capital asset disposals","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":646,"run_time":0.501125302,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:3:2:1]","description":"accepts the review","full_description":"BankAccountEntryBuilder#update a marked_for_review entry accepts the review","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":661,"run_time":0.165805114,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:3:3:1:1]","description":"is updates its ledger entries and schedules a revaluation job","full_description":"BankAccountEntryBuilder#update updating ledger entries when updating a payment invoices is updates its ledger entries and schedules a revaluation job","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":682,"run_time":0.611897405,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:3:3:2:1]","description":"is updates its ledger entries and schedules a revaluation job","full_description":"BankAccountEntryBuilder#update updating ledger entries when updating a payment bills is updates its ledger entries and schedules a revaluation job","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":700,"run_time":0.810081029,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:3:4:1:1]","description":"creates an audit entry against the bank transaction showing it was changed","full_description":"BankAccountEntryBuilder#update auditing when updating an explanation creates an audit entry against the bank transaction showing it was changed","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":716,"run_time":0.185582491,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:3:4:2:1]","description":"creates an audit entry against the bank transaction showing it was approved","full_description":"BankAccountEntryBuilder#update auditing when marking an explanation as approved creates an audit entry against the bank transaction showing it was approved","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":741,"run_time":0.272285462,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:3:5:1]","description":"uses document_id to create the attachment","full_description":"BankAccountEntryBuilder#update with a document uses document_id to create the attachment","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":776,"run_time":0.356964682,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:3:5:2]","description":"reattaches the document to the entry when other params cause the entry to be invalid","full_description":"BankAccountEntryBuilder#update with a document reattaches the document to the entry when other params cause the entry to be invalid","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":785,"run_time":0.240074371,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:3:5:3:1]","description":"does not attach the document and populates errors","full_description":"BankAccountEntryBuilder#update with a document with a user that doesn't have access to the document does not attach the document and populates errors","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":800,"run_time":0.315125742,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:3:5:4:1]","description":"sets the matched_receipt field to nil","full_description":"BankAccountEntryBuilder#update with a document when the bank account entry has a matched receipt sets the matched_receipt field to nil","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":822,"run_time":0.544851812,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:4:1]","description":"destroys the bank account entry","full_description":"BankAccountEntryBuilder#destroy destroys the bank account entry","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":848,"run_time":0.147352599,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:4:2:1:1]","description":"creates an audit entry against the bank transaction showing it was deleted","full_description":"BankAccountEntryBuilder#destroy auditing when deleting a manual transaction creates an audit entry against the bank transaction showing it was deleted","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":861,"run_time":0.156208914,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:4:2:2:1]","description":"creates an audit entry against the bank transaction showing it was updated and explanation removed","full_description":"BankAccountEntryBuilder#destroy auditing when deleting an explanation which fully unexplains a bank transaction creates an audit entry against the bank transaction showing it was updated and explanation removed","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":888,"run_time":0.156948186,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_builder_spec.rb[1:4:2:3:1]","description":"creates an audit entry against the bank transaction showing it was updated and explanation removed","full_description":"BankAccountEntryBuilder#destroy auditing when deleting an explanation which partially unexplains a bank transaction creates an audit entry against the bank transaction showing it was updated and explanation removed","status":"passed","file_path":"./spec/models/bank_account_entry_builder_spec.rb","line_number":914,"run_time":0.206332745,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/sidebar/latest_statement_spec.rb[1:1]","description":"seeing without statement content","full_description":"Banking Sidebar - Latest statement seeing without statement content","status":"passed","file_path":"./spec/features/new_banking/sidebar/latest_statement_spec.rb","line_number":10,"run_time":1.450120533,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/sidebar/latest_statement_spec.rb[1:2]","description":"not seeing with bank feed enabled","full_description":"Banking Sidebar - Latest statement not seeing with bank feed enabled","status":"passed","file_path":"./spec/features/new_banking/sidebar/latest_statement_spec.rb","line_number":18,"run_time":1.124620609,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/sidebar/latest_statement_spec.rb[1:3:1]","description":"seeing personal content","full_description":"Banking Sidebar - Latest statement with statement seeing personal content","status":"passed","file_path":"./spec/features/new_banking/sidebar/latest_statement_spec.rb","line_number":36,"run_time":1.428081707,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/sidebar/latest_statement_spec.rb[1:3:2]","description":"seeing completed content","full_description":"Banking Sidebar - Latest statement with statement seeing completed content","status":"passed","file_path":"./spec/features/new_banking/sidebar/latest_statement_spec.rb","line_number":48,"run_time":1.642261917,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/sidebar/latest_statement_spec.rb[1:3:3]","description":"seeing in progress content","full_description":"Banking Sidebar - Latest statement with statement seeing in progress content","status":"passed","file_path":"./spec/features/new_banking/sidebar/latest_statement_spec.rb","line_number":57,"run_time":3.793410359,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:1]","description":"rescans smart user payments for one source item correctly","full_description":"SmartUserPayments rescans smart user payments for one source item correctly","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":9,"run_time":0.256398478,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:2]","description":"rescans smart user payments for multiple source items for different users correctly","full_description":"SmartUserPayments rescans smart user payments for multiple source items for different users correctly","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":17,"run_time":0.473720081,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:3]","description":"pays off salaries","full_description":"SmartUserPayments pays off salaries","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":29,"run_time":0.49873404,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:4]","description":"pays off salaries across multiple payments","full_description":"SmartUserPayments pays off salaries across multiple payments","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":36,"run_time":0.770014481,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:5]","description":"pays off expenses","full_description":"SmartUserPayments pays off expenses","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":47,"run_time":0.456743336,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:6]","description":"pays off salary then any remaining goes to expenses","full_description":"SmartUserPayments pays off salary then any remaining goes to expenses","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":54,"run_time":0.542632354,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:7]","description":"does not pay off future salaries","full_description":"SmartUserPayments does not pay off future salaries","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":64,"run_time":0.441356683,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:8]","description":"does not pay off future expenses","full_description":"SmartUserPayments does not pay off future expenses","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":73,"run_time":0.443267493,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:9]","description":"does not put the salary account into debit","full_description":"SmartUserPayments does not put the salary account into debit","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":82,"run_time":0.672674404,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:10]","description":"does not put the expense account into debit","full_description":"SmartUserPayments does not put the expense account into debit","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":90,"run_time":0.639716329,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:11]","description":"does not recalculate once a smart user payment has been allocated","full_description":"SmartUserPayments does not recalculate once a smart user payment has been allocated","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":98,"run_time":0.503355523,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:12]","description":"recalculates if the smart payment fields are reset","full_description":"SmartUserPayments recalculates if the smart payment fields are reset","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":110,"run_time":0.786158196,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:13]","description":"recalculates if the dated is changed","full_description":"SmartUserPayments recalculates if the dated is changed","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":124,"run_time":0.748792183,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:14]","description":"recalculates if the gross value is changed","full_description":"SmartUserPayments recalculates if the gross value is changed","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":136,"run_time":0.716855958,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:15]","description":"recalculates if the general ledger account is changed","full_description":"SmartUserPayments recalculates if the general ledger account is changed","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":148,"run_time":0.739120057,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:16]","description":"does not recalculate if the description is changed","full_description":"SmartUserPayments does not recalculate if the description is changed","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":161,"run_time":0.625771457,"pending_message":null,"screenshot":null},{"id":"./spec/models/smart_user_payments_spec.rb[1:17:1]","description":"is expected to eq 966.49 (BigDecimal)","full_description":"SmartUserPayments in a locked period is expected to eq 966.49 (BigDecimal)","status":"passed","file_path":"./spec/models/smart_user_payments_spec.rb","line_number":177,"run_time":1.333545326,"pending_message":null,"screenshot":null},{"id":"./spec/models/stock_mapper_spec.rb[1:1:1]","description":"destroys existing stock entry on a non-stock-altering source item","full_description":"StockMapper#update_stock_entry destroys existing stock entry on a non-stock-altering source item","status":"passed","file_path":"./spec/models/stock_mapper_spec.rb","line_number":16,"run_time":0.295514375,"pending_message":null,"screenshot":null},{"id":"./spec/models/stock_mapper_spec.rb[1:1:2]","description":"replaces stock entry with the new one generated for the source item","full_description":"StockMapper#update_stock_entry replaces stock entry with the new one generated for the source item","status":"passed","file_path":"./spec/models/stock_mapper_spec.rb","line_number":28,"run_time":0.334296476,"pending_message":null,"screenshot":null},{"id":"./spec/models/stock_mapper_spec.rb[1:1:3]","description":"does not replace the stock entry if the new stock entry is the same","full_description":"StockMapper#update_stock_entry does not replace the stock entry if the new stock entry is the same","status":"passed","file_path":"./spec/models/stock_mapper_spec.rb","line_number":37,"run_time":0.280570662,"pending_message":null,"screenshot":null},{"id":"./spec/models/stock_mapper_spec.rb[1:1:4]","description":"replaces the stock entry if the new stock entry is the same and the force flag is set","full_description":"StockMapper#update_stock_entry replaces the stock entry if the new stock entry is the same and the force flag is set","status":"passed","file_path":"./spec/models/stock_mapper_spec.rb","line_number":46,"run_time":0.364158225,"pending_message":null,"screenshot":null},{"id":"./spec/models/stock_mapper_spec.rb[1:1:5]","description":"forces a ledger entry update on all stock transactions when the source item is a stock item","full_description":"StockMapper#update_stock_entry forces a ledger entry update on all stock transactions when the source item is a stock item","status":"passed","file_path":"./spec/models/stock_mapper_spec.rb","line_number":57,"run_time":0.122719014,"pending_message":null,"screenshot":null},{"id":"./spec/models/stock_mapper_spec.rb[1:2:1]","description":"creates no stock entries if the source item is not stock altering","full_description":"StockMapper#build_stock_entry creates no stock entries if the source item is not stock altering","status":"passed","file_path":"./spec/models/stock_mapper_spec.rb","line_number":72,"run_time":0.036047507,"pending_message":null,"screenshot":null},{"id":"./spec/models/stock_mapper_spec.rb[1:2:2]","description":"creates a stock entry for the opening balance of a stock item","full_description":"StockMapper#build_stock_entry creates a stock entry for the opening balance of a stock item","status":"passed","file_path":"./spec/models/stock_mapper_spec.rb","line_number":78,"run_time":0.035372117,"pending_message":null,"screenshot":null},{"id":"./spec/models/stock_mapper_spec.rb[1:2:3:1]","description":"creates a stock entry for a journal entry","full_description":"StockMapper#build_stock_entry for a journal entry creates a stock entry for a journal entry","status":"passed","file_path":"./spec/models/stock_mapper_spec.rb","line_number":107,"run_time":0.129040855,"pending_message":null,"screenshot":null},{"id":"./spec/models/stock_mapper_spec.rb[1:2:4:1]","description":"builds one stock entry for the bill, using gross_value if not charging sales tax","full_description":"StockMapper#build_stock_entry when buying stock on a bill builds one stock entry for the bill, using gross_value if not charging sales tax","status":"passed","file_path":"./spec/models/stock_mapper_spec.rb","line_number":128,"run_time":0.31996165,"pending_message":null,"screenshot":null},{"id":"./spec/models/stock_mapper_spec.rb[1:2:4:2:1]","description":"creates one stock entry for the bill, using net_value","full_description":"StockMapper#build_stock_entry when buying stock on a bill if charging sales tax creates one stock entry for the bill, using net_value","status":"passed","file_path":"./spec/models/stock_mapper_spec.rb","line_number":141,"run_time":0.447364682,"pending_message":null,"screenshot":null},{"id":"./spec/models/stock_mapper_spec.rb[1:2:5:1]","description":"creates one stock entry for the bill, using net_value","full_description":"StockMapper#build_stock_entry when buying stock on a paid bill with extra tax effects on the payment creates one stock entry for the bill, using net_value","status":"passed","file_path":"./spec/models/stock_mapper_spec.rb","line_number":166,"run_time":0.812519608,"pending_message":null,"screenshot":null},{"id":"./spec/models/stock_mapper_spec.rb[1:2:6:1]","description":"builds one stock entry for the expense, using gross_value if not charging sales tax","full_description":"StockMapper#build_stock_entry when buying stock on an expense builds one stock entry for the expense, using gross_value if not charging sales tax","status":"passed","file_path":"./spec/models/stock_mapper_spec.rb","line_number":184,"run_time":0.15049127,"pending_message":null,"screenshot":null},{"id":"./spec/models/stock_mapper_spec.rb[1:2:6:2:1]","description":"builds one stock entry for the expense, using net_value","full_description":"StockMapper#build_stock_entry when buying stock on an expense if charging sales tax builds one stock entry for the expense, using net_value","status":"passed","file_path":"./spec/models/stock_mapper_spec.rb","line_number":197,"run_time":0.156451967,"pending_message":null,"screenshot":null},{"id":"./spec/models/stock_mapper_spec.rb[1:2:7:1]","description":"builds one stock entry for the expense, using gross_value if not charging sales tax","full_description":"StockMapper#build_stock_entry when buying stock on an foreign currency expense builds one stock entry for the expense, using gross_value if not charging sales tax","status":"passed","file_path":"./spec/models/stock_mapper_spec.rb","line_number":214,"run_time":0.154753484,"pending_message":null,"screenshot":null},{"id":"./spec/models/stock_mapper_spec.rb[1:2:7:2:1]","description":"builds one stock entry for the expense, using net_value","full_description":"StockMapper#build_stock_entry when buying stock on an foreign currency expense if charging sales tax builds one stock entry for the expense, using net_value","status":"passed","file_path":"./spec/models/stock_mapper_spec.rb","line_number":223,"run_time":0.151274409,"pending_message":null,"screenshot":null},{"id":"./spec/models/stock_mapper_spec.rb[1:2:8:1]","description":"builds one stock entry for the bank account entry, using gross_value if not charging sales tax","full_description":"StockMapper#build_stock_entry when buying stock on a bank account entry builds one stock entry for the bank account entry, using gross_value if not charging sales tax","status":"passed","file_path":"./spec/models/stock_mapper_spec.rb","line_number":236,"run_time":0.203297482,"pending_message":null,"screenshot":null},{"id":"./spec/models/stock_mapper_spec.rb[1:2:8:2:1]","description":"builds one stock entry for the bank account entry, using net_value","full_description":"StockMapper#build_stock_entry when buying stock on a bank account entry if charging sales tax builds one stock entry for the bank account entry, using net_value","status":"passed","file_path":"./spec/models/stock_mapper_spec.rb","line_number":249,"run_time":0.214383969,"pending_message":null,"screenshot":null},{"id":"./spec/models/stock_mapper_spec.rb[1:2:9:1]","description":"builds one stock entry for the bank account entry, using gross_value if not charging sales tax","full_description":"StockMapper#build_stock_entry when buying stock on a foreign bank account entry builds one stock entry for the bank account entry, using gross_value if not charging sales tax","status":"passed","file_path":"./spec/models/stock_mapper_spec.rb","line_number":271,"run_time":0.216103396,"pending_message":null,"screenshot":null},{"id":"./spec/models/stock_mapper_spec.rb[1:2:9:2:1]","description":"builds one stock entry for the bank account entry, using net_value","full_description":"StockMapper#build_stock_entry when buying stock on a foreign bank account entry if charging sales tax builds one stock entry for the bank account entry, using net_value","status":"passed","file_path":"./spec/models/stock_mapper_spec.rb","line_number":284,"run_time":0.239595258,"pending_message":null,"screenshot":null},{"id":"./spec/models/stock_mapper_spec.rb[1:2:10:1]","description":"builds one stock entry for the bank account entry, using gross_value if not charging sales tax","full_description":"StockMapper#build_stock_entry when selling stock on a bank account entry builds one stock entry for the bank account entry, using gross_value if not charging sales tax","status":"passed","file_path":"./spec/models/stock_mapper_spec.rb","line_number":301,"run_time":0.19561315,"pending_message":null,"screenshot":null},{"id":"./spec/models/stock_mapper_spec.rb[1:2:10:2:1]","description":"builds one stock entry for the bank account entry, using net_value","full_description":"StockMapper#build_stock_entry when selling stock on a bank account entry if charging sales tax builds one stock entry for the bank account entry, using net_value","status":"passed","file_path":"./spec/models/stock_mapper_spec.rb","line_number":314,"run_time":0.267783118,"pending_message":null,"screenshot":null},{"id":"./spec/models/stock_mapper_spec.rb[1:2:11:1]","description":"builds one stock entry for the bank account entry, using gross_value if not charging sales tax","full_description":"StockMapper#build_stock_entry when selling stock on a foreign bank account entry builds one stock entry for the bank account entry, using gross_value if not charging sales tax","status":"passed","file_path":"./spec/models/stock_mapper_spec.rb","line_number":336,"run_time":0.236181674,"pending_message":null,"screenshot":null},{"id":"./spec/models/stock_mapper_spec.rb[1:2:11:2:1]","description":"builds one stock entry for the bank account entry, using net_value if charging sales tax","full_description":"StockMapper#build_stock_entry when selling stock on a foreign bank account entry if charging sales tax builds one stock entry for the bank account entry, using net_value if charging sales tax","status":"passed","file_path":"./spec/models/stock_mapper_spec.rb","line_number":349,"run_time":0.252344667,"pending_message":null,"screenshot":null},{"id":"./spec/models/stock_mapper_spec.rb[1:2:12:1]","description":"builds one stock entry for each invoice item on the invoice, using native_total_value_at_invoice_date if vat_registration has been applied for","full_description":"StockMapper#build_stock_entry when selling stock on a stock altering invoice builds one stock entry for each invoice item on the invoice, using native_total_value_at_invoice_date if vat_registration has been applied for","status":"passed","file_path":"./spec/models/stock_mapper_spec.rb","line_number":376,"run_time":0.725544948,"pending_message":null,"screenshot":null},{"id":"./spec/models/stock_mapper_spec.rb[1:2:12:2]","description":"builds one stock entry for an invoice item on the invoice, using native_net_value_at_invoice_date if vat_registration has not been applied for","full_description":"StockMapper#build_stock_entry when selling stock on a stock altering invoice builds one stock entry for an invoice item on the invoice, using native_net_value_at_invoice_date if vat_registration has not been applied for","status":"passed","file_path":"./spec/models/stock_mapper_spec.rb","line_number":394,"run_time":0.723557995,"pending_message":null,"screenshot":null},{"id":"./spec/features/getting_started_spec.rb[1:4:1:3]","description":"can complete setup without connecting to Open Banking","full_description":"Getting Started RBSG resold customers with UK company type can complete setup without connecting to Open Banking","status":"passed","file_path":"./spec/features/getting_started_spec.rb","line_number":260,"run_time":8.040394478,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:1:1]","description":"is expected to respond with status code :service_unavailable (503)","full_description":"Settings::TylController GET show when Tyl is not enabled when Tyl::Error is raised is expected to respond with status code :service_unavailable (503)","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":85,"run_time":0.141182097,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:1:2]","description":"is expected to render template api_error","full_description":"Settings::TylController GET show when Tyl is not enabled when Tyl::Error is raised is expected to render template api_error","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":86,"run_time":0.127502581,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:2:1]","description":"is expected to respond with a success status code (2xx)","full_description":"Settings::TylController GET show when Tyl is not enabled with no persisted state is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":38,"run_time":0.133143713,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:2:2]","description":"is expected to render template show","full_description":"Settings::TylController GET show when Tyl is not enabled with no persisted state is expected to render template show","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":39,"run_time":0.114202913,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:2:3]","description":"is expected to render template settings/tyl/_blank_slate","full_description":"Settings::TylController GET show when Tyl is not enabled with no persisted state is expected to render template settings/tyl/_blank_slate","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":41,"run_time":0.105256543,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:2:4]","description":"is expected to have text \"Get paid faster with Tyl\"","full_description":"Settings::TylController GET show when Tyl is not enabled with no persisted state is expected to have text \"Get paid faster with Tyl\"","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":42,"run_time":0.117775341,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:2:5]","description":"is expected to have visible link \"Connect with Tyl by NatWest\"","full_description":"Settings::TylController GET show when Tyl is not enabled with no persisted state is expected to have visible link \"Connect with Tyl by NatWest\"","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":43,"run_time":0.126849381,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:2:8]","description":"is expected to have published \"payment method blank slate viewed\" with data {:connected=\u003efalse, :payment_provider=\u003e\"tyl\"}","full_description":"Settings::TylController GET show when Tyl is not enabled with no persisted state is expected to have published \"payment method blank slate viewed\" with data {:connected=\u003efalse, :payment_provider=\u003e\"tyl\"}","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":47,"run_time":0.12129991,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:2:9]","description":"has tracked KB link","full_description":"Settings::TylController GET show when Tyl is not enabled with no persisted state has tracked KB link","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":52,"run_time":0.116703325,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:2:6:1]","description":"is expected to have visible button \"Disconnect Tyl by NatWest\" that is not disabled","full_description":"Settings::TylController GET show when Tyl is not enabled with no persisted state when there is oauth consent is expected to have visible button \"Disconnect Tyl by NatWest\" that is not disabled","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":65,"run_time":0.194663801,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:2:7:1]","description":"is expected not to have visible button \"Disconnect Tyl by NatWest\" that is not disabled","full_description":"Settings::TylController GET show when Tyl is not enabled with no persisted state when there is no oauth consent is expected not to have visible button \"Disconnect Tyl by NatWest\" that is not disabled","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":72,"run_time":0.184369538,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:2:10:1]","description":"is expected to respond with a success status code (2xx)","full_description":"Settings::TylController GET show when Tyl is not enabled with no persisted state when using the MVP API is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":38,"run_time":0.120936577,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:2:10:2]","description":"is expected to render template show","full_description":"Settings::TylController GET show when Tyl is not enabled with no persisted state when using the MVP API is expected to render template show","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":39,"run_time":0.102698354,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:2:10:3]","description":"is expected to render template settings/tyl/_blank_slate","full_description":"Settings::TylController GET show when Tyl is not enabled with no persisted state when using the MVP API is expected to render template settings/tyl/_blank_slate","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":41,"run_time":0.115070733,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:2:10:4]","description":"is expected to have text \"Get paid faster with Tyl\"","full_description":"Settings::TylController GET show when Tyl is not enabled with no persisted state when using the MVP API is expected to have text \"Get paid faster with Tyl\"","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":42,"run_time":0.155455349,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:2:10:5]","description":"is expected to have visible link \"Connect with Tyl by NatWest\"","full_description":"Settings::TylController GET show when Tyl is not enabled with no persisted state when using the MVP API is expected to have visible link \"Connect with Tyl by NatWest\"","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":43,"run_time":0.121741252,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:2:10:8]","description":"is expected to have published \"payment method blank slate viewed\" with data {:connected=\u003efalse, :payment_provider=\u003e\"tyl\"}","full_description":"Settings::TylController GET show when Tyl is not enabled with no persisted state when using the MVP API is expected to have published \"payment method blank slate viewed\" with data {:connected=\u003efalse, :payment_provider=\u003e\"tyl\"}","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":47,"run_time":0.117593356,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:2:10:9]","description":"has tracked KB link","full_description":"Settings::TylController GET show when Tyl is not enabled with no persisted state when using the MVP API has tracked KB link","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":52,"run_time":0.111264069,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:2:10:6:1]","description":"is expected to have visible button \"Disconnect Tyl by NatWest\" that is not disabled","full_description":"Settings::TylController GET show when Tyl is not enabled with no persisted state when using the MVP API when there is oauth consent is expected to have visible button \"Disconnect Tyl by NatWest\" that is not disabled","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":65,"run_time":0.196607115,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:2:10:7:1]","description":"is expected not to have visible button \"Disconnect Tyl by NatWest\" that is not disabled","full_description":"Settings::TylController GET show when Tyl is not enabled with no persisted state when using the MVP API when there is no oauth consent is expected not to have visible button \"Disconnect Tyl by NatWest\" that is not disabled","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":72,"run_time":0.179217443,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:3:1:1]","description":"is expected to respond with a success status code (2xx)","full_description":"Settings::TylController GET show when Tyl is not enabled when in progress when using the v2 API is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":114,"run_time":0.142889446,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:3:1:2]","description":"is expected to render template settings/tyl/_in_progress","full_description":"Settings::TylController GET show when Tyl is not enabled when in progress when using the v2 API is expected to render template settings/tyl/_in_progress","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":115,"run_time":0.124115243,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:3:1:5]","description":"is expected to have published \"payment method blank slate viewed\" with data {:connected=\u003efalse, :payment_provider=\u003e\"tyl\"}","full_description":"Settings::TylController GET show when Tyl is not enabled when in progress when using the v2 API is expected to have published \"payment method blank slate viewed\" with data {:connected=\u003efalse, :payment_provider=\u003e\"tyl\"}","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":119,"run_time":0.114548635,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:3:1:3:1]","description":"is expected to have visible button \"Disconnect Tyl by NatWest\" that is not disabled","full_description":"Settings::TylController GET show when Tyl is not enabled when in progress when using the v2 API when there is oauth consent is expected to have visible button \"Disconnect Tyl by NatWest\" that is not disabled","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":65,"run_time":0.195051222,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:3:1:4:1]","description":"is expected not to have visible button \"Disconnect Tyl by NatWest\" that is not disabled","full_description":"Settings::TylController GET show when Tyl is not enabled when in progress when using the v2 API when there is no oauth consent is expected not to have visible button \"Disconnect Tyl by NatWest\" that is not disabled","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":72,"run_time":0.192964208,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:3:2:1]","description":"raises an error","full_description":"Settings::TylController GET show when Tyl is not enabled when in progress when using the MVP API raises an error","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":128,"run_time":0.04772374,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:4:1:1]","description":"is expected to respond with a success status code (2xx)","full_description":"Settings::TylController GET show when Tyl is not enabled when ready for boarding when using the v2 API is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":144,"run_time":0.135431341,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:4:1:2]","description":"is expected to render template settings/tyl/_ready_for_boarding","full_description":"Settings::TylController GET show when Tyl is not enabled when ready for boarding when using the v2 API is expected to render template settings/tyl/_ready_for_boarding","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":145,"run_time":0.11649463,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:4:1:5]","description":"is expected to have published \"payment method blank slate viewed\" with data {:connected=\u003efalse, :payment_provider=\u003e\"tyl\"}","full_description":"Settings::TylController GET show when Tyl is not enabled when ready for boarding when using the v2 API is expected to have published \"payment method blank slate viewed\" with data {:connected=\u003efalse, :payment_provider=\u003e\"tyl\"}","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":149,"run_time":0.114929299,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:4:1:3:1]","description":"is expected to have visible button \"Disconnect Tyl by NatWest\" that is not disabled","full_description":"Settings::TylController GET show when Tyl is not enabled when ready for boarding when using the v2 API when there is oauth consent is expected to have visible button \"Disconnect Tyl by NatWest\" that is not disabled","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":65,"run_time":0.198548153,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:4:1:4:1]","description":"is expected not to have visible button \"Disconnect Tyl by NatWest\" that is not disabled","full_description":"Settings::TylController GET show when Tyl is not enabled when ready for boarding when using the v2 API when there is no oauth consent is expected not to have visible button \"Disconnect Tyl by NatWest\" that is not disabled","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":72,"run_time":0.199840444,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:4:2:1]","description":"raises an error","full_description":"Settings::TylController GET show when Tyl is not enabled when ready for boarding when using the MVP API raises an error","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":158,"run_time":0.049479344,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:5:1:1]","description":"is expected to respond with a success status code (2xx)","full_description":"Settings::TylController GET show when Tyl is not enabled when not supported when using the v2 API is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":174,"run_time":0.096354051,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:5:1:2]","description":"is expected to render template settings/tyl/_not_supported","full_description":"Settings::TylController GET show when Tyl is not enabled when not supported when using the v2 API is expected to render template settings/tyl/_not_supported","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":175,"run_time":0.106611184,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:5:1:5]","description":"is expected to have published \"payment method blank slate viewed\" with data {:connected=\u003efalse, :payment_provider=\u003e\"tyl\"}","full_description":"Settings::TylController GET show when Tyl is not enabled when not supported when using the v2 API is expected to have published \"payment method blank slate viewed\" with data {:connected=\u003efalse, :payment_provider=\u003e\"tyl\"}","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":179,"run_time":0.097108505,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:5:1:3:1]","description":"is expected to have visible button \"Disconnect Tyl by NatWest\" that is not disabled","full_description":"Settings::TylController GET show when Tyl is not enabled when not supported when using the v2 API when there is oauth consent is expected to have visible button \"Disconnect Tyl by NatWest\" that is not disabled","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":65,"run_time":0.228520219,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:5:1:4:1]","description":"is expected not to have visible button \"Disconnect Tyl by NatWest\" that is not disabled","full_description":"Settings::TylController GET show when Tyl is not enabled when not supported when using the v2 API when there is no oauth consent is expected not to have visible button \"Disconnect Tyl by NatWest\" that is not disabled","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":72,"run_time":0.195926856,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:1:5:2:1]","description":"raises an error","full_description":"Settings::TylController GET show when Tyl is not enabled when not supported when using the MVP API raises an error","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":188,"run_time":0.040884286,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:2:1]","description":"is expected to respond with a success status code (2xx)","full_description":"Settings::TylController GET show when Tyl is enabled is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":205,"run_time":0.096804102,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:2:2]","description":"is expected to render template show","full_description":"Settings::TylController GET show when Tyl is enabled is expected to render template show","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":206,"run_time":0.089805064,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:2:3]","description":"is expected to have text \"Connected\"","full_description":"Settings::TylController GET show when Tyl is enabled is expected to have text \"Connected\"","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":207,"run_time":0.090948139,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:2:4]","description":"is expected to have visible button \"Disconnect Tyl by NatWest\" that is not disabled","full_description":"Settings::TylController GET show when Tyl is enabled is expected to have visible button \"Disconnect Tyl by NatWest\" that is not disabled","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":208,"run_time":0.095676112,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:2:5]","description":"is expected to have published \"payment method blank slate viewed\" with data {:connected=\u003etrue, :payment_provider=\u003e\"tyl\"}","full_description":"Settings::TylController GET show when Tyl is enabled is expected to have published \"payment method blank slate viewed\" with data {:connected=\u003etrue, :payment_provider=\u003e\"tyl\"}","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":210,"run_time":0.106063283,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:2:6]","description":"has tracked KB and create new invoice links","full_description":"Settings::TylController GET show when Tyl is enabled has tracked KB and create new invoice links","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":215,"run_time":0.108758436,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:2:8]","description":"triggers a status check","full_description":"Settings::TylController GET show when Tyl is enabled triggers a status check","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":237,"run_time":0.110968241,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:2:7:1]","description":"still presents the connection as connected","full_description":"Settings::TylController GET show when Tyl is enabled when no longer ineligible for Tyl still presents the connection as connected","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":231,"run_time":0.186155757,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:2:9:1]","description":"is expected to render template show","full_description":"Settings::TylController GET show when Tyl is enabled when using the MVP API is expected to render template show","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":244,"run_time":0.123658266,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:2:9:2]","description":"is expected to have text \"Connected\"","full_description":"Settings::TylController GET show when Tyl is enabled when using the MVP API is expected to have text \"Connected\"","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":245,"run_time":0.112508314,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:1:2:9:3]","description":"does not perform status checks","full_description":"Settings::TylController GET show when Tyl is enabled when using the MVP API does not perform status checks","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":247,"run_time":0.103633991,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:2:1]","description":"redirects the user to Tyl for authorisation","full_description":"Settings::TylController PUT update redirects the user to Tyl for authorisation","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":255,"run_time":0.031446987,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:2:2:1:1]","description":"redirects to show with a success message","full_description":"Settings::TylController PUT update with disable: true when Tyl is successfully disconnected redirects to show with a success message","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":271,"run_time":0.027186983,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:2:2:1:2]","description":"is expected to have published \"tyl integration disconnected\"","full_description":"Settings::TylController PUT update with disable: true when Tyl is successfully disconnected is expected to have published \"tyl integration disconnected\"","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":276,"run_time":0.026474383,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:2:2:2:1]","description":"redirects to show with an error message","full_description":"Settings::TylController PUT update with disable: true when Tyl is fails to disconnect redirects to show with an error message","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":282,"run_time":0.025936559,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:2:2:2:2]","description":"is expected not to have published \"tyl integration disconnected\"","full_description":"Settings::TylController PUT update with disable: true when Tyl is fails to disconnect is expected not to have published \"tyl integration disconnected\"","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":287,"run_time":0.025558851,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:3:1:1]","description":"does not perform status checks","full_description":"Settings::TylController GET consented when using the MVP API does not perform status checks","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":296,"run_time":0.013241204,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:3:1:2]","description":"redirects to blank slate showing the connected modal","full_description":"Settings::TylController GET consented when using the MVP API redirects to blank slate showing the connected modal","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":300,"run_time":0.031692953,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:3:2:1:1]","description":"triggers a status check","full_description":"Settings::TylController GET consented when using the v2 API when the product status is ReadyForBoarding triggers a status check","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":314,"run_time":0.035283577,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:3:2:1:2]","description":"is expected to redirect to \"/settings/tyl/onboarding\"","full_description":"Settings::TylController GET consented when using the v2 API when the product status is ReadyForBoarding is expected to redirect to \"/settings/tyl/onboarding\"","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":318,"run_time":0.037335516,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:3:2:2:1]","description":"triggers a status check","full_description":"Settings::TylController GET consented when using the v2 API when the product status is any other state triggers a status check","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":324,"run_time":0.034035034,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:3:2:2:2]","description":"is expected to redirect to \"/settings/tyl\"","full_description":"Settings::TylController GET consented when using the v2 API when the product status is any other state is expected to redirect to \"/settings/tyl\"","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":328,"run_time":0.036929643,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:3:2:2:3]","description":"does not show the enabled modal","full_description":"Settings::TylController GET consented when using the v2 API when the product status is any other state does not show the enabled modal","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":330,"run_time":0.038546447,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:4:1:1]","description":"is expected to redirect to \"tyl.com/onboard\"","full_description":"Settings::TylController GET onboarding when a redirect URL is available is expected to redirect to \"tyl.com/onboard\"","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":343,"run_time":0.036305891,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:4:2:1]","description":"returns a Bad Request status code","full_description":"Settings::TylController GET onboarding when a redirect URL is not appropriate returns a Bad Request status code","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":349,"run_time":0.029996347,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/tyl_controller_spec.rb[1:5:1]","description":"is expected to redirect to \"/settings/tyl\"","full_description":"Settings::TylController GET onboarding_return is expected to redirect to \"/settings/tyl\"","status":"passed","file_path":"./spec/controllers/settings/tyl_controller_spec.rb","line_number":358,"run_time":0.029013204,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/inline_form/disposal_of_capital_assets_spec.rb[1:1]","description":"explaining a transaction as a capital asset disposal","full_description":"Inline Banking - Disposal of Capital Assets explaining a transaction as a capital asset disposal","status":"passed","file_path":"./spec/features/new_banking/inline_form/disposal_of_capital_assets_spec.rb","line_number":10,"run_time":2.648860706,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/inline_form/disposal_of_capital_assets_spec.rb[1:2:1]","description":"when trying to set disposal before purchase","full_description":"Inline Banking - Disposal of Capital Assets shows validation error when trying to set disposal before purchase","status":"passed","file_path":"./spec/features/new_banking/inline_form/disposal_of_capital_assets_spec.rb","line_number":34,"run_time":2.442043381,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/inline_form/disposal_of_capital_assets_spec.rb[1:2:2]","description":"when trying to set disposal without selecting asset to dispose","full_description":"Inline Banking - Disposal of Capital Assets shows validation error when trying to set disposal without selecting asset to dispose","status":"passed","file_path":"./spec/features/new_banking/inline_form/disposal_of_capital_assets_spec.rb","line_number":51,"run_time":1.688316333,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:1:1]","description":"is expected to redirect to \"http://uklimitedcompany.fac.rails/\"","full_description":"TokensController using redirection with state with a present URI with a raw invalid unsigned URI is expected to redirect to \"http://uklimitedcompany.fac.rails/\"","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":37,"run_time":0.057359057,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:2:1]","description":"is expected to redirect to \"http://tokenredirect.com?code=accesstoken\u0026state=%7B%22uri%22%3A%22BAhJIh1odHRwOi8vdG9rZW5yZWRpcmVjdC5jb20GOgZFVA%3D%3D--6e1d3f2aca8721f8ffc8d5e3c2e5626b09d241ac%22%2C%22redirect_uri%22%3A%22http%3A%2F%2Fredirect.com%22%2C%22parameter%22%3A%22SECURERANDOM%22%7D\"","full_description":"TokensController using redirection with state with a present URI with a valid encrypted, signed URI is expected to redirect to \"http://tokenredirect.com?code=accesstoken\u0026state=%7B%22uri%22%3A%22BAhJIh1odHRwOi8vdG9rZW5yZWRpcmVjdC5jb20GOgZFVA%3D%3D--6e1d3f2aca8721f8ffc8d5e3c2e5626b09d241ac%22%2C%22redirect_uri%22%3A%22http%3A%2F%2Fredirect.com%22%2C%22parameter%22%3A%22SECURERANDOM%22%7D\"","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":41,"run_time":0.054254155,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:2:2:1]","description":"is expected to redirect to \"http://tokenredirect.com?code=accesstoken\u0026state=eyJ1cmkiOiJCQWhKSWgxb2RIUndPaTh2ZEc5clpXNXlaV1JwY21WamRDNWpiMjBHT2daRlZBPT0tLTZlMWQzZjJhY2E4NzIxZjhmZmM4ZDVlM2MyZTU2MjZiMDlkMjQxYWMiLCJyZWRpcmVjdF91cmkiOiJodHRwOi8vcmVkaXJlY3QuY29tIiwicGFyYW1ldGVyIjoiU0VDVVJFUkFORE9NIn0%3D\"","full_description":"TokensController using redirection with state with a present URI with a valid encrypted, signed URI that has base64-encoded state is expected to redirect to \"http://tokenredirect.com?code=accesstoken\u0026state=eyJ1cmkiOiJCQWhKSWgxb2RIUndPaTh2ZEc5clpXNXlaV1JwY21WamRDNWpiMjBHT2daRlZBPT0tLTZlMWQzZjJhY2E4NzIxZjhmZmM4ZDVlM2MyZTU2MjZiMDlkMjQxYWMiLCJyZWRpcmVjdF91cmkiOiJodHRwOi8vcmVkaXJlY3QuY29tIiwicGFyYW1ldGVyIjoiU0VDVVJFUkFORE9NIn0%3D\"","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":46,"run_time":0.054315202,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:3:1:1]","description":"updates the oauth token","full_description":"TokensController using redirection with state with a present URI to fetch a gocardless token with valid parameters updates the oauth token","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":79,"run_time":0.089850739,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:3:1:2]","description":"tracks the gocardless enabled and the online payments enabled event","full_description":"TokensController using redirection with state with a present URI to fetch a gocardless token with valid parameters tracks the gocardless enabled and the online payments enabled event","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":86,"run_time":0.06988042,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:3:2:1]","description":"does not update the token","full_description":"TokensController using redirection with state with a present URI to fetch a gocardless token with invalid parameters does not update the token","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":104,"run_time":0.062294784,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:3:2:2]","description":"responds with an error in the flash","full_description":"TokensController using redirection with state with a present URI to fetch a gocardless token with invalid parameters responds with an error in the flash","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":109,"run_time":0.054727893,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:3:2:3:1]","description":"does not respond with an error in the flash","full_description":"TokensController using redirection with state with a present URI to fetch a gocardless token with invalid parameters gocardless is already enabled does not respond with an error in the flash","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":120,"run_time":0.071693272,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:3:3:1]","description":"redirects to settings page with notice","full_description":"TokensController using redirection with state with a present URI to fetch a gocardless token cancelling integration redirects to settings page with notice","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":128,"run_time":0.064015123,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:4:1:1]","description":"displays an error message and redirects","full_description":"TokensController using redirection with state with a present URI to fetch a basecamp token with access denied displays an error message and redirects","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":167,"run_time":0.066587432,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:4:1:2]","description":"is expected to redirect to \"/settings/basecamp\"","full_description":"TokensController using redirection with state with a present URI to fetch a basecamp token with access denied is expected to redirect to \"/settings/basecamp\"","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":171,"run_time":0.049093957,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:4:2:1]","description":"updates the token","full_description":"TokensController using redirection with state with a present URI to fetch a basecamp token with valid parameters updates the token","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":179,"run_time":0.073645012,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:4:2:2]","description":"is expected to redirect to \"/settings/basecamp?show_enabled_modal=true\"","full_description":"TokensController using redirection with state with a present URI to fetch a basecamp token with valid parameters is expected to redirect to \"/settings/basecamp?show_enabled_modal=true\"","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":185,"run_time":0.075477491,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:4:3:1]","description":"does not update the token","full_description":"TokensController using redirection with state with a present URI to fetch a basecamp token with invalid parameters does not update the token","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":202,"run_time":0.064165261,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:4:3:2]","description":"displays an error message","full_description":"TokensController using redirection with state with a present URI to fetch a basecamp token with invalid parameters displays an error message","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":207,"run_time":0.061841006,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:4:3:3]","description":"is expected to redirect to \"/settings/basecamp\"","full_description":"TokensController using redirection with state with a present URI to fetch a basecamp token with invalid parameters is expected to redirect to \"/settings/basecamp\"","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":211,"run_time":0.062001576,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:5:1:1]","description":"updates the token","full_description":"TokensController using redirection with state with a present URI to fetch a Stripe token with valid parameters updates the token","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":251,"run_time":0.104129115,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:5:1:2]","description":"is expected to redirect to \"/settings/stripe?show_enabled_modal=true\"","full_description":"TokensController using redirection with state with a present URI to fetch a Stripe token with valid parameters is expected to redirect to \"/settings/stripe?show_enabled_modal=true\"","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":258,"run_time":0.084887983,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:5:1:3]","description":"tracks the stripe enabled and online payments enabled events","full_description":"TokensController using redirection with state with a present URI to fetch a Stripe token with valid parameters tracks the stripe enabled and online payments enabled events","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":260,"run_time":0.065067128,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:5:1:4]","description":"creates a StripeAccount with currencies_supported, user id and publishable key attrs for the company","full_description":"TokensController using redirection with state with a present URI to fetch a Stripe token with valid parameters creates a StripeAccount with currencies_supported, user id and publishable key attrs for the company","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":269,"run_time":0.074371805,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:5:2:1]","description":"displays an error message","full_description":"TokensController using redirection with state with a present URI to fetch a Stripe token with invalid parameters displays an error message","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":289,"run_time":0.062031835,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:5:2:2]","description":"is expected to redirect to \"/settings/stripe\"","full_description":"TokensController using redirection with state with a present URI to fetch a Stripe token with invalid parameters is expected to redirect to \"/settings/stripe\"","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":293,"run_time":0.066229148,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:5:3:1]","description":"is expected to match \"Stripe connection cancelled\"","full_description":"TokensController using redirection with state with a present URI to fetch a Stripe token with error flash is expected to match \"Stripe connection cancelled\"","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":301,"run_time":0.066807765,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:5:3:2]","description":"is expected to redirect to \"/settings/stripe\"","full_description":"TokensController using redirection with state with a present URI to fetch a Stripe token with error flash is expected to redirect to \"/settings/stripe\"","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":302,"run_time":0.064608093,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:6:1:1]","description":"displays a notice and redirects, without logging","full_description":"TokensController using redirection with state with a present URI to fetch a Tyl token when the user cancelled authorisation displays a notice and redirects, without logging","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":317,"run_time":0.057743323,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:6:2:1]","description":"displays an generic error, logs, and redirects to the blank slate","full_description":"TokensController using redirection with state with a present URI to fetch a Tyl token when the user returned with a generic error displays an generic error, logs, and redirects to the blank slate","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":330,"run_time":0.054774573,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:6:3:1]","description":"displays a custom error, logs, and redirects to the blank slate","full_description":"TokensController using redirection with state with a present URI to fetch a Tyl token when the user returned with a multiple-accounts error displays a custom error, logs, and redirects to the blank slate","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":349,"run_time":0.046599582,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:6:4:1]","description":"does not enable Tyl","full_description":"TokensController using redirection with state with a present URI to fetch a Tyl token with invalid parameters does not enable Tyl","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":366,"run_time":0.058353323,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:6:5:1:1]","description":"is expected to be present","full_description":"TokensController using redirection with state with a present URI to fetch a Tyl token with valid parameters valid oauth response is expected to be present","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":407,"run_time":0.065594636,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:6:5:1:2]","description":"is expected to be present","full_description":"TokensController using redirection with state with a present URI to fetch a Tyl token with valid parameters valid oauth response is expected to be present","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":408,"run_time":0.059831626,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:6:5:1:3]","description":"is expected to have published \"tyl integration enabled\"","full_description":"TokensController using redirection with state with a present URI to fetch a Tyl token with valid parameters valid oauth response is expected to have published \"tyl integration enabled\"","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":410,"run_time":0.055562975,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:6:5:1:4]","description":"is expected to have published \"online payments enabled\" with data {:payment_provider=\u003e\"tyl\"}","full_description":"TokensController using redirection with state with a present URI to fetch a Tyl token with valid parameters valid oauth response is expected to have published \"online payments enabled\" with data {:payment_provider=\u003e\"tyl\"}","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":411,"run_time":0.063272235,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:6:5:1:5]","description":"is expected to redirect to \"/settings/tyl/consented\"","full_description":"TokensController using redirection with state with a present URI to fetch a Tyl token with valid parameters valid oauth response is expected to redirect to \"/settings/tyl/consented\"","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":418,"run_time":0.069756116,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:6:5:2:1]","description":"is expected not to be present","full_description":"TokensController using redirection with state with a present URI to fetch a Tyl token with valid parameters invalid oauth response is expected not to be present","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":428,"run_time":0.060416699,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:6:5:2:2]","description":"is expected to match \"Failed to connect Tyl.\"","full_description":"TokensController using redirection with state with a present URI to fetch a Tyl token with valid parameters invalid oauth response is expected to match \"Failed to connect Tyl.\"","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":430,"run_time":0.052012011,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:6:5:2:3]","description":"is expected to redirect to \"/settings/tyl\"","full_description":"TokensController using redirection with state with a present URI to fetch a Tyl token with valid parameters invalid oauth response is expected to redirect to \"/settings/tyl\"","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":431,"run_time":0.053841199,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:1:6:5:2:4]","description":"logs a warning of the failure","full_description":"TokensController using redirection with state with a present URI to fetch a Tyl token with valid parameters invalid oauth response logs a warning of the failure","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":433,"run_time":0.051659602,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tokens_controller_spec.rb[1:1:2:1]","description":"is expected to redirect to \"http://uklimitedcompany.fac.rails/\"","full_description":"TokensController using redirection with state with a missing URI is expected to redirect to \"http://uklimitedcompany.fac.rails/\"","status":"passed","file_path":"./spec/controllers/tokens_controller_spec.rb","line_number":464,"run_time":0.042091663,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/send_company_digest_installments_job_spec.rb[1:1:8]","description":"does not raise when the company does not exist","full_description":"SendCompanyDigestInstallmentsJob#perform does not raise when the company does not exist","status":"passed","file_path":"./spec/jobs/send_company_digest_installments_job_spec.rb","line_number":143,"run_time":0.018945621,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/send_company_digest_installments_job_spec.rb[1:1:9]","description":"does not raise when the batch does not exist","full_description":"SendCompanyDigestInstallmentsJob#perform does not raise when the batch does not exist","status":"passed","file_path":"./spec/jobs/send_company_digest_installments_job_spec.rb","line_number":149,"run_time":0.089662061,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/send_company_digest_installments_job_spec.rb[1:1:12]","description":"increments a metric indicating how many companies the digest has been sent to","full_description":"SendCompanyDigestInstallmentsJob#perform increments a metric indicating how many companies the digest has been sent to","status":"passed","file_path":"./spec/jobs/send_company_digest_installments_job_spec.rb","line_number":225,"run_time":0.23591348,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/send_company_digest_installments_job_spec.rb[1:1:1:1]","description":"creates an installment for each active subscription","full_description":"SendCompanyDigestInstallmentsJob#perform with multiple active subscriptions creates an installment for each active subscription","status":"passed","file_path":"./spec/jobs/send_company_digest_installments_job_spec.rb","line_number":28,"run_time":0.346269198,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/send_company_digest_installments_job_spec.rb[1:1:1:2]","description":"marks each installment as sent","full_description":"SendCompanyDigestInstallmentsJob#perform with multiple active subscriptions marks each installment as sent","status":"passed","file_path":"./spec/jobs/send_company_digest_installments_job_spec.rb","line_number":35,"run_time":0.281449451,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/send_company_digest_installments_job_spec.rb[1:1:1:3]","description":"delivers each installment by email","full_description":"SendCompanyDigestInstallmentsJob#perform with multiple active subscriptions delivers each installment by email","status":"passed","file_path":"./spec/jobs/send_company_digest_installments_job_spec.rb","line_number":42,"run_time":0.287314241,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/send_company_digest_installments_job_spec.rb[1:1:2:1]","description":"does not send installments","full_description":"SendCompanyDigestInstallmentsJob#perform when digests are irrelevant does not send installments","status":"passed","file_path":"./spec/jobs/send_company_digest_installments_job_spec.rb","line_number":55,"run_time":0.17711733,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/send_company_digest_installments_job_spec.rb[1:1:3:1]","description":"does not re-send existing installments","full_description":"SendCompanyDigestInstallmentsJob#perform called consecutively does not re-send existing installments","status":"passed","file_path":"./spec/jobs/send_company_digest_installments_job_spec.rb","line_number":67,"run_time":0.229247885,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/send_company_digest_installments_job_spec.rb[1:1:4:1]","description":"does not create installments","full_description":"SendCompanyDigestInstallmentsJob#perform when subscriptions are no longer deliverable to the user does not create installments","status":"passed","file_path":"./spec/jobs/send_company_digest_installments_job_spec.rb","line_number":80,"run_time":0.019042832,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/send_company_digest_installments_job_spec.rb[1:1:5:1]","description":"does not create installments","full_description":"SendCompanyDigestInstallmentsJob#perform when the batch is stale does not create installments","status":"passed","file_path":"./spec/jobs/send_company_digest_installments_job_spec.rb","line_number":89,"run_time":0.018766327,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/send_company_digest_installments_job_spec.rb[1:1:6:1]","description":"does not create installments","full_description":"SendCompanyDigestInstallmentsJob#perform when the company is inactive does not create installments","status":"passed","file_path":"./spec/jobs/send_company_digest_installments_job_spec.rb","line_number":100,"run_time":0.039371328,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/send_company_digest_installments_job_spec.rb[1:1:7:1:1]","description":"creates installments","full_description":"SendCompanyDigestInstallmentsJob#perform when the company is a BCSG company and has been active in the last month creates installments","status":"passed","file_path":"./spec/jobs/send_company_digest_installments_job_spec.rb","line_number":114,"run_time":0.275805192,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/send_company_digest_installments_job_spec.rb[1:1:7:2:1]","description":"does not create installments","full_description":"SendCompanyDigestInstallmentsJob#perform when the company is a BCSG company and has not been active in the last month does not create installments","status":"passed","file_path":"./spec/jobs/send_company_digest_installments_job_spec.rb","line_number":125,"run_time":0.106488509,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/send_company_digest_installments_job_spec.rb[1:1:7:3:1]","description":"does not create installments","full_description":"SendCompanyDigestInstallmentsJob#perform when the company is a BCSG company and has never been active does not create installments","status":"passed","file_path":"./spec/jobs/send_company_digest_installments_job_spec.rb","line_number":136,"run_time":0.095634441,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/send_company_digest_installments_job_spec.rb[1:1:10:1]","description":"does not raise","full_description":"SendCompanyDigestInstallmentsJob#perform when a racing against another process while creating installments does not raise","status":"passed","file_path":"./spec/jobs/send_company_digest_installments_job_spec.rb","line_number":165,"run_time":0.017810594,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/send_company_digest_installments_job_spec.rb[1:1:10:2]","description":"does not send an installment","full_description":"SendCompanyDigestInstallmentsJob#perform when a racing against another process while creating installments does not send an installment","status":"passed","file_path":"./spec/jobs/send_company_digest_installments_job_spec.rb","line_number":171,"run_time":0.018873661,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/send_company_digest_installments_job_spec.rb[1:1:11:1:1]","description":"logs a warning and raises FailAndRetry","full_description":"SendCompanyDigestInstallmentsJob#perform when sending the email times out if it is not the last attempt logs a warning and raises FailAndRetry","status":"passed","file_path":"./spec/jobs/send_company_digest_installments_job_spec.rb","line_number":189,"run_time":0.143536885,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/send_company_digest_installments_job_spec.rb[1:1:11:2:1]","description":"logs a warning and re-raises","full_description":"SendCompanyDigestInstallmentsJob#perform when sending the email times out on the last attempt logs a warning and re-raises","status":"passed","file_path":"./spec/jobs/send_company_digest_installments_job_spec.rb","line_number":209,"run_time":0.13133741,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/credit_note_payments_spec.rb[1:1:1]","description":"includes payments from sent credit_notes","full_description":"Cashflow::CreditNotePayments#payments_on includes payments from sent credit_notes","status":"passed","file_path":"./spec/freeagent/cashflow/credit_note_payments_spec.rb","line_number":15,"run_time":0.338302347,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/credit_note_payments_spec.rb[1:1:2]","description":"does not include payments from paid credit_notes","full_description":"Cashflow::CreditNotePayments#payments_on does not include payments from paid credit_notes","status":"passed","file_path":"./spec/freeagent/cashflow/credit_note_payments_spec.rb","line_number":55,"run_time":0.387254626,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/credit_note_payments_spec.rb[1:1:3]","description":"does not include payments from draft credit_notes","full_description":"Cashflow::CreditNotePayments#payments_on does not include payments from draft credit_notes","status":"passed","file_path":"./spec/freeagent/cashflow/credit_note_payments_spec.rb","line_number":68,"run_time":0.204601591,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/credit_note_payments_spec.rb[1:1:4]","description":"does not include payments from written-off credit_notes","full_description":"Cashflow::CreditNotePayments#payments_on does not include payments from written-off credit_notes","status":"passed","file_path":"./spec/freeagent/cashflow/credit_note_payments_spec.rb","line_number":81,"run_time":0.187020681,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/credit_note_payments_spec.rb[1:1:5]","description":"does not include payments from foreign currency credit_notes","full_description":"Cashflow::CreditNotePayments#payments_on does not include payments from foreign currency credit_notes","status":"passed","file_path":"./spec/freeagent/cashflow/credit_note_payments_spec.rb","line_number":91,"run_time":0.187323624,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/credit_note_payments_spec.rb[1:1:6]","description":"includes payments from partially paid credit_notes","full_description":"Cashflow::CreditNotePayments#payments_on includes payments from partially paid credit_notes","status":"passed","file_path":"./spec/freeagent/cashflow/credit_note_payments_spec.rb","line_number":101,"run_time":0.406127697,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/credit_note_payments_spec.rb[1:1:7]","description":"includes payments from discounted credit_notes","full_description":"Cashflow::CreditNotePayments#payments_on includes payments from discounted credit_notes","status":"passed","file_path":"./spec/freeagent/cashflow/credit_note_payments_spec.rb","line_number":114,"run_time":0.167769929,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/credit_note_payments_spec.rb[1:1:8]","description":"does not include payments from credit_notes due later than the cutoff","full_description":"Cashflow::CreditNotePayments#payments_on does not include payments from credit_notes due later than the cutoff","status":"passed","file_path":"./spec/freeagent/cashflow/credit_note_payments_spec.rb","line_number":129,"run_time":0.179194226,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/credit_note_payments_spec.rb[1:1:9]","description":"includes payments from credit_notes due before today","full_description":"Cashflow::CreditNotePayments#payments_on includes payments from credit_notes due before today","status":"passed","file_path":"./spec/freeagent/cashflow/credit_note_payments_spec.rb","line_number":142,"run_time":0.161736118,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/credit_note_payments_spec.rb[1:1:10]","description":"includes payments from credit_notes due on the cutoff","full_description":"Cashflow::CreditNotePayments#payments_on includes payments from credit_notes due on the cutoff","status":"passed","file_path":"./spec/freeagent/cashflow/credit_note_payments_spec.rb","line_number":155,"run_time":0.157989257,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/report_values_cacher_spec.rb[1:1:1:1]","description":"caches the figures correctly","full_description":"Accounting::FinalAccounts::ReportValuesCacher#cache_accounts! report for second year, all figures 0 and average employees for both years caches the figures correctly","status":"passed","file_path":"./spec/models/accounting/final_accounts/report_values_cacher_spec.rb","line_number":23,"run_time":0.242755419,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/report_values_cacher_spec.rb[1:1:2:1]","description":"caches the figures correctly","full_description":"Accounting::FinalAccounts::ReportValuesCacher#cache_accounts! report for second year with some ledger figures for current year but none in the comparative year caches the figures correctly","status":"passed","file_path":"./spec/models/accounting/final_accounts/report_values_cacher_spec.rb","line_number":53,"run_time":0.307102393,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/report_values_cacher_spec.rb[1:1:2:2]","description":"has 0 values cached for the comparative year","full_description":"Accounting::FinalAccounts::ReportValuesCacher#cache_accounts! report for second year with some ledger figures for current year but none in the comparative year has 0 values cached for the comparative year","status":"passed","file_path":"./spec/models/accounting/final_accounts/report_values_cacher_spec.rb","line_number":58,"run_time":0.313136249,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/report_values_cacher_spec.rb[1:1:3:1]","description":"caches the figures correctly for the current year","full_description":"Accounting::FinalAccounts::ReportValuesCacher#cache_accounts! report with some ledger figures for both the current year and comparative year caches the figures correctly for the current year","status":"passed","file_path":"./spec/models/accounting/final_accounts/report_values_cacher_spec.rb","line_number":85,"run_time":0.471843954,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/report_values_cacher_spec.rb[1:1:3:2]","description":"caches the figures correctly for the comparative year","full_description":"Accounting::FinalAccounts::ReportValuesCacher#cache_accounts! report with some ledger figures for both the current year and comparative year caches the figures correctly for the comparative year","status":"passed","file_path":"./spec/models/accounting/final_accounts/report_values_cacher_spec.rb","line_number":92,"run_time":0.470296807,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/report_values_cacher_spec.rb[1:1:4:1]","description":"caches the figures correctly for the current year","full_description":"Accounting::FinalAccounts::ReportValuesCacher#cache_accounts! report with some manual comparative year figures caches the figures correctly for the current year","status":"passed","file_path":"./spec/models/accounting/final_accounts/report_values_cacher_spec.rb","line_number":114,"run_time":0.308560765,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/report_values_cacher_spec.rb[1:1:4:2]","description":"caches the figures correctly for the comparative year","full_description":"Accounting::FinalAccounts::ReportValuesCacher#cache_accounts! report with some manual comparative year figures caches the figures correctly for the comparative year","status":"passed","file_path":"./spec/models/accounting/final_accounts/report_values_cacher_spec.rb","line_number":119,"run_time":0.254785108,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/report_values_cacher_spec.rb[1:2:1]","description":"clears out the cached values","full_description":"Accounting::FinalAccounts::ReportValuesCacher#clear_cached_accounts! clears out the cached values","status":"passed","file_path":"./spec/models/accounting/final_accounts/report_values_cacher_spec.rb","line_number":129,"run_time":0.04689489,"pending_message":null,"screenshot":null},{"id":"./spec/views/accounting/year_ends/checks/_payroll.html.erb_spec.rb[1:1:1:1]","description":"links to the payroll overview page","full_description":"accounting/year_ends/checks/_payroll when a user has incomplete payroll in the starting tax year when the user is allowed to do stuff links to the payroll overview page","status":"passed","file_path":"./spec/views/accounting/year_ends/checks/_payroll.html.erb_spec.rb","line_number":54,"run_time":0.307327267,"pending_message":null,"screenshot":null},{"id":"./spec/views/accounting/year_ends/checks/_payroll.html.erb_spec.rb[1:1:1:2]","description":"renders the same text as the check's message","full_description":"accounting/year_ends/checks/_payroll when a user has incomplete payroll in the starting tax year when the user is allowed to do stuff renders the same text as the check's message","status":"passed","file_path":"./spec/views/accounting/year_ends/checks/_payroll.html.erb_spec.rb","line_number":58,"run_time":0.28385388,"pending_message":null,"screenshot":null},{"id":"./spec/views/accounting/year_ends/checks/_payroll.html.erb_spec.rb[1:1:2:1]","description":"does not link to the payroll overview page","full_description":"accounting/year_ends/checks/_payroll when a user has incomplete payroll in the starting tax year when the user is not allowed to do stuff does not link to the payroll overview page","status":"passed","file_path":"./spec/views/accounting/year_ends/checks/_payroll.html.erb_spec.rb","line_number":66,"run_time":0.254449093,"pending_message":null,"screenshot":null},{"id":"./spec/views/accounting/year_ends/checks/_payroll.html.erb_spec.rb[1:1:2:2]","description":"renders the same text as the check's message","full_description":"accounting/year_ends/checks/_payroll when a user has incomplete payroll in the starting tax year when the user is not allowed to do stuff renders the same text as the check's message","status":"passed","file_path":"./spec/views/accounting/year_ends/checks/_payroll.html.erb_spec.rb","line_number":70,"run_time":0.31291511,"pending_message":null,"screenshot":null},{"id":"./spec/views/accounting/year_ends/checks/_payroll.html.erb_spec.rb[1:2:1:1]","description":"links to the payroll overview page","full_description":"accounting/year_ends/checks/_payroll when a user has incomplete payroll in the ending tax year when the user is allowed to do stuff links to the payroll overview page","status":"passed","file_path":"./spec/views/accounting/year_ends/checks/_payroll.html.erb_spec.rb","line_number":87,"run_time":0.246801803,"pending_message":null,"screenshot":null},{"id":"./spec/views/accounting/year_ends/checks/_payroll.html.erb_spec.rb[1:2:1:2]","description":"renders the same text as the check's message","full_description":"accounting/year_ends/checks/_payroll when a user has incomplete payroll in the ending tax year when the user is allowed to do stuff renders the same text as the check's message","status":"passed","file_path":"./spec/views/accounting/year_ends/checks/_payroll.html.erb_spec.rb","line_number":91,"run_time":0.24954641,"pending_message":null,"screenshot":null},{"id":"./spec/views/accounting/year_ends/checks/_payroll.html.erb_spec.rb[1:2:2:1]","description":"does not link to the payroll overview page","full_description":"accounting/year_ends/checks/_payroll when a user has incomplete payroll in the ending tax year when the user is not allowed to do stuff does not link to the payroll overview page","status":"passed","file_path":"./spec/views/accounting/year_ends/checks/_payroll.html.erb_spec.rb","line_number":99,"run_time":0.295759106,"pending_message":null,"screenshot":null},{"id":"./spec/views/accounting/year_ends/checks/_payroll.html.erb_spec.rb[1:2:2:2]","description":"renders the same text as the check's message","full_description":"accounting/year_ends/checks/_payroll when a user has incomplete payroll in the ending tax year when the user is not allowed to do stuff renders the same text as the check's message","status":"passed","file_path":"./spec/views/accounting/year_ends/checks/_payroll.html.erb_spec.rb","line_number":103,"run_time":0.248710358,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice/gocardless_spec.rb[1:1:1]","description":"is valid if currency is GBP","full_description":"Invoice when the invoice is payable with gocardless when the invoice has not been sent is valid if currency is GBP","status":"passed","file_path":"./spec/models/invoice/gocardless_spec.rb","line_number":17,"run_time":0.121567918,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice/gocardless_spec.rb[1:1:2]","description":"is invalid if the currency is not GBP","full_description":"Invoice when the invoice is payable with gocardless when the invoice has not been sent is invalid if the currency is not GBP","status":"passed","file_path":"./spec/models/invoice/gocardless_spec.rb","line_number":23,"run_time":0.075472582,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice/gocardless_spec.rb[1:2:1]","description":"generates an online payment id","full_description":"Invoice when the invoice is payable with gocardless when the invoice has been sent generates an online payment id","status":"passed","file_path":"./spec/models/invoice/gocardless_spec.rb","line_number":42,"run_time":0.118231188,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice/gocardless_spec.rb[1:2:2:1]","description":"does not send reminder emails","full_description":"Invoice when the invoice is payable with gocardless when the invoice has been sent with a processing payment does not send reminder emails","status":"passed","file_path":"./spec/models/invoice/gocardless_spec.rb","line_number":52,"run_time":0.145222025,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice/gocardless_spec.rb[1:2:2:2]","description":"is not rescindable","full_description":"Invoice when the invoice is payable with gocardless when the invoice has been sent with a processing payment is not rescindable","status":"passed","file_path":"./spec/models/invoice/gocardless_spec.rb","line_number":56,"run_time":0.136617463,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice/gocardless_spec.rb[1:2:3:1]","description":"sends reminder emails","full_description":"Invoice when the invoice is payable with gocardless when the invoice has been sent with a failed payment sends reminder emails","status":"passed","file_path":"./spec/models/invoice/gocardless_spec.rb","line_number":68,"run_time":0.132520988,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice/gocardless_spec.rb[1:2:3:2]","description":"is rescindable","full_description":"Invoice when the invoice is payable with gocardless when the invoice has been sent with a failed payment is rescindable","status":"passed","file_path":"./spec/models/invoice/gocardless_spec.rb","line_number":74,"run_time":0.143998134,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice/gocardless_spec.rb[1:2:4:1]","description":"does not send reminder emails","full_description":"Invoice when the invoice is payable with gocardless when the invoice has been sent with a failed payment and a processing payment does not send reminder emails","status":"passed","file_path":"./spec/models/invoice/gocardless_spec.rb","line_number":89,"run_time":0.131204188,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice/gocardless_spec.rb[1:2:4:2]","description":"is not rescindable","full_description":"Invoice when the invoice is payable with gocardless when the invoice has been sent with a failed payment and a processing payment is not rescindable","status":"passed","file_path":"./spec/models/invoice/gocardless_spec.rb","line_number":93,"run_time":0.138846583,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[13:14:1]","description":"works correctly","full_description":"InvoicesController POST create Creating a new invoice with a dd-mm-yyyy date format works correctly","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":1494,"run_time":0.501531304,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[28:1:2:6:1]","description":"shows the PayPal payment as pending","full_description":"InvoicesController Viewing the online payment status of a newly created invoice Viewing the online payment status of a newly created invoice that is payable online that has a pending PayPal payment shows the PayPal payment as pending","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":2683,"run_time":0.520359625,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/report_type_spec.rb[1:1:1]","description":"returns true if everything was successful","full_description":"ProfitAndLoss::UiState::ReportType#store returns true if everything was successful","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/report_type_spec.rb","line_number":24,"run_time":0.10205111,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/report_type_spec.rb[1:1:2]","description":"stores type of report that someone was looking at in the rails cache","full_description":"ProfitAndLoss::UiState::ReportType#store stores type of report that someone was looking at in the rails cache","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/report_type_spec.rb","line_number":28,"run_time":0.090564179,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/report_type_spec.rb[1:1:3:1]","description":"returns false, as it couldn't be cached","full_description":"ProfitAndLoss::UiState::ReportType#store when the rails cache is unavailable returns false, as it couldn't be cached","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/report_type_spec.rb","line_number":39,"run_time":0.129627581,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/report_type_spec.rb[1:2:1:1]","description":"returns a proc, which when called returns the yearly profit and loss path","full_description":"ProfitAndLoss::UiState::ReportType#restore_or_default when the report_type is yearly returns a proc, which when called returns the yearly profit and loss path","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/report_type_spec.rb","line_number":51,"run_time":0.089279912,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/report_type_spec.rb[1:2:2:1]","description":"returns a proc, which when called returns the monthly profit and loss path","full_description":"ProfitAndLoss::UiState::ReportType#restore_or_default when the report_type is monthly returns a proc, which when called returns the monthly profit and loss path","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/report_type_spec.rb","line_number":59,"run_time":0.092646794,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/report_type_spec.rb[1:2:3:1]","description":"returns a proc, which when called returns the quarterly profit and loss path","full_description":"ProfitAndLoss::UiState::ReportType#restore_or_default when the report_type is quarterly returns a proc, which when called returns the quarterly profit and loss path","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/report_type_spec.rb","line_number":67,"run_time":0.085768267,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/report_type_spec.rb[1:2:4:1]","description":"returns a proc, which when called returns the comparative profit and loss path","full_description":"ProfitAndLoss::UiState::ReportType#restore_or_default when the report_type is comparative returns a proc, which when called returns the comparative profit and loss path","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/report_type_spec.rb","line_number":75,"run_time":0.089908402,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/report_type_spec.rb[1:2:5:1:1]","description":"returns a proc, which when called returns the stored path","full_description":"ProfitAndLoss::UiState::ReportType#restore_or_default when the report_type is latest when there is a report type stored in the cache returns a proc, which when called returns the stored path","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/report_type_spec.rb","line_number":88,"run_time":0.117468099,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/report_type_spec.rb[1:2:5:2:1]","description":"returns a proc, which when called returns the default of the yearly profit and loss path","full_description":"ProfitAndLoss::UiState::ReportType#restore_or_default when the report_type is latest when there is no report type stored in the cache returns a proc, which when called returns the default of the yearly profit and loss path","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/report_type_spec.rb","line_number":94,"run_time":0.094809722,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/profit_and_loss/ui_state/report_type_spec.rb[1:2:5:3:1]","description":"returns a proc, which when called returns the default of the yearly profit and loss path","full_description":"ProfitAndLoss::UiState::ReportType#restore_or_default when the report_type is latest when the cache is unavailable returns a proc, which when called returns the default of the yearly profit and loss path","status":"passed","file_path":"./spec/freeagent/profit_and_loss/ui_state/report_type_spec.rb","line_number":106,"run_time":0.094723337,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/getting_started_helper_spec.rb[1:1]","description":"shows the correct submit button text on business details","full_description":"GettingStartedHelper shows the correct submit button text on business details","status":"passed","file_path":"./spec/helpers/getting_started_helper_spec.rb","line_number":24,"run_time":0.079583973,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/getting_started_helper_spec.rb[1:2]","description":"shows the correct submit button text on banking details","full_description":"GettingStartedHelper shows the correct submit button text on banking details","status":"passed","file_path":"./spec/helpers/getting_started_helper_spec.rb","line_number":29,"run_time":0.086063482,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/getting_started_helper_spec.rb[1:3:1:1]","description":"is expected to eq [\"BusinessDetails\", \"AccountingDates\", \"VatDetails\", \"BankingDetails\"]","full_description":"GettingStartedHelper#visible_stage_types for a direct UK company is expected to eq [\"BusinessDetails\", \"AccountingDates\", \"VatDetails\", \"BankingDetails\"]","status":"passed","file_path":"./spec/helpers/getting_started_helper_spec.rb","line_number":46,"run_time":0.074164493,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/getting_started_helper_spec.rb[1:4:1:1]","description":"is expected to equal false","full_description":"GettingStartedHelper#show_signup_tracking? when not redirected from activation is expected to equal false","status":"passed","file_path":"./spec/helpers/getting_started_helper_spec.rb","line_number":59,"run_time":0.079325465,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/getting_started_helper_spec.rb[1:4:2:1:1]","description":"is expected to equal true","full_description":"GettingStartedHelper#show_signup_tracking? when redirected from activation when confirmation is required is expected to equal true","status":"passed","file_path":"./spec/helpers/getting_started_helper_spec.rb","line_number":69,"run_time":0.08568277,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/getting_started_helper_spec.rb[1:4:2:2:1]","description":"is expected to equal false","full_description":"GettingStartedHelper#show_signup_tracking? when redirected from activation when confirmation is not required is expected to equal false","status":"passed","file_path":"./spec/helpers/getting_started_helper_spec.rb","line_number":74,"run_time":0.007466707,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/getting_started_helper_spec.rb[1:5:1:1]","description":"returns false","full_description":"GettingStartedHelper#company_is_backbook_provisioned? for a company without a RBSGSignup returns false","status":"passed","file_path":"./spec/helpers/getting_started_helper_spec.rb","line_number":83,"run_time":0.065116468,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/getting_started_helper_spec.rb[1:5:2:1:1]","description":"returns true","full_description":"GettingStartedHelper#company_is_backbook_provisioned? for a company with a RBSGSignup with a backbook signup returns true","status":"passed","file_path":"./spec/helpers/getting_started_helper_spec.rb","line_number":92,"run_time":0.083396546,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/getting_started_helper_spec.rb[1:5:2:2:1]","description":"returns false","full_description":"GettingStartedHelper#company_is_backbook_provisioned? for a company with a RBSGSignup without a backbook signup returns false","status":"passed","file_path":"./spec/helpers/getting_started_helper_spec.rb","line_number":100,"run_time":0.090052402,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/getting_started_helper_spec.rb[1:6:1:1:1]","description":"is expected to equal true","full_description":"GettingStartedHelper#address_already_populated? for a back book company when a company already has a populated address is expected to equal true","status":"passed","file_path":"./spec/helpers/getting_started_helper_spec.rb","line_number":119,"run_time":0.101848609,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/getting_started_helper_spec.rb[1:6:2:1:1]","description":"is expected to equal false","full_description":"GettingStartedHelper#address_already_populated? for a non-back book company when a company already has a populated address is expected to equal false","status":"passed","file_path":"./spec/helpers/getting_started_helper_spec.rb","line_number":127,"run_time":0.085049218,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/getting_started_helper_spec.rb[1:6:3:1:1]","description":"is expected to equal false","full_description":"GettingStartedHelper#address_already_populated? when a company has no populated address for a NWG company is expected to equal false","status":"passed","file_path":"./spec/helpers/getting_started_helper_spec.rb","line_number":135,"run_time":0.086921532,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/getting_started_helper_spec.rb[1:6:3:2:1]","description":"is expected to equal false","full_description":"GettingStartedHelper#address_already_populated? when a company has no populated address for a normal company is expected to equal false","status":"passed","file_path":"./spec/helpers/getting_started_helper_spec.rb","line_number":141,"run_time":0.090226075,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/getting_started_helper_spec.rb[1:7:1:1]","description":"has a hidden class","full_description":"GettingStartedHelper#css_class_for_company_search_div with a companies house populated company has a hidden class","status":"passed","file_path":"./spec/helpers/getting_started_helper_spec.rb","line_number":155,"run_time":0.098532848,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/getting_started_helper_spec.rb[1:7:2:1]","description":"doesn't have a hidden class","full_description":"GettingStartedHelper#css_class_for_company_search_div with a Customer API populated company doesn't have a hidden class","status":"passed","file_path":"./spec/helpers/getting_started_helper_spec.rb","line_number":168,"run_time":0.151797997,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/getting_started_helper_spec.rb[1:7:3:1]","description":"doesn't have a hidden class","full_description":"GettingStartedHelper#css_class_for_company_search_div with a non-Back Book company doesn't have a hidden class","status":"passed","file_path":"./spec/helpers/getting_started_helper_spec.rb","line_number":176,"run_time":0.009113151,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/getting_started_helper_spec.rb[1:8:1:1]","description":"doesn't hide the notice","full_description":"GettingStartedHelper#should_hide_companies_house_notice? with a Companies House populated company doesn't hide the notice","status":"passed","file_path":"./spec/helpers/getting_started_helper_spec.rb","line_number":191,"run_time":0.121116168,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/getting_started_helper_spec.rb[1:8:2:1]","description":"hides the notice","full_description":"GettingStartedHelper#should_hide_companies_house_notice? with a Customer API populated company hides the notice","status":"passed","file_path":"./spec/helpers/getting_started_helper_spec.rb","line_number":204,"run_time":0.121196377,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/getting_started_helper_spec.rb[1:8:3:1]","description":"hides the notice","full_description":"GettingStartedHelper#should_hide_companies_house_notice? with a non-Back Book company hides the notice","status":"passed","file_path":"./spec/helpers/getting_started_helper_spec.rb","line_number":212,"run_time":0.009490706,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess_spec.rb[1:2]","description":"ignores transactions in locked periods","full_description":"Banking::Guess ignores transactions in locked periods","status":"passed","file_path":"./spec/models/banking/guess_spec.rb","line_number":33,"run_time":0.141185216,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess_spec.rb[1:3]","description":"creates a GuessedExplanation when explaining a transaction","full_description":"Banking::Guess creates a GuessedExplanation when explaining a transaction","status":"passed","file_path":"./spec/models/banking/guess_spec.rb","line_number":51,"run_time":0.229738347,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess_spec.rb[1:4]","description":"sets marked_for_review to false when nil is passed as last argument","full_description":"Banking::Guess sets marked_for_review to false when nil is passed as last argument","status":"passed","file_path":"./spec/models/banking/guess_spec.rb","line_number":68,"run_time":0.213794304,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess_spec.rb[1:5]","description":"initializes matchers with the cache","full_description":"Banking::Guess initializes matchers with the cache","status":"passed","file_path":"./spec/models/banking/guess_spec.rb","line_number":80,"run_time":0.109791675,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess_spec.rb[1:7]","description":"sends a BANK_TRANSACTION_SENT_TO_GUESS event for every transaction","full_description":"Banking::Guess sends a BANK_TRANSACTION_SENT_TO_GUESS event for every transaction","status":"passed","file_path":"./spec/models/banking/guess_spec.rb","line_number":103,"run_time":0.303329604,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess_spec.rb[1:1:1]","description":"is triggered if something fails for a bank transaction","full_description":"Banking::Guess error service reporting is triggered if something fails for a bank transaction","status":"passed","file_path":"./spec/models/banking/guess_spec.rb","line_number":14,"run_time":0.041327591,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess_spec.rb[1:6:1]","description":"yields execution time","full_description":"Banking::Guess guess receives a block yields execution time","status":"passed","file_path":"./spec/models/banking/guess_spec.rb","line_number":91,"run_time":0.056678171,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess_spec.rb[1:8:1:1]","description":"is disabled by default","full_description":"Banking::Guess for property based companies the guess feature switch is disabled by default","status":"passed","file_path":"./spec/models/banking/guess_spec.rb","line_number":114,"run_time":0.13059082,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess_spec.rb[1:9:1:1]","description":"doesn't call the error service and re-raises masked Class exception","full_description":"Banking::Guess when interrupted with a Sidkiq exception behaves like re-raises masked Sidekiq exception doesn't call the error service and re-raises masked Class exception","status":"passed","file_path":"./spec/models/banking/guess_spec.rb","line_number":129,"run_time":0.058126243,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess_spec.rb[1:9:2:1]","description":"doesn't call the error service and re-raises masked Class exception","full_description":"Banking::Guess when interrupted with a Sidkiq exception behaves like re-raises masked Sidekiq exception doesn't call the error service and re-raises masked Class exception","status":"passed","file_path":"./spec/models/banking/guess_spec.rb","line_number":129,"run_time":0.057869787,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/company_confirmation_mailer_spec.rb[1:1:1]","description":"is expected to be a multipart email","full_description":"CompanyConfirmationMailer#confirmation is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/company_confirmation_mailer_spec.rb","line_number":25,"run_time":0.118131595,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/company_confirmation_mailer_spec.rb[1:1:2]","description":"is expected to have headers {:from=\u003e\"FreeAgent \u003csupport@freeagent.com\u003e\", :subject=\u003e\"Welcome - confirm your account now\", :to=\u003e\"user_1@example.com\"}","full_description":"CompanyConfirmationMailer#confirmation is expected to have headers {:from=\u003e\"FreeAgent \u003csupport@freeagent.com\u003e\", :subject=\u003e\"Welcome - confirm your account now\", :to=\u003e\"user_1@example.com\"}","status":"passed","file_path":"./spec/mailers/company_confirmation_mailer_spec.rb","line_number":26,"run_time":0.117636336,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/company_confirmation_mailer_spec.rb[1:1:3]","description":"is expected to have category \"Confirm Account\"","full_description":"CompanyConfirmationMailer#confirmation is expected to have category \"Confirm Account\"","status":"passed","file_path":"./spec/mailers/company_confirmation_mailer_spec.rb","line_number":27,"run_time":0.126499901,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/company_confirmation_mailer_spec.rb[1:1:4]","description":"is expected to have content in the html part satisfying match /subdomain000001[\\d\\.A-Za-z_-]+\\/company\\/confirm\\/[\\dA-Za-z_-]+/","full_description":"CompanyConfirmationMailer#confirmation is expected to have content in the html part satisfying match /subdomain000001[\\d\\.A-Za-z_-]+\\/company\\/confirm\\/[\\dA-Za-z_-]+/","status":"passed","file_path":"./spec/mailers/company_confirmation_mailer_spec.rb","line_number":28,"run_time":0.115719087,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/company_confirmation_mailer_spec.rb[1:1:5]","description":"is expected to have content in the text part satisfying match /subdomain000001[\\d\\.A-Za-z_-]+\\/company\\/confirm\\/[\\dA-Za-z_-]+/","full_description":"CompanyConfirmationMailer#confirmation is expected to have content in the text part satisfying match /subdomain000001[\\d\\.A-Za-z_-]+\\/company\\/confirm\\/[\\dA-Za-z_-]+/","status":"passed","file_path":"./spec/mailers/company_confirmation_mailer_spec.rb","line_number":29,"run_time":0.120095468,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:1:1]","description":"renders the new template","full_description":"Admin::Finance::SubscriptionPaymentReportController GET :new renders the new template","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":6,"run_time":0.085900166,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:1:2]","description":"redirects if the user is missing finance permissions","full_description":"Admin::Finance::SubscriptionPaymentReportController GET :new redirects if the user is missing finance permissions","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":14,"run_time":0.016773214,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:2:1:1]","description":"is expected to redirect to \"/unauthorised\"","full_description":"Admin::Finance::SubscriptionPaymentReportController POST :create when the user is missing finance permissions is expected to redirect to \"/unauthorised\"","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":35,"run_time":0.0168128,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:2:2:1]","description":"is expected to redirect to \"/admin/finance/subscription_payment_report?id=1\"","full_description":"Admin::Finance::SubscriptionPaymentReportController POST :create when a valid date param is passed is expected to redirect to \"/admin/finance/subscription_payment_report?id=1\"","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":47,"run_time":0.17026944,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:2:2:2]","description":"creates a new Admin::Finance::Report","full_description":"Admin::Finance::SubscriptionPaymentReportController POST :create when a valid date param is passed creates a new Admin::Finance::Report","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":49,"run_time":0.12967128,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:2:2:3]","description":"creates a report with the correct attributes","full_description":"Admin::Finance::SubscriptionPaymentReportController POST :create when a valid date param is passed creates a report with the correct attributes","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":53,"run_time":0.116296621,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:2:3:1]","description":"is expected to redirect to \"/admin/finance/subscription_payment_report/new\"","full_description":"Admin::Finance::SubscriptionPaymentReportController POST :create when an invalid date param is passed is expected to redirect to \"/admin/finance/subscription_payment_report/new\"","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":67,"run_time":0.021330444,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:2:3:2]","description":"does not create a new Admin::Finance::Report","full_description":"Admin::Finance::SubscriptionPaymentReportController POST :create when an invalid date param is passed does not create a new Admin::Finance::Report","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":69,"run_time":0.064391796,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:2:3:3]","description":"displays an error","full_description":"Admin::Finance::SubscriptionPaymentReportController POST :create when an invalid date param is passed displays an error","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":73,"run_time":0.026322092,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:3:1]","description":"redirects if the user is missing finance permissions","full_description":"Admin::Finance::SubscriptionPaymentReportController GET :show redirects if the user is missing finance permissions","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":81,"run_time":0.021326575,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:3:2]","description":"redirects to the new page if there's no id passed","full_description":"Admin::Finance::SubscriptionPaymentReportController GET :show redirects to the new page if there's no id passed","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":90,"run_time":0.024733395,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:3:3:1]","description":"finds the matching report and assigns it to an instance variable","full_description":"Admin::Finance::SubscriptionPaymentReportController GET :show when an id is passed as a param finds the matching report and assigns it to an instance variable","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":104,"run_time":0.061462337,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:3:3:2]","description":"redirects to the new page if the report can't be found","full_description":"Admin::Finance::SubscriptionPaymentReportController GET :show when an id is passed as a param redirects to the new page if the report can't be found","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":110,"run_time":0.027721401,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:3:3:3]","description":"redirects to the new page if the report found is not a SubscriptionPaymentReport","full_description":"Admin::Finance::SubscriptionPaymentReportController GET :show when an id is passed as a param redirects to the new page if the report found is not a SubscriptionPaymentReport","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":119,"run_time":0.029483279,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:4:1]","description":"redirects if the user is missing finance permissions","full_description":"Admin::Finance::SubscriptionPaymentReportController GET :report_csv redirects if the user is missing finance permissions","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":132,"run_time":0.020241441,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:4:2:1]","description":"redirects to the new page if the report is not complete","full_description":"Admin::Finance::SubscriptionPaymentReportController GET :report_csv when a report id is passed redirects to the new page if the report is not complete","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":151,"run_time":0.103704332,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:4:2:2]","description":"redirects to the new page if the report is not the correct type","full_description":"Admin::Finance::SubscriptionPaymentReportController GET :report_csv when a report id is passed redirects to the new page if the report is not the correct type","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":159,"run_time":0.10592351,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb[1:4:2:3]","description":"renders to the report file for a complete SubscriptionPayment report as a CSV","full_description":"Admin::Finance::SubscriptionPaymentReportController GET :report_csv when a report id is passed renders to the report file for a complete SubscriptionPayment report as a CSV","status":"passed","file_path":"./spec/controllers/admin/finance/subscription_payment_report_controller_spec.rb","line_number":168,"run_time":0.172183743,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/access_checker_spec.rb[1:1:1:1]","description":"returns true","full_description":"BankFeeds::AccessChecker.available_for_company? limited company returns true","status":"passed","file_path":"./spec/models/bank_feeds/access_checker_spec.rb","line_number":11,"run_time":0.009124535,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/access_checker_spec.rb[1:1:2:1]","description":"returns true","full_description":"BankFeeds::AccessChecker.available_for_company? resold by BCSG returns true","status":"passed","file_path":"./spec/models/bank_feeds/access_checker_spec.rb","line_number":20,"run_time":0.106248215,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/access_checker_spec.rb[1:1:3:1]","description":"returns true","full_description":"BankFeeds::AccessChecker.available_for_company? with a non-whitelabelled practice managed UK limited company returns true","status":"passed","file_path":"./spec/models/bank_feeds/access_checker_spec.rb","line_number":36,"run_time":0.225950128,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/access_checker_spec.rb[1:1:4:1]","description":"returns true","full_description":"BankFeeds::AccessChecker.available_for_company? with a whitelabelled practice managed UK limited company returns true","status":"passed","file_path":"./spec/models/bank_feeds/access_checker_spec.rb","line_number":54,"run_time":0.130377558,"pending_message":null,"screenshot":null},{"id":"./spec/components/bills/bill_item_inline_component_spec.rb[1:1]","description":"defaults to first spending category","full_description":"Bills::BillItemInlineComponent defaults to first spending category","status":"passed","file_path":"./spec/components/bills/bill_item_inline_component_spec.rb","line_number":27,"run_time":0.10682005,"pending_message":null,"screenshot":null},{"id":"./spec/components/bills/bill_item_inline_component_spec.rb[1:4]","description":"has a tax rate selector and manual sales tax amount field","full_description":"Bills::BillItemInlineComponent has a tax rate selector and manual sales tax amount field","status":"passed","file_path":"./spec/components/bills/bill_item_inline_component_spec.rb","line_number":68,"run_time":0.084778236,"pending_message":null,"screenshot":null},{"id":"./spec/components/bills/bill_item_inline_component_spec.rb[1:5]","description":"does not have fields for capital asset purchases","full_description":"Bills::BillItemInlineComponent does not have fields for capital asset purchases","status":"passed","file_path":"./spec/components/bills/bill_item_inline_component_spec.rb","line_number":73,"run_time":0.084337975,"pending_message":null,"screenshot":null},{"id":"./spec/components/bills/bill_item_inline_component_spec.rb[1:2:1:1]","description":"has a total price field excluding VAT and refund note","full_description":"Bills::BillItemInlineComponent when the bill has input_total_values_inc_tax disabled when the bill is in the native currency has a total price field excluding VAT and refund note","status":"passed","file_path":"./spec/components/bills/bill_item_inline_component_spec.rb","line_number":38,"run_time":0.082943333,"pending_message":null,"screenshot":null},{"id":"./spec/components/bills/bill_item_inline_component_spec.rb[1:3:1:1]","description":"has a total price field including VAT and refund note","full_description":"Bills::BillItemInlineComponent when the bill has input_total_values_inc_tax enabled when the bill is in the native currency has a total price field including VAT and refund note","status":"passed","file_path":"./spec/components/bills/bill_item_inline_component_spec.rb","line_number":50,"run_time":0.089009194,"pending_message":null,"screenshot":null},{"id":"./spec/components/bills/bill_item_inline_component_spec.rb[1:3:2:1]","description":"has a total price field including tax and refund note","full_description":"Bills::BillItemInlineComponent when the bill has input_total_values_inc_tax enabled when the bill is in a foreign currency has a total price field including tax and refund note","status":"passed","file_path":"./spec/components/bills/bill_item_inline_component_spec.rb","line_number":60,"run_time":0.106525255,"pending_message":null,"screenshot":null},{"id":"./spec/components/bills/bill_item_inline_component_spec.rb[1:6:1]","description":"does have fields for capital asset purchases","full_description":"Bills::BillItemInlineComponent when capital asset bill item does have fields for capital asset purchases","status":"passed","file_path":"./spec/components/bills/bill_item_inline_component_spec.rb","line_number":82,"run_time":0.108196784,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_attachment_upload_spec.rb[1:1:1]","description":"the attributes should be set correctly","full_description":"EmailAttachmentUpload with an email that creates a record the attributes should be set correctly","status":"passed","file_path":"./spec/models/email_attachment_upload_spec.rb","line_number":14,"run_time":0.366544578,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/companies/_header.html.erb_spec.rb[1:1:1:1:1]","description":"tabs do not show","full_description":"practice_dashboard/companies/_header messaging for CoPilot companies with no message threads tabs do not show","status":"passed","file_path":"./spec/views/practice_dashboard/companies/_header.html.erb_spec.rb","line_number":23,"run_time":0.190078931,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/companies/_header.html.erb_spec.rb[1:1:1:2:1]","description":"tabs show","full_description":"practice_dashboard/companies/_header messaging for CoPilot companies when the current account manager is not subscribed to the thread tabs show","status":"passed","file_path":"./spec/views/practice_dashboard/companies/_header.html.erb_spec.rb","line_number":35,"run_time":0.155258313,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/companies/_header.html.erb_spec.rb[1:1:1:3:1]","description":"tabs show","full_description":"practice_dashboard/companies/_header messaging for CoPilot companies when the current account manager is subscribed to the thread tabs show","status":"passed","file_path":"./spec/views/practice_dashboard/companies/_header.html.erb_spec.rb","line_number":46,"run_time":0.185163979,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/companies/_header.html.erb_spec.rb[1:1:2:1]","description":"tabs do not show","full_description":"practice_dashboard/companies/_header messaging for non-CoPilot companies tabs do not show","status":"passed","file_path":"./spec/views/practice_dashboard/companies/_header.html.erb_spec.rb","line_number":57,"run_time":0.157371771,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:1:1:4:5]","description":"representing a non-category expense (purchase of capital asset, including deprecation)","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the cash accounting basis not on the Flat Rate Scheme Bills representing a non-category expense (purchase of capital asset, including deprecation)","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":2805,"run_time":0.723976996,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:2:2:1:1:3:2]","description":"generates two ledger entries for trade debtors for the total value (one debit, one credit) including VAT","full_description":"UkAccountsMapper Accounts Mapper for UK companies who have applied for VAT registration after their registration effective date Invoices Given a native currency invoice with 3 line items in 2 categories which has been cancelled generates two ledger entries for trade debtors for the total value (one debit, one credit) including VAT","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":1442,"run_time":0.401674376,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/inline/leaving_date_helper_spec.rb[1:1:1]","description":"shows that they are a leaver","full_description":"Admin::Inline::LeavingDateHelper when the user is a leaver shows that they are a leaver","status":"passed","file_path":"./spec/helpers/admin/inline/leaving_date_helper_spec.rb","line_number":9,"run_time":0.057444953,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/inline/leaving_date_helper_spec.rb[1:1:2]","description":"shows whether period is submitted","full_description":"Admin::Inline::LeavingDateHelper when the user is a leaver shows whether period is submitted","status":"passed","file_path":"./spec/helpers/admin/inline/leaving_date_helper_spec.rb","line_number":13,"run_time":0.077790948,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/inline/leaving_date_helper_spec.rb[1:2:1]","description":"shows that they are a not a leaver","full_description":"Admin::Inline::LeavingDateHelper when the user is not a leaver shows that they are a not a leaver","status":"passed","file_path":"./spec/helpers/admin/inline/leaving_date_helper_spec.rb","line_number":24,"run_time":0.041225133,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/inline/leaving_date_helper_spec.rb[1:2:2]","description":"shows when period is not yet submitted","full_description":"Admin::Inline::LeavingDateHelper when the user is not a leaver shows when period is not yet submitted","status":"passed","file_path":"./spec/helpers/admin/inline/leaving_date_helper_spec.rb","line_number":28,"run_time":0.03338929,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/inline/leaving_date_helper_spec.rb[1:3:1]","description":"returns true when leaving date submitted","full_description":"Admin::Inline::LeavingDateHelper#leaving_date_submitted? returns true when leaving date submitted","status":"passed","file_path":"./spec/helpers/admin/inline/leaving_date_helper_spec.rb","line_number":36,"run_time":0.0414828,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/inline/leaving_date_helper_spec.rb[1:3:2]","description":"returns false when no leaving date submitted","full_description":"Admin::Inline::LeavingDateHelper#leaving_date_submitted? returns false when no leaving date submitted","status":"passed","file_path":"./spec/helpers/admin/inline/leaving_date_helper_spec.rb","line_number":40,"run_time":0.040279238,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/inline/leaving_date_helper_spec.rb[1:4:1]","description":"returns true when leaver_on_payroll_id set","full_description":"Admin::Inline::LeavingDateHelper#leaver_on_payroll_id_set? returns true when leaver_on_payroll_id set","status":"passed","file_path":"./spec/helpers/admin/inline/leaving_date_helper_spec.rb","line_number":50,"run_time":0.059048818,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/inline/leaving_date_helper_spec.rb[1:4:2]","description":"returns false when leaver_on_payroll_id is nil","full_description":"Admin::Inline::LeavingDateHelper#leaver_on_payroll_id_set? returns false when leaver_on_payroll_id is nil","status":"passed","file_path":"./spec/helpers/admin/inline/leaving_date_helper_spec.rb","line_number":54,"run_time":0.061291638,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_data/all_company_data/recurring_invoice_profiles_spec.rb[1:1]","description":"returns the correct exportable type","full_description":"Exporter::ExportableData::AllCompanyData::RecurringInvoiceProfiles returns the correct exportable type","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_data/all_company_data/recurring_invoice_profiles_spec.rb","line_number":9,"run_time":0.122661566,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_data/all_company_data/recurring_invoice_profiles_spec.rb[1:2]","description":"has nested estimate items","full_description":"Exporter::ExportableData::AllCompanyData::RecurringInvoiceProfiles has nested estimate items","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_data/all_company_data/recurring_invoice_profiles_spec.rb","line_number":13,"run_time":0.094990304,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_data/all_company_data/recurring_invoice_profiles_spec.rb[1:3]","description":"operates on company's invoices","full_description":"Exporter::ExportableData::AllCompanyData::RecurringInvoiceProfiles operates on company's invoices","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_data/all_company_data/recurring_invoice_profiles_spec.rb","line_number":17,"run_time":0.098213897,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_data/all_company_data/recurring_invoice_profiles_spec.rb[1:4]","description":"sorts invoices by next recurs on","full_description":"Exporter::ExportableData::AllCompanyData::RecurringInvoiceProfiles sorts invoices by next recurs on","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_data/all_company_data/recurring_invoice_profiles_spec.rb","line_number":21,"run_time":0.120251221,"pending_message":null,"screenshot":null},{"id":"./spec/requests/bank_accounts_deletion_spec.rb[1:1]","description":"does not consider the primary account deletable","full_description":"BankAccountsDeletion does not consider the primary account deletable","status":"passed","file_path":"./spec/requests/bank_accounts_deletion_spec.rb","line_number":5,"run_time":0.008821319,"pending_message":null,"screenshot":null},{"id":"./spec/requests/bank_accounts_deletion_spec.rb[1:2]","description":"considers a non-primary account deletable","full_description":"BankAccountsDeletion considers a non-primary account deletable","status":"passed","file_path":"./spec/requests/bank_accounts_deletion_spec.rb","line_number":10,"run_time":0.042623096,"pending_message":null,"screenshot":null},{"id":"./spec/requests/bank_accounts_deletion_spec.rb[1:3]","description":"does not consider a non-primary account with bank account entries deletable","full_description":"BankAccountsDeletion does not consider a non-primary account with bank account entries deletable","status":"passed","file_path":"./spec/requests/bank_accounts_deletion_spec.rb","line_number":15,"run_time":0.122891795,"pending_message":null,"screenshot":null},{"id":"./spec/requests/bank_accounts_deletion_spec.rb[1:4]","description":"does not consider a non-primary account with journal entries deletable","full_description":"BankAccountsDeletion does not consider a non-primary account with journal entries deletable","status":"passed","file_path":"./spec/requests/bank_accounts_deletion_spec.rb","line_number":21,"run_time":0.099057593,"pending_message":null,"screenshot":null},{"id":"./spec/requests/bank_accounts_deletion_spec.rb[1:5]","description":"does not consider a non-primary account with bank account entries deletable","full_description":"BankAccountsDeletion does not consider a non-primary account with bank account entries deletable","status":"passed","file_path":"./spec/requests/bank_accounts_deletion_spec.rb","line_number":32,"run_time":0.108326376,"pending_message":null,"screenshot":null},{"id":"./spec/requests/bank_accounts_deletion_spec.rb[1:6]","description":"does not consider a primary account deletable where it's not the only account","full_description":"BankAccountsDeletion does not consider a primary account deletable where it's not the only account","status":"passed","file_path":"./spec/requests/bank_accounts_deletion_spec.rb","line_number":38,"run_time":0.066813961,"pending_message":null,"screenshot":null},{"id":"./spec/models/hire_purchase_spec.rb[1:1:1:1:1]","description":"is expected to eq true","full_description":"HirePurchase#available_for? with the feature switch enabled for a UK company is expected to eq true","status":"passed","file_path":"./spec/models/hire_purchase_spec.rb","line_number":15,"run_time":0.026166472,"pending_message":null,"screenshot":null},{"id":"./spec/models/hire_purchase_spec.rb[1:1:1:2:1]","description":"is expected to eq false","full_description":"HirePurchase#available_for? with the feature switch enabled for a non-UK company is expected to eq false","status":"passed","file_path":"./spec/models/hire_purchase_spec.rb","line_number":21,"run_time":0.096954598,"pending_message":null,"screenshot":null},{"id":"./spec/models/hire_purchase_spec.rb[1:1:2:1:1]","description":"is expected to eq false","full_description":"HirePurchase#available_for? with the feature switch disabled for a UK company is expected to eq false","status":"passed","file_path":"./spec/models/hire_purchase_spec.rb","line_number":29,"run_time":0.009052286,"pending_message":null,"screenshot":null},{"id":"./spec/models/hire_purchase_spec.rb[1:1:2:2:1]","description":"is expected to eq false","full_description":"HirePurchase#available_for? with the feature switch disabled for a non-UK company is expected to eq false","status":"passed","file_path":"./spec/models/hire_purchase_spec.rb","line_number":35,"run_time":0.080022899,"pending_message":null,"screenshot":null},{"id":"./spec/models/hire_purchase_spec.rb[1:2:1:1]","description":"has errors","full_description":"HirePurchase#description when nil has errors","status":"passed","file_path":"./spec/models/hire_purchase_spec.rb","line_number":44,"run_time":0.015291999,"pending_message":null,"screenshot":null},{"id":"./spec/models/hire_purchase_spec.rb[1:2:2:1]","description":"is expected to be valid","full_description":"HirePurchase#description when present is expected to be valid","status":"passed","file_path":"./spec/models/hire_purchase_spec.rb","line_number":53,"run_time":0.011081677,"pending_message":null,"screenshot":null},{"id":"./spec/models/hire_purchase_spec.rb[1:3:1]","description":"uses the correct nominal codes","full_description":"HirePurchase#to_source_item uses the correct nominal codes","status":"passed","file_path":"./spec/models/hire_purchase_spec.rb","line_number":60,"run_time":0.068123951,"pending_message":null,"screenshot":null},{"id":"./spec/models/hire_purchase_spec.rb[1:4:1]","description":"is expected to eq \"793-1\"","full_description":"HirePurchase#liabilities_over_one_year_code is expected to eq \"793-1\"","status":"passed","file_path":"./spec/models/hire_purchase_spec.rb","line_number":69,"run_time":0.065505998,"pending_message":null,"screenshot":null},{"id":"./spec/models/hire_purchase_spec.rb[1:5:1]","description":"is expected to eq \"792-1\"","full_description":"HirePurchase#liabilities_under_one_year_code is expected to eq \"792-1\"","status":"passed","file_path":"./spec/models/hire_purchase_spec.rb","line_number":75,"run_time":0.063337881,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_client/message_thread_subscription_spec.rb[1:1]","description":"is expected to validate that :message_thread cannot be empty/falsy","full_description":"PracticeClient::MessageThreadSubscription is expected to validate that :message_thread cannot be empty/falsy","status":"passed","file_path":"./spec/models/practice_client/message_thread_subscription_spec.rb","line_number":4,"run_time":0.007367547,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_client/message_thread_subscription_spec.rb[1:2]","description":"is expected to validate that :subscriber cannot be empty/falsy","full_description":"PracticeClient::MessageThreadSubscription is expected to validate that :subscriber cannot be empty/falsy","status":"passed","file_path":"./spec/models/practice_client/message_thread_subscription_spec.rb","line_number":5,"run_time":0.005565963,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_client/message_thread_subscription_spec.rb[1:3:1]","description":"does not reset the unread messages if they are already all read","full_description":"PracticeClient::MessageThreadSubscription#reset_unread_message does not reset the unread messages if they are already all read","status":"passed","file_path":"./spec/models/practice_client/message_thread_subscription_spec.rb","line_number":8,"run_time":0.069513077,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_client/message_thread_subscription_spec.rb[1:3:2]","description":"resets the unread messages if there are unread ones","full_description":"PracticeClient::MessageThreadSubscription#reset_unread_message resets the unread messages if there are unread ones","status":"passed","file_path":"./spec/models/practice_client/message_thread_subscription_spec.rb","line_number":17,"run_time":0.066631523,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:1]","description":"calculates sales tax values","full_description":"SalesTaxCalculations calculates sales tax values","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":45,"run_time":0.003424968,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:2]","description":"calculates sales tax and simple second sales tax values","full_description":"SalesTaxCalculations calculates sales tax and simple second sales tax values","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":50,"run_time":0.002591076,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:3]","description":"calculates sales tax and compound second sales tax values","full_description":"SalesTaxCalculations calculates sales tax and compound second sales tax values","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":55,"run_time":0.002631024,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:4]","description":"handles ALL_SALES_TAX_RATE","full_description":"SalesTaxCalculations handles ALL_SALES_TAX_RATE","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":60,"run_time":0.002338542,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:5]","description":"handles ALL_SALES_TAX_RATE and simple second sales tax","full_description":"SalesTaxCalculations handles ALL_SALES_TAX_RATE and simple second sales tax","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":65,"run_time":0.002432734,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:6]","description":"handles ALL_SALES_TAX_RATE and compound second sales tax","full_description":"SalesTaxCalculations handles ALL_SALES_TAX_RATE and compound second sales tax","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":70,"run_time":0.002320542,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:7]","description":"returns zero sales tax for the exempt rate","full_description":"SalesTaxCalculations returns zero sales tax for the exempt rate","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":75,"run_time":0.002378582,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:8]","description":"handles OUT_OF_SCOPE_RATE","full_description":"SalesTaxCalculations handles OUT_OF_SCOPE_RATE","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":80,"run_time":0.002420941,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:9]","description":"handles OUT_OF_SCOPE_RATE and simple second sales tax","full_description":"SalesTaxCalculations handles OUT_OF_SCOPE_RATE and simple second sales tax","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":85,"run_time":0.002828584,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:10]","description":"handles OUT_OF_SCOPE_RATE and compound second sales tax","full_description":"SalesTaxCalculations handles OUT_OF_SCOPE_RATE and compound second sales tax","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":90,"run_time":0.00269218,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:11]","description":"handles sales tax and OUT_OF_SCOPE_RATE second sales tax","full_description":"SalesTaxCalculations handles sales tax and OUT_OF_SCOPE_RATE second sales tax","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":95,"run_time":0.002239425,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:12]","description":"handles sales tax and OUT_OF_SCOPE_RATE compound second sales tax","full_description":"SalesTaxCalculations handles sales tax and OUT_OF_SCOPE_RATE compound second sales tax","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":100,"run_time":0.002384189,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:13]","description":"rounds values correctly","full_description":"SalesTaxCalculations rounds values correctly","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":105,"run_time":0.002876341,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:14]","description":"works with negative gross values","full_description":"SalesTaxCalculations works with negative gross values","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":125,"run_time":0.002488475,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:15:1]","description":"is zero if no VAT receipt is present?","full_description":"SalesTaxCalculations mileage reclaim calculations is zero if no VAT receipt is present?","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":148,"run_time":0.012050351,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:15:2]","description":"uses the correct rate to calculate the sales tax value","full_description":"SalesTaxCalculations mileage reclaim calculations uses the correct rate to calculate the sales tax value","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":153,"run_time":0.011865442,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:16:1:1]","description":"returns nil","full_description":"SalesTaxCalculations#sales_tax_status when sales tax is NOT relevant returns nil","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":165,"run_time":0.003151964,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:16:2:1:1]","description":"returns :auto","full_description":"SalesTaxCalculations#sales_tax_status when sales tax is relevant when the rate is auto returns :auto","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":176,"run_time":0.002790528,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:16:2:2:1]","description":"returns :out_of_scope","full_description":"SalesTaxCalculations#sales_tax_status when sales tax is relevant when the rate is out of scope returns :out_of_scope","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":184,"run_time":0.00271956,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:16:2:3:1]","description":"returns :exempt","full_description":"SalesTaxCalculations#sales_tax_status when sales tax is relevant when the rate is exempt returns :exempt","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":192,"run_time":0.040129298,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:16:2:4:1]","description":"returns :taxable","full_description":"SalesTaxCalculations#sales_tax_status when sales tax is relevant when the rate is manually specified returns :taxable","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":200,"run_time":0.003328317,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:16:2:5:1]","description":"returns :taxable","full_description":"SalesTaxCalculations#sales_tax_status when sales tax is relevant when the rate is all sales tax returns :taxable","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":208,"run_time":0.003111445,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:16:2:6:1]","description":"returns :taxable","full_description":"SalesTaxCalculations#sales_tax_status when sales tax is relevant when the rate is any other value returns :taxable","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":216,"run_time":0.002727568,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:17:1:1]","description":"returns nil","full_description":"SalesTaxCalculations#second_sales_tax_status when second sales tax is NOT relevant returns nil","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":238,"run_time":0.002712812,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:17:2:1:1]","description":"returns :auto","full_description":"SalesTaxCalculations#second_sales_tax_status when second sales tax is relevant when the second rate is auto returns :auto","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":249,"run_time":0.002784583,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:17:2:2:1]","description":"returns :out_of_scope","full_description":"SalesTaxCalculations#second_sales_tax_status when second sales tax is relevant when the rate is all sales tax returns :out_of_scope","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":258,"run_time":0.002467278,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:17:2:3:1]","description":"returns :out_of_scope","full_description":"SalesTaxCalculations#second_sales_tax_status when second sales tax is relevant when the second rate is out of scope returns :out_of_scope","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":266,"run_time":0.00260466,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:17:2:4:1]","description":"returns :taxable","full_description":"SalesTaxCalculations#second_sales_tax_status when second sales tax is relevant when the second rate is manually specified returns :taxable","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":274,"run_time":0.002650919,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:17:2:5:1]","description":"returns :taxable","full_description":"SalesTaxCalculations#second_sales_tax_status when second sales tax is relevant when the rate is any other value returns :taxable","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":282,"run_time":0.002519817,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:18:1:1]","description":"returns false","full_description":"SalesTaxCalculations#sales_tax_taxable? when sales tax is NOT relevant returns false","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":296,"run_time":0.002640802,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:18:2:1:1]","description":"returns false","full_description":"SalesTaxCalculations#sales_tax_taxable? when sales tax is relevant when the rate is auto returns false","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":307,"run_time":0.002554512,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:18:2:2:1]","description":"returns false","full_description":"SalesTaxCalculations#sales_tax_taxable? when sales tax is relevant when the rate is out of scope returns false","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":315,"run_time":0.002393142,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:18:2:3:1]","description":"returns false","full_description":"SalesTaxCalculations#sales_tax_taxable? when sales tax is relevant when the rate is exempt returns false","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":323,"run_time":0.002485125,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:18:2:4:1]","description":"returns true","full_description":"SalesTaxCalculations#sales_tax_taxable? when sales tax is relevant when the rate is manually specified returns true","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":331,"run_time":0.002436776,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:18:2:5:1]","description":"returns true","full_description":"SalesTaxCalculations#sales_tax_taxable? when sales tax is relevant when the rate is all sales tax returns true","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":339,"run_time":0.002434869,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:18:2:6:1]","description":"returns true","full_description":"SalesTaxCalculations#sales_tax_taxable? when sales tax is relevant when the rate is any other value returns true","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":347,"run_time":0.002599967,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:19:1:1]","description":"returns false","full_description":"SalesTaxCalculations#second_sales_tax_taxable? when sales tax is NOT relevant returns false","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":366,"run_time":0.00239748,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:19:2:1:1]","description":"returns false","full_description":"SalesTaxCalculations#second_sales_tax_taxable? when sales tax is relevant when the rate is auto returns false","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":377,"run_time":0.002609983,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:19:2:2:1]","description":"returns false","full_description":"SalesTaxCalculations#second_sales_tax_taxable? when sales tax is relevant when the rate is out of scope returns false","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":385,"run_time":0.00260634,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:19:2:3:1]","description":"returns false","full_description":"SalesTaxCalculations#second_sales_tax_taxable? when sales tax is relevant when the rate is exempt returns false","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":393,"run_time":0.002476775,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:19:2:4:1]","description":"returns true","full_description":"SalesTaxCalculations#second_sales_tax_taxable? when sales tax is relevant when the rate is manually specified returns true","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":401,"run_time":0.002692838,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:19:2:5:1]","description":"returns true","full_description":"SalesTaxCalculations#second_sales_tax_taxable? when sales tax is relevant when the rate is all sales tax returns true","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":409,"run_time":0.002500393,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax_calculations_spec.rb[1:19:2:6:1]","description":"returns true","full_description":"SalesTaxCalculations#second_sales_tax_taxable? when sales tax is relevant when the rate is any other value returns true","status":"passed","file_path":"./spec/models/sales_tax_calculations_spec.rb","line_number":417,"run_time":0.002448641,"pending_message":null,"screenshot":null},{"id":"./spec/views/layouts/sessions.html.erb_spec.rb[1:1:1]","description":"renders the google tag manager script when the feature is enabled","full_description":"layouts/sessions behaves like a page tracked with google tag manager renders the google tag manager script when the feature is enabled","status":"passed","file_path":"./spec/shared/tracking/google_tag_manager_examples.rb","line_number":3,"run_time":0.064346693,"pending_message":null,"screenshot":null},{"id":"./spec/views/layouts/sessions.html.erb_spec.rb[1:1:2]","description":"does not render the google tag manager script when the feature is disabeld","full_description":"layouts/sessions behaves like a page tracked with google tag manager does not render the google tag manager script when the feature is disabeld","status":"passed","file_path":"./spec/shared/tracking/google_tag_manager_examples.rb","line_number":10,"run_time":0.056980944,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:1:3:6]","description":"representing non-category expense (purchase of capital asset, including deprecation)","full_description":"UkAccountsMapper Accounts Mapper for UK companies that are not VAT registered Bank Account Entries representing non-category expense (purchase of capital asset, including deprecation)","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":324,"run_time":0.140775123,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/dev_dashboard/developer_spec.rb[1:1:1]","description":"returns a developer","full_description":"Admin::DevDashboard::Developer.find returns a developer","status":"passed","file_path":"./spec/models/admin/dev_dashboard/developer_spec.rb","line_number":18,"run_time":0.00591286,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/dev_dashboard/developer_spec.rb[1:2:1]","description":"returns a count of developers","full_description":"Admin::DevDashboard::Developer.count returns a count of developers","status":"passed","file_path":"./spec/models/admin/dev_dashboard/developer_spec.rb","line_number":34,"run_time":0.004433421,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/dev_dashboard/developer_spec.rb[1:2:2]","description":"does not call get_all_developer on a second invocation","full_description":"Admin::DevDashboard::Developer.count does not call get_all_developer on a second invocation","status":"passed","file_path":"./spec/models/admin/dev_dashboard/developer_spec.rb","line_number":38,"run_time":0.003991521,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/dev_dashboard/developer_spec.rb[1:3:1]","description":"returns a page of developers","full_description":"Admin::DevDashboard::Developer.page returns a page of developers","status":"passed","file_path":"./spec/models/admin/dev_dashboard/developer_spec.rb","line_number":51,"run_time":0.004202287,"pending_message":null,"screenshot":null},{"id":"./spec/models/admin/dev_dashboard/developer_spec.rb[1:4:1]","description":"returns all apps owned by a developer","full_description":"Admin::DevDashboard::Developer#apps returns all apps owned by a developer","status":"passed","file_path":"./spec/models/admin/dev_dashboard/developer_spec.rb","line_number":73,"run_time":0.004479272,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:17]","description":"calculates invoice net value, total value and nature from invoice items","full_description":"Invoice calculates invoice net value, total value and nature from invoice items","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":331,"run_time":0.133304892,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:69:3:2:1]","description":"is not sendable if status is Scheduled","full_description":"Invoice A VAT-registered UK company with a scheduled invoice company is in read only mode is not sendable if status is Scheduled","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":1916,"run_time":0.141579138,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:70:2:2:1]","description":"does not change locale if contact's locale is changed","full_description":"Invoice An invoice for a US company for a contact based outside US in sent state does not change locale if contact's locale is changed","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":2047,"run_time":0.150741282,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:85:3:1]","description":"when due date is passed in CET, but not in GMT","full_description":"Invoice in different timezones in a timezone ahead of GMT when due date is passed in CET, but not in GMT","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":2517,"run_time":0.140777651,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/notes_controller_spec.rb[1:1]","description":"GET :index","full_description":"Contacts::NotesController GET :index","status":"passed","file_path":"./spec/controllers/contacts/notes_controller_spec.rb","line_number":5,"run_time":0.133667816,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/footer_helper_spec.rb[1:1:1]","description":"sets the freestyle footer class","full_description":"FooterHelper footer_tag sets the freestyle footer class","status":"passed","file_path":"./spec/helpers/footer_helper_spec.rb","line_number":9,"run_time":0.010621893,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/footer_helper_spec.rb[1:2:1:1]","description":"shows practice footer logo if present","full_description":"FooterHelper footer_practice_logo has practice logo shows practice footer logo if present","status":"passed","file_path":"./spec/helpers/footer_helper_spec.rb","line_number":26,"run_time":0.047051629,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/footer_helper_spec.rb[1:2:2:1]","description":"shows practice footer logo","full_description":"FooterHelper footer_practice_logo does not have practice logo shows practice footer logo","status":"passed","file_path":"./spec/helpers/footer_helper_spec.rb","line_number":37,"run_time":0.036790072,"pending_message":null,"screenshot":null},{"id":"./spec/views/invoices/_invoice_emails_panel.html.erb_spec.rb[1:1:1]","description":"renders the direct debit warning if new invoice emails are selected","full_description":"invoices/_invoice_emails_panel with GoCardless mandates enabled renders the direct debit warning if new invoice emails are selected","status":"passed","file_path":"./spec/views/invoices/_invoice_emails_panel.html.erb_spec.rb","line_number":12,"run_time":0.075238985,"pending_message":null,"screenshot":null},{"id":"./spec/views/invoices/_invoice_emails_panel.html.erb_spec.rb[1:1:2]","description":"does not render the direct debit warning if only thank you emails are enabled","full_description":"invoices/_invoice_emails_panel with GoCardless mandates enabled does not render the direct debit warning if only thank you emails are enabled","status":"passed","file_path":"./spec/views/invoices/_invoice_emails_panel.html.erb_spec.rb","line_number":19,"run_time":0.063842924,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/fapd/invoices_controller_spec.rb[1:1:1:1]","description":"downloads a PDF of the given invoice","full_description":"Admin::Fapd::InvoicesController#show while logged in as a finance user downloads a PDF of the given invoice","status":"passed","file_path":"./spec/controllers/admin/fapd/invoices_controller_spec.rb","line_number":19,"run_time":0.089952304,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/fapd/invoices_controller_spec.rb[1:1:2:1]","description":"downloads a PDF of the given invoice","full_description":"Admin::Fapd::InvoicesController#show while logged in as a superhero downloads a PDF of the given invoice","status":"passed","file_path":"./spec/controllers/admin/fapd/invoices_controller_spec.rb","line_number":30,"run_time":0.226510134,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/fapd/invoices_controller_spec.rb[1:1:3:1]","description":"forbids access","full_description":"Admin::Fapd::InvoicesController#show while logged in as an AdminUser without the necessary permission forbids access","status":"passed","file_path":"./spec/controllers/admin/fapd/invoices_controller_spec.rb","line_number":41,"run_time":0.149725417,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/hiscox/policy_status_spec.rb[1:1:1:1]","description":"is expected to equal true","full_description":"Hiscox::PolicyStatus#active? when the API reports an active policy is expected to equal true","status":"passed","file_path":"./spec/integrations/hiscox/policy_status_spec.rb","line_number":25,"run_time":0.142876368,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/hiscox/policy_status_spec.rb[1:1:2:1]","description":"is expected to equal false","full_description":"Hiscox::PolicyStatus#active? when the API reports an inactive policy is expected to equal false","status":"passed","file_path":"./spec/integrations/hiscox/policy_status_spec.rb","line_number":36,"run_time":0.123981196,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/hiscox/policy_status_spec.rb[1:1:3:1]","description":"is expected to equal false","full_description":"Hiscox::PolicyStatus#active? when the API reports a pending cancellation is expected to equal false","status":"passed","file_path":"./spec/integrations/hiscox/policy_status_spec.rb","line_number":47,"run_time":0.192477946,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/hiscox/policy_status_spec.rb[1:1:4:1]","description":"is expected to equal false","full_description":"Hiscox::PolicyStatus#active? when the API reports a completed cancellation is expected to equal false","status":"passed","file_path":"./spec/integrations/hiscox/policy_status_spec.rb","line_number":58,"run_time":0.010274873,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/hiscox/policy_status_spec.rb[1:1:5:1]","description":"is expected to equal false","full_description":"Hiscox::PolicyStatus#active? when the API reports as active but not a policy is expected to equal false","status":"passed","file_path":"./spec/integrations/hiscox/policy_status_spec.rb","line_number":69,"run_time":0.009629028,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/hiscox/policy_status_spec.rb[1:1:6:1]","description":"is expected to equal false","full_description":"Hiscox::PolicyStatus#active? when the API reports no status is expected to equal false","status":"passed","file_path":"./spec/integrations/hiscox/policy_status_spec.rb","line_number":79,"run_time":0.008708674,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/hiscox/policy_status_spec.rb[1:1:7:1]","description":"is expected to equal false","full_description":"Hiscox::PolicyStatus#active? when the API response is empty is expected to equal false","status":"passed","file_path":"./spec/integrations/hiscox/policy_status_spec.rb","line_number":85,"run_time":0.008349561,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/hiscox/policy_status_spec.rb[1:2:1:1]","description":"is expected to equal true","full_description":"Hiscox::PolicyStatus#cancelled? when the API reports a completed cancellation is expected to equal true","status":"passed","file_path":"./spec/integrations/hiscox/policy_status_spec.rb","line_number":104,"run_time":0.008266465,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/hiscox/policy_status_spec.rb[1:2:2:1]","description":"is expected to equal false","full_description":"Hiscox::PolicyStatus#cancelled? when the API reports a pending cancellation is expected to equal false","status":"passed","file_path":"./spec/integrations/hiscox/policy_status_spec.rb","line_number":115,"run_time":0.008951374,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/hiscox/policy_status_spec.rb[1:2:3:1]","description":"is expected to equal false","full_description":"Hiscox::PolicyStatus#cancelled? when the API reports an active policy is expected to equal false","status":"passed","file_path":"./spec/integrations/hiscox/policy_status_spec.rb","line_number":126,"run_time":0.008171942,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/hiscox/policy_status_spec.rb[1:2:4:1]","description":"is expected to equal false","full_description":"Hiscox::PolicyStatus#cancelled? when the API reports an inactive policy is expected to equal false","status":"passed","file_path":"./spec/integrations/hiscox/policy_status_spec.rb","line_number":137,"run_time":0.008327991,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/hiscox/policy_status_spec.rb[1:2:5:1]","description":"is expected to equal false","full_description":"Hiscox::PolicyStatus#cancelled? when the API reports no status is expected to equal false","status":"passed","file_path":"./spec/integrations/hiscox/policy_status_spec.rb","line_number":147,"run_time":0.00808532,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/hiscox/policy_status_spec.rb[1:2:6:1]","description":"is expected to equal false","full_description":"Hiscox::PolicyStatus#cancelled? when the API response is empty is expected to equal false","status":"passed","file_path":"./spec/integrations/hiscox/policy_status_spec.rb","line_number":153,"run_time":0.010268621,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/login_attempt/mark_as_expired_job_spec.rb[1:1:1:1]","description":"does not raise an error","full_description":"LoginAttempt::MarkAsExpiredJob#perform when a login attempt with the given ID does not exist does not raise an error","status":"passed","file_path":"./spec/jobs/login_attempt/mark_as_expired_job_spec.rb","line_number":20,"run_time":0.004438084,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/login_attempt/mark_as_expired_job_spec.rb[1:1:2:1]","description":"does not raise an error","full_description":"LoginAttempt::MarkAsExpiredJob#perform when the login attempt is successful does not raise an error","status":"passed","file_path":"./spec/jobs/login_attempt/mark_as_expired_job_spec.rb","line_number":28,"run_time":0.023864157,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/login_attempt/mark_as_expired_job_spec.rb[1:1:2:2]","description":"does not change the state of the login attempt","full_description":"LoginAttempt::MarkAsExpiredJob#perform when the login attempt is successful does not change the state of the login attempt","status":"passed","file_path":"./spec/jobs/login_attempt/mark_as_expired_job_spec.rb","line_number":32,"run_time":0.023514303,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/login_attempt/mark_as_expired_job_spec.rb[1:1:3:1]","description":"does not raise an error","full_description":"LoginAttempt::MarkAsExpiredJob#perform when the login attempt has failed does not raise an error","status":"passed","file_path":"./spec/jobs/login_attempt/mark_as_expired_job_spec.rb","line_number":42,"run_time":0.009217062,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/login_attempt/mark_as_expired_job_spec.rb[1:1:3:2]","description":"does not change the state of the login attempt","full_description":"LoginAttempt::MarkAsExpiredJob#perform when the login attempt has failed does not change the state of the login attempt","status":"passed","file_path":"./spec/jobs/login_attempt/mark_as_expired_job_spec.rb","line_number":46,"run_time":0.009514785,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/login_attempt/mark_as_expired_job_spec.rb[1:1:4:1]","description":"does not raise an error","full_description":"LoginAttempt::MarkAsExpiredJob#perform when the login attempt is in progress does not raise an error","status":"passed","file_path":"./spec/jobs/login_attempt/mark_as_expired_job_spec.rb","line_number":54,"run_time":0.023278316,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/login_attempt/mark_as_expired_job_spec.rb[1:1:4:2]","description":"changes the state of the login attempt","full_description":"LoginAttempt::MarkAsExpiredJob#perform when the login attempt is in progress changes the state of the login attempt","status":"passed","file_path":"./spec/jobs/login_attempt/mark_as_expired_job_spec.rb","line_number":58,"run_time":0.024319914,"pending_message":null,"screenshot":null}],"summary":{"duration":2.717015499,"example_count":560,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"560 examples, 0 failures"}