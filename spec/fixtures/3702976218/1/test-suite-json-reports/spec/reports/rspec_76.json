{"version":"3.11.0","messages":["Run options:\n  include {:ids=\u003e{\"./spec/models/uk_accounts_mapper_spec.rb\"=\u003e[\"1:2:2:1:1:3:3\"]}}\n  exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/controllers/settings/account_locks_controller_spec.rb[1:1:1:1]","description":"shows a form","full_description":"Settings::AccountLocksController GET #show when there are no VAT returns shows a form","status":"passed","file_path":"./spec/controllers/settings/account_locks_controller_spec.rb","line_number":19,"run_time":4.295708238,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/account_locks_controller_spec.rb[1:1:2:1:1]","description":"shows a warning","full_description":"Settings::AccountLocksController GET #show when there are VAT returns when they are all unfiled shows a warning","status":"passed","file_path":"./spec/controllers/settings/account_locks_controller_spec.rb","line_number":31,"run_time":1.325582175,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/account_locks_controller_spec.rb[1:1:2:2:1]","description":"shows a form","full_description":"Settings::AccountLocksController GET #show when there are VAT returns when at least one of them is filed shows a form","status":"passed","file_path":"./spec/controllers/settings/account_locks_controller_spec.rb","line_number":44,"run_time":1.382958552,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/account_locks_controller_spec.rb[1:1:3:1]","description":"shows a warning","full_description":"Settings::AccountLocksController GET #show when there are invalid Corporation tax returns shows a warning","status":"passed","file_path":"./spec/controllers/settings/account_locks_controller_spec.rb","line_number":57,"run_time":0.198431932,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/account_locks_controller_spec.rb[1:1:4:1]","description":"shows a warning","full_description":"Settings::AccountLocksController GET #show when there are invalid VAT returns shows a warning","status":"passed","file_path":"./spec/controllers/settings/account_locks_controller_spec.rb","line_number":70,"run_time":0.605982313,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/account_locks_controller_spec.rb[1:2:1:1]","description":"updates successfully with a new valid lock date","full_description":"Settings::AccountLocksController PUT #update given a US company entering a US date updates successfully with a new valid lock date","status":"passed","file_path":"./spec/controllers/settings/account_locks_controller_spec.rb","line_number":87,"run_time":0.175556778,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/account_locks_controller_spec.rb[1:2:2:1:1]","description":"updates successfully","full_description":"Settings::AccountLocksController PUT #update given no freeagent lock date with a new valid lock date updates successfully","status":"passed","file_path":"./spec/controllers/settings/account_locks_controller_spec.rb","line_number":108,"run_time":0.78872081,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/account_locks_controller_spec.rb[1:2:2:2:1]","description":"shows an error","full_description":"Settings::AccountLocksController PUT #update given no freeagent lock date with a date value not in valid range shows an error","status":"passed","file_path":"./spec/controllers/settings/account_locks_controller_spec.rb","line_number":122,"run_time":0.879823488,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/account_locks_controller_spec.rb[1:2:2:3:1:1]","description":"updates successfully","full_description":"Settings::AccountLocksController PUT #update given no freeagent lock date given an existing user lock date with a new valid lock date updates successfully","status":"passed","file_path":"./spec/controllers/settings/account_locks_controller_spec.rb","line_number":144,"run_time":0.563623037,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/account_locks_controller_spec.rb[1:2:2:3:2:1]","description":"shows an error","full_description":"Settings::AccountLocksController PUT #update given no freeagent lock date given an existing user lock date with a date value not in valid range shows an error","status":"passed","file_path":"./spec/controllers/settings/account_locks_controller_spec.rb","line_number":158,"run_time":0.636239331,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/account_locks_controller_spec.rb[1:2:3:1:1]","description":"updates successfully ","full_description":"Settings::AccountLocksController PUT #update given a freeagent lock date with a new valid lock date updates successfully ","status":"passed","file_path":"./spec/controllers/settings/account_locks_controller_spec.rb","line_number":182,"run_time":0.644487638,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/account_locks_controller_spec.rb[1:2:3:2:1]","description":"shows an error updating with a date value not in valid range","full_description":"Settings::AccountLocksController PUT #update given a freeagent lock date with a date value not in valid range shows an error updating with a date value not in valid range","status":"passed","file_path":"./spec/controllers/settings/account_locks_controller_spec.rb","line_number":196,"run_time":0.651094841,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/account_locks_controller_spec.rb[1:2:3:3:1:1]","description":"updates successfully with a new valid lock date","full_description":"Settings::AccountLocksController PUT #update given a freeagent lock date given an existing user lock date with a new valid lock date updates successfully with a new valid lock date","status":"passed","file_path":"./spec/controllers/settings/account_locks_controller_spec.rb","line_number":218,"run_time":0.57751257,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/account_locks_controller_spec.rb[1:2:3:3:2:1]","description":"shows an error","full_description":"Settings::AccountLocksController PUT #update given a freeagent lock date given an existing user lock date with a date value not in valid range shows an error","status":"passed","file_path":"./spec/controllers/settings/account_locks_controller_spec.rb","line_number":232,"run_time":0.797287785,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/account_locks_controller_spec.rb[1:3:1]","description":"does nothing without a user lock to delete","full_description":"Settings::AccountLocksController DELETE #destroy does nothing without a user lock to delete","status":"passed","file_path":"./spec/controllers/settings/account_locks_controller_spec.rb","line_number":247,"run_time":0.115157675,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/account_locks_controller_spec.rb[1:3:2:1]","description":"deletes successfully","full_description":"Settings::AccountLocksController DELETE #destroy with an existing user lock deletes successfully","status":"passed","file_path":"./spec/controllers/settings/account_locks_controller_spec.rb","line_number":261,"run_time":0.125435789,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:1]","description":"strips whitespace from user string attributes","full_description":"Importer::Company strips whitespace from user string attributes","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":8,"run_time":0.166935666,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:2:1]","description":"should return a valid UniversalCompany company regardless of type","full_description":"Importer::Company with minimal fields should return a valid UniversalCompany company regardless of type","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":58,"run_time":0.100020945,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:2:2]","description":"should return a valid UkSoleTrader company regardless of type","full_description":"Importer::Company with minimal fields should return a valid UkSoleTrader company regardless of type","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":58,"run_time":0.092147936,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:2:3]","description":"should return a valid UkPartnership company regardless of type","full_description":"Importer::Company with minimal fields should return a valid UkPartnership company regardless of type","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":58,"run_time":0.092467005,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:2:4]","description":"should return a valid UkLimitedLiabilityPartnership company regardless of type","full_description":"Importer::Company with minimal fields should return a valid UkLimitedLiabilityPartnership company regardless of type","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":58,"run_time":0.101384772,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:2:5]","description":"should return a valid UkLimitedCompany company regardless of type","full_description":"Importer::Company with minimal fields should return a valid UkLimitedCompany company regardless of type","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":58,"run_time":0.0994073,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:2:6]","description":"should have one user","full_description":"Importer::Company with minimal fields should have one user","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":69,"run_time":0.083294063,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:2:7]","description":"should generate a password for the user","full_description":"Importer::Company with minimal fields should generate a password for the user","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":75,"run_time":0.091561056,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:2:8]","description":"should have one bank account","full_description":"Importer::Company with minimal fields should have one bank account","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":81,"run_time":0.085295322,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:2:9]","description":"should not have any journal entries","full_description":"Importer::Company with minimal fields should not have any journal entries","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":87,"run_time":0.084188172,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:2:10]","description":"should default first user's permission level to 7","full_description":"Importer::Company with minimal fields should default first user's permission level to 7","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":93,"run_time":0.092715807,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:2:11]","description":"should default to not having a sales tax registration status","full_description":"Importer::Company with minimal fields should default to not having a sales tax registration status","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":102,"run_time":0.097191343,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:3:1:1:1]","description":"is 'setup done'","full_description":"Importer::Company with required fields setup is done company type is 'UK Limited Company' is 'setup done'","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":129,"run_time":0.094836802,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:3:1:2:1]","description":"is 'setup done'","full_description":"Importer::Company with required fields setup is done company type is 'UK Limited Liability Partnership' is 'setup done'","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":129,"run_time":0.083170345,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:3:1:3:1]","description":"is 'setup done'","full_description":"Importer::Company with required fields setup is done company type is 'UK Partnership' is 'setup done'","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":129,"run_time":0.131595203,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:3:1:4:1]","description":"is 'setup done'","full_description":"Importer::Company with required fields setup is done company type is 'UK Sole Trader' is 'setup done'","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":129,"run_time":0.082977581,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:3:1:5:1]","description":"is 'setup done'","full_description":"Importer::Company with required fields setup is done company type is 'UK Unincorporated Landlord' is 'setup done'","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":129,"run_time":0.103977437,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:3:1:6:1]","description":"is 'setup done'","full_description":"Importer::Company with required fields setup is done company type is 'Universal' is 'setup done'","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":129,"run_time":0.074825283,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:3:1:7:1:1]","description":"is 'setup done'","full_description":"Importer::Company with required fields setup is done with RBSG funding company type is 'UK Limited Company' is 'setup done'","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":164,"run_time":0.110574703,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:3:1:7:2:1]","description":"is 'setup done'","full_description":"Importer::Company with required fields setup is done with RBSG funding company type is 'UK Limited Liability Partnership' is 'setup done'","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":164,"run_time":0.093743517,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:3:1:7:3:1]","description":"is 'setup done'","full_description":"Importer::Company with required fields setup is done with RBSG funding company type is 'UK Partnership' is 'setup done'","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":164,"run_time":0.087672086,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:3:1:7:4:1]","description":"is 'setup done'","full_description":"Importer::Company with required fields setup is done with RBSG funding company type is 'UK Sole Trader' is 'setup done'","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":164,"run_time":0.096042768,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:3:1:7:5:1]","description":"is 'setup done'","full_description":"Importer::Company with required fields setup is done with RBSG funding company type is 'UK Unincorporated Landlord' is 'setup done'","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":164,"run_time":0.097026514,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:4:1]","description":"should create an inactive company","full_description":"Importer::Company when status == Inactive should create an inactive company","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":189,"run_time":0.112533279,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:5:1]","description":"should create an inactive company","full_description":"Importer::Company when status == nil should create an inactive company","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":209,"run_time":0.108497183,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:6:1]","description":"should create an active company","full_description":"Importer::Company when status == Active should create an active company","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":229,"run_time":0.093372458,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:7:1]","description":"should create an invalid company/subscription","full_description":"Importer::Company when status is set to on invalid value should create an invalid company/subscription","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":249,"run_time":0.116157559,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:8:1]","description":"should have the month and day the correct way round","full_description":"Importer::Company with a UK formatted date field should have the month and day the correct way round","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":269,"run_time":0.08908568,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:9:1]","description":"should generate a company with a nil attribute","full_description":"Importer::Company with a nonsensical date field should generate a company with a nil attribute","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":288,"run_time":0.081740753,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:10:1]","description":"should be assigned to that account manager by default","full_description":"Importer::Company with a standard account manager should be assigned to that account manager by default","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":309,"run_time":0.091559322,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:10:2]","description":"builds a PracticeClient::Relationship with that account manager","full_description":"Importer::Company with a standard account manager builds a PracticeClient::Relationship with that account manager","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":315,"run_time":0.087138284,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:10:3]","description":"cannot assign accounts to other account managers","full_description":"Importer::Company with a standard account manager cannot assign accounts to other account managers","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":326,"run_time":0.090675907,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:11:1]","description":"should be assigned to that account manager by default","full_description":"Importer::Company with a senior account manager should be assigned to that account manager by default","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":350,"run_time":0.081140276,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:11:2]","description":"builds a PracticeClient::Relationship with that account manager","full_description":"Importer::Company with a senior account manager builds a PracticeClient::Relationship with that account manager","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":355,"run_time":0.087673461,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:11:3]","description":"should be able to assign accounts to other account managers","full_description":"Importer::Company with a senior account manager should be able to assign accounts to other account managers","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":366,"run_time":0.084508312,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:12:1]","description":"should return a valid company with 2 users","full_description":"Importer::Company with user fields for second user should return a valid company with 2 users","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":389,"run_time":0.118999932,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:13:1]","description":"is set on the created user","full_description":"Importer::Company with user role field is set on the created user","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":412,"run_time":0.230305094,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:13:2]","description":"should create an invalid user when set to unknown value","full_description":"Importer::Company with user role field should create an invalid user when set to unknown value","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":420,"run_time":0.229898972,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:14:1]","description":"is set on the created user","full_description":"Importer::Company with user NI number field is set on the created user","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":442,"run_time":0.258378103,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:15:1]","description":"is set on the created user","full_description":"Importer::Company with user unique tax reference field is set on the created user","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":462,"run_time":0.246007435,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:16:1]","description":"should create the correct general ledger accounts","full_description":"Importer::Company with user opening balances should create the correct general ledger accounts","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":482,"run_time":0.820526937,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:16:2]","description":"shouldn't create journal entries without general ledger accounts","full_description":"Importer::Company with user opening balances shouldn't create journal entries without general ledger accounts","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":495,"run_time":0.096087614,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:16:3]","description":"shouldn't create journal entries for ledgers that aren't available for the type of user","full_description":"Importer::Company with user opening balances shouldn't create journal entries for ledgers that aren't available for the type of user","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":509,"run_time":0.081624614,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:17:1:1]","description":"returns a valid fapdrbsg company when passed valid data","full_description":"Importer::Company with RBSG funding from royal_bank_of_scotland, with funding-bank [Royal Bank of Scotland] returns a valid fapdrbsg company when passed valid data","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":553,"run_time":0.110714896,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:17:1:2]","description":"returns a Active fapdrbsg company when passed valid data and an Active status","full_description":"Importer::Company with RBSG funding from royal_bank_of_scotland, with funding-bank [Royal Bank of Scotland] returns a Active fapdrbsg company when passed valid data and an Active status","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":566,"run_time":0.095630587,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:17:1:3]","description":"returns an invalid company when the funding bank isn't royal_bank_of_scotland","full_description":"Importer::Company with RBSG funding from royal_bank_of_scotland, with funding-bank [Royal Bank of Scotland] returns an invalid company when the funding bank isn't royal_bank_of_scotland","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":582,"run_time":0.099561041,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:17:2:1]","description":"returns a valid fapdrbsg company when passed valid data","full_description":"Importer::Company with RBSG funding from royal_bank_of_scotland, with funding-bank [Royal bank Of Scotland] returns a valid fapdrbsg company when passed valid data","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":553,"run_time":0.131371101,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:17:2:2]","description":"returns a Active fapdrbsg company when passed valid data and an Active status","full_description":"Importer::Company with RBSG funding from royal_bank_of_scotland, with funding-bank [Royal bank Of Scotland] returns a Active fapdrbsg company when passed valid data and an Active status","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":566,"run_time":0.122699701,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:17:2:3]","description":"returns an invalid company when the funding bank isn't royal_bank_of_scotland","full_description":"Importer::Company with RBSG funding from royal_bank_of_scotland, with funding-bank [Royal bank Of Scotland] returns an invalid company when the funding bank isn't royal_bank_of_scotland","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":582,"run_time":0.120775262,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:17:3:1]","description":"returns a valid fapdrbsg company when passed valid data","full_description":"Importer::Company with RBSG funding from natwest, with funding-bank [NatWest] returns a valid fapdrbsg company when passed valid data","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":553,"run_time":0.121654656,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:17:3:2]","description":"returns a Active fapdrbsg company when passed valid data and an Active status","full_description":"Importer::Company with RBSG funding from natwest, with funding-bank [NatWest] returns a Active fapdrbsg company when passed valid data and an Active status","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":566,"run_time":0.119996525,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:17:3:3]","description":"returns an invalid company when the funding bank isn't natwest","full_description":"Importer::Company with RBSG funding from natwest, with funding-bank [NatWest] returns an invalid company when the funding bank isn't natwest","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":582,"run_time":0.111760287,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:17:4:1]","description":"returns a valid fapdrbsg company when passed valid data","full_description":"Importer::Company with RBSG funding from natwest, with funding-bank [Natwest] returns a valid fapdrbsg company when passed valid data","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":553,"run_time":0.102718489,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:17:4:2]","description":"returns a Active fapdrbsg company when passed valid data and an Active status","full_description":"Importer::Company with RBSG funding from natwest, with funding-bank [Natwest] returns a Active fapdrbsg company when passed valid data and an Active status","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":566,"run_time":0.108943519,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:17:4:3]","description":"returns an invalid company when the funding bank isn't natwest","full_description":"Importer::Company with RBSG funding from natwest, with funding-bank [Natwest] returns an invalid company when the funding bank isn't natwest","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":582,"run_time":0.122483657,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:17:5:1]","description":"returns a valid fapdrbsg company when passed valid data","full_description":"Importer::Company with RBSG funding from mettle, with funding-bank [Mettle] returns a valid fapdrbsg company when passed valid data","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":553,"run_time":0.11886339,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:17:5:2]","description":"returns a Active fapdrbsg company when passed valid data and an Active status","full_description":"Importer::Company with RBSG funding from mettle, with funding-bank [Mettle] returns a Active fapdrbsg company when passed valid data and an Active status","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":566,"run_time":0.10314478,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:17:5:3]","description":"returns an invalid company when the funding bank isn't mettle","full_description":"Importer::Company with RBSG funding from mettle, with funding-bank [Mettle] returns an invalid company when the funding bank isn't mettle","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":582,"run_time":0.139884971,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:17:6:1]","description":"returns a valid fapdrbsg company when passed valid data","full_description":"Importer::Company with RBSG funding from mettle, with funding-bank [mettle] returns a valid fapdrbsg company when passed valid data","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":553,"run_time":0.119597049,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:17:6:2]","description":"returns a Active fapdrbsg company when passed valid data and an Active status","full_description":"Importer::Company with RBSG funding from mettle, with funding-bank [mettle] returns a Active fapdrbsg company when passed valid data and an Active status","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":566,"run_time":0.119522355,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:17:6:3]","description":"returns an invalid company when the funding bank isn't mettle","full_description":"Importer::Company with RBSG funding from mettle, with funding-bank [mettle] returns an invalid company when the funding bank isn't mettle","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":582,"run_time":0.117989996,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:17:7:1]","description":"returns a valid fapdrbsg company when passed valid data","full_description":"Importer::Company with RBSG funding from ulster_bank, with funding-bank [Ulster Bank NI] returns a valid fapdrbsg company when passed valid data","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":553,"run_time":0.104242266,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:17:7:2]","description":"returns a Active fapdrbsg company when passed valid data and an Active status","full_description":"Importer::Company with RBSG funding from ulster_bank, with funding-bank [Ulster Bank NI] returns a Active fapdrbsg company when passed valid data and an Active status","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":566,"run_time":0.106773548,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:17:7:3]","description":"returns an invalid company when the funding bank isn't ulster_bank","full_description":"Importer::Company with RBSG funding from ulster_bank, with funding-bank [Ulster Bank NI] returns an invalid company when the funding bank isn't ulster_bank","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":582,"run_time":0.127658997,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:17:8:1]","description":"returns a valid fapdrbsg company when passed valid data","full_description":"Importer::Company with RBSG funding from ulster_bank, with funding-bank [Ulster Bank] returns a valid fapdrbsg company when passed valid data","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":553,"run_time":0.103176044,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:17:8:2]","description":"returns a Active fapdrbsg company when passed valid data and an Active status","full_description":"Importer::Company with RBSG funding from ulster_bank, with funding-bank [Ulster Bank] returns a Active fapdrbsg company when passed valid data and an Active status","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":566,"run_time":0.095284339,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:17:8:3]","description":"returns an invalid company when the funding bank isn't ulster_bank","full_description":"Importer::Company with RBSG funding from ulster_bank, with funding-bank [Ulster Bank] returns an invalid company when the funding bank isn't ulster_bank","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":582,"run_time":0.111399054,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:18:1]","description":"should return a valid company with one bank account when passed valid data","full_description":"Importer::Company with standard bank account fields should return a valid company with one bank account when passed valid data","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":608,"run_time":0.090171503,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:18:2:1]","description":"is set on the created bank account","full_description":"Importer::Company with standard bank account fields and optional opening balance field is set on the created bank account","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":624,"run_time":0.086658659,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:19:1]","description":"should create a blank bank account","full_description":"Importer::Company with blank bank account fields should create a blank bank account","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":646,"run_time":0.094461444,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:20:1]","description":"should build journal entries with valid data","full_description":"Importer::Company with opening balances should build journal entries with valid data","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":671,"run_time":0.105780036,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:20:2]","description":"doesn't build journal entries for unrecognised codes","full_description":"Importer::Company with opening balances doesn't build journal entries for unrecognised codes","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":678,"run_time":0.083198617,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:20:3]","description":"ignores opening balance values that are blank strings because they came via a form submission","full_description":"Importer::Company with opening balances ignores opening balance values that are blank strings because they came via a form submission","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":690,"run_time":0.091846091,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:20:5]","description":"should not build journal entries when no value is supplied","full_description":"Importer::Company with opening balances should not build journal entries when no value is supplied","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":727,"run_time":0.084663583,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:20:4:1]","description":"creates an error for the invalid code","full_description":"Importer::Company with opening balances with an account code that isn't part of the company type's chart of accounts creates an error for the invalid code","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":718,"run_time":0.109848078,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:21:2]","description":"is set on the created user","full_description":"Importer::Company with the permission level field is set on the created user","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":784,"run_time":0.096193866,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:21:3]","description":"should create an invalid user when set to unknown value","full_description":"Importer::Company with the permission level field should create an invalid user when set to unknown value","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":793,"run_time":0.076578604,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:21:1:1]","description":"generates a dummy email address","full_description":"Importer::Company with the permission level field set to 'No Access' and no email address provided generates a dummy email address","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":753,"run_time":0.073683023,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:21:1:2]","description":"generates an email address for the practice's domain if the importing practice is whitelabelled","full_description":"Importer::Company with the permission level field set to 'No Access' and no email address provided generates an email address for the practice's domain if the importing practice is whitelabelled","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":760,"run_time":0.088772395,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:21:1:3]","description":"generates a valid dummy email address if the practice's domain is set to empty string","full_description":"Importer::Company with the permission level field set to 'No Access' and no email address provided generates a valid dummy email address if the practice's domain is set to empty string","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":770,"run_time":0.097417389,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:22:1]","description":"should store the payroll settings on the created companies payroll_settings object","full_description":"Importer::Company with payroll settings fields should store the payroll settings on the created companies payroll_settings object","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":817,"run_time":0.087769501,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:22:2]","description":"ignores blank PAYE fields so that default values get assigned","full_description":"Importer::Company with payroll settings fields ignores blank PAYE fields so that default values get assigned","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":824,"run_time":0.096881497,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:22:3]","description":"accepts PAYE Reference without a forward slash","full_description":"Importer::Company with payroll settings fields accepts PAYE Reference without a forward slash","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":834,"run_time":0.071452107,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:22:4]","description":"creates invalid payroll settings for a bad PAYE Reference","full_description":"Importer::Company with payroll settings fields creates invalid payroll settings for a bad PAYE Reference","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":843,"run_time":0.073339186,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:23:1]","description":"sets it on the imported company","full_description":"Importer::Company with the default_invoices_additional_text field sets it on the imported company","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":864,"run_time":0.079368119,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:24:1]","description":"sets it on the imported company","full_description":"Importer::Company with the corporation_tax_reference field sets it on the imported company","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":880,"run_time":0.09324336,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:25:1]","description":"sets the short date format to `dd mmm yy`","full_description":"Importer::Company with short_date_format field sets the short date format to `dd mmm yy`","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":897,"run_time":0.079389341,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:26:1]","description":"sets the subdomain if its blank","full_description":"Importer::Company with the subdomain field sets the subdomain if its blank","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":914,"run_time":0.071344966,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:26:2]","description":"doesn't override a value","full_description":"Importer::Company with the subdomain field doesn't override a value","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":922,"run_time":0.084497862,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:27:1]","description":"should fail the import","full_description":"Importer::Company when type is blank should fail the import","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":941,"run_time":0.082087137,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:28:1]","description":"should fail the import","full_description":"Importer::Company when type is set to an invalid option should fail the import","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":964,"run_time":0.066059524,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:29:1]","description":"native currency should be set to 'GBP' for type UK Limited Company","full_description":"Importer::Company when type is set to any UK company type native currency should be set to 'GBP' for type UK Limited Company","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":986,"run_time":0.07261203,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:29:2]","description":"native currency should be set to 'GBP' for type UK Limited Liability Partnership","full_description":"Importer::Company when type is set to any UK company type native currency should be set to 'GBP' for type UK Limited Liability Partnership","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":986,"run_time":0.074564157,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:29:3]","description":"native currency should be set to 'GBP' for type UK Partnership","full_description":"Importer::Company when type is set to any UK company type native currency should be set to 'GBP' for type UK Partnership","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":986,"run_time":0.071543542,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:29:4]","description":"native currency should be set to 'GBP' for type UK Sole Trader","full_description":"Importer::Company when type is set to any UK company type native currency should be set to 'GBP' for type UK Sole Trader","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":986,"run_time":0.077070706,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:29:5]","description":"native currency should be set to 'GBP' for type UK Unincorporated Landlord","full_description":"Importer::Company when type is set to any UK company type native currency should be set to 'GBP' for type UK Unincorporated Landlord","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":986,"run_time":0.069743766,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:30:1]","description":"native currency should be set to 'GBP'","full_description":"Importer::Company when type is set to Universal native currency should be set to 'GBP'","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1009,"run_time":0.082546568,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:30:2]","description":"first user's role defaults to Owner","full_description":"Importer::Company when type is set to Universal first user's role defaults to Owner","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1015,"run_time":0.087472347,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:30:3]","description":"succeeding users roles default to Employee","full_description":"Importer::Company when type is set to Universal succeeding users roles default to Employee","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1022,"run_time":0.097063146,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:31:1]","description":"first user's role defaults to Director","full_description":"Importer::Company when type is set to UK Limited Company first user's role defaults to Director","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1044,"run_time":0.095744606,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:31:2]","description":"succeeding users roles default to Director","full_description":"Importer::Company when type is set to UK Limited Company succeeding users roles default to Director","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1051,"run_time":0.078127002,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:32:1]","description":"first user's role defaults to Partner","full_description":"Importer::Company when type is set to UK Limited Liability Partnership first user's role defaults to Partner","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1073,"run_time":0.083087497,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:32:2]","description":"succeeding users roles default to Director","full_description":"Importer::Company when type is set to UK Limited Liability Partnership succeeding users roles default to Director","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1080,"run_time":0.088871716,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:33:1]","description":"first user's role defaults to Partner","full_description":"Importer::Company when type is set to UK Partnership first user's role defaults to Partner","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1102,"run_time":0.088853723,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:33:2]","description":"succeeding users roles default to Partner","full_description":"Importer::Company when type is set to UK Partnership succeeding users roles default to Partner","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1109,"run_time":0.082098495,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:34:1]","description":"first user's role defaults to Owner","full_description":"Importer::Company when type is set to UK Sole Trader first user's role defaults to Owner","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1131,"run_time":0.098524301,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:34:2]","description":"succeeding users roles default to Employee","full_description":"Importer::Company when type is set to UK Sole Trader succeeding users roles default to Employee","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1138,"run_time":0.081296447,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:35:1]","description":"first user's role defaults to Owner","full_description":"Importer::Company when type is set to UK Unincorporated Landlord first user's role defaults to Owner","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1160,"run_time":0.070479471,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:35:2]","description":"builds global ownerships and owners","full_description":"Importer::Company when type is set to UK Unincorporated Landlord builds global ownerships and owners","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1167,"run_time":0.763465492,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:36:1]","description":"is set on the created company","full_description":"Importer::Company with the initial VAT basis field is set on the created company","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1194,"run_time":0.101359165,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:36:2]","description":"causes validation error if there's an invalid value","full_description":"Importer::Company with the initial VAT basis field causes validation error if there's an invalid value","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1201,"run_time":0.089537927,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:37:1]","description":"is set on the created company","full_description":"Importer::Company with the sales tax registration status field is set on the created company","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1223,"run_time":0.10919352,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:37:2]","description":"allows 'Deregistered' as a valid value","full_description":"Importer::Company with the sales tax registration status field allows 'Deregistered' as a valid value","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1229,"run_time":0.127590757,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:37:3]","description":"defaults to not having a VAT registration","full_description":"Importer::Company with the sales tax registration status field defaults to not having a VAT registration","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1239,"run_time":0.103021083,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:37:4]","description":"never creates a sales tax period for Universal companies","full_description":"Importer::Company with the sales tax registration status field never creates a sales tax period for Universal companies","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1251,"run_time":0.096271838,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:38:1]","description":"initial VAT FRS type index defaults to 0","full_description":"Importer::Company when VAT registered initial VAT FRS type index defaults to 0","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1274,"run_time":0.093571369,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:38:2:1]","description":"is set on the created company","full_description":"Importer::Company when VAT registered with the VAT registration number field is set on the created company","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1281,"run_time":0.129929828,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:38:3:1]","description":"is set on the created company","full_description":"Importer::Company when VAT registered with the VAT registration effective date field is set on the created company","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1292,"run_time":0.127518319,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:38:4:1]","description":"is set on the created company","full_description":"Importer::Company when VAT registered with the VAT first return period ends on field is set on the created company","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1303,"run_time":0.142743869,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:38:5:1]","description":"passes validation if the FRS type is available on the FreeAgent start date","full_description":"Importer::Company when VAT registered with the FreeAgent VAT FRS Type Index field passes validation if the FRS type is available on the FreeAgent start date","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1318,"run_time":0.100153951,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:38:5:2]","description":"fails validation if the FRS type is unavailable on the FreeAgent start date","full_description":"Importer::Company when VAT registered with the FreeAgent VAT FRS Type Index field fails validation if the FRS type is unavailable on the FreeAgent start date","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1325,"run_time":0.121239393,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:38:5:3]","description":"fails validation if the FRS type does not exist","full_description":"Importer::Company when VAT registered with the FreeAgent VAT FRS Type Index field fails validation if the FRS type does not exist","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1332,"run_time":0.112874456,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:39:1:1]","description":"is set on the created company","full_description":"Importer::Company when de-registered from VAT with the VAT deregistration effective date is set on the created company","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1355,"run_time":0.106201881,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:40:1]","description":"is set on the imported company","full_description":"Importer::Company with the company start date field is set on the imported company","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1381,"run_time":0.086842594,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:41:1]","description":"is set on the imported company","full_description":"Importer::Company with the FreeAgent start date field is set on the imported company","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1401,"run_time":0.100689554,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:42:1]","description":"is set on the imported company","full_description":"Importer::Company with the first accounting year end date field is set on the imported company","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1421,"run_time":0.084034353,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:43:1]","description":"is set on the imported company","full_description":"Importer::Company with the registration number field is set on the imported company","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1441,"run_time":0.109236238,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:44:1]","description":"is set on the imported company","full_description":"Importer::Company with the cash basis field is set on the imported company","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1462,"run_time":0.110469096,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:45:1:1]","description":"is expected to be nil","full_description":"Importer::Company.adjust_vat_return_frs_types with a non-UK company is expected to be nil","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1480,"run_time":0.116833729,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:45:2:1]","description":"is expected to be nil","full_description":"Importer::Company.adjust_vat_return_frs_types with a non-VAT registered company is expected to be nil","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1486,"run_time":0.007113481,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/importer/company_spec.rb[1:45:3:1]","description":"enqueues an OverrideFRSTypeJob","full_description":"Importer::Company.adjust_vat_return_frs_types with a valid company and FRS type index enqueues an OverrideFRSTypeJob","status":"passed","file_path":"./spec/models/integrations/importer/company_spec.rb","line_number":1490,"run_time":0.006862578,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/invoice_net_off_spec.rb[1:1:1:1]","description":"returns the dated on of the reconciliation entry to which it belongs","full_description":"CreditNoteReconciliationEntry::InvoiceNetOff behaves like a credit note reconciliation entry #dated_on returns the dated on of the reconciliation entry to which it belongs","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":5,"run_time":0.53418581,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/invoice_net_off_spec.rb[1:1:2:1]","description":"returns an instance of an Accounting Engine source item","full_description":"CreditNoteReconciliationEntry::InvoiceNetOff behaves like a credit note reconciliation entry #to_source_item returns an instance of an Accounting Engine source item","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":13,"run_time":0.458374565,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/invoice_net_off_spec.rb[1:1:2:2:1]","description":"sets the type","full_description":"CreditNoteReconciliationEntry::InvoiceNetOff behaves like a credit note reconciliation entry #to_source_item on the source item sets the type","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":18,"run_time":0.44109711,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/invoice_net_off_spec.rb[1:1:2:2:2]","description":"sets the gross value","full_description":"CreditNoteReconciliationEntry::InvoiceNetOff behaves like a credit note reconciliation entry #to_source_item on the source item sets the gross value","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":22,"run_time":0.407555722,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/invoice_net_off_spec.rb[1:1:2:2:3]","description":"sets the company","full_description":"CreditNoteReconciliationEntry::InvoiceNetOff behaves like a credit note reconciliation entry #to_source_item on the source item sets the company","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":26,"run_time":0.490994303,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/invoice_net_off_spec.rb[1:1:2:2:4]","description":"sets the contact_id","full_description":"CreditNoteReconciliationEntry::InvoiceNetOff behaves like a credit note reconciliation entry #to_source_item on the source item sets the contact_id","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":30,"run_time":0.431429771,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/invoice_net_off_spec.rb[1:1:2:2:5]","description":"sets the paid_invoicable","full_description":"CreditNoteReconciliationEntry::InvoiceNetOff behaves like a credit note reconciliation entry #to_source_item on the source item sets the paid_invoicable","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":34,"run_time":0.469235467,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/invoice_net_off_spec.rb[1:1:2:2:6]","description":"sets the tax_effects","full_description":"CreditNoteReconciliationEntry::InvoiceNetOff behaves like a credit note reconciliation entry #to_source_item on the source item sets the tax_effects","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":38,"run_time":0.450447958,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/invoice_net_off_spec.rb[1:1:2:2:7]","description":"sets the native_cis_deduction","full_description":"CreditNoteReconciliationEntry::InvoiceNetOff behaves like a credit note reconciliation entry #to_source_item on the source item sets the native_cis_deduction","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":42,"run_time":0.452302195,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/invoice_net_off_spec.rb[1:1:2:2:8]","description":"sets the foreign_cis_deduction","full_description":"CreditNoteReconciliationEntry::InvoiceNetOff behaves like a credit note reconciliation entry #to_source_item on the source item sets the foreign_cis_deduction","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":46,"run_time":0.485373493,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/invoice_net_off_spec.rb[1:1:3:1:1]","description":"returns 1","full_description":"CreditNoteReconciliationEntry::InvoiceNetOff behaves like a credit note reconciliation entry #invoice_payment_fraction when netting the whole value of the invoicable returns 1","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":54,"run_time":0.474269786,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/invoice_net_off_spec.rb[1:1:3:2:1]","description":"returns 0.5","full_description":"CreditNoteReconciliationEntry::InvoiceNetOff behaves like a credit note reconciliation entry #invoice_payment_fraction when netting the part of the value returns 0.5","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":62,"run_time":0.463895895,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/invoice_net_off_spec.rb[1:1:4:1:1:1]","description":"returns 0","full_description":"CreditNoteReconciliationEntry::InvoiceNetOff behaves like a credit note reconciliation entry CIS #native_cis_deducted_portion_of_invoice_receipt for a credit note without CIS line items returns 0","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":85,"run_time":0.542804255,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/invoice_net_off_spec.rb[1:1:4:1:2:1]","description":"returns the value of the credit note deducted for CIS, in the company's native currency","full_description":"CreditNoteReconciliationEntry::InvoiceNetOff behaves like a credit note reconciliation entry CIS #native_cis_deducted_portion_of_invoice_receipt for reconciliation belonging to a foreign currency invoice with CIS line items returns the value of the credit note deducted for CIS, in the company's native currency","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":104,"run_time":0.596078918,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/invoice_net_off_spec.rb[1:1:4:2:1:1]","description":"returns 0","full_description":"CreditNoteReconciliationEntry::InvoiceNetOff behaves like a credit note reconciliation entry CIS #cis_deducted_portion_of_invoice_receipt for a credit note without CIS line items returns 0","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":116,"run_time":0.5029329,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/invoice_net_off_spec.rb[1:1:4:2:2:1]","description":"returns the value of the credit note deducted for CIS, in the invoice's currency","full_description":"CreditNoteReconciliationEntry::InvoiceNetOff behaves like a credit note reconciliation entry CIS #cis_deducted_portion_of_invoice_receipt for reconciliation belonging to a foreign currency invoice with CIS line items returns the value of the credit note deducted for CIS, in the invoice's currency","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":133,"run_time":0.560906914,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/invoice_net_off_spec.rb[1:1:5:1]","description":"returns the EC status of the invoicable","full_description":"CreditNoteReconciliationEntry::InvoiceNetOff behaves like a credit note reconciliation entry #ec_status returns the EC status of the invoicable","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":153,"run_time":0.528199878,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/invoice_net_off_spec.rb[1:1:5:2:1]","description":"returns the EC status of the invoicable","full_description":"CreditNoteReconciliationEntry::InvoiceNetOff behaves like a credit note reconciliation entry #ec_status with invoicable that is tagged as EC Services returns the EC status of the invoicable","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":160,"run_time":1.231372903,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/invoice_net_off_spec.rb[1:1:5:3:1]","description":"returns the EC status of the invoicable","full_description":"CreditNoteReconciliationEntry::InvoiceNetOff behaves like a credit note reconciliation entry #ec_status with invoicable that is tagged as EC Goods returns the EC status of the invoicable","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":176,"run_time":0.550932671,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/invoice_net_off_spec.rb[1:1:5:4:1]","description":"returns the EC status of the invoicable","full_description":"CreditNoteReconciliationEntry::InvoiceNetOff behaves like a credit note reconciliation entry #ec_status with invoicable that is tagged as VAT MOSS returns the EC status of the invoicable","status":"passed","file_path":"./spec/support/shared_examples/credit_note_reconciliation_entry_shared_example.rb","line_number":201,"run_time":0.517796109,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/invoice_net_off_spec.rb[1:2:1]","description":"returns the invoice that the reconciliation entry is netting off","full_description":"CreditNoteReconciliationEntry::InvoiceNetOff#invoicable returns the invoice that the reconciliation entry is netting off","status":"passed","file_path":"./spec/models/credit_note_reconciliation_entry/invoice_net_off_spec.rb","line_number":25,"run_time":0.453721331,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/invoice_net_off_spec.rb[1:3:1]","description":"returns false","full_description":"CreditNoteReconciliationEntry::InvoiceNetOff#credit_note_net_off? returns false","status":"passed","file_path":"./spec/models/credit_note_reconciliation_entry/invoice_net_off_spec.rb","line_number":31,"run_time":0.452388731,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_note_reconciliation_entry/invoice_net_off_spec.rb[1:4:1]","description":"returns true","full_description":"CreditNoteReconciliationEntry::InvoiceNetOff#invoice_net_off? returns true","status":"passed","file_path":"./spec/models/credit_note_reconciliation_entry/invoice_net_off_spec.rb","line_number":37,"run_time":0.487372775,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:1:1]","description":"renders the old_status_bar template","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is disabled renders the old_status_bar template","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":27,"run_time":0.107419611,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:1:1:1]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a draft state and the credit note has no line items is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":48,"run_time":0.101454432,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:1:1:2]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a draft state and the credit note has no line items is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":49,"run_time":0.086231679,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:1:1:3]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eRefunded\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a draft state and the credit note has no line items is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eRefunded\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":50,"run_time":0.097404489,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:1:2:1]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a draft state and the credit note has a positive total value is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":58,"run_time":0.110420209,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:1:2:2]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a draft state and the credit note has a positive total value is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":59,"run_time":0.102206031,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:1:2:3]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eRefunded\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a draft state and the credit note has a positive total value is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eRefunded\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":60,"run_time":0.089092689,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:1:3:1]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a draft state and the user is not permitted to manage credit notes and the credit note is sendable is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":70,"run_time":0.11267908,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:1:3:2]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a draft state and the user is not permitted to manage credit notes and the credit note is sendable is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":71,"run_time":0.109306994,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:1:3:3]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eRefunded\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a draft state and the user is not permitted to manage credit notes and the credit note is sendable is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eRefunded\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":72,"run_time":0.110065018,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:1:4:1]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a draft state and the credit note has a negative total value is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":80,"run_time":0.093363347,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:1:4:2]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click...e-link-on-click-target=\\\"disable\\\" data-method=\\\"put\\\" data-turbo=\\\"false\\\"\u003eMark as Sent\u003c/a\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a draft state and the credit note has a negative total value is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click...e-link-on-click-target=\\\"disable\\\" data-method=\\\"put\\\" data-turbo=\\\"false\\\"\u003eMark as Sent\u003c/a\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":81,"run_time":0.099573229,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:1:4:3]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eRefunded\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a draft state and the credit note has a negative total value is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eRefunded\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":91,"run_time":0.105874616,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:2:1:1]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003ca class=\\\"fe-Statu...ble-link-on-click-target=\\\"disable\\\" data-method=\\\"put\\\" data-turbo=\\\"false\\\"\u003eMake Draft\u003c/a\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a sent state and the credit note has no payments is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003ca class=\\\"fe-Statu...ble-link-on-click-target=\\\"disable\\\" data-method=\\\"put\\\" data-turbo=\\\"false\\\"\u003eMake Draft\u003c/a\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":101,"run_time":0.114370598,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:2:1:2]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a sent state and the credit note has no payments is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":110,"run_time":0.090355221,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:2:1:3]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eRefunded\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a sent state and the credit note has no payments is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eRefunded\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":111,"run_time":0.12146907,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:2:2:1]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a sent state and the user does not have permission to manage credit notes is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":120,"run_time":0.115494873,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:2:2:2]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a sent state and the user does not have permission to manage credit notes is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":121,"run_time":0.114375075,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:2:2:3]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eRefunded\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a sent state and the user does not have permission to manage credit notes is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eRefunded\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":122,"run_time":0.10205954,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:2:3:1]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a sent state and the credit note is part refunded is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":130,"run_time":0.398136392,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:2:3:2]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a sent state and the credit note is part refunded is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":131,"run_time":0.356531105,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:2:3:3]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eRefunded\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is in a sent state and the credit note is part refunded is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--pending\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eRefunded\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":132,"run_time":0.331214506,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:3:1]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is refunded with a bank transaction is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":156,"run_time":0.36797375,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:3:2]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is refunded with a bank transaction is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":157,"run_time":0.427584945,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:3:3]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\...isable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eRefunded on 05 Apr 20\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is refunded with a bank transaction is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\...isable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eRefunded on 05 Apr 20\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":158,"run_time":0.367733905,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:4:1]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is fully applied against an invoice is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":195,"run_time":0.455889565,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:4:2]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is fully applied against an invoice is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":196,"run_time":0.461321155,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:4:3]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\...click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eApplied against invoice on 05 Mar 20\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is fully applied against an invoice is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\...click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eApplied against invoice on 05 Mar 20\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":197,"run_time":0.521276143,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:5:1]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is cancelled is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":211,"run_time":0.101482134,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:5:2]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is cancelled is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":212,"run_time":0.101055213,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:5:3]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\...on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eUnpaid - Written-off on 05 Mar 20\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is cancelled is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\...on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eUnpaid - Written-off on 05 Mar 20\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":213,"run_time":0.095634149,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:6:1]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is part-cancelled is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eDraft\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":254,"run_time":0.507744783,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:6:2]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is part-cancelled is expected to include \"\u003cli class=\\\"fe-StatusBar-state\\\" data-controller=\\\"disable-link-on-click\\\"\u003e\\n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003eSent\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":255,"run_time":0.499371958,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:6:3]","description":"is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\...n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003ePart Paid - -£199.00 written-off on 05 Mar 20\u003c/span\u003e\\n\u003c/li\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when the credit note is part-cancelled is expected to include \"\u003cli class=\\\"fe-StatusBar-state fe-StatusBar-state--current\\\" aria-current=\\\"step\\\" data-controller=\\...n    \u003cspan class=\\\"fe-StatusBar-label\\\"\u003ePart Paid - -£199.00 written-off on 05 Mar 20\u003c/span\u003e\\n\u003c/li\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":256,"run_time":0.912468673,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:7:1:1]","description":"is expected not to include \"Actions\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled apply invoice action and there are no actions to display is expected not to include \"Actions\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":267,"run_time":0.247465265,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:7:2:1]","description":"is expected to include \"\u003ca title=\\\"Apply to invoice\\\" class=\\\"fe-ActionList-item\\\" tabindex=\\\"-1\\\" data-remote=\\\"true\\\" href=\\\"/invoices/66/credit_note_reconciliations/new\\\"\u003eApply to invoice\u003c/a\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled apply invoice action and the credit note can be reconciled with an invoice is expected to include \"\u003ca title=\\\"Apply to invoice\\\" class=\\\"fe-ActionList-item\\\" tabindex=\\\"-1\\\" data-remote=\\\"true\\\" href=\\\"/invoices/66/credit_note_reconciliations/new\\\"\u003eApply to invoice\u003c/a\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":285,"run_time":0.267946927,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:7:3:1]","description":"is expected not to include \"Apply to invoice\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled apply invoice action and credit_note_reconciliations feature switch is disabled is expected not to include \"Apply to invoice\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":313,"run_time":0.293446068,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:7:4:1]","description":"is expected not to include \"Apply to invoice\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled apply invoice action and the credit note is not sent is expected not to include \"Apply to invoice\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":331,"run_time":0.152140999,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:7:5:1]","description":"is expected not to include \"Apply to invoice\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled apply invoice action and the user cannot manage bank account entries is expected not to include \"Apply to invoice\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":350,"run_time":0.189065745,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:7:6:1]","description":"is expected not to include \"Apply to invoice\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled apply invoice action and the contact does not have any invoices in the same currency is expected not to include \"Apply to invoice\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":374,"run_time":0.206412505,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:8:1:1]","description":"is expected to include \"\u003ca data-turbo=\\\"false\\\" separator=\\\"true\\\" title=\\\"Add manual bank transaction\\\" class=\\\"fe-ActionLi...tionList-item--separator\\\" tabindex=\\\"-1\\\" href=\\\"/invoices/1/pay\\\"\u003eAdd manual bank transaction\u003c/a\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled add manual bank transaction action and the credit note is payable is expected to include \"\u003ca data-turbo=\\\"false\\\" separator=\\\"true\\\" title=\\\"Add manual bank transaction\\\" class=\\\"fe-ActionLi...tionList-item--separator\\\" tabindex=\\\"-1\\\" href=\\\"/invoices/1/pay\\\"\u003eAdd manual bank transaction\u003c/a\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":384,"run_time":0.103653102,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:8:2:1]","description":"is expected not to include \"Add manual bank transaction\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled add manual bank transaction action and the credit note is not payable is expected not to include \"Add manual bank transaction\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":403,"run_time":0.387466929,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:8:3:1]","description":"is expected not to include \"Add manual bank transaction\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled add manual bank transaction action and the user does not have permissions to create bank account entries is expected not to include \"Add manual bank transaction\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":412,"run_time":0.118603995,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:9:1:1]","description":"is expected to include \"\u003ca data-method=\\\"put\\\" data-turbo=\\\"false\\\" title=\\\"Reopen\\\" class=\\\"fe-ActionList-item\\\" tabindex=\\\"-1\\\" href=\\\"/invoices/1/status/mark_as_sent\\\"\u003eReopen\u003c/a\u003e\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when displaying reopen action and the credit note is reopenable is expected to include \"\u003ca data-method=\\\"put\\\" data-turbo=\\\"false\\\" title=\\\"Reopen\\\" class=\\\"fe-ActionList-item\\\" tabindex=\\\"-1\\\" href=\\\"/invoices/1/status/mark_as_sent\\\"\u003eReopen\u003c/a\u003e\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":422,"run_time":0.101358644,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:9:2:1]","description":"is expected not to include \"Reopen\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when displaying reopen action and the credit note is not reopenable is expected not to include \"Reopen\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":440,"run_time":0.099197616,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/credit_note_status_bar_helper_spec.rb[1:1:2:9:3:1]","description":"is expected not to include \"Reopen\"","full_description":"CreditNoteStatusBarHelper#credit_note_status_bar when the feature invoice_new_status_bar is enabled when displaying reopen action and the user does not have permissions to manage credit notes is expected not to include \"Reopen\"","status":"passed","file_path":"./spec/helpers/credit_note_status_bar_helper_spec.rb","line_number":449,"run_time":0.185194517,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:1:1:1]","description":"does not render the reminder buttons","full_description":"InvoiceReminderActionsHelper#invoice_reminder_header_actions when the company is not confirmed does not render the reminder buttons","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":20,"run_time":0.120733101,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:1:2:1]","description":"does not render the reminder buttons","full_description":"InvoiceReminderActionsHelper#invoice_reminder_header_actions when the invoice is a credit note does not render the reminder buttons","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":32,"run_time":0.025363336,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:1:3:1]","description":"does not render the reminder buttons","full_description":"InvoiceReminderActionsHelper#invoice_reminder_header_actions when the invoice is draft does not render the reminder buttons","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":43,"run_time":0.094438987,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:1:4:1]","description":"does not render the reminder buttons","full_description":"InvoiceReminderActionsHelper#invoice_reminder_header_actions when the invoice is paid does not render the reminder buttons","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":53,"run_time":0.330196318,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:1:5:1:1]","description":"is expected to eql \"\"","full_description":"InvoiceReminderActionsHelper#invoice_reminder_header_actions when the invoice is sent when the invoice has an auto reminder set is expected to eql \"\"","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":64,"run_time":0.030017765,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:1:5:2:1]","description":"does not render the reminder buttons","full_description":"InvoiceReminderActionsHelper#invoice_reminder_header_actions when the invoice is sent when the invoice does not have a reminder set does not render the reminder buttons","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":72,"run_time":0.031903437,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:1:6:1:1]","description":"does not render the reminder buttons","full_description":"InvoiceReminderActionsHelper#invoice_reminder_header_actions when the invoice is overdue when the user has reached their daily email limit does not render the reminder buttons","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":94,"run_time":2.010844063,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:1:6:2:1:1]","description":"renders the reminder buttons","full_description":"InvoiceReminderActionsHelper#invoice_reminder_header_actions when the invoice is overdue when the invoice does not have a reminder set when the company does not have a quick send reminder template renders the reminder buttons","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":105,"run_time":0.054255646,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:1:6:2:2:1]","description":"renders the reminder buttons","full_description":"InvoiceReminderActionsHelper#invoice_reminder_header_actions when the invoice is overdue when the invoice does not have a reminder set when the company has a quick send reminder template renders the reminder buttons","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":123,"run_time":0.233100169,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:1:6:2:2:2:1]","description":"renders the correct url","full_description":"InvoiceReminderActionsHelper#invoice_reminder_header_actions when the invoice is overdue when the invoice does not have a reminder set when the company has a quick send reminder template when the company has blocked emails that belong to the contact renders the correct url","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":139,"run_time":0.215937089,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:1:6:2:2:3:1]","description":"renders the correct url","full_description":"InvoiceReminderActionsHelper#invoice_reminder_header_actions when the invoice is overdue when the invoice does not have a reminder set when the company has a quick send reminder template when the company has blocked emails that don't belong to the contact renders the correct url","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":157,"run_time":0.223561146,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:1:6:2:2:4:1]","description":"renders the correct email on the modal","full_description":"InvoiceReminderActionsHelper#invoice_reminder_header_actions when the invoice is overdue when the invoice does not have a reminder set when the company has a quick send reminder template when the company has bounced emails that belong to the contact renders the correct email on the modal","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":176,"run_time":0.207203791,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:1:6:2:2:5:1]","description":"renders no modal","full_description":"InvoiceReminderActionsHelper#invoice_reminder_header_actions when the invoice is overdue when the invoice does not have a reminder set when the company has a quick send reminder template when the company has bounced emails that don't belong to the contact renders no modal","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":190,"run_time":0.239128724,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:1:6:2:2:6:1]","description":"does not render the Send now buttons","full_description":"InvoiceReminderActionsHelper#invoice_reminder_header_actions when the invoice is overdue when the invoice does not have a reminder set when the company has a quick send reminder template when the contact has no email address does not render the Send now buttons","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":207,"run_time":0.215064649,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:1:6:2:3:1]","description":"is expected to have text \"Sending...\"","full_description":"InvoiceReminderActionsHelper#invoice_reminder_header_actions when the invoice is overdue when the invoice does not have a reminder set when the invoice has a reminder email being sent is expected to have text \"Sending...\"","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":233,"run_time":0.310292715,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:1:6:2:4:1:1]","description":"is expected to have text \"Send reminder\"","full_description":"InvoiceReminderActionsHelper#invoice_reminder_header_actions when the invoice is overdue when the invoice does not have a reminder set when the invoice had a reminder sent when the recipient email has been sent is expected to have text \"Send reminder\"","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":257,"run_time":0.34192815,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:1:6:2:5:1]","description":"does not render the Send now buttons","full_description":"InvoiceReminderActionsHelper#invoice_reminder_header_actions when the invoice is overdue when the invoice does not have a reminder set when the contact has no email address does not render the Send now buttons","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":273,"run_time":0.221030138,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:1:6:3:1]","description":"is expected to have text \"Send reminder\"","full_description":"InvoiceReminderActionsHelper#invoice_reminder_header_actions when the invoice is overdue when the invoice has a reminder set is expected to have text \"Send reminder\"","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":287,"run_time":0.044620172,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:1:7:1]","description":"applies analytics to the actions","full_description":"InvoiceReminderActionsHelper#invoice_reminder_header_actions analytics applies analytics to the actions","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":308,"run_time":0.228885074,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:2:1:1]","description":"does not render the reminder buttons","full_description":"InvoiceReminderActionsHelper#invoice_reminder_actions when the company is not confirmed does not render the reminder buttons","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":326,"run_time":0.116559563,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:2:2:1]","description":"does not render the reminder buttons","full_description":"InvoiceReminderActionsHelper#invoice_reminder_actions when the invoice is a credit note does not render the reminder buttons","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":338,"run_time":0.025994165,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:2:3:1]","description":"does not render the reminder buttons","full_description":"InvoiceReminderActionsHelper#invoice_reminder_actions when the invoice is draft does not render the reminder buttons","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":349,"run_time":0.35422991,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:2:4:1]","description":"does not render the reminder buttons","full_description":"InvoiceReminderActionsHelper#invoice_reminder_actions when the invoice is paid does not render the reminder buttons","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":359,"run_time":0.793184824,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:2:5:1:1]","description":"is expected to have text \"Auto-reminders active\"","full_description":"InvoiceReminderActionsHelper#invoice_reminder_actions when the invoice is sent when the invoice has an auto reminder set is expected to have text \"Auto-reminders active\"","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":370,"run_time":0.039857976,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:2:5:2:1]","description":"does not render the reminder buttons","full_description":"InvoiceReminderActionsHelper#invoice_reminder_actions when the invoice is sent when the invoice does not have a reminder set does not render the reminder buttons","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":378,"run_time":0.042000613,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:2:6:1:1]","description":"does not render the reminder buttons","full_description":"InvoiceReminderActionsHelper#invoice_reminder_actions when the invoice is overdue when the user has reached their daily email limit does not render the reminder buttons","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":404,"run_time":2.035426782,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:2:6:2:1:1]","description":"renders the reminder buttons","full_description":"InvoiceReminderActionsHelper#invoice_reminder_actions when the invoice is overdue when the invoice does not have a reminder set when the company does not have a quick send reminder template renders the reminder buttons","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":419,"run_time":0.047190632,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:2:6:2:2:1]","description":"renders the reminder buttons","full_description":"InvoiceReminderActionsHelper#invoice_reminder_actions when the invoice is overdue when the invoice does not have a reminder set when the company has a quick send reminder template renders the reminder buttons","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":444,"run_time":0.212491952,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:2:6:2:2:2:1]","description":"adds the action to show the modal","full_description":"InvoiceReminderActionsHelper#invoice_reminder_actions when the invoice is overdue when the invoice does not have a reminder set when the company has a quick send reminder template when there are hard bounced emails and no blocked emails adds the action to show the modal","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":460,"run_time":0.211990785,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:2:6:2:3:1]","description":"is expected to have text \"Sending...\"","full_description":"InvoiceReminderActionsHelper#invoice_reminder_actions when the invoice is overdue when the invoice does not have a reminder set when the invoice has a reminder email being sent is expected to have text \"Sending...\"","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":483,"run_time":0.316565152,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:2:6:2:4:1:1]","description":"is expected to have text \"Reminder sent\"","full_description":"InvoiceReminderActionsHelper#invoice_reminder_actions when the invoice is overdue when the invoice does not have a reminder set when the invoice had a reminder sent in the last 24 hours when the recipient email has been sent is expected to have text \"Reminder sent\"","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":513,"run_time":0.418802765,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:2:6:2:4:2:1]","description":"is expected to have text \"Reminder sent\"","full_description":"InvoiceReminderActionsHelper#invoice_reminder_actions when the invoice is overdue when the invoice does not have a reminder set when the invoice had a reminder sent in the last 24 hours when the recipient email has been delivered is expected to have text \"Reminder sent\"","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":529,"run_time":0.424882153,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:2:6:2:5:1]","description":"displays the send reminder button","full_description":"InvoiceReminderActionsHelper#invoice_reminder_actions when the invoice is overdue when the invoice does not have a reminder set when the invoice has a reminder sent more than 24 hours ago displays the send reminder button","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":558,"run_time":0.29077398,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:2:6:3:1]","description":"is expected to have text \"Auto-reminders active\"","full_description":"InvoiceReminderActionsHelper#invoice_reminder_actions when the invoice is overdue when the invoice has a reminder set is expected to have text \"Auto-reminders active\"","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":569,"run_time":0.046851918,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:2:7:1]","description":"applies analytics to the actions","full_description":"InvoiceReminderActionsHelper#invoice_reminder_actions analytics applies analytics to the actions","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":594,"run_time":0.22822941,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:3:1:1]","description":"shows the modal","full_description":"InvoiceReminderActionsHelper#reminder_actions_show_bounced_modal? when there are hard bounced emails and no blocked emails shows the modal","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":605,"run_time":0.009506091,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:3:2:1]","description":"shows the modal","full_description":"InvoiceReminderActionsHelper#reminder_actions_show_bounced_modal? when there are hard bounced emails and blocked emails shows the modal","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":611,"run_time":0.008625236,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:3:3:1]","description":"shows the modal","full_description":"InvoiceReminderActionsHelper#reminder_actions_show_bounced_modal? when there are no hard bounced emails and blocked emails shows the modal","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":617,"run_time":0.008810808,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:4:1:1]","description":"links to the reminder email preview page","full_description":"InvoiceReminderActionsHelper#reminder_actions_send_now_url when there are blocked emails links to the reminder email preview page","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":627,"run_time":0.017498285,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:4:2:1]","description":"links to the send_reminder_emails_controller","full_description":"InvoiceReminderActionsHelper#reminder_actions_send_now_url when there are no blocked emails links to the send_reminder_emails_controller","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":633,"run_time":0.016441642,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:5:1:1]","description":"returns an empty hash","full_description":"InvoiceReminderActionsHelper#reminder_actions_send_now_options when there are both bounced and blocked emails returns an empty hash","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":641,"run_time":0.008866424,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:5:2:1]","description":"returns a hash with the data-action","full_description":"InvoiceReminderActionsHelper#reminder_actions_send_now_options when there are bounced emails, but no blocked ones returns a hash with the data-action","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":647,"run_time":0.008468573,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/invoice_reminder_actions_helper_spec.rb[1:5:3:1]","description":"returns a hash with the method","full_description":"InvoiceReminderActionsHelper#reminder_actions_send_now_options when there are no bounced or blocked emails returns a hash with the method","status":"passed","file_path":"./spec/helpers/invoice_reminder_actions_helper_spec.rb","line_number":653,"run_time":0.010759286,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb[1:1:1]","description":"renders the walkthrough page","full_description":"Accounting::OpeningBalancesImportsController#new renders the walkthrough page","status":"passed","file_path":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb","line_number":18,"run_time":0.267088662,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb[1:2:1:1]","description":"creates an import and redirects to the show page","full_description":"Accounting::OpeningBalancesImportsController#create with a valid CSV file creates an import and redirects to the show page","status":"passed","file_path":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb","line_number":34,"run_time":0.255392278,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb[1:2:1:2]","description":"publishes the opening balances import started event","full_description":"Accounting::OpeningBalancesImportsController#create with a valid CSV file publishes the opening balances import started event","status":"passed","file_path":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb","line_number":44,"run_time":0.234657395,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb[1:2:2:1]","description":"shows a flash error and redirects to the walkthrough page","full_description":"Accounting::OpeningBalancesImportsController#create when the import record cannot be saved shows a flash error and redirects to the walkthrough page","status":"passed","file_path":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb","line_number":54,"run_time":0.261764033,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb[1:2:3:1]","description":"shows a flash error and redirects to the walkthrough page","full_description":"Accounting::OpeningBalancesImportsController#create when the opening balances journal set is locked shows a flash error and redirects to the walkthrough page","status":"passed","file_path":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb","line_number":67,"run_time":0.236738829,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb[1:2:4:1]","description":"shows a flash error and redirects to the walkthrough page","full_description":"Accounting::OpeningBalancesImportsController#create with no file shows a flash error and redirects to the walkthrough page","status":"passed","file_path":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb","line_number":78,"run_time":0.19551154,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb[1:3:1:1]","description":"renders the show page","full_description":"Accounting::OpeningBalancesImportsController#show when the import is in progress renders the show page","status":"passed","file_path":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb","line_number":93,"run_time":0.31843929,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb[1:3:2:1]","description":"redirects to the edit page","full_description":"Accounting::OpeningBalancesImportsController#show when the import has been processed redirects to the edit page","status":"passed","file_path":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb","line_number":105,"run_time":0.234000591,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb[1:3:3:1]","description":"redirects to the walkthrough page","full_description":"Accounting::OpeningBalancesImportsController#show when the import has completed redirects to the walkthrough page","status":"passed","file_path":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb","line_number":116,"run_time":0.249821822,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb[1:3:4:1]","description":"redirects to the walkthrough page","full_description":"Accounting::OpeningBalancesImportsController#show when the import has errors, no import items, and has been viewed redirects to the walkthrough page","status":"passed","file_path":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb","line_number":128,"run_time":0.265645052,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb[1:4:1:1]","description":"marks the import as viewed and renders the edit view","full_description":"Accounting::OpeningBalancesImportsController#edit with an invalid file which has not created any import items marks the import as viewed and renders the edit view","status":"passed","file_path":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb","line_number":142,"run_time":0.334594461,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb[1:4:1:2:1]","description":"redirects to the walkthrough page","full_description":"Accounting::OpeningBalancesImportsController#edit with an invalid file which has not created any import items when the import has been viewed redirects to the walkthrough page","status":"passed","file_path":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb","line_number":154,"run_time":0.264338699,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb[1:4:2:1]","description":"marks the import as in review and renders the edit view","full_description":"Accounting::OpeningBalancesImportsController#edit with a valid import that has import items marks the import as in review and renders the edit view","status":"passed","file_path":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb","line_number":181,"run_time":0.713505413,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb[1:4:2:2:1]","description":"redirects to the walkthrough page","full_description":"Accounting::OpeningBalancesImportsController#edit with a valid import that has import items when the import has completed redirects to the walkthrough page","status":"passed","file_path":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb","line_number":195,"run_time":0.548116941,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb[1:5:1:1]","description":"updates the journal set, marks the import as completed and redirects","full_description":"Accounting::OpeningBalancesImportsController#update when the Journal Set update succeeds updates the journal set, marks the import as completed and redirects","status":"passed","file_path":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb","line_number":226,"run_time":0.562372249,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb[1:5:1:2]","description":"publishes the opening balances import completed event","full_description":"Accounting::OpeningBalancesImportsController#update when the Journal Set update succeeds publishes the opening balances import completed event","status":"passed","file_path":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb","line_number":236,"run_time":0.506241722,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb[1:5:2:1]","description":"renders the edit view","full_description":"Accounting::OpeningBalancesImportsController#update when the Journal Set update fails renders the edit view","status":"passed","file_path":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb","line_number":242,"run_time":0.422378302,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb[1:6:1:1]","description":"destroys the import and redirects to the opening balances index page","full_description":"Accounting::OpeningBalancesImportsController#destroy when the import can be destroyed destroys the import and redirects to the opening balances index page","status":"passed","file_path":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb","line_number":254,"run_time":0.274810839,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb[1:6:2:1]","description":"does not destroy the import but shows an error message and renders the edit view","full_description":"Accounting::OpeningBalancesImportsController#destroy when something prevents the import from being destroyed does not destroy the import but shows an error message and renders the edit view","status":"passed","file_path":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb","line_number":268,"run_time":0.36288374,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb[1:7:1]","description":"updates the imported items","full_description":"Accounting::OpeningBalancesImportsController#confirm_update updates the imported items","status":"passed","file_path":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb","line_number":297,"run_time":0.467152305,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb[1:7:2:1:1]","description":"leaves the guessed flag set to true","full_description":"Accounting::OpeningBalancesImportsController#confirm_update when the code was guessed and the user does not change the code leaves the guessed flag set to true","status":"passed","file_path":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb","line_number":323,"run_time":0.410580218,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb[1:7:2:2:1]","description":"sets the guessed flag to false","full_description":"Accounting::OpeningBalancesImportsController#confirm_update when the code was guessed and the user changes the code sets the guessed flag to false","status":"passed","file_path":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb","line_number":335,"run_time":0.492988442,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb[1:7:3:1]","description":"creates a new ImportedItem record","full_description":"Accounting::OpeningBalancesImportsController#confirm_update when the attributes contain a new row creates a new ImportedItem record","status":"passed","file_path":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb","line_number":357,"run_time":0.462832618,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb[1:7:4:1]","description":"destroys the matching ImportedItem record","full_description":"Accounting::OpeningBalancesImportsController#confirm_update when the attributes contain a row marked for deletion destroys the matching ImportedItem record","status":"passed","file_path":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb","line_number":377,"run_time":0.462134199,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb[1:7:5:1]","description":"re-renders the form","full_description":"Accounting::OpeningBalancesImportsController#confirm_update when the attributes do not pass validation for a Journal Set re-renders the form","status":"passed","file_path":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb","line_number":390,"run_time":0.477444545,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb[1:7:6:1:1:1]","description":"updates the Journal Entries, marks the import as completed and redirects","full_description":"Accounting::OpeningBalancesImportsController#confirm_update when the attributes pass validation for a Journal Set when opening balances have been provided for all bank accounts when there are no existing opening balances updates the Journal Entries, marks the import as completed and redirects","status":"passed","file_path":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb","line_number":414,"run_time":0.548336891,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb[1:7:6:1:2:1]","description":"does not update the Journal Entries","full_description":"Accounting::OpeningBalancesImportsController#confirm_update when the attributes pass validation for a Journal Set when opening balances have been provided for all bank accounts when there are existing opening balances does not update the Journal Entries","status":"passed","file_path":"./spec/controllers/accounting/opening_balances_imports_controller_spec.rb","line_number":435,"run_time":0.506164038,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:1:1]","description":"returns a button if payroll can be prepared","full_description":"Payroll::PayrollHelper#prepare_payroll_period_button returns a button if payroll can be prepared","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":26,"run_time":0.194260777,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:1:2]","description":"returns nothing if payroll cannot be prepared","full_description":"Payroll::PayrollHelper#prepare_payroll_period_button returns nothing if payroll cannot be prepared","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":30,"run_time":0.120838187,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:1:3]","description":"returns nothing if the next period is in another year","full_description":"Payroll::PayrollHelper#prepare_payroll_period_button returns nothing if the next period is in another year","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":35,"run_time":0.233586231,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:2:1]","description":"returns nothing","full_description":"Payroll::PayrollHelper#auto_migrate_payroll_profiles_button returns nothing","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":56,"run_time":0.099896266,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:2:2:1]","description":"returns nothing","full_description":"Payroll::PayrollHelper#auto_migrate_payroll_profiles_button when the payroll year status is migrating returns nothing","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":63,"run_time":0.09774724,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:2:2:2:1]","description":"returns a button","full_description":"Payroll::PayrollHelper#auto_migrate_payroll_profiles_button when the payroll year status is migrating when the state can auto migrate profiles returns a button","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":70,"run_time":0.097279292,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:2:2:2:2:1]","description":"returns a button","full_description":"Payroll::PayrollHelper#auto_migrate_payroll_profiles_button when the payroll year status is migrating when the state can auto migrate profiles from 2020/21 onwards returns a button","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":77,"run_time":0.087475398,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:2:2:2:2:2:1]","description":"returns nothing","full_description":"Payroll::PayrollHelper#auto_migrate_payroll_profiles_button when the payroll year status is migrating when the state can auto migrate profiles from 2020/21 onwards if the user claims employment allowance returns nothing","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":86,"run_time":0.149427547,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:2:2:2:2:2:2:1]","description":"returns a button","full_description":"Payroll::PayrollHelper#auto_migrate_payroll_profiles_button when the payroll year status is migrating when the state can auto migrate profiles from 2020/21 onwards if the user claims employment allowance if the user makes a selection for economic activity returns a button","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":95,"run_time":0.210078526,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:3:1]","description":"returns an appropriate HTML element with the correct controller configuration","full_description":"Payroll::PayrollHelper#payroll_overview_polling_tag returns an appropriate HTML element with the correct controller configuration","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":115,"run_time":0.218491879,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:3:2:1]","description":"does not include the current state","full_description":"Payroll::PayrollHelper#payroll_overview_polling_tag when the omit_current_state flag is set does not include the current state","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":130,"run_time":0.197880494,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:4:1]","description":"shows links when there is only a director","full_description":"Payroll::PayrollHelper#show_payroll_links for a direct company shows links when there is only a director","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":147,"run_time":0.152364964,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:4:2:1]","description":"does not show links when there is only an owner","full_description":"Payroll::PayrollHelper#show_payroll_links for a direct company when there is only an owner does not show links when there is only an owner","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":154,"run_time":0.229757138,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:4:2:2]","description":"shows links when there is only an owner but the owner has a payslip","full_description":"Payroll::PayrollHelper#show_payroll_links for a direct company when there is only an owner shows links when there is only an owner but the owner has a payslip","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":158,"run_time":0.437787982,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:5:1]","description":"does not show links when there is only a director","full_description":"Payroll::PayrollHelper#show_payroll_links for a MAF company does not show links when there is only a director","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":166,"run_time":0.090180363,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:5:2:1]","description":"does not show links","full_description":"Payroll::PayrollHelper#show_payroll_links for a MAF company when there is only an owner does not show links","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":175,"run_time":0.094993038,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:5:2:2]","description":"shows links when the owner has a payslip","full_description":"Payroll::PayrollHelper#show_payroll_links for a MAF company when there is only an owner shows links when the owner has a payslip","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":181,"run_time":0.138812167,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:6:2]","description":"returns the payroll redirect path when rti is enabled","full_description":"Payroll::PayrollHelper#payroll_navigation_path returns the payroll redirect path when rti is enabled","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":205,"run_time":0.09916384,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:6:1:1]","description":"returns the payroll_default_path","full_description":"Payroll::PayrollHelper#payroll_navigation_path when rti is disabled returns the payroll_default_path","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":200,"run_time":0.091591702,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:7:2]","description":"returns the payroll redirect path when rti is enabled","full_description":"Payroll::PayrollHelper#payroll_navigation_url returns the payroll redirect path when rti is enabled","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":226,"run_time":0.112555761,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:7:1:1]","description":"returns the payroll_default_url","full_description":"Payroll::PayrollHelper#payroll_navigation_url when rti is disabled returns the payroll_default_url","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":221,"run_time":0.111844965,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:8:1]","description":"returns number sequentially on each call","full_description":"Payroll::PayrollHelper counting #workflow_step_number classes returns number sequentially on each call","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":233,"run_time":0.106502709,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:9:1:1]","description":"handles unfiled periods","full_description":"Payroll::PayrollHelper payroll period title with status monthly periods handles unfiled periods","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":252,"run_time":0.091544264,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:9:1:2]","description":"handles rejected periods","full_description":"Payroll::PayrollHelper payroll period title with status monthly periods handles rejected periods","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":257,"run_time":0.09510798,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:9:1:3]","description":"handles pending periods","full_description":"Payroll::PayrollHelper payroll period title with status monthly periods handles pending periods","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":262,"run_time":0.107918745,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:9:1:4]","description":"handles filed periods","full_description":"Payroll::PayrollHelper payroll period title with status monthly periods handles filed periods","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":267,"run_time":0.093299861,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:10:1]","description":"is Additional Statutory Paternity Pay before 2015/16","full_description":"Payroll::PayrollHelper#shared_parental_pay_name is Additional Statutory Paternity Pay before 2015/16","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":275,"run_time":0.090967414,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:10:2]","description":"is Shared Parental Pay from 2015/16 onwards","full_description":"Payroll::PayrollHelper#shared_parental_pay_name is Shared Parental Pay from 2015/16 onwards","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":280,"run_time":0.076708797,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:11:1]","description":"is Ordinary Statutory Paternity Pay before 2015/16","full_description":"Payroll::PayrollHelper#statutory_paternity_pay_name is Ordinary Statutory Paternity Pay before 2015/16","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":287,"run_time":0.089621838,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:11:2]","description":"is Shared Parental Pay from 2015/16 onwards","full_description":"Payroll::PayrollHelper#statutory_paternity_pay_name is Shared Parental Pay from 2015/16 onwards","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":292,"run_time":0.086016928,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:12:1]","description":"returns 'Started' if started in the requested year","full_description":"Payroll::PayrollHelper#starter_leaver_note returns 'Started' if started in the requested year","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":303,"run_time":0.189532265,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:12:2]","description":"returns 'Left' if left in the requested year","full_description":"Payroll::PayrollHelper#starter_leaver_note returns 'Left' if left in the requested year","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":308,"run_time":0.211225168,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:12:3]","description":"returns 'Started' and 'Left' if joined/left in the requested period/year","full_description":"Payroll::PayrollHelper#starter_leaver_note returns 'Started' and 'Left' if joined/left in the requested period/year","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":313,"run_time":0.201278547,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:12:4]","description":"returns an empty string if employed entirely during the period","full_description":"Payroll::PayrollHelper#starter_leaver_note returns an empty string if employed entirely during the period","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":321,"run_time":0.201643257,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:13:1]","description":"returns nil if auto enrolment isn't on","full_description":"Payroll::PayrollHelper#eligible_payslip_month returns nil if auto enrolment isn't on","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":337,"run_time":0.195835563,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:13:2]","description":"gives the last eligible month number","full_description":"Payroll::PayrollHelper#eligible_payslip_month gives the last eligible month number","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":344,"run_time":0.188368651,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:14:1]","description":"returns a link in block if there are no pensions statuses for the profile","full_description":"Payroll::PayrollHelper#auto_enrolment_earnings_link returns a link in block if there are no pensions statuses for the profile","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":364,"run_time":0.203087581,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:14:2]","description":"returns the passed in block if there are pensions statuses for the profile","full_description":"Payroll::PayrollHelper#auto_enrolment_earnings_link returns the passed in block if there are pensions statuses for the profile","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":368,"run_time":0.191255269,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:15:1:1]","description":"replaces 'journals will be required' with a kb link","full_description":"Payroll::PayrollHelper#link_payroll_journal_kb with a non white-labelled company replaces 'journals will be required' with a kb link","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":382,"run_time":0.008793364,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:15:1:2]","description":"doesn't replace anything else","full_description":"Payroll::PayrollHelper#link_payroll_journal_kb with a non white-labelled company doesn't replace anything else","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":386,"run_time":0.032280872,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:15:2:1]","description":"does not add a link to the kb article","full_description":"Payroll::PayrollHelper#link_payroll_journal_kb with a white-labelled company does not add a link to the kb article","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":396,"run_time":0.156396006,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:16:1]","description":"returns 'Calculated on a W1/M1 basis' if that's true","full_description":"Payroll::PayrollHelper#week_1_month_1_note returns 'Calculated on a W1/M1 basis' if that's true","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":406,"run_time":0.17806792,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:16:2]","description":"returns nothing if the payslip was not calculated on a W1/M1 basis","full_description":"Payroll::PayrollHelper#week_1_month_1_note returns nothing if the payslip was not calculated on a W1/M1 basis","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":410,"run_time":0.174446114,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:17:1:1]","description":"links to the payroll overview path for the user","full_description":"Payroll::PayrollHelper#user_options uploaded payslips links to the payroll overview path for the user","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":430,"run_time":0.189396968,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/payroll_helper_spec.rb[1:17:2:1]","description":"links to the corresponding payslip for the user","full_description":"Payroll::PayrollHelper#user_options RTI payslips links to the corresponding payslip for the user","status":"passed","file_path":"./spec/helpers/payroll/payroll_helper_spec.rb","line_number":452,"run_time":0.354233457,"pending_message":null,"screenshot":null},{"id":"./spec/models/statement_of_account/statement_spec.rb[1:1:1]","description":"returns an array of Statement Sections","full_description":"StatementOfAccount::Statement#sections returns an array of Statement Sections","status":"passed","file_path":"./spec/models/statement_of_account/statement_spec.rb","line_number":50,"run_time":0.445445636,"pending_message":null,"screenshot":null},{"id":"./spec/models/statement_of_account/statement_spec.rb[1:1:2]","description":"calculates correct opening balance for each section","full_description":"StatementOfAccount::Statement#sections calculates correct opening balance for each section","status":"passed","file_path":"./spec/models/statement_of_account/statement_spec.rb","line_number":54,"run_time":0.41410404,"pending_message":null,"screenshot":null},{"id":"./spec/models/statement_of_account/statement_spec.rb[1:1:3:1]","description":"calculates correct amount for deductions still to be suffered","full_description":"StatementOfAccount::Statement#sections with pending CIS deductions calculates correct amount for deductions still to be suffered","status":"passed","file_path":"./spec/models/statement_of_account/statement_spec.rb","line_number":72,"run_time":0.523081083,"pending_message":null,"screenshot":null},{"id":"./spec/models/statement_of_account/statement_spec.rb[1:2:1]","description":"returns a hash of payment details","full_description":"StatementOfAccount::Statement#payment_details returns a hash of payment details","status":"passed","file_path":"./spec/models/statement_of_account/statement_spec.rb","line_number":90,"run_time":0.400131437,"pending_message":null,"screenshot":null},{"id":"./spec/models/statement_of_account/statement_spec.rb[1:3:1]","description":"returns the most recent invoice or credit note for the statement of account","full_description":"StatementOfAccount::Statement#invoice_or_credit_note_for_payment_details returns the most recent invoice or credit note for the statement of account","status":"passed","file_path":"./spec/models/statement_of_account/statement_spec.rb","line_number":103,"run_time":0.410419068,"pending_message":null,"screenshot":null},{"id":"./spec/models/statement_of_account/statement_spec.rb[1:3:2:1]","description":"returns the credit note","full_description":"StatementOfAccount::Statement#invoice_or_credit_note_for_payment_details when the most recent item is a credit note returns the credit note","status":"passed","file_path":"./spec/models/statement_of_account/statement_spec.rb","line_number":108,"run_time":0.491495024,"pending_message":null,"screenshot":null},{"id":"./spec/models/statement_of_account/statement_spec.rb[1:3:3:1]","description":"returns the credit note","full_description":"StatementOfAccount::Statement#invoice_or_credit_note_for_payment_details when the most recent item is a negative invoice type credit note returns the credit note","status":"passed","file_path":"./spec/models/statement_of_account/statement_spec.rb","line_number":115,"run_time":0.497196524,"pending_message":null,"screenshot":null},{"id":"./spec/models/statement_of_account/statement_spec.rb[1:4:1]","description":"shows the payment details when the invoice is marked as 'show_bank_details'","full_description":"StatementOfAccount::Statement#show_payment_details? shows the payment details when the invoice is marked as 'show_bank_details'","status":"passed","file_path":"./spec/models/statement_of_account/statement_spec.rb","line_number":123,"run_time":0.392445483,"pending_message":null,"screenshot":null},{"id":"./spec/models/statement_of_account/statement_spec.rb[1:4:2:1]","description":"does not show the payment details","full_description":"StatementOfAccount::Statement#show_payment_details? when the most recent invoice does not have 'show bank details' does not show the payment details","status":"passed","file_path":"./spec/models/statement_of_account/statement_spec.rb","line_number":141,"run_time":0.434345986,"pending_message":null,"screenshot":null},{"id":"./spec/models/statement_of_account/statement_spec.rb[1:4:3:1]","description":"does not show the payment details","full_description":"StatementOfAccount::Statement#show_payment_details? when the statement has no invoices and no credit notes does not show the payment details","status":"passed","file_path":"./spec/models/statement_of_account/statement_spec.rb","line_number":158,"run_time":0.409908544,"pending_message":null,"screenshot":null},{"id":"./spec/models/statement_of_account/statement_spec.rb[1:5:1:1]","description":"generates a payment reference from the organisation name","full_description":"StatementOfAccount::Statement#payment_reference when the contact has an organisation name generates a payment reference from the organisation name","status":"passed","file_path":"./spec/models/statement_of_account/statement_spec.rb","line_number":166,"run_time":0.362963043,"pending_message":null,"screenshot":null},{"id":"./spec/models/statement_of_account/statement_spec.rb[1:5:2:1]","description":"generates a payment reference from the contact's name","full_description":"StatementOfAccount::Statement#payment_reference when the contact does not have an organisation name generates a payment reference from the contact's name","status":"passed","file_path":"./spec/models/statement_of_account/statement_spec.rb","line_number":175,"run_time":0.378786293,"pending_message":null,"screenshot":null},{"id":"./spec/models/statement_of_account/statement_spec.rb[1:5:2:2:1]","description":"still generates a valid payment reference","full_description":"StatementOfAccount::Statement#payment_reference when the contact does not have an organisation name when the contact's name has spaces in it still generates a valid payment reference","status":"passed","file_path":"./spec/models/statement_of_account/statement_spec.rb","line_number":182,"run_time":0.381104145,"pending_message":null,"screenshot":null},{"id":"./spec/models/statement_of_account/statement_spec.rb[1:6:1]","description":"mirrors the status from the latest invoice or credit note","full_description":"StatementOfAccount::Statement#render_iban_details_on_statement? mirrors the status from the latest invoice or credit note","status":"passed","file_path":"./spec/models/statement_of_account/statement_spec.rb","line_number":194,"run_time":0.413783902,"pending_message":null,"screenshot":null},{"id":"./spec/models/statement_of_account/statement_spec.rb[1:7:1]","description":"mirrors the status from the latest invoice or credit note","full_description":"StatementOfAccount::Statement#render_bic_details_on_statement? mirrors the status from the latest invoice or credit note","status":"passed","file_path":"./spec/models/statement_of_account/statement_spec.rb","line_number":203,"run_time":0.36257039,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:1:1]","description":"is expected to belong to bank_account required: false","full_description":"RecurringInvoiceProfile relations defined on recurring invoice profile is expected to belong to bank_account required: false","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":9,"run_time":0.033502952,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:1:2]","description":"is expected to belong to contact required: false","full_description":"RecurringInvoiceProfile relations defined on recurring invoice profile is expected to belong to contact required: false","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":10,"run_time":0.013158031,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:1:3]","description":"is expected to have many recurring_invoice_profile_items","full_description":"RecurringInvoiceProfile relations defined on recurring invoice profile is expected to have many recurring_invoice_profile_items","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":11,"run_time":0.011464437,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:2:1]","description":"returns false for all attribute","full_description":"RecurringInvoiceProfile#locked_attribute? returns false for all attribute","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":17,"run_time":0.007251812,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:3:1]","description":"returns false for all attribute","full_description":"RecurringInvoiceProfile#locked_attributes returns false for all attribute","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":25,"run_time":0.00628963,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:4:1]","description":"returns the date payment is due from the next recurs on date","full_description":"RecurringInvoiceProfile#due_date returns the date payment is due from the next recurs on date","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":31,"run_time":0.011804176,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:5:1]","description":"return true when recurring_status is INACTIVE","full_description":"RecurringInvoiceProfile#has_expired? return true when recurring_status is INACTIVE","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":44,"run_time":0.017218677,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:5:2]","description":"return false when recurring_status is DRAFT","full_description":"RecurringInvoiceProfile#has_expired? return false when recurring_status is DRAFT","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":50,"run_time":0.017555825,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:5:3]","description":"return false when recurring_status is ACTIVE","full_description":"RecurringInvoiceProfile#has_expired? return false when recurring_status is ACTIVE","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":56,"run_time":0.019196806,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:6:1]","description":"return true when recurring_status is INACTIVE","full_description":"RecurringInvoiceProfile#is_an_active_profile? return true when recurring_status is INACTIVE","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":64,"run_time":0.019597073,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:6:2]","description":"return false when recurring_status is DRAFT","full_description":"RecurringInvoiceProfile#is_an_active_profile? return false when recurring_status is DRAFT","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":70,"run_time":0.01868804,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:6:3]","description":"return false when recurring_status is ACTIVE","full_description":"RecurringInvoiceProfile#is_an_active_profile? return false when recurring_status is ACTIVE","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":76,"run_time":0.01922441,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:7:1]","description":"returns true if recurring_status is DRAFT","full_description":"RecurringInvoiceProfile#is_a_draft_profile? returns true if recurring_status is DRAFT","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":84,"run_time":0.019489937,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:7:2]","description":"returns false if recurring_status is ACTIVE","full_description":"RecurringInvoiceProfile#is_a_draft_profile? returns false if recurring_status is ACTIVE","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":91,"run_time":0.015504096,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:7:3]","description":"returns false if recurring_status is INACTIVE","full_description":"RecurringInvoiceProfile#is_a_draft_profile? returns false if recurring_status is INACTIVE","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":98,"run_time":0.014476195,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:8:1:1]","description":"returns true if profile is active","full_description":"RecurringInvoiceProfile#can_transition_to? when transitioning to DRAFT returns true if profile is active","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":108,"run_time":0.014557773,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:8:1:2]","description":"returns false if profile is not active","full_description":"RecurringInvoiceProfile#can_transition_to? when transitioning to DRAFT returns false if profile is not active","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":114,"run_time":0.015185104,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:8:2:1]","description":"returns true if profile is draft and has invoice items","full_description":"RecurringInvoiceProfile#can_transition_to? when transitioning to ACTIVE returns true if profile is draft and has invoice items","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":122,"run_time":0.054746737,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:8:2:2]","description":"returns false if profile is draft and has no invoice items","full_description":"RecurringInvoiceProfile#can_transition_to? when transitioning to ACTIVE returns false if profile is draft and has no invoice items","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":128,"run_time":0.019790101,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:8:2:3]","description":"returns false if profile is draft and has negative invoice items","full_description":"RecurringInvoiceProfile#can_transition_to? when transitioning to ACTIVE returns false if profile is draft and has negative invoice items","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":134,"run_time":0.040826167,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:8:2:4]","description":"returns false if profile is draft and contact is not active","full_description":"RecurringInvoiceProfile#can_transition_to? when transitioning to ACTIVE returns false if profile is draft and contact is not active","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":140,"run_time":0.042876683,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:8:2:5]","description":"returns false if profile is active","full_description":"RecurringInvoiceProfile#can_transition_to? when transitioning to ACTIVE returns false if profile is active","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":150,"run_time":0.019805004,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:8:3:1]","description":"returns false","full_description":"RecurringInvoiceProfile#can_transition_to? when transitioning to anything else returns false","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":158,"run_time":0.018150409,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:9:1:1:1]","description":"marks the profile as active","full_description":"RecurringInvoiceProfile#activate when the recurring invoice profile can transition to active and the next recurs on is today marks the profile as active","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":180,"run_time":0.067612125,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:9:1:2:1]","description":"marks the profile as active","full_description":"RecurringInvoiceProfile#activate when the recurring invoice profile can transition to active and the next recurs on is tomorrow marks the profile as active","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":200,"run_time":0.068181942,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:9:1:3:1]","description":"marks the profile as active","full_description":"RecurringInvoiceProfile#activate when the recurring invoice profile can transition to active and the next recurs on is yesterday marks the profile as active","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":223,"run_time":0.082497169,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:9:2:1]","description":"marks the profile as active","full_description":"RecurringInvoiceProfile#activate when the recurring invoice profile can not transition to active marks the profile as active","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":236,"run_time":0.020758694,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:10:1]","description":"returns the companies native currency","full_description":"RecurringInvoiceProfile#native_currency returns the companies native currency","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":244,"run_time":0.012676344,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:11:1]","description":"returns true when recurring invoice currency matches company native currency","full_description":"RecurringInvoiceProfile#native_currency? returns true when recurring invoice currency matches company native currency","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":253,"run_time":0.011651678,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:11:2]","description":"returns false when recurring invoice currency matches company native currency","full_description":"RecurringInvoiceProfile#native_currency? returns false when recurring invoice currency matches company native currency","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":260,"run_time":0.011782794,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:12:1]","description":"returns true when the recurring invoice profile has a negative value","full_description":"RecurringInvoiceProfile#is_a_credit_note? returns true when the recurring invoice profile has a negative value","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":269,"run_time":0.048977256,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:12:2]","description":"returns false when the recurring invoice profile has a positive value","full_description":"RecurringInvoiceProfile#is_a_credit_note? returns false when the recurring invoice profile has a positive value","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":277,"run_time":0.053132888,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:13:1]","description":"returns refund when the recurring invoice profile is a credit note value","full_description":"RecurringInvoiceProfile#settlement_nature returns refund when the recurring invoice profile is a credit note value","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":287,"run_time":0.050529414,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:13:2]","description":"returns payment when the recurring invoice profile is a payment","full_description":"RecurringInvoiceProfile#settlement_nature returns payment when the recurring invoice profile is a payment","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":295,"run_time":0.04169491,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:14:1]","description":"returns false when a reference is present","full_description":"RecurringInvoiceProfile#uses_recurring_invoice_sequence? returns false when a reference is present","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":305,"run_time":0.008968324,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:14:2]","description":"returns true when a reference is present","full_description":"RecurringInvoiceProfile#uses_recurring_invoice_sequence? returns true when a reference is present","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":311,"run_time":0.008976636,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:15:1:1]","description":"formats the emails address using the 'to' address to a readable format","full_description":"RecurringInvoiceProfile human_readable_email_address when customising the recurring invoice formats the emails address using the 'to' address to a readable format","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":327,"run_time":0.018380016,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:15:2:1]","description":"formats the emails address using the template address","full_description":"RecurringInvoiceProfile human_readable_email_address when using the company new invoice email template formats the emails address using the template address","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":358,"run_time":0.029380629,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:15:3:1]","description":"returns an empty string","full_description":"RecurringInvoiceProfile human_readable_email_address when using the new invoice email template and the template does not exist returns an empty string","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":368,"run_time":0.015692463,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:16:1:1]","description":"returns the 'to' addresses","full_description":"RecurringInvoiceProfile email_attributes when customising the recurring invoice profile returns the 'to' addresses","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":383,"run_time":0.016203263,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:16:2:1]","description":"returns email attributes for new invoice email template","full_description":"RecurringInvoiceProfile email_attributes when using the company new invoice email template returns email attributes for new invoice email template","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":421,"run_time":0.028471742,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:16:2:2:1]","description":"validates with no error","full_description":"RecurringInvoiceProfile email_attributes when using the company new invoice email template when the company template uses both contact and billing emails, the contact only has a billing email, and the inline email template's to: is blank validates with no error","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":437,"run_time":0.028566716,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:16:3:1]","description":"returns a default hash","full_description":"RecurringInvoiceProfile email_attributes when using the new invoice email template and the template does not exist returns a default hash","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":446,"run_time":0.018611065,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:17:1]","description":"returns true when send_new_inoice_emails is set to true","full_description":"RecurringInvoiceProfile#is_using_invoice_emails? returns true when send_new_inoice_emails is set to true","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":453,"run_time":0.009045388,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:17:2]","description":"returns true when send_reminder_emails is set to true","full_description":"RecurringInvoiceProfile#is_using_invoice_emails? returns true when send_reminder_emails is set to true","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":464,"run_time":0.008807143,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:17:3]","description":"returns true when send_thank_you_emails is set to true","full_description":"RecurringInvoiceProfile#is_using_invoice_emails? returns true when send_thank_you_emails is set to true","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":475,"run_time":0.008270963,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:17:4]","description":"returns false when all email setting is set to false","full_description":"RecurringInvoiceProfile#is_using_invoice_emails? returns false when all email setting is set to false","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":486,"run_time":0.008651637,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:18:1:1]","description":"returns all available recurring invoice profiles","full_description":"RecurringInvoiceProfile when filtering results and filtering on all returns all available recurring invoice profiles","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":511,"run_time":0.044758063,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:18:2:1]","description":"returns draft recurring invoice profiles","full_description":"RecurringInvoiceProfile when filtering results and filtering on draft returns draft recurring invoice profiles","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":526,"run_time":0.044590584,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:18:3:1]","description":"returns draft recurring invoice profiles","full_description":"RecurringInvoiceProfile when filtering results and filtering on inactive returns draft recurring invoice profiles","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":536,"run_time":0.037183073,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:18:4:1]","description":"returns draft recurring invoice profiles","full_description":"RecurringInvoiceProfile when filtering results and filtering on active returns draft recurring invoice profiles","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":546,"run_time":0.035934721,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:18:5:1]","description":"returns all recurring invoice profiles","full_description":"RecurringInvoiceProfile when filtering results and filtring on an invalid view returns all recurring invoice profiles","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":556,"run_time":0.035444987,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:19:1]","description":"returns the start date of the recurring invoice","full_description":"RecurringInvoiceProfile dated_on returns the start date of the recurring invoice","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":569,"run_time":0.045204731,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:20:1:1]","description":"is able to save the change","full_description":"RecurringInvoiceProfile when switching from VAT to MOSS ec ec services is able to save the change","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":599,"run_time":0.30231652,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:20:1:2]","description":"updates the sales tax to 0","full_description":"RecurringInvoiceProfile when switching from VAT to MOSS ec ec services updates the sales tax to 0","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":603,"run_time":0.273114144,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:20:2:1]","description":"is able to save the change","full_description":"RecurringInvoiceProfile when switching from VAT to MOSS ec reverse charge is able to save the change","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":619,"run_time":0.273784417,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:20:2:2]","description":"updates the sales tax to 0","full_description":"RecurringInvoiceProfile when switching from VAT to MOSS ec reverse charge updates the sales tax to 0","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":623,"run_time":0.271008966,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:21:1]","description":"sets the correct ec status","full_description":"RecurringInvoiceProfile when a recurring invoice profile is created with MOSS ec status sets the correct ec status","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":643,"run_time":0.045191705,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:21:2]","description":"creates the EC Supply","full_description":"RecurringInvoiceProfile when a recurring invoice profile is created with MOSS ec status creates the EC Supply","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":647,"run_time":0.047602481,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:21:3]","description":"the place of supply is replicated to the place of belonging","full_description":"RecurringInvoiceProfile when a recurring invoice profile is created with MOSS ec status the place of supply is replicated to the place of belonging","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":652,"run_time":0.047796185,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:22:1:1]","description":"returns the contact locale from invoice","full_description":"RecurringInvoiceProfile#locale when contact_locale is present returns the contact locale from invoice","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":668,"run_time":0.00969491,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:22:2:1]","description":"returns default locale from invoice","full_description":"RecurringInvoiceProfile#locale when contact_locale is not present returns default locale from invoice","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":678,"run_time":0.008454598,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:23:1:1]","description":"overrides locale as en-US","full_description":"RecurringInvoiceProfile#contact_locale when US based contact and company has 'en' locale overrides locale as en-US","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":694,"run_time":0.100299067,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:23:2:1]","description":"returns contact locale","full_description":"RecurringInvoiceProfile#contact_locale when US based contact and company don't have 'en' locale returns contact locale","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":706,"run_time":0.095560233,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:23:3:1]","description":"returns contact locale","full_description":"RecurringInvoiceProfile#contact_locale when contact and company aren't US based returns contact locale","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":718,"run_time":0.008010951,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:24:1]","description":"returns the general ledger account for the company","full_description":"RecurringInvoiceProfile#construction_industry_scheme_account returns the general ledger account for the company","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":730,"run_time":0.135881804,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:25:1]","description":"is not ready to recur when the recurring invoice profile is inactive","full_description":"RecurringInvoiceProfile#should_recur_now? is not ready to recur when the recurring invoice profile is inactive","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":741,"run_time":0.022867316,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:25:2]","description":"is not ready to recur when the recurring invoice profile is draft","full_description":"RecurringInvoiceProfile#should_recur_now? is not ready to recur when the recurring invoice profile is draft","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":746,"run_time":0.022050646,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:25:4]","description":"is not ready to recur when created in the past and due to recur in the future","full_description":"RecurringInvoiceProfile#should_recur_now? is not ready to recur when created in the past and due to recur in the future","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":776,"run_time":0.015072497,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:25:5]","description":"is ready to recur when created in the past and due to recur today","full_description":"RecurringInvoiceProfile#should_recur_now? is ready to recur when created in the past and due to recur today","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":788,"run_time":0.015739647,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:25:6]","description":"is not ready to recur when the recurring invoice profile is due to recur in the future","full_description":"RecurringInvoiceProfile#should_recur_now? is not ready to recur when the recurring invoice profile is due to recur in the future","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":800,"run_time":0.020703736,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:25:7]","description":"is ready to recur now when the recurring invoice profile is due to recur in the past","full_description":"RecurringInvoiceProfile#should_recur_now? is ready to recur now when the recurring invoice profile is due to recur in the past","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":811,"run_time":0.021877611,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:25:8]","description":"does not recur a recurring invoice profile that is due when the company is no longer active","full_description":"RecurringInvoiceProfile#should_recur_now? does not recur a recurring invoice profile that is due when the company is no longer active","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":822,"run_time":0.117896837,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:25:3:1]","description":"is ready to recur when no invoice has been created","full_description":"RecurringInvoiceProfile#should_recur_now? when the recurring invoice profile is due to recur today is ready to recur when no invoice has been created","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":761,"run_time":0.015446378,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:25:3:2]","description":"is not ready to recur now when the invoice was already created","full_description":"RecurringInvoiceProfile#should_recur_now? when the recurring invoice profile is due to recur today is not ready to recur now when the invoice was already created","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":765,"run_time":0.094297865,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:26:1]","description":"returns the date when the frequency is weekly","full_description":"RecurringInvoiceProfile#next_recurring_date returns the date when the frequency is weekly","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":836,"run_time":0.004104034,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:26:2]","description":"returns the date when the frequency is two weekly","full_description":"RecurringInvoiceProfile#next_recurring_date returns the date when the frequency is two weekly","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":843,"run_time":0.002978693,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:26:3]","description":"returns the date when the frequency is four weekly","full_description":"RecurringInvoiceProfile#next_recurring_date returns the date when the frequency is four weekly","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":850,"run_time":0.003015683,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:26:4]","description":"returns the date when the frequency is monthly","full_description":"RecurringInvoiceProfile#next_recurring_date returns the date when the frequency is monthly","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":857,"run_time":0.002854035,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:26:5]","description":"returns the date when the frequency is two monthly","full_description":"RecurringInvoiceProfile#next_recurring_date returns the date when the frequency is two monthly","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":864,"run_time":0.002983164,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:26:6]","description":"returns the date when the frequency is quarterly","full_description":"RecurringInvoiceProfile#next_recurring_date returns the date when the frequency is quarterly","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":871,"run_time":0.002885202,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:26:7]","description":"returns the date when the frequency is annually","full_description":"RecurringInvoiceProfile#next_recurring_date returns the date when the frequency is annually","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":878,"run_time":0.002849584,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:26:8]","description":"returns the date when the frequency is bi-annually","full_description":"RecurringInvoiceProfile#next_recurring_date returns the date when the frequency is bi-annually","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":885,"run_time":0.002282971,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:26:9]","description":"returns the date when the frequency is two yearly","full_description":"RecurringInvoiceProfile#next_recurring_date returns the date when the frequency is two yearly","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":892,"run_time":0.002301952,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:27:1]","description":"returns a list of dates the recurring invoice profile will next recur on","full_description":"RecurringInvoiceProfile#list_recurring_dates returns a list of dates the recurring invoice profile will next recur on","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":901,"run_time":0.006846417,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:27:2]","description":"returns a list of dates the recurring invoice profile will next recur on for the specfied steps","full_description":"RecurringInvoiceProfile#list_recurring_dates returns a list of dates the recurring invoice profile will next recur on for the specfied steps","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":915,"run_time":0.006196301,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:27:3]","description":"returns a list of dates the recurring invoice profile up till the recurring end date","full_description":"RecurringInvoiceProfile#list_recurring_dates returns a list of dates the recurring invoice profile up till the recurring end date","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":928,"run_time":0.005925948,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:28:1]","description":"returns a lazy enumerator of all recurring dates","full_description":"RecurringInvoiceProfile#all_recurring_dates returns a lazy enumerator of all recurring dates","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":944,"run_time":0.005700431,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:29:1:1]","description":"returns the project name","full_description":"RecurringInvoiceProfile#project_name when recurring invoice profile has a project returns the project name","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":969,"run_time":0.017615975,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:29:2:1]","description":"returns blank value","full_description":"RecurringInvoiceProfile#project_name when recurring invoice profile does not have a project returns blank value","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":977,"run_time":0.009773683,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:30:1]","description":"returns the po reference when set on the recurring invoice profile","full_description":"RecurringInvoiceProfile contract_po_reference returns the po reference when set on the recurring invoice profile","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":984,"run_time":0.006304101,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:30:2]","description":"returns the project po reference when there is no reference on the recurring invoice profile","full_description":"RecurringInvoiceProfile contract_po_reference returns the project po reference when there is no reference on the recurring invoice profile","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":990,"run_time":0.009431539,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:30:3]","description":"returns the empty string when no po reference defined on project and recurring invoice profile","full_description":"RecurringInvoiceProfile contract_po_reference returns the empty string when no po reference defined on project and recurring invoice profile","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":1002,"run_time":0.006000511,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:31:1]","description":"returns true","full_description":"RecurringInvoiceProfile#is_draft? returns true","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":1010,"run_time":0.005877784,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:32:1]","description":"returns only the discount amount if the company is not registered for sales tax","full_description":"RecurringInvoiceProfile#display_discount_amount returns only the discount amount if the company is not registered for sales tax","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":1018,"run_time":0.038153309,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:32:2]","description":"returns the discount including sales tax if the company is registered for interim VAT","full_description":"RecurringInvoiceProfile#display_discount_amount returns the discount including sales tax if the company is registered for interim VAT","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":1025,"run_time":0.219964532,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:33:1]","description":"returns and empty array","full_description":"RecurringInvoiceProfile#rebilled_attachments returns and empty array","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":1058,"run_time":0.007602581,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:34:1]","description":"is an alias for recurring_invoice_profile_items","full_description":"RecurringInvoiceProfile invoice_items is an alias for recurring_invoice_profile_items","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":1066,"run_time":0.135799142,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:35:1:1]","description":"returns the most recently created recurring invoice profile to recur whose contact does not have their own email settings","full_description":"RecurringInvoiceProfile for_default_email_options when there are multiple recurring invoice profiles returns the most recently created recurring invoice profile to recur whose contact does not have their own email settings","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":1091,"run_time":0.122364407,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:35:2:1]","description":"returns nil","full_description":"RecurringInvoiceProfile for_default_email_options when no recurring invoice profiles match returns nil","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":1097,"run_time":0.090142997,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:36:1:1]","description":"can change to another cis_category","full_description":"RecurringInvoiceProfile with a CIS category with CIS invoice items can change to another cis_category","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":1120,"run_time":0.15439949,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:36:1:2]","description":"updates the item cis_deduction when changing the discount percentage","full_description":"RecurringInvoiceProfile with a CIS category with CIS invoice items updates the item cis_deduction when changing the discount percentage","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":1130,"run_time":0.124384005,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:36:2:1]","description":"can not change the cis_category for the invoice item","full_description":"RecurringInvoiceProfile with a CIS category without CIS invoice items can not change the cis_category for the invoice item","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":1141,"run_time":0.146804877,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:37:1:1]","description":"validates the presence of a property","full_description":"RecurringInvoiceProfile#validate for a landlord company validates the presence of a property","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":1156,"run_time":0.102825306,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:37:1:2]","description":"validates the company and landlord company match","full_description":"RecurringInvoiceProfile#validate for a landlord company validates the company and landlord company match","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":1162,"run_time":0.193845804,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:38:1]","description":"is expected to be a kind of RecurringInvoiceProfile::PaymentMethods","full_description":"RecurringInvoiceProfile#payment_methods is expected to be a kind of RecurringInvoiceProfile::PaymentMethods","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":1175,"run_time":0.007870083,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:38:2:1]","description":"is expected to have received validate(*(any args)) 1 time","full_description":"RecurringInvoiceProfile#payment_methods when validating the profile is expected to have received validate(*(any args)) 1 time","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":1183,"run_time":0.014726535,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:39:1:1]","description":"returns the configured theme","full_description":"RecurringInvoiceProfile#theme with theme_customisation_circuit_breaker working returns the configured theme","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":1205,"run_time":0.036216073,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:39:2:1:1]","description":"returns the configured theme","full_description":"RecurringInvoiceProfile#theme with theme_customisation_circuit_breaker broken with a gallery theme configured returns the configured theme","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":1219,"run_time":0.022130397,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:39:2:2:1:1]","description":"returns the company's default theme","full_description":"RecurringInvoiceProfile#theme with theme_customisation_circuit_breaker broken with a custom theme configured when the company has a gallery theme as default returns the company's default theme","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":1230,"run_time":0.030995293,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile_spec.rb[1:39:2:2:2:1]","description":"returns the app-wide default theme (bauhaus)","full_description":"RecurringInvoiceProfile#theme with theme_customisation_circuit_breaker broken with a custom theme configured when the company has the custom theme as default returns the app-wide default theme (bauhaus)","status":"passed","file_path":"./spec/models/recurring_invoice_profile_spec.rb","line_number":1238,"run_time":0.037960562,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/clients_controller_spec.rb[1:1:1:1:1]","description":"returns a list of the clients assigned to the requesting user","full_description":"Api::ClientsController#index checking permissions as a non-senior account manager returns a list of the clients assigned to the requesting user","status":"passed","file_path":"./spec/controllers/api/clients_controller_spec.rb","line_number":26,"run_time":0.312366194,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/clients_controller_spec.rb[1:1:1:2:1]","description":"returns a list of all clients","full_description":"Api::ClientsController#index checking permissions as a senior account manager returns a list of all clients","status":"passed","file_path":"./spec/controllers/api/clients_controller_spec.rb","line_number":36,"run_time":0.249942532,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/clients_controller_spec.rb[1:1:2:1:1]","description":"returns a list of demo clients","full_description":"Api::ClientsController#index when using a view filter with demo filter returns a list of demo clients","status":"passed","file_path":"./spec/controllers/api/clients_controller_spec.rb","line_number":58,"run_time":0.614180048,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/clients_controller_spec.rb[1:1:2:2:1]","description":"returns a list of linked clients","full_description":"Api::ClientsController#index when using a view filter with linked filter returns a list of linked clients","status":"passed","file_path":"./spec/controllers/api/clients_controller_spec.rb","line_number":69,"run_time":0.589985506,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/clients_controller_spec.rb[1:1:2:3:1]","description":"returns a list of active clients","full_description":"Api::ClientsController#index when using a view filter with active filter returns a list of active clients","status":"passed","file_path":"./spec/controllers/api/clients_controller_spec.rb","line_number":80,"run_time":0.555539685,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/clients_controller_spec.rb[1:1:2:4:1]","description":"returns a list of inactive clients","full_description":"Api::ClientsController#index when using a view filter with inactive filter returns a list of inactive clients","status":"passed","file_path":"./spec/controllers/api/clients_controller_spec.rb","line_number":91,"run_time":0.595550877,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/clients_controller_spec.rb[1:1:2:5:1]","description":"returns a list of practice clients","full_description":"Api::ClientsController#index when using a view filter with practice filter returns a list of practice clients","status":"passed","file_path":"./spec/controllers/api/clients_controller_spec.rb","line_number":102,"run_time":0.609691522,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/clients_controller_spec.rb[1:1:2:6:1]","description":"returns a list of closed clients","full_description":"Api::ClientsController#index when using a view filter with closed filter returns a list of closed clients","status":"passed","file_path":"./spec/controllers/api/clients_controller_spec.rb","line_number":116,"run_time":0.575765735,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/clients_controller_spec.rb[1:1:2:7:1]","description":"returns an error","full_description":"Api::ClientsController#index when using a view filter with an invalid filter returns an error","status":"passed","file_path":"./spec/controllers/api/clients_controller_spec.rb","line_number":127,"run_time":0.668205997,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/clients_controller_spec.rb[1:1:2:8:1]","description":"returns a list of all clients","full_description":"Api::ClientsController#index when using a view filter with all filter returns a list of all clients","status":"passed","file_path":"./spec/controllers/api/clients_controller_spec.rb","line_number":134,"run_time":0.568395484,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/clients_controller_spec.rb[1:1:3:1]","description":"does not include the locked attributes, or non essential fields","full_description":"Api::ClientsController#index a standard request with locked attributes and non uk companies does not include the locked attributes, or non essential fields","status":"passed","file_path":"./spec/controllers/api/clients_controller_spec.rb","line_number":180,"run_time":0.529241725,"pending_message":null,"screenshot":null},{"id":"./spec/features/invoicing/payment_method_selection_spec.rb[1:1]","description":"options should be dynamically enabled","full_description":"selecting invoice payment methods options should be dynamically enabled","status":"passed","file_path":"./spec/features/invoicing/payment_method_selection_spec.rb","line_number":16,"run_time":3.76395525,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/direct_debits_controller_spec.rb[1:1:1:1]","description":"renders the new page","full_description":"Contacts::DirectDebitsController as an account manager GET #new renders the new page","status":"passed","file_path":"./spec/controllers/contacts/direct_debits_controller_spec.rb","line_number":21,"run_time":0.22727301,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/direct_debits_controller_spec.rb[1:2:1]","description":"shows a confirmation notice","full_description":"Contacts::DirectDebitsController for an unconfirmed company shows a confirmation notice","status":"passed","file_path":"./spec/controllers/contacts/direct_debits_controller_spec.rb","line_number":37,"run_time":0.205064523,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/direct_debits_controller_spec.rb[1:3:1:1]","description":"sets up an mandate for the contact","full_description":"Contacts::DirectDebitsController as an account owner GET #new sets up an mandate for the contact","status":"passed","file_path":"./spec/controllers/contacts/direct_debits_controller_spec.rb","line_number":53,"run_time":0.202255957,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/direct_debits_controller_spec.rb[1:3:1:2]","description":"prefers the billing email address","full_description":"Contacts::DirectDebitsController as an account owner GET #new prefers the billing email address","status":"passed","file_path":"./spec/controllers/contacts/direct_debits_controller_spec.rb","line_number":62,"run_time":0.203049862,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/direct_debits_controller_spec.rb[1:3:1:3]","description":"falls back to the contact email address","full_description":"Contacts::DirectDebitsController as an account owner GET #new falls back to the contact email address","status":"passed","file_path":"./spec/controllers/contacts/direct_debits_controller_spec.rb","line_number":72,"run_time":0.242110994,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/direct_debits_controller_spec.rb[1:3:2:1]","description":"creates an mandate in pending state with a mandate url","full_description":"Contacts::DirectDebitsController as an account owner POST #create creates an mandate in pending state with a mandate url","status":"passed","file_path":"./spec/controllers/contacts/direct_debits_controller_spec.rb","line_number":89,"run_time":0.156894305,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/direct_debits_controller_spec.rb[1:3:2:2]","description":"publishes the mandate requested event","full_description":"Contacts::DirectDebitsController as an account owner POST #create publishes the mandate requested event","status":"passed","file_path":"./spec/controllers/contacts/direct_debits_controller_spec.rb","line_number":106,"run_time":0.153336355,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/direct_debits_controller_spec.rb[1:3:2:3]","description":"renders new action when invalid parameters are provided","full_description":"Contacts::DirectDebitsController as an account owner POST #create renders new action when invalid parameters are provided","status":"passed","file_path":"./spec/controllers/contacts/direct_debits_controller_spec.rb","line_number":116,"run_time":0.199750588,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/direct_debits_controller_spec.rb[1:3:2:4]","description":"schedules a job to email the mandate to the contact","full_description":"Contacts::DirectDebitsController as an account owner POST #create schedules a job to email the mandate to the contact","status":"passed","file_path":"./spec/controllers/contacts/direct_debits_controller_spec.rb","line_number":133,"run_time":0.152211559,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/direct_debits_controller_spec.rb[1:3:2:5]","description":"sanitises email message and strip out unsafe html","full_description":"Contacts::DirectDebitsController as an account owner POST #create sanitises email message and strip out unsafe html","status":"passed","file_path":"./spec/controllers/contacts/direct_debits_controller_spec.rb","line_number":149,"run_time":0.168502241,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/direct_debits_controller_spec.rb[1:3:3:1]","description":"cancels a pending mandate","full_description":"Contacts::DirectDebitsController as an account owner DELETE #destroy cancels a pending mandate","status":"passed","file_path":"./spec/controllers/contacts/direct_debits_controller_spec.rb","line_number":172,"run_time":0.164802135,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/direct_debits_controller_spec.rb[1:3:3:2]","description":"publishes the mandate cancelled event","full_description":"Contacts::DirectDebitsController as an account owner DELETE #destroy publishes the mandate cancelled event","status":"passed","file_path":"./spec/controllers/contacts/direct_debits_controller_spec.rb","line_number":181,"run_time":0.178567109,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/direct_debits_controller_spec.rb[1:3:3:3]","description":"cancels an active mandate","full_description":"Contacts::DirectDebitsController as an account owner DELETE #destroy cancels an active mandate","status":"passed","file_path":"./spec/controllers/contacts/direct_debits_controller_spec.rb","line_number":186,"run_time":0.161602522,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/direct_debits_controller_spec.rb[1:3:3:4]","description":"responds with 400 for an expired mandate","full_description":"Contacts::DirectDebitsController as an account owner DELETE #destroy responds with 400 for an expired mandate","status":"passed","file_path":"./spec/controllers/contacts/direct_debits_controller_spec.rb","line_number":194,"run_time":0.166201809,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/direct_debits_controller_spec.rb[1:3:3:5]","description":"responds with error message if API error raised","full_description":"Contacts::DirectDebitsController as an account owner DELETE #destroy responds with error message if API error raised","status":"passed","file_path":"./spec/controllers/contacts/direct_debits_controller_spec.rb","line_number":203,"run_time":0.158855444,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/direct_debits_controller_spec.rb[1:3:3:6]","description":"responds with 404 for an mandate for a different contact","full_description":"Contacts::DirectDebitsController as an account owner DELETE #destroy responds with 404 for an mandate for a different contact","status":"passed","file_path":"./spec/controllers/contacts/direct_debits_controller_spec.rb","line_number":216,"run_time":0.121607563,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/direct_debits_controller_spec.rb[1:3:4:1]","description":"returns JSON describing the current mandate","full_description":"Contacts::DirectDebitsController as an account owner GET #current returns JSON describing the current mandate","status":"passed","file_path":"./spec/controllers/contacts/direct_debits_controller_spec.rb","line_number":226,"run_time":0.123153945,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/direct_debits_controller_spec.rb[1:3:4:2]","description":"returns a nil state if there is no current mandate","full_description":"Contacts::DirectDebitsController as an account owner GET #current returns a nil state if there is no current mandate","status":"passed","file_path":"./spec/controllers/contacts/direct_debits_controller_spec.rb","line_number":234,"run_time":0.123820722,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:1:1:1]","description":"is expected to equal false","full_description":"AddonsAndConnectionsHelper#can_access_addons? when none of the add-ons are available is expected to equal false","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":19,"run_time":0.018342879,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:1:2:1]","description":"is expected to equal true","full_description":"AddonsAndConnectionsHelper#can_access_addons? when the CoPilot add-on is available is expected to equal true","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":25,"run_time":0.018341365,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:2:1:1:1]","description":"is expected to equal false","full_description":"AddonsAndConnectionsHelper#copilot_addon_available? when user is not permitted and copilot addon exists and onboarding is availabe is expected to equal false","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":50,"run_time":0.125160848,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:2:1:2:1]","description":"is expected to equal false","full_description":"AddonsAndConnectionsHelper#copilot_addon_available? when user is not permitted and copilot addon exists and onboarding is not available is expected to equal false","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":59,"run_time":0.114195551,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:2:1:3:1]","description":"is expected to equal false","full_description":"AddonsAndConnectionsHelper#copilot_addon_available? when user is not permitted and copilot addon doesn't exist and onboarding is available is expected to equal false","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":67,"run_time":0.159636428,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:2:1:4:1]","description":"is expected to equal false","full_description":"AddonsAndConnectionsHelper#copilot_addon_available? when user is not permitted and copilot addon doesn't exist and onboarding is not available is expected to equal false","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":75,"run_time":0.102369559,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:2:2:1:1]","description":"is expected to equal true","full_description":"AddonsAndConnectionsHelper#copilot_addon_available? when user is permitted and copilot addon exists and onboarding is available is expected to equal true","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":91,"run_time":0.104424578,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:2:2:2:1]","description":"returns true when CoPilot is active","full_description":"AddonsAndConnectionsHelper#copilot_addon_available? when user is permitted and copilot addon exists and onboarding is not available returns true when CoPilot is active","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":101,"run_time":0.112445373,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:2:2:2:2]","description":"returns true when CoPilot is suspended","full_description":"AddonsAndConnectionsHelper#copilot_addon_available? when user is permitted and copilot addon exists and onboarding is not available returns true when CoPilot is suspended","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":105,"run_time":0.121799866,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:2:2:2:3]","description":"returns false when CoPilot is cancelled","full_description":"AddonsAndConnectionsHelper#copilot_addon_available? when user is permitted and copilot addon exists and onboarding is not available returns false when CoPilot is cancelled","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":111,"run_time":0.097919341,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:2:2:3:1]","description":"is expected to equal true","full_description":"AddonsAndConnectionsHelper#copilot_addon_available? when user is permitted and copilot addon doesn't exist and onboarding is available is expected to equal true","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":123,"run_time":0.105414793,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:2:2:4:1]","description":"is expected to equal false","full_description":"AddonsAndConnectionsHelper#copilot_addon_available? when user is permitted and copilot addon doesn't exist and onboarding is not available is expected to equal false","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":131,"run_time":0.111201681,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:3:1:1]","description":"is expected to be truthy","full_description":"AddonsAndConnectionsHelper#paypal_connection_available? when user can manage PayPal settings and client payments are enabled is expected to be truthy","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":148,"run_time":0.014094611,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:3:1:2:1]","description":"is expected to be falsey","full_description":"AddonsAndConnectionsHelper#paypal_connection_available? when user can manage PayPal settings and client payments are enabled with the feature toggle disabled is expected to be falsey","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":153,"run_time":0.015286797,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:3:2:1]","description":"is expected to be falsey","full_description":"AddonsAndConnectionsHelper#paypal_connection_available? when user cannot manage PayPal settings is expected to be falsey","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":160,"run_time":0.014849415,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:3:3:1]","description":"is expected to be falsey","full_description":"AddonsAndConnectionsHelper#paypal_connection_available? when client payments are not enabled is expected to be falsey","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":166,"run_time":0.020152001,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:4:1:1]","description":"returns true when client payments are enabled","full_description":"AddonsAndConnectionsHelper#stripe_available? when user can manage Stripe settings returns true when client payments are enabled","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":174,"run_time":0.016931182,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:4:1:2]","description":"returns false when client payments are not enabled","full_description":"AddonsAndConnectionsHelper#stripe_available? when user can manage Stripe settings returns false when client payments are not enabled","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":179,"run_time":0.010183934,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:4:2:1]","description":"returns false when client payments are enabled","full_description":"AddonsAndConnectionsHelper#stripe_available? when user cannot manage Stripe settings returns false when client payments are enabled","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":188,"run_time":0.016677903,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:4:2:2]","description":"returns false when client payments are not enabled","full_description":"AddonsAndConnectionsHelper#stripe_available? when user cannot manage Stripe settings returns false when client payments are not enabled","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":194,"run_time":0.010008192,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:5:1:1:1]","description":"returns true when client payments are enabled","full_description":"AddonsAndConnectionsHelper#tyl_available? when eligible for Tyl and user can manage Tyl settings returns true when client payments are enabled","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":211,"run_time":0.017234688,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:5:1:1:2]","description":"returns false when client payments are not enabled","full_description":"AddonsAndConnectionsHelper#tyl_available? when eligible for Tyl and user can manage Tyl settings returns false when client payments are not enabled","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":216,"run_time":0.010730627,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:5:1:2:1]","description":"returns false when client payments are enabled","full_description":"AddonsAndConnectionsHelper#tyl_available? when eligible for Tyl and user cannot manage Tyl settings returns false when client payments are enabled","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":225,"run_time":0.016544826,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:5:1:2:2]","description":"returns false when client payments are not enabled","full_description":"AddonsAndConnectionsHelper#tyl_available? when eligible for Tyl and user cannot manage Tyl settings returns false when client payments are not enabled","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":231,"run_time":0.010393204,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:5:2:1:1]","description":"returns false when client payments are enabled","full_description":"AddonsAndConnectionsHelper#tyl_available? when not eligible for Tyl and user can manage Tyl settings returns false when client payments are enabled","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":245,"run_time":0.017102559,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:5:2:1:2]","description":"returns false when client payments are not enabled","full_description":"AddonsAndConnectionsHelper#tyl_available? when not eligible for Tyl and user can manage Tyl settings returns false when client payments are not enabled","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":250,"run_time":0.009989113,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:5:2:2:1]","description":"returns false when client payments are enabled","full_description":"AddonsAndConnectionsHelper#tyl_available? when not eligible for Tyl and user cannot manage Tyl settings returns false when client payments are enabled","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":259,"run_time":0.016301146,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:5:2:2:2]","description":"returns false when client payments are not enabled","full_description":"AddonsAndConnectionsHelper#tyl_available? when not eligible for Tyl and user cannot manage Tyl settings returns false when client payments are not enabled","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":265,"run_time":0.009970444,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:6:1:1]","description":"is expected to equal false","full_description":"AddonsAndConnectionsHelper#tyl_consented? when Tyl Profile is not consented is expected to equal false","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":284,"run_time":0.017106977,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:6:2:1]","description":"is expected to equal true","full_description":"AddonsAndConnectionsHelper#tyl_consented? when Tyl Profile is consented is expected to equal true","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":289,"run_time":0.013927893,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:7:1:1:1]","description":"is expected to equal true","full_description":"AddonsAndConnectionsHelper#business_insurance_available? when user can access Business Insurance with purchased Hiscox policy is expected to equal true","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":310,"run_time":0.038133908,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:7:1:2:1:1]","description":"is expected to equal true","full_description":"AddonsAndConnectionsHelper#business_insurance_available? when user can access Business Insurance with no currently purchased policy when eligible for Hiscox guide price is expected to equal true","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":317,"run_time":0.111501704,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:7:1:2:2:1]","description":"is expected to equal false","full_description":"AddonsAndConnectionsHelper#business_insurance_available? when user can access Business Insurance with no currently purchased policy when ineligible for Hiscox guide price is expected to equal false","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":323,"run_time":0.085914162,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:7:2:1:1]","description":"is expected to equal false","full_description":"AddonsAndConnectionsHelper#business_insurance_available? when user cannot access Business Insurance with purchased Hiscox policy is expected to equal false","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":337,"run_time":0.022328742,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:7:2:2:1:1]","description":"is expected to equal false","full_description":"AddonsAndConnectionsHelper#business_insurance_available? when user cannot access Business Insurance with no currently purchased policy when eligible for Hiscox guide price is expected to equal false","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":344,"run_time":0.108384787,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:7:2:2:2:1]","description":"is expected to equal false","full_description":"AddonsAndConnectionsHelper#business_insurance_available? when user cannot access Business Insurance with no currently purchased policy when ineligible for Hiscox guide price is expected to equal false","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":350,"run_time":0.095036793,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:8:1]","description":"returns false when the client has no Hiscox profile","full_description":"AddonsAndConnectionsHelper#business_insurance_purchased? returns false when the client has no Hiscox profile","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":363,"run_time":0.014682366,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:8:2]","description":"returns false when client has a Hiscox profile with no purchased policy","full_description":"AddonsAndConnectionsHelper#business_insurance_purchased? returns false when client has a Hiscox profile with no purchased policy","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":367,"run_time":0.013548225,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:8:3]","description":"returns true when client has a purchased business policy","full_description":"AddonsAndConnectionsHelper#business_insurance_purchased? returns true when client has a purchased business policy","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":372,"run_time":0.017505086,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:9:1:1:1]","description":"returns true when the open_banking feature is enabled","full_description":"AddonsAndConnectionsHelper#open_banking_available? when user can manage Open banking bank_feeds is available returns true when the open_banking feature is enabled","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":392,"run_time":0.015702423,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:9:1:1:2]","description":"returns false when the open_banking feature is disabled","full_description":"AddonsAndConnectionsHelper#open_banking_available? when user can manage Open banking bank_feeds is available returns false when the open_banking feature is disabled","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":398,"run_time":0.009285464,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:9:1:2:1]","description":"returns true when the open_banking feature is enabled","full_description":"AddonsAndConnectionsHelper#open_banking_available? when user can manage Open banking bank_feeds is not available returns true when the open_banking feature is enabled","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":410,"run_time":0.01370717,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:9:1:2:2]","description":"returns false when the open_banking feature is disabled","full_description":"AddonsAndConnectionsHelper#open_banking_available? when user can manage Open banking bank_feeds is not available returns false when the open_banking feature is disabled","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":416,"run_time":0.010046364,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:9:2:1:1]","description":"returns true when the open_banking feature is enabled","full_description":"AddonsAndConnectionsHelper#open_banking_available? when user cannot manage Open banking bank_feeds is available returns true when the open_banking feature is enabled","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":434,"run_time":0.015474955,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:9:2:1:2]","description":"returns false when the open_banking feature is disabled","full_description":"AddonsAndConnectionsHelper#open_banking_available? when user cannot manage Open banking bank_feeds is available returns false when the open_banking feature is disabled","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":440,"run_time":0.00950059,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:9:2:2:1]","description":"returns true when the open_banking feature is enabled","full_description":"AddonsAndConnectionsHelper#open_banking_available? when user cannot manage Open banking bank_feeds is not available returns true when the open_banking feature is enabled","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":452,"run_time":0.015974736,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:9:2:2:2]","description":"returns false when the open_banking feature is disabled","full_description":"AddonsAndConnectionsHelper#open_banking_available? when user cannot manage Open banking bank_feeds is not available returns false when the open_banking feature is disabled","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":458,"run_time":0.01002384,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:10:1:1]","description":"returns true ","full_description":"AddonsAndConnectionsHelper#bank_feeds_available? when bank feed access is available returns true ","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":476,"run_time":0.017452195,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:10:2:1]","description":"returns false ","full_description":"AddonsAndConnectionsHelper#bank_feeds_available? when bank feed access is not available returns false ","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":486,"run_time":0.01769096,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:11:1:1]","description":"is expected to equal false","full_description":"AddonsAndConnectionsHelper#hmrc_mtd_available? when neither MTD VAT nor MTD ITSA are applicable to the current company is expected to equal false","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":512,"run_time":0.036436155,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:11:2:1]","description":"is expected to equal true","full_description":"AddonsAndConnectionsHelper#hmrc_mtd_available? when MTD VAT is applicable to the current company is expected to equal true","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":518,"run_time":0.036755436,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:11:2:2:1]","description":"is expected to equal false","full_description":"AddonsAndConnectionsHelper#hmrc_mtd_available? when MTD VAT is applicable to the current company when user cannot manage HMRC MTD authorizations is expected to equal false","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":523,"run_time":0.035301967,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:11:3:1]","description":"is expected to equal true","full_description":"AddonsAndConnectionsHelper#hmrc_mtd_available? when MTD ITSA is applicable to the current company is expected to equal true","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":530,"run_time":0.032633025,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:11:3:2:1]","description":"is expected to equal false","full_description":"AddonsAndConnectionsHelper#hmrc_mtd_available? when MTD ITSA is applicable to the current company when user cannot manage HMRC MTD authorizations is expected to equal false","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":535,"run_time":0.028139842,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:12:1]","description":"returns true when user can manage Basecamp","full_description":"AddonsAndConnectionsHelper#basecamp_available? returns true when user can manage Basecamp","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":541,"run_time":0.016001491,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:12:2]","description":"returns false when user can't manage Basecamp","full_description":"AddonsAndConnectionsHelper#basecamp_available? returns false when user can't manage Basecamp","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":547,"run_time":0.010043826,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:12:3:1]","description":"returns false for a whitelabelled company that has permissions","full_description":"AddonsAndConnectionsHelper#basecamp_available? for a whitelabelled company returns false for a whitelabelled company that has permissions","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":555,"run_time":0.162170244,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:13:1]","description":"returns true when user can manage Basecamp","full_description":"AddonsAndConnectionsHelper#calendar_feeds_available? returns true when user can manage Basecamp","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":564,"run_time":0.019412168,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:13:2]","description":"returns true when user can manage Basecamp","full_description":"AddonsAndConnectionsHelper#calendar_feeds_available? returns true when user can manage Basecamp","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":570,"run_time":0.008296721,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:14:1:1]","description":"returns true with the dev_dashboard feature enabled","full_description":"AddonsAndConnectionsHelper#authorized_apps_available? when user can manage authorized apps returns true with the dev_dashboard feature enabled","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":583,"run_time":0.021744177,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:14:1:2]","description":"returns false with the dev_dashboard feature disabled","full_description":"AddonsAndConnectionsHelper#authorized_apps_available? when user can manage authorized apps returns false with the dev_dashboard feature disabled","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":589,"run_time":0.015890693,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:14:2:1]","description":"returns false with the dev_dashboard feature enabled","full_description":"AddonsAndConnectionsHelper#authorized_apps_available? when user cannot manage authorized apps returns false with the dev_dashboard feature enabled","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":601,"run_time":0.021753943,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:14:2:2]","description":"returns false with the dev_dashboard feature disabled","full_description":"AddonsAndConnectionsHelper#authorized_apps_available? when user cannot manage authorized apps returns false with the dev_dashboard feature disabled","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":607,"run_time":0.013844315,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:15:1:1:1]","description":"is expected to equal false","full_description":"AddonsAndConnectionsHelper#any_app_authorisations? Dev Dashboard is available when no authorised apps is expected to equal false","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":641,"run_time":0.038229994,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:15:1:2:1]","description":"is expected to equal true","full_description":"AddonsAndConnectionsHelper#any_app_authorisations? Dev Dashboard is available when there is a company-level app is expected to equal true","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":647,"run_time":0.0395763,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:15:1:3:1]","description":"is expected to equal true","full_description":"AddonsAndConnectionsHelper#any_app_authorisations? Dev Dashboard is available when there is a user-level app is expected to equal true","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":653,"run_time":0.03842658,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:15:1:4:1]","description":"is expected to equal true","full_description":"AddonsAndConnectionsHelper#any_app_authorisations? Dev Dashboard is available when there are company-level and user-level apps is expected to equal true","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":660,"run_time":0.036502562,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:15:1:5:1]","description":"is expected to be falsy","full_description":"AddonsAndConnectionsHelper#any_app_authorisations? Dev Dashboard is available where the current user is an AccountManager is expected to be falsy","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":666,"run_time":0.048171169,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:15:2:1]","description":"is expected to be falsy","full_description":"AddonsAndConnectionsHelper#any_app_authorisations? Dev Dashboard is unavailable is expected to be falsy","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":676,"run_time":0.029555545,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:16:1:1:1]","description":"is expected to equal false","full_description":"AddonsAndConnectionsHelper#any_hmrc_authorisations? current user is a User with no authorisations is expected to equal false","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":694,"run_time":0.032224789,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:16:1:2:1]","description":"is expected to equal true","full_description":"AddonsAndConnectionsHelper#any_hmrc_authorisations? current user is a User with a company authorisation is expected to equal true","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":700,"run_time":0.045366152,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:16:1:3:1]","description":"is expected to equal true","full_description":"AddonsAndConnectionsHelper#any_hmrc_authorisations? current user is a User with a user authorisation is expected to equal true","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":707,"run_time":0.037825791,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:16:1:4:1]","description":"is expected to equal true","full_description":"AddonsAndConnectionsHelper#any_hmrc_authorisations? current user is a User with company and user authorisations is expected to equal true","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":716,"run_time":0.036422124,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:16:2:1:1]","description":"is expected to be falsy","full_description":"AddonsAndConnectionsHelper#any_hmrc_authorisations? where the current user is an AccountManager with no authorisations is expected to be falsy","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":724,"run_time":0.046190066,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:16:2:2:1]","description":"is expected to be falsy","full_description":"AddonsAndConnectionsHelper#any_hmrc_authorisations? where the current user is an AccountManager with a company authorisation is expected to be falsy","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":730,"run_time":0.055403038,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:16:2:3:1]","description":"is expected to be falsy","full_description":"AddonsAndConnectionsHelper#any_hmrc_authorisations? where the current user is an AccountManager with an account manager authorisation is expected to be falsy","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":736,"run_time":0.053109945,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:17:1:1]","description":"is expected to equal false","full_description":"AddonsAndConnectionsHelper#any_open_banking_authorisations? no open banking integration is expected to equal false","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":751,"run_time":0.020835607,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:17:2:1:1]","description":"is expected to equal false","full_description":"AddonsAndConnectionsHelper#any_open_banking_authorisations? with open banking integration no authorised account is expected to equal false","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":758,"run_time":0.062509491,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:17:2:2:1]","description":"is expected to equal true","full_description":"AddonsAndConnectionsHelper#any_open_banking_authorisations? with open banking integration with authorised account is expected to equal true","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":764,"run_time":0.163144781,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:17:2:3:1]","description":"is expected to equal true","full_description":"AddonsAndConnectionsHelper#any_open_banking_authorisations? with open banking integration with a mix of authorised and non authorised is expected to equal true","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":773,"run_time":0.163095033,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:18:1]","description":"is expected to have visible css \"span.fe-u-textColor--default.fe-u-fontWeight--bold\" with text \"foo\"","full_description":"AddonsAndConnectionsHelper#connection_label is expected to have visible css \"span.fe-u-textColor--default.fe-u-fontWeight--bold\" with text \"foo\"","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":782,"run_time":0.014934951,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:18:2:1]","description":"is expected to have visible css \"span.fe-u-textColor--positive.fe-u-fontWeight--bold\" with text \"foo\"","full_description":"AddonsAndConnectionsHelper#connection_label with custom colour is expected to have visible css \"span.fe-u-textColor--positive.fe-u-fontWeight--bold\" with text \"foo\"","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":787,"run_time":0.014801053,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:18:3:1]","description":"is expected to have visible css \"span.fe-u-textColor--default.fe-u-fontWeight--bold.foo\" with text \"foo\"","full_description":"AddonsAndConnectionsHelper#connection_label with extra class is expected to have visible css \"span.fe-u-textColor--default.fe-u-fontWeight--bold.foo\" with text \"foo\"","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":793,"run_time":0.013733714,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:19:1:1]","description":"is expected to eq \"Learn more \u003cspan class=\\\"fe-u-visuallyHidden\\\"\u003eabout My Connection\u003c/span\u003e\"","full_description":"AddonsAndConnectionsHelper#manage_or_learn_more_about when not connected is expected to eq \"Learn more \u003cspan class=\\\"fe-u-visuallyHidden\\\"\u003eabout My Connection\u003c/span\u003e\"","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":805,"run_time":0.012193856,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:19:2:1]","description":"is expected to eq \"Manage \u003cspan class=\\\"fe-u-visuallyHidden\\\"\u003eMy Connection\u003c/span\u003e\"","full_description":"AddonsAndConnectionsHelper#manage_or_learn_more_about when connected is expected to eq \"Manage \u003cspan class=\\\"fe-u-visuallyHidden\\\"\u003eMy Connection\u003c/span\u003e\"","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":811,"run_time":0.012064762,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:20:1:1]","description":"is expected to have visible css \"span.fe-u-textColor--positive.fe-u-fontWeight--bold\" with text \"Connected\"","full_description":"AddonsAndConnectionsHelper#connection_status_info when connected is expected to have visible css \"span.fe-u-textColor--positive.fe-u-fontWeight--bold\" with text \"Connected\"","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":821,"run_time":0.012966132,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:20:2:1]","description":"is expected to have visible css \"span.fe-u-textColor--warning.fe-u-fontWeight--bold\" with text \"Suspended\"","full_description":"AddonsAndConnectionsHelper#connection_status_info when suspended is expected to have visible css \"span.fe-u-textColor--warning.fe-u-fontWeight--bold\" with text \"Suspended\"","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":827,"run_time":0.01386699,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:20:3:1]","description":"is expected not to have visible css \"span.fe-u-fontWeight--bold\"","full_description":"AddonsAndConnectionsHelper#connection_status_info empty status hash is expected not to have visible css \"span.fe-u-fontWeight--bold\"","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":833,"run_time":0.013737045,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:20:4:1]","description":"is expected not to have visible css \"span.fe-u-fontWeight--bold\"","full_description":"AddonsAndConnectionsHelper#connection_status_info nil status is expected not to have visible css \"span.fe-u-fontWeight--bold\"","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":839,"run_time":0.014309811,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:21:1:1]","description":"is expected to have visible css \"span.fe-u-textColor--light.fe-u-fontWeight--bold\" with text \"£75.00 / month (+VAT)\"","full_description":"AddonsAndConnectionsHelper#connection_pricing_info with pricing text is expected to have visible css \"span.fe-u-textColor--light.fe-u-fontWeight--bold\" with text \"£75.00 / month (+VAT)\"","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":849,"run_time":0.014925695,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/addons_and_connections_helper_spec.rb[1:21:2:1]","description":"is expected not to have visible css \"span.fe-u-textColor--light.fe-u-fontWeight--bold\"","full_description":"AddonsAndConnectionsHelper#connection_pricing_info without pricing text is expected not to have visible css \"span.fe-u-textColor--light.fe-u-fontWeight--bold\"","status":"passed","file_path":"./spec/helpers/addons_and_connections_helper_spec.rb","line_number":855,"run_time":0.012556799,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/company_update_spec.rb[1:3]","description":"should allow toggling of the bulk payroll addon","full_description":"PracticeDashboard::CompanyUpdate should allow toggling of the bulk payroll addon","status":"passed","file_path":"./spec/models/practice_dashboard/company_update_spec.rb","line_number":146,"run_time":0.172241198,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/company_update_spec.rb[1:1:1]","description":"can grant bank feed access","full_description":"PracticeDashboard::CompanyUpdate change bank feed access can grant bank feed access","status":"passed","file_path":"./spec/models/practice_dashboard/company_update_spec.rb","line_number":7,"run_time":0.280280133,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/company_update_spec.rb[1:1:2]","description":"can revoke bank feed access","full_description":"PracticeDashboard::CompanyUpdate change bank feed access can revoke bank feed access","status":"passed","file_path":"./spec/models/practice_dashboard/company_update_spec.rb","line_number":23,"run_time":0.235660785,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/company_update_spec.rb[1:1:3]","description":"doesn't throw an exception anymore","full_description":"PracticeDashboard::CompanyUpdate change bank feed access doesn't throw an exception anymore","status":"passed","file_path":"./spec/models/practice_dashboard/company_update_spec.rb","line_number":44,"run_time":0.169020234,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/company_update_spec.rb[1:2:4]","description":"is successful if unchanged","full_description":"PracticeDashboard::CompanyUpdate updating status is successful if unchanged","status":"passed","file_path":"./spec/models/practice_dashboard/company_update_spec.rb","line_number":118,"run_time":0.260853334,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/company_update_spec.rb[1:2:1:1]","description":"doesn't change the status","full_description":"PracticeDashboard::CompanyUpdate updating status new status is not supplied doesn't change the status","status":"passed","file_path":"./spec/models/practice_dashboard/company_update_spec.rb","line_number":70,"run_time":0.16153835,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/company_update_spec.rb[1:2:2:1]","description":"activates the subscription","full_description":"PracticeDashboard::CompanyUpdate updating status new status is 'Active Licence' activates the subscription","status":"passed","file_path":"./spec/models/practice_dashboard/company_update_spec.rb","line_number":89,"run_time":0.157568885,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/company_update_spec.rb[1:2:3:1]","description":"inactivates the subscription","full_description":"PracticeDashboard::CompanyUpdate updating status new status is 'Closed Licence' inactivates the subscription","status":"passed","file_path":"./spec/models/practice_dashboard/company_update_spec.rb","line_number":104,"run_time":0.175975691,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/company_update_spec.rb[1:2:5:1]","description":"raises an exception","full_description":"PracticeDashboard::CompanyUpdate updating status an invalid status is supplied raises an exception","status":"passed","file_path":"./spec/models/practice_dashboard/company_update_spec.rb","line_number":132,"run_time":0.13770973,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/company_update_spec.rb[1:4:1:1]","description":"updates the company's account manager","full_description":"PracticeDashboard::CompanyUpdate changing account manager when the company already has a PracticeClient::Relationship updates the company's account manager","status":"passed","file_path":"./spec/models/practice_dashboard/company_update_spec.rb","line_number":170,"run_time":0.193475926,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/company_update_spec.rb[1:4:1:2]","description":"updates the relationship's account manager and practice","full_description":"PracticeDashboard::CompanyUpdate changing account manager when the company already has a PracticeClient::Relationship updates the relationship's account manager and practice","status":"passed","file_path":"./spec/models/practice_dashboard/company_update_spec.rb","line_number":174,"run_time":0.179008905,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/company_update_spec.rb[1:4:2:1:1]","description":"updates the company's account manager","full_description":"PracticeDashboard::CompanyUpdate changing account manager when the company does not yet have a PracticeClient::Relationship and is practice managed updates the company's account manager","status":"passed","file_path":"./spec/models/practice_dashboard/company_update_spec.rb","line_number":189,"run_time":0.18799821,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/company_update_spec.rb[1:4:2:1:2]","description":"creates a PracticeClient::Relationship","full_description":"PracticeDashboard::CompanyUpdate changing account manager when the company does not yet have a PracticeClient::Relationship and is practice managed creates a PracticeClient::Relationship","status":"passed","file_path":"./spec/models/practice_dashboard/company_update_spec.rb","line_number":193,"run_time":0.20113401,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/company_update_spec.rb[1:4:2:2:1]","description":"updates the company's account manager","full_description":"PracticeDashboard::CompanyUpdate changing account manager when the company does not yet have a PracticeClient::Relationship and is linked updates the company's account manager","status":"passed","file_path":"./spec/models/practice_dashboard/company_update_spec.rb","line_number":206,"run_time":0.164029511,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_dashboard/company_update_spec.rb[1:4:2:2:2]","description":"creates a PracticeClient::Relationship","full_description":"PracticeDashboard::CompanyUpdate changing account manager when the company does not yet have a PracticeClient::Relationship and is linked creates a PracticeClient::Relationship","status":"passed","file_path":"./spec/models/practice_dashboard/company_update_spec.rb","line_number":210,"run_time":0.181616963,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/vat_return_check_spec.rb[1:1:1:1:1]","description":"doesn't report any failure","full_description":"SalesTaxEffects::VatReturnCheck behaves like a sales tax effects check when sales tax effects are correct behaves like no check errors doesn't report any failure","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":2,"run_time":0.128518803,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/vat_return_check_spec.rb[1:1:2:1]","description":"is expected to have a failure on #\u003cVatReturn id: 1023589936, company_id: 314262342, period_ends_on: \"2022-12-31\", basis: \"Invoice\", fr...al_adjustment: 0.0 (BigDecimal), total_value_of_ec_goods_inputs_manual_adjustment: 0.0 (BigDecimal)\u003e","full_description":"SalesTaxEffects::VatReturnCheck behaves like a sales tax effects check when there are unexpected sales tax effects is expected to have a failure on #\u003cVatReturn id: 1023589936, company_id: 314262342, period_ends_on: \"2022-12-31\", basis: \"Invoice\", fr...al_adjustment: 0.0 (BigDecimal), total_value_of_ec_goods_inputs_manual_adjustment: 0.0 (BigDecimal)\u003e","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":222,"run_time":0.113089746,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/vat_return_check_spec.rb[1:1:2:2]","description":"is expected to have a failure like /sales tax effects are incorrect/","full_description":"SalesTaxEffects::VatReturnCheck behaves like a sales tax effects check when there are unexpected sales tax effects is expected to have a failure like /sales tax effects are incorrect/","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":223,"run_time":0.124224917,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/vat_return_check_spec.rb[1:1:3:1:1]","description":"doesn't report any failure","full_description":"SalesTaxEffects::VatReturnCheck behaves like a sales tax effects check when the additional_description of an effect has changed behaves like no check errors doesn't report any failure","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":2,"run_time":0.145799305,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/vat_return_check_spec.rb[1:1:4:1:1]","description":"doesn't report any failure","full_description":"SalesTaxEffects::VatReturnCheck behaves like a sales tax effects check when the description of an effect has changed behaves like no check errors doesn't report any failure","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":2,"run_time":0.137170873,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/vat_return_check_spec.rb[1:1:5:1:1]","description":"doesn't report any failure","full_description":"SalesTaxEffects::VatReturnCheck behaves like a sales tax effects check when the effects are different but have the same tax affect behaves like no check errors doesn't report any failure","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":2,"run_time":0.14834689,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/vat_return_check_spec.rb[1:1:6:1:1]","description":"doesn't report any failure","full_description":"SalesTaxEffects::VatReturnCheck behaves like a sales tax effects check when there are extra effects that sum to nothing behaves like no check errors doesn't report any failure","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":2,"run_time":0.144670663,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/vat_return_check_spec.rb[1:1:7:1]","description":"is expected to have a failure on #\u003cVatReturn id: 1023589942, company_id: 314262342, period_ends_on: \"2022-12-31\", basis: \"Invoice\", fr...al_adjustment: 0.0 (BigDecimal), total_value_of_ec_goods_inputs_manual_adjustment: 0.0 (BigDecimal)\u003e","full_description":"SalesTaxEffects::VatReturnCheck behaves like a sales tax effects check when the effects have the same tax values but different capital_asset_ids is expected to have a failure on #\u003cVatReturn id: 1023589942, company_id: 314262342, period_ends_on: \"2022-12-31\", basis: \"Invoice\", fr...al_adjustment: 0.0 (BigDecimal), total_value_of_ec_goods_inputs_manual_adjustment: 0.0 (BigDecimal)\u003e","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":286,"run_time":0.256862562,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/vat_return_check_spec.rb[1:1:7:2]","description":"is expected to have a failure like /sales tax effects are incorrect/","full_description":"SalesTaxEffects::VatReturnCheck behaves like a sales tax effects check when the effects have the same tax values but different capital_asset_ids is expected to have a failure like /sales tax effects are incorrect/","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":287,"run_time":0.240942661,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/vat_return_check_spec.rb[1:1:8:1]","description":"is expected to have a failure on #\u003cVatReturn id: 1023589944, company_id: 314262342, period_ends_on: \"2022-12-31\", basis: \"Invoice\", fr...al_adjustment: 0.0 (BigDecimal), total_value_of_ec_goods_inputs_manual_adjustment: 0.0 (BigDecimal)\u003e","full_description":"SalesTaxEffects::VatReturnCheck behaves like a sales tax effects check when the bill_item_id column is incorrect is expected to have a failure on #\u003cVatReturn id: 1023589944, company_id: 314262342, period_ends_on: \"2022-12-31\", basis: \"Invoice\", fr...al_adjustment: 0.0 (BigDecimal), total_value_of_ec_goods_inputs_manual_adjustment: 0.0 (BigDecimal)\u003e","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":301,"run_time":0.236360796,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/vat_return_check_spec.rb[1:1:8:2]","description":"is expected to have sales_tax_effects failures","full_description":"SalesTaxEffects::VatReturnCheck behaves like a sales tax effects check when the bill_item_id column is incorrect is expected to have sales_tax_effects failures","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":302,"run_time":0.253021438,"pending_message":null,"screenshot":null},{"id":"./spec/views/subscriptions/show.html.erb_spec.rb[1:1:1]","description":"shows the payment method","full_description":"subscriptions/show for direct subscription with valid billing details shows the payment method","status":"passed","file_path":"./spec/views/subscriptions/show.html.erb_spec.rb","line_number":23,"run_time":0.105971711,"pending_message":null,"screenshot":null},{"id":"./spec/views/subscriptions/show.html.erb_spec.rb[1:1:2]","description":"displays the cancellation options panel","full_description":"subscriptions/show for direct subscription with valid billing details displays the cancellation options panel","status":"passed","file_path":"./spec/views/subscriptions/show.html.erb_spec.rb","line_number":29,"run_time":0.100748974,"pending_message":null,"screenshot":null},{"id":"./spec/views/subscriptions/show.html.erb_spec.rb[1:1:3:1]","description":"does not display the cancellation options panel","full_description":"subscriptions/show for direct subscription with valid billing details with CoPilot enabled does not display the cancellation options panel","status":"passed","file_path":"./spec/views/subscriptions/show.html.erb_spec.rb","line_number":37,"run_time":0.152220765,"pending_message":null,"screenshot":null},{"id":"./spec/views/subscriptions/show.html.erb_spec.rb[1:2:1]","description":"prompts user to update billing details","full_description":"subscriptions/show for direct subscription with invalid billing details prompts user to update billing details","status":"passed","file_path":"./spec/views/subscriptions/show.html.erb_spec.rb","line_number":48,"run_time":0.151587344,"pending_message":null,"screenshot":null},{"id":"./spec/views/subscriptions/show.html.erb_spec.rb[1:3:1]","description":"shows the user their account is managed by RBSG","full_description":"subscriptions/show for an RBSG company shows the user their account is managed by RBSG","status":"passed","file_path":"./spec/views/subscriptions/show.html.erb_spec.rb","line_number":69,"run_time":0.109912178,"pending_message":null,"screenshot":null},{"id":"./spec/views/subscriptions/show.html.erb_spec.rb[1:3:2]","description":"does not show the payment method","full_description":"subscriptions/show for an RBSG company does not show the payment method","status":"passed","file_path":"./spec/views/subscriptions/show.html.erb_spec.rb","line_number":75,"run_time":0.100176864,"pending_message":null,"screenshot":null},{"id":"./spec/views/subscriptions/show.html.erb_spec.rb[1:3:3]","description":"displays the cancellation options panel","full_description":"subscriptions/show for an RBSG company displays the cancellation options panel","status":"passed","file_path":"./spec/views/subscriptions/show.html.erb_spec.rb","line_number":81,"run_time":0.09841291,"pending_message":null,"screenshot":null},{"id":"./spec/views/subscriptions/show.html.erb_spec.rb[1:3:4:1]","description":"shows the payment method","full_description":"subscriptions/show for an RBSG company with CoPilot enabled shows the payment method","status":"passed","file_path":"./spec/views/subscriptions/show.html.erb_spec.rb","line_number":92,"run_time":0.153466781,"pending_message":null,"screenshot":null},{"id":"./spec/views/subscriptions/show.html.erb_spec.rb[1:3:4:2]","description":"does not display the cancellation options panel","full_description":"subscriptions/show for an RBSG company with CoPilot enabled does not display the cancellation options panel","status":"passed","file_path":"./spec/views/subscriptions/show.html.erb_spec.rb","line_number":98,"run_time":0.165287273,"pending_message":null,"screenshot":null},{"id":"./spec/views/subscriptions/show.html.erb_spec.rb[1:4:1]","description":"shows the user their account is managed by BCSG","full_description":"subscriptions/show for a BCSG company shows the user their account is managed by BCSG","status":"passed","file_path":"./spec/views/subscriptions/show.html.erb_spec.rb","line_number":109,"run_time":0.125851092,"pending_message":null,"screenshot":null},{"id":"./spec/views/subscriptions/show.html.erb_spec.rb[1:4:2]","description":"does not show the payment method","full_description":"subscriptions/show for a BCSG company does not show the payment method","status":"passed","file_path":"./spec/views/subscriptions/show.html.erb_spec.rb","line_number":115,"run_time":0.100602944,"pending_message":null,"screenshot":null},{"id":"./spec/views/subscriptions/show.html.erb_spec.rb[1:4:3]","description":"does not display the cancellation options panel","full_description":"subscriptions/show for a BCSG company does not display the cancellation options panel","status":"passed","file_path":"./spec/views/subscriptions/show.html.erb_spec.rb","line_number":121,"run_time":0.118251421,"pending_message":null,"screenshot":null},{"id":"./spec/views/subscriptions/show.html.erb_spec.rb[1:4:4:1]","description":"shows the payment method","full_description":"subscriptions/show for a BCSG company with CoPilot enabled shows the payment method","status":"passed","file_path":"./spec/views/subscriptions/show.html.erb_spec.rb","line_number":132,"run_time":0.161370831,"pending_message":null,"screenshot":null},{"id":"./spec/views/subscriptions/show.html.erb_spec.rb[1:5:1:1]","description":"displays the cancellation options panel","full_description":"subscriptions/show for an Apple subscription on a free trial displays the cancellation options panel","status":"passed","file_path":"./spec/views/subscriptions/show.html.erb_spec.rb","line_number":146,"run_time":0.106019467,"pending_message":null,"screenshot":null},{"id":"./spec/views/subscriptions/show.html.erb_spec.rb[1:5:2:1]","description":"displays the cancellation options panel","full_description":"subscriptions/show for an Apple subscription subscribed via the app store displays the cancellation options panel","status":"passed","file_path":"./spec/views/subscriptions/show.html.erb_spec.rb","line_number":156,"run_time":0.150379054,"pending_message":null,"screenshot":null},{"id":"./spec/features/mobile/contacts_spec.rb[1:1:1]","description":"paginates contacts","full_description":"mobile/contacts the mobile contacts index paginates contacts","status":"passed","file_path":"./spec/features/mobile/contacts_spec.rb","line_number":14,"run_time":1.788760377,"pending_message":null,"screenshot":null},{"id":"./spec/features/mobile/contacts_spec.rb[1:1:2]","description":"paginates search results for regular and mileage expenses","full_description":"mobile/contacts the mobile contacts index paginates search results for regular and mileage expenses","status":"passed","file_path":"./spec/features/mobile/contacts_spec.rb","line_number":29,"run_time":1.212103741,"pending_message":null,"screenshot":null},{"id":"./spec/policies/document_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"DocumentPolicy a user with permission level below ESTIMATES_AND_INVOICES is expected to equal false","status":"passed","file_path":"./spec/policies/document_policy_spec.rb","line_number":34,"run_time":0.234671817,"pending_message":null,"screenshot":null},{"id":"./spec/policies/document_policy_spec.rb[1:1:2:1]","description":"is expected to equal false","full_description":"DocumentPolicy a user with permission level below ESTIMATES_AND_INVOICES when the user is the document's owner is expected to equal false","status":"passed","file_path":"./spec/policies/document_policy_spec.rb","line_number":52,"run_time":0.204523416,"pending_message":null,"screenshot":null},{"id":"./spec/policies/document_policy_spec.rb[1:2:1]","description":"is expected to equal false","full_description":"DocumentPolicy a user with permission level ESTIMATES_AND_INVOICES is expected to equal false","status":"passed","file_path":"./spec/policies/document_policy_spec.rb","line_number":63,"run_time":0.215869273,"pending_message":null,"screenshot":null},{"id":"./spec/policies/document_policy_spec.rb[1:2:2:1]","description":"is expected to equal true","full_description":"DocumentPolicy a user with permission level ESTIMATES_AND_INVOICES when the document is personal and belongs to the user is expected to equal true","status":"passed","file_path":"./spec/policies/document_policy_spec.rb","line_number":78,"run_time":0.123954815,"pending_message":null,"screenshot":null},{"id":"./spec/policies/document_policy_spec.rb[1:2:3:1]","description":"is expected to equal false","full_description":"DocumentPolicy a user with permission level ESTIMATES_AND_INVOICES when the document is personal and doesn't belong to the user is expected to equal false","status":"passed","file_path":"./spec/policies/document_policy_spec.rb","line_number":87,"run_time":0.118852359,"pending_message":null,"screenshot":null},{"id":"./spec/policies/document_policy_spec.rb[1:2:4:1]","description":"is expected to equal false","full_description":"DocumentPolicy a user with permission level ESTIMATES_AND_INVOICES when the user is the document's owner is expected to equal false","status":"passed","file_path":"./spec/policies/document_policy_spec.rb","line_number":99,"run_time":0.204965864,"pending_message":null,"screenshot":null},{"id":"./spec/policies/document_policy_spec.rb[1:3:1]","description":"is expected to equal false","full_description":"DocumentPolicy a user with permission level TAX_AND_LIMITED_ACCOUNTING is expected to equal false","status":"passed","file_path":"./spec/policies/document_policy_spec.rb","line_number":110,"run_time":0.247666065,"pending_message":null,"screenshot":null},{"id":"./spec/policies/document_policy_spec.rb[1:3:2:1]","description":"is expected to equal false","full_description":"DocumentPolicy a user with permission level TAX_AND_LIMITED_ACCOUNTING when the user is the document's owner is expected to equal false","status":"passed","file_path":"./spec/policies/document_policy_spec.rb","line_number":127,"run_time":0.211000353,"pending_message":null,"screenshot":null},{"id":"./spec/policies/document_policy_spec.rb[1:4:1]","description":"is expected to equal true","full_description":"DocumentPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/document_policy_spec.rb","line_number":138,"run_time":0.242129098,"pending_message":null,"screenshot":null},{"id":"./spec/policies/document_policy_spec.rb[1:4:2:1]","description":"is expected to equal false","full_description":"DocumentPolicy an account manager when the document doesn't have an owner is expected to equal false","status":"passed","file_path":"./spec/policies/document_policy_spec.rb","line_number":158,"run_time":0.237246612,"pending_message":null,"screenshot":null},{"id":"./spec/features/admin/banking/daily_tasks/orphaned_bank_transactions_spec.rb[1:1]","description":"check that you can delete orphaned transactions","full_description":"Daily task orphaned bank transactions check that you can delete orphaned transactions","status":"passed","file_path":"./spec/features/admin/banking/daily_tasks/orphaned_bank_transactions_spec.rb","line_number":18,"run_time":1.810675184,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/value_formatter_spec.rb[1:1:1]","description":"returns nil if the item has no capital asset","full_description":"Exporter::ValueFormatter.depreciation_schedule returns nil if the item has no capital asset","status":"passed","file_path":"./spec/models/integrations/exporter/value_formatter_spec.rb","line_number":7,"run_time":0.05195821,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/value_formatter_spec.rb[1:1:2]","description":"returns the deprecation schedule if the item has a capital asset","full_description":"Exporter::ValueFormatter.depreciation_schedule returns the deprecation schedule if the item has a capital asset","status":"passed","file_path":"./spec/models/integrations/exporter/value_formatter_spec.rb","line_number":12,"run_time":0.23072012,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/value_formatter_spec.rb[1:2:1]","description":"returns nil if the ec status is nil","full_description":"Exporter::ValueFormatter.ec_status_text returns nil if the ec status is nil","status":"passed","file_path":"./spec/models/integrations/exporter/value_formatter_spec.rb","line_number":20,"run_time":0.003436267,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/value_formatter_spec.rb[1:2:2]","description":"returns the correct ec status text for the ec status value","full_description":"Exporter::ValueFormatter.ec_status_text returns the correct ec status text for the ec status value","status":"passed","file_path":"./spec/models/integrations/exporter/value_formatter_spec.rb","line_number":24,"run_time":0.049294839,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/value_formatter_spec.rb[1:3:1]","description":"returns yes for true","full_description":"Exporter::ValueFormatter.boolean_text returns yes for true","status":"passed","file_path":"./spec/models/integrations/exporter/value_formatter_spec.rb","line_number":31,"run_time":0.003818691,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/value_formatter_spec.rb[1:3:2]","description":"returns no for false","full_description":"Exporter::ValueFormatter.boolean_text returns no for false","status":"passed","file_path":"./spec/models/integrations/exporter/value_formatter_spec.rb","line_number":35,"run_time":0.003174849,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/value_formatter_spec.rb[1:4:1]","description":"returns the sum of the invoices cached_total_value","full_description":"Exporter::ValueFormatter.invoices_total returns the sum of the invoices cached_total_value","status":"passed","file_path":"./spec/models/integrations/exporter/value_formatter_spec.rb","line_number":41,"run_time":0.274876169,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/value_formatter_spec.rb[1:4:2]","description":"returns 0 if there are no invoices","full_description":"Exporter::ValueFormatter.invoices_total returns 0 if there are no invoices","status":"passed","file_path":"./spec/models/integrations/exporter/value_formatter_spec.rb","line_number":49,"run_time":0.00389309,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/value_formatter_spec.rb[1:5:1]","description":"returns note details on individual lines in date order","full_description":"Exporter::ValueFormatter.notes returns note details on individual lines in date order","status":"passed","file_path":"./spec/models/integrations/exporter/value_formatter_spec.rb","line_number":65,"run_time":0.01284321,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/value_formatter_spec.rb[1:5:2]","description":"prints dates in the requested format","full_description":"Exporter::ValueFormatter.notes prints dates in the requested format","status":"passed","file_path":"./spec/models/integrations/exporter/value_formatter_spec.rb","line_number":74,"run_time":0.005286029,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/value_formatter_spec.rb[1:6:1]","description":"returns nil if the billing period is nil","full_description":"Exporter::ValueFormatter.billing_period_text returns nil if the billing period is nil","status":"passed","file_path":"./spec/models/integrations/exporter/value_formatter_spec.rb","line_number":84,"run_time":0.002555318,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/value_formatter_spec.rb[1:6:2]","description":"returns the correct billing period text for the billing period value","full_description":"Exporter::ValueFormatter.billing_period_text returns the correct billing period text for the billing period value","status":"passed","file_path":"./spec/models/integrations/exporter/value_formatter_spec.rb","line_number":88,"run_time":0.013754553,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/value_formatter_spec.rb[1:7:1]","description":"returns an empty string if there are no projects","full_description":"Exporter::ValueFormatter.project_names returns an empty string if there are no projects","status":"passed","file_path":"./spec/models/integrations/exporter/value_formatter_spec.rb","line_number":95,"run_time":0.002873644,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/value_formatter_spec.rb[1:7:2]","description":"returns comma separated project names if there are multiple","full_description":"Exporter::ValueFormatter.project_names returns comma separated project names if there are multiple","status":"passed","file_path":"./spec/models/integrations/exporter/value_formatter_spec.rb","line_number":99,"run_time":0.08780107,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/value_formatter_spec.rb[1:8:1]","description":"returns none if there are no payment methods","full_description":"Exporter::ValueFormatter.payment_methods_text returns none if there are no payment methods","status":"passed","file_path":"./spec/models/integrations/exporter/value_formatter_spec.rb","line_number":109,"run_time":0.053930392,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/value_formatter_spec.rb[1:8:2]","description":"returns comma separated payment methods if there are multiple","full_description":"Exporter::ValueFormatter.payment_methods_text returns comma separated payment methods if there are multiple","status":"passed","file_path":"./spec/models/integrations/exporter/value_formatter_spec.rb","line_number":114,"run_time":0.180056963,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/value_formatter_spec.rb[1:9:1]","description":"returns nil if first or last name is nil","full_description":"Exporter::ValueFormatter.contact_name returns nil if first or last name is nil","status":"passed","file_path":"./spec/models/integrations/exporter/value_formatter_spec.rb","line_number":123,"run_time":0.003189594,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/value_formatter_spec.rb[1:9:2]","description":"returns the full name if first and last are provided","full_description":"Exporter::ValueFormatter.contact_name returns the full name if first and last are provided","status":"passed","file_path":"./spec/models/integrations/exporter/value_formatter_spec.rb","line_number":129,"run_time":0.002474242,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/value_formatter_spec.rb[1:10:1]","description":"returns nil if the debit value is negative","full_description":"Exporter::ValueFormatter.debit_value returns nil if the debit value is negative","status":"passed","file_path":"./spec/models/integrations/exporter/value_formatter_spec.rb","line_number":135,"run_time":0.002601151,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/value_formatter_spec.rb[1:10:2]","description":"returns the debit value if the debit value is \u003e= 0","full_description":"Exporter::ValueFormatter.debit_value returns the debit value if the debit value is \u003e= 0","status":"passed","file_path":"./spec/models/integrations/exporter/value_formatter_spec.rb","line_number":139,"run_time":0.002402858,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/value_formatter_spec.rb[1:11:1]","description":"returns nil if the debit value is \u003e= 0","full_description":"Exporter::ValueFormatter.credit_value returns nil if the debit value is \u003e= 0","status":"passed","file_path":"./spec/models/integrations/exporter/value_formatter_spec.rb","line_number":145,"run_time":0.002134796,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/value_formatter_spec.rb[1:11:2]","description":"returns the absolute debit value if the debit value is negative","full_description":"Exporter::ValueFormatter.credit_value returns the absolute debit value if the debit value is negative","status":"passed","file_path":"./spec/models/integrations/exporter/value_formatter_spec.rb","line_number":149,"run_time":0.002227298,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/value_formatter_spec.rb[1:12:1]","description":"returns 'Out of Scope' when sales tax is out of scope","full_description":"Exporter::ValueFormatter.sales_tax_rate_text returns 'Out of Scope' when sales tax is out of scope","status":"passed","file_path":"./spec/models/integrations/exporter/value_formatter_spec.rb","line_number":155,"run_time":0.002380301,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/value_formatter_spec.rb[1:12:2]","description":"returns 'Exempt' when sales tax is exempt","full_description":"Exporter::ValueFormatter.sales_tax_rate_text returns 'Exempt' when sales tax is exempt","status":"passed","file_path":"./spec/models/integrations/exporter/value_formatter_spec.rb","line_number":159,"run_time":0.00205163,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/value_formatter_spec.rb[1:12:3]","description":"returns 'Auto' when sales tax is automatic","full_description":"Exporter::ValueFormatter.sales_tax_rate_text returns 'Auto' when sales tax is automatic","status":"passed","file_path":"./spec/models/integrations/exporter/value_formatter_spec.rb","line_number":163,"run_time":0.002229107,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/value_formatter_spec.rb[1:12:4]","description":"returns zero if the rate is zero","full_description":"Exporter::ValueFormatter.sales_tax_rate_text returns zero if the rate is zero","status":"passed","file_path":"./spec/models/integrations/exporter/value_formatter_spec.rb","line_number":167,"run_time":0.002352345,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/value_formatter_spec.rb[1:12:5]","description":"returns the rate if no special rates apply","full_description":"Exporter::ValueFormatter.sales_tax_rate_text returns the rate if no special rates apply","status":"passed","file_path":"./spec/models/integrations/exporter/value_formatter_spec.rb","line_number":171,"run_time":0.00208125,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[9:1]","description":"does not display the Reminder Emails info panel","full_description":"InvoicesController GET :show with a written-off invoice with line items configured to send reminder emails does not display the Reminder Emails info panel","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":997,"run_time":0.360585896,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry/property_linked_spec.rb[1:1:1]","description":"is expected to belong to property required: false","full_description":"BankAccountEntryPropertyLinked associations is expected to belong to property required: false","status":"passed","file_path":"./spec/models/bank_account_entry/property_linked_spec.rb","line_number":12,"run_time":0.149063142,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry/property_linked_spec.rb[1:2:1]","description":"is not valid with a property","full_description":"BankAccountEntryPropertyLinked for a non-landlord company is not valid with a property","status":"passed","file_path":"./spec/models/bank_account_entry/property_linked_spec.rb","line_number":18,"run_time":0.131128274,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry/property_linked_spec.rb[1:2:2]","description":"is valid with no property","full_description":"BankAccountEntryPropertyLinked for a non-landlord company is valid with no property","status":"passed","file_path":"./spec/models/bank_account_entry/property_linked_spec.rb","line_number":22,"run_time":0.137263707,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry/property_linked_spec.rb[1:2:3]","description":"is not when the nominal is empty","full_description":"BankAccountEntryPropertyLinked for a non-landlord company is not when the nominal is empty","status":"passed","file_path":"./spec/models/bank_account_entry/property_linked_spec.rb","line_number":27,"run_time":0.12566739,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry/property_linked_spec.rb[1:3:1]","description":"is valid with a property","full_description":"BankAccountEntryPropertyLinked when the nominal code requires a property is valid with a property","status":"passed","file_path":"./spec/models/bank_account_entry/property_linked_spec.rb","line_number":34,"run_time":0.139246823,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry/property_linked_spec.rb[1:3:2]","description":"is not valid when there is no property","full_description":"BankAccountEntryPropertyLinked when the nominal code requires a property is not valid when there is no property","status":"passed","file_path":"./spec/models/bank_account_entry/property_linked_spec.rb","line_number":38,"run_time":0.140056065,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry/property_linked_spec.rb[1:4:1]","description":"is valid for an expense payment ","full_description":"BankAccountEntryPropertyLinked when the bank account entry does not require property is valid for an expense payment ","status":"passed","file_path":"./spec/models/bank_account_entry/property_linked_spec.rb","line_number":45,"run_time":0.1286889,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry/property_linked_spec.rb[1:4:2]","description":"is valid for a bank transfer","full_description":"BankAccountEntryPropertyLinked when the bank account entry does not require property is valid for a bank transfer","status":"passed","file_path":"./spec/models/bank_account_entry/property_linked_spec.rb","line_number":50,"run_time":0.16689155,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/recurring_bill_job_spec.rb[1:1:1:1]","description":"creates a job for each bill that is ready to recur","full_description":"RecurringBillJob.generate_recurring_bills when the company is active creates a job for each bill that is ready to recur","status":"passed","file_path":"./spec/jobs/recurring_bill_job_spec.rb","line_number":25,"run_time":0.195732906,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/recurring_bill_job_spec.rb[1:1:2:1]","description":"should not generate new recurring bills","full_description":"RecurringBillJob.generate_recurring_bills when the company free trial has expired should not generate new recurring bills","status":"passed","file_path":"./spec/jobs/recurring_bill_job_spec.rb","line_number":38,"run_time":0.12805313,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/recurring_bill_job_spec.rb[1:1:3:1]","description":"should not generate new recurring bills","full_description":"RecurringBillJob.generate_recurring_bills when the company has a suspended subscription should not generate new recurring bills","status":"passed","file_path":"./spec/jobs/recurring_bill_job_spec.rb","line_number":50,"run_time":0.13542995,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/recurring_bill_job_spec.rb[1:1:4:1]","description":"should not generate new recurring bills","full_description":"RecurringBillJob.generate_recurring_bills When the comanies subscription has been cancelled should not generate new recurring bills","status":"passed","file_path":"./spec/jobs/recurring_bill_job_spec.rb","line_number":64,"run_time":0.166622314,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/recurring_bill_job_spec.rb[1:2:1:1]","description":"generates a new bill","full_description":"RecurringBillJob#perform when the bill is ready to recur generates a new bill","status":"passed","file_path":"./spec/jobs/recurring_bill_job_spec.rb","line_number":87,"run_time":0.218425338,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/recurring_bill_job_spec.rb[1:2:1:2]","description":"logs the creation of the bill","full_description":"RecurringBillJob#perform when the bill is ready to recur logs the creation of the bill","status":"passed","file_path":"./spec/jobs/recurring_bill_job_spec.rb","line_number":93,"run_time":0.173989915,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/recurring_bill_job_spec.rb[1:2:2:1]","description":"does not generates a new bill","full_description":"RecurringBillJob#perform when the bill is not ready to recur does not generates a new bill","status":"passed","file_path":"./spec/jobs/recurring_bill_job_spec.rb","line_number":123,"run_time":0.051416051,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/recurring_bill_job_spec.rb[1:2:2:2]","description":"logs that the bill was not ready to recur","full_description":"RecurringBillJob#perform when the bill is not ready to recur logs that the bill was not ready to recur","status":"passed","file_path":"./spec/jobs/recurring_bill_job_spec.rb","line_number":129,"run_time":0.051187506,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/gocardless_controller_spec.rb[1:1:1]","description":"seeing the disabled integration","full_description":"Settings::GocardlessController for a disabled integration seeing the disabled integration","status":"passed","file_path":"./spec/controllers/settings/gocardless_controller_spec.rb","line_number":13,"run_time":0.164641835,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/gocardless_controller_spec.rb[1:1:2]","description":"enabling the integration","full_description":"Settings::GocardlessController for a disabled integration enabling the integration","status":"passed","file_path":"./spec/controllers/settings/gocardless_controller_spec.rb","line_number":28,"run_time":0.031842995,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/gocardless_controller_spec.rb[1:2:1]","description":"viewing the integration","full_description":"Settings::GocardlessController for an enabled integration viewing the integration","status":"passed","file_path":"./spec/controllers/settings/gocardless_controller_spec.rb","line_number":42,"run_time":0.142395387,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/gocardless_controller_spec.rb[1:2:2]","description":"disabling the integration","full_description":"Settings::GocardlessController for an enabled integration disabling the integration","status":"passed","file_path":"./spec/controllers/settings/gocardless_controller_spec.rb","line_number":57,"run_time":0.084669537,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/gocardless_controller_spec.rb[1:2:3]","description":"updating the existing integration settings","full_description":"Settings::GocardlessController for an enabled integration updating the existing integration settings","status":"passed","file_path":"./spec/controllers/settings/gocardless_controller_spec.rb","line_number":68,"run_time":0.062331226,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/gocardless_controller_spec.rb[1:3:1]","description":"seeing a pending integration","full_description":"Settings::GocardlessController for a pending integration seeing a pending integration","status":"passed","file_path":"./spec/controllers/settings/gocardless_controller_spec.rb","line_number":83,"run_time":0.106821921,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/gocardless_controller_spec.rb[1:4:1]","description":"enabling the integration","full_description":"Settings::GocardlessController with existing settings enabling the integration","status":"passed","file_path":"./spec/controllers/settings/gocardless_controller_spec.rb","line_number":97,"run_time":0.036693301,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/kpi_exclusion_handler_spec.rb[1:1]","description":"sets up the correct number of failures","full_description":"HealthRobinson::KPIExclusionHandler sets up the correct number of failures","status":"passed","file_path":"./spec/models/health_robinson/kpi_exclusion_handler_spec.rb","line_number":41,"run_time":0.343409062,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/kpi_exclusion_handler_spec.rb[1:2:1]","description":"excludes the expected failure IDs","full_description":"HealthRobinson::KPIExclusionHandler#failure_ids_to_exclude excludes the expected failure IDs","status":"passed","file_path":"./spec/models/health_robinson/kpi_exclusion_handler_spec.rb","line_number":46,"run_time":0.276221038,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:1:2:1:1:2]","description":"which has been sent","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the cash accounting basis on the Flat Rate Scheme (at 5%) Invoices Given a native currency invoice with 3 line items in 2 categories which has been sent","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":2873,"run_time":0.673560281,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_feeds/paypal_controller_spec.rb[1:1:1]","description":"shows the paypal account show page","full_description":"Admin::BankFeeds::PaypalController GET #show shows the paypal account show page","status":"passed","file_path":"./spec/controllers/admin/bank_feeds/paypal_controller_spec.rb","line_number":18,"run_time":0.202142762,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_feeds/paypal_controller_spec.rb[1:1:2:1]","description":"redirects the user to the unauthorised page","full_description":"Admin::BankFeeds::PaypalController GET #show when an admin user does not have the read direct_bank_feeds permission redirects the user to the unauthorised page","status":"passed","file_path":"./spec/controllers/admin/bank_feeds/paypal_controller_spec.rb","line_number":31,"run_time":0.149673207,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_feeds/paypal_controller_spec.rb[1:1:3:1]","description":"redirects to the banking index page","full_description":"Admin::BankFeeds::PaypalController GET #show when the admin user does not have the 'sudo_paypal_bank_feed_tooling' permission redirects to the banking index page","status":"passed","file_path":"./spec/controllers/admin/bank_feeds/paypal_controller_spec.rb","line_number":41,"run_time":0.127068494,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_feeds/paypal_controller_spec.rb[1:1:4:1]","description":"redirects to the banking index page","full_description":"Admin::BankFeeds::PaypalController GET #show when the company does not have support access enabled redirects to the banking index page","status":"passed","file_path":"./spec/controllers/admin/bank_feeds/paypal_controller_spec.rb","line_number":51,"run_time":0.129169303,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_feeds/paypal_controller_spec.rb[1:2:1]","description":"assigns @paypal_poll_presenter correctly","full_description":"Admin::BankFeeds::PaypalController GET #feed_status_notice assigns @paypal_poll_presenter correctly","status":"passed","file_path":"./spec/controllers/admin/bank_feeds/paypal_controller_spec.rb","line_number":65,"run_time":0.197091926,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:1:1]","description":"is expected to belong to company required: false","full_description":"TylProfile associations is expected to belong to company required: false","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":7,"run_time":0.010580787,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:1:2]","description":"is expected to belong to oauth_token dependent =\u003e destroy optional: true","full_description":"TylProfile associations is expected to belong to oauth_token dependent =\u003e destroy optional: true","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":8,"run_time":0.006522563,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:2:1]","description":"is expected to validate that :tyl_customer_id cannot be empty/falsy","full_description":"TylProfile validations is expected to validate that :tyl_customer_id cannot be empty/falsy","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":12,"run_time":0.0138921,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:2:2]","description":"is expected to validate that :authorisation_id cannot be empty/falsy","full_description":"TylProfile validations is expected to validate that :authorisation_id cannot be empty/falsy","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":13,"run_time":0.011981726,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:2:3]","description":"is expected not to validate that :tyl_merchant_id cannot be empty/falsy","full_description":"TylProfile validations is expected not to validate that :tyl_merchant_id cannot be empty/falsy","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":14,"run_time":0.007123993,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:2:5]","description":"is expected to validate that the length of :tyl_merchant_id is at most 10","full_description":"TylProfile validations is expected to validate that the length of :tyl_merchant_id is at most 10","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":24,"run_time":0.005427652,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:2:6]","description":"is expected to validate that the length of :tyl_customer_id is at most 50","full_description":"TylProfile validations is expected to validate that the length of :tyl_customer_id is at most 50","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":25,"run_time":0.005161615,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:2:7]","description":"is expected to validate that the length of :tyl_store_name is at most 255","full_description":"TylProfile validations is expected to validate that the length of :tyl_store_name is at most 255","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":27,"run_time":0.005122708,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:2:8]","description":"is expected to validate that the length of :authorisation_id is at most 50","full_description":"TylProfile validations is expected to validate that the length of :authorisation_id is at most 50","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":28,"run_time":0.004957201,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:2:9]","description":"is expected to validate that :company cannot be empty/falsy","full_description":"TylProfile validations is expected to validate that :company cannot be empty/falsy","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":30,"run_time":0.00631777,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:2:10]","description":"is expected to validate that :state is either ‹\"ReadyForBoarding\"›, ‹\"InProgress\"›, ‹\"Enabled\"›, or ‹\"NotSupported\"›","full_description":"TylProfile validations is expected to validate that :state is either ‹\"ReadyForBoarding\"›, ‹\"InProgress\"›, ‹\"Enabled\"›, or ‹\"NotSupported\"›","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":32,"run_time":0.012376344,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:2:11]","description":"is expected to validate that :company is unique","full_description":"TylProfile validations is expected to validate that :company is unique","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":34,"run_time":0.016436429,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:2:4:1]","description":"is expected to validate that :tyl_merchant_id cannot be empty/falsy","full_description":"TylProfile validations when working under v1 API assumptions is expected to validate that :tyl_merchant_id cannot be empty/falsy","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":19,"run_time":0.01419758,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:2:4:2]","description":"is expected not to validate that :tyl_customer_id cannot be empty/falsy","full_description":"TylProfile validations when working under v1 API assumptions is expected not to validate that :tyl_customer_id cannot be empty/falsy","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":20,"run_time":0.009380709,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:2:4:3]","description":"is expected not to validate that :authorisation_id cannot be empty/falsy","full_description":"TylProfile validations when working under v1 API assumptions is expected not to validate that :authorisation_id cannot be empty/falsy","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":21,"run_time":0.009573644,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:3:1:1:1]","description":"is expected to be truthy","full_description":"TylProfile#ready_for_pay_by_link? when status is unknown and the customer is from the mvp is expected to be truthy","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":49,"run_time":0.005257601,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:3:1:2:1]","description":"is expected to be falsey","full_description":"TylProfile#ready_for_pay_by_link? when status is unknown and the customer connected in v2 is expected to be falsey","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":55,"run_time":0.004193209,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:3:2:1]","description":"is expected to be truthy","full_description":"TylProfile#ready_for_pay_by_link? when status is 'enabled' is expected to be truthy","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":62,"run_time":0.00389788,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:3:3:1]","description":"is expected to be falsey","full_description":"TylProfile#ready_for_pay_by_link? when status is not 'enabled' is expected to be falsey","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":68,"run_time":0.003874042,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:4:1:1]","description":"is expected to be ready for boarding","full_description":"TylProfile state query methods with a 'ready for boarding' profile is expected to be ready for boarding","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":76,"run_time":0.003979092,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:4:1:2]","description":"is expected not to be in progress","full_description":"TylProfile state query methods with a 'ready for boarding' profile is expected not to be in progress","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":77,"run_time":0.004027437,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:4:1:3]","description":"is expected not to be not supported","full_description":"TylProfile state query methods with a 'ready for boarding' profile is expected not to be not supported","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":78,"run_time":0.00420719,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:4:1:4]","description":"is expected not to be enabled","full_description":"TylProfile state query methods with a 'ready for boarding' profile is expected not to be enabled","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":79,"run_time":0.004266123,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:4:2:1]","description":"is expected not to be ready for boarding","full_description":"TylProfile state query methods with an 'in progress' profile is expected not to be ready for boarding","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":85,"run_time":0.004379539,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:4:2:2]","description":"is expected to be in progress","full_description":"TylProfile state query methods with an 'in progress' profile is expected to be in progress","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":86,"run_time":0.003984174,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:4:2:3]","description":"is expected not to be not supported","full_description":"TylProfile state query methods with an 'in progress' profile is expected not to be not supported","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":87,"run_time":0.00414731,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:4:2:4]","description":"is expected not to be enabled","full_description":"TylProfile state query methods with an 'in progress' profile is expected not to be enabled","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":88,"run_time":0.003918814,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:4:3:1]","description":"is expected not to be ready for boarding","full_description":"TylProfile state query methods with a 'not supported' profile is expected not to be ready for boarding","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":94,"run_time":0.004161205,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:4:3:2]","description":"is expected not to be in progress","full_description":"TylProfile state query methods with a 'not supported' profile is expected not to be in progress","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":95,"run_time":0.003850781,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:4:3:3]","description":"is expected to be not supported","full_description":"TylProfile state query methods with a 'not supported' profile is expected to be not supported","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":96,"run_time":0.003730019,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:4:3:4]","description":"is expected not to be enabled","full_description":"TylProfile state query methods with a 'not supported' profile is expected not to be enabled","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":97,"run_time":0.003933648,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:4:4:1]","description":"is expected not to be ready for boarding","full_description":"TylProfile state query methods with an 'enabled' profile is expected not to be ready for boarding","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":103,"run_time":0.004004941,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:4:4:2]","description":"is expected not to be in progress","full_description":"TylProfile state query methods with an 'enabled' profile is expected not to be in progress","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":104,"run_time":0.003795107,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:4:4:3]","description":"is expected not to be not supported","full_description":"TylProfile state query methods with an 'enabled' profile is expected not to be not supported","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":105,"run_time":0.003635382,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:4:4:4]","description":"is expected to be enabled","full_description":"TylProfile state query methods with an 'enabled' profile is expected to be enabled","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":106,"run_time":0.003758134,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:5:1:1]","description":"is expected to be truthy","full_description":"TylProfile#mvp_customer? for an MVP customer is expected to be truthy","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":116,"run_time":0.003782898,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:5:2:1]","description":"is expected to be falsey","full_description":"TylProfile#mvp_customer? for a regular v2 customer is expected to be falsey","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":122,"run_time":0.003864864,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:6:1:1]","description":"is expected to equal true","full_description":"TylProfile#consented? with an oauth token is expected to equal true","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":132,"run_time":0.007427981,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:6:2:1]","description":"is expected to equal false","full_description":"TylProfile#consented? with no oauth token is expected to equal false","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":138,"run_time":0.009711401,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:7:1:1:1]","description":"is expected to be blank","full_description":"TylProfile#tyl_customer_id when using V1 of the API when neither ID is populated is expected to be blank","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":154,"run_time":0.007791745,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:7:1:2:1]","description":"is expected to eq \"123\"","full_description":"TylProfile#tyl_customer_id when using V1 of the API when just the merchant ID is populated is expected to eq \"123\"","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":161,"run_time":0.007387779,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:7:1:3:1]","description":"is expected to be blank","full_description":"TylProfile#tyl_customer_id when using V1 of the API when just the customer ID is populated is expected to be blank","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":168,"run_time":0.007087455,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:7:1:4:1]","description":"is expected to eq \"123\"","full_description":"TylProfile#tyl_customer_id when using V1 of the API when both IDs are populated is expected to eq \"123\"","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":175,"run_time":0.007389022,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:7:2:1:1]","description":"is expected to be blank","full_description":"TylProfile#tyl_customer_id when using V2 of the API when neither ID is populated is expected to be blank","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":184,"run_time":0.005001159,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:7:2:2:1]","description":"is expected to eq \"123\"","full_description":"TylProfile#tyl_customer_id when using V2 of the API when just the merchant ID is populated is expected to eq \"123\"","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":191,"run_time":0.005218,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:7:2:3:1]","description":"is expected to eq \"456\"","full_description":"TylProfile#tyl_customer_id when using V2 of the API when just the customer ID is populated is expected to eq \"456\"","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":198,"run_time":0.005550838,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:7:2:4:1]","description":"is expected to eq \"456\"","full_description":"TylProfile#tyl_customer_id when using V2 of the API when both IDs are populated is expected to eq \"456\"","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":205,"run_time":0.004999727,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:8:1:1]","description":"creates a new token","full_description":"TylProfile#save_with_merchant_details! with v1 claims creates a new token","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":239,"run_time":0.014150748,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:8:1:2]","description":"saves the profile with the tyl merchant details","full_description":"TylProfile#save_with_merchant_details! with v1 claims saves the profile with the tyl merchant details","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":249,"run_time":0.01306991,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:8:1:3:1]","description":"raises an exception","full_description":"TylProfile#save_with_merchant_details! with v1 claims with invalid claims data raises an exception","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":261,"run_time":0.014504647,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:8:2:1]","description":"creates a new token","full_description":"TylProfile#save_with_merchant_details! with v2 claims creates a new token","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":281,"run_time":0.011637574,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:8:2:2]","description":"saves the profile with the tyl customer details","full_description":"TylProfile#save_with_merchant_details! with v2 claims saves the profile with the tyl customer details","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":291,"run_time":0.010959253,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:8:2:3:1]","description":"still stores it in the correct field","full_description":"TylProfile#save_with_merchant_details! with v2 claims with legacy 'tylCustomerId' claims key still stores it in the correct field","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":308,"run_time":0.010530574,"pending_message":null,"screenshot":null},{"id":"./spec/models/tyl_profile_spec.rb[1:8:2:4:1]","description":"raises an exception","full_description":"TylProfile#save_with_merchant_details! with v2 claims with invalid claims data raises an exception","status":"passed","file_path":"./spec/models/tyl_profile_spec.rb","line_number":317,"run_time":0.009301304,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transaction_search_spec.rb[1:1:1:1]","description":"is expected to be indexable via bulk index scope","full_description":"BankTransaction Search behaves like a search indexable model #bulk_index is expected to be indexable via bulk index scope","status":"passed","file_path":"./spec/support/shared_examples/search_indexable_model.rb","line_number":5,"run_time":0.105556409,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transaction_search_spec.rb[1:1:2:1]","description":"generates successfully on a new instance","full_description":"BankTransaction Search behaves like a search indexable model #indexable_fields generates successfully on a new instance","status":"passed","file_path":"./spec/support/shared_examples/search_indexable_model.rb","line_number":9,"run_time":0.098367045,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/bank_transaction_search_spec.rb[1:2:1]","description":"generates an indexable document","full_description":"BankTransaction Search #indexable_fields generates an indexable document","status":"passed","file_path":"./spec/models/search/bank_transaction_search_spec.rb","line_number":21,"run_time":0.186579899,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_card_segment.html.erb_spec.rb[1:1]","description":"renders a card segment when content is passed","full_description":"freestyle/components/_card_segment renders a card segment when content is passed","status":"passed","file_path":"./spec/views/freestyle/components/_card_segment.html.erb_spec.rb","line_number":5,"run_time":0.050427173,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_card_segment.html.erb_spec.rb[1:2]","description":"renders a secondary card segment when the property is passed","full_description":"freestyle/components/_card_segment renders a secondary card segment when the property is passed","status":"passed","file_path":"./spec/views/freestyle/components/_card_segment.html.erb_spec.rb","line_number":12,"run_time":0.043559646,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_card_segment.html.erb_spec.rb[1:3]","description":"renders a fullBleed card segment when the property is passed","full_description":"freestyle/components/_card_segment renders a fullBleed card segment when the property is passed","status":"passed","file_path":"./spec/views/freestyle/components/_card_segment.html.erb_spec.rb","line_number":19,"run_time":0.045517303,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_card_segment.html.erb_spec.rb[1:4]","description":"renders a Contrasted background on a card segment when the property is passed","full_description":"freestyle/components/_card_segment renders a Contrasted background on a card segment when the property is passed","status":"passed","file_path":"./spec/views/freestyle/components/_card_segment.html.erb_spec.rb","line_number":26,"run_time":0.046013162,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_card_segment.html.erb_spec.rb[1:5]","description":"renders a Title variation card segment when the property is passed","full_description":"freestyle/components/_card_segment renders a Title variation card segment when the property is passed","status":"passed","file_path":"./spec/views/freestyle/components/_card_segment.html.erb_spec.rb","line_number":33,"run_time":0.047356637,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_card_segment.html.erb_spec.rb[1:6]","description":"adds classes passed to card segment","full_description":"freestyle/components/_card_segment adds classes passed to card segment","status":"passed","file_path":"./spec/views/freestyle/components/_card_segment.html.erb_spec.rb","line_number":40,"run_time":0.046213743,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_card_segment.html.erb_spec.rb[1:7]","description":"renders the a different element for the segment when a tag is passed","full_description":"freestyle/components/_card_segment renders the a different element for the segment when a tag is passed","status":"passed","file_path":"./spec/views/freestyle/components/_card_segment.html.erb_spec.rb","line_number":45,"run_time":0.044654002,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/notifications_controller_spec.rb[1:1:1]","description":"is expected to respond with a success status code (2xx)","full_description":"PracticeDashboard::NotificationsController Hiding an alert is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/practice_dashboard/notifications_controller_spec.rb","line_number":19,"run_time":0.193520595,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/notifications_controller_spec.rb[1:1:2]","description":"dismisses the notification","full_description":"PracticeDashboard::NotificationsController Hiding an alert dismisses the notification","status":"passed","file_path":"./spec/controllers/practice_dashboard/notifications_controller_spec.rb","line_number":21,"run_time":0.177921211,"pending_message":null,"screenshot":null},{"id":"./spec/requests/login_subdomain_spec.rb[1:1]","description":"login as a user","full_description":"the login subdomain login as a user","status":"passed","file_path":"./spec/requests/login_subdomain_spec.rb","line_number":7,"run_time":0.766137192,"pending_message":null,"screenshot":null},{"id":"./spec/requests/login_subdomain_spec.rb[1:2]","description":"redirects you if you visit while being logged in","full_description":"the login subdomain redirects you if you visit while being logged in","status":"passed","file_path":"./spec/requests/login_subdomain_spec.rb","line_number":24,"run_time":0.374244893,"pending_message":null,"screenshot":null},{"id":"./spec/requests/login_subdomain_spec.rb[1:3]","description":"logs you out if `current_account` is not set and logs a message","full_description":"the login subdomain logs you out if `current_account` is not set and logs a message","status":"passed","file_path":"./spec/requests/login_subdomain_spec.rb","line_number":37,"run_time":0.131224173,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:2:2:1:1:3:3]","description":"generates one ledger entry for bad debts for the total value (including VAT)","full_description":"UkAccountsMapper Accounts Mapper for UK companies who have applied for VAT registration after their registration effective date Invoices Given a native currency invoice with 3 line items in 2 categories which has been cancelled generates one ledger entry for bad debts for the total value (including VAT)","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":1455,"run_time":0.377187681,"pending_message":null,"screenshot":null}],"summary":{"duration":3.137727028,"example_count":761,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"761 examples, 0 failures"}