{"version":"3.11.0","messages":["Run options:\n  include {:ids=\u003e{\"./spec/models/uk_accounts_mapper_spec.rb\"=\u003e[\"1:2:2:2:3\", \"1:2:1:2:1:2\"], \"./spec/controllers/invoices_controller_spec.rb\"=\u003e[\"12:8:1\"], \"./spec/models/invoice_spec.rb\"=\u003e[\"1:16:3:1\", \"1:86:1\"]}}\n  exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/features/self_assessment/version3_self_assessment_forms_spec.rb[1:1:1]","description":"allows submission in a locked period","full_description":"Version 3 Self Assessment Forms for limited company director allows submission in a locked period","status":"passed","file_path":"./spec/features/self_assessment/version3_self_assessment_forms_spec.rb","line_number":26,"run_time":19.844028843,"pending_message":null,"screenshot":null},{"id":"./spec/features/self_assessment/version3_self_assessment_forms_spec.rb[1:1:2]","description":"User has a payroll profile, views their SA return, but then deletes their payroll profile","full_description":"Version 3 Self Assessment Forms for limited company director User has a payroll profile, views their SA return, but then deletes their payroll profile","status":"passed","file_path":"./spec/features/self_assessment/version3_self_assessment_forms_spec.rb","line_number":59,"run_time":6.407824437,"pending_message":null,"screenshot":null},{"id":"./spec/features/self_assessment/version3_self_assessment_forms_spec.rb[1:2:1]","description":"does not allow submission in a locked period","full_description":"Version 3 Self Assessment Forms for a sole trader owner does not allow submission in a locked period","status":"passed","file_path":"./spec/features/self_assessment/version3_self_assessment_forms_spec.rb","line_number":101,"run_time":6.065044668,"pending_message":null,"screenshot":null},{"id":"./spec/features/self_assessment/version3_self_assessment_forms_spec.rb[1:2:2]","description":"enter nominee details when overpaid tax and a selected bank account","full_description":"Version 3 Self Assessment Forms for a sole trader owner enter nominee details when overpaid tax and a selected bank account","status":"passed","file_path":"./spec/features/self_assessment/version3_self_assessment_forms_spec.rb","line_number":127,"run_time":3.87868441,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/sidebar/total_unexplained_transactions_spec.rb[1:1:1]","description":"the total unexplained transactions panel is not shown","full_description":"Banking Sidebar - Total unexplained transactions panel When there are no transactions the total unexplained transactions panel is not shown","status":"passed","file_path":"./spec/features/new_banking/sidebar/total_unexplained_transactions_spec.rb","line_number":11,"run_time":2.317278521,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/sidebar/total_unexplained_transactions_spec.rb[1:2:1]","description":"the total unexplained transactions panel is not shown","full_description":"Banking Sidebar - Total unexplained transactions panel When the account is a personal account with unexplained transactions the total unexplained transactions panel is not shown","status":"passed","file_path":"./spec/features/new_banking/sidebar/total_unexplained_transactions_spec.rb","line_number":28,"run_time":1.094641684,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/sidebar/total_unexplained_transactions_spec.rb[1:3:1]","description":"total unexplained transactions panel display and filter links","full_description":"Banking Sidebar - Total unexplained transactions panel When there are unexplained transactions total unexplained transactions panel display and filter links","status":"passed","file_path":"./spec/features/new_banking/sidebar/total_unexplained_transactions_spec.rb","line_number":50,"run_time":1.777143228,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/sidebar/total_unexplained_transactions_spec.rb[1:3:2]","description":"explaining and unexplaining transactions modifies counts","full_description":"Banking Sidebar - Total unexplained transactions panel When there are unexplained transactions explaining and unexplaining transactions modifies counts","status":"passed","file_path":"./spec/features/new_banking/sidebar/total_unexplained_transactions_spec.rb","line_number":87,"run_time":4.00659177,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/sidebar/total_unexplained_transactions_spec.rb[1:3:3]","description":"bulk explaining transactions modifies unexplained counts","full_description":"Banking Sidebar - Total unexplained transactions panel When there are unexplained transactions bulk explaining transactions modifies unexplained counts","status":"passed","file_path":"./spec/features/new_banking/sidebar/total_unexplained_transactions_spec.rb","line_number":129,"run_time":4.837186273,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/sidebar/total_unexplained_transactions_spec.rb[1:3:4]","description":"deleting transactions decrements the month and total unexplained counts","full_description":"Banking Sidebar - Total unexplained transactions panel When there are unexplained transactions deleting transactions decrements the month and total unexplained counts","status":"passed","file_path":"./spec/features/new_banking/sidebar/total_unexplained_transactions_spec.rb","line_number":166,"run_time":3.250160169,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/sidebar/total_unexplained_transactions_spec.rb[1:4:1]","description":"total unexplained panel is not shown, but displays when explanations are removed","full_description":"Banking Sidebar - Total unexplained transactions panel When there are only explained transactions total unexplained panel is not shown, but displays when explanations are removed","status":"passed","file_path":"./spec/features/new_banking/sidebar/total_unexplained_transactions_spec.rb","line_number":206,"run_time":3.979352209,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:1:1:1:1]","description":"returns a category defined on the Insight model","full_description":"Radar::Insights::Rules::NewEmployeesAdded behaves like an insight rule behaves like a ping rule #category returns a category defined on the Insight model","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":11,"run_time":0.009184987,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:1:1:2:1]","description":"returns a boolean","full_description":"Radar::Insights::Rules::NewEmployeesAdded behaves like an insight rule behaves like a ping rule #send_notifications? returns a boolean","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":17,"run_time":0.004140454,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:1:2:1]","description":"has category Insight","full_description":"Radar::Insights::Rules::NewEmployeesAdded behaves like an insight rule #category has category Insight","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rules/concerns/insight_category.rb","line_number":10,"run_time":0.00377316,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:2:1]","description":"returns eligible users to be notified","full_description":"Radar::Insights::Rules::NewEmployeesAdded behaves like notifier for users with level 8 only returns eligible users to be notified","status":"passed","file_path":"./spec/support/shared_examples/insights_rules_permission_level_examples.rb","line_number":49,"run_time":0.122181251,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:2:2]","description":"does not return ineligible users to be notified","full_description":"Radar::Insights::Rules::NewEmployeesAdded behaves like notifier for users with level 8 only does not return ineligible users to be notified","status":"passed","file_path":"./spec/support/shared_examples/insights_rules_permission_level_examples.rb","line_number":53,"run_time":0.117978941,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:3:1:1]","description":"returns the category","full_description":"Radar::Insights::Rules::NewEmployeesAdded behaves like a valid insight rule #category returns the category","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":14,"run_time":0.206482116,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:3:2:1]","description":"creates a new insight","full_description":"Radar::Insights::Rules::NewEmployeesAdded behaves like a valid insight rule #evaluate creates a new insight","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":20,"run_time":0.227607785,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:3:2:2]","description":"persists insight details","full_description":"Radar::Insights::Rules::NewEmployeesAdded behaves like a valid insight rule #evaluate persists insight details","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":28,"run_time":0.214166612,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:3:2:3]","description":"notifies users in the company","full_description":"Radar::Insights::Rules::NewEmployeesAdded behaves like a valid insight rule #evaluate notifies users in the company","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":36,"run_time":0.219295702,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:3:3:1]","description":"creates a user insight notification for all notifiable users","full_description":"Radar::Insights::Rules::NewEmployeesAdded behaves like a valid insight rule #notify creates a user insight notification for all notifiable users","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":44,"run_time":0.184538274,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:4:1]","description":"is expected to eq \"new_employees_added:895397845:2021-07-01\"","full_description":"Radar::Insights::Rules::NewEmployeesAdded#key is expected to eq \"new_employees_added:895397845:2021-07-01\"","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":70,"run_time":0.098189915,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:5:1]","description":"should include companies with payroll profiles added today","full_description":"Radar::Insights::Rules::NewEmployeesAdded.companies_for_evaluation should include companies with payroll profiles added today","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":78,"run_time":0.151702391,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:5:2]","description":"should include companies with payroll profiles added in the past day","full_description":"Radar::Insights::Rules::NewEmployeesAdded.companies_for_evaluation should include companies with payroll profiles added in the past day","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":82,"run_time":0.181484476,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:5:3]","description":"should not include companies with payroll profiles added more than 1 day ago","full_description":"Radar::Insights::Rules::NewEmployeesAdded.companies_for_evaluation should not include companies with payroll profiles added more than 1 day ago","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":87,"run_time":0.184084495,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:5:4:1]","description":"should not be included","full_description":"Radar::Insights::Rules::NewEmployeesAdded.companies_for_evaluation when a company has seen this insight in the past 45 days should not be included","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":97,"run_time":0.182639862,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:5:5:1]","description":"should not be included","full_description":"Radar::Insights::Rules::NewEmployeesAdded.companies_for_evaluation when a company has seen the CoPilot recent employer insight in the past 45 days should not be included","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":107,"run_time":0.169465956,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:5:6:1]","description":"should still be included","full_description":"Radar::Insights::Rules::NewEmployeesAdded.companies_for_evaluation when a company has seen similar insights more than 45 days ago should still be included","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":117,"run_time":0.19048604,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:5:7:1]","description":"should not be included","full_description":"Radar::Insights::Rules::NewEmployeesAdded.companies_for_evaluation when the company doesn't have two current employees on payroll should not be included","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":125,"run_time":0.1898204,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:5:8:1]","description":"should exclude UK full access companies without payroll profiles","full_description":"Radar::Insights::Rules::NewEmployeesAdded.companies_for_evaluation for companies is out of scope for this insight should exclude UK full access companies without payroll profiles","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":146,"run_time":0.796259134,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:5:8:2]","description":"should exclude landlord companies even if they have payroll profiles","full_description":"Radar::Insights::Rules::NewEmployeesAdded.companies_for_evaluation for companies is out of scope for this insight should exclude landlord companies even if they have payroll profiles","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":150,"run_time":0.690983009,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:5:8:3]","description":"should exclude non-UK companies even if they have payroll profiles","full_description":"Radar::Insights::Rules::NewEmployeesAdded.companies_for_evaluation for companies is out of scope for this insight should exclude non-UK companies even if they have payroll profiles","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":154,"run_time":0.707636261,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:5:8:4]","description":"should exclude inactive companies even if they have payroll profiles","full_description":"Radar::Insights::Rules::NewEmployeesAdded.companies_for_evaluation for companies is out of scope for this insight should exclude inactive companies even if they have payroll profiles","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":158,"run_time":0.73076028,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:6:1:1:1]","description":"is expected to be truthy","full_description":"Radar::Insights::Rules::NewEmployeesAdded#should_evaluate? when the company is eligible for commercial connections and insights and has added a new employee in the past day is expected to be truthy","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":183,"run_time":0.198258944,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:6:2:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::NewEmployeesAdded#should_evaluate? when the company has inactive commercial propositions preferences is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":190,"run_time":0.172386235,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:6:3:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::NewEmployeesAdded#should_evaluate? when the company has not yet seen 2 other insights excluding the Welcome insight is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":198,"run_time":0.208346044,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:6:4:1:1]","description":"is expected to be truthy","full_description":"Radar::Insights::Rules::NewEmployeesAdded#should_evaluate? CoPilot and Hiscox eligibility when the company is not eligible for CoPilot, but is eligible for Hiscox is expected to be truthy","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":206,"run_time":0.152112331,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:6:4:2:1]","description":"is expected to be truthy","full_description":"Radar::Insights::Rules::NewEmployeesAdded#should_evaluate? CoPilot and Hiscox eligibility when the company is not eligible for Hiscox, but is eligible for CoPilot is expected to be truthy","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":213,"run_time":0.178887702,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:6:4:3:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::NewEmployeesAdded#should_evaluate? CoPilot and Hiscox eligibility when the company is not eligible for Hiscox or CoPilot is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":220,"run_time":0.167140407,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:6:5:1:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::NewEmployeesAdded#should_evaluate? when adding new payroll records when the company has added a new employee to payroll more than 1 day ago is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":228,"run_time":0.162215914,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:6:5:2:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::NewEmployeesAdded#should_evaluate? when adding new payroll records when the company has added a new payroll record for an existing employee in the past day is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":243,"run_time":0.179491187,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:6:5:3:1]","description":"is expected to be truthy","full_description":"Radar::Insights::Rules::NewEmployeesAdded#should_evaluate? when adding new payroll records when the company has added a new payroll record for a returning employee in the past day is expected to be truthy","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":258,"run_time":0.193608605,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:7:1]","description":"should always be true","full_description":"Radar::Insights::Rules::NewEmployeesAdded#applies? should always be true","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":269,"run_time":0.087093958,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:8:1:1]","description":"is expected to be truthy","full_description":"Radar::Insights::Rules::NewEmployeesAdded#should_notify? the account owner is expected to be truthy","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":284,"run_time":0.090122802,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:8:2:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::NewEmployeesAdded#should_notify? not the account owner is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":290,"run_time":0.099298064,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:9:1:1:1]","description":"populates them appropriately","full_description":"Radar::Insights::Rules::NewEmployeesAdded#details employee name and count keys with no employees added yesterday populates them appropriately","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":321,"run_time":0.282497684,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:9:1:2:1]","description":"populates them appropriately","full_description":"Radar::Insights::Rules::NewEmployeesAdded#details employee name and count keys with one employee added yesterday populates them appropriately","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":330,"run_time":0.345134671,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:9:1:3:1]","description":"populates them appropriately","full_description":"Radar::Insights::Rules::NewEmployeesAdded#details employee name and count keys with two employees added yesterday populates them appropriately","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":339,"run_time":0.61385368,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:9:2:1:1]","description":"is expected to be truthy","full_description":"Radar::Insights::Rules::NewEmployeesAdded#details :has_insurance key with insurance-explained transactions is expected to be truthy","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":362,"run_time":0.040457435,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:9:2:2:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::NewEmployeesAdded#details :has_insurance key without insurance-explained transactions is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":368,"run_time":0.040415331,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:9:3:1]","description":"should always be false","full_description":"Radar::Insights::Rules::NewEmployeesAdded#details content override keys should always be false","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":376,"run_time":0.046362985,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:9:4:1:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::NewEmployeesAdded#details historical wording key by default, without the historical wording option is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":386,"run_time":0.035082333,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/new_employees_added_spec.rb[1:9:4:2:1]","description":"is expected to be truthy","full_description":"Radar::Insights::Rules::NewEmployeesAdded#details historical wording key when specifying the historical wording option is expected to be truthy","status":"passed","file_path":"./spec/models/radar/insights/rules/new_employees_added_spec.rb","line_number":392,"run_time":0.048874234,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/payroll/bulk_payroll_spec.rb[1:1:1]","description":"allows the account manager to set if a company is included in bulk payroll","full_description":"BulkPayroll with existing clients allows the account manager to set if a company is included in bulk payroll","status":"passed","file_path":"./spec/features/practice_dashboard/payroll/bulk_payroll_spec.rb","line_number":12,"run_time":2.132249825,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/payroll/bulk_payroll_spec.rb[1:1:2:1]","description":"allows user to access bulk payroll index","full_description":"BulkPayroll with existing clients managing a bulk payrun mid year allows user to access bulk payroll index","status":"passed","file_path":"./spec/features/practice_dashboard/payroll/bulk_payroll_spec.rb","line_number":45,"run_time":1.639743178,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/payroll/bulk_payroll_spec.rb[1:1:2:2]","description":"Prepare and file payroll, ensure that encrypted passwords are deleted on completion","full_description":"BulkPayroll with existing clients managing a bulk payrun mid year Prepare and file payroll, ensure that encrypted passwords are deleted on completion","status":"passed","file_path":"./spec/features/practice_dashboard/payroll/bulk_payroll_spec.rb","line_number":66,"run_time":3.754981383,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/payroll/bulk_payroll_spec.rb[1:1:3:1]","description":"shows the previous payrun when the tax year changes","full_description":"BulkPayroll with existing clients managing a bulk payrun over the end of the year shows the previous payrun when the tax year changes","status":"passed","file_path":"./spec/features/practice_dashboard/payroll/bulk_payroll_spec.rb","line_number":119,"run_time":1.281697607,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/payroll/bulk_payroll_spec.rb[1:1:4:1]","description":"shows the prepare \u0026 prepare and file buttons as active all the time","full_description":"BulkPayroll with existing clients managing a bulk payrun when no clients are included shows the prepare \u0026 prepare and file buttons as active all the time","status":"passed","file_path":"./spec/features/practice_dashboard/payroll/bulk_payroll_spec.rb","line_number":133,"run_time":1.557612291,"pending_message":null,"screenshot":null},{"id":"./spec/features/getting_started_spec.rb[1:5:1:4:1:1:1]","description":"can complete setup","full_description":"Getting Started for an RBSG agent signup with UK company type with the personalise_setup_stage feature flag enabled and the personalisation_interests_setup_stage flag disabled for RBS can complete setup","status":"passed","file_path":"./spec/features/getting_started_spec.rb","line_number":351,"run_time":7.9255484,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/close_a_client_spec.rb[1:1:1]","description":"should allow closure","full_description":"Close a client with active client where the accountancy practice has a trial sale should allow closure","status":"passed","file_path":"./spec/features/practice_dashboard/close_a_client_spec.rb","line_number":29,"run_time":1.634403616,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/close_a_client_spec.rb[1:2:1]","description":"should allow closure","full_description":"Close a client with active client who is in their free period should allow closure","status":"passed","file_path":"./spec/features/practice_dashboard/close_a_client_spec.rb","line_number":67,"run_time":1.519499492,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/close_a_client_spec.rb[1:3:1]","description":"should allow closure","full_description":"Close a client with active client whose free period has expired should allow closure","status":"passed","file_path":"./spec/features/practice_dashboard/close_a_client_spec.rb","line_number":104,"run_time":2.594111608,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/close_a_client_spec.rb[1:4:1]","description":"should allow closure","full_description":"Close a client with active rbsg practice_managed client should allow closure","status":"passed","file_path":"./spec/features/practice_dashboard/close_a_client_spec.rb","line_number":143,"run_time":1.567523589,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/close_a_client_spec.rb[1:5:1]","description":"should not allow closure","full_description":"Close a client with active rbsg practice_managed demo client should not allow closure","status":"passed","file_path":"./spec/features/practice_dashboard/close_a_client_spec.rb","line_number":190,"run_time":0.774789496,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/close_a_client_spec.rb[1:6:1]","description":"close a client","full_description":"Close a client as a non-senior account manager close a client","status":"passed","file_path":"./spec/features/practice_dashboard/close_a_client_spec.rb","line_number":207,"run_time":1.486398069,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoices_controller/new_spec.rb[1:1:1:1:1:1]","description":"lets the user view the page","full_description":"RecurringInvoicesController when displaying the new recurring invoice profile form behaves like CheckLandlordUserCanCreateProperties for a UK Landlord company the index action for a user with User::TAX_AND_LIMITED_ACCOUNTING permissions or above when there are existing properties lets the user view the page","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":7,"run_time":0.208349427,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoices_controller/new_spec.rb[1:1:1:1:2:1]","description":"lets the user view the page","full_description":"RecurringInvoicesController when displaying the new recurring invoice profile form behaves like CheckLandlordUserCanCreateProperties for a UK Landlord company the index action for a user with User::TAX_AND_LIMITED_ACCOUNTING permissions or above when there are no existing properties lets the user view the page","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":7,"run_time":0.166814836,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoices_controller/new_spec.rb[1:1:1:2:1:1]","description":"lets the user view the page","full_description":"RecurringInvoicesController when displaying the new recurring invoice profile form behaves like CheckLandlordUserCanCreateProperties for a UK Landlord company the index action for a user with User::BANKING permissions or below when there are existing properties lets the user view the page","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":7,"run_time":0.168034,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoices_controller/new_spec.rb[1:1:1:2:2:1]","description":"shows the user the access denied page, as they cannot do anything without a property","full_description":"RecurringInvoicesController when displaying the new recurring invoice profile form behaves like CheckLandlordUserCanCreateProperties for a UK Landlord company the index action for a user with User::BANKING permissions or below when there are no existing properties shows the user the access denied page, as they cannot do anything without a property","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":57,"run_time":0.177641366,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoices_controller/new_spec.rb[1:1:1:3:1:1]","description":"lets the user view the page","full_description":"RecurringInvoicesController when displaying the new recurring invoice profile form behaves like CheckLandlordUserCanCreateProperties for a UK Landlord company the new action for a user with User::TAX_AND_LIMITED_ACCOUNTING permissions or above when there are existing properties lets the user view the page","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":7,"run_time":0.286273772,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoices_controller/new_spec.rb[1:1:1:3:2:1]","description":"lets the user view the page","full_description":"RecurringInvoicesController when displaying the new recurring invoice profile form behaves like CheckLandlordUserCanCreateProperties for a UK Landlord company the new action for a user with User::TAX_AND_LIMITED_ACCOUNTING permissions or above when there are no existing properties lets the user view the page","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":7,"run_time":0.236508802,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoices_controller/new_spec.rb[1:1:1:4:1:1]","description":"lets the user view the page","full_description":"RecurringInvoicesController when displaying the new recurring invoice profile form behaves like CheckLandlordUserCanCreateProperties for a UK Landlord company the new action for a user with User::BANKING permissions or below when there are existing properties lets the user view the page","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":7,"run_time":0.193121905,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoices_controller/new_spec.rb[1:1:1:4:2:1]","description":"shows the user the access denied page, as they cannot do anything without a property","full_description":"RecurringInvoicesController when displaying the new recurring invoice profile form behaves like CheckLandlordUserCanCreateProperties for a UK Landlord company the new action for a user with User::BANKING permissions or below when there are no existing properties shows the user the access denied page, as they cannot do anything without a property","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":57,"run_time":0.158005945,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoices_controller/new_spec.rb[1:1:2:1:1]","description":"lets the user view the page","full_description":"RecurringInvoicesController when displaying the new recurring invoice profile form behaves like CheckLandlordUserCanCreateProperties for a non-Landlord company the index action for a user with User::TAX_AND_LIMITED_ACCOUNTING permissions or above lets the user view the page","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":7,"run_time":0.178698233,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoices_controller/new_spec.rb[1:1:2:2:1]","description":"lets the user view the page","full_description":"RecurringInvoicesController when displaying the new recurring invoice profile form behaves like CheckLandlordUserCanCreateProperties for a non-Landlord company the index action for a user with User::BANKING permissions or below lets the user view the page","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":7,"run_time":0.172047964,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoices_controller/new_spec.rb[1:1:2:3:1]","description":"lets the user view the page","full_description":"RecurringInvoicesController when displaying the new recurring invoice profile form behaves like CheckLandlordUserCanCreateProperties for a non-Landlord company the new action for a user with User::TAX_AND_LIMITED_ACCOUNTING permissions or above lets the user view the page","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":7,"run_time":0.204814898,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoices_controller/new_spec.rb[1:1:2:4:1]","description":"lets the user view the page","full_description":"RecurringInvoicesController when displaying the new recurring invoice profile form behaves like CheckLandlordUserCanCreateProperties for a non-Landlord company the new action for a user with User::BANKING permissions or below lets the user view the page","status":"passed","file_path":"./spec/support/shared_examples/check_landlord_user_can_create_properties.rb","line_number":7,"run_time":0.244531851,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoices_controller/new_spec.rb[1:2:1]","description":"loads the new page","full_description":"RecurringInvoicesController when displaying the new recurring invoice profile form with a new recurring invoice profile loads the new page","status":"passed","file_path":"./spec/controllers/recurring_invoices_controller/new_spec.rb","line_number":14,"run_time":0.201406943,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoices_controller/new_spec.rb[1:2:2:1]","description":"preselects the property passed in through the params","full_description":"RecurringInvoicesController when displaying the new recurring invoice profile form with a new recurring invoice profile for a UK unincorporated landlord company preselects the property passed in through the params","status":"passed","file_path":"./spec/controllers/recurring_invoices_controller/new_spec.rb","line_number":29,"run_time":0.212709885,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoices_controller/new_spec.rb[1:2:2:2]","description":"renders 404 page for invalid property id","full_description":"RecurringInvoicesController when displaying the new recurring invoice profile form with a new recurring invoice profile for a UK unincorporated landlord company renders 404 page for invalid property id","status":"passed","file_path":"./spec/controllers/recurring_invoices_controller/new_spec.rb","line_number":35,"run_time":0.169621959,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoices_controller/new_spec.rb[1:3:1:1]","description":"loads the new page with the inherited field values from the invoice","full_description":"RecurringInvoicesController when displaying the new recurring invoice profile form when basing the recurring invoice profile form on an existing invoice and the invoice belongs to the company loads the new page with the inherited field values from the invoice","status":"passed","file_path":"./spec/controllers/recurring_invoices_controller/new_spec.rb","line_number":56,"run_time":0.312149605,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoices_controller/new_spec.rb[1:3:1:2:1]","description":"converts the email body to html","full_description":"RecurringInvoicesController when displaying the new recurring invoice profile form when basing the recurring invoice profile form on an existing invoice and the invoice belongs to the company and the invoice has a plain text email body converts the email body to html","status":"passed","file_path":"./spec/controllers/recurring_invoices_controller/new_spec.rb","line_number":81,"run_time":0.269926047,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoices_controller/new_spec.rb[1:3:2:1]","description":"responds with not found status","full_description":"RecurringInvoicesController when displaying the new recurring invoice profile form when basing the recurring invoice profile form on an existing invoice and the invoice doesn't belong to the company responds with not found status","status":"passed","file_path":"./spec/controllers/recurring_invoices_controller/new_spec.rb","line_number":106,"run_time":0.279718472,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoices_controller/new_spec.rb[1:3:3:1]","description":"tags the recurring invoice profile with that property","full_description":"RecurringInvoicesController when displaying the new recurring invoice profile form when basing the recurring invoice profile form on an existing invoice when that invoice is tagged with a property tags the recurring invoice profile with that property","status":"passed","file_path":"./spec/controllers/recurring_invoices_controller/new_spec.rb","line_number":118,"run_time":0.234484939,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoices_controller/new_spec.rb[1:4:1:1]","description":"loads the new page with the inherited contact details","full_description":"RecurringInvoicesController when displaying the new recurring invoice profile form when a contact is specified and the contact belongs to the company loads the new page with the inherited contact details","status":"passed","file_path":"./spec/controllers/recurring_invoices_controller/new_spec.rb","line_number":130,"run_time":0.211332706,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoices_controller/new_spec.rb[1:4:2:1]","description":"responds with not found status","full_description":"RecurringInvoicesController when displaying the new recurring invoice profile form when a contact is specified and the contact doesn't belong to the company responds with not found status","status":"passed","file_path":"./spec/controllers/recurring_invoices_controller/new_spec.rb","line_number":146,"run_time":0.225511804,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoices_controller/new_spec.rb[1:5:1]","description":"loads the new page with the correct start_date for the recurring invoice profile","full_description":"RecurringInvoicesController when displaying the new recurring invoice profile form when the company is not in GMT loads the new page with the correct start_date for the recurring invoice profile","status":"passed","file_path":"./spec/controllers/recurring_invoices_controller/new_spec.rb","line_number":161,"run_time":0.25919314,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:1:1:1]","description":"returns true","full_description":"Accounting::AuditTrailHelper#no_audit_entries_available? when the company has no audit entries returns true","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":17,"run_time":0.137811145,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:1:2:1]","description":"returns false","full_description":"Accounting::AuditTrailHelper#no_audit_entries_available? when the company has audit entries returns false","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":27,"run_time":0.2944314,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:2:1:1]","description":"returns an empty array","full_description":"Accounting::AuditTrailHelper#actors_for_select when the filters query returns no results for the user aggregation returns an empty array","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":39,"run_time":0.113477356,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:2:2:1]","description":"returns a case-insensitive sorted Array of actor display names with their sort key","full_description":"Accounting::AuditTrailHelper#actors_for_select when the filters query returns results for the user aggregation returns a case-insensitive sorted Array of actor display names with their sort key","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":66,"run_time":0.108664403,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:3:1:1]","description":"only returns the display name and does not generate a link","full_description":"Accounting::AuditTrailHelper#audit_trail_entity_link when the audit_entry has an auditable which is a BankTransaction only returns the display name and does not generate a link","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":102,"run_time":0.123903435,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:3:2:1]","description":"generates a link to the bill","full_description":"Accounting::AuditTrailHelper#audit_trail_entity_link when the audit_entry has an auditable which is a Bill generates a link to the bill","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":110,"run_time":0.153577343,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:3:3:1]","description":"generates a link to the credit note","full_description":"Accounting::AuditTrailHelper#audit_trail_entity_link when the audit_entry has an auditable which is a CreditNote generates a link to the credit note","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":118,"run_time":0.150753464,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:3:4:1]","description":"generates a link to the estimate","full_description":"Accounting::AuditTrailHelper#audit_trail_entity_link when the audit_entry has an auditable which is an Estimate generates a link to the estimate","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":126,"run_time":0.150191052,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:3:5:1]","description":"generates a link to the expense","full_description":"Accounting::AuditTrailHelper#audit_trail_entity_link when the audit_entry has an auditable which is an Expense generates a link to the expense","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":134,"run_time":0.207229732,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:3:6:1]","description":"generates a link to the invoice","full_description":"Accounting::AuditTrailHelper#audit_trail_entity_link when the audit_entry has an auditable which is an Invoice generates a link to the invoice","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":142,"run_time":0.110455008,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:3:7:1]","description":"generates a link to the journal set","full_description":"Accounting::AuditTrailHelper#audit_trail_entity_link when the audit_entry has an auditable which is a JournalSet generates a link to the journal set","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":150,"run_time":0.086569015,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:3:7:2:1]","description":"only returns the display name and does not generate a link","full_description":"Accounting::AuditTrailHelper#audit_trail_entity_link when the audit_entry has an auditable which is a JournalSet when the current user does not have permissions to edit the journal set only returns the display name and does not generate a link","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":157,"run_time":0.127387997,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:3:8:1]","description":"generates a link to the vat return","full_description":"Accounting::AuditTrailHelper#audit_trail_entity_link when the audit_entry has an auditable which is a VatReturn generates a link to the vat return","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":166,"run_time":0.216962748,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:3:9:1]","description":"only returns the display name and does not generate a link","full_description":"Accounting::AuditTrailHelper#audit_trail_entity_link when the audit_entry has a linkable set which is a BankTransaction only returns the display name and does not generate a link","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":177,"run_time":0.305014318,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:3:10:1]","description":"generates a link to the linkable bill","full_description":"Accounting::AuditTrailHelper#audit_trail_entity_link when the audit_entry has a linkable set which is a Bill generates a link to the linkable bill","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":188,"run_time":0.301191572,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:3:11:1]","description":"generates a link to the linkable bank account entry","full_description":"Accounting::AuditTrailHelper#audit_trail_entity_link when the audit_entry has a linkable set which is a BankAccountEntry generates a link to the linkable bank account entry","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":199,"run_time":0.336441129,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:3:12:1]","description":"generates a link to the linkable credit note","full_description":"Accounting::AuditTrailHelper#audit_trail_entity_link when the audit_entry has a linkable set which is a CreditNote generates a link to the linkable credit note","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":210,"run_time":0.304580431,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:3:13:1]","description":"generates a link to the linkable expense","full_description":"Accounting::AuditTrailHelper#audit_trail_entity_link when the audit_entry has a linkable set which is an Expense generates a link to the linkable expense","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":221,"run_time":0.32332418,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:3:14:1]","description":"generates a link to the linkable invoice","full_description":"Accounting::AuditTrailHelper#audit_trail_entity_link when the audit_entry has a linkable set which is an Invoice generates a link to the linkable invoice","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":232,"run_time":0.395497328,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/audit_trail_helper_spec.rb[1:3:15:1]","description":"only returns the display name and does not generate a link, as the auditable_type has changed","full_description":"Accounting::AuditTrailHelper#audit_trail_entity_link when the audit_entry has an auditable that was an Invoice that has been converted to a CreditNote only returns the display name and does not generate a link, as the auditable_type has changed","status":"passed","file_path":"./spec/helpers/accounting/audit_trail_helper_spec.rb","line_number":253,"run_time":0.381643312,"pending_message":null,"screenshot":null},{"id":"./spec/features/ltd_company_year_ends_navigation_spec.rb[1:2:2:2:1]","description":"can only see the prepared year ends","full_description":"Limited company year end navigation with a practice managed company for a level 7 user when some year ends are prepared can only see the prepared year ends","status":"passed","file_path":"./spec/features/ltd_company_year_ends_navigation_spec.rb","line_number":57,"run_time":4.757689487,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/payroll/row_spec.rb[1:1:1]","description":"returns all the attributes as an array","full_description":"Reports::Payroll::Row#row returns all the attributes as an array","status":"passed","file_path":"./spec/models/reports/payroll/row_spec.rb","line_number":48,"run_time":0.259300484,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/payroll/row_spec.rb[1:1:2]","description":"returns the correct amount of attributes","full_description":"Reports::Payroll::Row#row returns the correct amount of attributes","status":"passed","file_path":"./spec/models/reports/payroll/row_spec.rb","line_number":52,"run_time":0.171970824,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/payroll/row_spec.rb[1:1:3]","description":"returns the attributes in the correct order","full_description":"Reports::Payroll::Row#row returns the attributes in the correct order","status":"passed","file_path":"./spec/models/reports/payroll/row_spec.rb","line_number":56,"run_time":0.168057006,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/payroll/row_spec.rb[1:2:1]","description":"returns the company name","full_description":"Reports::Payroll::Row#company_name returns the company name","status":"passed","file_path":"./spec/models/reports/payroll/row_spec.rb","line_number":75,"run_time":0.166740542,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/payroll/row_spec.rb[1:3:1]","description":"returns the account manager name","full_description":"Reports::Payroll::Row#account_manager_name returns the account manager name","status":"passed","file_path":"./spec/models/reports/payroll/row_spec.rb","line_number":81,"run_time":0.164154487,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/payroll/row_spec.rb[1:4:1:1]","description":"returns a single month digit","full_description":"Reports::Payroll::Row#payroll_months there is a single payslip returns a single month digit","status":"passed","file_path":"./spec/models/reports/payroll/row_spec.rb","line_number":89,"run_time":0.152424601,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/payroll/row_spec.rb[1:4:2:1]","description":"returns a range of months separated by a dash","full_description":"Reports::Payroll::Row#payroll_months there are multiple payslips returns a range of months separated by a dash","status":"passed","file_path":"./spec/models/reports/payroll/row_spec.rb","line_number":104,"run_time":0.251892415,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/payroll/row_spec.rb[1:5:1]","description":"returns the returns the employee name","full_description":"Reports::Payroll::Row#employee_name returns the returns the employee name","status":"passed","file_path":"./spec/models/reports/payroll/row_spec.rb","line_number":111,"run_time":0.166505069,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/payroll/row_spec.rb[1:6:1]","description":"returns the returns the employee email","full_description":"Reports::Payroll::Row#employee_email returns the returns the employee email","status":"passed","file_path":"./spec/models/reports/payroll/row_spec.rb","line_number":117,"run_time":0.164676753,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/payroll/row_spec.rb[1:7:1]","description":"returns the tax code","full_description":"Reports::Payroll::Row#tax_code returns the tax code","status":"passed","file_path":"./spec/models/reports/payroll/row_spec.rb","line_number":123,"run_time":0.170336239,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/payroll/row_spec.rb[1:7:2:1]","description":"returns the tax code appended with 'X'","full_description":"Reports::Payroll::Row#tax_code week 1 / month 1 basis returns the tax code appended with 'X'","status":"passed","file_path":"./spec/models/reports/payroll/row_spec.rb","line_number":130,"run_time":0.168661657,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/payroll/row_spec.rb[1:8:1]","description":"returns the pay from previous employment","full_description":"Reports::Payroll::Row#pay_from_previous_employment returns the pay from previous employment","status":"passed","file_path":"./spec/models/reports/payroll/row_spec.rb","line_number":141,"run_time":0.176492922,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/payroll/row_spec.rb[1:9:1]","description":"returns the tax from previous employment","full_description":"Reports::Payroll::Row#tax_from_previous_employment returns the tax from previous employment","status":"passed","file_path":"./spec/models/reports/payroll/row_spec.rb","line_number":151,"run_time":0.204131654,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/payroll/row_spec.rb[1:10:1]","description":"returns the total pay to date","full_description":"Reports::Payroll::Row#total_pay returns the total pay to date","status":"passed","file_path":"./spec/models/reports/payroll/row_spec.rb","line_number":157,"run_time":0.182180797,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/payroll/row_spec.rb[1:10:2:1]","description":"returns the total pay including statutory pay","full_description":"Reports::Payroll::Row#total_pay there are migration figures returns the total pay including statutory pay","status":"passed","file_path":"./spec/models/reports/payroll/row_spec.rb","line_number":172,"run_time":0.187465136,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/payroll/row_spec.rb[1:11:1]","description":"returns the tax to date","full_description":"Reports::Payroll::Row#tax returns the tax to date","status":"passed","file_path":"./spec/models/reports/payroll/row_spec.rb","line_number":179,"run_time":0.173116937,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/payroll/row_spec.rb[1:11:2:1]","description":"includes the tax before FreeAgent","full_description":"Reports::Payroll::Row#tax there were deductions before FreeAgent includes the tax before FreeAgent","status":"passed","file_path":"./spec/models/reports/payroll/row_spec.rb","line_number":186,"run_time":0.168269239,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/payroll/row_spec.rb[1:12:1]","description":"returns the employers ni to date","full_description":"Reports::Payroll::Row#employers_ni returns the employers ni to date","status":"passed","file_path":"./spec/models/reports/payroll/row_spec.rb","line_number":193,"run_time":0.173451936,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/payroll/row_spec.rb[1:13:1]","description":"returns the employee ni to date","full_description":"Reports::Payroll::Row#employee_ni returns the employee ni to date","status":"passed","file_path":"./spec/models/reports/payroll/row_spec.rb","line_number":199,"run_time":0.176602726,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/payroll/row_spec.rb[1:14:1]","description":"returns the other deductions","full_description":"Reports::Payroll::Row#other_deductions returns the other deductions","status":"passed","file_path":"./spec/models/reports/payroll/row_spec.rb","line_number":205,"run_time":0.162596713,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/payroll/row_spec.rb[1:14:2:1]","description":"includes the year to date deductions","full_description":"Reports::Payroll::Row#other_deductions there are year to date deductions includes the year to date deductions","status":"passed","file_path":"./spec/models/reports/payroll/row_spec.rb","line_number":216,"run_time":0.156867548,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/payroll/row_spec.rb[1:14:3:1]","description":"returns zero","full_description":"Reports::Payroll::Row#other_deductions there are no payslips returns zero","status":"passed","file_path":"./spec/models/reports/payroll/row_spec.rb","line_number":226,"run_time":0.156166716,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/payroll/row_spec.rb[1:15:1]","description":"returns the pay to date","full_description":"Reports::Payroll::Row#net_pay returns the pay to date","status":"passed","file_path":"./spec/models/reports/payroll/row_spec.rb","line_number":239,"run_time":0.176742867,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/temporary_vat_rate_spec.rb[1:1:1:1:1]","description":"returns a category defined on the Insight model","full_description":"Radar::Insights::Rules::TemporaryVatRate behaves like an insight rule behaves like a ping rule #category returns a category defined on the Insight model","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":11,"run_time":0.004084093,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/temporary_vat_rate_spec.rb[1:1:1:2:1]","description":"returns a boolean","full_description":"Radar::Insights::Rules::TemporaryVatRate behaves like an insight rule behaves like a ping rule #send_notifications? returns a boolean","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":17,"run_time":0.002716345,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/temporary_vat_rate_spec.rb[1:1:2:1]","description":"has category Insight","full_description":"Radar::Insights::Rules::TemporaryVatRate behaves like an insight rule #category has category Insight","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rules/concerns/insight_category.rb","line_number":10,"run_time":0.002588486,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/temporary_vat_rate_spec.rb[1:2:1:1]","description":"is expected to equal true","full_description":"Radar::Insights::Rules::TemporaryVatRate.run_today? before 1st April 2022 is expected to equal true","status":"passed","file_path":"./spec/models/radar/insights/rules/temporary_vat_rate_spec.rb","line_number":17,"run_time":0.002682502,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/temporary_vat_rate_spec.rb[1:2:2:1]","description":"is expected to equal false","full_description":"Radar::Insights::Rules::TemporaryVatRate.run_today? after 31st March 2022 is expected to equal false","status":"passed","file_path":"./spec/models/radar/insights/rules/temporary_vat_rate_spec.rb","line_number":25,"run_time":0.002655096,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/temporary_vat_rate_spec.rb[1:3:1]","description":"only contains the correct companies","full_description":"Radar::Insights::Rules::TemporaryVatRate.companies_for_evaluation only contains the correct companies","status":"passed","file_path":"./spec/models/radar/insights/rules/temporary_vat_rate_spec.rb","line_number":46,"run_time":0.858338265,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/temporary_vat_rate_spec.rb[1:3:2:1]","description":"excludes in-scope companies with this insight","full_description":"Radar::Insights::Rules::TemporaryVatRate.companies_for_evaluation with a company which already has this insight excludes in-scope companies with this insight","status":"passed","file_path":"./spec/models/radar/insights/rules/temporary_vat_rate_spec.rb","line_number":63,"run_time":0.773478598,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/temporary_vat_rate_spec.rb[1:3:3:1]","description":"includes in-scope companies with some other insight","full_description":"Radar::Insights::Rules::TemporaryVatRate.companies_for_evaluation with a company which has some other insight includes in-scope companies with some other insight","status":"passed","file_path":"./spec/models/radar/insights/rules/temporary_vat_rate_spec.rb","line_number":73,"run_time":0.877458394,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/temporary_vat_rate_spec.rb[1:4:1]","description":"returns eligible users to be notified","full_description":"Radar::Insights::Rules::TemporaryVatRate behaves like notifier for users with level 7 and above returns eligible users to be notified","status":"passed","file_path":"./spec/support/shared_examples/insights_rules_permission_level_examples.rb","line_number":26,"run_time":0.049031606,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/temporary_vat_rate_spec.rb[1:4:2]","description":"does not return ineligible users to be notified","full_description":"Radar::Insights::Rules::TemporaryVatRate behaves like notifier for users with level 7 and above does not return ineligible users to be notified","status":"passed","file_path":"./spec/support/shared_examples/insights_rules_permission_level_examples.rb","line_number":30,"run_time":0.051287214,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/banquo/model_phase_two_spec.rb[1:1:1]","description":"initializes a ModelPhaseTwo object with the expected endpoint name in the test environment","full_description":"Banking::Banquo::ModelPhaseTwo.for_variant_endpoint initializes a ModelPhaseTwo object with the expected endpoint name in the test environment","status":"passed","file_path":"./spec/models/banking/banquo/model_phase_two_spec.rb","line_number":47,"run_time":0.228054021,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/banquo/model_phase_two_spec.rb[1:2:1]","description":"initializes a ModelPhaseTwo object with the expected endpoint name in the test environment","full_description":"Banking::Banquo::ModelPhaseTwo.for_live_endpoint initializes a ModelPhaseTwo object with the expected endpoint name in the test environment","status":"passed","file_path":"./spec/models/banking/banquo/model_phase_two_spec.rb","line_number":55,"run_time":0.168704888,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/banquo/model_phase_two_spec.rb[1:2:2]","description":"returns the expected mock values when calling transactions_predictions in the test environment","full_description":"Banking::Banquo::ModelPhaseTwo.for_live_endpoint returns the expected mock values when calling transactions_predictions in the test environment","status":"passed","file_path":"./spec/models/banking/banquo/model_phase_two_spec.rb","line_number":59,"run_time":0.162529155,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/banquo/model_phase_two_spec.rb[1:2:3]","description":"invokes the BankTransactionSentToBanquo event for each transaction","full_description":"Banking::Banquo::ModelPhaseTwo.for_live_endpoint invokes the BankTransactionSentToBanquo event for each transaction","status":"passed","file_path":"./spec/models/banking/banquo/model_phase_two_spec.rb","line_number":92,"run_time":0.171432442,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/banquo/model_phase_two_spec.rb[1:3:1]","description":"parses the json response from sagemaker","full_description":"Banking::Banquo::ModelPhaseTwo#transactions_predictions parses the json response from sagemaker","status":"passed","file_path":"./spec/models/banking/banquo/model_phase_two_spec.rb","line_number":99,"run_time":0.188344455,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/banquo/model_phase_two_spec.rb[1:3:2:1]","description":"calls sagemaker the expected number of times","full_description":"Banking::Banquo::ModelPhaseTwo#transactions_predictions when transactions.count is greater than the maximum allowed per request calls sagemaker the expected number of times","status":"passed","file_path":"./spec/models/banking/banquo/model_phase_two_spec.rb","line_number":110,"run_time":0.239211556,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/banquo/model_phase_two_spec.rb[1:3:2:2]","description":"is an array of the expected number of responses","full_description":"Banking::Banquo::ModelPhaseTwo#transactions_predictions when transactions.count is greater than the maximum allowed per request is an array of the expected number of responses","status":"passed","file_path":"./spec/models/banking/banquo/model_phase_two_spec.rb","line_number":115,"run_time":0.174668077,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/banquo/model_phase_two_spec.rb[1:3:2:3]","description":"invokes the BankTransactionSentToBanquo event for each transaction","full_description":"Banking::Banquo::ModelPhaseTwo#transactions_predictions when transactions.count is greater than the maximum allowed per request invokes the BankTransactionSentToBanquo event for each transaction","status":"passed","file_path":"./spec/models/banking/banquo/model_phase_two_spec.rb","line_number":123,"run_time":0.160978268,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/banquo/model_phase_two_spec.rb[1:3:2:4:1]","description":"does not publish any events","full_description":"Banking::Banquo::ModelPhaseTwo#transactions_predictions when transactions.count is greater than the maximum allowed per request when track_events is false does not publish any events","status":"passed","file_path":"./spec/models/banking/banquo/model_phase_two_spec.rb","line_number":129,"run_time":0.182247876,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/banquo/model_phase_two_spec.rb[1:3:3:1]","description":"does not raise the error","full_description":"Banking::Banquo::ModelPhaseTwo#transactions_predictions when SageMaker raises an error does not raise the error","status":"passed","file_path":"./spec/models/banking/banquo/model_phase_two_spec.rb","line_number":143,"run_time":0.171865292,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/banquo/model_phase_two_spec.rb[1:3:3:2]","description":"notifies ErrorService with the expected parameters","full_description":"Banking::Banquo::ModelPhaseTwo#transactions_predictions when SageMaker raises an error notifies ErrorService with the expected parameters","status":"passed","file_path":"./spec/models/banking/banquo/model_phase_two_spec.rb","line_number":147,"run_time":0.146061257,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/banquo/model_phase_two_spec.rb[1:3:3:3]","description":"returns an empty array","full_description":"Banking::Banquo::ModelPhaseTwo#transactions_predictions when SageMaker raises an error returns an empty array","status":"passed","file_path":"./spec/models/banking/banquo/model_phase_two_spec.rb","line_number":157,"run_time":0.181330207,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/banquo/model_phase_two_spec.rb[1:3:3:4]","description":"does not send a BANK_TRANSACTION_SENT_TO_BANQUO event","full_description":"Banking::Banquo::ModelPhaseTwo#transactions_predictions when SageMaker raises an error does not send a BANK_TRANSACTION_SENT_TO_BANQUO event","status":"passed","file_path":"./spec/models/banking/banquo/model_phase_two_spec.rb","line_number":161,"run_time":0.187949265,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/banquo/model_phase_two_spec.rb[1:3:4:1]","description":"does not raise the error","full_description":"Banking::Banquo::ModelPhaseTwo#transactions_predictions when SageMaker responds with invalid json does not raise the error","status":"passed","file_path":"./spec/models/banking/banquo/model_phase_two_spec.rb","line_number":170,"run_time":0.149958373,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/banquo/model_phase_two_spec.rb[1:3:4:2]","description":"notifies ErrorService with the expected parameters","full_description":"Banking::Banquo::ModelPhaseTwo#transactions_predictions when SageMaker responds with invalid json notifies ErrorService with the expected parameters","status":"passed","file_path":"./spec/models/banking/banquo/model_phase_two_spec.rb","line_number":174,"run_time":0.153705593,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/banquo/model_phase_two_spec.rb[1:3:4:3]","description":"returns an empty array","full_description":"Banking::Banquo::ModelPhaseTwo#transactions_predictions when SageMaker responds with invalid json returns an empty array","status":"passed","file_path":"./spec/models/banking/banquo/model_phase_two_spec.rb","line_number":184,"run_time":0.172670126,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/banquo/model_phase_two_spec.rb[1:3:5:1]","description":"returns an empty array","full_description":"Banking::Banquo::ModelPhaseTwo#transactions_predictions when no transactions are provided returns an empty array","status":"passed","file_path":"./spec/models/banking/banquo/model_phase_two_spec.rb","line_number":192,"run_time":0.011504732,"pending_message":null,"screenshot":null},{"id":"./spec/models/self_assessment_config_spec.rb[1:1:1]","description":"returns the correct details","full_description":"SelfAssessment Config #bank_account_details returns the correct details","status":"passed","file_path":"./spec/models/self_assessment_config_spec.rb","line_number":8,"run_time":0.036001631,"pending_message":null,"screenshot":null},{"id":"./spec/models/self_assessment_config_spec.rb[1:1:2]","description":"returns nil if the bank account doesn't exist","full_description":"SelfAssessment Config #bank_account_details returns nil if the bank account doesn't exist","status":"passed","file_path":"./spec/models/self_assessment_config_spec.rb","line_number":16,"run_time":0.036085112,"pending_message":null,"screenshot":null},{"id":"./spec/models/self_assessment_config_spec.rb[1:2:1:1:1:1:1]","description":"returns true","full_description":"SelfAssessment Config #can_be_filed_with_hmrc? when the return can be manually filed and the return is complete and the company has only one owner and the accounting period data is complete returns true","status":"passed","file_path":"./spec/models/self_assessment_config_spec.rb","line_number":45,"run_time":0.125347166,"pending_message":null,"screenshot":null},{"id":"./spec/models/self_assessment_config_spec.rb[1:2:1:1:1:1:2:1]","description":"returns false","full_description":"SelfAssessment Config #can_be_filed_with_hmrc? when the return can be manually filed and the return is complete and the company has only one owner and the accounting period data is complete and there is an exception when refreshing the return pages returns false","status":"passed","file_path":"./spec/models/self_assessment_config_spec.rb","line_number":52,"run_time":0.126921473,"pending_message":null,"screenshot":null},{"id":"./spec/models/self_assessment_config_spec.rb[1:2:1:1:1:2:1]","description":"returns false","full_description":"SelfAssessment Config #can_be_filed_with_hmrc? when the return can be manually filed and the return is complete and the company has only one owner and the accounting period data is incomplete returns false","status":"passed","file_path":"./spec/models/self_assessment_config_spec.rb","line_number":61,"run_time":0.115162258,"pending_message":null,"screenshot":null},{"id":"./spec/models/self_assessment_config_spec.rb[1:2:1:1:2:1:1]","description":"returns false","full_description":"SelfAssessment Config #can_be_filed_with_hmrc? when the return can be manually filed and the return is complete and the company has more than one owner and the accounting period data is complete returns false","status":"passed","file_path":"./spec/models/self_assessment_config_spec.rb","line_number":80,"run_time":0.163863311,"pending_message":null,"screenshot":null},{"id":"./spec/models/self_assessment_config_spec.rb[1:2:1:1:3:1]","description":"returns false","full_description":"SelfAssessment Config #can_be_filed_with_hmrc? when the return can be manually filed and the return is complete and payroll needs to be finished returns false","status":"passed","file_path":"./spec/models/self_assessment_config_spec.rb","line_number":89,"run_time":0.12552905,"pending_message":null,"screenshot":null},{"id":"./spec/models/self_assessment_config_spec.rb[1:2:1:1:4:1:1]","description":"returns false","full_description":"SelfAssessment Config #can_be_filed_with_hmrc? when the return can be manually filed and the return is complete and there is an unfiled vat return with period ends on before SA return period ends on returns false","status":"passed","file_path":"./spec/models/self_assessment_config_spec.rb","line_number":104,"run_time":0.226510992,"pending_message":null,"screenshot":null},{"id":"./spec/models/self_assessment_config_spec.rb[1:2:1:1:4:2:1]","description":"returns true","full_description":"SelfAssessment Config #can_be_filed_with_hmrc? when the return can be manually filed and the return is complete and there is an unfiled vat return with period ends on after SA return period ends on returns true","status":"passed","file_path":"./spec/models/self_assessment_config_spec.rb","line_number":117,"run_time":0.223378,"pending_message":null,"screenshot":null},{"id":"./spec/models/self_assessment_config_spec.rb[1:2:1:1:5:1]","description":"returns true","full_description":"SelfAssessment Config #can_be_filed_with_hmrc? when the return can be manually filed and the return is complete and the company is deregistered for VAT returns true","status":"passed","file_path":"./spec/models/self_assessment_config_spec.rb","line_number":126,"run_time":0.147183775,"pending_message":null,"screenshot":null},{"id":"./spec/models/self_assessment_config_spec.rb[1:2:1:2:1:1:1]","description":"returns false","full_description":"SelfAssessment Config #can_be_filed_with_hmrc? when the return can be manually filed and return is incomplete the company has only one owner the accounting period data is complete returns false","status":"passed","file_path":"./spec/models/self_assessment_config_spec.rb","line_number":143,"run_time":0.141636362,"pending_message":null,"screenshot":null},{"id":"./spec/models/self_assessment_config_spec.rb[1:2:2:1:1:1:1]","description":"returns false","full_description":"SelfAssessment Config #can_be_filed_with_hmrc? when the return cannot be manually filed and the return is complete and the company has only one owner and the accounting period data is complete returns false","status":"passed","file_path":"./spec/models/self_assessment_config_spec.rb","line_number":165,"run_time":0.146262536,"pending_message":null,"screenshot":null},{"id":"./spec/features/ltd_company_year_ends_navigation_spec.rb[1:1:1:3]","description":"Navigate between CT computations for different accounting periods","full_description":"Limited company year end navigation with an unmanaged company logged in as account owner Navigate between CT computations for different accounting periods","status":"passed","file_path":"./spec/features/ltd_company_year_ends_navigation_spec.rb","line_number":179,"run_time":3.576519386,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/filters_component_spec.rb[1:1:1:1]","description":"displays the 'All Timeslips' option","full_description":"Timeslips::FiltersComponent when displaying the status filters and a status has not been selected displays the 'All Timeslips' option","status":"passed","file_path":"./spec/components/timeslips/filters_component_spec.rb","line_number":39,"run_time":0.142301507,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/filters_component_spec.rb[1:1:2:1]","description":"displays the 'All Timeslips' option","full_description":"Timeslips::FiltersComponent when displaying the status filters and a status has been selected displays the 'All Timeslips' option","status":"passed","file_path":"./spec/components/timeslips/filters_component_spec.rb","line_number":58,"run_time":0.130242417,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/filters_component_spec.rb[1:2:1:1]","description":"has options for the user","full_description":"Timeslips::FiltersComponent when displaying the user filter and the company has only one user has options for the user","status":"passed","file_path":"./spec/components/timeslips/filters_component_spec.rb","line_number":77,"run_time":0.143598064,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/filters_component_spec.rb[1:2:2:1]","description":"does not show the option to filter by timeslip","full_description":"Timeslips::FiltersComponent when displaying the user filter and the user cannot see other peoples timeslips does not show the option to filter by timeslip","status":"passed","file_path":"./spec/components/timeslips/filters_component_spec.rb","line_number":92,"run_time":0.124973719,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/filters_component_spec.rb[1:2:3:1]","description":"has options for the all users","full_description":"Timeslips::FiltersComponent when displaying the user filter when the user is an account manager has options for the all users","status":"passed","file_path":"./spec/components/timeslips/filters_component_spec.rb","line_number":101,"run_time":0.120522074,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/filters_component_spec.rb[1:2:4:1]","description":"has options for the each users group by visibility","full_description":"Timeslips::FiltersComponent when displaying the user filter when the company has multiple users has options for the each users group by visibility","status":"passed","file_path":"./spec/components/timeslips/filters_component_spec.rb","line_number":123,"run_time":0.16206383,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/filters_component_spec.rb[1:3:1:1]","description":"show the option as disabled","full_description":"Timeslips::FiltersComponent with option to show recent timeslips when viewing recent timeslips show the option as disabled","status":"passed","file_path":"./spec/components/timeslips/filters_component_spec.rb","line_number":144,"run_time":0.409856657,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/filters_component_spec.rb[1:3:2:1]","description":"show the option to view recent timeslips","full_description":"Timeslips::FiltersComponent with option to show recent timeslips when not viewing the recent timeslips show the option to view recent timeslips","status":"passed","file_path":"./spec/components/timeslips/filters_component_spec.rb","line_number":156,"run_time":0.681716496,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/filters_component_spec.rb[1:4:1:1]","description":"show the option as disabled","full_description":"Timeslips::FiltersComponent with option to show timeslips by week when viewing timeslips by week show the option as disabled","status":"passed","file_path":"./spec/components/timeslips/filters_component_spec.rb","line_number":170,"run_time":0.129649506,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/filters_component_spec.rb[1:4:2:1]","description":"show the option to view recent timeslips","full_description":"Timeslips::FiltersComponent with option to show timeslips by week when not viewing the timeslips by week show the option to view recent timeslips","status":"passed","file_path":"./spec/components/timeslips/filters_component_spec.rb","line_number":182,"run_time":0.138491059,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/filters_component_spec.rb[1:5:1:1]","description":"show the option as disabled","full_description":"Timeslips::FiltersComponent with option to show timeslips by day when viewing timeslips by day show the option as disabled","status":"passed","file_path":"./spec/components/timeslips/filters_component_spec.rb","line_number":196,"run_time":0.117304099,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/filters_component_spec.rb[1:5:2:1]","description":"show the option to view recent timeslips","full_description":"Timeslips::FiltersComponent with option to show timeslips by day when not viewing the timeslips by day show the option to view recent timeslips","status":"passed","file_path":"./spec/components/timeslips/filters_component_spec.rb","line_number":208,"run_time":0.116156009,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/filters_component_spec.rb[1:6:1]","description":"allows the user to select a date to show from","full_description":"Timeslips::FiltersComponent when viewing the recent timeslips allows the user to select a date to show from","status":"passed","file_path":"./spec/components/timeslips/filters_component_spec.rb","line_number":221,"run_time":0.112594969,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/filters_component_spec.rb[1:6:2:1]","description":"show the selected date as today","full_description":"Timeslips::FiltersComponent when viewing the recent timeslips and the date is today show the selected date as today","status":"passed","file_path":"./spec/components/timeslips/filters_component_spec.rb","line_number":231,"run_time":0.127389624,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/filters_component_spec.rb[1:7:1]","description":"allows the user to select the week to display","full_description":"Timeslips::FiltersComponent when viewing the timeslips by week allows the user to select the week to display","status":"passed","file_path":"./spec/components/timeslips/filters_component_spec.rb","line_number":245,"run_time":0.140548253,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/filters_component_spec.rb[1:7:2]","description":"allows the user to move to the previous week","full_description":"Timeslips::FiltersComponent when viewing the timeslips by week allows the user to move to the previous week","status":"passed","file_path":"./spec/components/timeslips/filters_component_spec.rb","line_number":252,"run_time":0.114672525,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/filters_component_spec.rb[1:7:3]","description":"allows the user to move to the next week","full_description":"Timeslips::FiltersComponent when viewing the timeslips by week allows the user to move to the next week","status":"passed","file_path":"./spec/components/timeslips/filters_component_spec.rb","line_number":263,"run_time":0.11825465,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/filters_component_spec.rb[1:8:1]","description":"allows the user to select the day to display","full_description":"Timeslips::FiltersComponent when viewing the timeslips by day allows the user to select the day to display","status":"passed","file_path":"./spec/components/timeslips/filters_component_spec.rb","line_number":278,"run_time":0.128501536,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/filters_component_spec.rb[1:8:2]","description":"allows the user to move to the previous day","full_description":"Timeslips::FiltersComponent when viewing the timeslips by day allows the user to move to the previous day","status":"passed","file_path":"./spec/components/timeslips/filters_component_spec.rb","line_number":285,"run_time":0.137104789,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/filters_component_spec.rb[1:8:3]","description":"allows the user to move to the next day","full_description":"Timeslips::FiltersComponent when viewing the timeslips by day allows the user to move to the next day","status":"passed","file_path":"./spec/components/timeslips/filters_component_spec.rb","line_number":296,"run_time":0.143533537,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/expense_metrics_spec.rb[1:1:1]","description":"writes to a csv file in the expected location","full_description":"Metrics::ExpenseMetrics#write_csv writes to a csv file in the expected location","status":"passed","file_path":"./spec/models/metrics/expense_metrics_spec.rb","line_number":17,"run_time":0.266977829,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/expense_metrics_spec.rb[1:1:2]","description":"creates the expected headers","full_description":"Metrics::ExpenseMetrics#write_csv creates the expected headers","status":"passed","file_path":"./spec/models/metrics/expense_metrics_spec.rb","line_number":21,"run_time":0.281583781,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/expense_metrics_spec.rb[1:1:3]","description":"does not include a row for older expense","full_description":"Metrics::ExpenseMetrics#write_csv does not include a row for older expense","status":"passed","file_path":"./spec/models/metrics/expense_metrics_spec.rb","line_number":42,"run_time":0.269000958,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/expense_metrics_spec.rb[1:1:4]","description":"records the snapshot time","full_description":"Metrics::ExpenseMetrics#write_csv records the snapshot time","status":"passed","file_path":"./spec/models/metrics/expense_metrics_spec.rb","line_number":47,"run_time":0.273118127,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/expense_metrics_spec.rb[1:1:5]","description":"records the expected fields","full_description":"Metrics::ExpenseMetrics#write_csv records the expected fields","status":"passed","file_path":"./spec/models/metrics/expense_metrics_spec.rb","line_number":51,"run_time":0.300392412,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax/bill_item_source_item_builder_spec.rb[1:1]","description":"is expected to be a kind of SalesTaxCalculator::SourceItem::BillItem","full_description":"SalesTax::BillItemSourceItemBuilder is expected to be a kind of SalesTaxCalculator::SourceItem::BillItem","status":"passed","file_path":"./spec/models/sales_tax/bill_item_source_item_builder_spec.rb","line_number":9,"run_time":0.222969777,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax/bill_item_source_item_builder_spec.rb[1:2]","description":"is expected to have attributes {:capital_asset_id =\u003e 2}","full_description":"SalesTax::BillItemSourceItemBuilder is expected to have attributes {:capital_asset_id =\u003e 2}","status":"passed","file_path":"./spec/models/sales_tax/bill_item_source_item_builder_spec.rb","line_number":11,"run_time":0.179893013,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax/bill_item_source_item_builder_spec.rb[1:3]","description":"is expected to have attributes {:hire_purchase =\u003e false}","full_description":"SalesTax::BillItemSourceItemBuilder is expected to have attributes {:hire_purchase =\u003e false}","status":"passed","file_path":"./spec/models/sales_tax/bill_item_source_item_builder_spec.rb","line_number":12,"run_time":0.204792113,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax/bill_item_source_item_builder_spec.rb[1:4:1]","description":"is expected to have attributes {:tax_rules =\u003e :uk}","full_description":"SalesTax::BillItemSourceItemBuilder an EC service with non-zero VAT is expected to have attributes {:tax_rules =\u003e :uk}","status":"passed","file_path":"./spec/models/sales_tax/bill_item_source_item_builder_spec.rb","line_number":35,"run_time":0.223876508,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax/bill_item_source_item_builder_spec.rb[1:5:1]","description":"is expected to have attributes {:tax_rules =\u003e :universal}","full_description":"SalesTax::BillItemSourceItemBuilder for a universal company is expected to have attributes {:tax_rules =\u003e :universal}","status":"passed","file_path":"./spec/models/sales_tax/bill_item_source_item_builder_spec.rb","line_number":41,"run_time":0.140329552,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax/bill_item_source_item_builder_spec.rb[1:6:1]","description":"is expected to have attributes {:tax_rules =\u003e :ec_services}","full_description":"SalesTax::BillItemSourceItemBuilder an EC services bill with zero VAT is expected to have attributes {:tax_rules =\u003e :ec_services}","status":"passed","file_path":"./spec/models/sales_tax/bill_item_source_item_builder_spec.rb","line_number":47,"run_time":0.019142601,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax/bill_item_source_item_builder_spec.rb[1:7:1]","description":"is expected to have attributes {:tax_rules =\u003e :ec_goods}","full_description":"SalesTax::BillItemSourceItemBuilder an EC goods bill is expected to have attributes {:tax_rules =\u003e :ec_goods}","status":"passed","file_path":"./spec/models/sales_tax/bill_item_source_item_builder_spec.rb","line_number":53,"run_time":0.018394061,"pending_message":null,"screenshot":null},{"id":"./spec/models/sales_tax/bill_item_source_item_builder_spec.rb[1:8:1]","description":"is expected to have attributes {:tax_rules =\u003e :vat_moss}","full_description":"SalesTax::BillItemSourceItemBuilder a VAT MOSS bill is expected to have attributes {:tax_rules =\u003e :vat_moss}","status":"passed","file_path":"./spec/models/sales_tax/bill_item_source_item_builder_spec.rb","line_number":59,"run_time":0.017831006,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/apply_credit_note_helper_spec.rb[1:1:1:1]","description":"is expected to eql \"Apply Credit Note to REF 0001\"","full_description":"ApplyCreditNoteHelper#modal_title with an invoice is expected to eql \"Apply Credit Note to REF 0001\"","status":"passed","file_path":"./spec/helpers/apply_credit_note_helper_spec.rb","line_number":10,"run_time":0.054513955,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/apply_credit_note_helper_spec.rb[1:1:2:1]","description":"is expected to eql \"Apply REF 0003 to Invoice(s)\"","full_description":"ApplyCreditNoteHelper#modal_title with a credit note is expected to eql \"Apply REF 0003 to Invoice(s)\"","status":"passed","file_path":"./spec/helpers/apply_credit_note_helper_spec.rb","line_number":16,"run_time":0.159237792,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/apply_credit_note_helper_spec.rb[1:2:1:1]","description":"is expected to eql \"invoice\"","full_description":"ApplyCreditNoteHelper#type_of with an invoice is expected to eql \"invoice\"","status":"passed","file_path":"./spec/helpers/apply_credit_note_helper_spec.rb","line_number":24,"run_time":0.055419099,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/apply_credit_note_helper_spec.rb[1:2:2:1]","description":"is expected to eql \"credit note\"","full_description":"ApplyCreditNoteHelper#type_of with a credit note is expected to eql \"credit note\"","status":"passed","file_path":"./spec/helpers/apply_credit_note_helper_spec.rb","line_number":30,"run_time":0.155721825,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/apply_credit_note_helper_spec.rb[1:3:1:1]","description":"is expected to eql \"credit notes\"","full_description":"ApplyCreditNoteHelper#type_to_reconcile_with with an invoice is expected to eql \"credit notes\"","status":"passed","file_path":"./spec/helpers/apply_credit_note_helper_spec.rb","line_number":38,"run_time":0.066046675,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/apply_credit_note_helper_spec.rb[1:3:2:1]","description":"is expected to eql \"invoices\"","full_description":"ApplyCreditNoteHelper#type_to_reconcile_with with a credit note is expected to eql \"invoices\"","status":"passed","file_path":"./spec/helpers/apply_credit_note_helper_spec.rb","line_number":44,"run_time":0.194979218,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/apply_credit_note_helper_spec.rb[1:4:1:1]","description":"is expected to eql \"Choose which credit notes to apply:\"","full_description":"ApplyCreditNoteHelper#choice_description with an invoice is expected to eql \"Choose which credit notes to apply:\"","status":"passed","file_path":"./spec/helpers/apply_credit_note_helper_spec.rb","line_number":52,"run_time":0.068036869,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/apply_credit_note_helper_spec.rb[1:4:2:1]","description":"is expected to eql \"Choose which invoices to apply this credit to:\"","full_description":"ApplyCreditNoteHelper#choice_description with a credit note is expected to eql \"Choose which invoices to apply this credit to:\"","status":"passed","file_path":"./spec/helpers/apply_credit_note_helper_spec.rb","line_number":58,"run_time":0.181585395,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/apply_credit_note_helper_spec.rb[1:5:1:1]","description":"is expected to eql \"Available credit\"","full_description":"ApplyCreditNoteHelper#available_credit_or_amount_due with an invoice is expected to eql \"Available credit\"","status":"passed","file_path":"./spec/helpers/apply_credit_note_helper_spec.rb","line_number":66,"run_time":0.068851959,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/apply_credit_note_helper_spec.rb[1:5:2:1]","description":"is expected to eql \"Amount due\"","full_description":"ApplyCreditNoteHelper#available_credit_or_amount_due with a credit note is expected to eql \"Amount due\"","status":"passed","file_path":"./spec/helpers/apply_credit_note_helper_spec.rb","line_number":72,"run_time":0.184818245,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/apply_credit_note_helper_spec.rb[1:6:1:1]","description":"returns the exchange rate of the credit note","full_description":"ApplyCreditNoteHelper#exchange_rate_for_reconciliation for an invoice returns the exchange rate of the credit note","status":"passed","file_path":"./spec/helpers/apply_credit_note_helper_spec.rb","line_number":86,"run_time":0.11840397,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/apply_credit_note_helper_spec.rb[1:6:2:1]","description":"returns the exchange rate of the credit note","full_description":"ApplyCreditNoteHelper#exchange_rate_for_reconciliation for a credit note returns the exchange rate of the credit note","status":"passed","file_path":"./spec/helpers/apply_credit_note_helper_spec.rb","line_number":92,"run_time":0.12323561,"pending_message":null,"screenshot":null},{"id":"./spec/views/billing_profiles/new.html.erb_spec.rb[1:1:1]","description":"shows a notice including the expiration date","full_description":"billing_profiles/new when trial is active shows a notice including the expiration date","status":"passed","file_path":"./spec/views/billing_profiles/new.html.erb_spec.rb","line_number":28,"run_time":0.171151691,"pending_message":null,"screenshot":null},{"id":"./spec/views/billing_profiles/new.html.erb_spec.rb[1:2:1]","description":"is expected to have visible css \".fe-NoticeV2\" with text /end of your free trial/","full_description":"billing_profiles/new when trial is expired and introductory offer does not exist is expected to have visible css \".fe-NoticeV2\" with text /end of your free trial/","status":"passed","file_path":"./spec/views/billing_profiles/new.html.erb_spec.rb","line_number":46,"run_time":0.181870662,"pending_message":null,"screenshot":null},{"id":"./spec/views/billing_profiles/new.html.erb_spec.rb[1:2:2]","description":"is expected not to have visible css \".fe-NoticeV2\" with text /\\d+% off for \\w+ \\w+/","full_description":"billing_profiles/new when trial is expired and introductory offer does not exist is expected not to have visible css \".fe-NoticeV2\" with text /\\d+% off for \\w+ \\w+/","status":"passed","file_path":"./spec/views/billing_profiles/new.html.erb_spec.rb","line_number":47,"run_time":0.160651194,"pending_message":null,"screenshot":null},{"id":"./spec/views/billing_profiles/new.html.erb_spec.rb[1:3:1]","description":"is expected to have visible css \".fe-NoticeV2\" with text /end of your free trial/","full_description":"billing_profiles/new when trial is expired and introductory offer does not apply is expected to have visible css \".fe-NoticeV2\" with text /end of your free trial/","status":"passed","file_path":"./spec/views/billing_profiles/new.html.erb_spec.rb","line_number":62,"run_time":0.157575865,"pending_message":null,"screenshot":null},{"id":"./spec/views/billing_profiles/new.html.erb_spec.rb[1:3:2]","description":"is expected not to have visible css \".fe-NoticeV2\" with text /\\d+% off for \\w+ \\w+/","full_description":"billing_profiles/new when trial is expired and introductory offer does not apply is expected not to have visible css \".fe-NoticeV2\" with text /\\d+% off for \\w+ \\w+/","status":"passed","file_path":"./spec/views/billing_profiles/new.html.erb_spec.rb","line_number":63,"run_time":0.184669534,"pending_message":null,"screenshot":null},{"id":"./spec/views/billing_profiles/new.html.erb_spec.rb[1:4:1]","description":"is expected to have visible css \".fe-NoticeV2\" with text /end of your free trial/","full_description":"billing_profiles/new when trial is expired and introductory offer applies is expected to have visible css \".fe-NoticeV2\" with text /end of your free trial/","status":"passed","file_path":"./spec/views/billing_profiles/new.html.erb_spec.rb","line_number":71,"run_time":0.197032095,"pending_message":null,"screenshot":null},{"id":"./spec/views/billing_profiles/new.html.erb_spec.rb[1:4:2]","description":"is expected to have visible css \".fe-NoticeV2\" with text /\\d+% off for \\w+ \\w+/","full_description":"billing_profiles/new when trial is expired and introductory offer applies is expected to have visible css \".fe-NoticeV2\" with text /\\d+% off for \\w+ \\w+/","status":"passed","file_path":"./spec/views/billing_profiles/new.html.erb_spec.rb","line_number":72,"run_time":0.17897999,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/fapd_transfer_migration_spec.rb[1:1:1]","description":"assigns the new account manager","full_description":"SubscriptionMigrations::FapdTransferMigration#migrate! assigns the new account manager","status":"passed","file_path":"./spec/models/subscription_migrations/fapd_transfer_migration_spec.rb","line_number":10,"run_time":0.167543091,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/fapd_transfer_migration_spec.rb[1:1:4]","description":"the subscription is always active","full_description":"SubscriptionMigrations::FapdTransferMigration#migrate! the subscription is always active","status":"passed","file_path":"./spec/models/subscription_migrations/fapd_transfer_migration_spec.rb","line_number":53,"run_time":0.412728545,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/fapd_transfer_migration_spec.rb[1:1:5]","description":"raises an error when trying to transfer within an accountancy practice","full_description":"SubscriptionMigrations::FapdTransferMigration#migrate! raises an error when trying to transfer within an accountancy practice","status":"passed","file_path":"./spec/models/subscription_migrations/fapd_transfer_migration_spec.rb","line_number":64,"run_time":0.724816568,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/fapd_transfer_migration_spec.rb[1:1:7]","description":"raises an error when attempting to transfer to a suspended FAPD practice","full_description":"SubscriptionMigrations::FapdTransferMigration#migrate! raises an error when attempting to transfer to a suspended FAPD practice","status":"passed","file_path":"./spec/models/subscription_migrations/fapd_transfer_migration_spec.rb","line_number":102,"run_time":0.186881785,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/fapd_transfer_migration_spec.rb[1:1:2:1]","description":"creates a new PracticeClient::Relationship","full_description":"SubscriptionMigrations::FapdTransferMigration#migrate! where there is no existing PracticeClient::Relationship creates a new PracticeClient::Relationship","status":"passed","file_path":"./spec/models/subscription_migrations/fapd_transfer_migration_spec.rb","line_number":22,"run_time":0.190700357,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/fapd_transfer_migration_spec.rb[1:1:3:1]","description":"replaces the existing PracticeClient::Relationship","full_description":"SubscriptionMigrations::FapdTransferMigration#migrate! where there is an existing PracticeClient::Relationship replaces the existing PracticeClient::Relationship","status":"passed","file_path":"./spec/models/subscription_migrations/fapd_transfer_migration_spec.rb","line_number":37,"run_time":0.173075914,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/fapd_transfer_migration_spec.rb[1:1:6:1]","description":"raises an error when attempting to migrate from a RBSG channel","full_description":"SubscriptionMigrations::FapdTransferMigration#migrate! invalid source channel raises an error when attempting to migrate from a RBSG channel","status":"passed","file_path":"./spec/models/subscription_migrations/fapd_transfer_migration_spec.rb","line_number":78,"run_time":0.118099465,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/fapd_transfer_migration_spec.rb[1:1:6:2]","description":"raises an error when attempting to migrate from a FAPDRBSG channel","full_description":"SubscriptionMigrations::FapdTransferMigration#migrate! invalid source channel raises an error when attempting to migrate from a FAPDRBSG channel","status":"passed","file_path":"./spec/models/subscription_migrations/fapd_transfer_migration_spec.rb","line_number":78,"run_time":0.207950129,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/fapd_transfer_migration_spec.rb[1:1:6:3]","description":"raises an error when attempting to migrate from direct channel","full_description":"SubscriptionMigrations::FapdTransferMigration#migrate! invalid source channel raises an error when attempting to migrate from direct channel","status":"passed","file_path":"./spec/models/subscription_migrations/fapd_transfer_migration_spec.rb","line_number":90,"run_time":0.042092177,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/_switch_to_open_banking.html.erb_spec.rb[1:1:1]","description":"displays the expected content and date if the bank account has a feed that can be switched","full_description":"bank_accounts/_switch_to_open_banking for an RBSG feed displays the expected content and date if the bank account has a feed that can be switched","status":"passed","file_path":"./spec/views/bank_accounts/_switch_to_open_banking.html.erb_spec.rb","line_number":11,"run_time":0.075103082,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/_switch_to_open_banking.html.erb_spec.rb[1:1:2]","description":"doesn't display the notice if the bank account does not have a switch notice set","full_description":"bank_accounts/_switch_to_open_banking for an RBSG feed doesn't display the notice if the bank account does not have a switch notice set","status":"passed","file_path":"./spec/views/bank_accounts/_switch_to_open_banking.html.erb_spec.rb","line_number":18,"run_time":0.03517106,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/_switch_to_open_banking.html.erb_spec.rb[1:2:2]","description":"doesn't display the notice if the bank account does not have a switch notice set","full_description":"bank_accounts/_switch_to_open_banking for a Yodlee feed doesn't display the notice if the bank account does not have a switch notice set","status":"passed","file_path":"./spec/views/bank_accounts/_switch_to_open_banking.html.erb_spec.rb","line_number":40,"run_time":0.038019604,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/_switch_to_open_banking.html.erb_spec.rb[1:2:1:1]","description":"prompts to switch to Open Banking","full_description":"bank_accounts/_switch_to_open_banking for a Yodlee feed can be converted to Open Banking prompts to switch to Open Banking","status":"passed","file_path":"./spec/views/bank_accounts/_switch_to_open_banking.html.erb_spec.rb","line_number":35,"run_time":0.05163781,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/_switch_to_open_banking.html.erb_spec.rb[1:3:2]","description":"doesn't display the notice if the bank account does not have a switch notice set","full_description":"bank_accounts/_switch_to_open_banking for a Cater-Allen Yodlee feed doesn't display the notice if the bank account does not have a switch notice set","status":"passed","file_path":"./spec/views/bank_accounts/_switch_to_open_banking.html.erb_spec.rb","line_number":62,"run_time":0.034608117,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/_switch_to_open_banking.html.erb_spec.rb[1:3:1:1]","description":"prompts to switch to Open Banking","full_description":"bank_accounts/_switch_to_open_banking for a Cater-Allen Yodlee feed can be converted to Open Banking prompts to switch to Open Banking","status":"passed","file_path":"./spec/views/bank_accounts/_switch_to_open_banking.html.erb_spec.rb","line_number":57,"run_time":0.049976719,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/_switch_to_open_banking.html.erb_spec.rb[1:4:1]","description":"displays the expected content and date if the bank account has a feed that can be switched","full_description":"bank_accounts/_switch_to_open_banking for a 3rd party API feed displays the expected content and date if the bank account has a feed that can be switched","status":"passed","file_path":"./spec/views/bank_accounts/_switch_to_open_banking.html.erb_spec.rb","line_number":73,"run_time":0.050960532,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/_switch_to_open_banking.html.erb_spec.rb[1:4:2]","description":"doesn't display the notice if the bank account does not have a switch notice set","full_description":"bank_accounts/_switch_to_open_banking for a 3rd party API feed doesn't display the notice if the bank account does not have a switch notice set","status":"passed","file_path":"./spec/views/bank_accounts/_switch_to_open_banking.html.erb_spec.rb","line_number":81,"run_time":0.029254845,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/_switch_to_open_banking.html.erb_spec.rb[1:5:1]","description":"doesn't display the notice by default","full_description":"bank_accounts/_switch_to_open_banking for an Ulster ROI feed doesn't display the notice by default","status":"passed","file_path":"./spec/views/bank_accounts/_switch_to_open_banking.html.erb_spec.rb","line_number":92,"run_time":0.041222485,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/_switch_to_open_banking.html.erb_spec.rb[1:5:2:1]","description":"doesn't display the notice by default","full_description":"bank_accounts/_switch_to_open_banking for an Ulster ROI feed which has the switch notice set doesn't display the notice by default","status":"passed","file_path":"./spec/views/bank_accounts/_switch_to_open_banking.html.erb_spec.rb","line_number":103,"run_time":0.052939397,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/_switch_to_open_banking.html.erb_spec.rb[1:5:2:2:1]","description":"doesn't display the notice when the feature is disabled","full_description":"bank_accounts/_switch_to_open_banking for an Ulster ROI feed which has the switch notice set and the bank account has an active open banking bank feed doesn't display the notice when the feature is disabled","status":"passed","file_path":"./spec/views/bank_accounts/_switch_to_open_banking.html.erb_spec.rb","line_number":111,"run_time":0.22453053,"pending_message":null,"screenshot":null},{"id":"./spec/views/bank_accounts/_switch_to_open_banking.html.erb_spec.rb[1:5:2:2:2]","description":"renders the appropriate notice when the feautre is enabled","full_description":"bank_accounts/_switch_to_open_banking for an Ulster ROI feed which has the switch notice set and the bank account has an active open banking bank feed renders the appropriate notice when the feautre is enabled","status":"passed","file_path":"./spec/views/bank_accounts/_switch_to_open_banking.html.erb_spec.rb","line_number":115,"run_time":0.170841792,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_data/all_company_data/vat_returns_spec.rb[1:1]","description":"has no nested data","full_description":"Exporter::ExportableData::AllCompanyData::VatReturns has no nested data","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_data/all_company_data/vat_returns_spec.rb","line_number":27,"run_time":0.324781053,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_data/all_company_data/vat_returns_spec.rb[1:2]","description":"returns the correct exportable type","full_description":"Exporter::ExportableData::AllCompanyData::VatReturns returns the correct exportable type","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_data/all_company_data/vat_returns_spec.rb","line_number":31,"run_time":0.312662784,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_data/all_company_data/vat_returns_spec.rb[1:3]","description":"operates on company's vat_returns","full_description":"Exporter::ExportableData::AllCompanyData::VatReturns operates on company's vat_returns","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_data/all_company_data/vat_returns_spec.rb","line_number":35,"run_time":0.312250327,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/preference_set_spec.rb[1:1:1]","description":"publishes an event for `new_insight_email_notifications`","full_description":"Radar::PreferenceSet Unsubscribing publishes an event for `new_insight_email_notifications`","status":"passed","file_path":"./spec/models/radar/preference_set_spec.rb","line_number":6,"run_time":0.034747941,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/preference_set_spec.rb[1:1:2]","description":"publishes an event for `new_admin_todo_list_item_push_notifications`","full_description":"Radar::PreferenceSet Unsubscribing publishes an event for `new_admin_todo_list_item_push_notifications`","status":"passed","file_path":"./spec/models/radar/preference_set_spec.rb","line_number":17,"run_time":0.027110165,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/preference_set_spec.rb[1:1:3]","description":"doesn't publish an event for re-subscribes or factories unsubscribed by default","full_description":"Radar::PreferenceSet Unsubscribing doesn't publish an event for re-subscribes or factories unsubscribed by default","status":"passed","file_path":"./spec/models/radar/preference_set_spec.rb","line_number":28,"run_time":0.023214633,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/preference_set_spec.rb[1:2:1]","description":"is the PreferenceSet for the user passed","full_description":"Radar::PreferenceSet#for is the PreferenceSet for the user passed","status":"passed","file_path":"./spec/models/radar/preference_set_spec.rb","line_number":40,"run_time":0.021155452,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/preference_set_spec.rb[1:2:2]","description":"creates a new PreferenceSet if the user doesn't have one already","full_description":"Radar::PreferenceSet#for creates a new PreferenceSet if the user doesn't have one already","status":"passed","file_path":"./spec/models/radar/preference_set_spec.rb","line_number":46,"run_time":0.021952,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/preference_set_spec.rb[1:2:3]","description":"is nil if the User is nil","full_description":"Radar::PreferenceSet#for is nil if the User is nil","status":"passed","file_path":"./spec/models/radar/preference_set_spec.rb","line_number":51,"run_time":0.003298905,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/preference_set_spec.rb[1:2:4]","description":"raises an error if passed an AccountManager","full_description":"Radar::PreferenceSet#for raises an error if passed an AccountManager","status":"passed","file_path":"./spec/models/radar/preference_set_spec.rb","line_number":55,"run_time":0.037345274,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/preference_set_spec.rb[1:3:1]","description":"deletes this PreferenceSet when the User is destroyed","full_description":"Radar::PreferenceSet#user deletes this PreferenceSet when the User is destroyed","status":"passed","file_path":"./spec/models/radar/preference_set_spec.rb","line_number":64,"run_time":0.082308746,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/preference_set_spec.rb[1:3:2]","description":"is not deleted when this PreferenceSet is destroyed","full_description":"Radar::PreferenceSet#user is not deleted when this PreferenceSet is destroyed","status":"passed","file_path":"./spec/models/radar/preference_set_spec.rb","line_number":72,"run_time":0.023734114,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/preference_set_spec.rb[1:3:3]","description":"must be unique","full_description":"Radar::PreferenceSet#user must be unique","status":"passed","file_path":"./spec/models/radar/preference_set_spec.rb","line_number":80,"run_time":0.022920701,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_payment_method_spec.rb[1:1:1:1:1]","description":"is expected to be a kind of InvoicePaymentMethod","full_description":"InvoicePaymentMethod InvoicePaymentMethods .new with InvoicePaymentMethods model is expected to be a kind of InvoicePaymentMethod","status":"passed","file_path":"./spec/models/invoice_payment_method_spec.rb","line_number":19,"run_time":0.016606692,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_payment_method_spec.rb[1:1:1:2:1]","description":"is expected to be a kind of InvoicePaymentMethod","full_description":"InvoicePaymentMethod InvoicePaymentMethods .new with RecurringInvoiceProfile model is expected to be a kind of InvoicePaymentMethod","status":"passed","file_path":"./spec/models/invoice_payment_method_spec.rb","line_number":25,"run_time":0.012512502,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_payment_method_spec.rb[1:1:1:3:1]","description":"is expected to be a kind of InvoicePaymentMethod","full_description":"InvoicePaymentMethod InvoicePaymentMethods .new with EmailTemplate model is expected to be a kind of InvoicePaymentMethod","status":"passed","file_path":"./spec/models/invoice_payment_method_spec.rb","line_number":31,"run_time":0.087835291,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_payment_method_spec.rb[1:1:2:1]","description":"should raise an exception","full_description":"InvoicePaymentMethod InvoicePaymentMethods when initialised with an unsupported model should raise an exception","status":"passed","file_path":"./spec/models/invoice_payment_method_spec.rb","line_number":38,"run_time":0.007692008,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_payment_method_spec.rb[1:1:3:1]","description":"should be nil by default","full_description":"InvoicePaymentMethod InvoicePaymentMethods #currencies_supported should be nil by default","status":"passed","file_path":"./spec/models/invoice_payment_method_spec.rb","line_number":44,"run_time":0.007218736,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_payment_method_spec.rb[1:1:4:1]","description":"should be false by default","full_description":"InvoicePaymentMethod InvoicePaymentMethods #exclusive? should be false by default","status":"passed","file_path":"./spec/models/invoice_payment_method_spec.rb","line_number":50,"run_time":0.00694108,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_payment_method_spec.rb[1:1:5:1]","description":"raises an exception by default","full_description":"InvoicePaymentMethod InvoicePaymentMethods #available? raises an exception by default","status":"passed","file_path":"./spec/models/invoice_payment_method_spec.rb","line_number":56,"run_time":0.006836818,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_payment_method_spec.rb[1:1:6:1]","description":"defaults to returning #available?","full_description":"InvoicePaymentMethod InvoicePaymentMethods #can_be_paid? defaults to returning #available?","status":"passed","file_path":"./spec/models/invoice_payment_method_spec.rb","line_number":64,"run_time":0.006992156,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_payment_method_spec.rb[1:1:7:1]","description":"raises an exception by default","full_description":"InvoicePaymentMethod InvoicePaymentMethods #payable? raises an exception by default","status":"passed","file_path":"./spec/models/invoice_payment_method_spec.rb","line_number":72,"run_time":0.006664564,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_payment_method_spec.rb[1:1:8:1]","description":"derives a value from the class name","full_description":"InvoicePaymentMethod InvoicePaymentMethods codename derives a value from the class name","status":"passed","file_path":"./spec/models/invoice_payment_method_spec.rb","line_number":80,"run_time":0.006876229,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_payment_method_spec.rb[1:1:9:1]","description":"fetches from i18n","full_description":"InvoicePaymentMethod InvoicePaymentMethods #name fetches from i18n","status":"passed","file_path":"./spec/models/invoice_payment_method_spec.rb","line_number":87,"run_time":0.006868283,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_payment_method_spec.rb[1:1:10:1]","description":"fetches from i18n when possible","full_description":"InvoicePaymentMethod InvoicePaymentMethods #short_name fetches from i18n when possible","status":"passed","file_path":"./spec/models/invoice_payment_method_spec.rb","line_number":101,"run_time":0.006931705,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_payment_method_spec.rb[1:1:10:2]","description":"defaults to #name","full_description":"InvoicePaymentMethod InvoicePaymentMethods #short_name defaults to #name","status":"passed","file_path":"./spec/models/invoice_payment_method_spec.rb","line_number":109,"run_time":0.007469177,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_payment_method_spec.rb[1:1:11:1]","description":"fetches from i18n","full_description":"InvoicePaymentMethod InvoicePaymentMethods #description fetches from i18n","status":"passed","file_path":"./spec/models/invoice_payment_method_spec.rb","line_number":115,"run_time":0.007513152,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_payment_method_spec.rb[1:1:12:1]","description":"returns the associated invoice","full_description":"InvoicePaymentMethod InvoicePaymentMethods #invoice returns the associated invoice","status":"passed","file_path":"./spec/models/invoice_payment_method_spec.rb","line_number":124,"run_time":0.006684169,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_payment_method_spec.rb[1:1:12:2:1]","description":"raises an exception","full_description":"InvoicePaymentMethod InvoicePaymentMethods #invoice for a recurring invoice profile raises an exception","status":"passed","file_path":"./spec/models/invoice_payment_method_spec.rb","line_number":131,"run_time":0.006331517,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_payment_method_spec.rb[1:1:13:1]","description":"returns the associated invoice","full_description":"InvoicePaymentMethod InvoicePaymentMethods #invoice_like returns the associated invoice","status":"passed","file_path":"./spec/models/invoice_payment_method_spec.rb","line_number":138,"run_time":0.007674283,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_payment_method_spec.rb[1:1:13:2:1]","description":"returns the profile","full_description":"InvoicePaymentMethod InvoicePaymentMethods #invoice_like for a recurring invoice profile returns the profile","status":"passed","file_path":"./spec/models/invoice_payment_method_spec.rb","line_number":145,"run_time":0.006845519,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_payment_method_spec.rb[1:1:14:1]","description":"enables the method","full_description":"InvoicePaymentMethod InvoicePaymentMethods #enable enables the method","status":"passed","file_path":"./spec/models/invoice_payment_method_spec.rb","line_number":152,"run_time":0.00790091,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_payment_method_spec.rb[1:1:15:1]","description":"disables the method","full_description":"InvoicePaymentMethod InvoicePaymentMethods #disable disables the method","status":"passed","file_path":"./spec/models/invoice_payment_method_spec.rb","line_number":159,"run_time":0.007912202,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tax/timeline_controller_spec.rb[1:1]","description":"can't access the timeline without api key","full_description":"Tax::TimelineController can't access the timeline without api key","status":"passed","file_path":"./spec/controllers/tax/timeline_controller_spec.rb","line_number":14,"run_time":0.076172692,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tax/timeline_controller_spec.rb[1:2]","description":"can't access the timeline with an invalid token","full_description":"Tax::TimelineController can't access the timeline with an invalid token","status":"passed","file_path":"./spec/controllers/tax/timeline_controller_spec.rb","line_number":19,"run_time":0.086495361,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/tax/timeline_controller_spec.rb[1:3]","description":"can access the timeline with an valid token","full_description":"Tax::TimelineController can access the timeline with an valid token","status":"passed","file_path":"./spec/controllers/tax/timeline_controller_spec.rb","line_number":24,"run_time":0.399617931,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[3:16:1:2]","description":"after due date","full_description":"InvoicesController GET :index timezone support for an overview invoice when company's timezone is GMT after due date","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":377,"run_time":0.629428707,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/contacts_controller_spec.rb[1:1:1:1:1:1:1]","description":"completes the add_contact event","full_description":"Api::ContactsController#create flying start event tracking behaves like FlyingStart::TrackAddContactCompletion for landlord companies on successful creation completes the add_contact event","status":"passed","file_path":"./spec/support/shared_examples/flying_start/track_add_contact_completion_examples.rb","line_number":15,"run_time":0.128815945,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/contacts_controller_spec.rb[1:1:1:1:1:2:1]","description":"doesn't complete the add_contact event","full_description":"Api::ContactsController#create flying start event tracking behaves like FlyingStart::TrackAddContactCompletion for landlord companies on unsuccessful creation doesn't complete the add_contact event","status":"passed","file_path":"./spec/support/shared_examples/flying_start/track_add_contact_completion_examples.rb","line_number":23,"run_time":0.100180435,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/contacts_controller_spec.rb[1:1:1:1:2:1]","description":"doesn't complete the add_contact event","full_description":"Api::ContactsController#create flying start event tracking behaves like FlyingStart::TrackAddContactCompletion for non-landlord companies doesn't complete the add_contact event","status":"passed","file_path":"./spec/support/shared_examples/flying_start/track_add_contact_completion_examples.rb","line_number":34,"run_time":0.043404084,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/contacts_controller_spec.rb[1:2:1]","description":"updates the contact","full_description":"Api::ContactsController#update updates the contact","status":"passed","file_path":"./spec/controllers/api/contacts_controller_spec.rb","line_number":26,"run_time":0.044826018,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/contacts_controller_spec.rb[1:2:2:1:1]","description":"schedules a job to disable send_new_invoice_emails on their recurring invoices","full_description":"Api::ContactsController#update when the contact has a recurring invoice scheduled to email to them and their email address is removed schedules a job to disable send_new_invoice_emails on their recurring invoices","status":"passed","file_path":"./spec/controllers/api/contacts_controller_spec.rb","line_number":39,"run_time":0.053536173,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/contacts_controller_spec.rb[1:2:2:2:1]","description":"does not schedule a job to disable send_new_invoice_emails on their recurring invoices","full_description":"Api::ContactsController#update when the contact has a recurring invoice scheduled to email to them and their email address is updated does not schedule a job to disable send_new_invoice_emails on their recurring invoices","status":"passed","file_path":"./spec/controllers/api/contacts_controller_spec.rb","line_number":46,"run_time":0.051274575,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:2:1:4:3:1:1]","description":"is expected to have one ledger entry with code 819 and attributes {:dated_on=\u003eThu, 31 Dec 2020, :debit_value=\u003e-20}","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the invoice accounting basis not on the Flat Rate Scheme Bills representing an EC Goods admin expense for a contact based in the EU is expected to have one ledger entry with code 819 and attributes {:dated_on=\u003eThu, 31 Dec 2020, :debit_value=\u003e-20}","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":4121,"run_time":0.480293305,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:2:2:1:1:2:3]","description":"generates one ledger entry for the two items posted to the first account (including the VAT amount)","full_description":"UkAccountsMapper Accounts Mapper for UK companies who have applied for VAT registration after their registration effective date Invoices Given a native currency invoice with 3 line items in 2 categories which has been sent generates one ledger entry for the two items posted to the first account (including the VAT amount)","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":1422,"run_time":0.37007133,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[3:2:1]","description":"creates an array of hard bounced emails","full_description":"InvoicesController GET :index when the company has hard bounced emails and has since allowed to be sent creates an array of hard bounced emails","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":202,"run_time":0.455120279,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[4:15]","description":"renders Google Analytics invoice_id parameter","full_description":"InvoicesController GET :show for uk company renders Google Analytics invoice_id parameter","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":789,"run_time":0.354972874,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[13:11:2:1]","description":"persists the property id against the invoice","full_description":"InvoicesController POST create landlord creating a new invoice with a property persists the property id against the invoice","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":1438,"run_time":0.38514277,"pending_message":null,"screenshot":null},{"id":"./spec/models/audit_trail/audit_entry_search_spec.rb[1:1:1:1]","description":"is expected to be indexable via bulk index scope","full_description":"AuditTrail::AuditEntry Search behaves like a search indexable model #bulk_index is expected to be indexable via bulk index scope","status":"passed","file_path":"./spec/support/shared_examples/search_indexable_model.rb","line_number":5,"run_time":0.175818956,"pending_message":null,"screenshot":null},{"id":"./spec/models/audit_trail/audit_entry_search_spec.rb[1:1:2:1]","description":"generates successfully on a new instance","full_description":"AuditTrail::AuditEntry Search behaves like a search indexable model #indexable_fields generates successfully on a new instance","status":"passed","file_path":"./spec/support/shared_examples/search_indexable_model.rb","line_number":9,"run_time":0.002800466,"pending_message":null,"screenshot":null},{"id":"./spec/models/audit_trail/audit_entry_search_spec.rb[1:2:1]","description":"extracts data for indexing","full_description":"AuditTrail::AuditEntry Search #indexable_fields extracts data for indexing","status":"passed","file_path":"./spec/models/audit_trail/audit_entry_search_spec.rb","line_number":26,"run_time":0.197621722,"pending_message":null,"screenshot":null},{"id":"./spec/models/audit_trail/audit_entry_search_spec.rb[1:3:1]","description":"overrides the auto-generated value from Search::Indexable","full_description":"AuditTrail::AuditEntry Search .indexable_type overrides the auto-generated value from Search::Indexable","status":"passed","file_path":"./spec/models/audit_trail/audit_entry_search_spec.rb","line_number":39,"run_time":0.003945313,"pending_message":null,"screenshot":null},{"id":"./spec/models/audit_trail/audit_entry_search_spec.rb[1:4:1]","description":"defines a lowercase normalizer","full_description":"AuditTrail::AuditEntry Search .indexable_settings defines a lowercase normalizer","status":"passed","file_path":"./spec/models/audit_trail/audit_entry_search_spec.rb","line_number":45,"run_time":0.003248281,"pending_message":null,"screenshot":null},{"id":"./spec/models/audit_trail/audit_entry_search_spec.rb[1:4:2]","description":"defines a custom analyzer","full_description":"AuditTrail::AuditEntry Search .indexable_settings defines a custom analyzer","status":"passed","file_path":"./spec/models/audit_trail/audit_entry_search_spec.rb","line_number":52,"run_time":0.002909365,"pending_message":null,"screenshot":null},{"id":"./spec/models/audit_trail/audit_entry_search_spec.rb[1:4:3]","description":"defines a char_filter","full_description":"AuditTrail::AuditEntry Search .indexable_settings defines a char_filter","status":"passed","file_path":"./spec/models/audit_trail/audit_entry_search_spec.rb","line_number":61,"run_time":0.002692533,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:2:1:2:1:2]","description":"not associated with a account (bank interest)","full_description":"UkAccountsMapper Accounts Mapper for UK companies who have applied for VAT registration before their registration effective date Bank Account Entries representing income not associated with a account (bank interest)","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":892,"run_time":0.215433884,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:2:2:2:3]","description":"representing admin expenses","full_description":"UkAccountsMapper Accounts Mapper for UK companies who have applied for VAT registration after their registration effective date Bank Account Entries representing admin expenses","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":1631,"run_time":0.221071259,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/inline/source_item_controller_spec.rb[1:1]","description":"shows the source_item tab","full_description":"Admin::Inline::SourceItemController shows the source_item tab","status":"passed","file_path":"./spec/controllers/admin/inline/source_item_controller_spec.rb","line_number":16,"run_time":0.234862174,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[12:8:1]","description":"is not shown when the company only has one active bank account","full_description":"InvoicesController GET new the bank account selection field is not shown when the company only has one active bank account","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":1183,"run_time":0.160599673,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/companies/_tabs.html.erb_spec.rb[1:1:1]","description":"includes the My Clients and All Clients tabs","full_description":"practice_dashboard/companies/_tabs as a senior account manager includes the My Clients and All Clients tabs","status":"passed","file_path":"./spec/views/practice_dashboard/companies/_tabs.html.erb_spec.rb","line_number":29,"run_time":0.046754006,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/companies/_tabs.html.erb_spec.rb[1:2:1]","description":"only includes the My Clients tab","full_description":"practice_dashboard/companies/_tabs as a non-senior account manager only includes the My Clients tab","status":"passed","file_path":"./spec/views/practice_dashboard/companies/_tabs.html.erb_spec.rb","line_number":41,"run_time":0.037109955,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/companies/_tabs.html.erb_spec.rb[1:3:1:1]","description":"includes all CoPilot and non-CoPilot tabs","full_description":"practice_dashboard/companies/_tabs with a CoPilot accountancy practice as a senior account manager includes all CoPilot and non-CoPilot tabs","status":"passed","file_path":"./spec/views/practice_dashboard/companies/_tabs.html.erb_spec.rb","line_number":56,"run_time":0.065523595,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/companies/_tabs.html.erb_spec.rb[1:3:2:1]","description":"includes My Clients, My CoPilot Clients and CoPilot Leads tabs","full_description":"practice_dashboard/companies/_tabs with a CoPilot accountancy practice as a non-senior account manager includes My Clients, My CoPilot Clients and CoPilot Leads tabs","status":"passed","file_path":"./spec/views/practice_dashboard/companies/_tabs.html.erb_spec.rb","line_number":74,"run_time":0.053946307,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:16:3:1]","description":"returns due value","full_description":"Invoice#optional_due_value given an invoice with non-zero CIS deduction returns due value","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":310,"run_time":0.159129139,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:86:1]","description":"generates ledgers when marked as sent","full_description":"Invoice An invoice with a 0.0, non hours quantity item generates ledgers when marked as sent","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":2538,"run_time":0.174967823,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/metrics_controller_spec.rb[1:1:1]","description":"redirects to the report file","full_description":"Admin::MetricsController GET #show for an existing metric report type redirects to the report file","status":"passed","file_path":"./spec/controllers/admin/metrics_controller_spec.rb","line_number":11,"run_time":0.061241914,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/metrics_controller_spec.rb[1:2:1]","description":"returns a 404 response","full_description":"Admin::MetricsController GET #show for a non-existent metrics report returns a 404 response","status":"passed","file_path":"./spec/controllers/admin/metrics_controller_spec.rb","line_number":17,"run_time":0.064166036,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_external_link.html.erb_spec.rb[1:1]","description":"renders an External Link when a URL and Label are passed","full_description":"freestyle/components/_external_link renders an External Link when a URL and Label are passed","status":"passed","file_path":"./spec/views/freestyle/components/_external_link.html.erb_spec.rb","line_number":4,"run_time":0.05246322,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_external_link.html.erb_spec.rb[1:2]","description":"renders data attributes when passed","full_description":"freestyle/components/_external_link renders data attributes when passed","status":"passed","file_path":"./spec/views/freestyle/components/_external_link.html.erb_spec.rb","line_number":10,"run_time":0.045107958,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_external_link.html.erb_spec.rb[1:3]","description":"renders an accessible warning that the link opens in a new window ","full_description":"freestyle/components/_external_link renders an accessible warning that the link opens in a new window ","status":"passed","file_path":"./spec/views/freestyle/components/_external_link.html.erb_spec.rb","line_number":15,"run_time":0.045548557,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_external_link.html.erb_spec.rb[1:4]","description":"safely opens links in a new window/tab","full_description":"freestyle/components/_external_link safely opens links in a new window/tab","status":"passed","file_path":"./spec/views/freestyle/components/_external_link.html.erb_spec.rb","line_number":20,"run_time":0.046384104,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/landing_zone/eligibility_check_spec.rb[1:1:1:1]","description":"is expected to equal true","full_description":"LandingZone::EligibilityCheck#eligible? when the company and user are eligible for landing zone by default is expected to equal true","status":"passed","file_path":"./spec/freeagent/landing_zone/eligibility_check_spec.rb","line_number":14,"run_time":0.008803908,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/landing_zone/eligibility_check_spec.rb[1:1:2:1]","description":"is expected to equal false","full_description":"LandingZone::EligibilityCheck#eligible? when the company is whitelabelled is expected to equal false","status":"passed","file_path":"./spec/freeagent/landing_zone/eligibility_check_spec.rb","line_number":19,"run_time":0.050593805,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/landing_zone/eligibility_check_spec.rb[1:1:3:1]","description":"is expected to equal false","full_description":"LandingZone::EligibilityCheck#eligible? when the user is an account manager is expected to equal false","status":"passed","file_path":"./spec/freeagent/landing_zone/eligibility_check_spec.rb","line_number":24,"run_time":0.025870855,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/landing_zone/eligibility_check_spec.rb[1:1:4:1]","description":"is expected to equal false","full_description":"LandingZone::EligibilityCheck#eligible? when the company and user are not eligible for landing zones is expected to equal false","status":"passed","file_path":"./spec/freeagent/landing_zone/eligibility_check_spec.rb","line_number":30,"run_time":0.071340611,"pending_message":null,"screenshot":null},{"id":"./spec/views/vat_returns/vat_return/_boxes.html.erb_spec.rb[1:1:1]","description":"has the correct labels","full_description":"vat_returns/vat_return/_boxes a VAT return starting before Brexit has the correct labels","status":"passed","file_path":"./spec/views/vat_returns/vat_return/_boxes.html.erb_spec.rb","line_number":15,"run_time":0.091216253,"pending_message":null,"screenshot":null},{"id":"./spec/views/vat_returns/vat_return/_boxes.html.erb_spec.rb[1:2:1]","description":"has the correct labels","full_description":"vat_returns/vat_return/_boxes a VAT return starting after Brexit has the correct labels","status":"passed","file_path":"./spec/views/vat_returns/vat_return/_boxes.html.erb_spec.rb","line_number":31,"run_time":0.090644381,"pending_message":null,"screenshot":null}],"summary":{"duration":2.044802025,"example_count":321,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"321 examples, 0 failures"}