{"version":"3.11.0","messages":["Run options: exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/models/bank_account_spec.rb[1:2]","description":"create_new_bank_account","full_description":"BankAccount create_new_bank_account","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":246,"run_time":1.164036379,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:3]","description":"create_new_credit_card_account","full_description":"BankAccount create_new_credit_card_account","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":271,"run_time":0.036173295,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:4]","description":"create_new_paypal_account","full_description":"BankAccount create_new_paypal_account","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":288,"run_time":0.044867693,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:5]","description":"attributes_are_stripped","full_description":"BankAccount attributes_are_stripped","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":305,"run_time":0.032271216,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:6]","description":"paypal","full_description":"BankAccount paypal","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":315,"run_time":0.028547781,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:7]","description":"formatted_account_number","full_description":"BankAccount formatted_account_number","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":320,"run_time":0.120840203,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:8]","description":"short_sort_code","full_description":"BankAccount short_sort_code","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":332,"run_time":0.029038653,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:9]","description":"latest_activity_date","full_description":"BankAccount latest_activity_date","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":338,"run_time":0.199153095,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:10]","description":"latest_activity_date_no_transactions","full_description":"BankAccount latest_activity_date_no_transactions","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":345,"run_time":0.030997137,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:11]","description":"balance_calcs","full_description":"BankAccount balance_calcs","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":352,"run_time":0.107669535,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:12]","description":"balance_calcs_two","full_description":"BankAccount balance_calcs_two","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":364,"run_time":0.168098924,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:13]","description":"matching_unexplained_transactions","full_description":"BankAccount matching_unexplained_transactions","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":375,"run_time":0.197449765,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:16]","description":"fails to create standard bank account without required fields","full_description":"BankAccount fails to create standard bank account without required fields","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":465,"run_time":0.255952683,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:17]","description":"fails to create credit card account without required fields","full_description":"BankAccount fails to create credit card account without required fields","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":483,"run_time":0.025206913,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:18]","description":"fails to create paypal account without required fields","full_description":"BankAccount fails to create paypal account without required fields","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":499,"run_time":0.025034943,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:19]","description":"fails to create standard bank account with invalid fields","full_description":"BankAccount fails to create standard bank account with invalid fields","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":515,"run_time":0.166262634,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:20]","description":"fails to create credit card account with invalid fields","full_description":"BankAccount fails to create credit card account with invalid fields","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":529,"run_time":0.038673696,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:21]","description":"fails to create paypal account with invalid fields","full_description":"BankAccount fails to create paypal account with invalid fields","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":555,"run_time":0.025332534,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:23]","description":"validation is relaxed for universal companies","full_description":"BankAccount validation is relaxed for universal companies","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":586,"run_time":0.471121089,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:27]","description":"is expected to have one bank_feed dependent =\u003e destroy","full_description":"BankAccount is expected to have one bank_feed dependent =\u003e destroy","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":724,"run_time":0.004334579,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:29]","description":"knows the bank feed start on date","full_description":"BankAccount knows the bank feed start on date","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":747,"run_time":0.075261701,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:42]","description":"#balance_before","full_description":"BankAccount #balance_before","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1120,"run_time":0.061598051,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:47]","description":"returns the name as the account name","full_description":"BankAccount returns the name as the account name","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1277,"run_time":0.003241633,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:1]","description":"is expected to validate that the length of :iban is at most 87","full_description":"BankAccount validations is expected to validate that the length of :iban is at most 87","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":26,"run_time":0.09981631,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:2]","description":"is expected to validate that the length of :bic is at most 87","full_description":"BankAccount validations is expected to validate that the length of :bic is at most 87","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":27,"run_time":0.105023378,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:3:1]","description":"returns an error if the account number is locked","full_description":"BankAccount validations #account_number_may_be_changed returns an error if the account number is locked","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":30,"run_time":0.105768197,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:3:2]","description":"does not return an error if the account number is not locked","full_description":"BankAccount validations #account_number_may_be_changed does not return an error if the account number is not locked","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":39,"run_time":0.102954486,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:4:1]","description":"returns an error if the sort code is locked","full_description":"BankAccount validations #sort_code_may_be_changed returns an error if the sort code is locked","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":47,"run_time":0.104126862,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:4:2]","description":"does not return an error if the sort code is not locked","full_description":"BankAccount validations #sort_code_may_be_changed does not return an error if the sort code is not locked","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":56,"run_time":0.107314854,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:5:1:1:1]","description":"does not return an error","full_description":"BankAccount validations #currency_may_be_changed when changing the currency of a bank account from native (GBP) to foreign (NZD) when the bank account does not have invoices associated does not return an error","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":70,"run_time":0.040317184,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:5:1:2:1]","description":"does not return an error","full_description":"BankAccount validations #currency_may_be_changed when changing the currency of a bank account from native (GBP) to foreign (NZD) when the bank account has a native (GBP) invoice associated does not return an error","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":79,"run_time":0.133518499,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:5:1:3:1]","description":"does not return an error","full_description":"BankAccount validations #currency_may_be_changed when changing the currency of a bank account from native (GBP) to foreign (NZD) when the bank account has an NZD invoice associated does not return an error","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":88,"run_time":0.100291953,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:5:1:4:1]","description":"returns an error","full_description":"BankAccount validations #currency_may_be_changed when changing the currency of a bank account from native (GBP) to foreign (NZD) when the bank account has a USD invoice associated returns an error","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":97,"run_time":0.090796402,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:5:1:5:1]","description":"returns an error","full_description":"BankAccount validations #currency_may_be_changed when changing the currency of a bank account from native (GBP) to foreign (NZD) when the bank account has both a USD and an NZD invoice associated returns an error","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":111,"run_time":0.202857459,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:5:2:1:1]","description":"does not return an error","full_description":"BankAccount validations #currency_may_be_changed when changing the currency of a bank account between two foreign currencies (NZD to USD) when the bank account does not have invoices associated does not return an error","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":126,"run_time":0.054686541,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:5:2:2:1]","description":"does not return an error","full_description":"BankAccount validations #currency_may_be_changed when changing the currency of a bank account between two foreign currencies (NZD to USD) when the bank account has a native (GBP) invoice associated does not return an error","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":135,"run_time":0.108608381,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:5:2:3:1]","description":"returns an error","full_description":"BankAccount validations #currency_may_be_changed when changing the currency of a bank account between two foreign currencies (NZD to USD) when the bank account has a foreign (NZD) invoice associated returns an error","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":144,"run_time":0.101820297,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:5:3:1:1]","description":"does not return an error","full_description":"BankAccount validations #currency_may_be_changed when changing the currency of a bank account from foreign (NZD) to native (GBP) when the bank account does not have invoices associated does not return an error","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":159,"run_time":0.046397862,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:5:3:2:1]","description":"does not return an error","full_description":"BankAccount validations #currency_may_be_changed when changing the currency of a bank account from foreign (NZD) to native (GBP) when the bank account has a native (GBP) invoice associated does not return an error","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":168,"run_time":0.096949728,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:5:3:3:1]","description":"does not return an error","full_description":"BankAccount validations #currency_may_be_changed when changing the currency of a bank account from foreign (NZD) to native (GBP) when the bank account has a foreign (NZD) invoice associated does not return an error","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":177,"run_time":0.100656789,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:6:1:1:1]","description":"provides an error to the user","full_description":"BankAccount validations #ensure_opening_balance_can_be_set with an account lock creating a new bank account with an non zero opening balance provides an error to the user","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":195,"run_time":0.034322834,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:6:1:2:1]","description":"passes validations","full_description":"BankAccount validations #ensure_opening_balance_can_be_set with an account lock creating a new bank account with a zero opening balance passes validations","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":203,"run_time":0.027780774,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:6:1:3:1]","description":"provides an error to the user","full_description":"BankAccount validations #ensure_opening_balance_can_be_set with an account lock an existing bank account updating the opening balance provides an error to the user","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":213,"run_time":0.032982208,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:6:2:1:1]","description":"passes validations","full_description":"BankAccount validations #ensure_opening_balance_can_be_set without any account locks a new bank account with an non zero opening balance passes validations","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":223,"run_time":0.008782151,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:6:2:2:1]","description":"passes validations","full_description":"BankAccount validations #ensure_opening_balance_can_be_set without any account locks a new bank account with a zero opening balance passes validations","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":230,"run_time":0.008215443,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:6:2:3:1]","description":"passes validations","full_description":"BankAccount validations #ensure_opening_balance_can_be_set without any account locks an existing bank account updating the opening balance passes validations","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":237,"run_time":0.032064479,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:14:1]","description":"builds a StandardBankAccount when the type is StandardBankAccount","full_description":"BankAccount from_params builds a StandardBankAccount when the type is StandardBankAccount","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":410,"run_time":0.003679963,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:14:2]","description":"builds a CreditCardAccount when the type is CreditCardAccount","full_description":"BankAccount from_params builds a CreditCardAccount when the type is CreditCardAccount","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":419,"run_time":0.003223105,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:14:3]","description":"builds a PaypalAccount when the type is PaypalAccount","full_description":"BankAccount from_params builds a PaypalAccount when the type is PaypalAccount","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":428,"run_time":0.002998291,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:14:4]","description":"builds a BankAccount with an error when the type is Invalid","full_description":"BankAccount from_params builds a BankAccount with an error when the type is Invalid","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":437,"run_time":0.003841878,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:15:1]","description":"returns true if transactions do not exist","full_description":"BankAccount#is_empty? returns true if transactions do not exist","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":455,"run_time":0.00611538,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:15:2]","description":"returns false if transactions exist","full_description":"BankAccount#is_empty? returns false if transactions exist","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":459,"run_time":0.033282218,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:22:1]","description":"returns a Banking::UploadedStatement for the latest upload","full_description":"BankAccount#latest_uploaded_statement returns a Banking::UploadedStatement for the latest upload","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":575,"run_time":0.042822482,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:24:1]","description":"is valid","full_description":"BankAccount A new bank account is valid","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":622,"run_time":0.031891622,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:24:2]","description":"has 0 balance","full_description":"BankAccount A new bank account has 0 balance","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":626,"run_time":0.030255078,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:24:3]","description":"defaults to zero opening balance","full_description":"BankAccount A new bank account defaults to zero opening balance","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":630,"run_time":0.028828329,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:25:1]","description":"has 0 balance","full_description":"BankAccount A bank account has 0 balance","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":646,"run_time":0.006587932,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:25:2:1]","description":"has updated the cached balance","full_description":"BankAccount A bank account when it has it's opening balance changed after being accessed has updated the cached balance","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":657,"run_time":0.035708259,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:25:3:1]","description":"computes account balance","full_description":"BankAccount A bank account with some transactions computes account balance","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":684,"run_time":0.162110219,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:25:3:2]","description":"provides a balance history","full_description":"BankAccount A bank account with some transactions provides a balance history","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":688,"run_time":0.154951194,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:26:1]","description":"returns nil for @company.bank_accounts.chart_account( 'all' )","full_description":"BankAccount A couple of bank accounts returns nil for @company.bank_accounts.chart_account( 'all' )","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":706,"run_time":0.028050571,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:26:2]","description":"returns the requested account for @company.bank_accounts.chart_account( :id )","full_description":"BankAccount A couple of bank accounts returns the requested account for @company.bank_accounts.chart_account( :id )","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":710,"run_time":0.029527683,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:26:3]","description":"returns the primary account for @company.bank_accounts.chart_account( :deleted_id )","full_description":"BankAccount A couple of bank accounts returns the primary account for @company.bank_accounts.chart_account( :deleted_id )","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":714,"run_time":0.067215056,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:26:4]","description":"returns nil for @company.bank_accounts.chart_account","full_description":"BankAccount A couple of bank accounts returns nil for @company.bank_accounts.chart_account","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":719,"run_time":0.028504553,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:28:1]","description":"does not include a bank with no bank feed","full_description":"BankAccount with_bank_feed_enabled scope does not include a bank with no bank feed","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":728,"run_time":0.029877851,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:28:2]","description":"does not include a bank with a new bank feed","full_description":"BankAccount with_bank_feed_enabled scope does not include a bank with a new bank feed","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":733,"run_time":0.053445786,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:28:3]","description":"includes bank account with enabled bank feed","full_description":"BankAccount with_bank_feed_enabled scope includes bank account with enabled bank feed","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":739,"run_time":0.053411355,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:30:1]","description":"returns true if there is no bank feed and a feed type is available","full_description":"BankAccount feed_can_be_enabled? returns true if there is no bank feed and a feed type is available","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":760,"run_time":0.101033604,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:30:2]","description":"returns false if there is already an active feed","full_description":"BankAccount feed_can_be_enabled? returns false if there is already an active feed","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":768,"run_time":0.103199587,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:30:3]","description":"returns true if there is a disabled bank feed and a feed type is available","full_description":"BankAccount feed_can_be_enabled? returns true if there is a disabled bank feed and a feed type is available","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":775,"run_time":0.102047336,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:30:4]","description":"returns false if there is not an active feed and no feed type available","full_description":"BankAccount feed_can_be_enabled? returns false if there is not an active feed and no feed type available","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":784,"run_time":0.196696429,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:31:1:1]","description":"is false when there is no open banking switch notice","full_description":"BankAccount bank_feed_can_be_switched_to_open_banking? when there is no existing bank feed is false when there is no open banking switch notice","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":797,"run_time":0.008427515,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:31:1:2]","description":"is true when there is an open banking switch notice","full_description":"BankAccount bank_feed_can_be_switched_to_open_banking? when there is no existing bank feed is true when there is an open banking switch notice","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":800,"run_time":0.034756751,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:31:2:1]","description":"is true if the open_banking_switch_notice is set for a provider","full_description":"BankAccount bank_feed_can_be_switched_to_open_banking? when there is a non-open-banking feed is true if the open_banking_switch_notice is set for a provider","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":811,"run_time":0.047177553,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:31:2:2]","description":"is false if the open_banking_switch_notice is not set","full_description":"BankAccount bank_feed_can_be_switched_to_open_banking? when there is a non-open-banking feed is false if the open_banking_switch_notice is not set","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":816,"run_time":0.036486673,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:31:3:1]","description":"is always false","full_description":"BankAccount bank_feed_can_be_switched_to_open_banking? when there is an open banking bank feed is always false","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":827,"run_time":0.035073714,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:32:1]","description":"is true when there are explanations marked for review","full_description":"BankAccount currently_has_or_could_have_explanations_marked_for_review? is true when there are explanations marked for review","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":836,"run_time":0.12254189,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:32:2]","description":"is true when there is a feed enabled and the bank account has guess_enabled true","full_description":"BankAccount currently_has_or_could_have_explanations_marked_for_review? is true when there is a feed enabled and the bank account has guess_enabled true","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":847,"run_time":0.068220952,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:32:3]","description":"is true when there is a feed enabled and the feed has guess_enabled true","full_description":"BankAccount currently_has_or_could_have_explanations_marked_for_review? is true when there is a feed enabled and the feed has guess_enabled true","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":857,"run_time":0.081829106,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:33:1:1]","description":"has feed_enabled? when the bank feed is enabled","full_description":"BankAccount feed status bank account with a bank feed has feed_enabled? when the bank feed is enabled","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":873,"run_time":0.182306879,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:33:1:2]","description":"has feed_pending? when the bank feed is pending","full_description":"BankAccount feed status bank account with a bank feed has feed_pending? when the bank feed is pending","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":879,"run_time":0.142664397,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:33:1:3]","description":"is not enabled, active or pending when the bank feed isn't present","full_description":"BankAccount feed status bank account with a bank feed is not enabled, active or pending when the bank feed isn't present","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":886,"run_time":0.155487521,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:33:1:4]","description":"has a locked account number and sort code","full_description":"BankAccount feed status bank account with a bank feed has a locked account number and sort code","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":898,"run_time":0.151169058,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:33:2:1]","description":"does not have a locked sort code or account number","full_description":"BankAccount feed status bank account without a bank feed does not have a locked sort code or account number","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":907,"run_time":0.005940252,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:34:1]","description":"is correct with a zero opening balance","full_description":"BankAccount#has_opening_balances? is correct with a zero opening balance","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":915,"run_time":0.089517907,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:34:2]","description":"is correct with a non-zero opening balance","full_description":"BankAccount#has_opening_balances? is correct with a non-zero opening balance","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":920,"run_time":0.091817597,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:34:3]","description":"handles nil opening balance as zero","full_description":"BankAccount#has_opening_balances? handles nil opening balance as zero","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":925,"run_time":0.094018752,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:35:1]","description":"defaults to the company's native currency","full_description":"BankAccount#currency defaults to the company's native currency","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":932,"run_time":0.006005458,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:35:2]","description":"is overridable","full_description":"BankAccount#currency is overridable","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":938,"run_time":0.005589117,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:36:1]","description":"does not normally be locked","full_description":"BankAccount#currency locking does not normally be locked","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":948,"run_time":0.057577518,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:36:2]","description":"is locked if a bank feed is enabled","full_description":"BankAccount#currency locking is locked if a bank feed is enabled","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":952,"run_time":0.071397519,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:36:3]","description":"is locked if there are any transactions","full_description":"BankAccount#currency locking is locked if there are any transactions","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":958,"run_time":0.043247938,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:36:4]","description":"is locked if the account is used for GoCardless payouts","full_description":"BankAccount#currency locking is locked if the account is used for GoCardless payouts","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":964,"run_time":0.12228769,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:36:5]","description":"is not locked if GoCardless auto reconciliation is disabled","full_description":"BankAccount#currency locking is not locked if GoCardless auto reconciliation is disabled","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":969,"run_time":0.04361946,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:36:6]","description":"is locked if there is a lock period that covers the company start date","full_description":"BankAccount#currency locking is locked if there is a lock period that covers the company start date","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":974,"run_time":0.057281507,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:37:1]","description":"is true when currency is nil","full_description":"BankAccount#is_native_currency? is true when currency is nil","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":983,"run_time":0.005835467,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:37:2]","description":"is true when the currency matches the company currency","full_description":"BankAccount#is_native_currency? is true when the currency matches the company currency","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":988,"run_time":0.005559618,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:37:3]","description":"is false when the currency differs from the company currency","full_description":"BankAccount#is_native_currency? is false when the currency differs from the company currency","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":993,"run_time":0.005368653,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:38:1]","description":"is calculated using the exchange rate on the FreeAgent start date","full_description":"BankAccount#native_opening_balance is calculated using the exchange rate on the FreeAgent start date","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1004,"run_time":0.005745561,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:39:1]","description":"converts the account opening balance to native currency","full_description":"BankAccount#to_source_item converts the account opening balance to native currency","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1019,"run_time":0.006558843,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:39:2]","description":"includes foreign currency and native currency details","full_description":"BankAccount#to_source_item includes foreign currency and native currency details","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1023,"run_time":0.008594694,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:39:3]","description":"includes :id, :type and :description","full_description":"BankAccount#to_source_item includes :id, :type and :description","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1028,"run_time":0.008799244,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:40:1:1]","description":"revalues the opening balance","full_description":"BankAccount revaluation of foreign currency accounts on creation revalues the opening balance","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1041,"run_time":0.040387802,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:40:2:1:1]","description":"does not revalue the balance","full_description":"BankAccount revaluation of foreign currency accounts when updating when the opening balance and currency haven't changed does not revalue the balance","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1055,"run_time":0.054062688,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:40:2:1:2]","description":"does not update the opening balance ledgers","full_description":"BankAccount revaluation of foreign currency accounts when updating when the opening balance and currency haven't changed does not update the opening balance ledgers","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1060,"run_time":0.053189713,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:40:2:2:1]","description":"revalues the balance","full_description":"BankAccount revaluation of foreign currency accounts when updating when the opening balance has changed revalues the balance","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1071,"run_time":0.058667311,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:40:2:2:2]","description":"updates the opening balance ledgers","full_description":"BankAccount revaluation of foreign currency accounts when updating when the opening balance has changed updates the opening balance ledgers","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1076,"run_time":0.054057868,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:40:2:3:1]","description":"revalues the balance","full_description":"BankAccount revaluation of foreign currency accounts when updating when the currency has changed revalues the balance","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1087,"run_time":0.054701597,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:40:2:3:2]","description":"updates the opening balance ledgers","full_description":"BankAccount revaluation of foreign currency accounts when updating when the currency has changed updates the opening balance ledgers","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1092,"run_time":0.059119645,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:41:1]","description":"correctly calculates balances","full_description":"BankAccount#balance and #native_balance correctly calculates balances","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1108,"run_time":0.03827596,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:41:2]","description":"updates balances when transactions are applied","full_description":"BankAccount#balance and #native_balance updates balances when transactions are applied","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1113,"run_time":0.118576052,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:43:1]","description":"is the current balance when transaction is the latest","full_description":"BankAccount#balance_after is the current balance when transaction is the latest","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1187,"run_time":0.058706876,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:43:2]","description":"is correct when there are multiple transactions on the same date","full_description":"BankAccount#balance_after is correct when there are multiple transactions on the same date","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1191,"run_time":0.064554384,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:43:3]","description":"is correct when date time order is different to id order","full_description":"BankAccount#balance_after is correct when date time order is different to id order","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1196,"run_time":0.066157965,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:44:1]","description":"is deletable","full_description":"BankAccount a foreign currency bank account with an opening balance is deletable","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1219,"run_time":0.071431692,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:45:1]","description":"defaults to the company's default income account when there are no entries","full_description":"BankAccount#default_money_in_account defaults to the company's default income account when there are no entries","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1232,"run_time":0.122883109,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:45:2]","description":"uses the account from the most recent explanation","full_description":"BankAccount#default_money_in_account uses the account from the most recent explanation","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1236,"run_time":0.251198561,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:46:1]","description":"defaults to the company's default spending account when there are no entries","full_description":"BankAccount#default_money_out_account defaults to the company's default spending account when there are no entries","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1258,"run_time":0.126858475,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:46:2]","description":"uses the account from the most recent explanation","full_description":"BankAccount#default_money_out_account uses the account from the most recent explanation","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1262,"run_time":0.257145704,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:48:1:1]","description":"is expected to be truthy","full_description":"BankAccount#is_deletable? normal, non-primary bank account is expected to be truthy","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1284,"run_time":0.095250013,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:48:2:1]","description":"is expected to be falsy","full_description":"BankAccount#is_deletable? primary bank account is expected to be falsy","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1290,"run_time":0.123227326,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:48:3:1]","description":"is expected to be falsy","full_description":"BankAccount#is_deletable? has bank account entries is expected to be falsy","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1296,"run_time":0.145433186,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:48:4:1]","description":"is false","full_description":"BankAccount#is_deletable? has journal entries is false","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1302,"run_time":0.087565027,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:48:5:1]","description":"is expected to be falsy","full_description":"BankAccount#is_deletable? has invoices is expected to be falsy","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1311,"run_time":0.465761909,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:48:6:1]","description":"is expected to be falsy","full_description":"BankAccount#is_deletable? is a GoCardless payout account is expected to be falsy","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1317,"run_time":0.095312726,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:49:1]","description":"doesn't raise an error on the bank_transaction","full_description":"BankAccount#destroy doesn't raise an error on the bank_transaction","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1327,"run_time":0.128188301,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:49:2]","description":"deletes the dependent bank_transaction and deleted bank transaction","full_description":"BankAccount#destroy deletes the dependent bank_transaction and deleted bank transaction","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1333,"run_time":0.12700624,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:49:3:1]","description":"doesn't raise an error on the bank_transaction","full_description":"BankAccount#destroy when bank_transactions are guessed doesn't raise an error on the bank_transaction","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1344,"run_time":0.152083503,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:49:3:2]","description":"deletes the dependent bank_transaction and deleted bank transaction","full_description":"BankAccount#destroy when bank_transactions are guessed deletes the dependent bank_transaction and deleted bank transaction","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1350,"run_time":0.276718148,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:49:3:3]","description":"deletes the dependent guessed explanations","full_description":"BankAccount#destroy when bank_transactions are guessed deletes the dependent guessed explanations","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1356,"run_time":0.065378828,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:50:1]","description":"destroys currency gain ledger entries when the account is destroyed","full_description":"BankAccount with a foreign currency bank account destroys currency gain ledger entries when the account is destroyed","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1378,"run_time":0.303772673,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:51:1]","description":"strips leading zeros when present","full_description":"BankAccount.strip_leading_zeros strips leading zeros when present","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1389,"run_time":0.003470258,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:51:2]","description":"returns the original string when no leading zeros are present","full_description":"BankAccount.strip_leading_zeros returns the original string when no leading zeros are present","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1393,"run_time":0.002814626,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:52:1]","description":"strips dashes and whitespace when present","full_description":"BankAccount.strip_punctuation strips dashes and whitespace when present","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1399,"run_time":0.0026067,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:52:2]","description":"returns the original string when no punctuation is present","full_description":"BankAccount.strip_punctuation returns the original string when no punctuation is present","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1403,"run_time":0.002648225,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:53:1]","description":"updates the general_ledger_account names","full_description":"BankAccount changing name updates the general_ledger_account names","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1411,"run_time":0.119008157,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:54:1]","description":"returns false if bank does not have a sort code or account number","full_description":"BankAccount has_sort_code_or_account_number? returns false if bank does not have a sort code or account number","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1419,"run_time":0.090016061,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:54:2:1]","description":"return true","full_description":"BankAccount has_sort_code_or_account_number? bank account does have sort code and account number return true","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1425,"run_time":0.006268039,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:55:1]","description":"schedules a SourceItemCurrencyRevaluationJob","full_description":"BankAccount#revalue_balance schedules a SourceItemCurrencyRevaluationJob","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1432,"run_time":0.038817383,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:55:2]","description":"does not schedule a SourceItemCurrencyRevaluationJob when company is rebuilding","full_description":"BankAccount#revalue_balance does not schedule a SourceItemCurrencyRevaluationJob when company is rebuilding","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1438,"run_time":0.043909235,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:55:3]","description":"logs the caller","full_description":"BankAccount#revalue_balance logs the caller","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1446,"run_time":0.039687184,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:56:1]","description":"returns the last four digits of the account number","full_description":"BankAccount#account_number_suffix returns the last four digits of the account number","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1457,"run_time":0.398052606,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:57:1]","description":"loads the correct dependency","full_description":"BankAccount when guessing transactions and there is a top level name collision loads the correct dependency","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1474,"run_time":0.087880415,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:58:1]","description":"finds matches","full_description":"BankAccount similar_fully_unexplained_transaction_ids finds matches","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1490,"run_time":0.103847917,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:59:1]","description":"is true when there is a sort code and no account number","full_description":"BankAccount#partial_account_details? is true when there is a sort code and no account number","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1499,"run_time":0.104636545,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:59:2]","description":"is true when there is an account number and no sort code","full_description":"BankAccount#partial_account_details? is true when there is an account number and no sort code","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1504,"run_time":0.105018367,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:59:3]","description":"is false when there is both an account number and sort code","full_description":"BankAccount#partial_account_details? is false when there is both an account number and sort code","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1509,"run_time":0.106169339,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:59:4]","description":"is false when there is neither an account number or sort code","full_description":"BankAccount#partial_account_details? is false when there is neither an account number or sort code","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1514,"run_time":0.112898949,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:60:1]","description":"returns a bank account initialized from the RBSG signup data","full_description":"BankAccount#initialize_rbsg_bank_account returns a bank account initialized from the RBSG signup data","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1522,"run_time":0.123946967,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:61:1]","description":"returns true when bank account flag true","full_description":"BankAccount#guess_enabled returns true when bank account flag true","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1534,"run_time":0.031214325,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:61:2]","description":"returns false when bank account flag false with no bank feed","full_description":"BankAccount#guess_enabled returns false when bank account flag false with no bank feed","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1539,"run_time":0.032578655,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:62:1:1]","description":"returns true","full_description":"BankAccount#guess with guess enabled returns true","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1567,"run_time":0.116748329,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:62:1:2]","description":"initializes guess with the cache","full_description":"BankAccount#guess with guess enabled initializes guess with the cache","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1571,"run_time":0.293449532,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:62:1:3]","description":"runs guess","full_description":"BankAccount#guess with guess enabled runs guess","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1576,"run_time":0.215167519,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:62:1:5]","description":"does not run guess for a manual statement upload with guess_statement: false","full_description":"BankAccount#guess with guess enabled does not run guess for a manual statement upload with guess_statement: false","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1583,"run_time":0.097286293,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:62:1:6]","description":"does not run guess for an empty statement upload with guess_statement: true","full_description":"BankAccount#guess with guess enabled does not run guess for an empty statement upload with guess_statement: true","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1588,"run_time":0.10410159,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:62:1:4:1]","description":"yields execution times for guess and banquo","full_description":"BankAccount#guess with guess enabled behaves like yields exec times if block passed yields execution times for guess and banquo","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1549,"run_time":0.241982574,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:62:1:7:1]","description":"calls banquo","full_description":"BankAccount#guess with guess enabled when banquo is available calls banquo","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1594,"run_time":0.168721564,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:62:1:7:2:1]","description":"yields execution times for guess and banquo","full_description":"BankAccount#guess with guess enabled when banquo is available behaves like yields exec times if block passed yields execution times for guess and banquo","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1549,"run_time":0.249294222,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:62:1:8:1]","description":"does not call banquo","full_description":"BankAccount#guess with guess enabled when banquo is not available does not call banquo","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1604,"run_time":0.141597975,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:62:1:9:1]","description":"does not call banquo","full_description":"BankAccount#guess with guess enabled when the account is an unincorporated landlord company does not call banquo","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1620,"run_time":0.168167582,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:62:2:1]","description":"returns false","full_description":"BankAccount#guess with guess disabled returns false","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1630,"run_time":0.032542688,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:62:2:3]","description":"does not run guess","full_description":"BankAccount#guess with guess disabled does not run guess","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1636,"run_time":0.030326871,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:62:2:4]","description":"does not run banquo","full_description":"BankAccount#guess with guess disabled does not run banquo","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1641,"run_time":0.0330415,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:62:2:5]","description":"runs guess if the options include guess_statement: true","full_description":"BankAccount#guess with guess disabled runs guess if the options include guess_statement: true","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1646,"run_time":0.198651496,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:62:2:2:1]","description":"yields execution times for guess and banquo","full_description":"BankAccount#guess with guess disabled behaves like yields exec times if block passed yields execution times for guess and banquo","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1549,"run_time":0.044104743,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:63:1:1]","description":"returns all transactions","full_description":"BankAccount#recently_uploaded_transactions with all created today returns all transactions","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1691,"run_time":0.111569549,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:63:2:1]","description":"returns eligible transactions","full_description":"BankAccount#recently_uploaded_transactions with some created yesterday returns eligible transactions","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1701,"run_time":0.120479564,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:63:3:1]","description":"returns eligible transactions","full_description":"BankAccount#recently_uploaded_transactions with all created yesterday returns eligible transactions","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1712,"run_time":0.119147478,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:64:1]","description":"returns the number of manual transactions","full_description":"BankAccount#manually_added_transaction_count returns the number of manual transactions","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1723,"run_time":0.037691555,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:65:1]","description":"returns the number of fully explained transactions","full_description":"BankAccount#fully_explained_transaction_count returns the number of fully explained transactions","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1731,"run_time":0.14722949,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:66:1:1:1]","description":"has the expected locked attributes","full_description":"BankAccount locking attributes for frontbook provisioned companies when provisioned via frontbook onboarding the primary bank account has the expected locked attributes","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1751,"run_time":0.107039759,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:66:1:2:1:1]","description":"doesn't have any of the expected attributes locked","full_description":"BankAccount locking attributes for frontbook provisioned companies when provisioned via frontbook onboarding for a non-primary bank account behaves like an unlocked bank account doesn't have any of the expected attributes locked","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1742,"run_time":0.129183088,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:66:2:1:1]","description":"doesn't have any of the expected attributes locked","full_description":"BankAccount locking attributes for frontbook provisioned companies when not provisioned via frontbook onboarding behaves like an unlocked bank account doesn't have any of the expected attributes locked","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1742,"run_time":0.011337337,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:66:3:1:1]","description":"doesn't have any of the expected attributes locked","full_description":"BankAccount locking attributes for frontbook provisioned companies when the bank account does not have a company behaves like an unlocked bank account doesn't have any of the expected attributes locked","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1742,"run_time":0.031133577,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:67:1]","description":"returns the fully explained transactions","full_description":"BankAccount#fully_explained_transactions_scope returns the fully explained transactions","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1784,"run_time":0.166905268,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:67:2:1]","description":"is expected to be empty","full_description":"BankAccount#fully_explained_transactions_scope when it's a personal account is expected to be empty","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1791,"run_time":0.039968026,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:67:3:1]","description":"is expected to be empty","full_description":"BankAccount#fully_explained_transactions_scope when having unexplained transactions only is expected to be empty","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1799,"run_time":0.116825937,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:67:4:1]","description":"is expected to be empty","full_description":"BankAccount#fully_explained_transactions_scope when having partially explained transactions only is expected to be empty","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1807,"run_time":0.201321659,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:67:5:1]","description":"returns only the fully explained transactions","full_description":"BankAccount#fully_explained_transactions_scope when having a mix and match of transactions returns only the fully explained transactions","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1819,"run_time":0.241706944,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:68:1:1]","description":"is expected not to include #\u003cCreditCardAccount id: 950310368, company_id: 895397833, position: 2, is_personal: false, secondary_...al_here: false, currency: nil, open_banking_switch_notice: nil, enabled_for_cash_flow_horizon: true\u003e","full_description":"BankAccount.non_credit_card_accounts scope for a credit card account is expected not to include #\u003cCreditCardAccount id: 950310368, company_id: 895397833, position: 2, is_personal: false, secondary_...al_here: false, currency: nil, open_banking_switch_notice: nil, enabled_for_cash_flow_horizon: true\u003e","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1830,"run_time":0.031012312,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:68:2:1]","description":"is expected to include #\u003cStandardBankAccount id: 950310369, company_id: 895397833, position: 2, is_personal: false, secondar...al_here: false, currency: nil, open_banking_switch_notice: nil, enabled_for_cash_flow_horizon: true\u003e","full_description":"BankAccount.non_credit_card_accounts scope for a non credit card account is expected to include #\u003cStandardBankAccount id: 950310369, company_id: 895397833, position: 2, is_personal: false, secondar...al_here: false, currency: nil, open_banking_switch_notice: nil, enabled_for_cash_flow_horizon: true\u003e","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1835,"run_time":0.028017297,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:69:1:1]","description":"returns an ActiveRecord relation","full_description":"BankAccount#unexplained_transactions with a business account returns an ActiveRecord relation","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1843,"run_time":0.02753879,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:69:2:1]","description":"returns an empty ActiveRecord relation","full_description":"BankAccount#unexplained_transactions with a personal account returns an empty ActiveRecord relation","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1851,"run_time":0.029651208,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:70:1:1]","description":"returns an ActiveRecord relation","full_description":"BankAccount#fully_explained_transactions with a business account returns an ActiveRecord relation","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1863,"run_time":0.029412066,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:70:2:1]","description":"returns an empty ActiveRecord relation","full_description":"BankAccount#fully_explained_transactions with a personal account returns an empty ActiveRecord relation","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1871,"run_time":0.034741513,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:71:1]","description":"is expected to eq [#\u003cBankTransaction id: 91, bank_account_id: 950310375, transaction_type: nil, amount: -50.0 (BigDecim...id: 895397912, explained: false, date_time_on: \"2022-12-14 00:00:00.000000000 +0000\", balance: nil\u003e]","full_description":"BankAccount#unexplained_transactions(exclude_locked: true) is expected to eq [#\u003cBankTransaction id: 91, bank_account_id: 950310375, transaction_type: nil, amount: -50.0 (BigDecim...id: 895397912, explained: false, date_time_on: \"2022-12-14 00:00:00.000000000 +0000\", balance: nil\u003e]","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1890,"run_time":0.235615023,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:71:2:1]","description":"is expected to eq [#\u003cBankTransaction id: 93, bank_account_id: 950310377, transaction_type: nil, amount: -50.0 (BigDecim...id: 895397913, explained: false, date_time_on: \"2022-12-14 00:00:00.000000000 +0000\", balance: nil\u003e]","full_description":"BankAccount#unexplained_transactions(exclude_locked: true) when some of the transactions are locked is expected to eq [#\u003cBankTransaction id: 93, bank_account_id: 950310377, transaction_type: nil, amount: -50.0 (BigDecim...id: 895397913, explained: false, date_time_on: \"2022-12-14 00:00:00.000000000 +0000\", balance: nil\u003e]","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1899,"run_time":0.29570137,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:71:3:1]","description":"is expected to be empty","full_description":"BankAccount#unexplained_transactions(exclude_locked: true) when all transactions are locked is expected to be empty","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1910,"run_time":0.324735609,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:72:1]","description":"is expected to eq [#\u003cBankTransaction id: 97, bank_account_id: 950310381, transaction_type: nil, amount: -50.0 (BigDecim...id: 895397915, explained: false, date_time_on: \"2022-12-14 00:00:00.000000000 +0000\", balance: nil\u003e]","full_description":"BankAccount#explanations_marked_for_review(exclude_locked: true) is expected to eq [#\u003cBankTransaction id: 97, bank_account_id: 950310381, transaction_type: nil, amount: -50.0 (BigDecim...id: 895397915, explained: false, date_time_on: \"2022-12-14 00:00:00.000000000 +0000\", balance: nil\u003e]","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1930,"run_time":0.392400539,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:72:2:1]","description":"is expected to eq [#\u003cBankTransaction id: 99, bank_account_id: 950310383, transaction_type: nil, amount: -50.0 (BigDecim...id: 895397916, explained: false, date_time_on: \"2022-12-14 00:00:00.000000000 +0000\", balance: nil\u003e]","full_description":"BankAccount#explanations_marked_for_review(exclude_locked: true) when some of the explanations are locked is expected to eq [#\u003cBankTransaction id: 99, bank_account_id: 950310383, transaction_type: nil, amount: -50.0 (BigDecim...id: 895397916, explained: false, date_time_on: \"2022-12-14 00:00:00.000000000 +0000\", balance: nil\u003e]","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1939,"run_time":0.496382921,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:72:3:1]","description":"is expected to be empty","full_description":"BankAccount#explanations_marked_for_review(exclude_locked: true) when all explanations are locked is expected to be empty","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1950,"run_time":0.601201887,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:73:1]","description":"deligates to BankFeeds::AccessChecker#available_for_company?","full_description":"BankAccount#advertise_bank_feed_feature? deligates to BankFeeds::AccessChecker#available_for_company?","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1955,"run_time":0.096151359,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:74:1]","description":"is expected to equal true","full_description":"BankAccount#cash_flow_supported? is expected to equal true","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1965,"run_time":0.093616,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:74:2]","description":"is expected to equal false","full_description":"BankAccount#cash_flow_supported? is expected to equal false","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1966,"run_time":0.039365331,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:74:3]","description":"is expected to equal false","full_description":"BankAccount#cash_flow_supported? is expected to equal false","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1967,"run_time":0.033710644,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:74:4]","description":"is expected to equal true","full_description":"BankAccount#cash_flow_supported? is expected to equal true","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1968,"run_time":0.035023319,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:74:5]","description":"is expected to equal false","full_description":"BankAccount#cash_flow_supported? is expected to equal false","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1969,"run_time":0.033174513,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:75:1]","description":"is expected to contain exactly #\u003cStandardBankAccount id: 950310394, company_id: 895397920, position: 1, is_personal: false, secondar...al_here: false, currency: nil, open_banking_switch_notice: nil, enabled_for_cash_flow_horizon: true\u003e, #\u003cStandardBankAccount id: 950310395, company_id: 895397920, position: 2, is_personal: false, secondar..._here: false, currency: \"USD\", open_banking_switch_notice: nil, enabled_for_cash_flow_horizon: true\u003e, #\u003cStandardBankAccount id: 950310396, company_id: 895397920, position: 3, is_personal: true, secondary...al_here: false, currency: nil, open_banking_switch_notice: nil, enabled_for_cash_flow_horizon: true\u003e, #\u003cPaypalAccount id: 950310397, company_id: 895397920, position: 4, is_personal: false, secondary_sort...al_here: false, currency: nil, open_banking_switch_notice: nil, enabled_for_cash_flow_horizon: true\u003e, and #\u003cCreditCardAccount id: 950310398, company_id: 895397920, position: 5, is_personal: false, secondary_...al_here: false, currency: nil, open_banking_switch_notice: nil, enabled_for_cash_flow_horizon: true\u003e","full_description":"BankAccount.cash_flow_supported is expected to contain exactly #\u003cStandardBankAccount id: 950310394, company_id: 895397920, position: 1, is_personal: false, secondar...al_here: false, currency: nil, open_banking_switch_notice: nil, enabled_for_cash_flow_horizon: true\u003e, #\u003cStandardBankAccount id: 950310395, company_id: 895397920, position: 2, is_personal: false, secondar..._here: false, currency: \"USD\", open_banking_switch_notice: nil, enabled_for_cash_flow_horizon: true\u003e, #\u003cStandardBankAccount id: 950310396, company_id: 895397920, position: 3, is_personal: true, secondary...al_here: false, currency: nil, open_banking_switch_notice: nil, enabled_for_cash_flow_horizon: true\u003e, #\u003cPaypalAccount id: 950310397, company_id: 895397920, position: 4, is_personal: false, secondary_sort...al_here: false, currency: nil, open_banking_switch_notice: nil, enabled_for_cash_flow_horizon: true\u003e, and #\u003cCreditCardAccount id: 950310398, company_id: 895397920, position: 5, is_personal: false, secondary_...al_here: false, currency: nil, open_banking_switch_notice: nil, enabled_for_cash_flow_horizon: true\u003e","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1980,"run_time":0.168571052,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:75:2]","description":"returns only cashflow supported account types","full_description":"BankAccount.cash_flow_supported returns only cashflow supported account types","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1990,"run_time":0.208985476,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:76:1:1]","description":"is expected to equal false","full_description":"BankAccount#open_banking_opening_balance_mismatch? when the bank account doesn't have an open banking opening balance is expected to equal false","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2005,"run_time":0.03036435,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:76:2:1:1]","description":"is expected to equal false","full_description":"BankAccount#open_banking_opening_balance_mismatch? when the bank account has an open banking opening balance when open_banking opening balance and opening balance are the same is expected to equal false","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2023,"run_time":0.289357518,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:76:2:2:1]","description":"is expected to equal true","full_description":"BankAccount#open_banking_opening_balance_mismatch? when the bank account has an open banking opening balance when open_banking opening balance and opening balance are not the same is expected to equal true","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2031,"run_time":0.256435209,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:77:1:1:1]","description":"is expected to equal nil","full_description":"BankAccount balance diverging from balance at bank bank account has no balances at bank #first_date_balance_diverged_from_balance_at_bank is expected to equal nil","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2054,"run_time":0.088607384,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:77:1:2:1]","description":"is expected to equal nil","full_description":"BankAccount balance diverging from balance at bank bank account has no balances at bank #last_date_balance_matched_balance_at_bank is expected to equal nil","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2059,"run_time":0.09158958,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:77:2:1:1]","description":"is expected to equal nil","full_description":"BankAccount balance diverging from balance at bank balances are in sync #first_date_balance_diverged_from_balance_at_bank is expected to equal nil","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2083,"run_time":0.192086823,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:77:2:2:1]","description":"is expected to eq Thu, 08 Dec 2022","full_description":"BankAccount balance diverging from balance at bank balances are in sync #last_date_balance_matched_balance_at_bank is expected to eq Thu, 08 Dec 2022","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2088,"run_time":0.182410758,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:77:3:1:1]","description":"is expected to equal nil","full_description":"BankAccount balance diverging from balance at bank balances diverged before FA start date #first_date_balance_diverged_from_balance_at_bank is expected to equal nil","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2104,"run_time":0.207451235,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:77:3:2:1]","description":"is expected to eq 2020-04-01 00:00:00.000000000 +0000","full_description":"BankAccount balance diverging from balance at bank balances diverged before FA start date #last_date_balance_matched_balance_at_bank is expected to eq 2020-04-01 00:00:00.000000000 +0000","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2109,"run_time":0.161112486,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:77:4:1:1:1]","description":"is expected to eq Wed, 01 Apr 2020","full_description":"BankAccount balance diverging from balance at bank balances diverged on FA start date opening_balance not set correctly #first_date_balance_diverged_from_balance_at_bank is expected to eq Wed, 01 Apr 2020","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2126,"run_time":0.179136456,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:77:4:1:2:1]","description":"is expected to equal nil","full_description":"BankAccount balance diverging from balance at bank balances diverged on FA start date opening_balance not set correctly #last_date_balance_matched_balance_at_bank is expected to equal nil","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2131,"run_time":0.181717051,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:77:4:2:1:1]","description":"is expected to eq Wed, 01 Apr 2020","full_description":"BankAccount balance diverging from balance at bank balances diverged on FA start date opening_balance set correctly #first_date_balance_diverged_from_balance_at_bank is expected to eq Wed, 01 Apr 2020","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2155,"run_time":0.200213008,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:77:4:2:2:1]","description":"is expected to eq Wed, 01 Apr 2020","full_description":"BankAccount balance diverging from balance at bank balances diverged on FA start date opening_balance set correctly #last_date_balance_matched_balance_at_bank is expected to eq Wed, 01 Apr 2020","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2160,"run_time":0.170338181,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:77:5:1:1]","description":"is expected to eq Thu, 24 Nov 2022","full_description":"BankAccount balance diverging from balance at bank balances diverged after the FA start date #first_date_balance_diverged_from_balance_at_bank is expected to eq Thu, 24 Nov 2022","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2228,"run_time":0.3420647,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:77:5:2:1]","description":"is expected to eq Thu, 17 Nov 2022","full_description":"BankAccount balance diverging from balance at bank balances diverged after the FA start date #last_date_balance_matched_balance_at_bank is expected to eq Thu, 17 Nov 2022","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2233,"run_time":0.381756898,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:78:1:1]","description":"updates the first_date_balance_diverged_from_balance_at_bank","full_description":"BankAccount cached first_date_balance_diverged_from_balance_at_bank when bank_account balance changes updates the first_date_balance_diverged_from_balance_at_bank","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2282,"run_time":0.2817193,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:78:2:1]","description":"updates the first_date_balance_diverged_from_balance_at_bank","full_description":"BankAccount cached first_date_balance_diverged_from_balance_at_bank when FreeAgent start date changes updates the first_date_balance_diverged_from_balance_at_bank","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2297,"run_time":0.345890718,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:78:3:1]","description":"updates the first_date_balance_diverged_from_balance_at_bank","full_description":"BankAccount cached first_date_balance_diverged_from_balance_at_bank when balances_at_bank updated updates the first_date_balance_diverged_from_balance_at_bank","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2313,"run_time":0.268936853,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:78:4:1]","description":"updates the first_date_balance_diverged_from_balance_at_bank","full_description":"BankAccount cached first_date_balance_diverged_from_balance_at_bank when balances_at_bank added to updates the first_date_balance_diverged_from_balance_at_bank","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2333,"run_time":0.327902477,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:79:1:1]","description":"is expected to equal false","full_description":"BankAccount has_enabled_api_feed? when the bank account does not have a bank feed is expected to equal false","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2347,"run_time":0.031516583,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:79:2:1:1]","description":"is expected to equal true","full_description":"BankAccount has_enabled_api_feed? when the bank account has an ApiBankFeed and it is enabled is expected to equal true","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2354,"run_time":0.037785794,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:79:2:2:1]","description":"is expected to equal false","full_description":"BankAccount has_enabled_api_feed? when the bank account has an ApiBankFeed and it is disabled is expected to equal false","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2359,"run_time":0.041874463,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:79:2:3:1]","description":"is expected to equal false","full_description":"BankAccount has_enabled_api_feed? when the bank account has an ApiBankFeed and it is pending is expected to equal false","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2364,"run_time":0.043326345,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:79:3:1]","description":"is expected to equal false","full_description":"BankAccount has_enabled_api_feed? when the bank account has an OpenBankingBankFeed is expected to equal false","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2370,"run_time":0.03802369,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:80:1:1]","description":"also disables cash_flow_horizon feature","full_description":"BankAccount state changes making it hidden also disables cash_flow_horizon feature","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2384,"run_time":0.055357946,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:80:2:1]","description":"also enables cash_flow_horizon feature","full_description":"BankAccount state changes making it active also enables cash_flow_horizon feature","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2398,"run_time":0.051620666,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:81:1]","description":"will touch the bank account when transactions are created without this method","full_description":"BankAccount#uploading_transactions will touch the bank account when transactions are created without this method","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2413,"run_time":0.073826229,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:81:2]","description":"prevents transactions created inside the block from touching the bank account","full_description":"BankAccount#uploading_transactions prevents transactions created inside the block from touching the bank account","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2424,"run_time":0.056381016,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:81:3]","description":"changes the updated_at timestamp after the block completes","full_description":"BankAccount#uploading_transactions changes the updated_at timestamp after the block completes","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2437,"run_time":0.051123258,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:81:4]","description":"changes the updated_at timestamp even if there's an error in the block","full_description":"BankAccount#uploading_transactions changes the updated_at timestamp even if there's an error in the block","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2450,"run_time":0.05225636,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:81:5]","description":"calls the radar todo dependency tracker after finishing","full_description":"BankAccount#uploading_transactions calls the radar todo dependency tracker after finishing","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2465,"run_time":0.037930779,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/re_registration/deletions.feature[1:1:1]","description":"Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given the company has the following bills: -\u003e And the company has the following invoices: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-04-01 on the Invoice basis, not on the FRS -\u003e When bill 'Pre-reg' is deleted -\u003e And bill 'Burgers' is deleted -\u003e And the last item of bill 'Chicken' is deleted -\u003e And invoice Invoice001 is deleted -\u003e Then the company ledger entries for 818 (VAT Reclaimed) are: -\u003e And the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","full_description":"VAT re-registration with deletions to source items from historic, closed, and open registrations. Source item deleted from historic registration, registrations are contiguous. Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given the company has the following bills: -\u003e And the company has the following invoices: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-04-01 on the Invoice basis, not on the FRS -\u003e When bill 'Pre-reg' is deleted -\u003e And bill 'Burgers' is deleted -\u003e And the last item of bill 'Chicken' is deleted -\u003e And invoice Invoice001 is deleted -\u003e Then the company ledger entries for 818 (VAT Reclaimed) are: -\u003e And the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","status":"passed","file_path":"./spec/acceptance/vat/re_registration/deletions.feature","line_number":12,"run_time":6.835053912,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/re_registration/deletions.feature[1:2:1]","description":"Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given the company has the following bills: -\u003e And the company has the following invoices: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-07-01 on the Invoice basis, not on the FRS -\u003e When bill 'Burgers' is deleted -\u003e When the last item of bill 'Chicken' is deleted -\u003e And invoice Invoice001 is deleted -\u003e Then the company ledger entries for 818 (VAT Reclaimed) are: -\u003e And the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","full_description":"VAT re-registration with deletions to source items from historic, closed, and open registrations. Source item deleted from historic registration, gap of 1 day between registrations Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given the company has the following bills: -\u003e And the company has the following invoices: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-07-01 on the Invoice basis, not on the FRS -\u003e When bill 'Burgers' is deleted -\u003e When the last item of bill 'Chicken' is deleted -\u003e And invoice Invoice001 is deleted -\u003e Then the company ledger entries for 818 (VAT Reclaimed) are: -\u003e And the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","status":"passed","file_path":"./spec/acceptance/vat/re_registration/deletions.feature","line_number":78,"run_time":6.132538934,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/re_registration/deletions.feature[1:3:1]","description":"Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-07-01 on the Invoice basis, not on the FRS -\u003e And the company has the following bills: -\u003e And the company has the following invoices: -\u003e And the VAT return covering 2019-07-01 has been filed -\u003e When bill 'Pre-reg' is deleted -\u003e And bill 'Chips' is deleted -\u003e And the last item of bill 'Chicken' is deleted -\u003e And invoice Invoice002 is deleted -\u003e Then the company ledger entries for 818 (VAT Reclaimed) are: -\u003e Then the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","full_description":"VAT re-registration with deletions to source items from historic, closed, and open registrations. Source item deleted from current open registration Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-07-01 on the Invoice basis, not on the FRS -\u003e And the company has the following bills: -\u003e And the company has the following invoices: -\u003e And the VAT return covering 2019-07-01 has been filed -\u003e When bill 'Pre-reg' is deleted -\u003e And bill 'Chips' is deleted -\u003e And the last item of bill 'Chicken' is deleted -\u003e And invoice Invoice002 is deleted -\u003e Then the company ledger entries for 818 (VAT Reclaimed) are: -\u003e Then the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","status":"passed","file_path":"./spec/acceptance/vat/re_registration/deletions.feature","line_number":127,"run_time":6.289232305,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/re_registration/deletions.feature[1:4:1]","description":"Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-07-01 on the Invoice basis, not on the FRS -\u003e And the company has the following bills: -\u003e And the company has the following invoices: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-09-30 -\u003e And the company filed its latest vat return -\u003e When bill 'Chips' is deleted -\u003e When the last item of bill 'Chicken' is deleted -\u003e And invoice Invoice002 is deleted -\u003e Then the company ledger entries for 818 (VAT Reclaimed) are: -\u003e Then the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","full_description":"VAT re-registration with deletions to source items from historic, closed, and open registrations. Source item deleted from current closed registration Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-07-01 on the Invoice basis, not on the FRS -\u003e And the company has the following bills: -\u003e And the company has the following invoices: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-09-30 -\u003e And the company filed its latest vat return -\u003e When bill 'Chips' is deleted -\u003e When the last item of bill 'Chicken' is deleted -\u003e And invoice Invoice002 is deleted -\u003e Then the company ledger entries for 818 (VAT Reclaimed) are: -\u003e Then the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","status":"passed","file_path":"./spec/acceptance/vat/re_registration/deletions.feature","line_number":183,"run_time":6.67961242,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ir35/cumulative_incomes_spec.rb[1:1:1:1]","description":"returns the incomes per month","full_description":"Accounting::IR35::CumulativeIncomes#up_to with some data with a UK Limited Company returns the incomes per month","status":"passed","file_path":"./spec/models/accounting/ir35/cumulative_incomes_spec.rb","line_number":37,"run_time":1.634978009,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ir35/cumulative_incomes_spec.rb[1:1:2:1]","description":"returns the incomes per month","full_description":"Accounting::IR35::CumulativeIncomes#up_to with some data with a FRS VAT Registered company returns the incomes per month","status":"passed","file_path":"./spec/models/accounting/ir35/cumulative_incomes_spec.rb","line_number":56,"run_time":1.832119262,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ir35/cumulative_incomes_spec.rb[1:2:1]","description":"takes the credit node into account for month 7","full_description":"Accounting::IR35::CumulativeIncomes#up_to with credit notes within the tax year takes the credit node into account for month 7","status":"passed","file_path":"./spec/models/accounting/ir35/cumulative_incomes_spec.rb","line_number":95,"run_time":1.432556619,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ir35/cumulative_incomes_spec.rb[1:3:1]","description":"doesn't take the credit notes into account for month 1 and 12","full_description":"Accounting::IR35::CumulativeIncomes#up_to with credit notes outside the tax year doesn't take the credit notes into account for month 1 and 12","status":"passed","file_path":"./spec/models/accounting/ir35/cumulative_incomes_spec.rb","line_number":128,"run_time":0.74484046,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ir35/cumulative_incomes_spec.rb[1:4:1]","description":"doesn't take the transaction into account","full_description":"Accounting::IR35::CumulativeIncomes#up_to with any other transaction type doesn't take the transaction into account","status":"passed","file_path":"./spec/models/accounting/ir35/cumulative_incomes_spec.rb","line_number":142,"run_time":0.478559228,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ir35/cumulative_incomes_spec.rb[1:5:1]","description":"doesn't take the transaction into account","full_description":"Accounting::IR35::CumulativeIncomes#up_to with incomes not caught under IR35 doesn't take the transaction into account","status":"passed","file_path":"./spec/models/accounting/ir35/cumulative_incomes_spec.rb","line_number":158,"run_time":0.42115724,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ir35/cumulative_incomes_spec.rb[1:6:1]","description":"calculates using the native currency","full_description":"Accounting::IR35::CumulativeIncomes#up_to with a foreign currency invoice paid in a GBP bank account calculates using the native currency","status":"passed","file_path":"./spec/models/accounting/ir35/cumulative_incomes_spec.rb","line_number":181,"run_time":0.475177566,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ir35/cumulative_incomes_spec.rb[1:7:1]","description":"calculates using the native currency","full_description":"Accounting::IR35::CumulativeIncomes#up_to with a foreign currency invoice paid in a GBP bank account and a payment at a different exchange rate calculates using the native currency","status":"passed","file_path":"./spec/models/accounting/ir35/cumulative_incomes_spec.rb","line_number":205,"run_time":0.474620453,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ir35/cumulative_incomes_spec.rb[1:8:1]","description":"gives the correct amount for bad debt relief","full_description":"Accounting::IR35::CumulativeIncomes#up_to with a written off invoice gives the correct amount for bad debt relief","status":"passed","file_path":"./spec/models/accounting/ir35/cumulative_incomes_spec.rb","line_number":224,"run_time":0.277124561,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ir35/cumulative_incomes_spec.rb[1:9:1]","description":"adjusts the income for the stock expenses","full_description":"Accounting::IR35::CumulativeIncomes#up_to with a stock invoice adjusts the income for the stock expenses","status":"passed","file_path":"./spec/models/accounting/ir35/cumulative_incomes_spec.rb","line_number":251,"run_time":0.952689806,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ir35/cumulative_incomes_spec.rb[1:10:1]","description":"ignores the vat only invoice item when calculating the net ratio","full_description":"Accounting::IR35::CumulativeIncomes#up_to with an invoice with a vat only invoice item ignores the vat only invoice item when calculating the net ratio","status":"passed","file_path":"./spec/models/accounting/ir35/cumulative_incomes_spec.rb","line_number":277,"run_time":0.707407524,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ir35/cumulative_incomes_spec.rb[1:11:1]","description":"includes the discount when calculating the income","full_description":"Accounting::IR35::CumulativeIncomes#up_to with an invoice with a discount includes the discount when calculating the income","status":"passed","file_path":"./spec/models/accounting/ir35/cumulative_incomes_spec.rb","line_number":304,"run_time":0.446238493,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ir35/cumulative_incomes_spec.rb[1:12:1]","description":"gives the correct amount for bad debt relief","full_description":"Accounting::IR35::CumulativeIncomes#up_to with a partially paid written off invoice gives the correct amount for bad debt relief","status":"passed","file_path":"./spec/models/accounting/ir35/cumulative_incomes_spec.rb","line_number":331,"run_time":0.741316406,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:1:1]","description":"creates a linked entry in the other account","full_description":"BankTransfer a bank transfer between base currency accounts creates a linked entry in the other account","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":15,"run_time":0.25121482,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:1:2]","description":"removes the linked entry when deleted","full_description":"BankTransfer a bank transfer between base currency accounts removes the linked entry when deleted","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":25,"run_time":0.330648987,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:1:3]","description":"updates the linked transfer when updated","full_description":"BankTransfer a bank transfer between base currency accounts updates the linked transfer when updated","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":30,"run_time":0.432449227,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:1:4]","description":"is not a foreign currency transfer","full_description":"BankTransfer a bank transfer between base currency accounts is not a foreign currency transfer","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":41,"run_time":0.247869215,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:1:5]","description":"ignores any specified transfer value","full_description":"BankTransfer a bank transfer between base currency accounts ignores any specified transfer value","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":46,"run_time":0.413658601,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:1:6]","description":"prevents changing the entry type","full_description":"BankTransfer a bank transfer between base currency accounts prevents changing the entry type","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":51,"run_time":0.245062426,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:1:7]","description":"does not allow zero value transfers","full_description":"BankTransfer a bank transfer between base currency accounts does not allow zero value transfers","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":56,"run_time":0.222702309,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:1:8]","description":"does not allow zero value transfers with a transfer value","full_description":"BankTransfer a bank transfer between base currency accounts does not allow zero value transfers with a transfer value","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":60,"run_time":0.248559159,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:1:9]","description":"adds an audit entry for the linked entry creation","full_description":"BankTransfer a bank transfer between base currency accounts adds an audit entry for the linked entry creation","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":66,"run_time":0.422276563,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:1:10]","description":"publishes a bank transaction created event","full_description":"BankTransfer a bank transfer between base currency accounts publishes a bank transaction created event","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":81,"run_time":0.223472711,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:1:11]","description":"publishes a bank transaction explanation created event","full_description":"BankTransfer a bank transfer between base currency accounts publishes a bank transaction explanation created event","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":93,"run_time":0.242203382,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:1:12]","description":"adds an audit entry for linked entry when deleted","full_description":"BankTransfer a bank transfer between base currency accounts adds an audit entry for linked entry when deleted","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":106,"run_time":0.32338241,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:1:13]","description":"adds an audit entry for linked entry when updated","full_description":"BankTransfer a bank transfer between base currency accounts adds an audit entry for linked entry when updated","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":121,"run_time":0.40303153,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:1]","description":"is a foreign currency transfer","full_description":"BankTransfer a bank transfer between accounts of different currencies is a foreign currency transfer","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":152,"run_time":0.295440718,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:2]","description":"transfer value is not a number","full_description":"BankTransfer a bank transfer between accounts of different currencies transfer value is not a number","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":158,"run_time":0.083659388,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:3]","description":"creates a linked entry in the other account","full_description":"BankTransfer a bank transfer between accounts of different currencies creates a linked entry in the other account","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":171,"run_time":0.238612238,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:4]","description":"has the same native value","full_description":"BankTransfer a bank transfer between accounts of different currencies has the same native value","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":183,"run_time":0.2555487,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:5]","description":"uses transfer_value to create the linked transfer in if provided","full_description":"BankTransfer a bank transfer between accounts of different currencies uses transfer_value to create the linked transfer in if provided","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":192,"run_time":0.267639259,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:6]","description":"uses transfer_value to create the linked transfer out if provided","full_description":"BankTransfer a bank transfer between accounts of different currencies uses transfer_value to create the linked transfer out if provided","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":201,"run_time":0.266844003,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:7]","description":"matches transactions with values which are 5% of the sent value","full_description":"BankTransfer a bank transfer between accounts of different currencies matches transactions with values which are 5% of the sent value","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":211,"run_time":0.274815418,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:8]","description":"matches transactions with values which are 5% of the transfer_value if provided","full_description":"BankTransfer a bank transfer between accounts of different currencies matches transactions with values which are 5% of the transfer_value if provided","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":228,"run_time":0.253873404,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:9]","description":"does not match transactions with values which are outside of +5%/-10% of the sent value","full_description":"BankTransfer a bank transfer between accounts of different currencies does not match transactions with values which are outside of +5%/-10% of the sent value","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":245,"run_time":0.329823907,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:10]","description":"does not update the value of the linked transaction when updated, just the ledgers","full_description":"BankTransfer a bank transfer between accounts of different currencies does not update the value of the linked transaction when updated, just the ledgers","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":261,"run_time":0.359905641,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:11]","description":"updates the realized gain if the date of the transfer out changes","full_description":"BankTransfer a bank transfer between accounts of different currencies updates the realized gain if the date of the transfer out changes","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":274,"run_time":0.358448774,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:12]","description":"does not allow zero value transfers","full_description":"BankTransfer a bank transfer between accounts of different currencies does not allow zero value transfers","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":282,"run_time":0.101580285,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:13]","description":"allows zero value transfers with a transfer value","full_description":"BankTransfer a bank transfer between accounts of different currencies allows zero value transfers with a transfer value","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":286,"run_time":0.283110638,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:14]","description":"adds an audit entry for the linked entry creation","full_description":"BankTransfer a bank transfer between accounts of different currencies adds an audit entry for the linked entry creation","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":290,"run_time":0.274213132,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:15]","description":"adds an audit entry for linked entry when deleted","full_description":"BankTransfer a bank transfer between accounts of different currencies adds an audit entry for linked entry when deleted","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":305,"run_time":0.366632545,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:16]","description":"emits a bank transaction explanation deleted event for the linked entry when deleted","full_description":"BankTransfer a bank transfer between accounts of different currencies emits a bank transaction explanation deleted event for the linked entry when deleted","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":321,"run_time":0.350820663,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:2:17]","description":"does not add an audit entry for linked entry when updated","full_description":"BankTransfer a bank transfer between accounts of different currencies does not add an audit entry for linked entry when updated","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":335,"run_time":0.343717094,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:3:1]","description":"explains the existing transaction","full_description":"BankTransfer when there's a matching unexplained transaction in the destination account explains the existing transaction","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":357,"run_time":0.221550631,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:3:2]","description":"adds an audit entry for the existing transaction explanation","full_description":"BankTransfer when there's a matching unexplained transaction in the destination account adds an audit entry for the existing transaction explanation","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":366,"run_time":0.25707627,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:3:3]","description":"doesn't publish a bank transaction created event","full_description":"BankTransfer when there's a matching unexplained transaction in the destination account doesn't publish a bank transaction created event","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":381,"run_time":0.043641076,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:3:4]","description":"adds an audit entry for linked entry when deleted","full_description":"BankTransfer when there's a matching unexplained transaction in the destination account adds an audit entry for linked entry when deleted","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":385,"run_time":0.356618546,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:3:5]","description":"adds an audit entry for linked entry when updated","full_description":"BankTransfer when there's a matching unexplained transaction in the destination account adds an audit entry for linked entry when updated","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":404,"run_time":0.392379675,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:4:1]","description":"fails validation","full_description":"BankTransfer when attempting to link to another company's bank account fails validation","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":431,"run_time":0.1757534,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:4:2]","description":"fails validation when an existing link entry is specified","full_description":"BankTransfer when attempting to link to another company's bank account fails validation when an existing link entry is specified","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":441,"run_time":0.394814552,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_transfer_spec.rb[1:5:1]","description":"emits a bank transaction explanation updated event with the correct source","full_description":"BankTransfer when the linked transfer exists already and needs updating emits a bank transaction explanation updated event with the correct source","status":"passed","file_path":"./spec/models/bank_transfer_spec.rb","line_number":465,"run_time":0.531622895,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/bank_transaction_sensibill_metrics_spec.rb[1:1:1]","description":"writes to a csv file","full_description":"Metrics::BankTransactionSensibillMetrics#write_csv writes to a csv file","status":"passed","file_path":"./spec/models/metrics/bank_transaction_sensibill_metrics_spec.rb","line_number":30,"run_time":1.570932843,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/bank_transaction_sensibill_metrics_spec.rb[1:1:2]","description":"creates the expected headers","full_description":"Metrics::BankTransactionSensibillMetrics#write_csv creates the expected headers","status":"passed","file_path":"./spec/models/metrics/bank_transaction_sensibill_metrics_spec.rb","line_number":34,"run_time":1.299765537,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/bank_transaction_sensibill_metrics_spec.rb[1:1:3]","description":"does not include a row for unexplained transactions","full_description":"Metrics::BankTransactionSensibillMetrics#write_csv does not include a row for unexplained transactions","status":"passed","file_path":"./spec/models/metrics/bank_transaction_sensibill_metrics_spec.rb","line_number":59,"run_time":1.079748326,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/bank_transaction_sensibill_metrics_spec.rb[1:1:4]","description":"does not include a row for explained transactions without attachments","full_description":"Metrics::BankTransactionSensibillMetrics#write_csv does not include a row for explained transactions without attachments","status":"passed","file_path":"./spec/models/metrics/bank_transaction_sensibill_metrics_spec.rb","line_number":64,"run_time":0.95186051,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/bank_transaction_sensibill_metrics_spec.rb[1:1:5]","description":"does not include a row for older explained transactions with attachments","full_description":"Metrics::BankTransactionSensibillMetrics#write_csv does not include a row for older explained transactions with attachments","status":"passed","file_path":"./spec/models/metrics/bank_transaction_sensibill_metrics_spec.rb","line_number":69,"run_time":0.990749923,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/bank_transaction_sensibill_metrics_spec.rb[1:1:6]","description":"does not include a row for transactions with attachments without Sensibill extracts","full_description":"Metrics::BankTransactionSensibillMetrics#write_csv does not include a row for transactions with attachments without Sensibill extracts","status":"passed","file_path":"./spec/models/metrics/bank_transaction_sensibill_metrics_spec.rb","line_number":74,"run_time":0.869591099,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/bank_transaction_sensibill_metrics_spec.rb[1:1:7]","description":"records the snapshot time","full_description":"Metrics::BankTransactionSensibillMetrics#write_csv records the snapshot time","status":"passed","file_path":"./spec/models/metrics/bank_transaction_sensibill_metrics_spec.rb","line_number":79,"run_time":0.978040909,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/bank_transaction_sensibill_metrics_spec.rb[1:1:8]","description":"has the correct number of rows","full_description":"Metrics::BankTransactionSensibillMetrics#write_csv has the correct number of rows","status":"passed","file_path":"./spec/models/metrics/bank_transaction_sensibill_metrics_spec.rb","line_number":83,"run_time":1.038086561,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/bank_transaction_sensibill_metrics_spec.rb[1:1:9]","description":"the Sensibill-extracted transaction has the expected attributes","full_description":"Metrics::BankTransactionSensibillMetrics#write_csv the Sensibill-extracted transaction has the expected attributes","status":"passed","file_path":"./spec/models/metrics/bank_transaction_sensibill_metrics_spec.rb","line_number":87,"run_time":0.962735493,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/bank_transaction_sensibill_metrics_spec.rb[1:1:10:1]","description":"has the correct number of rows","full_description":"Metrics::BankTransactionSensibillMetrics#write_csv with multiple explanations has the correct number of rows","status":"passed","file_path":"./spec/models/metrics/bank_transaction_sensibill_metrics_spec.rb","line_number":111,"run_time":1.359414802,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/bank_transaction_sensibill_metrics_spec.rb[1:1:10:2]","description":"the Sensibill-extracted transaction has a row per explanation with the expected attributes","full_description":"Metrics::BankTransactionSensibillMetrics#write_csv with multiple explanations the Sensibill-extracted transaction has a row per explanation with the expected attributes","status":"passed","file_path":"./spec/models/metrics/bank_transaction_sensibill_metrics_spec.rb","line_number":115,"run_time":1.402138055,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/4_year_deferrals/4-years-deferral-write-offs-cash-frs-accounting.feature[1:1:1]","description":"Given a UK Limited Company which was started on 2012-01-01 -\u003e And it starts using FreeAgent on 2012-01-01 -\u003e And the company's first accounting year ends on 2012-12-31 -\u003e And the company is VAT registered from 2012-01-01 -\u003e And the company has a pre-registration period of 0 months -\u003e And the company is Cash accounting for VAT, on the \"Entertainment or journalism\" flat rate scheme -\u003e And the VAT return covering 2019-09-30 has been filed -\u003e And the company has the following invoices: -\u003e And the company has the following bank transactions: -\u003e And the company has the following invoices written off: -\u003e Given the current date is 2019-12-02 -\u003e Then the VAT return covering 2019-12-31 should have exact values -\u003e And the invoice Invoice001 should have accrual ledger entries -\u003e And the invoice Invoice002 should have accrual ledger entries -\u003e And the invoice Invoice003 should have accrual ledger entries -\u003e And the invoice Invoice004 should have accrual ledger entries","full_description":"Sales Tax Updates - 4 year deferral (for Invoices using Cash Accounting) Standard example cash FRS accounting Given a UK Limited Company which was started on 2012-01-01 -\u003e And it starts using FreeAgent on 2012-01-01 -\u003e And the company's first accounting year ends on 2012-12-31 -\u003e And the company is VAT registered from 2012-01-01 -\u003e And the company has a pre-registration period of 0 months -\u003e And the company is Cash accounting for VAT, on the \"Entertainment or journalism\" flat rate scheme -\u003e And the VAT return covering 2019-09-30 has been filed -\u003e And the company has the following invoices: -\u003e And the company has the following bank transactions: -\u003e And the company has the following invoices written off: -\u003e Given the current date is 2019-12-02 -\u003e Then the VAT return covering 2019-12-31 should have exact values -\u003e And the invoice Invoice001 should have accrual ledger entries -\u003e And the invoice Invoice002 should have accrual ledger entries -\u003e And the invoice Invoice003 should have accrual ledger entries -\u003e And the invoice Invoice004 should have accrual ledger entries","status":"passed","file_path":"./spec/acceptance/vat/4_year_deferrals/4-years-deferral-write-offs-cash-frs-accounting.feature","line_number":35,"run_time":5.861417236,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/properties_helper_spec.rb[1:1:1]","description":"returns an array of accounting year options, including current year and all time periods","full_description":"PropertiesHelper#property_profit_and_loss_accounting_period_options returns an array of accounting year options, including current year and all time periods","status":"passed","file_path":"./spec/helpers/properties_helper_spec.rb","line_number":23,"run_time":0.13308535,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/properties_helper_spec.rb[1:2:1:1]","description":"is expected to eq \"Current Year to date\"","full_description":"PropertiesHelper#property_accounting_period_title when the accounting period matches the year to date period is expected to eq \"Current Year to date\"","status":"passed","file_path":"./spec/helpers/properties_helper_spec.rb","line_number":39,"run_time":0.121467577,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/properties_helper_spec.rb[1:2:2:1]","description":"is expected to eq \"All Time Periods\"","full_description":"PropertiesHelper#property_accounting_period_title when the accounting period matches the all time accounting period is expected to eq \"All Time Periods\"","status":"passed","file_path":"./spec/helpers/properties_helper_spec.rb","line_number":45,"run_time":0.123078855,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/properties_helper_spec.rb[1:2:3:1]","description":"is expected to eq \"Accounting Year 2020/21\"","full_description":"PropertiesHelper#property_accounting_period_title when the accounting period matches the an annual accounting period is expected to eq \"Accounting Year 2020/21\"","status":"passed","file_path":"./spec/helpers/properties_helper_spec.rb","line_number":51,"run_time":0.149670972,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/properties_helper_spec.rb[1:2:4:1]","description":"is expected to eq \"20 Feb 22 - 21 Feb 22\"","full_description":"PropertiesHelper#property_accounting_period_title when the accounting period is something else is expected to eq \"20 Feb 22 - 21 Feb 22\"","status":"passed","file_path":"./spec/helpers/properties_helper_spec.rb","line_number":57,"run_time":0.107731827,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/properties_helper_spec.rb[1:3:1:1]","description":"alphabetises the array and returns human readable names and values to be used in the item type query","full_description":"PropertiesHelper#property_income_and_expense_source_item_types for income item types alphabetises the array and returns human readable names and values to be used in the item type query","status":"passed","file_path":"./spec/helpers/properties_helper_spec.rb","line_number":67,"run_time":0.119430343,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/properties_helper_spec.rb[1:3:2:1]","description":"alphabetises the array and returns human readable names and values to be used in the item type query","full_description":"PropertiesHelper#property_income_and_expense_source_item_types for expense item types alphabetises the array and returns human readable names and values to be used in the item type query","status":"passed","file_path":"./spec/helpers/properties_helper_spec.rb","line_number":80,"run_time":0.098164887,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/properties_helper_spec.rb[1:4:1:1]","description":"is expected to eql :invoice_columns","full_description":"PropertiesHelper#income_columns_to_show for invoice and credit note income sources is expected to eql :invoice_columns","status":"passed","file_path":"./spec/helpers/properties_helper_spec.rb","line_number":108,"run_time":0.469648507,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/properties_helper_spec.rb[1:4:2:1]","description":"is expected to eql :non_invoice_columns","full_description":"PropertiesHelper#income_columns_to_show for bank transaction and journal entry income sources is expected to eql :non_invoice_columns","status":"passed","file_path":"./spec/helpers/properties_helper_spec.rb","line_number":120,"run_time":0.474007532,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/properties_helper_spec.rb[1:4:3:1]","description":"is expected to eql :all","full_description":"PropertiesHelper#income_columns_to_show for all income sources is expected to eql :all","status":"passed","file_path":"./spec/helpers/properties_helper_spec.rb","line_number":126,"run_time":0.490742898,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/properties_helper_spec.rb[1:5:1:1]","description":"is expected to eql :bill_columns","full_description":"PropertiesHelper#expenses_columns_to_show for bill expenses sources is expected to eql :bill_columns","status":"passed","file_path":"./spec/helpers/properties_helper_spec.rb","line_number":146,"run_time":1.493718318,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/properties_helper_spec.rb[1:5:2:1]","description":"is expected to eql :mileage_and_expense_columns","full_description":"PropertiesHelper#expenses_columns_to_show for expenses and mileage expenses sources is expected to eql :mileage_and_expense_columns","status":"passed","file_path":"./spec/helpers/properties_helper_spec.rb","line_number":157,"run_time":0.752973509,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/properties_helper_spec.rb[1:5:3:1]","description":"is expected to eql :bank_transaction_and_journal_entry_columns","full_description":"PropertiesHelper#expenses_columns_to_show for bank transaction and journal entry expenses sources is expected to eql :bank_transaction_and_journal_entry_columns","status":"passed","file_path":"./spec/helpers/properties_helper_spec.rb","line_number":169,"run_time":0.747036562,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/properties_helper_spec.rb[1:5:4:1]","description":"is expected to eql :all","full_description":"PropertiesHelper#expenses_columns_to_show for all expenses sources is expected to eql :all","status":"passed","file_path":"./spec/helpers/properties_helper_spec.rb","line_number":175,"run_time":0.801026093,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:1:1:1]","description":"updates the category for any CIS line items","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is applicable for an invoice updates the category for any CIS line items","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":36,"run_time":0.472783324,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:1:1:2]","description":"doesn't change any non CIS line items","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is applicable for an invoice doesn't change any non CIS line items","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":50,"run_time":0.417630952,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:1:1:3]","description":"prevents you from changing to a non-CIS category","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is applicable for an invoice prevents you from changing to a non-CIS category","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":64,"run_time":0.372574635,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:1:1:4]","description":"doesn't list disabled rates as possible categories","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is applicable for an invoice doesn't list disabled rates as possible categories","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":78,"run_time":0.235205199,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:1:1:5:1]","description":"lists only the CIS categories as possible CIS categories","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is applicable for an invoice with CIS line items lists only the CIS categories as possible CIS categories","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":87,"run_time":0.417340109,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:1:1:6:1]","description":"includes 'N/A' alongside the CIS categories for the invoice's possible CIS categories","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is applicable for an invoice with no CIS line items includes 'N/A' alongside the CIS categories for the invoice's possible CIS categories","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":98,"run_time":0.266254863,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:1:1:7:1]","description":"returns only the chosen rate for the possible category options","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is applicable for an invoice when the invoice has been sent returns only the chosen rate for the possible category options","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":112,"run_time":0.287440203,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:1:2:1]","description":"updates the category for any CIS line items","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is applicable for a recurring invoice updates the category for any CIS line items","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":137,"run_time":0.194588578,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:1:2:2]","description":"doesn't change any non CIS line items","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is applicable for a recurring invoice doesn't change any non CIS line items","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":151,"run_time":0.174434949,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:1:2:3]","description":"prevents you from changing to a non-CIS category","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is applicable for a recurring invoice prevents you from changing to a non-CIS category","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":165,"run_time":0.156309415,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:1:2:4]","description":"doesn't list disabled rates as possible categories","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is applicable for a recurring invoice doesn't list disabled rates as possible categories","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":179,"run_time":0.164927611,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:1:2:5:1]","description":"lists only the CIS categories as possible CIS categories","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is applicable for a recurring invoice with CIS line items lists only the CIS categories as possible CIS categories","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":188,"run_time":0.158443466,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:1:2:6:1]","description":"includes 'N/A' alongside the CIS categories for the invoice's possible CIS categories","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is applicable for a recurring invoice with no CIS line items includes 'N/A' alongside the CIS categories for the invoice's possible CIS categories","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":202,"run_time":0.139006867,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:2:1:1]","description":"doesn't change the line items","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is not applicable for an invoice doesn't change the line items","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":225,"run_time":0.421700481,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:2:1:2]","description":"includes 'N/A' alongside the CIS categories for the invoice's possible CIS categories","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is not applicable for an invoice includes 'N/A' alongside the CIS categories for the invoice's possible CIS categories","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":233,"run_time":0.368705567,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:2:1:3:1]","description":"returns only N/A for the possible category options","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is not applicable for an invoice when the invoice has been sent returns only N/A for the possible category options","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":244,"run_time":0.519633664,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:2:2:1]","description":"doesn't change the line items","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is not applicable for a recurring invoice doesn't change the line items","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":262,"run_time":0.204945815,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb[1:2:2:2]","description":"includes 'N/A' alongside the CIS categories for the invoice's possible CIS categories","full_description":"Invoicing::ConstructionIndustrySchemeCategoryChanger when CIS is not applicable for a recurring invoice includes 'N/A' alongside the CIS categories for the invoice's possible CIS categories","status":"passed","file_path":"./spec/freeagent/invoicing/construction_industry_scheme_category_changer_spec.rb","line_number":270,"run_time":0.195569155,"pending_message":null,"screenshot":null},{"id":"./spec/features/ltd_company_year_ends_navigation_spec.rb[1:2:5:2:1]","description":"can see all year ends pages","full_description":"Limited company year end navigation with a practice managed company for a support user with an annual accounting period matching the calendar year can see all year ends pages","status":"passed","file_path":"./spec/features/ltd_company_year_ends_navigation_spec.rb","line_number":138,"run_time":6.55707202,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:1:1]","description":"is expected to respond with a success status code (2xx)","full_description":"Admin::RefundsController#new is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":14,"run_time":0.186502768,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:2:1:1]","description":"is expected to respond with a success status code (2xx)","full_description":"Admin::RefundsController#create with valid parameters is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":34,"run_time":0.14050629,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:2:1:2]","description":"is expected to redirect to \"/admin/companies/895398085\"","full_description":"Admin::RefundsController#create with valid parameters is expected to redirect to \"/admin/companies/895398085\"","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":35,"run_time":0.142264707,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:2:1:3]","description":"creates a refund successfully","full_description":"Admin::RefundsController#create with valid parameters creates a refund successfully","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":37,"run_time":0.136766827,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:2:2:1]","description":"doesn't create a refund","full_description":"Admin::RefundsController#create with invalid parameters doesn't create a refund","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":46,"run_time":0.121128621,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:2:3:3]","description":"rescues from error correctly for an invalid billing profile","full_description":"Admin::RefundsController#create for a direct company with a cancelled yearly subscription rescues from error correctly for an invalid billing profile","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":158,"run_time":0.187064761,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:2:3:1:1:1:1]","description":"updates the next_payment_date to the cancelled_at date","full_description":"Admin::RefundsController#create for a direct company with a cancelled yearly subscription given a full refund with a cancelled_at date before the partial refund window behaves like fully refunded subscription updates the next_payment_date to the cancelled_at date","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":75,"run_time":0.140559803,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:2:3:1:2:1:1]","description":"updates the next_payment_date to the cancelled_at date","full_description":"Admin::RefundsController#create for a direct company with a cancelled yearly subscription given a full refund with a cancelled_at date within the partial refund window behaves like fully refunded subscription updates the next_payment_date to the cancelled_at date","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":75,"run_time":0.11658192,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:2:3:1:3:1:1]","description":"updates the next_payment_date to the cancelled_at date","full_description":"Admin::RefundsController#create for a direct company with a cancelled yearly subscription given a full refund with a cancelled_at date after the partial refund window behaves like fully refunded subscription updates the next_payment_date to the cancelled_at date","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":75,"run_time":0.132455128,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:2:3:2:1:1]","description":"updates the next_payment_date to be the last subs date plus 1 month","full_description":"Admin::RefundsController#create for a direct company with a cancelled yearly subscription for a partial refund in the partial refund window where the total refunded value is less than the subscription invoices value updates the next_payment_date to be the last subs date plus 1 month","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":116,"run_time":0.117086982,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:2:3:2:2:1]","description":"updates the next_payment_date to the cancelled_at date","full_description":"Admin::RefundsController#create for a direct company with a cancelled yearly subscription for a partial refund in the partial refund window where the total refunded value becomes equal to the subscription invoices value updates the next_payment_date to the cancelled_at date","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":140,"run_time":0.214960576,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:2:4:1]","description":"creates a refund successfully","full_description":"Admin::RefundsController#create for an active RBSG company that has at least one previous subscription invoice creates a refund successfully","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":185,"run_time":0.149868927,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:2:5:1]","description":"creates a refund successfully","full_description":"Admin::RefundsController#create for a cancelled RBSG company that has at least one previous subscription invoice creates a refund successfully","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":212,"run_time":0.147277144,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:2:6:1:1]","description":"redirects to the company subscription tab","full_description":"Admin::RefundsController#create when the admin user has the new_sudo_company_show_page feature when creating a valid refund redirects to the company subscription tab","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":240,"run_time":0.131017418,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:2:6:2:1]","description":"redirects to the company subscription tab","full_description":"Admin::RefundsController#create when the admin user has the new_sudo_company_show_page feature when creating an invalid refund redirects to the company subscription tab","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":256,"run_time":0.121219559,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:3:1:1]","description":"returns successful status","full_description":"Admin::RefundsController#destroy with existing refund returns successful status","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":287,"run_time":0.116459559,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:3:1:2]","description":"destroys the refund","full_description":"Admin::RefundsController#destroy with existing refund destroys the refund","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":293,"run_time":0.114752019,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:3:2:1]","description":"redirects to company page and displays error message","full_description":"Admin::RefundsController#destroy with id of non-refund subscription payment redirects to company page and displays error message","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":303,"run_time":0.106292482,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:3:2:2]","description":"does not destroy the refund","full_description":"Admin::RefundsController#destroy with id of non-refund subscription payment does not destroy the refund","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":308,"run_time":0.502411307,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:3:3:1]","description":"returns a not found status","full_description":"Admin::RefundsController#destroy with a non-existent id returns a not found status","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":318,"run_time":0.529519654,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:3:4:1:1]","description":"redirects to the company subscription tab","full_description":"Admin::RefundsController#destroy when the admin user has the new_sudo_company_show_page feature with existing refund redirects to the company subscription tab","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":335,"run_time":0.145473844,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/refunds_controller_spec.rb[1:3:4:2:1]","description":"redirects to the company subscription tab","full_description":"Admin::RefundsController#destroy when the admin user has the new_sudo_company_show_page feature with id of non-refund subscription payment redirects to the company subscription tab","status":"passed","file_path":"./spec/controllers/admin/refunds_controller_spec.rb","line_number":347,"run_time":0.128869061,"pending_message":null,"screenshot":null},{"id":"./spec/features/ltd_company_year_ends_navigation_spec.rb[1:2:2:3]","description":"cannot access the final accounts page, CT600","full_description":"Limited company year end navigation with a practice managed company for a level 7 user cannot access the final accounts page, CT600","status":"passed","file_path":"./spec/features/ltd_company_year_ends_navigation_spec.rb","line_number":163,"run_time":2.688953081,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/balance_at_bank_comparison_spec.rb[1:1:1:1]","description":"is expected to equal nil","full_description":"OpenBanking::BalanceAtBankComparison#first_date_balance_diverged_from_balance_at_bank when no balances at bank is expected to equal nil","status":"passed","file_path":"./spec/models/open_banking/balance_at_bank_comparison_spec.rb","line_number":16,"run_time":0.076165057,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/balance_at_bank_comparison_spec.rb[1:1:2:1]","description":"is expected to equal nil","full_description":"OpenBanking::BalanceAtBankComparison#first_date_balance_diverged_from_balance_at_bank when the balance in FA has always matched the balance at bank is expected to equal nil","status":"passed","file_path":"./spec/models/open_banking/balance_at_bank_comparison_spec.rb","line_number":49,"run_time":0.257867763,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/balance_at_bank_comparison_spec.rb[1:1:3:1]","description":"is expected to eq Wed, 14 Dec 2022","full_description":"OpenBanking::BalanceAtBankComparison#first_date_balance_diverged_from_balance_at_bank when the balance in FA has differed from the balance at bank is expected to eq Wed, 14 Dec 2022","status":"passed","file_path":"./spec/models/open_banking/balance_at_bank_comparison_spec.rb","line_number":86,"run_time":0.331498125,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/balance_at_bank_comparison_spec.rb[1:2:1:1]","description":"is expected to equal nil","full_description":"OpenBanking::BalanceAtBankComparison#last_date_balance_matched_balance_at_bank when no balances at bank is expected to equal nil","status":"passed","file_path":"./spec/models/open_banking/balance_at_bank_comparison_spec.rb","line_number":94,"run_time":0.065793267,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/balance_at_bank_comparison_spec.rb[1:2:2:1]","description":"is expected to eq Thu, 15 Dec 2022","full_description":"OpenBanking::BalanceAtBankComparison#last_date_balance_matched_balance_at_bank when the balance in FA has always matched the balance at bank is expected to eq Thu, 15 Dec 2022","status":"passed","file_path":"./spec/models/open_banking/balance_at_bank_comparison_spec.rb","line_number":127,"run_time":0.256455702,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/balance_at_bank_comparison_spec.rb[1:2:3:1]","description":"is expected to eq Thu, 02 Apr 2020","full_description":"OpenBanking::BalanceAtBankComparison#last_date_balance_matched_balance_at_bank when the balances went out of sync after the FA start date is expected to eq Thu, 02 Apr 2020","status":"passed","file_path":"./spec/models/open_banking/balance_at_bank_comparison_spec.rb","line_number":169,"run_time":0.340838391,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/balance_at_bank_comparison_spec.rb[1:2:4:1]","description":"is expected to eq Wed, 01 Apr 2020","full_description":"OpenBanking::BalanceAtBankComparison#last_date_balance_matched_balance_at_bank when the balances went out of sync on the FA start date is expected to eq Wed, 01 Apr 2020","status":"passed","file_path":"./spec/models/open_banking/balance_at_bank_comparison_spec.rb","line_number":186,"run_time":0.16205441,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/balance_at_bank_comparison_spec.rb[1:2:5:1]","description":"is expected to equal nil","full_description":"OpenBanking::BalanceAtBankComparison#last_date_balance_matched_balance_at_bank when the balances have never been in sync is expected to equal nil","status":"passed","file_path":"./spec/models/open_banking/balance_at_bank_comparison_spec.rb","line_number":203,"run_time":0.179491943,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/balance_at_bank_comparison_spec.rb[1:3:1:1]","description":"is expected to equal false","full_description":"OpenBanking::BalanceAtBankComparison#open_banking_opening_balance_mismatch? when no balances at bank is expected to equal false","status":"passed","file_path":"./spec/models/open_banking/balance_at_bank_comparison_spec.rb","line_number":211,"run_time":0.085081842,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/balance_at_bank_comparison_spec.rb[1:3:2:1]","description":"is expected to equal false","full_description":"OpenBanking::BalanceAtBankComparison#open_banking_opening_balance_mismatch? when the bank account opening balance matches the opening balance at bank is expected to equal false","status":"passed","file_path":"./spec/models/open_banking/balance_at_bank_comparison_spec.rb","line_number":225,"run_time":0.195063356,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/balance_at_bank_comparison_spec.rb[1:3:3:1]","description":"is expected to equal true","full_description":"OpenBanking::BalanceAtBankComparison#open_banking_opening_balance_mismatch? when the bank account opening balance doesn't match the opening balance at bank is expected to equal true","status":"passed","file_path":"./spec/models/open_banking/balance_at_bank_comparison_spec.rb","line_number":239,"run_time":0.153707723,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/history_controller_spec.rb[1:1]","description":"GET show","full_description":"Contacts::HistoryController GET show","status":"passed","file_path":"./spec/controllers/contacts/history_controller_spec.rb","line_number":12,"run_time":0.172598201,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/history_controller_spec.rb[1:2]","description":"GET show once a forex invoice has been added","full_description":"Contacts::HistoryController GET show once a forex invoice has been added","status":"passed","file_path":"./spec/controllers/contacts/history_controller_spec.rb","line_number":19,"run_time":0.526274478,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/history_controller_spec.rb[1:3:1]","description":"get account for contact","full_description":"Contacts::HistoryController Account history get account for contact","status":"passed","file_path":"./spec/controllers/contacts/history_controller_spec.rb","line_number":53,"run_time":0.363681755,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/history_controller_spec.rb[1:3:2]","description":"only allows good values for order_by","full_description":"Contacts::HistoryController Account history only allows good values for order_by","status":"passed","file_path":"./spec/controllers/contacts/history_controller_spec.rb","line_number":69,"run_time":0.320943365,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/history_controller_spec.rb[1:3:3]","description":"stores the sort field when changing it","full_description":"Contacts::HistoryController Account history stores the sort field when changing it","status":"passed","file_path":"./spec/controllers/contacts/history_controller_spec.rb","line_number":75,"run_time":0.337843866,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/history_controller_spec.rb[1:3:4]","description":"stores the sort order when changing it","full_description":"Contacts::HistoryController Account history stores the sort order when changing it","status":"passed","file_path":"./spec/controllers/contacts/history_controller_spec.rb","line_number":80,"run_time":0.342313097,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/history_controller_spec.rb[1:3:5]","description":"stores the number of items per page when changing them","full_description":"Contacts::HistoryController Account history stores the number of items per page when changing them","status":"passed","file_path":"./spec/controllers/contacts/history_controller_spec.rb","line_number":85,"run_time":0.336641893,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/contacts/history_controller_spec.rb[1:3:6]","description":"displays successfully with items that don't respond to class_name","full_description":"Contacts::HistoryController Account history displays successfully with items that don't respond to class_name","status":"passed","file_path":"./spec/controllers/contacts/history_controller_spec.rb","line_number":94,"run_time":0.636722201,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mobile/invoices_controller_spec.rb[1:1]","description":"without sufficient permissions to manage invoices","full_description":"Mobile::InvoicesController without sufficient permissions to manage invoices","status":"passed","file_path":"./spec/controllers/mobile/invoices_controller_spec.rb","line_number":12,"run_time":0.098866555,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mobile/invoices_controller_spec.rb[1:2]","description":"GET index","full_description":"Mobile::InvoicesController GET index","status":"passed","file_path":"./spec/controllers/mobile/invoices_controller_spec.rb","line_number":18,"run_time":1.653841837,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mobile/invoices_controller_spec.rb[1:3]","description":"pagination","full_description":"Mobile::InvoicesController pagination","status":"passed","file_path":"./spec/controllers/mobile/invoices_controller_spec.rb","line_number":52,"run_time":1.380020509,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mobile/invoices_controller_spec.rb[1:4:1:1]","description":"returns invoices and credit notes matching the search query","full_description":"Mobile::InvoicesController GET search as HTML returns invoices and credit notes matching the search query","status":"passed","file_path":"./spec/controllers/mobile/invoices_controller_spec.rb","line_number":67,"run_time":0.34021138,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mobile/invoices_controller_spec.rb[1:4:1:2]","description":"returns empty search results when no invoices match the search query","full_description":"Mobile::InvoicesController GET search as HTML returns empty search results when no invoices match the search query","status":"passed","file_path":"./spec/controllers/mobile/invoices_controller_spec.rb","line_number":81,"run_time":0.105450061,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mobile/invoices_controller_spec.rb[1:4:2:1]","description":"returns invoices and credit results matching the search query","full_description":"Mobile::InvoicesController GET search as XHR returns invoices and credit results matching the search query","status":"passed","file_path":"./spec/controllers/mobile/invoices_controller_spec.rb","line_number":92,"run_time":0.259605994,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/mobile/invoices_controller_spec.rb[1:4:2:2]","description":"returns empty search results when no invoices match the search query","full_description":"Mobile::InvoicesController GET search as XHR returns empty search results when no invoices match the search query","status":"passed","file_path":"./spec/controllers/mobile/invoices_controller_spec.rb","line_number":106,"run_time":0.023272428,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/bank_feeds/open_banking/_transactions_table.html.erb_spec.rb[1:1:1]","description":"renders the transactions form","full_description":"admin/bank_feeds/open_banking/_transactions_table when transactions can be previewed renders the transactions form","status":"passed","file_path":"./spec/views/admin/bank_feeds/open_banking/_transactions_table.html.erb_spec.rb","line_number":16,"run_time":0.214132235,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/bank_feeds/open_banking/_transactions_table.html.erb_spec.rb[1:2:1]","description":"does not render the transactions table form","full_description":"admin/bank_feeds/open_banking/_transactions_table when transactions can't be previewed does not render the transactions table form","status":"passed","file_path":"./spec/views/admin/bank_feeds/open_banking/_transactions_table.html.erb_spec.rb","line_number":27,"run_time":0.247107418,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/bank_feeds/open_banking/_transactions_table.html.erb_spec.rb[1:2:2]","description":"renders a notice explaining that it's not possible to preview transactions","full_description":"admin/bank_feeds/open_banking/_transactions_table when transactions can't be previewed renders a notice explaining that it's not possible to preview transactions","status":"passed","file_path":"./spec/views/admin/bank_feeds/open_banking/_transactions_table.html.erb_spec.rb","line_number":34,"run_time":0.216674934,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/bank_feeds/open_banking/_transactions_table.html.erb_spec.rb[1:2:3:1]","description":"displays the reasons in a list","full_description":"admin/bank_feeds/open_banking/_transactions_table when transactions can't be previewed when there are reasons why a feed cannot be previewed displays the reasons in a list","status":"passed","file_path":"./spec/views/admin/bank_feeds/open_banking/_transactions_table.html.erb_spec.rb","line_number":43,"run_time":0.230360704,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/possible_switch_to_rbsg_funding_spec.rb[1:1:1:1:1]","description":"returns a category defined on the Insight model","full_description":"Radar::Insights::Rules::PossibleSwitchToRbsgFunding behaves like a product update rule behaves like a ping rule #category returns a category defined on the Insight model","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":11,"run_time":0.050739092,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/possible_switch_to_rbsg_funding_spec.rb[1:1:1:2:1]","description":"returns a boolean","full_description":"Radar::Insights::Rules::PossibleSwitchToRbsgFunding behaves like a product update rule behaves like a ping rule #send_notifications? returns a boolean","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":17,"run_time":0.006551186,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/possible_switch_to_rbsg_funding_spec.rb[1:1:2:1]","description":"returns a category of product update","full_description":"Radar::Insights::Rules::PossibleSwitchToRbsgFunding behaves like a product update rule #category is a product update returns a category of product update","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":29,"run_time":0.005674903,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/possible_switch_to_rbsg_funding_spec.rb[1:2:1]","description":"contains the company id","full_description":"Radar::Insights::Rules::PossibleSwitchToRbsgFunding#key contains the company id","status":"passed","file_path":"./spec/models/radar/insights/rules/possible_switch_to_rbsg_funding_spec.rb","line_number":20,"run_time":0.007069144,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/possible_switch_to_rbsg_funding_spec.rb[1:3:1]","description":"should not include practice managed companies","full_description":"Radar::Insights::Rules::PossibleSwitchToRbsgFunding#companies_for_evaluation should not include practice managed companies","status":"passed","file_path":"./spec/models/radar/insights/rules/possible_switch_to_rbsg_funding_spec.rb","line_number":27,"run_time":0.142359208,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/possible_switch_to_rbsg_funding_spec.rb[1:4:1:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::PossibleSwitchToRbsgFunding#applies? when the company does NOT have a TCF eligible RBSG bank account is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/possible_switch_to_rbsg_funding_spec.rb","line_number":36,"run_time":0.014207182,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/possible_switch_to_rbsg_funding_spec.rb[1:4:2:1]","description":"is expected to be truthy","full_description":"Radar::Insights::Rules::PossibleSwitchToRbsgFunding#applies? when the company has a potentially TCF eligible RBSG bank account is expected to be truthy","status":"passed","file_path":"./spec/models/radar/insights/rules/possible_switch_to_rbsg_funding_spec.rb","line_number":42,"run_time":0.104783377,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/possible_switch_to_rbsg_funding_spec.rb[1:4:3:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::PossibleSwitchToRbsgFunding#applies? when the company has a definitely TCF eligible RBSG bank feed is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/possible_switch_to_rbsg_funding_spec.rb","line_number":48,"run_time":0.176562814,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/possible_switch_to_rbsg_funding_spec.rb[1:4:4:1:1]","description":"is not eligible as Mettle shares a sort code with other challenger banks","full_description":"Radar::Insights::Rules::PossibleSwitchToRbsgFunding#applies? when the company has a RBSG bank account with a Mettle sort code uk-type companies is not eligible as Mettle shares a sort code with other challenger banks","status":"passed","file_path":"./spec/models/radar/insights/rules/possible_switch_to_rbsg_funding_spec.rb","line_number":54,"run_time":0.097209853,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/possible_switch_to_rbsg_funding_spec.rb[1:4:4:2:1]","description":"is not eligible as Mettle shares a sort code with other challenger banks","full_description":"Radar::Insights::Rules::PossibleSwitchToRbsgFunding#applies? when the company has a RBSG bank account with a Mettle sort code universal-type companies is not eligible as Mettle shares a sort code with other challenger banks","status":"passed","file_path":"./spec/models/radar/insights/rules/possible_switch_to_rbsg_funding_spec.rb","line_number":60,"run_time":0.105085828,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/possible_switch_to_rbsg_funding_spec.rb[1:5:1:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::PossibleSwitchToRbsgFunding#should_notify? for a non-account owner is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/possible_switch_to_rbsg_funding_spec.rb","line_number":74,"run_time":0.04938313,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/possible_switch_to_rbsg_funding_spec.rb[1:5:2:1]","description":"is expected to be truthy","full_description":"Radar::Insights::Rules::PossibleSwitchToRbsgFunding#should_notify? for an account owner is expected to be truthy","status":"passed","file_path":"./spec/models/radar/insights/rules/possible_switch_to_rbsg_funding_spec.rb","line_number":80,"run_time":0.017611977,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/possible_switch_to_rbsg_funding_spec.rb[1:5:3:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::PossibleSwitchToRbsgFunding#should_notify? when previously notified is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/possible_switch_to_rbsg_funding_spec.rb","line_number":86,"run_time":0.026371086,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/possible_switch_to_rbsg_funding_spec.rb[1:6:1:1]","description":"returns eligible users to be notified","full_description":"Radar::Insights::Rules::PossibleSwitchToRbsgFunding#notify_users behaves like notifier for users with level 7 and above returns eligible users to be notified","status":"passed","file_path":"./spec/support/shared_examples/insights_rules_permission_level_examples.rb","line_number":26,"run_time":0.057895369,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/possible_switch_to_rbsg_funding_spec.rb[1:6:1:2]","description":"does not return ineligible users to be notified","full_description":"Radar::Insights::Rules::PossibleSwitchToRbsgFunding#notify_users behaves like notifier for users with level 7 and above does not return ineligible users to be notified","status":"passed","file_path":"./spec/support/shared_examples/insights_rules_permission_level_examples.rb","line_number":30,"run_time":0.05194804,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/possible_switch_to_rbsg_funding_spec.rb[1:7:1:1]","description":"returns the category","full_description":"Radar::Insights::Rules::PossibleSwitchToRbsgFunding behaves like a valid insight rule #category returns the category","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":14,"run_time":0.08763097,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/possible_switch_to_rbsg_funding_spec.rb[1:7:2:1]","description":"creates a new insight","full_description":"Radar::Insights::Rules::PossibleSwitchToRbsgFunding behaves like a valid insight rule #evaluate creates a new insight","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":20,"run_time":0.133643474,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/possible_switch_to_rbsg_funding_spec.rb[1:7:2:2]","description":"persists insight details","full_description":"Radar::Insights::Rules::PossibleSwitchToRbsgFunding behaves like a valid insight rule #evaluate persists insight details","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":28,"run_time":0.119697884,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/possible_switch_to_rbsg_funding_spec.rb[1:7:2:3]","description":"notifies users in the company","full_description":"Radar::Insights::Rules::PossibleSwitchToRbsgFunding behaves like a valid insight rule #evaluate notifies users in the company","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":36,"run_time":0.117927957,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/possible_switch_to_rbsg_funding_spec.rb[1:7:3:1]","description":"creates a user insight notification for all notifiable users","full_description":"Radar::Insights::Rules::PossibleSwitchToRbsgFunding behaves like a valid insight rule #notify creates a user insight notification for all notifiable users","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":44,"run_time":0.147202058,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/possible_switch_to_rbsg_funding_spec.rb[1:8:1:1]","description":"the correct generation event is published","full_description":"Radar::Insights::Rules::PossibleSwitchToRbsgFunding event tracking on creation the correct generation event is published","status":"passed","file_path":"./spec/models/radar/insights/rules/possible_switch_to_rbsg_funding_spec.rb","line_number":110,"run_time":0.017769955,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:1:1:2:2]","description":"representing cost of sales","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the cash accounting basis not on the Flat Rate Scheme Bank Account Entries representing cost of sales","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":2323,"run_time":0.596137575,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb[1:1]","description":"setting up successful Paypal Here Checkout","full_description":"PaymentPortal::PaypalHerePaymentController setting up successful Paypal Here Checkout","status":"passed","file_path":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb","line_number":14,"run_time":0.145556279,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb[1:2]","description":"if a Paypal Here Checkout setup already has non-failed payment","full_description":"PaymentPortal::PaypalHerePaymentController if a Paypal Here Checkout setup already has non-failed payment","status":"passed","file_path":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb","line_number":22,"run_time":0.163339228,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb[1:3:1]","description":"returns a cancellation","full_description":"PaymentPortal::PaypalHerePaymentController processing Paypal Here App callback returns a cancellation","status":"passed","file_path":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb","line_number":39,"run_time":0.145721125,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb[1:3:2:1]","description":"is not waiting, and not be withdrawn","full_description":"PaymentPortal::PaypalHerePaymentController processing Paypal Here App callback card payment succeeded is not waiting, and not be withdrawn","status":"passed","file_path":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb","line_number":55,"run_time":0.159390113,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb[1:3:2:2]","description":"has the right transaction id","full_description":"PaymentPortal::PaypalHerePaymentController processing Paypal Here App callback card payment succeeded has the right transaction id","status":"passed","file_path":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb","line_number":61,"run_time":0.163362554,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb[1:3:2:3]","description":"redirects to the paid invoice","full_description":"PaymentPortal::PaypalHerePaymentController processing Paypal Here App callback card payment succeeded redirects to the paid invoice","status":"passed","file_path":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb","line_number":66,"run_time":0.133930269,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb[1:3:3:1]","description":"is not waiting and be withdrawn","full_description":"PaymentPortal::PaypalHerePaymentController processing Paypal Here App callback cash payment succeeded is not waiting and be withdrawn","status":"passed","file_path":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb","line_number":78,"run_time":0.132310102,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb[1:3:3:2]","description":"has the right transaction id","full_description":"PaymentPortal::PaypalHerePaymentController processing Paypal Here App callback cash payment succeeded has the right transaction id","status":"passed","file_path":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb","line_number":84,"run_time":0.135510651,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb[1:3:3:3]","description":"redirects to the paid invoice","full_description":"PaymentPortal::PaypalHerePaymentController processing Paypal Here App callback cash payment succeeded redirects to the paid invoice","status":"passed","file_path":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb","line_number":89,"run_time":0.134951214,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/components/line_items/bill_component_spec.rb[1:1:1]","description":"returns the reference and link for the bill","full_description":"Cashflow::Components::LineItems::BillComponent#title returns the reference and link for the bill","status":"passed","file_path":"./spec/freeagent/cashflow/components/line_items/bill_component_spec.rb","line_number":24,"run_time":0.158877755,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/components/line_items/bill_component_spec.rb[1:2:1]","description":"provides text in the format of Bill to \u003ccontact name\u003e","full_description":"Cashflow::Components::LineItems::BillComponent#meta provides text in the format of Bill to \u003ccontact name\u003e","status":"passed","file_path":"./spec/freeagent/cashflow/components/line_items/bill_component_spec.rb","line_number":30,"run_time":0.154048528,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/components/line_items/bill_component_spec.rb[1:3:1]","description":"returns true","full_description":"Cashflow::Components::LineItems::BillComponent#show_bill_action? returns true","status":"passed","file_path":"./spec/freeagent/cashflow/components/line_items/bill_component_spec.rb","line_number":37,"run_time":0.168854594,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/components/line_items/bill_component_spec.rb[1:4:1]","description":"does not add any menu items","full_description":"Cashflow::Components::LineItems::BillComponent#bill_actions does not add any menu items","status":"passed","file_path":"./spec/freeagent/cashflow/components/line_items/bill_component_spec.rb","line_number":43,"run_time":0.204995451,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/components/line_items/bill_component_spec.rb[1:4:2:1]","description":"adds the 'Pay Bill' menu item","full_description":"Cashflow::Components::LineItems::BillComponent#bill_actions when the conditions are met to show the action adds the 'Pay Bill' menu item","status":"passed","file_path":"./spec/freeagent/cashflow/components/line_items/bill_component_spec.rb","line_number":55,"run_time":0.143204494,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/components/line_items/bill_component_spec.rb[1:5:1]","description":"returns the correct status","full_description":"Cashflow::Components::LineItems::BillComponent#status returns the correct status","status":"passed","file_path":"./spec/freeagent/cashflow/components/line_items/bill_component_spec.rb","line_number":68,"run_time":0.130410987,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/components/line_items/bill_component_spec.rb[1:5:2:1]","description":"returns the correct status","full_description":"Cashflow::Components::LineItems::BillComponent#status when the bill is overdue returns the correct status","status":"passed","file_path":"./spec/freeagent/cashflow/components/line_items/bill_component_spec.rb","line_number":75,"run_time":0.134058051,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/components/line_items/bill_component_spec.rb[1:5:3:1]","description":"returns the correct status","full_description":"Cashflow::Components::LineItems::BillComponent#status when the bill is scheduled returns the correct status","status":"passed","file_path":"./spec/freeagent/cashflow/components/line_items/bill_component_spec.rb","line_number":86,"run_time":0.236933353,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/components/line_items/bill_component_spec.rb[1:5:4:1]","description":"returns the correct status","full_description":"Cashflow::Components::LineItems::BillComponent#status when the payment is excluded returns the correct status","status":"passed","file_path":"./spec/freeagent/cashflow/components/line_items/bill_component_spec.rb","line_number":96,"run_time":0.153802112,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[4:12:3:1]","description":"shows the currency gains and losses table","full_description":"InvoicesController GET :show for uk company show payments against invoice foreign currency invoice which has been reconciled shows the currency gains and losses table","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":756,"run_time":0.943597445,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/leasing_payment_spec.rb[1:1:1:1]","description":"is expected to eq \"Leasing payment\"","full_description":"Cashflow::Payment::Leasing behaves like Recurring payment .type is expected to eq \"Leasing payment\"","status":"passed","file_path":"./spec/shared/cashflow/recurring_payment_shared_examples.rb","line_number":20,"run_time":0.003279387,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/leasing_payment_spec.rb[1:1:2:1]","description":"returns true","full_description":"Cashflow::Payment::Leasing behaves like Recurring payment #recurring? returns true","status":"passed","file_path":"./spec/shared/cashflow/recurring_payment_shared_examples.rb","line_number":24,"run_time":0.076990128,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/leasing_payment_spec.rb[1:1:3:1]","description":"returns a unique fingerprint","full_description":"Cashflow::Payment::Leasing behaves like Recurring payment #fingerprint returns a unique fingerprint","status":"passed","file_path":"./spec/shared/cashflow/recurring_payment_shared_examples.rb","line_number":30,"run_time":0.074363133,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/leasing_payment_spec.rb[1:1:4:1:1]","description":"is not excluded","full_description":"Cashflow::Payment::Leasing behaves like Recurring payment #excluded? when no override is not excluded","status":"passed","file_path":"./spec/shared/cashflow/recurring_payment_shared_examples.rb","line_number":38,"run_time":0.079949348,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/leasing_payment_spec.rb[1:1:4:2:1:1]","description":"is not excluded","full_description":"Cashflow::Payment::Leasing behaves like Recurring payment #excluded? when override for specific payment when override included is not excluded","status":"passed","file_path":"./spec/shared/cashflow/recurring_payment_shared_examples.rb","line_number":54,"run_time":0.088793209,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/leasing_payment_spec.rb[1:1:4:2:2:1]","description":"is excluded","full_description":"Cashflow::Payment::Leasing behaves like Recurring payment #excluded? when override for specific payment when override excluded is excluded","status":"passed","file_path":"./spec/shared/cashflow/recurring_payment_shared_examples.rb","line_number":69,"run_time":0.078396152,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/leasing_payment_spec.rb[1:1:4:3:1:1:1]","description":"is not excluded","full_description":"Cashflow::Payment::Leasing behaves like Recurring payment #excluded? when override for payments from source item when line item due date is before override from_date when override included is not excluded","status":"passed","file_path":"./spec/shared/cashflow/recurring_payment_shared_examples.rb","line_number":89,"run_time":0.080298516,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/leasing_payment_spec.rb[1:1:4:3:1:2:1]","description":"is not excluded","full_description":"Cashflow::Payment::Leasing behaves like Recurring payment #excluded? when override for payments from source item when line item due date is before override from_date when override excluded is not excluded","status":"passed","file_path":"./spec/shared/cashflow/recurring_payment_shared_examples.rb","line_number":106,"run_time":0.090059608,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/leasing_payment_spec.rb[1:1:4:3:2:1:1]","description":"is not excluded","full_description":"Cashflow::Payment::Leasing behaves like Recurring payment #excluded? when override for payments from source item when line item due date is after override from_date when override included is not excluded","status":"passed","file_path":"./spec/shared/cashflow/recurring_payment_shared_examples.rb","line_number":125,"run_time":0.080345554,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/leasing_payment_spec.rb[1:1:4:3:2:2:1]","description":"is excluded","full_description":"Cashflow::Payment::Leasing behaves like Recurring payment #excluded? when override for payments from source item when line item due date is after override from_date when override excluded is excluded","status":"passed","file_path":"./spec/shared/cashflow/recurring_payment_shared_examples.rb","line_number":142,"run_time":0.081736188,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/leasing_payment_spec.rb[1:1:4:3:3:1:1]","description":"is not excluded","full_description":"Cashflow::Payment::Leasing behaves like Recurring payment #excluded? when override for payments from source item when line item due date is same as override from_date when override included is not excluded","status":"passed","file_path":"./spec/shared/cashflow/recurring_payment_shared_examples.rb","line_number":161,"run_time":0.139729273,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/payment/leasing_payment_spec.rb[1:1:4:3:3:2:1]","description":"is excluded","full_description":"Cashflow::Payment::Leasing behaves like Recurring payment #excluded? when override for payments from source item when line item due date is same as override from_date when override excluded is excluded","status":"passed","file_path":"./spec/shared/cashflow/recurring_payment_shared_examples.rb","line_number":178,"run_time":0.112044298,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_withdraw_transaction_job_spec.rb[1:1:1]","description":"does not create additional transactions","full_description":"GocardlessWithdrawTransactionJob when the transaction has already been imported does not create additional transactions","status":"passed","file_path":"./spec/jobs/gocardless_withdraw_transaction_job_spec.rb","line_number":34,"run_time":0.257109862,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_withdraw_transaction_job_spec.rb[1:1:2]","description":"does not create any bank account entries","full_description":"GocardlessWithdrawTransactionJob when the transaction has already been imported does not create any bank account entries","status":"passed","file_path":"./spec/jobs/gocardless_withdraw_transaction_job_spec.rb","line_number":40,"run_time":0.2115586,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_withdraw_transaction_job_spec.rb[1:2:1]","description":"creates the transaction","full_description":"GocardlessWithdrawTransactionJob when the invoice has been written-off creates the transaction","status":"passed","file_path":"./spec/jobs/gocardless_withdraw_transaction_job_spec.rb","line_number":52,"run_time":0.199523918,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_withdraw_transaction_job_spec.rb[1:2:2]","description":"does not create any bank account entries","full_description":"GocardlessWithdrawTransactionJob when the invoice has been written-off does not create any bank account entries","status":"passed","file_path":"./spec/jobs/gocardless_withdraw_transaction_job_spec.rb","line_number":56,"run_time":0.201372463,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:2:2:2:7:5]","description":"representing non-category expense (purchase of capital asset)","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the invoice accounting basis on the Flat Rate Scheme (at 5%) Bank Account Entries for the payment of a bill representing non-category expense (purchase of capital asset)","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":4716,"run_time":1.009973102,"pending_message":null,"screenshot":null},{"id":"./spec/policies/journal_set_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"JournalSetPolicy a user with permission level below TAX_AND_LIMITED_ACCOUNTING is expected to equal false","status":"passed","file_path":"./spec/policies/journal_set_policy_spec.rb","line_number":19,"run_time":0.00943053,"pending_message":null,"screenshot":null},{"id":"./spec/policies/journal_set_policy_spec.rb[1:2:1]","description":"is expected to equal false","full_description":"JournalSetPolicy a user with permission level TAX_AND_LIMITED_ACCOUNTING is expected to equal false","status":"passed","file_path":"./spec/policies/journal_set_policy_spec.rb","line_number":34,"run_time":0.008565007,"pending_message":null,"screenshot":null},{"id":"./spec/policies/journal_set_policy_spec.rb[1:3:1]","description":"is expected to equal false","full_description":"JournalSetPolicy a user with permission level below FULL_ACCESS is expected to equal false","status":"passed","file_path":"./spec/policies/journal_set_policy_spec.rb","line_number":49,"run_time":0.009146034,"pending_message":null,"screenshot":null},{"id":"./spec/policies/journal_set_policy_spec.rb[1:4:1]","description":"is expected to equal true","full_description":"JournalSetPolicy a user with permission level FULL_ACCESS is expected to equal true","status":"passed","file_path":"./spec/policies/journal_set_policy_spec.rb","line_number":64,"run_time":0.008978067,"pending_message":null,"screenshot":null},{"id":"./spec/policies/journal_set_policy_spec.rb[1:5:1]","description":"is expected to equal true","full_description":"JournalSetPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/journal_set_policy_spec.rb","line_number":79,"run_time":0.055261896,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/future_transaction_payments_spec.rb[1:1:1:1:1]","description":"includes payments from the transactions","full_description":"Cashflow::FutureTransactionPayments#payments_on #payment_series fully explained transactions within the given range includes payments from the transactions","status":"passed","file_path":"./spec/freeagent/cashflow/future_transaction_payments_spec.rb","line_number":25,"run_time":0.170731387,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/future_transaction_payments_spec.rb[1:1:1:2:1]","description":"excludes the transactions","full_description":"Cashflow::FutureTransactionPayments#payments_on #payment_series unexplained transactions within the given range excludes the transactions","status":"passed","file_path":"./spec/freeagent/cashflow/future_transaction_payments_spec.rb","line_number":43,"run_time":0.096176298,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/future_transaction_payments_spec.rb[1:1:1:3:1]","description":"excludes the transactions","full_description":"Cashflow::FutureTransactionPayments#payments_on #payment_series transactions outside the range excludes the transactions","status":"passed","file_path":"./spec/freeagent/cashflow/future_transaction_payments_spec.rb","line_number":54,"run_time":0.097026654,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/future_transaction_payments_spec.rb[1:1:1:4:1]","description":"excludes the transactions","full_description":"Cashflow::FutureTransactionPayments#payments_on #payment_series transactions not in the given bank accounts excludes the transactions","status":"passed","file_path":"./spec/freeagent/cashflow/future_transaction_payments_spec.rb","line_number":61,"run_time":0.114105547,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/same_day_paid.feature[1:1:1]","description":"Given a uk sole trader -\u003e And a bill: same day paid -\u003e Given VAT settings: Not registered -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Paid Bills No VAT Given a uk sole trader -\u003e And a bill: same day paid -\u003e Given VAT settings: Not registered -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/same_day_paid.feature","line_number":14,"run_time":0.035270411,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/same_day_paid.feature[1:2:1]","description":"Given a uk sole trader -\u003e And a bill: same day paid -\u003e Given VAT settings: Any basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Paid Bills No VAT Given a uk sole trader -\u003e And a bill: same day paid -\u003e Given VAT settings: Any basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/same_day_paid.feature","line_number":14,"run_time":0.0673962,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/same_day_paid.feature[1:3:1]","description":"Given a uk sole trader -\u003e And a bill: same day paid -\u003e Given VAT settings: Any basis, FRS, then Any basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Paid Bills No VAT Given a uk sole trader -\u003e And a bill: same day paid -\u003e Given VAT settings: Any basis, FRS, then Any basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/same_day_paid.feature","line_number":14,"run_time":0.032102389,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/same_day_paid.feature[1:4:1]","description":"Given a uk sole trader -\u003e And a bill: same day paid -\u003e Given VAT settings: Any basis, FRS, then Any basis, not FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Paid Bills No VAT Given a uk sole trader -\u003e And a bill: same day paid -\u003e Given VAT settings: Any basis, FRS, then Any basis, not FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/same_day_paid.feature","line_number":14,"run_time":0.044842349,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/same_day_paid.feature[1:5:1]","description":"Given a uk sole trader -\u003e And a bill: same day paid -\u003e Given VAT settings: Any basis, FRS, then de-registered -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Paid Bills No VAT Given a uk sole trader -\u003e And a bill: same day paid -\u003e Given VAT settings: Any basis, FRS, then de-registered -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/same_day_paid.feature","line_number":14,"run_time":0.031575492,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/same_day_paid.feature[1:6:1]","description":"Given a uk sole trader -\u003e And a bill: same day paid -\u003e Given VAT settings: Not registered, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Paid Bills Pre-registration, pay VAT on registration Given a uk sole trader -\u003e And a bill: same day paid -\u003e Given VAT settings: Not registered, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/same_day_paid.feature","line_number":45,"run_time":0.030628457,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/same_day_paid.feature[1:7:1]","description":"Given a uk sole trader -\u003e And a bill: same day paid -\u003e Given VAT settings: Not registered, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Paid Bills Pre-registration, pay VAT on registration Given a uk sole trader -\u003e And a bill: same day paid -\u003e Given VAT settings: Not registered, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/same_day_paid.feature","line_number":45,"run_time":0.030509286,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/same_day_paid.feature[1:8:1]","description":"Given a uk sole trader -\u003e And a bill: same day paid -\u003e Given VAT settings: Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Paid Bills Reclaimed on VAT bill item on bill Given a uk sole trader -\u003e And a bill: same day paid -\u003e Given VAT settings: Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/same_day_paid.feature","line_number":77,"run_time":0.023582029,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/same_day_paid.feature[1:9:1]","description":"Given a uk sole trader -\u003e And a bill: same day paid -\u003e Given VAT settings: Invoice basis, not FRS, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Paid Bills Reclaimed on VAT bill item on bill Given a uk sole trader -\u003e And a bill: same day paid -\u003e Given VAT settings: Invoice basis, not FRS, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/same_day_paid.feature","line_number":77,"run_time":0.032887423,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/same_day_paid.feature[1:10:1]","description":"Given a uk sole trader -\u003e And a bill: same day paid -\u003e Given VAT settings: Invoice basis, not FRS, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Paid Bills Reclaimed on VAT bill item on bill Given a uk sole trader -\u003e And a bill: same day paid -\u003e Given VAT settings: Invoice basis, not FRS, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/same_day_paid.feature","line_number":77,"run_time":0.024267519,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/same_day_paid.feature[1:11:1]","description":"Given a uk sole trader -\u003e And a bill: same day paid -\u003e Given VAT settings: Invoice basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Paid Bills Reclaimed on VAT bill item on bill Given a uk sole trader -\u003e And a bill: same day paid -\u003e Given VAT settings: Invoice basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/same_day_paid.feature","line_number":77,"run_time":0.024385407,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/same_day_paid.feature[1:12:1]","description":"Given a uk sole trader -\u003e And a bill: same day paid -\u003e Given VAT settings: Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Paid Bills Reclaimed on VAT bill item on payment Given a uk sole trader -\u003e And a bill: same day paid -\u003e Given VAT settings: Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/same_day_paid.feature","line_number":111,"run_time":0.026400403,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/same_day_paid.feature[1:13:1]","description":"Given a uk sole trader -\u003e And a bill: same day paid -\u003e Given VAT settings: Cash basis, not FRS, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Paid Bills Reclaimed on VAT bill item on payment Given a uk sole trader -\u003e And a bill: same day paid -\u003e Given VAT settings: Cash basis, not FRS, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/same_day_paid.feature","line_number":111,"run_time":0.037080542,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/same_day_paid.feature[1:14:1]","description":"Given a uk sole trader -\u003e And a bill: same day paid -\u003e Given VAT settings: Cash basis, not FRS, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Paid Bills Reclaimed on VAT bill item on payment Given a uk sole trader -\u003e And a bill: same day paid -\u003e Given VAT settings: Cash basis, not FRS, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/same_day_paid.feature","line_number":111,"run_time":0.027341611,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/same_day_paid.feature[1:15:1]","description":"Given a uk sole trader -\u003e And a bill: same day paid -\u003e Given VAT settings: Cash basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Paid Bills Reclaimed on VAT bill item on payment Given a uk sole trader -\u003e And a bill: same day paid -\u003e Given VAT settings: Cash basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/same_day_paid.feature","line_number":111,"run_time":0.028789035,"pending_message":null,"screenshot":null},{"id":"./spec/models/guess_exclusion_spec.rb[1:1:1:1]","description":"is expected to be truthy","full_description":"GuessExclusion#excluded? when the bank transaction's name matches an excluded term is expected to be truthy","status":"passed","file_path":"./spec/models/guess_exclusion_spec.rb","line_number":12,"run_time":0.116834491,"pending_message":null,"screenshot":null},{"id":"./spec/models/guess_exclusion_spec.rb[1:1:2:1]","description":"is expected to be truthy","full_description":"GuessExclusion#excluded? when the bank transaction's name matches an excluded term of different case is expected to be truthy","status":"passed","file_path":"./spec/models/guess_exclusion_spec.rb","line_number":17,"run_time":0.113741523,"pending_message":null,"screenshot":null},{"id":"./spec/models/guess_exclusion_spec.rb[1:1:3:1]","description":"is expected to be falsey","full_description":"GuessExclusion#excluded? when the bank transaction's name does not match an excluded term is expected to be falsey","status":"passed","file_path":"./spec/models/guess_exclusion_spec.rb","line_number":22,"run_time":0.111145745,"pending_message":null,"screenshot":null},{"id":"./spec/models/guess_exclusion_spec.rb[1:1:4:1]","description":"is expected to be truthy","full_description":"GuessExclusion#excluded? when the bank transaction is dated before the company start date is expected to be truthy","status":"passed","file_path":"./spec/models/guess_exclusion_spec.rb","line_number":27,"run_time":0.115190104,"pending_message":null,"screenshot":null},{"id":"./spec/models/guess_exclusion_spec.rb[1:1:5:1]","description":"is expected to be falsy","full_description":"GuessExclusion#excluded? when the bank transaction has a generic name is expected to be falsy","status":"passed","file_path":"./spec/models/guess_exclusion_spec.rb","line_number":33,"run_time":0.014856604,"pending_message":null,"screenshot":null},{"id":"./spec/models/guess_exclusion_spec.rb[1:1:6:1]","description":"is expected to be falsy","full_description":"GuessExclusion#excluded? when the bank transaction has a generic memo is expected to be falsy","status":"passed","file_path":"./spec/models/guess_exclusion_spec.rb","line_number":38,"run_time":0.01051387,"pending_message":null,"screenshot":null},{"id":"./spec/models/guess_exclusion_spec.rb[1:1:7:1]","description":"is expected to be falsy","full_description":"GuessExclusion#excluded? when the bank transaction has a generic name and a generic memo is expected to be falsy","status":"passed","file_path":"./spec/models/guess_exclusion_spec.rb","line_number":45,"run_time":0.010038751,"pending_message":null,"screenshot":null},{"id":"./spec/models/guess_exclusion_spec.rb[1:1:8:1]","description":"is expected to be truthy","full_description":"GuessExclusion#excluded? when the bank transaction has an empty name and memo is expected to be truthy","status":"passed","file_path":"./spec/models/guess_exclusion_spec.rb","line_number":50,"run_time":0.009227653,"pending_message":null,"screenshot":null},{"id":"./spec/models/guess_exclusion_spec.rb[1:1:9:1]","description":"is expected to be truthy","full_description":"GuessExclusion#excluded? when the transaction name is in the no match list is expected to be truthy","status":"passed","file_path":"./spec/models/guess_exclusion_spec.rb","line_number":55,"run_time":0.013367227,"pending_message":null,"screenshot":null},{"id":"./spec/models/guess_exclusion_spec.rb[1:1:10:1]","description":"is expected to be truthy","full_description":"GuessExclusion#excluded? when the transaction was a payit payment is expected to be truthy","status":"passed","file_path":"./spec/models/guess_exclusion_spec.rb","line_number":63,"run_time":0.013258288,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/accountancy_practices/edit.html.erb_spec.rb[1:1:1]","description":"renders the Edit Sale button","full_description":"admin/accountancy_practices/edit with the edit fapd_sale permission renders the Edit Sale button","status":"passed","file_path":"./spec/views/admin/accountancy_practices/edit.html.erb_spec.rb","line_number":20,"run_time":0.086988969,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/accountancy_practices/edit.html.erb_spec.rb[1:1:2]","description":"renders the status transition buttons","full_description":"admin/accountancy_practices/edit with the edit fapd_sale permission renders the status transition buttons","status":"passed","file_path":"./spec/views/admin/accountancy_practices/edit.html.erb_spec.rb","line_number":24,"run_time":0.061232305,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/accountancy_practices/edit.html.erb_spec.rb[1:2:1]","description":"does not render the Edit Sale button","full_description":"admin/accountancy_practices/edit without the edit fapd_sale permission does not render the Edit Sale button","status":"passed","file_path":"./spec/views/admin/accountancy_practices/edit.html.erb_spec.rb","line_number":35,"run_time":0.05995615,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/accountancy_practices/edit.html.erb_spec.rb[1:2:2]","description":"renders the 'Extend trial' button only","full_description":"admin/accountancy_practices/edit without the edit fapd_sale permission renders the 'Extend trial' button only","status":"passed","file_path":"./spec/views/admin/accountancy_practices/edit.html.erb_spec.rb","line_number":39,"run_time":0.056002468,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/accountancy_practices/edit.html.erb_spec.rb[1:2:3:1]","description":"renders the 'Extend trial' button only","full_description":"admin/accountancy_practices/edit without the edit fapd_sale permission for a suspended practice renders the 'Extend trial' button only","status":"passed","file_path":"./spec/views/admin/accountancy_practices/edit.html.erb_spec.rb","line_number":49,"run_time":0.089694403,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/radar/pings/index_spec.rb[1:1:1]","description":"is expected to contain exactly {\"category\"=\u003e\"insight\", \"html\"=\u003e(a string including \"\u003cdiv class=\\\"fe-RadarItem\\\"\", \"Top Spending Cate... the most on over the last 6 months.\"), \"id\"=\u003e6, \"notified_at\"=\u003e2022-12-15 09:59:40.000000000 +0000}","full_description":"api/radar/pings/index when given a TopSpendingCategories ping is expected to contain exactly {\"category\"=\u003e\"insight\", \"html\"=\u003e(a string including \"\u003cdiv class=\\\"fe-RadarItem\\\"\", \"Top Spending Cate... the most on over the last 6 months.\"), \"id\"=\u003e6, \"notified_at\"=\u003e2022-12-15 09:59:40.000000000 +0000}","status":"passed","file_path":"./spec/views/api/radar/pings/index_spec.rb","line_number":22,"run_time":0.346485382,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/radar/pings/index_spec.rb[1:2:1:1]","description":"does not render that ping, but logs where rule does not apply","full_description":"api/radar/pings/index when the template for a ping cannot be found in production does not render that ping, but logs where rule does not apply","status":"passed","file_path":"./spec/views/api/radar/pings/index_spec.rb","line_number":48,"run_time":0.204702644,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/radar/pings/index_spec.rb[1:2:2:1]","description":"raises an error","full_description":"api/radar/pings/index when the template for a ping cannot be found in non-production environments raises an error","status":"passed","file_path":"./spec/views/api/radar/pings/index_spec.rb","line_number":54,"run_time":0.252357904,"pending_message":null,"screenshot":null},{"id":"./spec/requests/vat_settings_integration_spec.rb[1:1:1]","description":"does not include the Not Registered field","full_description":"VatSettingsIntegration A VAT Registered UK Limited Company with Sent Invoices does not include the Not Registered field","status":"passed","file_path":"./spec/requests/vat_settings_integration_spec.rb","line_number":18,"run_time":0.72765146,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/timeslips_controller/new_spec.rb[1:1:1:1]","description":"renders the form to be added to the requested date","full_description":"TimeslipsController#new with html and a date is given for the new timeslip renders the form to be added to the requested date","status":"passed","file_path":"./spec/controllers/timeslips_controller/new_spec.rb","line_number":20,"run_time":0.147497262,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/timeslips_controller/new_spec.rb[1:1:2:1]","description":"defaults to todays date","full_description":"TimeslipsController#new with html and no date is supplied defaults to todays date","status":"passed","file_path":"./spec/controllers/timeslips_controller/new_spec.rb","line_number":36,"run_time":0.131289571,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/timeslips_controller/new_spec.rb[1:2:1:1]","description":"renders the form to be added to the requested date task and user","full_description":"TimeslipsController#new with turbo stream and a date, task and project is given for the new timeslip renders the form to be added to the requested date task and user","status":"passed","file_path":"./spec/controllers/timeslips_controller/new_spec.rb","line_number":55,"run_time":0.086822632,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/timeslips_controller/new_spec.rb[1:2:2:1]","description":"defaults to todays date","full_description":"TimeslipsController#new with turbo stream and no date is supplied defaults to todays date","status":"passed","file_path":"./spec/controllers/timeslips_controller/new_spec.rb","line_number":83,"run_time":0.049564624,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/alert_rule/header_spec.rb[1:1:1]","description":"returns the headers as an array of strings in the correct order","full_description":"Reports::AlertRuleNotifications::Header#headers returns the headers as an array of strings in the correct order","status":"passed","file_path":"./spec/models/reports/alert_rule/header_spec.rb","line_number":32,"run_time":0.385563169,"pending_message":null,"screenshot":null},{"id":"./spec/views/prices/_tabs.html.erb_spec.rb[1:1:1:1]","description":"does not have links to the Price List or Stock areas","full_description":"prices/_tabs for a UK Limited Company with no existing stock items or price list items does not have links to the Price List or Stock areas","status":"passed","file_path":"./spec/views/prices/_tabs.html.erb_spec.rb","line_number":18,"run_time":0.020748658,"pending_message":null,"screenshot":null},{"id":"./spec/views/prices/_tabs.html.erb_spec.rb[1:1:2:1]","description":"has links to the Price List and Stock areas","full_description":"prices/_tabs for a UK Limited Company with existing stock items, but no price list items has links to the Price List and Stock areas","status":"passed","file_path":"./spec/views/prices/_tabs.html.erb_spec.rb","line_number":27,"run_time":0.052040204,"pending_message":null,"screenshot":null},{"id":"./spec/views/prices/_tabs.html.erb_spec.rb[1:1:3:1]","description":"has links to the Price List and Stock areas","full_description":"prices/_tabs for a UK Limited Company with existing price list items, but no stock items has links to the Price List and Stock areas","status":"passed","file_path":"./spec/views/prices/_tabs.html.erb_spec.rb","line_number":36,"run_time":0.034829058,"pending_message":null,"screenshot":null},{"id":"./spec/views/prices/_tabs.html.erb_spec.rb[1:1:4:1]","description":"has links to the Price List and Stock areas","full_description":"prices/_tabs for a UK Limited Company with existing stock items and price list items has links to the Price List and Stock areas","status":"passed","file_path":"./spec/views/prices/_tabs.html.erb_spec.rb","line_number":46,"run_time":0.052618202,"pending_message":null,"screenshot":null},{"id":"./spec/views/prices/_tabs.html.erb_spec.rb[1:2:1:1]","description":"does not have links to Price List or Stock areas","full_description":"prices/_tabs for a UK Landlord with no existing price list items does not have links to Price List or Stock areas","status":"passed","file_path":"./spec/views/prices/_tabs.html.erb_spec.rb","line_number":57,"run_time":0.091592578,"pending_message":null,"screenshot":null},{"id":"./spec/views/prices/_tabs.html.erb_spec.rb[1:2:2:1]","description":"does not have links to Price List or Stock areas","full_description":"prices/_tabs for a UK Landlord with existing price list items does not have links to Price List or Stock areas","status":"passed","file_path":"./spec/views/prices/_tabs.html.erb_spec.rb","line_number":66,"run_time":0.106687449,"pending_message":null,"screenshot":null}],"summary":{"duration":3.063493083,"example_count":496,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"496 examples, 0 failures"}