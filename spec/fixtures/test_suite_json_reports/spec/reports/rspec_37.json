{"version":"3.11.0","messages":["Run options:\n  include {:ids=\u003e{\"./spec/models/invoice_spec.rb\"=\u003e[\"1:141:1:1\", \"1:85:2:2\"], \"./spec/controllers/invoices_controller_spec.rb\"=\u003e[\"15:4:1:2\"]}}\n  exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/acceptance/payroll/2014_16/ni_letters_and_values.feature[1:1:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2015 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When running payroll for 4 months -\u003e Then the NI values for letter A should look like","full_description":"NI Letters and Values 2016 NI Letters and Values for a normal employee Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2015 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When running payroll for 4 months -\u003e Then the NI values for letter A should look like","status":"passed","file_path":"./spec/acceptance/payroll/2014_16/ni_letters_and_values.feature","line_number":10,"run_time":1.343311066,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2014_16/ni_letters_and_values.feature[1:2:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2015 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e And they have migrated earnings -\u003e When running payroll for 4 months -\u003e Then the NI values for letter A should look like","full_description":"NI Letters and Values 2016 NI Letters and Values for an employee with migrated pay Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2015 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e And they have migrated earnings -\u003e When running payroll for 4 months -\u003e Then the NI values for letter A should look like","status":"passed","file_path":"./spec/acceptance/payroll/2014_16/ni_letters_and_values.feature","line_number":21,"run_time":0.784166371,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2014_16/ni_letters_and_values.feature[1:3:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2015 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When running payroll for 4 months -\u003e And in month 5 they turn 65 so change to letter C -\u003e And they run payroll for 2 months -\u003e Then the NI values for letter A should look like -\u003e Then the NI values for letter C should look like","full_description":"NI Letters and Values 2016 NI Letters and Values for an employee with multiple NI letters Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2015 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When running payroll for 4 months -\u003e And in month 5 they turn 65 so change to letter C -\u003e And they run payroll for 2 months -\u003e Then the NI values for letter A should look like -\u003e Then the NI values for letter C should look like","status":"passed","file_path":"./spec/acceptance/payroll/2014_16/ni_letters_and_values.feature","line_number":35,"run_time":1.464616629,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2014_16/ni_letters_and_values.feature[1:4:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2015 tax year on the 25th of each month -\u003e Given a Director payroll profile with NI letter A -\u003e And they are paid £3000 monthly -\u003e When running payroll for 4 months -\u003e Then the NI values for letter A should look like","full_description":"NI Letters and Values 2016 NI Letters and Values for a director Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2015 tax year on the 25th of each month -\u003e Given a Director payroll profile with NI letter A -\u003e And they are paid £3000 monthly -\u003e When running payroll for 4 months -\u003e Then the NI values for letter A should look like","status":"passed","file_path":"./spec/acceptance/payroll/2014_16/ni_letters_and_values.feature","line_number":54,"run_time":0.665380009,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2014_16/ni_letters_and_values.feature[1:5:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2015 tax year on the 25th of each month -\u003e Given a Director payroll profile with NI letter A -\u003e And they are paid £3000 monthly -\u003e And they have migrated earnings -\u003e When running payroll for 4 months -\u003e Then the NI values for letter A should look like","full_description":"NI Letters and Values 2016 NI Letters and Values for a director with migrated pay Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2015 tax year on the 25th of each month -\u003e Given a Director payroll profile with NI letter A -\u003e And they are paid £3000 monthly -\u003e And they have migrated earnings -\u003e When running payroll for 4 months -\u003e Then the NI values for letter A should look like","status":"passed","file_path":"./spec/acceptance/payroll/2014_16/ni_letters_and_values.feature","line_number":65,"run_time":0.666356611,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2014_16/ni_letters_and_values.feature[1:6:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2015 tax year on the 25th of each month -\u003e Given a Director payroll profile with NI letter A -\u003e And they are paid £3000 monthly -\u003e When running payroll for 4 months -\u003e And in month 5 they turn 65 so change to letter C -\u003e And they run payroll for 2 months -\u003e Then the NI values for letter A should look like -\u003e Then the NI values for letter C should look like","full_description":"NI Letters and Values 2016 NI Letters and Values for a director with multiple NI letters Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2015 tax year on the 25th of each month -\u003e Given a Director payroll profile with NI letter A -\u003e And they are paid £3000 monthly -\u003e When running payroll for 4 months -\u003e And in month 5 they turn 65 so change to letter C -\u003e And they run payroll for 2 months -\u003e Then the NI values for letter A should look like -\u003e Then the NI values for letter C should look like","status":"passed","file_path":"./spec/acceptance/payroll/2014_16/ni_letters_and_values.feature","line_number":79,"run_time":1.015724236,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2014_16/ni_letters_and_values.feature[1:7:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2015 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When running payroll for 4 months -\u003e And they switch to Director NI contributions in month 5 with a directorship start date of 2014-08-06 -\u003e And they run payroll for the rest of the tax year -\u003e Then the NI values for letter A should look like","full_description":"NI Letters and Values 2016 NI Letters and Values for an employee who becomes a director Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2015 tax year on the 25th of each month -\u003e Given a Employee payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e When running payroll for 4 months -\u003e And they switch to Director NI contributions in month 5 with a directorship start date of 2014-08-06 -\u003e And they run payroll for the rest of the tax year -\u003e Then the NI values for letter A should look like","status":"passed","file_path":"./spec/acceptance/payroll/2014_16/ni_letters_and_values.feature","line_number":98,"run_time":1.880683236,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2014_16/ni_letters_and_values.feature[1:8:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2015 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £3000 monthly -\u003e When they leave employment on 2014-07-25 -\u003e And they run payroll for a period -\u003e Then the NI values for letter A should look like","full_description":"NI Letters and Values 2016 NI Letters and Values for a director on the alternate method who steps down during the tax year Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2015 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £3000 monthly -\u003e When they leave employment on 2014-07-25 -\u003e And they run payroll for a period -\u003e Then the NI values for letter A should look like","status":"passed","file_path":"./spec/acceptance/payroll/2014_16/ni_letters_and_values.feature","line_number":119,"run_time":0.713784174,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2014_16/ni_letters_and_values.feature[1:9:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2015 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And the user is a Director -\u003e And they are paid £3000 monthly -\u003e When running payroll for 12 months -\u003e Then the NI values for letter A should look like","full_description":"NI Letters and Values 2016 NI Letters and Values for a director, recorded as an employee Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2015 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And the user is a Director -\u003e And they are paid £3000 monthly -\u003e When running payroll for 12 months -\u003e Then the NI values for letter A should look like","status":"passed","file_path":"./spec/acceptance/payroll/2014_16/ni_letters_and_values.feature","line_number":131,"run_time":2.676862804,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2014_16/ni_letters_and_values.feature[1:10:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2015 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e And they have migrated earnings -\u003e And they leave employment on 2014-07-25 -\u003e When running payroll for 4 months -\u003e Then the NI values for letter A should look like","full_description":"NI Letters and Values 2016 NI Letters and Values for a director on the alternate arrangements with migrated pay finishing the year Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2015 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £2000 monthly -\u003e And they have migrated earnings -\u003e And they leave employment on 2014-07-25 -\u003e When running payroll for 4 months -\u003e Then the NI values for letter A should look like","status":"passed","file_path":"./spec/acceptance/payroll/2014_16/ni_letters_and_values.feature","line_number":151,"run_time":1.019797238,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/payroll/2014_16/ni_letters_and_values.feature[1:11:1]","description":"Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2015 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £3000 monthly -\u003e And they switch to Director NI contributions in month 4 -\u003e And they run payroll in month 5 -\u003e Then the NI values for letter A should look like","full_description":"NI Letters and Values 2016 NI Letters and Values for a director on the alternate method who switches to the annual method Given a UK Limited Company which was started on 2014-01-01 -\u003e And they are running payroll in the 2015 tax year on the 25th of each month -\u003e Given an Alternate Arrangements payroll profile with NI letter A -\u003e And they are paid £3000 monthly -\u003e And they switch to Director NI contributions in month 4 -\u003e And they run payroll in month 5 -\u003e Then the NI values for letter A should look like","status":"passed","file_path":"./spec/acceptance/payroll/2014_16/ni_letters_and_values.feature","line_number":167,"run_time":0.931022602,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/company_controller_spec.rb[1:1:1:1]","description":"advances the setup stage when given valid data","full_description":"Api::CompanyController#update with a getting started UK company advances the setup stage when given valid data","status":"passed","file_path":"./spec/controllers/api/company_controller_spec.rb","line_number":59,"run_time":0.339292169,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/company_controller_spec.rb[1:1:1:2]","description":"doesn't advance the setup stage when given invalid data","full_description":"Api::CompanyController#update with a getting started UK company doesn't advance the setup stage when given invalid data","status":"passed","file_path":"./spec/controllers/api/company_controller_spec.rb","line_number":67,"run_time":0.155923173,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/company_controller_spec.rb[1:1:2:1]","description":"advances the setup stage when given valid data","full_description":"Api::CompanyController#update with a getting started Universal company advances the setup stage when given valid data","status":"passed","file_path":"./spec/controllers/api/company_controller_spec.rb","line_number":97,"run_time":0.189450974,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/company_controller_spec.rb[1:1:2:2]","description":"doesn't advance the setup stage when given invalid data","full_description":"Api::CompanyController#update with a getting started Universal company doesn't advance the setup stage when given invalid data","status":"passed","file_path":"./spec/controllers/api/company_controller_spec.rb","line_number":104,"run_time":0.120736781,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/company_controller_spec.rb[1:1:3:1]","description":"returns the errors","full_description":"Api::CompanyController#update when vat_deregistration_effective_date is invalid returns the errors","status":"passed","file_path":"./spec/controllers/api/company_controller_spec.rb","line_number":120,"run_time":0.749892872,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/company_controller_spec.rb[1:1:4:1]","description":"processes the request successfully","full_description":"Api::CompanyController#update when vat_deregistration_effective_date is valid processes the request successfully","status":"passed","file_path":"./spec/controllers/api/company_controller_spec.rb","line_number":132,"run_time":0.823258962,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/company_controller_spec.rb[1:1:5:1]","description":"processes the request successfully","full_description":"Api::CompanyController#update when registering for VAT processes the request successfully","status":"passed","file_path":"./spec/controllers/api/company_controller_spec.rb","line_number":151,"run_time":0.190433971,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/company_controller_spec.rb[1:1:6:1]","description":"returns an error response","full_description":"Api::CompanyController#update when invalid freeagent start date returns an error response","status":"passed","file_path":"./spec/controllers/api/company_controller_spec.rb","line_number":173,"run_time":0.500787235,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/company_controller_spec.rb[1:1:7:1]","description":"updates the category if a valid name is given","full_description":"Api::CompanyController#update when updating the business_category updates the category if a valid name is given","status":"passed","file_path":"./spec/controllers/api/company_controller_spec.rb","line_number":188,"run_time":0.571234533,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/company_controller_spec.rb[1:1:7:2]","description":"doesn't update the category if an invalid name is given","full_description":"Api::CompanyController#update when updating the business_category doesn't update the category if an invalid name is given","status":"passed","file_path":"./spec/controllers/api/company_controller_spec.rb","line_number":195,"run_time":1.159321223,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/company_controller_spec.rb[1:1:7:3]","description":"removes the category if `nil` is given","full_description":"Api::CompanyController#update when updating the business_category removes the category if `nil` is given","status":"passed","file_path":"./spec/controllers/api/company_controller_spec.rb","line_number":202,"run_time":0.558119556,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/company_controller_spec.rb[1:1:7:4]","description":"removes the category if an empty value is given","full_description":"Api::CompanyController#update when updating the business_category removes the category if an empty value is given","status":"passed","file_path":"./spec/controllers/api/company_controller_spec.rb","line_number":209,"run_time":0.540343604,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/company_controller_spec.rb[1:1:7:5]","description":"does nothing if the parameter isn't passed in","full_description":"Api::CompanyController#update when updating the business_category does nothing if the parameter isn't passed in","status":"passed","file_path":"./spec/controllers/api/company_controller_spec.rb","line_number":216,"run_time":0.554788913,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/company_controller_spec.rb[1:1:8:1]","description":"updates the company and deletes the latest_vat_registration when set to Not Registered","full_description":"Api::CompanyController#update when changing vat registration status updates the company and deletes the latest_vat_registration when set to Not Registered","status":"passed","file_path":"./spec/controllers/api/company_controller_spec.rb","line_number":227,"run_time":0.135000555,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/company_controller_spec.rb[1:1:8:2]","description":"updates the company and the latest_vat_registration when set to Registration Applied For","full_description":"Api::CompanyController#update when changing vat registration status updates the company and the latest_vat_registration when set to Registration Applied For","status":"passed","file_path":"./spec/controllers/api/company_controller_spec.rb","line_number":237,"run_time":0.13967621,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/company_controller_spec.rb[1:1:8:3:1]","description":"creates a new vat registration and assigns the parameters to it","full_description":"Api::CompanyController#update when changing vat registration status when current registration is 'deregistration locked' creates a new vat registration and assigns the parameters to it","status":"passed","file_path":"./spec/controllers/api/company_controller_spec.rb","line_number":277,"run_time":6.510442061,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/company_controller_spec.rb[1:1:9:1]","description":"updates the company frs details","full_description":"Api::CompanyController#update when changing the initial frs scheme updates the company frs details","status":"passed","file_path":"./spec/controllers/api/company_controller_spec.rb","line_number":300,"run_time":0.199850439,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/company_controller_spec.rb[1:1:9:2]","description":"updates the company frs details when initially on frs is false but with a frs scheme type value","full_description":"Api::CompanyController#update when changing the initial frs scheme updates the company frs details when initially on frs is false but with a frs scheme type value","status":"passed","file_path":"./spec/controllers/api/company_controller_spec.rb","line_number":335,"run_time":0.21862868,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/company_controller_spec.rb[1:1:10:1:1]","description":"is not forbidden","full_description":"Api::CompanyController#update for a UK landlord with the landlord_api feature enabled is not forbidden","status":"passed","file_path":"./spec/controllers/api/company_controller_spec.rb","line_number":370,"run_time":0.212075359,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/company_controller_spec.rb[1:1:10:2:1]","description":"is forbidden","full_description":"Api::CompanyController#update for a UK landlord with the landlord_api feature disabled is forbidden","status":"passed","file_path":"./spec/controllers/api/company_controller_spec.rb","line_number":379,"run_time":0.127229133,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/company_controller_spec.rb[1:2:1:1:1]","description":"includes a negative practice_managed field in the response","full_description":"Api::CompanyController#show when a privileged partner makes a request with a non-managed company includes a negative practice_managed field in the response","status":"passed","file_path":"./spec/controllers/api/company_controller_spec.rb","line_number":411,"run_time":0.466415276,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/company_controller_spec.rb[1:2:1:2:1]","description":"includes a positive practice_managed field in the response","full_description":"Api::CompanyController#show when a privileged partner makes a request with a practice-managed company includes a positive practice_managed field in the response","status":"passed","file_path":"./spec/controllers/api/company_controller_spec.rb","line_number":422,"run_time":0.252365615,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/company_controller_spec.rb[1:2:1:3:1]","description":"includes a positive apple field in the response","full_description":"Api::CompanyController#show when a privileged partner makes a request with an Apple-subscribed company includes a positive apple field in the response","status":"passed","file_path":"./spec/controllers/api/company_controller_spec.rb","line_number":433,"run_time":0.182259646,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/company_controller_spec.rb[1:2:2:1:1]","description":"does not include extra fields in the response","full_description":"Api::CompanyController#show when a non-privileged partner makes a request with a non-managed company does not include extra fields in the response","status":"passed","file_path":"./spec/controllers/api/company_controller_spec.rb","line_number":447,"run_time":0.465073486,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/company_controller_spec.rb[1:2:2:2:1]","description":"does not include extra fields in the response","full_description":"Api::CompanyController#show when a non-privileged partner makes a request with a practice-managed company does not include extra fields in the response","status":"passed","file_path":"./spec/controllers/api/company_controller_spec.rb","line_number":459,"run_time":0.228291819,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/company_controller_spec.rb[1:2:2:3:1]","description":"shows the company as unregistered","full_description":"Api::CompanyController#show when a non-privileged partner makes a request when current company is unregistered shows the company as unregistered","status":"passed","file_path":"./spec/controllers/api/company_controller_spec.rb","line_number":475,"run_time":0.132403016,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/company_controller_spec.rb[1:2:2:4:1]","description":"shows the company as unregistered","full_description":"Api::CompanyController#show when a non-privileged partner makes a request when current registration is 'deregistration locked' shows the company as unregistered","status":"passed","file_path":"./spec/controllers/api/company_controller_spec.rb","line_number":502,"run_time":0.516825955,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/company_controller_spec.rb[1:2:3:1]","description":"is successful","full_description":"Api::CompanyController#show for a UK landlord is successful","status":"passed","file_path":"./spec/controllers/api/company_controller_spec.rb","line_number":520,"run_time":0.165440521,"pending_message":null,"screenshot":null},{"id":"./spec/features/recurring_invoice/edit_recurring_invoice_profile_spec.rb[1:1]","description":"when editing a existing recurring invoice profile","full_description":"edit a recurring invoice profile when editing a existing recurring invoice profile","status":"passed","file_path":"./spec/features/recurring_invoice/edit_recurring_invoice_profile_spec.rb","line_number":38,"run_time":5.525236996,"pending_message":null,"screenshot":null},{"id":"./spec/features/recurring_invoice/edit_recurring_invoice_profile_spec.rb[1:2:1:1]","description":"shows invoice with correct theme","full_description":"edit a recurring invoice profile includes theme styles with a gallery theme shows invoice with correct theme","status":"passed","file_path":"./spec/features/recurring_invoice/edit_recurring_invoice_profile_spec.rb","line_number":130,"run_time":1.349505353,"pending_message":null,"screenshot":null},{"id":"./spec/features/recurring_invoice/edit_recurring_invoice_profile_spec.rb[1:2:1:2:1:1]","description":"can switch to the 'Custom' theme","full_description":"edit a recurring invoice profile includes theme styles with a gallery theme with a company that has theme customisation available when there is an existing 'Custom' theme can switch to the 'Custom' theme","status":"passed","file_path":"./spec/features/recurring_invoice/edit_recurring_invoice_profile_spec.rb","line_number":142,"run_time":2.176716242,"pending_message":null,"screenshot":null},{"id":"./spec/features/recurring_invoice/edit_recurring_invoice_profile_spec.rb[1:2:1:2:2:1]","description":"displays 'Create Custom Theme' button linking to the customiser","full_description":"edit a recurring invoice profile includes theme styles with a gallery theme with a company that has theme customisation available when there is no existing 'Custom' theme displays 'Create Custom Theme' button linking to the customiser","status":"passed","file_path":"./spec/features/recurring_invoice/edit_recurring_invoice_profile_spec.rb","line_number":159,"run_time":2.079533548,"pending_message":null,"screenshot":null},{"id":"./spec/features/recurring_invoice/edit_recurring_invoice_profile_spec.rb[1:2:1:3:1]","description":"does not display the customised theme in 'Change Invoice Theme'","full_description":"edit a recurring invoice profile includes theme styles with a gallery theme with a company that has theme customisation unavailable does not display the customised theme in 'Change Invoice Theme'","status":"passed","file_path":"./spec/features/recurring_invoice/edit_recurring_invoice_profile_spec.rb","line_number":172,"run_time":1.466057667,"pending_message":null,"screenshot":null},{"id":"./spec/features/recurring_invoice/edit_recurring_invoice_profile_spec.rb[1:2:2:1:1]","description":"shows invoice with correct theme and customisations","full_description":"edit a recurring invoice profile includes theme styles with a customised theme with a company that has theme customisation available shows invoice with correct theme and customisations","status":"passed","file_path":"./spec/features/recurring_invoice/edit_recurring_invoice_profile_spec.rb","line_number":189,"run_time":1.19066338,"pending_message":null,"screenshot":null},{"id":"./spec/features/recurring_invoice/edit_recurring_invoice_profile_spec.rb[1:2:2:2:1]","description":"shows invoice with correct theme but no customisations","full_description":"edit a recurring invoice profile includes theme styles with a customised theme with a company that has theme customisation unavailable shows invoice with correct theme but no customisations","status":"passed","file_path":"./spec/features/recurring_invoice/edit_recurring_invoice_profile_spec.rb","line_number":199,"run_time":1.302792458,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/capital_allowances/complex_vat_capital_allowances.feature[1:1:1]","description":"Given the \"capital_allowance_calculator_no_legacy_periods\" feature is enabled -\u003e And the current date is 2019-03-31 -\u003e And a UK Limited Company which was started on 2018-01-01 -\u003e And its first accounting year ends on 2019-03-31 -\u003e And it is VAT registered from 2018-01-01 -\u003e And it is Invoice accounting for VAT, on the \"Accountancy or Bookkeeping\" flat rate scheme -\u003e And it has an opening asset pool balance of £10_000 -\u003e And it has a contact in United Kingdom named Joe Bloggs -\u003e And the company has the following bank transactions: -\u003e And the company has the following bills: -\u003e And the company has the following expenses: -\u003e Then the capital asset with description \"big asset\" has the following history -\u003e And for the corporation tax return ending on 2018-12-31 the capital allowance computations are -\u003e And the corporation tax return ending on 2018-12-31 should have ledger entries","full_description":"Capital Allowances The company's first accounting period is split in two due to a long first accounting year and we look at the first period 2018-01-01 to 2018-12-31 Given the \"capital_allowance_calculator_no_legacy_periods\" feature is enabled -\u003e And the current date is 2019-03-31 -\u003e And a UK Limited Company which was started on 2018-01-01 -\u003e And its first accounting year ends on 2019-03-31 -\u003e And it is VAT registered from 2018-01-01 -\u003e And it is Invoice accounting for VAT, on the \"Accountancy or Bookkeeping\" flat rate scheme -\u003e And it has an opening asset pool balance of £10_000 -\u003e And it has a contact in United Kingdom named Joe Bloggs -\u003e And the company has the following bank transactions: -\u003e And the company has the following bills: -\u003e And the company has the following expenses: -\u003e Then the capital asset with description \"big asset\" has the following history -\u003e And for the corporation tax return ending on 2018-12-31 the capital allowance computations are -\u003e And the corporation tax return ending on 2018-12-31 should have ledger entries","status":"passed","file_path":"./spec/acceptance/capital_allowances/complex_vat_capital_allowances.feature","line_number":28,"run_time":3.121025601,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/capital_allowances/complex_vat_capital_allowances.feature[1:2:1]","description":"Given the \"capital_allowance_calculator_no_legacy_periods\" feature is enabled -\u003e And the current date is 2019-03-31 -\u003e And a UK Limited Company which was started on 2018-01-01 -\u003e And its first accounting year ends on 2019-03-31 -\u003e And it is VAT registered from 2018-01-01 -\u003e And it is Invoice accounting for VAT, on the \"Accountancy or Bookkeeping\" flat rate scheme -\u003e And it has an opening asset pool balance of £10_000 -\u003e And it has a contact in United Kingdom named Joe Bloggs -\u003e And the company has the following bank transactions: -\u003e And the company has the following bills: -\u003e And the company has the following expenses: -\u003e Then the capital asset with description \"small asset\" has the following history -\u003e And the capital asset with description \"EC Good big\" has the following history -\u003e And the capital asset with description \"EC Good small\" has the following history -\u003e And for the corporation tax return ending on 2019-03-31 the capital allowance computations are -\u003e And the corporation tax return ending on 2019-03-31 should have ledger entries","full_description":"Capital Allowances The company's accounting period is split in two due to a long first accounting year and we look at the second period 2019-01-01 to 2019-03-31 Given the \"capital_allowance_calculator_no_legacy_periods\" feature is enabled -\u003e And the current date is 2019-03-31 -\u003e And a UK Limited Company which was started on 2018-01-01 -\u003e And its first accounting year ends on 2019-03-31 -\u003e And it is VAT registered from 2018-01-01 -\u003e And it is Invoice accounting for VAT, on the \"Accountancy or Bookkeeping\" flat rate scheme -\u003e And it has an opening asset pool balance of £10_000 -\u003e And it has a contact in United Kingdom named Joe Bloggs -\u003e And the company has the following bank transactions: -\u003e And the company has the following bills: -\u003e And the company has the following expenses: -\u003e Then the capital asset with description \"small asset\" has the following history -\u003e And the capital asset with description \"EC Good big\" has the following history -\u003e And the capital asset with description \"EC Good small\" has the following history -\u003e And for the corporation tax return ending on 2019-03-31 the capital allowance computations are -\u003e And the corporation tax return ending on 2019-03-31 should have ledger entries","status":"passed","file_path":"./spec/acceptance/capital_allowances/complex_vat_capital_allowances.feature","line_number":59,"run_time":2.345063198,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/capital_allowances/complex_vat_capital_allowances.feature[1:3:1]","description":"Given the \"capital_allowance_calculator_no_legacy_periods\" feature is enabled -\u003e And the current date is 2019-03-31 -\u003e And a UK Limited Company which was started on 2018-01-01 -\u003e And its first accounting year ends on 2019-03-31 -\u003e And it is VAT registered from 2018-01-01 -\u003e And it is Invoice accounting for VAT, on the \"Accountancy or Bookkeeping\" flat rate scheme -\u003e And it has an opening asset pool balance of £10_000 -\u003e And it has a contact in United Kingdom named Joe Bloggs -\u003e And the company has the following bank transactions: -\u003e And the company has the following bills: -\u003e And the company has the following expenses: -\u003e Given the company leaves the flat rate scheme from 2019-03-31 -\u003e Then the capital asset with description \"small asset\" has the following history -\u003e Then the capital asset with description \"EC Good big\" has the following history -\u003e Then the capital asset with description \"EC Good small\" has the following history -\u003e And for the corporation tax return ending on 2019-03-31 the capital allowance computations are -\u003e And the corporation tax return ending on 2019-03-31 should have ledger entries","full_description":"Capital Allowances The user changes their VAT accounting basis for the 03 19 VAT return to Not on the Flat Rate Scheme Given the \"capital_allowance_calculator_no_legacy_periods\" feature is enabled -\u003e And the current date is 2019-03-31 -\u003e And a UK Limited Company which was started on 2018-01-01 -\u003e And its first accounting year ends on 2019-03-31 -\u003e And it is VAT registered from 2018-01-01 -\u003e And it is Invoice accounting for VAT, on the \"Accountancy or Bookkeeping\" flat rate scheme -\u003e And it has an opening asset pool balance of £10_000 -\u003e And it has a contact in United Kingdom named Joe Bloggs -\u003e And the company has the following bank transactions: -\u003e And the company has the following bills: -\u003e And the company has the following expenses: -\u003e Given the company leaves the flat rate scheme from 2019-03-31 -\u003e Then the capital asset with description \"small asset\" has the following history -\u003e Then the capital asset with description \"EC Good big\" has the following history -\u003e Then the capital asset with description \"EC Good small\" has the following history -\u003e And for the corporation tax return ending on 2019-03-31 the capital allowance computations are -\u003e And the corporation tax return ending on 2019-03-31 should have ledger entries","status":"passed","file_path":"./spec/acceptance/capital_allowances/complex_vat_capital_allowances.feature","line_number":101,"run_time":3.1364906,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/capital_allowances/complex_vat_capital_allowances.feature[1:4:1]","description":"Given the \"capital_allowance_calculator_no_legacy_periods\" feature is enabled -\u003e And the current date is 2019-03-31 -\u003e And a UK Limited Company which was started on 2018-01-01 -\u003e And its first accounting year ends on 2019-03-31 -\u003e And it is VAT registered from 2018-01-01 -\u003e And it is Invoice accounting for VAT, on the \"Accountancy or Bookkeeping\" flat rate scheme -\u003e And it has an opening asset pool balance of £10_000 -\u003e And it has a contact in United Kingdom named Joe Bloggs -\u003e And the company has the following bank transactions: -\u003e And the company has the following bills: -\u003e And the company has the following expenses: -\u003e Given the company has the following bank transactions: -\u003e And the company leaves the flat rate scheme from 2019-03-31 -\u003e And the asset with description \"bad asset\" is disposed on 2019-03-31 for £500 -\u003e Then the capital asset with description \"bad asset\" has the following history -\u003e And for the corporation tax return ending on 2019-03-31 the capital allowance computations are -\u003e And the corporation tax return ending on 2019-03-31 should have ledger entries","full_description":"Capital Allowances The user adds a purchase of another asset while they were on the flat rate scheme and disposes it while they're not on it Given the \"capital_allowance_calculator_no_legacy_periods\" feature is enabled -\u003e And the current date is 2019-03-31 -\u003e And a UK Limited Company which was started on 2018-01-01 -\u003e And its first accounting year ends on 2019-03-31 -\u003e And it is VAT registered from 2018-01-01 -\u003e And it is Invoice accounting for VAT, on the \"Accountancy or Bookkeeping\" flat rate scheme -\u003e And it has an opening asset pool balance of £10_000 -\u003e And it has a contact in United Kingdom named Joe Bloggs -\u003e And the company has the following bank transactions: -\u003e And the company has the following bills: -\u003e And the company has the following expenses: -\u003e Given the company has the following bank transactions: -\u003e And the company leaves the flat rate scheme from 2019-03-31 -\u003e And the asset with description \"bad asset\" is disposed on 2019-03-31 for £500 -\u003e Then the capital asset with description \"bad asset\" has the following history -\u003e And for the corporation tax return ending on 2019-03-31 the capital allowance computations are -\u003e And the corporation tax return ending on 2019-03-31 should have ledger entries","status":"passed","file_path":"./spec/acceptance/capital_allowances/complex_vat_capital_allowances.feature","line_number":144,"run_time":3.620933627,"pending_message":null,"screenshot":null},{"id":"./spec/features/rbsg/pre_assessed_limit_spec.rb[1:1]","description":"with NatWest PAL","full_description":"Banking Sidebar - Banking details - Pre-Assessed Limit with NatWest PAL","status":"passed","file_path":"./spec/features/rbsg/pre_assessed_limit_spec.rb","line_number":54,"run_time":2.240432211,"pending_message":null,"screenshot":null},{"id":"./spec/features/rbsg/pre_assessed_limit_spec.rb[1:2]","description":"with different NatWest PAL amount","full_description":"Banking Sidebar - Banking details - Pre-Assessed Limit with different NatWest PAL amount","status":"passed","file_path":"./spec/features/rbsg/pre_assessed_limit_spec.rb","line_number":58,"run_time":2.234772806,"pending_message":null,"screenshot":null},{"id":"./spec/features/rbsg/pre_assessed_limit_spec.rb[1:3]","description":"with RBS PAL","full_description":"Banking Sidebar - Banking details - Pre-Assessed Limit with RBS PAL","status":"passed","file_path":"./spec/features/rbsg/pre_assessed_limit_spec.rb","line_number":62,"run_time":1.342367728,"pending_message":null,"screenshot":null},{"id":"./spec/features/rbsg/pre_assessed_limit_spec.rb[1:4]","description":"NW branded but has both NW and RBS accounts","full_description":"Banking Sidebar - Banking details - Pre-Assessed Limit NW branded but has both NW and RBS accounts","status":"passed","file_path":"./spec/features/rbsg/pre_assessed_limit_spec.rb","line_number":71,"run_time":2.454841978,"pending_message":null,"screenshot":null},{"id":"./spec/features/rbsg/pre_assessed_limit_spec.rb[1:5]","description":"PAL visibility feature disabled","full_description":"Banking Sidebar - Banking details - Pre-Assessed Limit PAL visibility feature disabled","status":"passed","file_path":"./spec/features/rbsg/pre_assessed_limit_spec.rb","line_number":93,"run_time":1.365164959,"pending_message":null,"screenshot":null},{"id":"./spec/features/rbsg/pre_assessed_limit_spec.rb[1:6]","description":"PAL retrieval feature disabled","full_description":"Banking Sidebar - Banking details - Pre-Assessed Limit PAL retrieval feature disabled","status":"passed","file_path":"./spec/features/rbsg/pre_assessed_limit_spec.rb","line_number":102,"run_time":1.357525488,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:1:2]","description":"returns a empty `personal_liabilities` array","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when company is non-UK returns a empty `personal_liabilities` array","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":76,"run_time":0.211778151,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:1:1:1]","description":"gets a success code","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when company is non-UK behaves like a successful response gets a success code","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":16,"run_time":0.149085753,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:2:3]","description":"returns a empty `personal_liabilities` array","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are no returns returns a empty `personal_liabilities` array","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":92,"run_time":0.134114334,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:2:1:1]","description":"gets a success code","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are no returns behaves like a successful response gets a success code","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":16,"run_time":0.125131933,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:2:2:1]","description":"logs the correct company type and item count","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are no returns behaves like logs correct item count logs the correct company type and item count","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":57,"run_time":0.137011757,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:1:3]","description":"returns only the current_users returns","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when a user level token is used returns only the current_users returns","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":148,"run_time":0.190258101,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:1:1:1]","description":"gets a success code","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when a user level token is used behaves like a successful response gets a success code","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":16,"run_time":0.182825537,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:1:2:1]","description":"logs the correct company type and item count","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when a user level token is used behaves like logs correct item count logs the correct company type and item count","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":57,"run_time":0.202882978,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:2:3]","description":"returns all users returns","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when a company level token is used returns all users returns","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":187,"run_time":0.184232597,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:2:1:1]","description":"gets a success code","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when a company level token is used behaves like a successful response gets a success code","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":16,"run_time":0.209424639,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:2:2:1]","description":"logs the correct company type and item count","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when a company level token is used behaves like logs correct item count logs the correct company type and item count","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":57,"run_time":0.264630596,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:3:3]","description":"only returns items with a future dated deadline","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when the returns are old only returns items with a future dated deadline","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":209,"run_time":0.181428702,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:3:1:1]","description":"gets a success code","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when the returns are old behaves like a successful response gets a success code","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":16,"run_time":0.177021367,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:3:2:1]","description":"logs the correct company type and item count","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when the returns are old behaves like logs correct item count logs the correct company type and item count","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":57,"run_time":0.203587671,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:4:2]","description":"returns a `personal_liabilities` array with 0 items","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when the returns are placeholder returns returns a `personal_liabilities` array with 0 items","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":222,"run_time":0.151945688,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:4:1:1]","description":"gets a success code","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when the returns are placeholder returns behaves like a successful response gets a success code","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":16,"run_time":0.15230386,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:5:5]","description":"returns a `personal_liabilities` array with 4 items","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when the returns are version 1 returns a `personal_liabilities` array with 4 items","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":242,"run_time":0.22859389,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:5:1:1]","description":"gets a success code","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when the returns are version 1 behaves like a successful response gets a success code","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":16,"run_time":0.208234166,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:5:2:1]","description":"logs the correct company type and item count","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when the returns are version 1 behaves like logs correct item count logs the correct company type and item count","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":57,"run_time":0.224367993,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:5:3:1]","description":"contains the correct `view_in_freeagent_url`s","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when the returns are version 1 behaves like contains view_in_freeagent_urls contains the correct `view_in_freeagent_url`s","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":24,"run_time":0.214370647,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:5:4:1]","description":"contains the correct `url`","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when the returns are version 1 behaves like contains urls for self-assessment return contains the correct `url`","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":37,"run_time":0.22765061,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:6:5]","description":"returns a `personal_liabilities` array with 4 items","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when the returns are version 2 returns a `personal_liabilities` array with 4 items","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":262,"run_time":0.203377818,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:6:1:1]","description":"gets a success code","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when the returns are version 2 behaves like a successful response gets a success code","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":16,"run_time":0.173435116,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:6:2:1]","description":"logs the correct company type and item count","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when the returns are version 2 behaves like logs correct item count logs the correct company type and item count","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":57,"run_time":0.170449985,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:6:3:1]","description":"contains the correct `view_in_freeagent_url`s","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when the returns are version 2 behaves like contains view_in_freeagent_urls contains the correct `view_in_freeagent_url`s","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":24,"run_time":0.183013032,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:6:4:1]","description":"contains the correct `url`","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when the returns are version 2 behaves like contains urls for self-assessment return contains the correct `url`","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":37,"run_time":0.193061079,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:7:1:5]","description":"returns a `personal_liabilities` array with 8 items","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when the returns are version 3 with payments on account returns a `personal_liabilities` array with 8 items","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":300,"run_time":0.465445615,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:7:1:1:1]","description":"gets a success code","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when the returns are version 3 with payments on account behaves like a successful response gets a success code","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":16,"run_time":0.386100027,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:7:1:2:1]","description":"logs the correct company type and item count","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when the returns are version 3 with payments on account behaves like logs correct item count logs the correct company type and item count","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":57,"run_time":0.388868909,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:7:1:3:1]","description":"contains the correct `view_in_freeagent_url`s","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when the returns are version 3 with payments on account behaves like contains view_in_freeagent_urls contains the correct `view_in_freeagent_url`s","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":24,"run_time":0.384741362,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:7:1:4:1]","description":"contains the correct `url`","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when the returns are version 3 with payments on account behaves like contains urls for self-assessment return contains the correct `url`","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":37,"run_time":0.357526617,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:7:2:4]","description":"returns a `personal_liabilities` array with 4 items","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when the returns are version 3 without payments on account returns a `personal_liabilities` array with 4 items","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":319,"run_time":0.380239672,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:7:2:1:1]","description":"gets a success code","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when the returns are version 3 without payments on account behaves like a successful response gets a success code","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":16,"run_time":0.477540248,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:7:2:2:1]","description":"logs the correct company type and item count","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when the returns are version 3 without payments on account behaves like logs correct item count logs the correct company type and item count","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":57,"run_time":0.424138961,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:7:2:3:1]","description":"contains the correct `view_in_freeagent_url`s","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when the returns are version 3 without payments on account behaves like contains view_in_freeagent_urls contains the correct `view_in_freeagent_url`s","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":24,"run_time":0.408937228,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:8:3]","description":"contains the correct `view_in_freeagent_url`s","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when the returns are MTDITSA contains the correct `view_in_freeagent_url`s","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":341,"run_time":0.23865029,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:8:4]","description":"contains the correct `url`","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when the returns are MTDITSA contains the correct `url`","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":352,"run_time":0.186520206,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:8:5]","description":"returns a `personal_liabilities` array with 6 items","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when the returns are MTDITSA returns a `personal_liabilities` array with 6 items","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":374,"run_time":0.190160176,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:8:1:1]","description":"gets a success code","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when the returns are MTDITSA behaves like a successful response gets a success code","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":16,"run_time":0.193108511,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:1:3:8:2:1]","description":"logs the correct company type and item count","full_description":"Api::Tax::PersonalLiabilitiesController GET #index when there are returns when the returns are MTDITSA behaves like logs correct item count logs the correct company type and item count","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":57,"run_time":0.20078522,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:2:1:1]","description":"returns 404","full_description":"Api::Tax::PersonalLiabilitiesController GET #show when the Self Assessment Return can't be found returns 404","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":392,"run_time":0.151315853,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:2:2:1]","description":"returns 404","full_description":"Api::Tax::PersonalLiabilitiesController GET #show when the personal_liability can't be found returns 404","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":400,"run_time":0.304104999,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:2:3:1]","description":"retuns 200","full_description":"Api::Tax::PersonalLiabilitiesController GET #show when we can find the personal_liability retuns 200","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":408,"run_time":0.716320077,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:2:3:2:1]","description":"retuns the expected information","full_description":"Api::Tax::PersonalLiabilitiesController GET #show when we can find the personal_liability for balancing_payment retuns the expected information","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":418,"run_time":0.401917388,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:2:3:3:1]","description":"retuns the expected information","full_description":"Api::Tax::PersonalLiabilitiesController GET #show when we can find the personal_liability for return_reminder retuns the expected information","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":427,"run_time":0.238744666,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:2:3:4:1]","description":"retuns the expected information","full_description":"Api::Tax::PersonalLiabilitiesController GET #show when we can find the personal_liability for first_payment_on_account retuns the expected information","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":447,"run_time":0.235887112,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:2:3:5:1]","description":"retuns the expected information","full_description":"Api::Tax::PersonalLiabilitiesController GET #show when we can find the personal_liability for second_payment_on_account retuns the expected information","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":467,"run_time":0.2107114,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:2:3:6:1]","description":"retuns the expected information","full_description":"Api::Tax::PersonalLiabilitiesController GET #show when we can find the personal_liability for total_tax_payment retuns the expected information","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":481,"run_time":0.168046603,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:2:3:7:1]","description":"retuns the expected information","full_description":"Api::Tax::PersonalLiabilitiesController GET #show when we can find the personal_liability for first_quarterly_filing retuns the expected information","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":500,"run_time":0.165040126,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:2:3:8:1]","description":"retuns the expected information","full_description":"Api::Tax::PersonalLiabilitiesController GET #show when we can find the personal_liability for second_quarterly_filing retuns the expected information","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":517,"run_time":0.163600318,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:2:3:9:1]","description":"retuns the expected information","full_description":"Api::Tax::PersonalLiabilitiesController GET #show when we can find the personal_liability for third_quarterly_filing retuns the expected information","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":534,"run_time":0.169377531,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:2:3:10:1]","description":"retuns the expected information","full_description":"Api::Tax::PersonalLiabilitiesController GET #show when we can find the personal_liability for fourth_quarterly_filing retuns the expected information","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":551,"run_time":0.171194019,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:2:3:11:1]","description":"retuns the expected information","full_description":"Api::Tax::PersonalLiabilitiesController GET #show when we can find the personal_liability for eops retuns the expected information","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":568,"run_time":0.183375354,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb[1:2:3:12:1]","description":"retuns the expected information","full_description":"Api::Tax::PersonalLiabilitiesController GET #show when we can find the personal_liability for final retuns the expected information","status":"passed","file_path":"./spec/requests/api/tax/personal_liabilities_controller_spec.rb","line_number":585,"run_time":0.155094998,"pending_message":null,"screenshot":null},{"id":"./spec/models/alert_rule_spec.rb[1:1]","description":"Updating a rule's parameters","full_description":"AlertRule Updating a rule's parameters","status":"passed","file_path":"./spec/models/alert_rule_spec.rb","line_number":39,"run_time":0.078460538,"pending_message":null,"screenshot":null},{"id":"./spec/models/alert_rule_spec.rb[1:2]","description":"Saving a rule without changing its parameters","full_description":"AlertRule Saving a rule without changing its parameters","status":"passed","file_path":"./spec/models/alert_rule_spec.rb","line_number":55,"run_time":0.055063504,"pending_message":null,"screenshot":null},{"id":"./spec/models/alert_rule_spec.rb[1:3:1]","description":"only includes active and demo practice managed companies, and free trial and active linked companies","full_description":"AlertRule#companies only includes active and demo practice managed companies, and free trial and active linked companies","status":"passed","file_path":"./spec/models/alert_rule_spec.rb","line_number":92,"run_time":1.120756463,"pending_message":null,"screenshot":null},{"id":"./spec/models/alert_rule_spec.rb[1:4:1]","description":"resolves to classes","full_description":"AlertRule.types resolves to classes","status":"passed","file_path":"./spec/models/alert_rule_spec.rb","line_number":98,"run_time":0.049136263,"pending_message":null,"screenshot":null},{"id":"./spec/models/alert_rule_spec.rb[1:5:1]","description":"unhides the alert if value changes","full_description":"AlertRule with a previously dismissed alert unhides the alert if value changes","status":"passed","file_path":"./spec/models/alert_rule_spec.rb","line_number":119,"run_time":0.197426362,"pending_message":null,"screenshot":null},{"id":"./spec/models/alert_rule_spec.rb[1:6:1]","description":"limits the number of notifications to 1000","full_description":"AlertRule notification limit limits the number of notifications to 1000","status":"passed","file_path":"./spec/models/alert_rule_spec.rb","line_number":156,"run_time":2.881809304,"pending_message":null,"screenshot":null},{"id":"./spec/models/alert_rule_spec.rb[1:7:1]","description":"retrieves alert rules for practices that had users log in recently","full_description":"AlertRule.from_practices_with_recent_activity retrieves alert rules for practices that had users log in recently","status":"passed","file_path":"./spec/models/alert_rule_spec.rb","line_number":176,"run_time":0.124447397,"pending_message":null,"screenshot":null},{"id":"./spec/models/alert_rule_spec.rb[1:8:1]","description":"creates some Notifications where appropriate","full_description":"AlertRule#run creates some Notifications where appropriate","status":"passed","file_path":"./spec/models/alert_rule_spec.rb","line_number":200,"run_time":0.181758354,"pending_message":null,"screenshot":null},{"id":"./spec/models/alert_rule_spec.rb[1:8:2:1]","description":"removes the stale Notification as it no longer points at anything","full_description":"AlertRule#run source is deleted during slow alert rule run removes the stale Notification as it no longer points at anything","status":"passed","file_path":"./spec/models/alert_rule_spec.rb","line_number":216,"run_time":0.175078052,"pending_message":null,"screenshot":null},{"id":"./spec/models/alert_rule_spec.rb[1:8:3:1]","description":"still calls the cleanup method","full_description":"AlertRule#run when the Notifications limit is reached still calls the cleanup method","status":"passed","file_path":"./spec/models/alert_rule_spec.rb","line_number":232,"run_time":0.172339481,"pending_message":null,"screenshot":null},{"id":"./spec/models/alert_rule_spec.rb[1:8:4:1]","description":"calls the cleanup method once","full_description":"AlertRule#run when the Notifications limit is not reached calls the cleanup method once","status":"passed","file_path":"./spec/models/alert_rule_spec.rb","line_number":250,"run_time":0.185965993,"pending_message":null,"screenshot":null},{"id":"./spec/models/alert_rule_spec.rb[1:9:1]","description":"removes any stale notifications for the AlertRule","full_description":"AlertRule#remove_stale_notifications removes any stale notifications for the AlertRule","status":"passed","file_path":"./spec/models/alert_rule_spec.rb","line_number":274,"run_time":0.351602971,"pending_message":null,"screenshot":null},{"id":"./spec/models/alert_rule_spec.rb[1:10:1]","description":"provides a code as an identifier for all types","full_description":"AlertRule.code provides a code as an identifier for all types","status":"passed","file_path":"./spec/models/alert_rule_spec.rb","line_number":291,"run_time":0.042110934,"pending_message":null,"screenshot":null},{"id":"./spec/models/alert_rule_spec.rb[1:10:2]","description":"provides rules with unique codes","full_description":"AlertRule.code provides rules with unique codes","status":"passed","file_path":"./spec/models/alert_rule_spec.rb","line_number":297,"run_time":0.045324264,"pending_message":null,"screenshot":null},{"id":"./spec/models/alert_rule_spec.rb[1:11:1]","description":"returns record set","full_description":"AlertRule.rules_with_notification_count returns record set","status":"passed","file_path":"./spec/models/alert_rule_spec.rb","line_number":314,"run_time":0.059782126,"pending_message":null,"screenshot":null},{"id":"./spec/models/alert_rule_spec.rb[1:11:2:1]","description":"has empty record set","full_description":"AlertRule.rules_with_notification_count when no alert rules have been created has empty record set","status":"passed","file_path":"./spec/models/alert_rule_spec.rb","line_number":321,"run_time":0.095531927,"pending_message":null,"screenshot":null},{"id":"./spec/models/alert_rule_spec.rb[1:12:1]","description":"queues the different sets throughout the day","full_description":"AlertRule.queue_for_practices_with_recent_activity queues the different sets throughout the day","status":"passed","file_path":"./spec/models/alert_rule_spec.rb","line_number":335,"run_time":0.053349566,"pending_message":null,"screenshot":null},{"id":"./spec/models/alert_rule_spec.rb[1:13:1:1]","description":"queues only hourly jobs","full_description":"AlertRule queueing job sets for times of day .queue_hourly_rules_for_practices_with_recent_activity queues only hourly jobs","status":"passed","file_path":"./spec/models/alert_rule_spec.rb","line_number":374,"run_time":0.234967165,"pending_message":null,"screenshot":null},{"id":"./spec/models/alert_rule_spec.rb[1:13:2:1]","description":"queues a prune stale notifications job every hour for each of the daily jobs","full_description":"AlertRule queueing job sets for times of day .queue_hourly_prune_stale_notifications_for_daily_rules queues a prune stale notifications job every hour for each of the daily jobs","status":"passed","file_path":"./spec/models/alert_rule_spec.rb","line_number":382,"run_time":0.220437527,"pending_message":null,"screenshot":null},{"id":"./spec/models/alert_rule_spec.rb[1:13:3:1]","description":"queues all jobs","full_description":"AlertRule queueing job sets for times of day .queue_all_for_practices_with_recent_activity queues all jobs","status":"passed","file_path":"./spec/models/alert_rule_spec.rb","line_number":390,"run_time":0.214741923,"pending_message":null,"screenshot":null},{"id":"./spec/features/ltd_company_year_ends_navigation_spec.rb[1:2:4:2:1]","description":"can see all year ends pages","full_description":"Limited company year end navigation with a practice managed company for a practice manager with an annual accounting period matching the calendar year can see all year ends pages","status":"passed","file_path":"./spec/features/ltd_company_year_ends_navigation_spec.rb","line_number":138,"run_time":5.341512768,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb[1:1:1]","description":"requires items param","full_description":"Api::Banking::BulkExplanationsController incomplete requests requires items param","status":"passed","file_path":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb","line_number":54,"run_time":0.189939994,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb[1:1:2]","description":"requires explanation_items param not to be empty","full_description":"Api::Banking::BulkExplanationsController incomplete requests requires explanation_items param not to be empty","status":"passed","file_path":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb","line_number":59,"run_time":0.187092225,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb[1:1:3]","description":"requires explanation_params param","full_description":"Api::Banking::BulkExplanationsController incomplete requests requires explanation_params param","status":"passed","file_path":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb","line_number":64,"run_time":0.196882399,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb[1:1:4]","description":"requires explanation_params param not to be empty","full_description":"Api::Banking::BulkExplanationsController incomplete requests requires explanation_params param not to be empty","status":"passed","file_path":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb","line_number":69,"run_time":0.193457242,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb[1:1:5]","description":"allowlists explanation_params","full_description":"Api::Banking::BulkExplanationsController incomplete requests allowlists explanation_params","status":"passed","file_path":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb","line_number":74,"run_time":0.231066071,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb[1:1:6]","description":"ignores explanation items without a transaction id","full_description":"Api::Banking::BulkExplanationsController incomplete requests ignores explanation items without a transaction id","status":"passed","file_path":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb","line_number":84,"run_time":0.195085436,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb[1:2:1]","description":"is successful","full_description":"Api::Banking::BulkExplanationsController successful request is successful","status":"passed","file_path":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb","line_number":100,"run_time":0.241084962,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb[1:2:2]","description":"returns the bulk operation id","full_description":"Api::Banking::BulkExplanationsController successful request returns the bulk operation id","status":"passed","file_path":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb","line_number":104,"run_time":0.218135462,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb[1:2:3]","description":"created the correct operation","full_description":"Api::Banking::BulkExplanationsController successful request created the correct operation","status":"passed","file_path":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb","line_number":108,"run_time":0.239737178,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb[1:2:4]","description":"scheduled explanation for unexplained transaction","full_description":"Api::Banking::BulkExplanationsController successful request scheduled explanation for unexplained transaction","status":"passed","file_path":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb","line_number":113,"run_time":0.248163181,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb[1:2:5:1]","description":"is successful","full_description":"Api::Banking::BulkExplanationsController successful request with `paid_user` included in the params is successful","status":"passed","file_path":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb","line_number":125,"run_time":0.256794184,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb[1:2:5:2]","description":"created the correct operation","full_description":"Api::Banking::BulkExplanationsController successful request with `paid_user` included in the params created the correct operation","status":"passed","file_path":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb","line_number":129,"run_time":0.233389036,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb[1:2:5:3]","description":"scheduled explanation for unexplained transaction","full_description":"Api::Banking::BulkExplanationsController successful request with `paid_user` included in the params scheduled explanation for unexplained transaction","status":"passed","file_path":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb","line_number":134,"run_time":0.241678518,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb[1:2:5:4]","description":"schedules the operation with `paid_user_id` included in the params","full_description":"Api::Banking::BulkExplanationsController successful request with `paid_user` included in the params schedules the operation with `paid_user_id` included in the params","status":"passed","file_path":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb","line_number":138,"run_time":0.288885695,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb[1:2:6:1]","description":"is successful","full_description":"Api::Banking::BulkExplanationsController successful request with `transfer_bank_account` included in the request is successful","status":"passed","file_path":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb","line_number":159,"run_time":0.248891564,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb[1:2:6:2]","description":"created the correct operation","full_description":"Api::Banking::BulkExplanationsController successful request with `transfer_bank_account` included in the request created the correct operation","status":"passed","file_path":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb","line_number":163,"run_time":0.238785332,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb[1:2:6:3]","description":"scheduled explanation for unexplained transaction","full_description":"Api::Banking::BulkExplanationsController successful request with `transfer_bank_account` included in the request scheduled explanation for unexplained transaction","status":"passed","file_path":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb","line_number":168,"run_time":0.234348867,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb[1:2:6:4]","description":"schedules the operation with `transfer_bank_account` included in the params","full_description":"Api::Banking::BulkExplanationsController successful request with `transfer_bank_account` included in the request schedules the operation with `transfer_bank_account` included in the params","status":"passed","file_path":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb","line_number":172,"run_time":0.272681523,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb[1:2:7:1]","description":"is successful","full_description":"Api::Banking::BulkExplanationsController successful request when explanation includes a property is successful","status":"passed","file_path":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb","line_number":190,"run_time":0.22752699,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb[1:2:7:2]","description":"creates the correct operation","full_description":"Api::Banking::BulkExplanationsController successful request when explanation includes a property creates the correct operation","status":"passed","file_path":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb","line_number":194,"run_time":0.229465247,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb[1:2:7:3]","description":"schedules explanation jobs","full_description":"Api::Banking::BulkExplanationsController successful request when explanation includes a property schedules explanation jobs","status":"passed","file_path":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb","line_number":199,"run_time":0.209399598,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb[1:2:7:4]","description":"includes property in the params of the scheduled job","full_description":"Api::Banking::BulkExplanationsController successful request when explanation includes a property includes property in the params of the scheduled job","status":"passed","file_path":"./spec/controllers/api/banking/bulk_explanations_controller_spec.rb","line_number":203,"run_time":0.255701499,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:1:1:1]","description":"assigns the NatWest reseller","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a uk-type company with a NatWest bank account assigns the NatWest reseller","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":57,"run_time":0.155922998,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:1:1:2:1]","description":"migrates to the RBSG channel","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a uk-type company with a NatWest bank account behaves like a migratable eligible company migrates to the RBSG channel","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":7,"run_time":0.147299153,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:1:1:2:2]","description":"creates an Rbsg::Profile","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a uk-type company with a NatWest bank account behaves like a migratable eligible company creates an Rbsg::Profile","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":13,"run_time":0.157280305,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:1:1:2:3]","description":"creates an Rbsg::Signup","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a uk-type company with a NatWest bank account behaves like a migratable eligible company creates an Rbsg::Signup","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":19,"run_time":0.149254647,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:1:1:2:4:1]","description":"updates the RbsgSignup","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a uk-type company with a NatWest bank account behaves like a migratable eligible company with an existing RbsgSignup updates the RbsgSignup","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":28,"run_time":0.151227623,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:1:1:3:1]","description":"raises a MigrationError","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a uk-type company with a NatWest bank account that has an unacceptable account number raises a MigrationError","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":70,"run_time":0.124891986,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:1:2:1]","description":"assigns the RBS reseller","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a uk-type company with an RBS bank account assigns the RBS reseller","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":80,"run_time":0.1230774,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:1:2:2:1]","description":"migrates to the RBSG channel","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a uk-type company with an RBS bank account behaves like a migratable eligible company migrates to the RBSG channel","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":7,"run_time":0.130781224,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:1:2:2:2]","description":"creates an Rbsg::Profile","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a uk-type company with an RBS bank account behaves like a migratable eligible company creates an Rbsg::Profile","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":13,"run_time":0.133791291,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:1:2:2:3]","description":"creates an Rbsg::Signup","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a uk-type company with an RBS bank account behaves like a migratable eligible company creates an Rbsg::Signup","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":19,"run_time":0.178888107,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:1:2:2:4:1]","description":"updates the RbsgSignup","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a uk-type company with an RBS bank account behaves like a migratable eligible company with an existing RbsgSignup updates the RbsgSignup","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":28,"run_time":0.13572341,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:1:2:3:1]","description":"assigns the reseller associated with the first eligible account","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a uk-type company with an RBS bank account and a NatWest bank account assigns the reseller associated with the first eligible account","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":92,"run_time":0.166467456,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:1:3:1]","description":"is not allowed as Mettle shares a sort code with other challenger banks","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a uk-type company with a Mettle bank account is not allowed as Mettle shares a sort code with other challenger banks","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":103,"run_time":0.104426811,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:1:4:1]","description":"assigns the Mettle reseller","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a uk-type company with a Mettle bank feed assigns the Mettle reseller","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":115,"run_time":0.18950586,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:1:4:2:1]","description":"migrates to the RBSG channel","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a uk-type company with a Mettle bank feed behaves like a migratable eligible company migrates to the RBSG channel","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":7,"run_time":0.176833399,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:1:4:2:2]","description":"creates an Rbsg::Profile","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a uk-type company with a Mettle bank feed behaves like a migratable eligible company creates an Rbsg::Profile","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":13,"run_time":0.189228896,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:1:4:2:3]","description":"creates an Rbsg::Signup","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a uk-type company with a Mettle bank feed behaves like a migratable eligible company creates an Rbsg::Signup","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":19,"run_time":0.186524226,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:1:4:2:4:1]","description":"updates the RbsgSignup","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a uk-type company with a Mettle bank feed behaves like a migratable eligible company with an existing RbsgSignup updates the RbsgSignup","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":28,"run_time":0.182188459,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:1:5:1]","description":"assigns the Ulster reseller","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a uk-type company with an Ulster Bank bank account assigns the Ulster reseller","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":127,"run_time":0.150345675,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:2:1:1:1]","description":"migrates to the RBSG channel","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a universal-type company with a natwest bank account behaves like a migratable eligible company migrates to the RBSG channel","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":7,"run_time":0.138743739,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:2:1:1:2]","description":"creates an Rbsg::Profile","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a universal-type company with a natwest bank account behaves like a migratable eligible company creates an Rbsg::Profile","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":13,"run_time":0.127415902,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:2:1:1:3]","description":"creates an Rbsg::Signup","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a universal-type company with a natwest bank account behaves like a migratable eligible company creates an Rbsg::Signup","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":19,"run_time":0.140289548,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:2:1:1:4:1]","description":"updates the RbsgSignup","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a universal-type company with a natwest bank account behaves like a migratable eligible company with an existing RbsgSignup updates the RbsgSignup","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":28,"run_time":0.126814076,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:2:2:1]","description":"is not allowed as Mettle shares a sort code with other challenger banks","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a universal-type company with a mettle bank account is not allowed as Mettle shares a sort code with other challenger banks","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":145,"run_time":0.118089183,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:2:3:1]","description":"is not allowed as Mettle shares a sort code with other challenger banks","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a universal-type company with a Mettle bank feed is not allowed as Mettle shares a sort code with other challenger banks","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":157,"run_time":0.136745471,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:3:1]","description":"is not allowed","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with an otherwise-eligible us company is not allowed","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":168,"run_time":0.149307224,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:4:1]","description":"destroys the billing profile","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! for an actively billed subscriber destroys the billing profile","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":179,"run_time":0.173552928,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:5:1]","description":"is not cancelled after migration","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a CoPilot introduction is not cancelled after migration","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":189,"run_time":0.319559899,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:6:1]","description":"is still present after migration","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a CoPilot addon is still present after migration","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":201,"run_time":0.30571174,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:7:1:1]","description":"removes the saved commercial preference","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a saved commercial preference setting uk limited company removes the saved commercial preference","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":216,"run_time":0.152704945,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:7:1:2]","description":"opts in commercial consent by default","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a saved commercial preference setting uk limited company opts in commercial consent by default","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":224,"run_time":0.188119303,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:7:2:1]","description":"removes the saved commercial preference","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a saved commercial preference setting uk limited liability partnership removes the saved commercial preference","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":234,"run_time":0.198799482,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:7:2:2]","description":"opts in commercial consent by default","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a saved commercial preference setting uk limited liability partnership opts in commercial consent by default","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":242,"run_time":0.143652534,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:7:3:1]","description":"does not remove the saved commercial preference","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a saved commercial preference setting uk sole trader does not remove the saved commercial preference","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":252,"run_time":0.168141571,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:7:3:2]","description":"honours the user's saved commercial consent preference","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a saved commercial preference setting uk sole trader honours the user's saved commercial consent preference","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":260,"run_time":0.152937626,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:7:4:1]","description":"does not remove the saved commercial consent preference","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a saved commercial preference setting uk partnership does not remove the saved commercial consent preference","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":271,"run_time":0.183098452,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:7:4:2]","description":"honours the user's saved commercial preference","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a saved commercial preference setting uk partnership honours the user's saved commercial preference","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":279,"run_time":0.160920296,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:7:5:1]","description":"removes the saved commercial preference","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a saved commercial preference setting universal company type removes the saved commercial preference","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":290,"run_time":0.136481009,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:7:5:2]","description":"opts out of commercial consent by default","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a saved commercial preference setting universal company type opts out of commercial consent by default","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":298,"run_time":0.132030579,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb[1:1:7:6:1]","description":"cannot be migrated, and is opted out of commercial consent by default","full_description":"SubscriptionMigrations::DirectToRbsgMigration#migrate! with a saved commercial preference setting us company type cannot be migrated, and is opted out of commercial consent by default","status":"passed","file_path":"./spec/models/subscription_migrations/direct_to_rbsg_migration_spec.rb","line_number":307,"run_time":0.128412059,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/approve_explanation_job_spec.rb[1:1:1:1]","description":"when the job is performed, it has access to the restored Current context","full_description":"Banking::ApproveExplanationJob behaves like ActiveJobWithCurrent #perform when the job is performed, it has access to the restored Current context","status":"passed","file_path":"./engines/jobs/spec/support/shared_examples/active_job_with_current_shared_example.rb","line_number":22,"run_time":0.256890312,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/approve_explanation_job_spec.rb[1:2:1]","description":"updates marked_for_review to false","full_description":"Banking::ApproveExplanationJob#perform updates marked_for_review to false","status":"passed","file_path":"./spec/jobs/banking/approve_explanation_job_spec.rb","line_number":35,"run_time":0.323809814,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/approve_explanation_job_spec.rb[1:2:2]","description":"marks the :explain_transaction Flying Start task as completed","full_description":"Banking::ApproveExplanationJob#perform marks the :explain_transaction Flying Start task as completed","status":"passed","file_path":"./spec/jobs/banking/approve_explanation_job_spec.rb","line_number":40,"run_time":0.298361213,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/approve_explanation_job_spec.rb[1:2:4]","description":"tracks engagement tracking events","full_description":"Banking::ApproveExplanationJob#perform tracks engagement tracking events","status":"passed","file_path":"./spec/jobs/banking/approve_explanation_job_spec.rb","line_number":87,"run_time":0.34184353,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/approve_explanation_job_spec.rb[1:2:5]","description":"doesn't publish the 'bank transaction explanation created' event","full_description":"Banking::ApproveExplanationJob#perform doesn't publish the 'bank transaction explanation created' event","status":"passed","file_path":"./spec/jobs/banking/approve_explanation_job_spec.rb","line_number":102,"run_time":0.297980484,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/approve_explanation_job_spec.rb[1:2:6]","description":"creates an audit entry","full_description":"Banking::ApproveExplanationJob#perform creates an audit entry","status":"passed","file_path":"./spec/jobs/banking/approve_explanation_job_spec.rb","line_number":106,"run_time":0.295473207,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/approve_explanation_job_spec.rb[1:2:7]","description":"re-raises exceptions","full_description":"Banking::ApproveExplanationJob#perform re-raises exceptions","status":"passed","file_path":"./spec/jobs/banking/approve_explanation_job_spec.rb","line_number":117,"run_time":0.227419417,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/approve_explanation_job_spec.rb[1:2:3:1]","description":"attaches the matched receipt","full_description":"Banking::ApproveExplanationJob#perform matched receipt is present attaches the matched receipt","status":"passed","file_path":"./spec/jobs/banking/approve_explanation_job_spec.rb","line_number":51,"run_time":0.401023067,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/approve_explanation_job_spec.rb[1:2:3:2:1]","description":"doesn't replace the attachment","full_description":"Banking::ApproveExplanationJob#perform matched receipt is present explanation already has an attachment doesn't replace the attachment","status":"passed","file_path":"./spec/jobs/banking/approve_explanation_job_spec.rb","line_number":69,"run_time":0.360852077,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/approve_explanation_job_spec.rb[1:2:8:1]","description":"completes doing nothing","full_description":"Banking::ApproveExplanationJob#perform the explanation no longer exists completes doing nothing","status":"passed","file_path":"./spec/jobs/banking/approve_explanation_job_spec.rb","line_number":126,"run_time":0.210897427,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/banking/approve_explanation_job_spec.rb[1:2:9:1]","description":"creates an audit entry where the admin user is the actor","full_description":"Banking::ApproveExplanationJob#perform when a support admin user created the job creates an audit entry where the admin user is the actor","status":"passed","file_path":"./spec/jobs/banking/approve_explanation_job_spec.rb","line_number":140,"run_time":0.347686953,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/requiring_revaluation_spec.rb[1:1:1]","description":"returns only bill that require revaluation","full_description":"Bill when fetching bills that require revaluation returns only bill that require revaluation","status":"passed","file_path":"./spec/models/bills/requiring_revaluation_spec.rb","line_number":142,"run_time":3.718024165,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/corporation_tax/apportionment/short_period.feature[1:1:1]","description":"Given a UK Limited Company which was started on 2020-06-01 -\u003e And its first accounting year ends on 2021-01-31 -\u003e And the current date is 2021-03-31 -\u003e Then the company should have corporation tax return periods for -\u003e Given the company has the following invoices: -\u003e And the company has the following bills: -\u003e Then the company should have a corporation tax liability as follows","full_description":"Corporation tax: Short period, no apportionment all transactions appear in first period Given a UK Limited Company which was started on 2020-06-01 -\u003e And its first accounting year ends on 2021-01-31 -\u003e And the current date is 2021-03-31 -\u003e Then the company should have corporation tax return periods for -\u003e Given the company has the following invoices: -\u003e And the company has the following bills: -\u003e Then the company should have a corporation tax liability as follows","status":"passed","file_path":"./spec/acceptance/corporation_tax/apportionment/short_period.feature","line_number":12,"run_time":0.732171474,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/corporation_tax/apportionment/short_period.feature[1:2:1]","description":"Given a UK Limited Company which was started on 2020-06-01 -\u003e And its first accounting year ends on 2021-01-31 -\u003e And the current date is 2021-03-31 -\u003e Then the company should have corporation tax return periods for -\u003e Given the company has the following invoices: -\u003e And the company has the following bills: -\u003e Then the company should have a corporation tax liability as follows","full_description":"Corporation tax: Short period, no apportionment all transactions appear in second period Given a UK Limited Company which was started on 2020-06-01 -\u003e And its first accounting year ends on 2021-01-31 -\u003e And the current date is 2021-03-31 -\u003e Then the company should have corporation tax return periods for -\u003e Given the company has the following invoices: -\u003e And the company has the following bills: -\u003e Then the company should have a corporation tax liability as follows","status":"passed","file_path":"./spec/acceptance/corporation_tax/apportionment/short_period.feature","line_number":24,"run_time":0.706768789,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/corporation_tax/apportionment/short_period.feature[1:3:1]","description":"Given a UK Limited Company which was started on 2020-06-01 -\u003e And its first accounting year ends on 2021-01-31 -\u003e And the current date is 2021-03-31 -\u003e Then the company should have corporation tax return periods for -\u003e Given the company has the following invoices: -\u003e And the company has the following bills: -\u003e Then the company should have a corporation tax liability as follows","full_description":"Corporation tax: Short period, no apportionment transactions are split between periods, profit in first period Given a UK Limited Company which was started on 2020-06-01 -\u003e And its first accounting year ends on 2021-01-31 -\u003e And the current date is 2021-03-31 -\u003e Then the company should have corporation tax return periods for -\u003e Given the company has the following invoices: -\u003e And the company has the following bills: -\u003e Then the company should have a corporation tax liability as follows","status":"passed","file_path":"./spec/acceptance/corporation_tax/apportionment/short_period.feature","line_number":36,"run_time":0.777081088,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/corporation_tax/apportionment/short_period.feature[1:4:1]","description":"Given a UK Limited Company which was started on 2020-06-01 -\u003e And its first accounting year ends on 2021-01-31 -\u003e And the current date is 2021-03-31 -\u003e Then the company should have corporation tax return periods for -\u003e Given the company has the following invoices: -\u003e And the company has the following bills: -\u003e Then the company should have a corporation tax liability as follows","full_description":"Corporation tax: Short period, no apportionment transactions are split between periods, loss carried forward Given a UK Limited Company which was started on 2020-06-01 -\u003e And its first accounting year ends on 2021-01-31 -\u003e And the current date is 2021-03-31 -\u003e Then the company should have corporation tax return periods for -\u003e Given the company has the following invoices: -\u003e And the company has the following bills: -\u003e Then the company should have a corporation tax liability as follows","status":"passed","file_path":"./spec/acceptance/corporation_tax/apportionment/short_period.feature","line_number":48,"run_time":0.736614758,"pending_message":null,"screenshot":null},{"id":"./spec/views/self_assessment/page_presenter_spec.rb[1:1:1:1]","description":"renders a span with no message","full_description":"SelfAssessment::PagePresenter given a self_assessment_return with a page #section_status renders a span with no message","status":"passed","file_path":"./spec/views/self_assessment/page_presenter_spec.rb","line_number":27,"run_time":0.172051181,"pending_message":null,"screenshot":null},{"id":"./spec/views/self_assessment/page_presenter_spec.rb[1:1:1:2]","description":"renders a span with incomplete message","full_description":"SelfAssessment::PagePresenter given a self_assessment_return with a page #section_status renders a span with incomplete message","status":"passed","file_path":"./spec/views/self_assessment/page_presenter_spec.rb","line_number":31,"run_time":0.159359029,"pending_message":null,"screenshot":null},{"id":"./spec/views/self_assessment/page_presenter_spec.rb[1:1:2:1]","description":"renders the box with appropriate options","full_description":"SelfAssessment::PagePresenter given a self_assessment_return with a page #input_box renders the box with appropriate options","status":"passed","file_path":"./spec/views/self_assessment/page_presenter_spec.rb","line_number":39,"run_time":0.142083567,"pending_message":null,"screenshot":null},{"id":"./spec/views/self_assessment/page_presenter_spec.rb[1:1:2:2:1]","description":"renders as an injected field","full_description":"SelfAssessment::PagePresenter given a self_assessment_return with a page #input_box in a filed state renders as an injected field","status":"passed","file_path":"./spec/views/self_assessment/page_presenter_spec.rb","line_number":47,"run_time":0.1628022,"pending_message":null,"screenshot":null},{"id":"./spec/views/self_assessment/page_presenter_spec.rb[1:1:3:1]","description":"renders box with appropriate options","full_description":"SelfAssessment::PagePresenter given a self_assessment_return with a page #textarea_box renders box with appropriate options","status":"passed","file_path":"./spec/views/self_assessment/page_presenter_spec.rb","line_number":61,"run_time":0.152460612,"pending_message":null,"screenshot":null},{"id":"./spec/views/self_assessment/page_presenter_spec.rb[1:1:3:2:1]","description":"is rendered as an injected field","full_description":"SelfAssessment::PagePresenter given a self_assessment_return with a page #textarea_box in a filed state is rendered as an injected field","status":"passed","file_path":"./spec/views/self_assessment/page_presenter_spec.rb","line_number":69,"run_time":0.136100236,"pending_message":null,"screenshot":null},{"id":"./spec/views/self_assessment/page_presenter_spec.rb[1:1:4:1:1]","description":"renders the value in currency","full_description":"SelfAssessment::PagePresenter given a self_assessment_return with a page #injected_box for a monetary field renders the value in currency","status":"passed","file_path":"./spec/views/self_assessment/page_presenter_spec.rb","line_number":81,"run_time":0.141440953,"pending_message":null,"screenshot":null},{"id":"./spec/views/self_assessment/page_presenter_spec.rb[1:1:4:2:1]","description":"renders the default value","full_description":"SelfAssessment::PagePresenter given a self_assessment_return with a page #injected_box with a given default value renders the default value","status":"passed","file_path":"./spec/views/self_assessment/page_presenter_spec.rb","line_number":89,"run_time":0.155164758,"pending_message":null,"screenshot":null},{"id":"./spec/views/self_assessment/page_presenter_spec.rb[1:1:5:1]","description":"renders a calendar input box","full_description":"SelfAssessment::PagePresenter given a self_assessment_return with a page #date_box renders a calendar input box","status":"passed","file_path":"./spec/views/self_assessment/page_presenter_spec.rb","line_number":99,"run_time":0.130719886,"pending_message":null,"screenshot":null},{"id":"./spec/views/self_assessment/page_presenter_spec.rb[1:1:6:1]","description":"renders a select box with given options","full_description":"SelfAssessment::PagePresenter given a self_assessment_return with a page #select_box renders a select box with given options","status":"passed","file_path":"./spec/views/self_assessment/page_presenter_spec.rb","line_number":109,"run_time":0.131654395,"pending_message":null,"screenshot":null},{"id":"./spec/views/self_assessment/page_presenter_spec.rb[1:1:6:2:1]","description":"renders a read-only box","full_description":"SelfAssessment::PagePresenter given a self_assessment_return with a page #select_box select_box in filed state renders a read-only box","status":"passed","file_path":"./spec/views/self_assessment/page_presenter_spec.rb","line_number":120,"run_time":0.124662989,"pending_message":null,"screenshot":null},{"id":"./spec/views/self_assessment/page_presenter_spec.rb[1:1:7:1]","description":"renders a set of Yes/No buttons","full_description":"SelfAssessment::PagePresenter given a self_assessment_return with a page #boolean_box renders a set of Yes/No buttons","status":"passed","file_path":"./spec/views/self_assessment/page_presenter_spec.rb","line_number":130,"run_time":0.135074888,"pending_message":null,"screenshot":null},{"id":"./spec/views/self_assessment/page_presenter_spec.rb[1:1:7:2:1]","description":"adds a locked class to the wrapper","full_description":"SelfAssessment::PagePresenter given a self_assessment_return with a page #boolean_box in a locked state adds a locked class to the wrapper","status":"passed","file_path":"./spec/views/self_assessment/page_presenter_spec.rb","line_number":139,"run_time":0.183947535,"pending_message":null,"screenshot":null},{"id":"./spec/views/self_assessment/page_presenter_spec.rb[1:1:8:1]","description":"renders an addition_box with a read-only and user input component","full_description":"SelfAssessment::PagePresenter given a self_assessment_return with a page #addition_box renders an addition_box with a read-only and user input component","status":"passed","file_path":"./spec/views/self_assessment/page_presenter_spec.rb","line_number":148,"run_time":0.170763906,"pending_message":null,"screenshot":null},{"id":"./spec/views/self_assessment/page_presenter_spec.rb[1:1:8:2:1]","description":"does not render the user input box","full_description":"SelfAssessment::PagePresenter given a self_assessment_return with a page #addition_box in a locked state does not render the user input box","status":"passed","file_path":"./spec/views/self_assessment/page_presenter_spec.rb","line_number":157,"run_time":0.138071075,"pending_message":null,"screenshot":null},{"id":"./spec/views/self_assessment/page_presenter_spec.rb[1:1:9:1]","description":"renders a percentage_box with a user input and final value component","full_description":"SelfAssessment::PagePresenter given a self_assessment_return with a page #percentage_box renders a percentage_box with a user input and final value component","status":"passed","file_path":"./spec/views/self_assessment/page_presenter_spec.rb","line_number":166,"run_time":0.15487162,"pending_message":null,"screenshot":null},{"id":"./spec/views/self_assessment/page_presenter_spec.rb[1:1:9:2:1]","description":"does not render a user input box","full_description":"SelfAssessment::PagePresenter given a self_assessment_return with a page #percentage_box in a locked state does not render a user input box","status":"passed","file_path":"./spec/views/self_assessment/page_presenter_spec.rb","line_number":175,"run_time":0.150982747,"pending_message":null,"screenshot":null},{"id":"./spec/views/self_assessment/page_presenter_spec.rb[1:1:10:1]","description":"renders a set of Yes/No buttons to toggle the section state","full_description":"SelfAssessment::PagePresenter given a self_assessment_return with a page #section_question renders a set of Yes/No buttons to toggle the section state","status":"passed","file_path":"./spec/views/self_assessment/page_presenter_spec.rb","line_number":184,"run_time":0.135055737,"pending_message":null,"screenshot":null},{"id":"./spec/views/self_assessment/page_presenter_spec.rb[1:1:10:2:1]","description":"adds a read-only attribute to button wrapper","full_description":"SelfAssessment::PagePresenter given a self_assessment_return with a page #section_question in a locked state adds a read-only attribute to button wrapper","status":"passed","file_path":"./spec/views/self_assessment/page_presenter_spec.rb","line_number":192,"run_time":0.134174332,"pending_message":null,"screenshot":null},{"id":"./spec/views/self_assessment/page_presenter_spec.rb[1:1:11:1]","description":"renders injected values in two columns","full_description":"SelfAssessment::PagePresenter given a self_assessment_return with a page #two_column_injected_box renders injected values in two columns","status":"passed","file_path":"./spec/views/self_assessment/page_presenter_spec.rb","line_number":212,"run_time":0.146926539,"pending_message":null,"screenshot":null},{"id":"./spec/views/self_assessment/page_presenter_spec.rb[1:1:12:1]","description":"renders an injected sum value along with the individual values","full_description":"SelfAssessment::PagePresenter given a self_assessment_return with a page #injected_sum_box renders an injected sum value along with the individual values","status":"passed","file_path":"./spec/views/self_assessment/page_presenter_spec.rb","line_number":227,"run_time":0.145987661,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:1:42]","description":"deletes vat submissions","full_description":"Company::ForgetCompanyData Deleting all data for a VAT registered UK company deletes vat submissions","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":619,"run_time":2.115809954,"pending_message":null,"screenshot":null},{"id":"./spec/models/billing_profile_spec.rb[1:1]","description":"invalid_period","full_description":"BillingProfile invalid_period","status":"passed","file_path":"./spec/models/billing_profile_spec.rb","line_number":9,"run_time":0.10149091,"pending_message":null,"screenshot":null},{"id":"./spec/models/billing_profile_spec.rb[1:2]","description":"free_subscriptions","full_description":"BillingProfile free_subscriptions","status":"passed","file_path":"./spec/models/billing_profile_spec.rb","line_number":15,"run_time":0.093925861,"pending_message":null,"screenshot":null},{"id":"./spec/models/billing_profile_spec.rb[1:3]","description":"knows when it is overdue","full_description":"BillingProfile knows when it is overdue","status":"passed","file_path":"./spec/models/billing_profile_spec.rb","line_number":21,"run_time":0.091794757,"pending_message":null,"screenshot":null},{"id":"./spec/models/billing_profile_spec.rb[1:4]","description":"is only overdue when active","full_description":"BillingProfile is only overdue when active","status":"passed","file_path":"./spec/models/billing_profile_spec.rb","line_number":27,"run_time":0.09177525,"pending_message":null,"screenshot":null},{"id":"./spec/models/billing_profile_spec.rb[1:5]","description":"knows when its period has changed to yearly","full_description":"BillingProfile knows when its period has changed to yearly","status":"passed","file_path":"./spec/models/billing_profile_spec.rb","line_number":33,"run_time":0.087845604,"pending_message":null,"screenshot":null},{"id":"./spec/models/billing_profile_spec.rb[1:6]","description":"knows when it is active","full_description":"BillingProfile knows when it is active","status":"passed","file_path":"./spec/models/billing_profile_spec.rb","line_number":50,"run_time":0.081566365,"pending_message":null,"screenshot":null},{"id":"./spec/models/billing_profile_spec.rb[1:7:1]","description":"is not able to create a second billing profile","full_description":"BillingProfile A company which has an active subscription is not able to create a second billing profile","status":"passed","file_path":"./spec/models/billing_profile_spec.rb","line_number":59,"run_time":0.092799034,"pending_message":null,"screenshot":null},{"id":"./spec/models/billing_profile_spec.rb[1:8:1:1]","description":"is expected to eq Mon, 23 Jan 2023","full_description":"BillingProfile#next_payment_attempt_date with no failed payment attempts is expected to eq Mon, 23 Jan 2023","status":"passed","file_path":"./spec/models/billing_profile_spec.rb","line_number":72,"run_time":0.086782577,"pending_message":null,"screenshot":null},{"id":"./spec/models/billing_profile_spec.rb[1:8:2:1]","description":"is expected to eq Wed, 25 Jan 2023","full_description":"BillingProfile#next_payment_attempt_date with 1 failed payment attempt is expected to eq Wed, 25 Jan 2023","status":"passed","file_path":"./spec/models/billing_profile_spec.rb","line_number":77,"run_time":0.088182958,"pending_message":null,"screenshot":null},{"id":"./spec/models/billing_profile_spec.rb[1:8:3:1]","description":"is expected to eq Fri, 27 Jan 2023","full_description":"BillingProfile#next_payment_attempt_date with 2 failed payment attempts is expected to eq Fri, 27 Jan 2023","status":"passed","file_path":"./spec/models/billing_profile_spec.rb","line_number":82,"run_time":0.106031751,"pending_message":null,"screenshot":null},{"id":"./spec/models/billing_profile_spec.rb[1:8:4:1]","description":"is expected to eq Sun, 29 Jan 2023","full_description":"BillingProfile#next_payment_attempt_date with 3 failed payment attempts is expected to eq Sun, 29 Jan 2023","status":"passed","file_path":"./spec/models/billing_profile_spec.rb","line_number":87,"run_time":0.104148622,"pending_message":null,"screenshot":null},{"id":"./spec/models/billing_profile_spec.rb[1:8:5:1]","description":"is expected to eq nil","full_description":"BillingProfile#next_payment_attempt_date with more than 3 failed payment attempts is expected to eq nil","status":"passed","file_path":"./spec/models/billing_profile_spec.rb","line_number":92,"run_time":0.08998837,"pending_message":null,"screenshot":null},{"id":"./spec/models/billing_profile_spec.rb[1:9:1]","description":"is expected to change `payment_profile.reload.num_failed_payments` to 0","full_description":"BillingProfile#activate! is expected to change `payment_profile.reload.num_failed_payments` to 0","status":"passed","file_path":"./spec/models/billing_profile_spec.rb","line_number":103,"run_time":0.12800716,"pending_message":null,"screenshot":null},{"id":"./spec/models/billing_profile_spec.rb[1:9:2]","description":"is expected not to change `payment_profile.reload.payment_day_of_month`","full_description":"BillingProfile#activate! is expected not to change `payment_profile.reload.payment_day_of_month`","status":"passed","file_path":"./spec/models/billing_profile_spec.rb","line_number":104,"run_time":0.100658516,"pending_message":null,"screenshot":null},{"id":"./spec/models/billing_profile_spec.rb[1:9:3:1]","description":"is expected to change `payment_profile.reload.payment_day_of_month` to 23","full_description":"BillingProfile#activate! when reset_payment_day is true is expected to change `payment_profile.reload.payment_day_of_month` to 23","status":"passed","file_path":"./spec/models/billing_profile_spec.rb","line_number":109,"run_time":0.100296494,"pending_message":null,"screenshot":null},{"id":"./spec/models/billing_profile_spec.rb[1:10:1]","description":"takes the profile's status into account","full_description":"BillingProfile#subscription_payment_due_today? takes the profile's status into account","status":"passed","file_path":"./spec/models/billing_profile_spec.rb","line_number":114,"run_time":0.110562577,"pending_message":null,"screenshot":null},{"id":"./spec/models/billing_profile_spec.rb[1:10:2]","description":"takes the profile's payment date into account","full_description":"BillingProfile#subscription_payment_due_today? takes the profile's payment date into account","status":"passed","file_path":"./spec/models/billing_profile_spec.rb","line_number":125,"run_time":0.097530697,"pending_message":null,"screenshot":null},{"id":"./spec/models/billing_profile_spec.rb[1:10:3]","description":"takes the number of failed attempts into account","full_description":"BillingProfile#subscription_payment_due_today? takes the number of failed attempts into account","status":"passed","file_path":"./spec/models/billing_profile_spec.rb","line_number":143,"run_time":0.114712533,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/customer_sales_controller_spec.rb[1:1:1:1]","description":"lists contacts and their totals","full_description":"Accounting::CustomerSalesController#show with a sent invoice lists contacts and their totals","status":"passed","file_path":"./spec/controllers/accounting/customer_sales_controller_spec.rb","line_number":19,"run_time":0.349824062,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/customer_sales_controller_spec.rb[1:1:1:2]","description":"refuses access to unpermitted users","full_description":"Accounting::CustomerSalesController#show with a sent invoice refuses access to unpermitted users","status":"passed","file_path":"./spec/controllers/accounting/customer_sales_controller_spec.rb","line_number":27,"run_time":0.28143156,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/customer_sales_controller_spec.rb[1:1:1:3:1:1]","description":"redirects to most recent accouting period with flash error","full_description":"Accounting::CustomerSalesController#show with a sent invoice with an accouting period param when accounting period param is invalid redirects to most recent accouting period with flash error","status":"passed","file_path":"./spec/controllers/accounting/customer_sales_controller_spec.rb","line_number":42,"run_time":0.266219477,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/customer_sales_controller_spec.rb[1:1:2:1]","description":"contains a header row","full_description":"Accounting::CustomerSalesController#show exporting CSV contains a header row","status":"passed","file_path":"./spec/controllers/accounting/customer_sales_controller_spec.rb","line_number":63,"run_time":0.345294199,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/accounting/customer_sales_controller_spec.rb[1:1:2:2]","description":"contains a row for each contact","full_description":"Accounting::CustomerSalesController#show exporting CSV contains a row for each contact","status":"passed","file_path":"./spec/controllers/accounting/customer_sales_controller_spec.rb","line_number":67,"run_time":0.348608236,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/needing_next_recurs_on_recalculation_spec.rb[1:1:1:1]","description":"returns only draft profiles which have next_recurs_on value in the past","full_description":"RecurringInvoiceProfile#needing_next_recurs_on_recalculation at midnight returns only draft profiles which have next_recurs_on value in the past","status":"passed","file_path":"./spec/models/recurring_invoice_profile/needing_next_recurs_on_recalculation_spec.rb","line_number":19,"run_time":0.566460531,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/needing_next_recurs_on_recalculation_spec.rb[1:1:2:1]","description":"returns only draft profiles which have next_recurs_on value in the past","full_description":"RecurringInvoiceProfile#needing_next_recurs_on_recalculation during the day returns only draft profiles which have next_recurs_on value in the past","status":"passed","file_path":"./spec/models/recurring_invoice_profile/needing_next_recurs_on_recalculation_spec.rb","line_number":32,"run_time":0.651742725,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/corporation_tax/apportionment/trading_start_date.feature[1:1:1]","description":"Given a UK Limited Company which was started on 2020-06-01 -\u003e And its first accounting year ends on 2021-06-30 -\u003e And the company starts trading on 2020-10-01 -\u003e And the current date is 2021-07-01 -\u003e Then the company should have corporation tax return periods for -\u003e Given the company has the following invoices: -\u003e And the following journals were entered dated 2020-06-01 -\u003e Then the company should have a corporation tax liability as follows","full_description":"Corporation tax: Trading start date loss carried forward from pre trade, which was ledgered on trading start date Given a UK Limited Company which was started on 2020-06-01 -\u003e And its first accounting year ends on 2021-06-30 -\u003e And the company starts trading on 2020-10-01 -\u003e And the current date is 2021-07-01 -\u003e Then the company should have corporation tax return periods for -\u003e Given the company has the following invoices: -\u003e And the following journals were entered dated 2020-06-01 -\u003e Then the company should have a corporation tax liability as follows","status":"passed","file_path":"./spec/acceptance/corporation_tax/apportionment/trading_start_date.feature","line_number":14,"run_time":1.484889606,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/authorised_accounts/index_spec.rb[1:1:1]","description":"is expected to contain exactly [\"authorised_accounts\", [{\"account_sub_type\"=\u003e\"CurrentAccount\", \"account_type\"=\u003e\"Business\", \"balance\"...k account\", \"nickname\"=\u003e\"main account (x4000)\", \"updated_at\"=\u003e2022-12-23 10:46:53.000000000 +0000}]]","full_description":"api/authorised_accounts/index when there are authorised accounts is expected to contain exactly [\"authorised_accounts\", [{\"account_sub_type\"=\u003e\"CurrentAccount\", \"account_type\"=\u003e\"Business\", \"balance\"...k account\", \"nickname\"=\u003e\"main account (x4000)\", \"updated_at\"=\u003e2022-12-23 10:46:53.000000000 +0000}]]","status":"passed","file_path":"./spec/views/api/authorised_accounts/index_spec.rb","line_number":29,"run_time":0.324483454,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/authorised_accounts/index_spec.rb[1:2:1]","description":"is expected to include {\"authorised_accounts\" =\u003e []}","full_description":"api/authorised_accounts/index when there are no authorised accounts is expected to include {\"authorised_accounts\" =\u003e []}","status":"passed","file_path":"./spec/views/api/authorised_accounts/index_spec.rb","line_number":68,"run_time":0.012496892,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/actions/view_bills_action_spec.rb[1:1:1]","description":"returns the correct component","full_description":"Cashflow::Actions::ViewBillsAction.component_class returns the correct component","status":"passed","file_path":"./spec/freeagent/cashflow/actions/view_bills_action_spec.rb","line_number":12,"run_time":0.003550405,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/actions/view_bills_action_spec.rb[1:2:1]","description":"returns 1 (default)","full_description":"Cashflow::Actions::ViewBillsAction#weight returns 1 (default)","status":"passed","file_path":"./spec/freeagent/cashflow/actions/view_bills_action_spec.rb","line_number":18,"run_time":0.004928279,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/actions/view_bills_action_spec.rb[1:3:1]","description":"returns true when there are no bills due in the next 30 days","full_description":"Cashflow::Actions::ViewBillsAction#show? returns true when there are no bills due in the next 30 days","status":"passed","file_path":"./spec/freeagent/cashflow/actions/view_bills_action_spec.rb","line_number":24,"run_time":0.006246113,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/actions/view_bills_action_spec.rb[1:3:2]","description":"returns false when there are bills due in the next 30 days","full_description":"Cashflow::Actions::ViewBillsAction#show? returns false when there are bills due in the next 30 days","status":"passed","file_path":"./spec/freeagent/cashflow/actions/view_bills_action_spec.rb","line_number":28,"run_time":0.101210525,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ir35_report_spec.rb[1:1:1]","description":"returns the residual employment allowance","full_description":"Accounting::IR35Report#residual_employment_allowance returns the residual employment allowance","status":"passed","file_path":"./spec/models/accounting/ir35_report_spec.rb","line_number":16,"run_time":0.123352809,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ir35_report_spec.rb[1:1:2]","description":"returns zero if the company is not eligible for employment allowance","full_description":"Accounting::IR35Report#residual_employment_allowance returns zero if the company is not eligible for employment allowance","status":"passed","file_path":"./spec/models/accounting/ir35_report_spec.rb","line_number":20,"run_time":0.110005386,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ir35_report_spec.rb[1:1:3:1]","description":"returns 0","full_description":"Accounting::IR35Report#residual_employment_allowance with a tax year that doesn't even exist returns 0","status":"passed","file_path":"./spec/models/accounting/ir35_report_spec.rb","line_number":28,"run_time":0.110458541,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ir35_report_spec.rb[1:1:4:1]","description":"returns 0","full_description":"Accounting::IR35Report#residual_employment_allowance in a tax year before employment allowance was introduced returns 0","status":"passed","file_path":"./spec/models/accounting/ir35_report_spec.rb","line_number":36,"run_time":0.110266725,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ir35_report_spec.rb[1:1:5:1]","description":"returns the amount left after removing the journaled amounts","full_description":"Accounting::IR35Report#residual_employment_allowance with imported payroll returns the amount left after removing the journaled amounts","status":"passed","file_path":"./spec/models/accounting/ir35_report_spec.rb","line_number":55,"run_time":0.170615642,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ir35_report_spec.rb[1:2:1]","description":"includes only the general NI letter caveat","full_description":"Accounting::IR35Report#caveats includes only the general NI letter caveat","status":"passed","file_path":"./spec/models/accounting/ir35_report_spec.rb","line_number":62,"run_time":0.100135318,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ir35_report_spec.rb[1:2:2:1]","description":"includes the under 21 NI letter caveat","full_description":"Accounting::IR35Report#caveats if we guess the user is under 21 includes the under 21 NI letter caveat","status":"passed","file_path":"./spec/models/accounting/ir35_report_spec.rb","line_number":74,"run_time":0.102750085,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ir35_report_spec.rb[1:2:3:1]","description":"doesn't include any NI letter caveat","full_description":"Accounting::IR35Report#caveats if the user has a payroll profile doesn't include any NI letter caveat","status":"passed","file_path":"./spec/models/accounting/ir35_report_spec.rb","line_number":86,"run_time":0.104751761,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ir35_report_spec.rb[1:2:4:1]","description":"includes the director rate caveat","full_description":"Accounting::IR35Report#caveats in the 2022/23 tax year includes the director rate caveat","status":"passed","file_path":"./spec/models/accounting/ir35_report_spec.rb","line_number":96,"run_time":0.165412715,"pending_message":null,"screenshot":null},{"id":"./spec/tools/data_integrity/issues/issue_16079_spec.rb[1:1:1]","description":"returns foreign bank accounts with a non-zero difference between the given and expected value","full_description":"DataIntegrity::Issues::Issue16079#calculate returns foreign bank accounts with a non-zero difference between the given and expected value","status":"passed","file_path":"./spec/tools/data_integrity/issues/issue_16079_spec.rb","line_number":22,"run_time":0.287042487,"pending_message":null,"screenshot":null},{"id":"./spec/tools/data_integrity/issues/issue_16079_spec.rb[1:1:2]","description":"excludes foreign bank accounts without an invoice","full_description":"DataIntegrity::Issues::Issue16079#calculate excludes foreign bank accounts without an invoice","status":"passed","file_path":"./spec/tools/data_integrity/issues/issue_16079_spec.rb","line_number":27,"run_time":0.277546061,"pending_message":null,"screenshot":null},{"id":"./spec/tools/data_integrity/issues/issue_16079_spec.rb[1:1:3:1]","description":"converts it successfully","full_description":"DataIntegrity::Issues::Issue16079#calculate converts the difference to GBP converts it successfully","status":"passed","file_path":"./spec/tools/data_integrity/issues/issue_16079_spec.rb","line_number":35,"run_time":0.269256679,"pending_message":null,"screenshot":null},{"id":"./spec/tools/data_integrity/issues/issue_16079_spec.rb[1:2:1]","description":"exports foreign bank accounts with a non-zero difference between the given and expected value","full_description":"DataIntegrity::Issues::Issue16079#export_to_csv exports foreign bank accounts with a non-zero difference between the given and expected value","status":"passed","file_path":"./spec/tools/data_integrity/issues/issue_16079_spec.rb","line_number":44,"run_time":0.312061819,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:49:2]","description":"returns the manually added invoice item","full_description":"Invoice An Invoice with Rebillable and manually added items returns the manually added invoice item","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":1152,"run_time":0.753635269,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:71:3:3]","description":"does not raise an error when calculating account totals if the required correction is equal to the allowable amount","full_description":"Invoice Grouping invoice items by category A native invoice with six items in three categories does not raise an error when calculating account totals if the required correction is equal to the allowable amount","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":2158,"run_time":0.594864619,"pending_message":null,"screenshot":null},{"id":"./spec/requests/radar/insights/welcome_spec.rb[1:1]","description":"shows the radar product update details","full_description":"Welcome ping shows the radar product update details","status":"passed","file_path":"./spec/requests/radar/insights/welcome_spec.rb","line_number":22,"run_time":0.210848047,"pending_message":null,"screenshot":null},{"id":"./spec/requests/radar/insights/welcome_spec.rb[1:2]","description":"renders the radar page with the bell popover markup","full_description":"Welcome ping renders the radar page with the bell popover markup","status":"passed","file_path":"./spec/requests/radar/insights/welcome_spec.rb","line_number":36,"run_time":0.186670749,"pending_message":null,"screenshot":null},{"id":"./spec/requests/radar/insights/welcome_spec.rb[1:3]","description":"handles unexpected state of welcome rule","full_description":"Welcome ping handles unexpected state of welcome rule","status":"passed","file_path":"./spec/requests/radar/insights/welcome_spec.rb","line_number":41,"run_time":0.262781124,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_card_heading.html.erb_spec.rb[1:1]","description":"renders a h1 heading level if the heading level is 1","full_description":"freestyle/components/_card_heading renders a h1 heading level if the heading level is 1","status":"passed","file_path":"./spec/views/freestyle/components/_card_heading.html.erb_spec.rb","line_number":6,"run_time":0.053215501,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_card_heading.html.erb_spec.rb[1:2]","description":"renders a h2 heading level if the heading level is 2","full_description":"freestyle/components/_card_heading renders a h2 heading level if the heading level is 2","status":"passed","file_path":"./spec/views/freestyle/components/_card_heading.html.erb_spec.rb","line_number":6,"run_time":0.046569168,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_card_heading.html.erb_spec.rb[1:3]","description":"renders a h3 heading level if the heading level is 3","full_description":"freestyle/components/_card_heading renders a h3 heading level if the heading level is 3","status":"passed","file_path":"./spec/views/freestyle/components/_card_heading.html.erb_spec.rb","line_number":6,"run_time":0.044078263,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_card_heading.html.erb_spec.rb[1:4]","description":"renders a h4 heading level if the heading level is 4","full_description":"freestyle/components/_card_heading renders a h4 heading level if the heading level is 4","status":"passed","file_path":"./spec/views/freestyle/components/_card_heading.html.erb_spec.rb","line_number":6,"run_time":0.044863216,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_card_heading.html.erb_spec.rb[1:5]","description":"renders a h5 heading level if the heading level is 5","full_description":"freestyle/components/_card_heading renders a h5 heading level if the heading level is 5","status":"passed","file_path":"./spec/views/freestyle/components/_card_heading.html.erb_spec.rb","line_number":6,"run_time":0.065154444,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_card_heading.html.erb_spec.rb[1:6]","description":"renders a h6 heading level if the heading level is 6","full_description":"freestyle/components/_card_heading renders a h6 heading level if the heading level is 6","status":"passed","file_path":"./spec/views/freestyle/components/_card_heading.html.erb_spec.rb","line_number":6,"run_time":0.066069467,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_card_heading.html.erb_spec.rb[1:7]","description":"sets the text size when the level if the text_size is set to 1","full_description":"freestyle/components/_card_heading sets the text size when the level if the text_size is set to 1","status":"passed","file_path":"./spec/views/freestyle/components/_card_heading.html.erb_spec.rb","line_number":14,"run_time":0.064867671,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_card_heading.html.erb_spec.rb[1:8]","description":"sets the text size when the level if the text_size is set to 2","full_description":"freestyle/components/_card_heading sets the text size when the level if the text_size is set to 2","status":"passed","file_path":"./spec/views/freestyle/components/_card_heading.html.erb_spec.rb","line_number":14,"run_time":0.064394253,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_card_heading.html.erb_spec.rb[1:9]","description":"sets the text size when the level if the text_size is set to 3","full_description":"freestyle/components/_card_heading sets the text size when the level if the text_size is set to 3","status":"passed","file_path":"./spec/views/freestyle/components/_card_heading.html.erb_spec.rb","line_number":14,"run_time":0.064693166,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_card_heading.html.erb_spec.rb[1:10]","description":"sets the text size when the level if the text_size is set to 4","full_description":"freestyle/components/_card_heading sets the text size when the level if the text_size is set to 4","status":"passed","file_path":"./spec/views/freestyle/components/_card_heading.html.erb_spec.rb","line_number":14,"run_time":0.066736659,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_card_heading.html.erb_spec.rb[1:11]","description":"sets the text size when the level if the text_size is set to 5","full_description":"freestyle/components/_card_heading sets the text size when the level if the text_size is set to 5","status":"passed","file_path":"./spec/views/freestyle/components/_card_heading.html.erb_spec.rb","line_number":14,"run_time":0.064609539,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_card_heading.html.erb_spec.rb[1:12]","description":"sets the text size when the level if the text_size is set to 6","full_description":"freestyle/components/_card_heading sets the text size when the level if the text_size is set to 6","status":"passed","file_path":"./spec/views/freestyle/components/_card_heading.html.erb_spec.rb","line_number":14,"run_time":0.061193538,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_card_heading.html.erb_spec.rb[1:13]","description":"sets the text size when the level if the text_size is set to 7","full_description":"freestyle/components/_card_heading sets the text size when the level if the text_size is set to 7","status":"passed","file_path":"./spec/views/freestyle/components/_card_heading.html.erb_spec.rb","line_number":14,"run_time":0.055077452,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_card_heading.html.erb_spec.rb[1:14]","description":"adds classes passed to card heading","full_description":"freestyle/components/_card_heading adds classes passed to card heading","status":"passed","file_path":"./spec/views/freestyle/components/_card_heading.html.erb_spec.rb","line_number":21,"run_time":0.123258792,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_card_heading.html.erb_spec.rb[1:15]","description":"renders data attributes when passed","full_description":"freestyle/components/_card_heading renders data attributes when passed","status":"passed","file_path":"./spec/views/freestyle/components/_card_heading.html.erb_spec.rb","line_number":27,"run_time":0.069502993,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[3:4]","description":"allows filtering by open or overdue, and assigns `due_totals`","full_description":"InvoicesController GET :index allows filtering by open or overdue, and assigns `due_totals`","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":229,"run_time":0.438714639,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[9:1]","description":"does not display the Reminder Emails info panel","full_description":"InvoicesController GET :show with a written-off invoice with line items configured to send reminder emails does not display the Reminder Emails info panel","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":997,"run_time":0.522916767,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[29:1:16]","description":"fn not displayed when client name is blank","full_description":"InvoicesController Multiple projects on invoice Multiple projects on invoice fn not displayed when client name is blank","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":3128,"run_time":0.435046758,"pending_message":null,"screenshot":null},{"id":"./spec/models/accountancy_practice_salesforce_synced_values_spec.rb[1:1:1:1]","description":"creates a new AccountancyPracticeClientCounts","full_description":"AccountancyPracticeSalesforceSyncedValues.create_or_update_for! when no AccountancyPracticeClientCounts exists for the practice creates a new AccountancyPracticeClientCounts","status":"passed","file_path":"./spec/models/accountancy_practice_salesforce_synced_values_spec.rb","line_number":12,"run_time":0.081096254,"pending_message":null,"screenshot":null},{"id":"./spec/models/accountancy_practice_salesforce_synced_values_spec.rb[1:1:2:1]","description":"updates the existing AccountancyPracticeClientCounts","full_description":"AccountancyPracticeSalesforceSyncedValues.create_or_update_for! when an outdated AccountancyPracticeClientCounts exists for the practice updates the existing AccountancyPracticeClientCounts","status":"passed","file_path":"./spec/models/accountancy_practice_salesforce_synced_values_spec.rb","line_number":35,"run_time":0.20585555,"pending_message":null,"screenshot":null},{"id":"./spec/models/accountancy_practice_salesforce_synced_values_spec.rb[1:1:3:1]","description":"does not update the existing AccountancyPracticeClientCounts","full_description":"AccountancyPracticeSalesforceSyncedValues.create_or_update_for! when an up-to-date AccountancyPracticeClientCounts exists for the practice does not update the existing AccountancyPracticeClientCounts","status":"passed","file_path":"./spec/models/accountancy_practice_salesforce_synced_values_spec.rb","line_number":43,"run_time":0.067167645,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:2:2:1:2:2:4]","description":"correctly generates one ledger entry for the single item posted to the second account (including VAT)","full_description":"UkAccountsMapper Accounts Mapper for UK companies who have applied for VAT registration after their registration effective date Invoices Given a foreign currency invoice (exchange rate 2:1) with 3 line items in 2 categories which has been sent correctly generates one ledger entry for the single item posted to the second account (including VAT)","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":1507,"run_time":0.394778187,"pending_message":null,"screenshot":null},{"id":"./spec/models/bulk_operation/banking/delete_transactions_spec.rb[1:2]","description":"schedules and runs a bulk delete operation","full_description":"BulkOperation::Banking::DeleteTransactions schedules and runs a bulk delete operation","status":"passed","file_path":"./spec/models/bulk_operation/banking/delete_transactions_spec.rb","line_number":29,"run_time":0.031820042,"pending_message":null,"screenshot":null},{"id":"./spec/models/bulk_operation/banking/delete_transactions_spec.rb[1:3]","description":"schedules valid payload","full_description":"BulkOperation::Banking::DeleteTransactions schedules valid payload","status":"passed","file_path":"./spec/models/bulk_operation/banking/delete_transactions_spec.rb","line_number":42,"run_time":0.017151822,"pending_message":null,"screenshot":null},{"id":"./spec/models/bulk_operation/banking/delete_transactions_spec.rb[1:4]","description":"raises argument error when transaction id is nil","full_description":"BulkOperation::Banking::DeleteTransactions raises argument error when transaction id is nil","status":"passed","file_path":"./spec/models/bulk_operation/banking/delete_transactions_spec.rb","line_number":48,"run_time":0.005694595,"pending_message":null,"screenshot":null},{"id":"./spec/models/bulk_operation/banking/delete_transactions_spec.rb[1:5]","description":"enqueues an explanation job","full_description":"BulkOperation::Banking::DeleteTransactions enqueues an explanation job","status":"passed","file_path":"./spec/models/bulk_operation/banking/delete_transactions_spec.rb","line_number":52,"run_time":0.00597179,"pending_message":null,"screenshot":null},{"id":"./spec/models/bulk_operation/banking/delete_transactions_spec.rb[1:1:1:1]","description":"returns the list of bank transactions","full_description":"BulkOperation::Banking::DeleteTransactions behaves like a banking bulk operation when fetching bank transactions returns the list of bank transactions","status":"passed","file_path":"./spec/shared/bulk_operations/banking_examples.rb","line_number":21,"run_time":0.072203529,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/humio_search_url_generator_spec.rb[1:1:1]","description":"returns three links to Humio","full_description":"HealthRobinson::HumioSearchUrlGenerator#console_display returns three links to Humio","status":"passed","file_path":"./spec/models/health_robinson/humio_search_url_generator_spec.rb","line_number":23,"run_time":0.06519509,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/humio_search_url_generator_spec.rb[1:1:2]","description":"makes use of *_query_url functions","full_description":"HealthRobinson::HumioSearchUrlGenerator#console_display makes use of *_query_url functions","status":"passed","file_path":"./spec/models/health_robinson/humio_search_url_generator_spec.rb","line_number":27,"run_time":0.063166915,"pending_message":null,"screenshot":null},{"id":"./spec/models/available_tax_years_spec.rb[1:1:2]","description":"includes all the tax years in between","full_description":"AvailableTaxYears#get includes all the tax years in between","status":"passed","file_path":"./spec/models/available_tax_years_spec.rb","line_number":35,"run_time":0.085574171,"pending_message":null,"screenshot":null},{"id":"./spec/models/available_tax_years_spec.rb[1:1:1:1]","description":"includes all the tax years in between and next year","full_description":"AvailableTaxYears#get when early access allowed includes all the tax years in between and next year","status":"passed","file_path":"./spec/models/available_tax_years_spec.rb","line_number":18,"run_time":0.080296881,"pending_message":null,"screenshot":null},{"id":"./spec/models/capital_allowances/company_event_builder_spec.rb[1:1:1]","description":"is expected to be empty","full_description":"CapitalAllowances::CompanyEventBuilder#events is expected to be empty","status":"passed","file_path":"./spec/models/capital_allowances/company_event_builder_spec.rb","line_number":23,"run_time":0.075637234,"pending_message":null,"screenshot":null},{"id":"./spec/models/capital_allowances/company_event_builder_spec.rb[1:1:2:1]","description":"is expected to match mapped ca events [CapitalAllowances::Events::OpeningBalance, #\u003cUkLimitedCompany id: 895398102, name: \"FreeAgent Central\"\u003e, Wed, 01 Apr 2020, nil, \"main_pool\", 1000]","full_description":"CapitalAllowances::CompanyEventBuilder#events with some opening balances is expected to match mapped ca events [CapitalAllowances::Events::OpeningBalance, #\u003cUkLimitedCompany id: 895398102, name: \"FreeAgent Central\"\u003e, Wed, 01 Apr 2020, nil, \"main_pool\", 1000]","status":"passed","file_path":"./spec/models/capital_allowances/company_event_builder_spec.rb","line_number":28,"run_time":0.076889538,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/old_show.html.erb_spec.rb[1:1]","description":"doesn't show a notice about the new company show page","full_description":"admin/companies/old_show doesn't show a notice about the new company show page","status":"passed","file_path":"./spec/views/admin/companies/old_show.html.erb_spec.rb","line_number":23,"run_time":0.080658236,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/old_show.html.erb_spec.rb[1:2]","description":"shows the company business phone number in the phone field","full_description":"admin/companies/old_show shows the company business phone number in the phone field","status":"passed","file_path":"./spec/views/admin/companies/old_show.html.erb_spec.rb","line_number":29,"run_time":0.057437412,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/flying_start/eligibility_checks/make_the_switch_spec.rb[1:1:1:1]","description":"is expected to equal true","full_description":"FlyingStart::EligibilityChecks::MakeTheSwitch#eligible? when the company is older than 6 months is expected to equal true","status":"passed","file_path":"./spec/freeagent/flying_start/eligibility_checks/make_the_switch_spec.rb","line_number":14,"run_time":0.079417358,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/flying_start/eligibility_checks/make_the_switch_spec.rb[1:1:2:1]","description":"is expected to equal false","full_description":"FlyingStart::EligibilityChecks::MakeTheSwitch#eligible? when the company is younger than 6 months is expected to equal false","status":"passed","file_path":"./spec/freeagent/flying_start/eligibility_checks/make_the_switch_spec.rb","line_number":19,"run_time":0.081844598,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:85:2:2]","description":"on due date in EST","full_description":"Invoice in different timezones in a timezone behind GMT on due date in EST","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":2502,"run_time":0.247563655,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:141:1:1]","description":"returns the configured theme","full_description":"Invoice#theme with theme_customisation_circuit_breaker working returns the configured theme","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":4544,"run_time":0.192893528,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[15:4:1:2]","description":"does not update the invoice","full_description":"InvoicesController PUT :update PUT :update for an invoice that is marked as sent as a normal user does not update the invoice","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":1893,"run_time":0.153969868,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ec_sales_list/row_spec.rb[1:1:1]","description":"returns the code for the contact's country","full_description":"Accounting::EcSalesList::Row#country_code returns the code for the contact's country","status":"passed","file_path":"./spec/models/accounting/ec_sales_list/row_spec.rb","line_number":20,"run_time":0.019119192,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ec_sales_list/row_spec.rb[1:1:2:1]","description":"returns the ISO 3166-1 alpha-2 code","full_description":"Accounting::EcSalesList::Row#country_code for a non-EU country returns the ISO 3166-1 alpha-2 code","status":"passed","file_path":"./spec/models/accounting/ec_sales_list/row_spec.rb","line_number":27,"run_time":0.017393963,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ec_sales_list/row_spec.rb[1:2:1]","description":"returns the contact's VAT registration number","full_description":"Accounting::EcSalesList::Row#vat_registration_number returns the contact's VAT registration number","status":"passed","file_path":"./spec/models/accounting/ec_sales_list/row_spec.rb","line_number":34,"run_time":0.016407127,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ec_sales_list/row_spec.rb[1:2:2:1]","description":"returns nil","full_description":"Accounting::EcSalesList::Row#vat_registration_number contact has a nil sales tax registration number returns nil","status":"passed","file_path":"./spec/models/accounting/ec_sales_list/row_spec.rb","line_number":41,"run_time":0.017442158,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ec_sales_list/row_spec.rb[1:3:1]","description":"returns the HMRC EC Status Indicator","full_description":"Accounting::EcSalesList::Row#ec_status returns the HMRC EC Status Indicator","status":"passed","file_path":"./spec/models/accounting/ec_sales_list/row_spec.rb","line_number":48,"run_time":0.016785781,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ec_sales_list/row_spec.rb[1:4:1:1]","description":"turns the raw total into a positive","full_description":"Accounting::EcSalesList::Row total when a total is positive turns the raw total into a positive","status":"passed","file_path":"./spec/models/accounting/ec_sales_list/row_spec.rb","line_number":57,"run_time":0.013839556,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ec_sales_list/row_spec.rb[1:4:2:1]","description":"turns the raw total into a negative","full_description":"Accounting::EcSalesList::Row total when a total is negative turns the raw total into a negative","status":"passed","file_path":"./spec/models/accounting/ec_sales_list/row_spec.rb","line_number":65,"run_time":0.013790154,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ec_sales_list/row_spec.rb[1:4:3:1:1]","description":"returns the value floored","full_description":"Accounting::EcSalesList::Row total when the value needs isn't exact and the value is negative and under the rounding threshold returns the value floored","status":"passed","file_path":"./spec/models/accounting/ec_sales_list/row_spec.rb","line_number":74,"run_time":0.012939308,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ec_sales_list/row_spec.rb[1:4:3:2:1]","description":"returns the value floored","full_description":"Accounting::EcSalesList::Row total when the value needs isn't exact and the value is negative and above the rounding threshold returns the value floored","status":"passed","file_path":"./spec/models/accounting/ec_sales_list/row_spec.rb","line_number":82,"run_time":0.012665288,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ec_sales_list/row_spec.rb[1:4:3:3:1]","description":"returns the value floored","full_description":"Accounting::EcSalesList::Row total when the value needs isn't exact and the value is positive and under the rounding threshold returns the value floored","status":"passed","file_path":"./spec/models/accounting/ec_sales_list/row_spec.rb","line_number":90,"run_time":0.013077426,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/ec_sales_list/row_spec.rb[1:4:3:4:1]","description":"returns the value floored","full_description":"Accounting::EcSalesList::Row total when the value needs isn't exact and the value is positive and above the rounding threshold returns the value floored","status":"passed","file_path":"./spec/models/accounting/ec_sales_list/row_spec.rb","line_number":98,"run_time":0.013304195,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_chart_meta.html.erb_spec.rb[1:1]","description":"renders the given value and text","full_description":"freestyle/components/_chart_meta renders the given value and text","status":"passed","file_path":"./spec/views/freestyle/components/_chart_meta.html.erb_spec.rb","line_number":4,"run_time":0.053256965,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_chart_meta.html.erb_spec.rb[1:2]","description":"passes displays a status on a value when the status property is set","full_description":"freestyle/components/_chart_meta passes displays a status on a value when the status property is set","status":"passed","file_path":"./spec/views/freestyle/components/_chart_meta.html.erb_spec.rb","line_number":11,"run_time":0.048877102,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_chart_meta.html.erb_spec.rb[1:3]","description":"passes data attributes when the data property is set","full_description":"freestyle/components/_chart_meta passes data attributes when the data property is set","status":"passed","file_path":"./spec/views/freestyle/components/_chart_meta.html.erb_spec.rb","line_number":17,"run_time":0.046701157,"pending_message":null,"screenshot":null},{"id":"./spec/models/support_engineering/company_digests_console_helper_spec.rb[1:1:1]","description":"should schedule deliveries for the specified date","full_description":"SupportEngineering::CompanyDigestsConsoleHelper schedule_company_digest_installments should schedule deliveries for the specified date","status":"passed","file_path":"./spec/models/support_engineering/company_digests_console_helper_spec.rb","line_number":11,"run_time":0.008066171,"pending_message":null,"screenshot":null},{"id":"./spec/models/support_engineering/company_digests_console_helper_spec.rb[1:2:1]","description":"should schedule deliveries for the specified date","full_description":"SupportEngineering::CompanyDigestsConsoleHelper schedule_company_digest_installments! should schedule deliveries for the specified date","status":"passed","file_path":"./spec/models/support_engineering/company_digests_console_helper_spec.rb","line_number":19,"run_time":0.004734226,"pending_message":null,"screenshot":null},{"id":"./spec/models/support_engineering/company_digests_console_helper_spec.rb[1:2:2]","description":"should remove existing batches and schedule deliveries for the specified date","full_description":"SupportEngineering::CompanyDigestsConsoleHelper schedule_company_digest_installments! should remove existing batches and schedule deliveries for the specified date","status":"passed","file_path":"./spec/models/support_engineering/company_digests_console_helper_spec.rb","line_number":25,"run_time":0.007424115,"pending_message":null,"screenshot":null},{"id":"./spec/models/support_engineering/company_digests_console_helper_spec.rb[1:3:1]","description":"should remove all installments for the specified date","full_description":"SupportEngineering::CompanyDigestsConsoleHelper remove_company_digest_installments should remove all installments for the specified date","status":"passed","file_path":"./spec/models/support_engineering/company_digests_console_helper_spec.rb","line_number":35,"run_time":0.0996665,"pending_message":null,"screenshot":null},{"id":"./spec/models/support_engineering/company_digests_console_helper_spec.rb[1:4:1]","description":"should delete installments and reschedule batches","full_description":"SupportEngineering::CompanyDigestsConsoleHelper force_company_digest_installments should delete installments and reschedule batches","status":"passed","file_path":"./spec/models/support_engineering/company_digests_console_helper_spec.rb","line_number":54,"run_time":0.008432337,"pending_message":null,"screenshot":null},{"id":"./spec/models/audit_trail/invoicing_auditor_spec.rb[1:1:1]","description":"creates an audit entry with the expected parameters","full_description":"AuditTrail::InvoicingAuditor.add_sent_email_audit_entry creates an audit entry with the expected parameters","status":"passed","file_path":"./spec/models/audit_trail/invoicing_auditor_spec.rb","line_number":28,"run_time":0.085604149,"pending_message":null,"screenshot":null},{"id":"./spec/models/audit_trail/invoicing_auditor_spec.rb[1:1:2:1]","description":"overrides the actor to be a FreeagentAutomationUser","full_description":"AuditTrail::InvoicingAuditor.add_sent_email_audit_entry when the automated flag is passed in overrides the actor to be a FreeagentAutomationUser","status":"passed","file_path":"./spec/models/audit_trail/invoicing_auditor_spec.rb","line_number":40,"run_time":0.081342057,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/authentication/login_spec.rb[1:1:1]","description":"saves the last_logged_in_at and last_logged_in_via","full_description":"Authentication::Login#successful_login saves the last_logged_in_at and last_logged_in_via","status":"passed","file_path":"./spec/controllers/concerns/authentication/login_spec.rb","line_number":17,"run_time":0.021618043,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/authentication/login_spec.rb[1:1:2:1]","description":"transitions the subscription to subscribed","full_description":"Authentication::Login#successful_login for a provisioned company transitions the subscription to subscribed","status":"passed","file_path":"./spec/controllers/concerns/authentication/login_spec.rb","line_number":31,"run_time":0.104354764,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/authentication/login_spec.rb[1:2:1]","description":"removes scheme and host from the URI","full_description":"Authentication::Login#sanitized_request_uri removes scheme and host from the URI","status":"passed","file_path":"./spec/controllers/concerns/authentication/login_spec.rb","line_number":40,"run_time":0.004541257,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/authentication/login_spec.rb[1:2:2]","description":"removes scheme and host from the URI (when path is absent)","full_description":"Authentication::Login#sanitized_request_uri removes scheme and host from the URI (when path is absent)","status":"passed","file_path":"./spec/controllers/concerns/authentication/login_spec.rb","line_number":45,"run_time":0.00439467,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/authentication/login_spec.rb[1:2:3]","description":"removes scheme and host from the URI (when query is absent)","full_description":"Authentication::Login#sanitized_request_uri removes scheme and host from the URI (when query is absent)","status":"passed","file_path":"./spec/controllers/concerns/authentication/login_spec.rb","line_number":50,"run_time":0.003743794,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/authentication/login_spec.rb[1:2:4]","description":"works without a scheme and host","full_description":"Authentication::Login#sanitized_request_uri works without a scheme and host","status":"passed","file_path":"./spec/controllers/concerns/authentication/login_spec.rb","line_number":55,"run_time":0.003751567,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/authentication/login_spec.rb[1:2:5]","description":"removes scheme and host from the URI (when path and query are absent)","full_description":"Authentication::Login#sanitized_request_uri removes scheme and host from the URI (when path and query are absent)","status":"passed","file_path":"./spec/controllers/concerns/authentication/login_spec.rb","line_number":60,"run_time":0.003575761,"pending_message":null,"screenshot":null}],"summary":{"duration":2.260242358,"example_count":349,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"349 examples, 0 failures"}