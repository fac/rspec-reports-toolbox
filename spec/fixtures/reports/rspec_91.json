{"version":"3.11.0","messages":["Run options:\n  include {:ids=\u003e{\"./spec/controllers/invoices_controller_spec.rb\"=\u003e[\"29:1:1:2:1\", \"15:6:3:1\"], \"./spec/models/uk_accounts_mapper_spec.rb\"=\u003e[\"1:1:2:1:3\", \"1:1:2:2:2\"]}}\n  exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/models/bank_account_entry_spec.rb[1:1]","description":"is Rebillable","full_description":"BankAccountEntry is Rebillable","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":12,"run_time":0.196263517,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:2]","description":"is expected to validate that :gross_value looks like a number","full_description":"BankAccountEntry is expected to validate that :gross_value looks like a number","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":18,"run_time":0.162429294,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:3]","description":"is expected to validate that :description cannot be empty/falsy","full_description":"BankAccountEntry is expected to validate that :description cannot be empty/falsy","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":19,"run_time":0.064618315,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:4]","description":"is expected to belong to project required: false","full_description":"BankAccountEntry is expected to belong to project required: false","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":20,"run_time":0.066153223,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:5]","description":"is expected to have one guessed_explanation class_name =\u003e Banking::Guess::GuessedExplanation dependent =\u003e false","full_description":"BankAccountEntry is expected to have one guessed_explanation class_name =\u003e Banking::Guess::GuessedExplanation dependent =\u003e false","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":21,"run_time":0.056226526,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:16]","description":"validates presence of manual_sales_tax_amount when selected","full_description":"BankAccountEntry validates presence of manual_sales_tax_amount when selected","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":407,"run_time":0.063067792,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:17]","description":"validates presence of manual_second_sales_tax_amount when selected","full_description":"BankAccountEntry validates presence of manual_second_sales_tax_amount when selected","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":413,"run_time":0.055741894,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:18]","description":"validates presence of dated_on","full_description":"BankAccountEntry validates presence of dated_on","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":419,"run_time":0.074960323,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:19]","description":"validates presence of dated_on for a VAT registered company's Invoice receipt transaction","full_description":"BankAccountEntry validates presence of dated_on for a VAT registered company's Invoice receipt transaction","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":426,"run_time":0.242904904,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:20]","description":"validates format of dated_on","full_description":"BankAccountEntry validates format of dated_on","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":433,"run_time":0.056592122,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:21]","description":"validates date in range","full_description":"BankAccountEntry validates date in range","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":440,"run_time":0.638913434,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:24]","description":"sanitizes associations from another company","full_description":"BankAccountEntry sanitizes associations from another company","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":517,"run_time":1.896592813,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:25]","description":"validates the general_ledger_account","full_description":"BankAccountEntry validates the general_ledger_account","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":546,"run_time":0.060087174,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:27]","description":"does not allow to create entry with manual sales tax amount \u003e total value","full_description":"BankAccountEntry does not allow to create entry with manual sales tax amount \u003e total value","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":605,"run_time":0.054194553,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:28]","description":"does not allow creation of an entry with empty value and manual tax amount","full_description":"BankAccountEntry does not allow creation of an entry with empty value and manual tax amount","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":611,"run_time":0.067190703,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:29]","description":"does not allow creation of a user payment with an inconsistent main type","full_description":"BankAccountEntry does not allow creation of a user payment with an inconsistent main type","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":617,"run_time":0.038259265,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:30]","description":"gross_value_and_debit_value_for_payment","full_description":"BankAccountEntry gross_value_and_debit_value_for_payment","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":623,"run_time":0.256492117,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:31]","description":"has an associated user when money is paid to a user","full_description":"BankAccountEntry has an associated user when money is paid to a user","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":631,"run_time":0.107631553,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:32]","description":"has an associated user when money is received from a user","full_description":"BankAccountEntry has an associated user when money is received from a user","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":656,"run_time":0.07479724,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:33]","description":"does not have a paid user unless this is a payment to or from a user","full_description":"BankAccountEntry does not have a paid user unless this is a payment to or from a user","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":677,"run_time":0.525177041,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:34]","description":"handles non-standard vat on save","full_description":"BankAccountEntry handles non-standard vat on save","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":704,"run_time":0.131723498,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:35]","description":"auto_vat","full_description":"BankAccountEntry auto_vat","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":710,"run_time":0.219734182,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:36]","description":"auto_vat with the default_auto_oos_vat_rate feature disabled","full_description":"BankAccountEntry auto_vat with the default_auto_oos_vat_rate feature disabled","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":748,"run_time":0.241188694,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:37]","description":"auto_vat for non VAT registered companies","full_description":"BankAccountEntry auto_vat for non VAT registered companies","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":788,"run_time":0.032777639,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:38]","description":"stores_high_precision_sales_tax_rate","full_description":"BankAccountEntry stores_high_precision_sales_tax_rate","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":799,"run_time":0.106387957,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:39]","description":"calculates_non_standard_sales_tax_from_manual_amount","full_description":"BankAccountEntry calculates_non_standard_sales_tax_from_manual_amount","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":805,"run_time":0.028749634,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:40]","description":"calculates_all_sales_tax_from_manual_amount","full_description":"BankAccountEntry calculates_all_sales_tax_from_manual_amount","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":819,"run_time":0.028810384,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:41]","description":"calculates_all_sales_tax_from_manual_amount_two","full_description":"BankAccountEntry calculates_all_sales_tax_from_manual_amount_two","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":832,"run_time":0.027651496,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:42]","description":"calculates_all_sales_tax_from_manual_amount_refund","full_description":"BankAccountEntry calculates_all_sales_tax_from_manual_amount_refund","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":845,"run_time":0.029027243,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:45]","description":"realized_currency_gain_main_type","full_description":"BankAccountEntry realized_currency_gain_main_type","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1042,"run_time":0.031293013,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:46]","description":"should_be_able_to_relate_to_project_without_being_rebilled_to_project","full_description":"BankAccountEntry should_be_able_to_relate_to_project_without_being_rebilled_to_project","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1061,"run_time":0.019201459,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:47]","description":"should_define_valid_rebill_type_values","full_description":"BankAccountEntry should_define_valid_rebill_type_values","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1070,"run_time":0.003904679,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:48]","description":"should_return_project_as_rebill_to_project_if_rebill_type_is_not_nil","full_description":"BankAccountEntry should_return_project_as_rebill_to_project_if_rebill_type_is_not_nil","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1075,"run_time":0.016307413,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:49]","description":"should_return_project_id_as_rebill_to_project_id_if_rebill_type_is_not_nil","full_description":"BankAccountEntry should_return_project_id_as_rebill_to_project_id_if_rebill_type_is_not_nil","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1082,"run_time":0.013947378,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:50]","description":"should_set_project_and_rebill_type_as_cost_if_setting_rebill_to_project","full_description":"BankAccountEntry should_set_project_and_rebill_type_as_cost_if_setting_rebill_to_project","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1089,"run_time":0.014113253,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:51]","description":"should_set_project_id_and_rebill_type_as_cost_if_setting_rebill_to_project_id","full_description":"BankAccountEntry should_set_project_id_and_rebill_type_as_cost_if_setting_rebill_to_project_id","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1100,"run_time":0.01526003,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:52]","description":"should_validate_rebill_type_against_REBILL_TYPES","full_description":"BankAccountEntry should_validate_rebill_type_against_REBILL_TYPES","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1111,"run_time":0.054594698,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:53]","description":"should_validate_rebill_factor_for_numericality","full_description":"BankAccountEntry should_validate_rebill_factor_for_numericality","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1119,"run_time":0.061356264,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:54]","description":"should_return_gross_value_as_rebilled_net_value_if_bank_account_entry_is_rebillable_and_rebill_type_is_cost_and_bank_account_entry_does_not_include_sales_tax","full_description":"BankAccountEntry should_return_gross_value_as_rebilled_net_value_if_bank_account_entry_is_rebillable_and_rebill_type_is_cost_and_bank_account_entry_does_not_include_sales_tax","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1130,"run_time":0.022804197,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:55]","description":"should_return_net_value_as_rebilled_net_value_if_bank_account_entry_is_rebillable_and_rebill_type_is_cost_and_bank_account_entry_does_include_sales_tax","full_description":"BankAccountEntry should_return_net_value_as_rebilled_net_value_if_bank_account_entry_is_rebillable_and_rebill_type_is_cost_and_bank_account_entry_does_include_sales_tax","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1145,"run_time":0.023121372,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:56]","description":"should_return_gross_value_as_rebilled_gross_value_if_bank_account_entry_is_rebillable_and_rebill_type_is_cost_and_bank_account_entry_does_not_include_sales_tax","full_description":"BankAccountEntry should_return_gross_value_as_rebilled_gross_value_if_bank_account_entry_is_rebillable_and_rebill_type_is_cost_and_bank_account_entry_does_not_include_sales_tax","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1159,"run_time":0.022428526,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:57]","description":"should_return_net_value_as_rebilled_gross_value_if_bank_account_entry_is_rebillable_and_rebill_type_is_cost_and_bank_account_entry_does_include_sales_tax","full_description":"BankAccountEntry should_return_net_value_as_rebilled_gross_value_if_bank_account_entry_is_rebillable_and_rebill_type_is_cost_and_bank_account_entry_does_include_sales_tax","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1174,"run_time":0.017711993,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:58]","description":"should_return_gross_value_with_percentage_markup_as_rebilled_net_value_if_bank_account_entry_is_rebillable_and_rebill_type_is_markup_and_bank_account_entry_does_not_include_sales_tax","full_description":"BankAccountEntry should_return_gross_value_with_percentage_markup_as_rebilled_net_value_if_bank_account_entry_is_rebillable_and_rebill_type_is_markup_and_bank_account_entry_does_not_include_sales_tax","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1188,"run_time":0.017603192,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:59]","description":"should_return_net_value_with_percentage_markup_as_rebilled_net_value_if_bank_account_entry_is_rebillable_and_rebill_type_is_markup_and_bank_account_entry_does_not_include_sales_tax","full_description":"BankAccountEntry should_return_net_value_with_percentage_markup_as_rebilled_net_value_if_bank_account_entry_is_rebillable_and_rebill_type_is_markup_and_bank_account_entry_does_not_include_sales_tax","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1206,"run_time":0.02058602,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:60]","description":"should_return_gross_value_with_percentage_markup_as_rebilled_gross_value_if_bank_account_entry_is_rebillable_and_rebill_type_is_markup_and_bank_account_entry_does_not_include_sales_tax","full_description":"BankAccountEntry should_return_gross_value_with_percentage_markup_as_rebilled_gross_value_if_bank_account_entry_is_rebillable_and_rebill_type_is_markup_and_bank_account_entry_does_not_include_sales_tax","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1222,"run_time":0.017391434,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:61]","description":"should_return_gross_value_with_percentage_markup_as_rebilled_gross_value_if_bank_account_entry_is_rebillable_and_rebill_type_is_markup_and_bank_account_entry_does_not_include_sales_tax","full_description":"BankAccountEntry should_return_gross_value_with_percentage_markup_as_rebilled_gross_value_if_bank_account_entry_is_rebillable_and_rebill_type_is_markup_and_bank_account_entry_does_not_include_sales_tax","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1239,"run_time":0.017539104,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:62]","description":"should_return_rebill_factor_as_rebilled_net_value_if_bank_account_entry_is_rebillable_and_rebill_type_is_price_and_bank_account_entry_does_not_include_sales_tax","full_description":"BankAccountEntry should_return_rebill_factor_as_rebilled_net_value_if_bank_account_entry_is_rebillable_and_rebill_type_is_price_and_bank_account_entry_does_not_include_sales_tax","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1255,"run_time":0.016612454,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:63]","description":"should_return_rebill_factor_as_rebilled_net_value_if_bank_account_entry_is_rebillable_and_rebill_type_is_price_and_bank_account_entry_does_include_sales_tax","full_description":"BankAccountEntry should_return_rebill_factor_as_rebilled_net_value_if_bank_account_entry_is_rebillable_and_rebill_type_is_price_and_bank_account_entry_does_include_sales_tax","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1272,"run_time":0.016809226,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:64]","description":"should_return_rebill_factor_as_rebilled_gross_value_if_bank_account_entry_is_rebillable_and_rebill_type_is_price_and_bank_account_entry_does_not_include_sales_tax","full_description":"BankAccountEntry should_return_rebill_factor_as_rebilled_gross_value_if_bank_account_entry_is_rebillable_and_rebill_type_is_price_and_bank_account_entry_does_not_include_sales_tax","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1288,"run_time":0.01903405,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:65]","description":"should_return_rebill_factor_as_rebilled_gross_value_if_bank_account_entry_is_rebillable_and_rebill_type_is_price_and_bank_account_entry_does_include_sales_tax","full_description":"BankAccountEntry should_return_rebill_factor_as_rebilled_gross_value_if_bank_account_entry_is_rebillable_and_rebill_type_is_price_and_bank_account_entry_does_include_sales_tax","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1305,"run_time":0.015690303,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:66]","description":"should_return_rebill_factor_as_rebilled_net_value_if_bank_account_entry_is_rebillable_and_rebill_type_is_price_and_bank_account_entry_does_not_include_sales_tax_and_bank_account_entry_is_a_refund","full_description":"BankAccountEntry should_return_rebill_factor_as_rebilled_net_value_if_bank_account_entry_is_rebillable_and_rebill_type_is_price_and_bank_account_entry_does_not_include_sales_tax_and_bank_account_entry_is_a_refund","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1321,"run_time":0.016376553,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:67]","description":"should_return_rebill_factor_as_rebilled_net_value_if_bank_account_entry_is_rebillable_and_rebill_type_is_price_and_bank_account_entry_does_include_sales_tax_and_bank_account_entry_is_a_refund","full_description":"BankAccountEntry should_return_rebill_factor_as_rebilled_net_value_if_bank_account_entry_is_rebillable_and_rebill_type_is_price_and_bank_account_entry_does_include_sales_tax_and_bank_account_entry_is_a_refund","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1339,"run_time":0.016282332,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:68]","description":"should_return_rebill_factor_as_rebilled_gross_value_if_bank_account_entry_is_rebillable_and_rebill_type_is_price_and_bank_account_entry_does_not_include_sales_tax_and_bank_account_entry_is_a_refund","full_description":"BankAccountEntry should_return_rebill_factor_as_rebilled_gross_value_if_bank_account_entry_is_rebillable_and_rebill_type_is_price_and_bank_account_entry_does_not_include_sales_tax_and_bank_account_entry_is_a_refund","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1356,"run_time":0.01630422,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:69]","description":"should_return_rebill_factor_as_rebilled_gross_value_if_bank_account_entry_is_rebillable_and_rebill_type_is_price_and_bank_account_entry_does_include_sales_tax_and_bank_account_entry_is_a_refund","full_description":"BankAccountEntry should_return_rebill_factor_as_rebilled_gross_value_if_bank_account_entry_is_rebillable_and_rebill_type_is_price_and_bank_account_entry_does_include_sales_tax_and_bank_account_entry_is_a_refund","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1374,"run_time":0.017038577,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:79]","description":"reports invoice_payment_fraction when part paying an invoice","full_description":"BankAccountEntry reports invoice_payment_fraction when part paying an invoice","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1767,"run_time":0.03964312,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:80]","description":"reports invoice_payment_fraction when part paying a foreign currency invoice","full_description":"BankAccountEntry reports invoice_payment_fraction when part paying a foreign currency invoice","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1774,"run_time":0.403892797,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:81]","description":"reports invoice_payment_fraction as zero when not paying an invoice","full_description":"BankAccountEntry reports invoice_payment_fraction as zero when not paying an invoice","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1785,"run_time":0.055367213,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:82]","description":"reports invoice_payment_fraction as zero when invoice value is zero","full_description":"BankAccountEntry reports invoice_payment_fraction as zero when invoice value is zero","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1790,"run_time":0.205202693,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:83]","description":"requires a quantity when purchasing stock","full_description":"BankAccountEntry requires a quantity when purchasing stock","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1797,"run_time":0.069764995,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:84]","description":"requires that the stock item belongs to the bank account entry's company","full_description":"BankAccountEntry requires that the stock item belongs to the bank account entry's company","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1804,"run_time":0.06320979,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:85]","description":"identifies ExpenseConstants::PURCHASE_OF_STOCK as being a stock submitted_main_type","full_description":"BankAccountEntry identifies ExpenseConstants::PURCHASE_OF_STOCK as being a stock submitted_main_type","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1812,"run_time":0.003825086,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:86]","description":"identifies identify ExpenseConstants::SALE_OF_STOCK as being a stock submitted_main_type","full_description":"BankAccountEntry identifies identify ExpenseConstants::SALE_OF_STOCK as being a stock submitted_main_type","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1817,"run_time":0.003026013,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:87]","description":"clears stock fields when no nominal_code and submitted_main_type is not stock-related","full_description":"BankAccountEntry clears stock fields when no nominal_code and submitted_main_type is not stock-related","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1822,"run_time":0.027723656,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:88]","description":"is able to destroy associated bank transactions when manual","full_description":"BankAccountEntry is able to destroy associated bank transactions when manual","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1830,"run_time":0.004423766,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:89]","description":"is not able to destroy associated bank transactions when not manual","full_description":"BankAccountEntry is not able to destroy associated bank transactions when not manual","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1838,"run_time":0.004586554,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:92]","description":"defines rebillable main types as ExpenseConstants::PAYMENT and ExpenseConstants::REFUND","full_description":"BankAccountEntry defines rebillable main types as ExpenseConstants::PAYMENT and ExpenseConstants::REFUND","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1925,"run_time":0.003250495,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:93]","description":"is able to clear rebillable fields if it does not have a rebillable main type","full_description":"BankAccountEntry is able to clear rebillable fields if it does not have a rebillable main type","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1933,"run_time":0.003177464,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:94]","description":"is able to clear rebillable fields by removing the project association","full_description":"BankAccountEntry is able to clear rebillable fields by removing the project association","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1944,"run_time":0.17026362,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:115]","description":"normalises foreign currency value","full_description":"BankAccountEntry normalises foreign currency value","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2627,"run_time":1.056938476,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:121]","description":"has a nil display_type if there is a main type but no general_ledger_account","full_description":"BankAccountEntry has a nil display_type if there is a main type but no general_ledger_account","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2808,"run_time":0.004489914,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:122]","description":"is_vatable? defaults to false","full_description":"BankAccountEntry is_vatable? defaults to false","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2812,"run_time":0.004218731,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:123]","description":"assigns the company_id","full_description":"BankAccountEntry assigns the company_id","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2816,"run_time":0.114405512,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:6:1]","description":"causes the owning BankAccount's updated_at to be updated on creation","full_description":"BankAccountEntry touching-up BankAccounts causes the owning BankAccount's updated_at to be updated on creation","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":30,"run_time":0.205082239,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:6:2]","description":"causes the owning BankAccount's updated_at to be updated on update","full_description":"BankAccountEntry touching-up BankAccounts causes the owning BankAccount's updated_at to be updated on update","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":37,"run_time":0.213223308,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:6:3]","description":"causes the owning BankAccount's updated_at to be updated when destroyed","full_description":"BankAccountEntry touching-up BankAccounts causes the owning BankAccount's updated_at to be updated when destroyed","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":44,"run_time":0.231195964,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:6:4]","description":"causes the owning BankAccount's updated_at to be updated when destroyed","full_description":"BankAccountEntry touching-up BankAccounts causes the owning BankAccount's updated_at to be updated when destroyed","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":52,"run_time":0.203013421,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:7:1]","description":"causes the owning BankTransaction's updated_at to be updated on update","full_description":"BankAccountEntry touching-up BankTransaction causes the owning BankTransaction's updated_at to be updated on update","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":68,"run_time":0.292820394,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:7:2]","description":"doesn't cause the owning BankTransaction's suggestions to change","full_description":"BankAccountEntry touching-up BankTransaction doesn't cause the owning BankTransaction's suggestions to change","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":75,"run_time":0.308512806,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:7:3]","description":"causes the owning BankTransaction's suggestions to be deleted on destroy","full_description":"BankAccountEntry touching-up BankTransaction causes the owning BankTransaction's suggestions to be deleted on destroy","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":82,"run_time":0.331873236,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:7:4]","description":"causes the owning BankTransaction's suggestions to be deleted on review","full_description":"BankAccountEntry touching-up BankTransaction causes the owning BankTransaction's suggestions to be deleted on review","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":89,"run_time":0.353716631,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:8:1]","description":"concatenates the description and formatted amount","full_description":"BankAccountEntry#auditable_name concatenates the description and formatted amount","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":101,"run_time":0.054752058,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:9:1]","description":"returns self","full_description":"BankAccountEntry#auditable_entity returns self","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":112,"run_time":0.110072706,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:10:1]","description":"formats as the currency on the bank account","full_description":"BankAccountEntry#formatted_abs_gross_value formats as the currency on the bank account","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":120,"run_time":0.045464268,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:10:2:1]","description":"absolutes any negative values","full_description":"BankAccountEntry#formatted_abs_gross_value when the gross_value is negative absolutes any negative values","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":127,"run_time":0.045171914,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:10:3:1]","description":"displays as the local currency","full_description":"BankAccountEntry#formatted_abs_gross_value when the bank account is not GBP displays as the local currency","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":140,"run_time":0.022515529,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:11:1:1]","description":"returns whether the sales tax on the bank account entry date is reclaimable","full_description":"BankAccountEntry#sales_tax_relevant? when the bank account entry is a purchase returns whether the sales tax on the bank account entry date is reclaimable","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":175,"run_time":0.026109151,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:11:1:2:1]","description":"returns false","full_description":"BankAccountEntry#sales_tax_relevant? when the bank account entry is a purchase when it is a bill payment returns false","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":187,"run_time":0.096237786,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:11:2:1:1]","description":"returns true","full_description":"BankAccountEntry#sales_tax_relevant? when the bank account entry is a sale when the sales tax is being charged on the bank account entry date returns true","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":207,"run_time":0.026012269,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:11:2:2:1]","description":"returns false","full_description":"BankAccountEntry#sales_tax_relevant? when the bank account entry is a sale when the sales tax is NOT being charged on the bank account entry date returns false","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":215,"run_time":0.062360573,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:11:2:2:2:1]","description":"returns true","full_description":"BankAccountEntry#sales_tax_relevant? when the bank account entry is a sale when the sales tax is NOT being charged on the bank account entry date when the bank account entry is subject to VAT MOSS returns true","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":222,"run_time":0.120507795,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:11:2:3:1]","description":"returns true","full_description":"BankAccountEntry#sales_tax_relevant? when the bank account entry is a sale when the bank account entry is a rental income refund returns true","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":237,"run_time":0.103169327,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:11:2:4:1]","description":"returns false","full_description":"BankAccountEntry#sales_tax_relevant? when the bank account entry is a sale when it is an invoice receipt returns false","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":250,"run_time":0.547149389,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:12:1:1]","description":"returns whether the sales tax on the bank account entry date is reclaimable for secondary sales tax","full_description":"BankAccountEntry#second_sales_tax_relevant? when the bank account entry is a purchase returns whether the sales tax on the bank account entry date is reclaimable for secondary sales tax","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":284,"run_time":0.029679623,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:12:1:2:1]","description":"returns false","full_description":"BankAccountEntry#second_sales_tax_relevant? when the bank account entry is a purchase when it is a bill payment returns false","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":296,"run_time":0.118900875,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:12:2:1:1]","description":"returns true","full_description":"BankAccountEntry#second_sales_tax_relevant? when the bank account entry is a sale when the secondary sales tax is being charged on the bank account entry date returns true","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":316,"run_time":0.033463716,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:12:2:2:1]","description":"returns false","full_description":"BankAccountEntry#second_sales_tax_relevant? when the bank account entry is a sale when the secondary sales tax is NOT being charged on the bank account entry date returns false","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":324,"run_time":0.032505727,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:12:2:2:2:1]","description":"returns false","full_description":"BankAccountEntry#second_sales_tax_relevant? when the bank account entry is a sale when the secondary sales tax is NOT being charged on the bank account entry date when the bank account entry is subject to VAT MOSS returns false","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":331,"run_time":0.024622653,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:12:2:3:1]","description":"returns false","full_description":"BankAccountEntry#second_sales_tax_relevant? when the bank account entry is a sale when it is an invoice receipt returns false","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":345,"run_time":0.113107911,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:13:1:1]","description":"has no VAT amount","full_description":"BankAccountEntry#sales_tax_value a VAT exempt bank account entry has no VAT amount","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":361,"run_time":0.127156851,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:14:1]","description":"is valid when an allowed rate is supplied","full_description":"BankAccountEntry#sales_tax_rate is valid when an allowed rate is supplied","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":370,"run_time":0.06738705,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:14:2]","description":"is invalid when the rate is not a number","full_description":"BankAccountEntry#sales_tax_rate is invalid when the rate is not a number","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":374,"run_time":0.061379264,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:14:3]","description":"is invalid when the rate is not an allowed rate","full_description":"BankAccountEntry#sales_tax_rate is invalid when the rate is not an allowed rate","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":378,"run_time":0.06065943,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:14:4]","description":"is valid when the rate is greater than 100%","full_description":"BankAccountEntry#sales_tax_rate is valid when the rate is greater than 100%","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":382,"run_time":0.069127222,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:15:1]","description":"is valid when an allowed rate is supplied","full_description":"BankAccountEntry#second_sales_tax_rate is valid when an allowed rate is supplied","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":390,"run_time":0.05720557,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:15:2]","description":"is invalid when the rate is not a number","full_description":"BankAccountEntry#second_sales_tax_rate is invalid when the rate is not a number","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":394,"run_time":0.055204636,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:15:3]","description":"is invalid when the rate is not an allowed rate","full_description":"BankAccountEntry#second_sales_tax_rate is invalid when the rate is not an allowed rate","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":398,"run_time":0.058525859,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:15:4]","description":"is valid when the rate is greater than 100%","full_description":"BankAccountEntry#second_sales_tax_rate is valid when the rate is greater than 100%","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":402,"run_time":0.055797271,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:22:1:1]","description":"is valid","full_description":"BankAccountEntry validates paid_invoice paid_invoice is not draft or written off is valid","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":466,"run_time":0.069865384,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:22:2:1]","description":"is not valid","full_description":"BankAccountEntry validates paid_invoice paid_invoice is draft is not valid","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":473,"run_time":0.071389287,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:22:2:2]","description":"creates single error","full_description":"BankAccountEntry validates paid_invoice paid_invoice is draft creates single error","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":477,"run_time":0.079382064,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:22:2:3]","description":"error message correct","full_description":"BankAccountEntry validates paid_invoice paid_invoice is draft error message correct","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":482,"run_time":0.085725618,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:22:3:1]","description":"is not valid","full_description":"BankAccountEntry validates paid_invoice paid_invoice is written off is not valid","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":491,"run_time":0.078684722,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:22:3:2]","description":"creates single error","full_description":"BankAccountEntry validates paid_invoice paid_invoice is written off creates single error","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":495,"run_time":0.079419793,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:22:3:3]","description":"error message correct","full_description":"BankAccountEntry validates paid_invoice paid_invoice is written off error message correct","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":500,"run_time":0.07467638,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:23:1]","description":"is valid and can be saved if the entry already exists","full_description":"BankAccountEntry an invoice is partially paid and partially written off is valid and can be saved if the entry already exists","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":511,"run_time":0.637413983,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:26:1]","description":"has an display type of 'GST'","full_description":"BankAccountEntry Multiple sales tax periods has an display type of 'GST'","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":579,"run_time":0.262797796,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:26:2]","description":"does not change display type when newer sales tax period exists and nominal code is maintained","full_description":"BankAccountEntry Multiple sales tax periods does not change display type when newer sales tax period exists and nominal code is maintained","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":584,"run_time":0.270797844,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:26:3]","description":"has an additional description equal to the sales tax name","full_description":"BankAccountEntry Multiple sales tax periods has an additional description equal to the sales tax name","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":593,"run_time":0.26269129,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:43:1]","description":"returns appropriate main types","full_description":"BankAccountEntry main_types returns appropriate main types","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":862,"run_time":0.155576782,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:43:2:1:1]","description":"returns Other Money Out when gross value is negative","full_description":"BankAccountEntry main_types with a custom balance sheet account when custom equity returns Other Money Out when gross value is negative","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":890,"run_time":0.030775956,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:43:2:1:2]","description":"returns Other Money In when gross value is positive","full_description":"BankAccountEntry main_types with a custom balance sheet account when custom equity returns Other Money In when gross value is positive","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":899,"run_time":0.027715144,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:43:2:2:1]","description":"returns Other Money Out when gross value is negative","full_description":"BankAccountEntry main_types with a custom balance sheet account when custom liability returns Other Money Out when gross value is negative","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":918,"run_time":0.027104594,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:43:2:2:2]","description":"returns Other Money In when gross value is positive","full_description":"BankAccountEntry main_types with a custom balance sheet account when custom liability returns Other Money In when gross value is positive","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":927,"run_time":0.029189505,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:43:2:3:1]","description":"returns Other Money Out when gross value is negative","full_description":"BankAccountEntry main_types with a custom balance sheet account when custom current asset returns Other Money Out when gross value is negative","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":946,"run_time":0.03452546,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:43:2:3:2]","description":"returns Other Money In when gross value is positive","full_description":"BankAccountEntry main_types with a custom balance sheet account when custom current asset returns Other Money In when gross value is positive","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":955,"run_time":0.028181097,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:44:1:1:1]","description":"doesn't require property","full_description":"BankAccountEntry when company is a UK landlord when validating property required when entry is a capital asset disposal doesn't require property","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":982,"run_time":0.263765937,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:44:1:2:1]","description":"requires property","full_description":"BankAccountEntry when company is a UK landlord when validating property required when entry is rental income requires property","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":993,"run_time":0.129893989,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:44:2:1:1:1]","description":"is expected to eq \"Rental Deposits In\"","full_description":"BankAccountEntry when company is a UK landlord #main_type rental deposits rental deposits received money in is expected to eq \"Rental Deposits In\"","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1018,"run_time":0.105000451,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:44:2:1:2:1]","description":"is expected to eq \"Rental Deposits Out\"","full_description":"BankAccountEntry when company is a UK landlord #main_type rental deposits rental deposits received money out is expected to eq \"Rental Deposits Out\"","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1024,"run_time":0.099483918,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:44:2:1:3:1]","description":"is expected to eq \"Rental Deposits In\"","full_description":"BankAccountEntry when company is a UK landlord #main_type rental deposits rental deposit scheme money in is expected to eq \"Rental Deposits In\"","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1030,"run_time":0.101866069,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:44:2:1:4:1]","description":"is expected to eq \"Rental Deposits Out\"","full_description":"BankAccountEntry when company is a UK landlord #main_type rental deposits rental deposit scheme money out is expected to eq \"Rental Deposits Out\"","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1036,"run_time":0.110016882,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:70:1:1:1]","description":"sets the gross_value and foreign_currency_value fields","full_description":"BankAccountEntry a vat registered company recording invoice receipts that are dated after the invoice date sets the gross_value and foreign_currency_value fields","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1404,"run_time":0.851577138,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:70:1:1:2]","description":"does not allow the date to be after invoice's written-off date","full_description":"BankAccountEntry a vat registered company recording invoice receipts that are dated after the invoice date does not allow the date to be after invoice's written-off date","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1409,"run_time":0.786590215,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:70:1:1:3]","description":"allows the date to be on the invoice's written-off date","full_description":"BankAccountEntry a vat registered company recording invoice receipts that are dated after the invoice date allows the date to be on the invoice's written-off date","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1416,"run_time":0.880102419,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:70:1:2:1]","description":"is invalid if the invoice is after VAT registration and the receipt is before VAT registration","full_description":"BankAccountEntry a vat registered company recording invoice receipts that are dated before the invoice date is invalid if the invoice is after VAT registration and the receipt is before VAT registration","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1433,"run_time":0.521277778,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:70:1:2:2:1]","description":"is invalid for pre-payment entry dated before the vat registration start date of the invoice","full_description":"BankAccountEntry a vat registered company recording invoice receipts that are dated before the invoice date with multiple registrations is invalid for pre-payment entry dated before the vat registration start date of the invoice","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1464,"run_time":1.861974839,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:70:1:2:2:2]","description":"is valid for pre-payment entry dated on/after the vat registration start date of the invoice","full_description":"BankAccountEntry a vat registered company recording invoice receipts that are dated before the invoice date with multiple registrations is valid for pre-payment entry dated on/after the vat registration start date of the invoice","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1487,"run_time":1.226924167,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:71:1]","description":"is not deletable","full_description":"BankAccountEntry A locked bank account entry is not deletable","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1520,"run_time":0.04967466,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:71:2]","description":"is not be destroyable","full_description":"BankAccountEntry A locked bank account entry is not be destroyable","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1524,"run_time":0.217204752,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:72:1]","description":"has the correct display type","full_description":"BankAccountEntry a bank account entry associated with a spending category has the correct display type","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1537,"run_time":0.044756222,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:72:2]","description":"returns ExpenseConstants::PAYMENT as its main type given a negative gross_value","full_description":"BankAccountEntry a bank account entry associated with a spending category returns ExpenseConstants::PAYMENT as its main type given a negative gross_value","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1542,"run_time":0.054400529,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:72:3]","description":"returns ExpenseConstants::REFUND as its main type given a positive gross_value","full_description":"BankAccountEntry a bank account entry associated with a spending category returns ExpenseConstants::REFUND as its main type given a positive gross_value","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1547,"run_time":0.049257046,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:72:4]","description":"inherits the admin expenses account's nominal_code","full_description":"BankAccountEntry a bank account entry associated with a spending category inherits the admin expenses account's nominal_code","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1552,"run_time":0.045857882,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:72:5]","description":"does not assert that it is turnover","full_description":"BankAccountEntry a bank account entry associated with a spending category does not assert that it is turnover","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1556,"run_time":0.048755976,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:72:6]","description":"is invalid without a description","full_description":"BankAccountEntry a bank account entry associated with a spending category is invalid without a description","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1560,"run_time":0.068497677,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:73:1]","description":"has the correct display type","full_description":"BankAccountEntry a bank account entry associated with an income account has the correct display type","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1578,"run_time":0.02428815,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:73:2]","description":"returns SALES as its main type","full_description":"BankAccountEntry a bank account entry associated with an income account returns SALES as its main type","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1583,"run_time":0.023362369,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:73:3]","description":"inherits the income account's nominal_code","full_description":"BankAccountEntry a bank account entry associated with an income account inherits the income account's nominal_code","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1587,"run_time":0.023550483,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:73:4]","description":"asserts that it is turnover","full_description":"BankAccountEntry a bank account entry associated with an income account asserts that it is turnover","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1591,"run_time":0.026076844,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:74:1]","description":"does not assert that it is turnover","full_description":"BankAccountEntry a capital asset purchase does not assert that it is turnover","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1607,"run_time":0.16016347,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:74:2]","description":"is a capital asset transaction","full_description":"BankAccountEntry a capital asset purchase is a capital asset transaction","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1611,"run_time":0.140696064,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:74:3]","description":"is purchase of a capital asset","full_description":"BankAccountEntry a capital asset purchase is purchase of a capital asset","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1615,"run_time":0.132093549,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:74:4]","description":"cannot be re-explained as a capital asset disposal of the same asset","full_description":"BankAccountEntry a capital asset purchase cannot be re-explained as a capital asset disposal of the same asset","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1619,"run_time":0.159281143,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:74:5]","description":"includes sales tax in the capital asset ledger entries","full_description":"BankAccountEntry a capital asset purchase includes sales tax in the capital asset ledger entries","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1629,"run_time":0.179235869,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:75:1]","description":"is not allowed a purchase date after the disposal date","full_description":"BankAccountEntry a capital asset purchase with a disposal is not allowed a purchase date after the disposal date","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1641,"run_time":0.28848479,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:75:2]","description":"is allowed a purchase date on the disposal date","full_description":"BankAccountEntry a capital asset purchase with a disposal is allowed a purchase date on the disposal date","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1646,"run_time":0.276360426,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:75:3]","description":"has a locked nominal code","full_description":"BankAccountEntry a capital asset purchase with a disposal has a locked nominal code","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1651,"run_time":0.303349854,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:75:4]","description":"is not able to change the nominal code","full_description":"BankAccountEntry a capital asset purchase with a disposal is not able to change the nominal code","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1658,"run_time":0.276980027,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:75:5]","description":"rebuilds the disposal ledgers when the purchase is edited","full_description":"BankAccountEntry a capital asset purchase with a disposal rebuilds the disposal ledgers when the purchase is edited","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1665,"run_time":0.351197318,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:76:1]","description":"is a capital asset transaction","full_description":"BankAccountEntry a capital asset disposal is a capital asset transaction","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1679,"run_time":0.237304617,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:76:2]","description":"is disposal of a capital asset","full_description":"BankAccountEntry a capital asset disposal is disposal of a capital asset","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1683,"run_time":0.243838427,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:76:3:1]","description":"still is a disposal of a capital asset","full_description":"BankAccountEntry a capital asset disposal with zero value still is a disposal of a capital asset","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1692,"run_time":0.260573906,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:76:4:1]","description":"has the gross_value normalised to +100","full_description":"BankAccountEntry a capital asset disposal with a negative gross value has the gross_value normalised to +100","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1703,"run_time":0.289477574,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:76:5:1]","description":"is not valid","full_description":"BankAccountEntry a capital asset disposal with a date prior to the purchase date is not valid","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1714,"run_time":0.300592701,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:77:1]","description":"is able to update ledger entries","full_description":"BankAccountEntry a flat rate vat registered company with an old style capital asset disposal is able to update ledger entries","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1730,"run_time":0.255068072,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:78:1:1]","description":"returns the gross value of a payment","full_description":"BankAccountEntry#settled_invoice_value native currency invoice returns the gross value of a payment","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1739,"run_time":0.038495464,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:78:2:1]","description":"returns the foreign currency value of the payment","full_description":"BankAccountEntry#settled_invoice_value foreign currency invoice returns the foreign currency value of the payment","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1753,"run_time":0.388532442,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:90:1]","description":"creates an associated manual bank transaction","full_description":"BankAccountEntry A manual entry creates an associated manual bank transaction","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1853,"run_time":0.104829717,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:90:2]","description":"updates the associated manual bank transaction when the gross value has changed","full_description":"BankAccountEntry A manual entry updates the associated manual bank transaction when the gross value has changed","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1860,"run_time":0.1455795,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:90:3]","description":"updates the associated manual bank transaction when dated on is changed","full_description":"BankAccountEntry A manual entry updates the associated manual bank transaction when dated on is changed","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1868,"run_time":0.180082525,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:91:1:1]","description":"takes the property ID from the paid invoice rather than the bank account entry","full_description":"BankAccountEntry#source_item_property_id the entry is an invoice receipt takes the property ID from the paid invoice rather than the bank account entry","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1886,"run_time":0.46127988,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:91:2:1]","description":"is expected to be nil","full_description":"BankAccountEntry#source_item_property_id the entry is a bill payment is expected to be nil","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1899,"run_time":0.462900377,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:91:2:2:1]","description":"is expected to be nil","full_description":"BankAccountEntry#source_item_property_id the entry is a bill payment where the bank account entry is incorrectly tagged with a property is expected to be nil","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1904,"run_time":0.486326973,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:91:3:1]","description":"is expected to eq nil","full_description":"BankAccountEntry#source_item_property_id property ID is set is expected to eq nil","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1915,"run_time":0.048423223,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:91:4:1]","description":"is expected to be nil","full_description":"BankAccountEntry#source_item_property_id property ID is not set is expected to be nil","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1921,"run_time":0.053218558,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:95:1:1]","description":"loads new invoice","full_description":"BankAccountEntry setting paid_invoice_id when bank account entry is invalid when bank account entry is invalid loads new invoice","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1971,"run_time":0.467250812,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:95:1:2]","description":"loads existing invoice if unchanged","full_description":"BankAccountEntry setting paid_invoice_id when bank account entry is invalid when bank account entry is invalid loads existing invoice if unchanged","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1977,"run_time":0.447252127,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:96:1]","description":"has the expected gross value","full_description":"BankAccountEntry A bank account entry with an awkward gross value has the expected gross value","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1993,"run_time":0.099612934,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:96:2]","description":"has the expected NET value","full_description":"BankAccountEntry A bank account entry with an awkward gross value has the expected NET value","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":1997,"run_time":0.094086205,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:96:3]","description":"has the expected Sales Tax value","full_description":"BankAccountEntry A bank account entry with an awkward gross value has the expected Sales Tax value","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2001,"run_time":0.095070481,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:96:4]","description":"has a gross value that is the sum of the net value plus the sales tax value","full_description":"BankAccountEntry A bank account entry with an awkward gross value has a gross value that is the sum of the net value plus the sales tax value","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2005,"run_time":0.096783776,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:97:1]","description":"is deletable","full_description":"BankAccountEntry a receipt from initial debtor in a vat locked period is deletable","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2018,"run_time":0.320098115,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:98:1]","description":"is able to be created if the entry type is an initial debtor receipt","full_description":"BankAccountEntry creating bank account entries in vat locked periods is able to be created if the entry type is an initial debtor receipt","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2030,"run_time":0.223571797,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:98:2]","description":"is able to be created if the entry type is not a vat locked main type","full_description":"BankAccountEntry creating bank account entries in vat locked periods is able to be created if the entry type is not a vat locked main type","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2035,"run_time":0.222218463,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:98:3]","description":"is able to be created with a vat locked main type outwith the locked period","full_description":"BankAccountEntry creating bank account entries in vat locked periods is able to be created with a vat locked main type outwith the locked period","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2040,"run_time":0.216067348,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:99:1]","description":"is able to be updated","full_description":"BankAccountEntry updating bank account entries in vat locked periods is able to be updated","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2056,"run_time":0.36497014,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:100:1]","description":"sets itself as the explanation for the given bank transaction","full_description":"BankAccountEntry#use_to_explain sets itself as the explanation for the given bank transaction","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2065,"run_time":0.186736633,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:100:2]","description":"deletes the previously explained transaction if it was manual","full_description":"BankAccountEntry#use_to_explain deletes the previously explained transaction if it was manual","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2075,"run_time":0.151428319,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:100:3]","description":"does not delete the previously explained transaction if it was not manual","full_description":"BankAccountEntry#use_to_explain does not delete the previously explained transaction if it was not manual","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2084,"run_time":0.183131814,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:100:4]","description":"marks itself for review when told to do so","full_description":"BankAccountEntry#use_to_explain marks itself for review when told to do so","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2093,"run_time":0.186837175,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:100:5]","description":"updates the unexplained amount on the bank transaction when using use_to_explain","full_description":"BankAccountEntry#use_to_explain updates the unexplained amount on the bank transaction when using use_to_explain","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2098,"run_time":0.204117037,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:100:6]","description":"updates the unexplained amount on the bank transaction after it is saved","full_description":"BankAccountEntry#use_to_explain updates the unexplained amount on the bank transaction after it is saved","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2109,"run_time":0.248997167,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:100:7:2]","description":"does not error with a transaction dated differently but still within the vat period","full_description":"BankAccountEntry#use_to_explain when being used to explain an entry in a cash vat locked period does not error with a transaction dated differently but still within the vat period","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2188,"run_time":0.887355946,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:100:7:3]","description":"does not error with a transaction dated differently and outside the locked vat period","full_description":"BankAccountEntry#use_to_explain when being used to explain an entry in a cash vat locked period does not error with a transaction dated differently and outside the locked vat period","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2196,"run_time":1.470214775,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:100:7:1:1]","description":"attaches the entry to the new transaction","full_description":"BankAccountEntry#use_to_explain when being used to explain an entry in a cash vat locked period when explaining a transaction uploaded on the same day attaches the entry to the new transaction","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2175,"run_time":0.792184306,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:100:7:1:2]","description":"destroys the old transaction","full_description":"BankAccountEntry#use_to_explain when being used to explain an entry in a cash vat locked period when explaining a transaction uploaded on the same day destroys the old transaction","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2181,"run_time":0.87633905,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:101:1]","description":"is vatable","full_description":"BankAccountEntry purchase of stock is vatable","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2209,"run_time":0.158894463,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:101:2]","description":"is invalid when tagged as EC Services","full_description":"BankAccountEntry purchase of stock is invalid when tagged as EC Services","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2213,"run_time":0.165756621,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:102:1]","description":"is invalid when tagged as EC Services","full_description":"BankAccountEntry sale of stock is invalid when tagged as EC Services","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2229,"run_time":0.180249142,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:103:1]","description":"is true for sale_bank_account_entry","full_description":"BankAccountEntry#is_a_sale? is true for sale_bank_account_entry","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2243,"run_time":0.046465887,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:103:2]","description":"is true for sales_refund_bank_account_entry","full_description":"BankAccountEntry#is_a_sale? is true for sales_refund_bank_account_entry","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2243,"run_time":0.043480364,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:103:3]","description":"is true for stock_sale_bank_account_entry","full_description":"BankAccountEntry#is_a_sale? is true for stock_sale_bank_account_entry","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2243,"run_time":0.03504577,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:103:4]","description":"is true for invoice_receipt_bank_account_entry","full_description":"BankAccountEntry#is_a_sale? is true for invoice_receipt_bank_account_entry","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2243,"run_time":0.148356416,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:103:5]","description":"is true for credit_note_refund_bank_account_entry","full_description":"BankAccountEntry#is_a_sale? is true for credit_note_refund_bank_account_entry","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2243,"run_time":0.138060527,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:103:6]","description":"is not true for purchase_bank_account_entry","full_description":"BankAccountEntry#is_a_sale? is not true for purchase_bank_account_entry","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2249,"run_time":0.056861324,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:103:7]","description":"is not true for capital_asset_bank_account_entry","full_description":"BankAccountEntry#is_a_sale? is not true for capital_asset_bank_account_entry","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2249,"run_time":0.006554031,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:103:8]","description":"is not true for stock_purchase_bank_account_entry","full_description":"BankAccountEntry#is_a_sale? is not true for stock_purchase_bank_account_entry","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2249,"run_time":0.029376734,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:103:9]","description":"is not true for bill_payment_bank_account_entry","full_description":"BankAccountEntry#is_a_sale? is not true for bill_payment_bank_account_entry","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2249,"run_time":0.127916414,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:103:10]","description":"is not true for money_paid_to_user","full_description":"BankAccountEntry#is_a_sale? is not true for money_paid_to_user","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2249,"run_time":0.025411458,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:103:11]","description":"is not true for money_received_from_user","full_description":"BankAccountEntry#is_a_sale? is not true for money_received_from_user","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2249,"run_time":0.027893774,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:104:1]","description":"is not true for sale_bank_account_entry","full_description":"BankAccountEntry#is_a_purchase? is not true for sale_bank_account_entry","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2257,"run_time":0.055414775,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:104:2]","description":"is not true for stock_sale_bank_account_entry","full_description":"BankAccountEntry#is_a_purchase? is not true for stock_sale_bank_account_entry","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2257,"run_time":0.042299071,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:104:3]","description":"is not true for invoice_receipt_bank_account_entry","full_description":"BankAccountEntry#is_a_purchase? is not true for invoice_receipt_bank_account_entry","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2257,"run_time":0.125892007,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:104:4]","description":"is not true for credit_note_refund_bank_account_entry","full_description":"BankAccountEntry#is_a_purchase? is not true for credit_note_refund_bank_account_entry","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2257,"run_time":0.146703935,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:104:5]","description":"is not true for money_paid_to_user","full_description":"BankAccountEntry#is_a_purchase? is not true for money_paid_to_user","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2257,"run_time":0.033453162,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:104:6]","description":"is not true for money_received_from_user","full_description":"BankAccountEntry#is_a_purchase? is not true for money_received_from_user","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2257,"run_time":0.027244866,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:104:7]","description":"is true for purchase_bank_account_entry","full_description":"BankAccountEntry#is_a_purchase? is true for purchase_bank_account_entry","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2263,"run_time":0.085238846,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:104:8]","description":"is true for capital_asset_bank_account_entry","full_description":"BankAccountEntry#is_a_purchase? is true for capital_asset_bank_account_entry","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2263,"run_time":0.00785923,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:104:9]","description":"is true for stock_purchase_bank_account_entry","full_description":"BankAccountEntry#is_a_purchase? is true for stock_purchase_bank_account_entry","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2263,"run_time":0.036415667,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:104:10]","description":"is true for bill_payment_bank_account_entry","full_description":"BankAccountEntry#is_a_purchase? is true for bill_payment_bank_account_entry","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2263,"run_time":0.124321361,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:105:1]","description":"is true for Sales","full_description":"BankAccountEntry#is_moss_applicable? is true for Sales","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2274,"run_time":0.052592632,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:105:2]","description":"is false for payments","full_description":"BankAccountEntry#is_moss_applicable? is false for payments","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2279,"run_time":0.051099718,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:106:1]","description":"uses the bank account's currency","full_description":"BankAccountEntry in foreign currency bank accounts uses the bank account's currency","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2297,"run_time":0.130505714,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:106:2]","description":"uses the exchange rate on the transaction date to determine the native values","full_description":"BankAccountEntry in foreign currency bank accounts uses the exchange rate on the transaction date to determine the native values","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2302,"run_time":0.139895108,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:107:1]","description":"causes the account's balance to be revalued when changed","full_description":"BankAccountEntry revaluation of account balances causes the account's balance to be revalued when changed","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2321,"run_time":0.200153451,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:107:2]","description":"causes the account's balance to be revalued when created","full_description":"BankAccountEntry revaluation of account balances causes the account's balance to be revalued when created","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2327,"run_time":0.191347135,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:108:2]","description":"is not be allowed for other currency invoices","full_description":"BankAccountEntry invoice receipts into foreign currency bank accounts is not be allowed for other currency invoices","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2363,"run_time":0.250334689,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:108:1:1]","description":"calculates the correct native_net_charged_portion_of_invoice_receipt","full_description":"BankAccountEntry invoice receipts into foreign currency bank accounts for invoices in the bank account's currency calculates the correct native_net_charged_portion_of_invoice_receipt","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2353,"run_time":0.191954545,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:108:1:2]","description":"is allowed for invoices in the bank account's currency","full_description":"BankAccountEntry invoice receipts into foreign currency bank accounts for invoices in the bank account's currency is allowed for invoices in the bank account's currency","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2357,"run_time":0.225485765,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:109:1]","description":"provides the currency from the bank account","full_description":"BankAccountEntry#to_source_item provides the currency from the bank account","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2382,"run_time":0.1396593,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:109:2]","description":"provides 'foreign' currency values","full_description":"BankAccountEntry#to_source_item provides 'foreign' currency values","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2386,"run_time":0.148728105,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:109:3]","description":"provides 'native' currency values","full_description":"BankAccountEntry#to_source_item provides 'native' currency values","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2390,"run_time":0.115676646,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:110:1]","description":"does not find native entries","full_description":"BankAccountEntry BankAccountEntry.in_foreign_currency does not find native entries","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2403,"run_time":0.177535342,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:110:2]","description":"finds foreign entries","full_description":"BankAccountEntry BankAccountEntry.in_foreign_currency finds foreign entries","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2407,"run_time":0.188066214,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:111:1]","description":"is money out","full_description":"BankAccountEntry a Sales Refund is money out","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2426,"run_time":0.083597541,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:111:2]","description":"has the correct main_type","full_description":"BankAccountEntry a Sales Refund has the correct main_type","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2430,"run_time":0.078947439,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:111:3]","description":"is invalid without a description","full_description":"BankAccountEntry a Sales Refund is invalid without a description","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2437,"run_time":0.086386595,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:112:1]","description":"is not valid","full_description":"BankAccountEntry User payment/receipt transactions in a personal account is not valid","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2448,"run_time":0.070887124,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:113:1]","description":"does not allow overpayment of the credit note","full_description":"BankAccountEntry a Credit Note Refund does not allow overpayment of the credit note","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2468,"run_time":0.165622735,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:113:2]","description":"does not allow overpayment of foreign currency credit notes","full_description":"BankAccountEntry a Credit Note Refund does not allow overpayment of foreign currency credit notes","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2482,"run_time":0.162223345,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:113:3:1]","description":"does not allow the credit note to be selected","full_description":"BankAccountEntry a Credit Note Refund for an credit note which is already paid does not allow the credit note to be selected","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2509,"run_time":0.386149492,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:113:4:1]","description":"is valid by default","full_description":"BankAccountEntry a Credit Note Refund for an credit note which is already overpaid is valid by default","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2546,"run_time":0.640100172,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:114:1]","description":"does not allow overpayment of the bill","full_description":"BankAccountEntry a Bill Refund does not allow overpayment of the bill","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2558,"run_time":0.175384575,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:114:2:1]","description":"does not allow the bill to be selected","full_description":"BankAccountEntry a Bill Refund for a bill which is already paid does not allow the bill to be selected","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2584,"run_time":0.405475687,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:114:3:1]","description":"is valid by default","full_description":"BankAccountEntry a Bill Refund for a bill which is already overexplained is valid by default","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2621,"run_time":0.788772123,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:116:1]","description":"does not allow further explanations to be added","full_description":"BankAccountEntry uploaded transactions which are fully explained does not allow further explanations to be added","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2669,"run_time":0.684575548,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:117:1]","description":"returns false for sale bank account entries","full_description":"BankAccountEntry#prepayment? returns false for sale bank account entries","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2677,"run_time":0.051682057,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:118:1]","description":"a pre trading sale should be invalid","full_description":"BankAccountEntry Sales dated before trading starts a pre trading sale should be invalid","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2730,"run_time":0.173808175,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:118:2]","description":"a pre company start date sale should be invalid","full_description":"BankAccountEntry Sales dated before trading starts a pre company start date sale should be invalid","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2735,"run_time":0.038361635,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:118:3]","description":"a post trading sale should be valid","full_description":"BankAccountEntry Sales dated before trading starts a post trading sale should be valid","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2740,"run_time":0.172512175,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:118:4]","description":"an already created pre trading sale should be valid","full_description":"BankAccountEntry Sales dated before trading starts an already created pre trading sale should be valid","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2744,"run_time":0.197855931,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:118:5]","description":"an already created pre trading sale that has its date changed should be invalid","full_description":"BankAccountEntry Sales dated before trading starts an already created pre trading sale that has its date changed should be invalid","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2748,"run_time":0.193959639,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:118:6]","description":"a pre trading purchase should be valid","full_description":"BankAccountEntry Sales dated before trading starts a pre trading purchase should be valid","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2753,"run_time":0.18774982,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:119:1]","description":"prevents bank account entries from having CIS categories","full_description":"BankAccountEntry for a company on the Construction Industry Scheme prevents bank account entries from having CIS categories","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2767,"run_time":0.231112448,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:120:1]","description":"capital asset nominal code 602-1 is a purchase","full_description":"BankAccountEntry#is_a_capital_asset_purchase? and is_a_capital_asset_disposal? capital asset nominal code 602-1 is a purchase","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2776,"run_time":0.003996075,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:120:2]","description":"capital asset nominal code 604-1 is a disposal","full_description":"BankAccountEntry#is_a_capital_asset_purchase? and is_a_capital_asset_disposal? capital asset nominal code 604-1 is a disposal","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2782,"run_time":0.002949872,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:120:3]","description":"capital asset nominal code 602-2 is a purchase","full_description":"BankAccountEntry#is_a_capital_asset_purchase? and is_a_capital_asset_disposal? capital asset nominal code 602-2 is a purchase","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2776,"run_time":0.003040991,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:120:4]","description":"capital asset nominal code 604-2 is a disposal","full_description":"BankAccountEntry#is_a_capital_asset_purchase? and is_a_capital_asset_disposal? capital asset nominal code 604-2 is a disposal","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2782,"run_time":0.003582381,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:120:5]","description":"capital asset nominal code 602-3 is a purchase","full_description":"BankAccountEntry#is_a_capital_asset_purchase? and is_a_capital_asset_disposal? capital asset nominal code 602-3 is a purchase","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2776,"run_time":0.00386782,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:120:6]","description":"capital asset nominal code 604-3 is a disposal","full_description":"BankAccountEntry#is_a_capital_asset_purchase? and is_a_capital_asset_disposal? capital asset nominal code 604-3 is a disposal","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2782,"run_time":0.003481014,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:120:7]","description":"capital asset nominal code 602-4 is a purchase","full_description":"BankAccountEntry#is_a_capital_asset_purchase? and is_a_capital_asset_disposal? capital asset nominal code 602-4 is a purchase","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2776,"run_time":0.003767265,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:120:8]","description":"capital asset nominal code 604-4 is a disposal","full_description":"BankAccountEntry#is_a_capital_asset_purchase? and is_a_capital_asset_disposal? capital asset nominal code 604-4 is a disposal","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2782,"run_time":0.003115593,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:120:9]","description":"code 461 is a disposal","full_description":"BankAccountEntry#is_a_capital_asset_purchase? and is_a_capital_asset_disposal? code 461 is a disposal","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2789,"run_time":0.003044796,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:120:10]","description":"is false for other types","full_description":"BankAccountEntry#is_a_capital_asset_purchase? and is_a_capital_asset_disposal? is false for other types","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2795,"run_time":0.002822226,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:120:11]","description":"is false for other nominal codes","full_description":"BankAccountEntry#is_a_capital_asset_purchase? and is_a_capital_asset_disposal? is false for other nominal codes","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2801,"run_time":0.002993431,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:124:1:1]","description":"is true when it is a bill receipt, a pre-payment and is foreign currency","full_description":"BankAccountEntry#needs_currency_revaluation? bills is true when it is a bill receipt, a pre-payment and is foreign currency","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2823,"run_time":0.512867913,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:124:1:2]","description":"is false when it is a bill payment, and is foreign currency but is not a pre-payment","full_description":"BankAccountEntry#needs_currency_revaluation? bills is false when it is a bill payment, and is foreign currency but is not a pre-payment","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2832,"run_time":0.510644078,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:124:1:3]","description":"is false when it is a bill payment, a pre-payment but is native currency","full_description":"BankAccountEntry#needs_currency_revaluation? bills is false when it is a bill payment, a pre-payment but is native currency","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2841,"run_time":0.390584503,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:124:1:4]","description":"is false when it is not a bill payment","full_description":"BankAccountEntry#needs_currency_revaluation? bills is false when it is not a bill payment","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2853,"run_time":0.100388421,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:125:1:1:1]","description":"schedules a SourceItemCurrencyRevaluationJob","full_description":"BankAccountEntry#rebuild_currency_revaluation_ledgers bills prepayment from a foreign currency bank account of a foreign currency bill schedules a SourceItemCurrencyRevaluationJob","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2877,"run_time":0.501391109,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:125:1:1:2:1]","description":"schedules a SourceItemCurrencyRevaluationJob","full_description":"BankAccountEntry#rebuild_currency_revaluation_ledgers bills prepayment from a foreign currency bank account of a foreign currency bill changed to a payment schedules a SourceItemCurrencyRevaluationJob","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2886,"run_time":0.588569272,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:125:1:2:1]","description":"does not schedule a SourceItemCurrencyRevaluationJob","full_description":"BankAccountEntry#rebuild_currency_revaluation_ledgers bills prepayment from a native currency bank account of a foreign currency bill does not schedule a SourceItemCurrencyRevaluationJob","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2898,"run_time":0.477083534,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:125:2:1:1]","description":"does not schedule a SourceItemCurrencyRevaluationJob","full_description":"BankAccountEntry#rebuild_currency_revaluation_ledgers invoices prepayment from a foreign currency bank account of a foreign currency invoice does not schedule a SourceItemCurrencyRevaluationJob","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2916,"run_time":0.396796568,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:125:2:2:1]","description":"does not schedule a SourceItemCurrencyRevaluationJob","full_description":"BankAccountEntry#rebuild_currency_revaluation_ledgers invoices prepayment from a native currency bank account of a foreign currency invoice does not schedule a SourceItemCurrencyRevaluationJob","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2925,"run_time":0.405279616,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:126:1]","description":"generates json for a valid bank account entry","full_description":"BankAccountEntry#to_json generates json for a valid bank account entry","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2934,"run_time":0.130527173,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:126:2]","description":"generates json for an invalid bank account entry","full_description":"BankAccountEntry#to_json generates json for an invalid bank account entry","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2938,"run_time":0.005296866,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:127:1]","description":"is kept in database if the sales tax rate is not equal to SalesTaxCalculator::SPECIFY_AMOUNT_RATE","full_description":"BankAccountEntry manual sales tax amount is kept in database if the sales tax rate is not equal to SalesTaxCalculator::SPECIFY_AMOUNT_RATE","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2946,"run_time":0.112658031,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:127:2]","description":"is saved when the sales tax rate is equal to SalesTaxCalculator::SPECIFY_AMOUNT_RATE","full_description":"BankAccountEntry manual sales tax amount is saved when the sales tax rate is equal to SalesTaxCalculator::SPECIFY_AMOUNT_RATE","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2951,"run_time":0.127939596,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:128:1]","description":"is not deleted when this bank account entry is destroyed","full_description":"BankAccountEntry payment_intent is not deleted when this bank account entry is destroyed","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2958,"run_time":0.318025334,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:129:1:1:1]","description":"initiates sending a webhook with the correct app_id","full_description":"BankAccountEntry webhooks when the bank account has an ApiBankFeed when a bank account entry is created initiates sending a webhook with the correct app_id","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2985,"run_time":0.162713391,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:129:1:1:2:1]","description":"does not send any webhooks","full_description":"BankAccountEntry webhooks when the bank account has an ApiBankFeed when a bank account entry is created when the bank feed is disabled does not send any webhooks","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":2998,"run_time":0.198795109,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:129:1:1:3:1]","description":"does not send any webhooks","full_description":"BankAccountEntry webhooks when the bank account has an ApiBankFeed when a bank account entry is created when the bank feed is pending does not send any webhooks","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":3007,"run_time":0.123067748,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:129:1:2:1]","description":"enqueues a webhooks dispatch job with the correct app_id","full_description":"BankAccountEntry webhooks when the bank account has an ApiBankFeed when a bank account entry is updated enqueues a webhooks dispatch job with the correct app_id","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":3019,"run_time":0.182959387,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:129:1:3:1]","description":"enqueues a webhooks dispatch job with the correct app_id","full_description":"BankAccountEntry webhooks when the bank account has an ApiBankFeed when a bank account entry is destroyed enqueues a webhooks dispatch job with the correct app_id","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":3040,"run_time":0.170034883,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:129:2:1]","description":"does not enqueue a webhooks dispatch job","full_description":"BankAccountEntry webhooks when the bank account does not have an ApiBankFeed does not enqueue a webhooks dispatch job","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":3055,"run_time":0.108222725,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:130:1]","description":"generates ledger entries with a valid contact_id and project_id","full_description":"BankAccountEntry Saving an invoice receipt generates ledger entries with a valid contact_id and project_id","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":3075,"run_time":0.343863852,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:131:1]","description":"generates ledger entries with a valid contact_id and project_id","full_description":"BankAccountEntry Saving a bill receipt generates ledger entries with a valid contact_id and project_id","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":3096,"run_time":0.401633709,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:132:1:1]","description":"is expected to be nil","full_description":"BankAccountEntry#display_type when there is no general ledger account is expected to be nil","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":3111,"run_time":0.049832875,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:132:2:1]","description":"the display type is equal to `main_type`","full_description":"BankAccountEntry#display_type Invoices, Credit Notes and Bills the display type is equal to `main_type`","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":3124,"run_time":0.787217936,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:132:3:1:1]","description":"the display type is equal to the `receipt_name` of the general ledger account","full_description":"BankAccountEntry#display_type determining the display type from the general ledger account Money Received from User, Transfer In, Receipt from Initial Debtor, Rental Deposits In the display type is equal to the `receipt_name` of the general ledger account","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":3144,"run_time":0.269089141,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:132:3:1:2:1]","description":"the display type is equal to the `receipt_name` of the general ledger account","full_description":"BankAccountEntry#display_type determining the display type from the general ledger account Money Received from User, Transfer In, Receipt from Initial Debtor, Rental Deposits In for a UkUnincorporatedLandlord the display type is equal to the `receipt_name` of the general ledger account","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":3151,"run_time":0.38921565,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:132:3:2:1]","description":"the display type is equal to the `payment_name` of the general ledger account","full_description":"BankAccountEntry#display_type determining the display type from the general ledger account Money Paid to User, Transfer Out, Stock Purchase, Rental Deposits Out the display type is equal to the `payment_name` of the general ledger account","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":3168,"run_time":0.275570083,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:132:3:2:2:1]","description":"the display type is equal to the `payment_name` of the general ledger account","full_description":"BankAccountEntry#display_type determining the display type from the general ledger account Money Paid to User, Transfer Out, Stock Purchase, Rental Deposits Out for a UkUnincorporatedLandlord the display type is equal to the `payment_name` of the general ledger account","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":3177,"run_time":1.219363355,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:132:3:3:1]","description":"the display type is equal to the `name` of the general ledger account","full_description":"BankAccountEntry#display_type determining the display type from the general ledger account other types of bank account entry the display type is equal to the `name` of the general ledger account","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":3188,"run_time":0.196689475,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:133:1:1]","description":"tags all P\u0026L ledger entries with the property id","full_description":"BankAccountEntry ledger entry property tagging of bank account entries a bank account entry tags all P\u0026L ledger entries with the property id","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":3204,"run_time":0.216852724,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:133:1:2:1]","description":"tags all P\u0026L ledger entries with the property id","full_description":"BankAccountEntry ledger entry property tagging of bank account entries a bank account entry on cash basis tags all P\u0026L ledger entries with the property id","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":3212,"run_time":0.217545729,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:133:2:1]","description":"does not tag entry ledgers with the property_id","full_description":"BankAccountEntry ledger entry property tagging of bank account entries a bill payment does not tag entry ledgers with the property_id","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":3225,"run_time":0.537431587,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:133:2:2:1]","description":"tags all P\u0026L ledger entries with the property id","full_description":"BankAccountEntry ledger entry property tagging of bank account entries a bill payment on cash basis tags all P\u0026L ledger entries with the property id","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":3233,"run_time":0.538149746,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:133:3:1]","description":"tags entry ledgers with the property_id","full_description":"BankAccountEntry ledger entry property tagging of bank account entries an invoice receipt tags entry ledgers with the property_id","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":3259,"run_time":0.457363143,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_entry_spec.rb[1:133:3:2:1]","description":"tags all P\u0026L ledger entries with the property id","full_description":"BankAccountEntry ledger entry property tagging of bank account entries an invoice receipt on cash basis tags all P\u0026L ledger entries with the property id","status":"passed","file_path":"./spec/models/bank_account_entry_spec.rb","line_number":3268,"run_time":0.509267619,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:1:1]","description":"rejects requests as Forbidden","full_description":"Api::Partners::CompanyProvisioningController#create when unauthorized rejects requests as Forbidden","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":53,"run_time":0.061853707,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:1:1]","description":"sends a tracking event to Sqreen","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a pps sort code sends a tracking event to Sqreen","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":74,"run_time":0.048883872,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:1:2:1]","description":"accepts requests","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a pps sort code with a successful request accepts requests","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":87,"run_time":0.92006953,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:1:2:2]","description":"provisions a new company","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a pps sort code with a successful request provisions a new company","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":91,"run_time":1.653854108,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:1:2:3]","description":"updates the company last_accessed_on","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a pps sort code with a successful request updates the company last_accessed_on","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":96,"run_time":0.82731247,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:1:2:8]","description":"returns company information","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a pps sort code with a successful request returns company information","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":189,"run_time":0.864018155,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:1:2:9]","description":"returns tokens","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a pps sort code with a successful request returns tokens","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":211,"run_time":0.839273316,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:1:2:10]","description":"returns user information","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a pps sort code with a successful request returns user information","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":221,"run_time":1.59596008,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:1:2:11]","description":"returns bank account information","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a pps sort code with a successful request returns bank account information","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":226,"run_time":0.858213896,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:1:2:12]","description":"sends the welcome email","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a pps sort code with a successful request sends the welcome email","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":236,"run_time":0.886261776,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:1:2:13]","description":"fires the provision successful event","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a pps sort code with a successful request fires the provision successful event","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":241,"run_time":0.882170185,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:1:2:4:1]","description":"adds campaign, source and medium","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a pps sort code with a successful request from mettle adds campaign, source and medium","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":101,"run_time":0.829584541,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:1:2:4:2]","description":"sets up an API bank feed","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a pps sort code with a successful request from mettle sets up an API bank feed","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":107,"run_time":0.866624897,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:1:2:4:3]","description":"returns bank account information","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a pps sort code with a successful request from mettle returns bank account information","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":113,"run_time":0.839010877,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:1:2:4:4]","description":"sets the marketing consent to be true","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a pps sort code with a successful request from mettle sets the marketing consent to be true","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":124,"run_time":0.837364883,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:1:2:4:5:1]","description":"does not set the marketing consent","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a pps sort code with a successful request from mettle with a sole trader does not set the marketing consent","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":131,"run_time":1.744369466,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:1:2:5:1]","description":"creates an RBSG signup","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a pps sort code with a successful request from an rbsg partner creates an RBSG signup","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":139,"run_time":1.581498307,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:1:2:5:2]","description":"creates an RBSG profile","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a pps sort code with a successful request from an rbsg partner creates an RBSG profile","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":146,"run_time":2.251848612,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:1:2:5:3]","description":"accepts data sharing","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a pps sort code with a successful request from an rbsg partner accepts data sharing","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":151,"run_time":0.824095753,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:1:2:6:1]","description":"doesn't create an RBSG signup","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a pps sort code with a successful request from a non-rbsg partner doesn't create an RBSG signup","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":160,"run_time":1.622369696,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:1:2:6:2]","description":"doesn't create an RBSG profile","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a pps sort code with a successful request from a non-rbsg partner doesn't create an RBSG profile","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":165,"run_time":1.550892823,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:1:2:6:3]","description":"does not set up an API bank feed","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a pps sort code with a successful request from a non-rbsg partner does not set up an API bank feed","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":170,"run_time":0.777309937,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:1:2:7:1]","description":"successfully provisions a company","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a pps sort code with a successful request without data sharing terms successfully provisions a company","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":178,"run_time":1.704903905,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:1:2:7:2]","description":"defaults data sharing to rejected","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a pps sort code with a successful request without data sharing terms defaults data sharing to rejected","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":183,"run_time":0.876849954,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:2:1]","description":"sends a tracking event to Sqreen","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a genie sort code sends a tracking event to Sqreen","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":74,"run_time":0.225981076,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:2:2:1]","description":"accepts requests","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a genie sort code with a successful request accepts requests","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":87,"run_time":1.359383898,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:2:2:2]","description":"provisions a new company","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a genie sort code with a successful request provisions a new company","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":91,"run_time":1.700605633,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:2:2:3]","description":"updates the company last_accessed_on","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a genie sort code with a successful request updates the company last_accessed_on","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":96,"run_time":0.836918142,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:2:2:8]","description":"returns company information","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a genie sort code with a successful request returns company information","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":189,"run_time":0.82085113,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:2:2:9]","description":"returns tokens","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a genie sort code with a successful request returns tokens","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":211,"run_time":0.892602148,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:2:2:10]","description":"returns user information","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a genie sort code with a successful request returns user information","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":221,"run_time":0.875109974,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:2:2:11]","description":"returns bank account information","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a genie sort code with a successful request returns bank account information","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":226,"run_time":0.917493206,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:2:2:12]","description":"sends the welcome email","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a genie sort code with a successful request sends the welcome email","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":236,"run_time":0.896708879,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:2:2:13]","description":"fires the provision successful event","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a genie sort code with a successful request fires the provision successful event","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":241,"run_time":1.139224473,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:2:2:4:1]","description":"adds campaign, source and medium","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a genie sort code with a successful request from mettle adds campaign, source and medium","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":101,"run_time":1.208579941,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:2:2:4:2]","description":"sets up an API bank feed","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a genie sort code with a successful request from mettle sets up an API bank feed","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":107,"run_time":0.840067732,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:2:2:4:3]","description":"returns bank account information","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a genie sort code with a successful request from mettle returns bank account information","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":113,"run_time":0.893149549,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:2:2:4:4]","description":"sets the marketing consent to be true","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a genie sort code with a successful request from mettle sets the marketing consent to be true","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":124,"run_time":0.826618066,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:2:2:4:5:1]","description":"does not set the marketing consent","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a genie sort code with a successful request from mettle with a sole trader does not set the marketing consent","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":131,"run_time":1.528267656,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:2:2:5:1]","description":"creates an RBSG signup","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a genie sort code with a successful request from an rbsg partner creates an RBSG signup","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":139,"run_time":1.516900547,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:2:2:5:2]","description":"creates an RBSG profile","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a genie sort code with a successful request from an rbsg partner creates an RBSG profile","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":146,"run_time":1.447086352,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:2:2:5:3]","description":"accepts data sharing","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a genie sort code with a successful request from an rbsg partner accepts data sharing","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":151,"run_time":1.467003522,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:2:2:6:1]","description":"doesn't create an RBSG signup","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a genie sort code with a successful request from a non-rbsg partner doesn't create an RBSG signup","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":160,"run_time":1.559219045,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:2:2:6:2]","description":"doesn't create an RBSG profile","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a genie sort code with a successful request from a non-rbsg partner doesn't create an RBSG profile","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":165,"run_time":1.500487098,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:2:2:6:3]","description":"does not set up an API bank feed","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a genie sort code with a successful request from a non-rbsg partner does not set up an API bank feed","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":170,"run_time":0.826904642,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:2:2:7:1]","description":"successfully provisions a company","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a genie sort code with a successful request without data sharing terms successfully provisions a company","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":178,"run_time":1.598886213,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:2:2:7:2]","description":"defaults data sharing to rejected","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a genie sort code with a successful request without data sharing terms defaults data sharing to rejected","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":183,"run_time":0.841173217,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:3:1:1]","description":"rejects requests","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with an invalid request with a missing signup section rejects requests","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":259,"run_time":0.05219908,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:3:2:1]","description":"rejects requests","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with an invalid request with a missing field in signup rejects requests","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":268,"run_time":0.144946586,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:3:2:2]","description":"fires the provision failed event","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with an invalid request with a missing field in signup fires the provision failed event","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":275,"run_time":0.122832025,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:3:3:1]","description":"rejects requests","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with an invalid request with a missing field in VAT rejects requests","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":283,"run_time":0.111903596,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:3:3:2]","description":"fires the provision failed event","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with an invalid request with a missing field in VAT fires the provision failed event","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":292,"run_time":0.114084312,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:3:4:1]","description":"rejects requests","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with an invalid request with an invalid field in VAT rejects requests","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":302,"run_time":0.127538605,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:3:4:2]","description":"fires the provision failed event","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with an invalid request with an invalid field in VAT fires the provision failed event","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":312,"run_time":0.125708147,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:4:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a non-privileged partner app X-Client-Id is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":327,"run_time":0.137005033,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb[1:1:2:4:2]","description":"is expected to have text \"You are not allowed to access this action\"","full_description":"Api::Partners::CompanyProvisioningController#create when authorized with a non-privileged partner app X-Client-Id is expected to have text \"You are not allowed to access this action\"","status":"passed","file_path":"./spec/controllers/api/partners/company_provisioning_controller_spec.rb","line_number":331,"run_time":0.197652332,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:1:1]","description":"skips event when company not found","full_description":"GocardlessWebhookEventJob unknown company skips event when company not found","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":34,"run_time":0.006254833,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:2:1:1]","description":"activates the mandate","full_description":"GocardlessWebhookEventJob processing mandates active event activates the mandate","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":67,"run_time":0.051215021,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:2:2:1]","description":"activates the mandate","full_description":"GocardlessWebhookEventJob processing mandates reinstated event activates the mandate","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":79,"run_time":0.036281227,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:2:3:1]","description":"marks the mandate as failed","full_description":"GocardlessWebhookEventJob processing mandates failed event marks the mandate as failed","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":92,"run_time":0.038519757,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:2:4:1]","description":"{:aggregate_failures=\u003etrue}","full_description":"GocardlessWebhookEventJob processing mandates cancelled event {:aggregate_failures=\u003etrue}","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":104,"run_time":0.035074725,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:2:5:1]","description":"{:aggregate_failures=\u003etrue}","full_description":"GocardlessWebhookEventJob processing mandates expired event {:aggregate_failures=\u003etrue}","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":122,"run_time":0.047509505,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:2:6:1]","description":"marks the mandate as resubmitted","full_description":"GocardlessWebhookEventJob processing mandates resubmission_requested event marks the mandate as resubmitted","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":141,"run_time":0.044229152,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:2:7:1:1]","description":"activates the companies mandate","full_description":"GocardlessWebhookEventJob processing mandates multiple companies having the same org ID active event activates the companies mandate","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":164,"run_time":0.147322498,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:2:8:1]","description":"skips the event","full_description":"GocardlessWebhookEventJob processing mandates event org ID is not found for any company skips the event","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":178,"run_time":0.029365074,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:2:9:1]","description":"logs the event but does not raise error","full_description":"GocardlessWebhookEventJob processing mandates Gocardless dashboard event for unknown mandate logs the event but does not raise error","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":188,"run_time":0.013881533,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:2:10:1]","description":"updates the GoCardless mandate id","full_description":"GocardlessWebhookEventJob processing mandates replace event updates the GoCardless mandate id","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":205,"run_time":0.035103153,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:3:1:1:1:1]","description":"processes the payment","full_description":"GocardlessWebhookEventJob processing payments with a subscribed company behaves like processes the incoming payments confirmed event processes the payment","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":245,"run_time":0.176408124,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:3:1:1:2:1:1]","description":"marks the payment as withdrawn","full_description":"GocardlessWebhookEventJob processing payments with a subscribed company behaves like processes the incoming payments paid_out event without auto-reconciliation enabled marks the payment as withdrawn","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":258,"run_time":0.156129243,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:3:1:1:2:2:1]","description":"marks the payment as withdrawn","full_description":"GocardlessWebhookEventJob processing payments with a subscribed company behaves like processes the incoming payments paid_out event with auto-reconciliation enabled marks the payment as withdrawn","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":278,"run_time":0.192235763,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:3:1:1:2:2:2]","description":"reconciles payment","full_description":"GocardlessWebhookEventJob processing payments with a subscribed company behaves like processes the incoming payments paid_out event with auto-reconciliation enabled reconciles payment","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":282,"run_time":0.649016511,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:3:1:1:2:2:3:1]","description":"creates an unexplained bank transaction","full_description":"GocardlessWebhookEventJob processing payments with a subscribed company behaves like processes the incoming payments paid_out event with auto-reconciliation enabled when there is no matching payment creates an unexplained bank transaction","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":292,"run_time":0.097269558,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:3:1:1:3:1]","description":"marks the payment as failed","full_description":"GocardlessWebhookEventJob processing payments with a subscribed company behaves like processes the incoming payments cancelled event marks the payment as failed","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":310,"run_time":0.128139256,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:3:1:1:4:1]","description":"logs the event but does not raise error","full_description":"GocardlessWebhookEventJob processing payments with a subscribed company behaves like processes the incoming payments Gocardless dashboard event for unknown payment logs the event but does not raise error","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":320,"run_time":0.155696047,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:3:2:1:1:1]","description":"processes the payment","full_description":"GocardlessWebhookEventJob processing payments with a suspended company behaves like processes the incoming payments confirmed event processes the payment","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":245,"run_time":0.274130185,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:3:2:1:2:1:1]","description":"marks the payment as withdrawn","full_description":"GocardlessWebhookEventJob processing payments with a suspended company behaves like processes the incoming payments paid_out event without auto-reconciliation enabled marks the payment as withdrawn","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":258,"run_time":0.22584846,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:3:2:1:2:2:1]","description":"marks the payment as withdrawn","full_description":"GocardlessWebhookEventJob processing payments with a suspended company behaves like processes the incoming payments paid_out event with auto-reconciliation enabled marks the payment as withdrawn","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":278,"run_time":0.242224717,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:3:2:1:2:2:2]","description":"reconciles payment","full_description":"GocardlessWebhookEventJob processing payments with a suspended company behaves like processes the incoming payments paid_out event with auto-reconciliation enabled reconciles payment","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":282,"run_time":0.704517773,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:3:2:1:2:2:3:1]","description":"creates an unexplained bank transaction","full_description":"GocardlessWebhookEventJob processing payments with a suspended company behaves like processes the incoming payments paid_out event with auto-reconciliation enabled when there is no matching payment creates an unexplained bank transaction","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":292,"run_time":0.215225594,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:3:2:1:3:1]","description":"marks the payment as failed","full_description":"GocardlessWebhookEventJob processing payments with a suspended company behaves like processes the incoming payments cancelled event marks the payment as failed","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":310,"run_time":0.250779936,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:3:2:1:4:1]","description":"logs the event but does not raise error","full_description":"GocardlessWebhookEventJob processing payments with a suspended company behaves like processes the incoming payments Gocardless dashboard event for unknown payment logs the event but does not raise error","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":320,"run_time":0.234395222,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:3:3:1:1]","description":"does not processes the payment","full_description":"GocardlessWebhookEventJob processing payments with a company suspended for longer than the grace period confirmed event does not processes the payment","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":383,"run_time":0.248863749,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:3:3:2:1:1:1]","description":"does not create an unexplained bank transaction","full_description":"GocardlessWebhookEventJob processing payments with a company suspended for longer than the grace period paid_out event with auto-reconciliation enabled when there is no matching payment does not create an unexplained bank transaction","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":409,"run_time":0.183365312,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:4:1:1:1:1]","description":"creates an unexplained refund transaction","full_description":"GocardlessWebhookEventJob processing refunds with a subscribed company behaves like processes the refund request with auto reconcilaition enabled creates an unexplained refund transaction","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":453,"run_time":0.079117971,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:4:2:1:1:1]","description":"creates an unexplained refund transaction","full_description":"GocardlessWebhookEventJob processing refunds with a suspended company behaves like processes the refund request with auto reconcilaition enabled creates an unexplained refund transaction","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":453,"run_time":0.166772362,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:4:3:1:1]","description":"does not process the webhook","full_description":"GocardlessWebhookEventJob processing refunds with a suspended company after the grace period with auto reconcilaition enabled does not process the webhook","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":510,"run_time":0.146476894,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:5:1:1]","description":"schedules a payout transfer job to handle the payout","full_description":"GocardlessWebhookEventJob process payouts with a subscribed company schedules a payout transfer job to handle the payout","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":554,"run_time":0.054429174,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:5:2:1]","description":"schedules a payout transfer job to handle the payout","full_description":"GocardlessWebhookEventJob process payouts with a suspended company schedules a payout transfer job to handle the payout","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":574,"run_time":0.146049632,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:5:3:1]","description":"does not schedule a payout transfer job to handle the payout","full_description":"GocardlessWebhookEventJob process payouts with a suspended company after the grace period does not schedule a payout transfer job to handle the payout","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":594,"run_time":0.114919602,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:6:1:1:1]","description":"creates a money out transaction for the amount of the payment","full_description":"GocardlessWebhookEventJob process chargeback settled event with a subscribed company behaves like process the charge back creates a money out transaction for the amount of the payment","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":634,"run_time":0.070946171,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:6:2:1:1]","description":"creates a money out transaction for the amount of the payment","full_description":"GocardlessWebhookEventJob process chargeback settled event with a suspended company behaves like process the charge back creates a money out transaction for the amount of the payment","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":634,"run_time":0.145412335,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:6:3:1]","description":"does not create the transaction","full_description":"GocardlessWebhookEventJob process chargeback settled event with a suspended company after the grace period does not create the transaction","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":694,"run_time":0.12271954,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/setting_off_losses.feature[1:1:1]","description":"Given a UK sole trader with company start date: 2011-04-06, first accounting year end: 2012-04-05 -\u003e Given the business made a loss of £4,000 for tax purposes in the year ended 2012-04-05 -\u003e And the business made a profit of £10,000 for tax purposes in the year ended 2013-04-05 -\u003e When calculating the losses -\u003e Then the v2 self assessment return for 2012/13 will show the following boxes: -\u003e And the v3 self assessment return for 2012/13 will show the following boxes: -\u003e When the SA103F is selected for 2012/13 -\u003e And calculating the losses -\u003e Then the v3 self assessment return for 2012/13 will show the following boxes:","full_description":"Setting off losses Loss from previous years completely set off against profit made in 2012/13 Given a UK sole trader with company start date: 2011-04-06, first accounting year end: 2012-04-05 -\u003e Given the business made a loss of £4,000 for tax purposes in the year ended 2012-04-05 -\u003e And the business made a profit of £10,000 for tax purposes in the year ended 2013-04-05 -\u003e When calculating the losses -\u003e Then the v2 self assessment return for 2012/13 will show the following boxes: -\u003e And the v3 self assessment return for 2012/13 will show the following boxes: -\u003e When the SA103F is selected for 2012/13 -\u003e And calculating the losses -\u003e Then the v3 self assessment return for 2012/13 will show the following boxes:","status":"passed","file_path":"./spec/acceptance/self_assessment/setting_off_losses.feature","line_number":13,"run_time":0.756054636,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/setting_off_losses.feature[1:2:1]","description":"Given a UK sole trader with company start date: 2011-04-06, first accounting year end: 2012-04-05 -\u003e Given the business made a loss of £9,000 for tax purposes in the year ended 2012-04-05 -\u003e And the business made a profit of £4,000 for tax purposes in the year ended 2013-04-05 -\u003e When calculating the losses -\u003e Then the v2 self assessment return for 2012/13 will show the following boxes: -\u003e And the v3 self assessment return for 2012/13 will show the following boxes: -\u003e When the SA103F is selected for 2012/13 -\u003e And calculating the losses -\u003e Then the v3 self assessment return for 2012/13 will show the following boxes:","full_description":"Setting off losses Loss from previous years partially set off against profit made in 2012/13 Given a UK sole trader with company start date: 2011-04-06, first accounting year end: 2012-04-05 -\u003e Given the business made a loss of £9,000 for tax purposes in the year ended 2012-04-05 -\u003e And the business made a profit of £4,000 for tax purposes in the year ended 2013-04-05 -\u003e When calculating the losses -\u003e Then the v2 self assessment return for 2012/13 will show the following boxes: -\u003e And the v3 self assessment return for 2012/13 will show the following boxes: -\u003e When the SA103F is selected for 2012/13 -\u003e And calculating the losses -\u003e Then the v3 self assessment return for 2012/13 will show the following boxes:","status":"passed","file_path":"./spec/acceptance/self_assessment/setting_off_losses.feature","line_number":39,"run_time":0.697079035,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/setting_off_losses.feature[1:3:1]","description":"Given a UK sole trader with company start date: 2011-04-06, first accounting year end: 2012-04-05 -\u003e Given the business made a loss of £12,000 for tax purposes in the year ended 2012-04-05 -\u003e And the business made a loss of £10,000 for tax purposes in the year ended 2013-04-05 -\u003e And the customer fills in the following boxes for 2012/13: -\u003e When calculating the losses -\u003e Then the self assessment return for 2012/13 will show the following boxes: -\u003e When the SA103F is selected for 2012/13 -\u003e And the customer fills in the following boxes for 2012/13: -\u003e And calculating the losses -\u003e Then the v3 self assessment return for 2012/13 will show the following boxes:","full_description":"Setting off losses Overridden loss from previous years, plus a loss this year Given a UK sole trader with company start date: 2011-04-06, first accounting year end: 2012-04-05 -\u003e Given the business made a loss of £12,000 for tax purposes in the year ended 2012-04-05 -\u003e And the business made a loss of £10,000 for tax purposes in the year ended 2013-04-05 -\u003e And the customer fills in the following boxes for 2012/13: -\u003e When calculating the losses -\u003e Then the self assessment return for 2012/13 will show the following boxes: -\u003e When the SA103F is selected for 2012/13 -\u003e And the customer fills in the following boxes for 2012/13: -\u003e And calculating the losses -\u003e Then the v3 self assessment return for 2012/13 will show the following boxes:","status":"passed","file_path":"./spec/acceptance/self_assessment/setting_off_losses.feature","line_number":64,"run_time":1.083038238,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/setting_off_losses.feature[1:4:1]","description":"Given a UK sole trader with company start date: 2011-04-06, first accounting year end: 2012-04-05 -\u003e Given the business made a loss of £8,000 for tax purposes in the year ended 2013-04-05 -\u003e And the customer fills in the following boxes for 2012/13: -\u003e When calculating the losses -\u003e Then the self assessment return for 2012/13 will show the following boxes: -\u003e When the SA103F is selected for 2012/13 -\u003e And the customer fills in the following boxes for 2012/13: -\u003e And calculating the losses -\u003e Then the v3 self assessment return for 2012/13 will show the following boxes:","full_description":"Setting off losses Loss from the current year completely set off against other income Given a UK sole trader with company start date: 2011-04-06, first accounting year end: 2012-04-05 -\u003e Given the business made a loss of £8,000 for tax purposes in the year ended 2013-04-05 -\u003e And the customer fills in the following boxes for 2012/13: -\u003e When calculating the losses -\u003e Then the self assessment return for 2012/13 will show the following boxes: -\u003e When the SA103F is selected for 2012/13 -\u003e And the customer fills in the following boxes for 2012/13: -\u003e And calculating the losses -\u003e Then the v3 self assessment return for 2012/13 will show the following boxes:","status":"passed","file_path":"./spec/acceptance/self_assessment/setting_off_losses.feature","line_number":94,"run_time":1.048985441,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/setting_off_losses.feature[1:5:1]","description":"Given a UK sole trader with company start date: 2011-04-06, first accounting year end: 2012-04-05 -\u003e Given the business made a loss of £8,000 for tax purposes in the year ended 2013-04-05 -\u003e And the customer fills in the following boxes for 2012/13: -\u003e When calculating the losses -\u003e Then the self assessment return for 2012/13 will show the following boxes: -\u003e When the SA103F is selected for 2012/13 -\u003e And the customer fills in the following boxes for 2012/13: -\u003e And calculating the losses -\u003e Then the self assessment return for 2012/13 will show the following boxes:","full_description":"Setting off losses Loss from the current year partially set off against other income Given a UK sole trader with company start date: 2011-04-06, first accounting year end: 2012-04-05 -\u003e Given the business made a loss of £8,000 for tax purposes in the year ended 2013-04-05 -\u003e And the customer fills in the following boxes for 2012/13: -\u003e When calculating the losses -\u003e Then the self assessment return for 2012/13 will show the following boxes: -\u003e When the SA103F is selected for 2012/13 -\u003e And the customer fills in the following boxes for 2012/13: -\u003e And calculating the losses -\u003e Then the self assessment return for 2012/13 will show the following boxes:","status":"passed","file_path":"./spec/acceptance/self_assessment/setting_off_losses.feature","line_number":125,"run_time":1.00061908,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/self_assessment/setting_off_losses.feature[1:6:1]","description":"Given a UK sole trader with company start date: 2011-04-06, first accounting year end: 2012-04-05 -\u003e Given the business made a loss of £8,000 for tax purposes in the year ended 2013-04-05 -\u003e And the customer fills in the following boxes for 2012/13: -\u003e When calculating the losses -\u003e Then the self assessment return for 2012/13 will show the following boxes: -\u003e When the business made a profit of £8,000 for tax purposes in the year ended 2013-04-05 -\u003e When calculating the losses -\u003e Then the self assessment return for 2012/13 will show the following boxes:","full_description":"Setting off losses Set off for current year greater than loss Given a UK sole trader with company start date: 2011-04-06, first accounting year end: 2012-04-05 -\u003e Given the business made a loss of £8,000 for tax purposes in the year ended 2013-04-05 -\u003e And the customer fills in the following boxes for 2012/13: -\u003e When calculating the losses -\u003e Then the self assessment return for 2012/13 will show the following boxes: -\u003e When the business made a profit of £8,000 for tax purposes in the year ended 2013-04-05 -\u003e When calculating the losses -\u003e Then the self assessment return for 2012/13 will show the following boxes:","status":"passed","file_path":"./spec/acceptance/self_assessment/setting_off_losses.feature","line_number":156,"run_time":0.796528577,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/accounting/year_ends/mailer_spec.rb[1:1:1:2]","description":"sends the email with the correct body text","full_description":"Accounting::YearEnds::Mailer#year_end_prepared with a non-whitelabelled practice managed company sends the email with the correct body text","status":"passed","file_path":"./spec/mailers/accounting/year_ends/mailer_spec.rb","line_number":47,"run_time":0.291313111,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/accounting/year_ends/mailer_spec.rb[1:1:1:3]","description":"sets the return path correctly","full_description":"Accounting::YearEnds::Mailer#year_end_prepared with a non-whitelabelled practice managed company sets the return path correctly","status":"passed","file_path":"./spec/mailers/accounting/year_ends/mailer_spec.rb","line_number":52,"run_time":0.204638231,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/accounting/year_ends/mailer_spec.rb[1:1:1:1:1]","description":"sets the recipient correctly","full_description":"Accounting::YearEnds::Mailer#year_end_prepared with a non-whitelabelled practice managed company behaves like a year end mailer sets the recipient correctly","status":"passed","file_path":"./spec/mailers/accounting/year_ends/mailer_spec.rb","line_number":14,"run_time":0.210626982,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/accounting/year_ends/mailer_spec.rb[1:1:1:1:2]","description":"sets the subject correctly","full_description":"Accounting::YearEnds::Mailer#year_end_prepared with a non-whitelabelled practice managed company behaves like a year end mailer sets the subject correctly","status":"passed","file_path":"./spec/mailers/accounting/year_ends/mailer_spec.rb","line_number":18,"run_time":0.223688839,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/accounting/year_ends/mailer_spec.rb[1:1:1:1:3]","description":"sets reply_to correctly","full_description":"Accounting::YearEnds::Mailer#year_end_prepared with a non-whitelabelled practice managed company behaves like a year end mailer sets reply_to correctly","status":"passed","file_path":"./spec/mailers/accounting/year_ends/mailer_spec.rb","line_number":22,"run_time":0.201146632,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/accounting/year_ends/mailer_spec.rb[1:1:1:1:4]","description":"sets the sender correctly","full_description":"Accounting::YearEnds::Mailer#year_end_prepared with a non-whitelabelled practice managed company behaves like a year end mailer sets the sender correctly","status":"passed","file_path":"./spec/mailers/accounting/year_ends/mailer_spec.rb","line_number":26,"run_time":0.209072078,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/accounting/year_ends/mailer_spec.rb[1:1:2:2]","description":"sends the email with the correct body text","full_description":"Accounting::YearEnds::Mailer#year_end_prepared with a whitelabelled practice managed company sends the email with the correct body text","status":"passed","file_path":"./spec/mailers/accounting/year_ends/mailer_spec.rb","line_number":65,"run_time":0.190607143,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/accounting/year_ends/mailer_spec.rb[1:1:2:3]","description":"sets the return path correctly","full_description":"Accounting::YearEnds::Mailer#year_end_prepared with a whitelabelled practice managed company sets the return path correctly","status":"passed","file_path":"./spec/mailers/accounting/year_ends/mailer_spec.rb","line_number":69,"run_time":0.167239399,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/accounting/year_ends/mailer_spec.rb[1:1:2:1:1]","description":"sets the recipient correctly","full_description":"Accounting::YearEnds::Mailer#year_end_prepared with a whitelabelled practice managed company behaves like a year end mailer sets the recipient correctly","status":"passed","file_path":"./spec/mailers/accounting/year_ends/mailer_spec.rb","line_number":14,"run_time":0.211136718,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/accounting/year_ends/mailer_spec.rb[1:1:2:1:2]","description":"sets the subject correctly","full_description":"Accounting::YearEnds::Mailer#year_end_prepared with a whitelabelled practice managed company behaves like a year end mailer sets the subject correctly","status":"passed","file_path":"./spec/mailers/accounting/year_ends/mailer_spec.rb","line_number":18,"run_time":0.197541159,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/accounting/year_ends/mailer_spec.rb[1:1:2:1:3]","description":"sets reply_to correctly","full_description":"Accounting::YearEnds::Mailer#year_end_prepared with a whitelabelled practice managed company behaves like a year end mailer sets reply_to correctly","status":"passed","file_path":"./spec/mailers/accounting/year_ends/mailer_spec.rb","line_number":22,"run_time":0.210685468,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/accounting/year_ends/mailer_spec.rb[1:1:2:1:4]","description":"sets the sender correctly","full_description":"Accounting::YearEnds::Mailer#year_end_prepared with a whitelabelled practice managed company behaves like a year end mailer sets the sender correctly","status":"passed","file_path":"./spec/mailers/accounting/year_ends/mailer_spec.rb","line_number":26,"run_time":0.201374627,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/accounting/year_ends/mailer_spec.rb[1:2:1:2]","description":"sends the email with the correct body text","full_description":"Accounting::YearEnds::Mailer#year_end_approved with a non-whitelabelled practice managed company sends the email with the correct body text","status":"passed","file_path":"./spec/mailers/accounting/year_ends/mailer_spec.rb","line_number":100,"run_time":0.219160916,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/accounting/year_ends/mailer_spec.rb[1:2:1:3]","description":"sets the return path correctly","full_description":"Accounting::YearEnds::Mailer#year_end_approved with a non-whitelabelled practice managed company sets the return path correctly","status":"passed","file_path":"./spec/mailers/accounting/year_ends/mailer_spec.rb","line_number":105,"run_time":0.175832232,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/accounting/year_ends/mailer_spec.rb[1:2:1:1:1]","description":"sets the recipient correctly","full_description":"Accounting::YearEnds::Mailer#year_end_approved with a non-whitelabelled practice managed company behaves like a year end mailer sets the recipient correctly","status":"passed","file_path":"./spec/mailers/accounting/year_ends/mailer_spec.rb","line_number":14,"run_time":0.201500198,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/accounting/year_ends/mailer_spec.rb[1:2:1:1:2]","description":"sets the subject correctly","full_description":"Accounting::YearEnds::Mailer#year_end_approved with a non-whitelabelled practice managed company behaves like a year end mailer sets the subject correctly","status":"passed","file_path":"./spec/mailers/accounting/year_ends/mailer_spec.rb","line_number":18,"run_time":0.204097965,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/accounting/year_ends/mailer_spec.rb[1:2:1:1:3]","description":"sets reply_to correctly","full_description":"Accounting::YearEnds::Mailer#year_end_approved with a non-whitelabelled practice managed company behaves like a year end mailer sets reply_to correctly","status":"passed","file_path":"./spec/mailers/accounting/year_ends/mailer_spec.rb","line_number":22,"run_time":0.200885886,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/accounting/year_ends/mailer_spec.rb[1:2:1:1:4]","description":"sets the sender correctly","full_description":"Accounting::YearEnds::Mailer#year_end_approved with a non-whitelabelled practice managed company behaves like a year end mailer sets the sender correctly","status":"passed","file_path":"./spec/mailers/accounting/year_ends/mailer_spec.rb","line_number":26,"run_time":0.202718238,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/accounting/year_ends/mailer_spec.rb[1:2:2:2]","description":"sends the email with the correct body text","full_description":"Accounting::YearEnds::Mailer#year_end_approved with a whitelabelled practice managed company sends the email with the correct body text","status":"passed","file_path":"./spec/mailers/accounting/year_ends/mailer_spec.rb","line_number":118,"run_time":0.191807316,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/accounting/year_ends/mailer_spec.rb[1:2:2:3]","description":"sets the return path correctly","full_description":"Accounting::YearEnds::Mailer#year_end_approved with a whitelabelled practice managed company sets the return path correctly","status":"passed","file_path":"./spec/mailers/accounting/year_ends/mailer_spec.rb","line_number":122,"run_time":0.19460932,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/accounting/year_ends/mailer_spec.rb[1:2:2:1:1]","description":"sets the recipient correctly","full_description":"Accounting::YearEnds::Mailer#year_end_approved with a whitelabelled practice managed company behaves like a year end mailer sets the recipient correctly","status":"passed","file_path":"./spec/mailers/accounting/year_ends/mailer_spec.rb","line_number":14,"run_time":0.221671618,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/accounting/year_ends/mailer_spec.rb[1:2:2:1:2]","description":"sets the subject correctly","full_description":"Accounting::YearEnds::Mailer#year_end_approved with a whitelabelled practice managed company behaves like a year end mailer sets the subject correctly","status":"passed","file_path":"./spec/mailers/accounting/year_ends/mailer_spec.rb","line_number":18,"run_time":0.217769859,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/accounting/year_ends/mailer_spec.rb[1:2:2:1:3]","description":"sets reply_to correctly","full_description":"Accounting::YearEnds::Mailer#year_end_approved with a whitelabelled practice managed company behaves like a year end mailer sets reply_to correctly","status":"passed","file_path":"./spec/mailers/accounting/year_ends/mailer_spec.rb","line_number":22,"run_time":0.207853481,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/accounting/year_ends/mailer_spec.rb[1:2:2:1:4]","description":"sets the sender correctly","full_description":"Accounting::YearEnds::Mailer#year_end_approved with a whitelabelled practice managed company behaves like a year end mailer sets the sender correctly","status":"passed","file_path":"./spec/mailers/accounting/year_ends/mailer_spec.rb","line_number":26,"run_time":0.215967695,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoice_items_integration_spec.rb[1:1:1]","description":"GET /v2/invoice_items","full_description":"Api::InvoiceItemsIntegration Given an API user without permissions GET /v2/invoice_items","status":"passed","file_path":"./spec/requests/api/invoice_items_integration_spec.rb","line_number":16,"run_time":0.174686419,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoice_items_integration_spec.rb[1:1:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::InvoiceItemsIntegration Given an API user without permissions GET /v2/invoice_items/id is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/invoice_items_integration_spec.rb","line_number":27,"run_time":0.202509362,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoice_items_integration_spec.rb[1:1:3:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::InvoiceItemsIntegration Given an API user without permissions POST /v2/invoice_items is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/invoice_items_integration_spec.rb","line_number":35,"run_time":0.143502707,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoice_items_integration_spec.rb[1:1:4:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::InvoiceItemsIntegration Given an API user without permissions PUT /v2/invoice_items/id is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/invoice_items_integration_spec.rb","line_number":44,"run_time":0.182701187,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoice_items_integration_spec.rb[1:1:5:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::InvoiceItemsIntegration Given an API user without permissions DELETE /v2/invoice_items/id without permissions is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/invoice_items_integration_spec.rb","line_number":53,"run_time":0.145649284,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoice_items_integration_spec.rb[1:2:2]","description":"GET /v2/invoice_items without an invoice","full_description":"Api::InvoiceItemsIntegration Given an API user with permissions GET /v2/invoice_items without an invoice","status":"passed","file_path":"./spec/requests/api/invoice_items_integration_spec.rb","line_number":128,"run_time":0.123737389,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoice_items_integration_spec.rb[1:2:3]","description":"GET /v2/invoice_items with a valid invoice","full_description":"Api::InvoiceItemsIntegration Given an API user with permissions GET /v2/invoice_items with a valid invoice","status":"passed","file_path":"./spec/requests/api/invoice_items_integration_spec.rb","line_number":133,"run_time":0.181266738,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoice_items_integration_spec.rb[1:2:6]","description":"GET /v2/invoice_items/id for an invoice associated with a project","full_description":"Api::InvoiceItemsIntegration Given an API user with permissions GET /v2/invoice_items/id for an invoice associated with a project","status":"passed","file_path":"./spec/requests/api/invoice_items_integration_spec.rb","line_number":193,"run_time":0.22515814,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoice_items_integration_spec.rb[1:2:1:1]","description":"without an invoice","full_description":"Api::InvoiceItemsIntegration Given an API user with permissions GET /v2/invoice_items/new without an invoice","status":"passed","file_path":"./spec/requests/api/invoice_items_integration_spec.rb","line_number":68,"run_time":0.152656442,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoice_items_integration_spec.rb[1:2:1:2]","description":"with an invoice","full_description":"Api::InvoiceItemsIntegration Given an API user with permissions GET /v2/invoice_items/new with an invoice","status":"passed","file_path":"./spec/requests/api/invoice_items_integration_spec.rb","line_number":73,"run_time":0.153173488,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoice_items_integration_spec.rb[1:2:1:3]","description":"for a price list item","full_description":"Api::InvoiceItemsIntegration Given an API user with permissions GET /v2/invoice_items/new for a price list item","status":"passed","file_path":"./spec/requests/api/invoice_items_integration_spec.rb","line_number":83,"run_time":0.155404679,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoice_items_integration_spec.rb[1:2:1:4:1]","description":"returns the appropriate CIS category","full_description":"Api::InvoiceItemsIntegration Given an API user with permissions GET /v2/invoice_items/new for a parent invoice involving CIS returns the appropriate CIS category","status":"passed","file_path":"./spec/requests/api/invoice_items_integration_spec.rb","line_number":101,"run_time":0.195084208,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoice_items_integration_spec.rb[1:2:1:5:1]","description":"returns the previous item's category","full_description":"Api::InvoiceItemsIntegration Given an API user with permissions GET /v2/invoice_items/new for a parent invoice with line items returns the previous item's category","status":"passed","file_path":"./spec/requests/api/invoice_items_integration_spec.rb","line_number":122,"run_time":0.313298149,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoice_items_integration_spec.rb[1:2:4:1]","description":"responds with the standard invoice item fields","full_description":"Api::InvoiceItemsIntegration Given an API user with permissions GET /v2/invoice_items/id with valid invoice item id responds with the standard invoice item fields","status":"passed","file_path":"./spec/requests/api/invoice_items_integration_spec.rb","line_number":149,"run_time":0.179508596,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoice_items_integration_spec.rb[1:2:4:2:1]","description":"translates the sales tax status attributes into the API format and does not send the rates","full_description":"Api::InvoiceItemsIntegration Given an API user with permissions GET /v2/invoice_items/id with valid invoice item id sales tax status translates the sales tax status attributes into the API format and does not send the rates","status":"passed","file_path":"./spec/requests/api/invoice_items_integration_spec.rb","line_number":176,"run_time":0.349774738,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoice_items_integration_spec.rb[1:2:5:1]","description":"is expected to respond with a missing status code (404)","full_description":"Api::InvoiceItemsIntegration Given an API user with permissions GET /v2/invoice_items/id with invalid invoice item id is expected to respond with a missing status code (404)","status":"passed","file_path":"./spec/requests/api/invoice_items_integration_spec.rb","line_number":190,"run_time":0.127193841,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoice_items_integration_spec.rb[1:2:7:1]","description":"is expected to respond with status code :created (201)","full_description":"Api::InvoiceItemsIntegration Given an API user with permissions POST /invoice_items with no item_type is expected to respond with status code :created (201)","status":"passed","file_path":"./spec/requests/api/invoice_items_integration_spec.rb","line_number":217,"run_time":0.146876171,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoice_items_integration_spec.rb[1:2:7:2]","description":"has created an invoice item with an item type of no unit","full_description":"Api::InvoiceItemsIntegration Given an API user with permissions POST /invoice_items with no item_type has created an invoice item with an item type of no unit","status":"passed","file_path":"./spec/requests/api/invoice_items_integration_spec.rb","line_number":219,"run_time":0.155526646,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoice_items_integration_spec.rb[1:2:8:1]","description":"has created an invoice item with the set item type","full_description":"Api::InvoiceItemsIntegration Given an API user with permissions POST /invoice_items with an item_type has created an invoice item with the set item type","status":"passed","file_path":"./spec/requests/api/invoice_items_integration_spec.rb","line_number":239,"run_time":0.180876825,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoice_items_integration_spec.rb[1:2:9:1]","description":"has created an invoice item with the set item type","full_description":"Api::InvoiceItemsIntegration Given an API user with permissions POST /invoice_items with an item_type of 'Stock' has created an invoice item with the set item type","status":"passed","file_path":"./spec/requests/api/invoice_items_integration_spec.rb","line_number":264,"run_time":0.207545185,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoice_items_integration_spec.rb[1:2:10:1]","description":"has created an invoice item with the invoice item and invoice projects both set","full_description":"Api::InvoiceItemsIntegration Given an API user with permissions POST /v2/invoice_items for a invoice associated to project has created an invoice item with the invoice item and invoice projects both set","status":"passed","file_path":"./spec/requests/api/invoice_items_integration_spec.rb","line_number":289,"run_time":0.189906744,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoice_items_integration_spec.rb[1:2:11:1]","description":"has update an invoice item","full_description":"Api::InvoiceItemsIntegration Given an API user with permissions PUT /v2/invoice_items/id with valid invoice item attributes has update an invoice item","status":"passed","file_path":"./spec/requests/api/invoice_items_integration_spec.rb","line_number":313,"run_time":0.249053035,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoice_items_integration_spec.rb[1:2:12:1]","description":"syncs the invoice project to invoice item project","full_description":"Api::InvoiceItemsIntegration Given an API user with permissions POST /v2/invoice_items for a invoice associated to project syncs the invoice project to invoice item project","status":"passed","file_path":"./spec/requests/api/invoice_items_integration_spec.rb","line_number":333,"run_time":0.254654332,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoice_items_integration_spec.rb[1:2:13:1]","description":"is expected to respond with a missing status code (404)","full_description":"Api::InvoiceItemsIntegration Given an API user with permissions PUT /v2/invoice_items/id with invalid invoice item id is expected to respond with a missing status code (404)","status":"passed","file_path":"./spec/requests/api/invoice_items_integration_spec.rb","line_number":345,"run_time":0.139061596,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoice_items_integration_spec.rb[1:2:14:1]","description":"has one less invoice_item after deletion","full_description":"Api::InvoiceItemsIntegration Given an API user with permissions DELETE /invoice_items/id with valid invoice item id has one less invoice_item after deletion","status":"passed","file_path":"./spec/requests/api/invoice_items_integration_spec.rb","line_number":355,"run_time":0.280304596,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoice_items_integration_spec.rb[1:2:15:1]","description":"is expected to respond with a missing status code (404)","full_description":"Api::InvoiceItemsIntegration Given an API user with permissions DELETE /invoice_items/id with invalid invoice item id is expected to respond with a missing status code (404)","status":"passed","file_path":"./spec/requests/api/invoice_items_integration_spec.rb","line_number":366,"run_time":0.129403739,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/rounding.feature[1:1:1]","description":"Given the current date is 2019-01-07 -\u003e And a UK Limited Company which was started on 2018-01-01 -\u003e And its first accounting year ends on 2018-12-31 -\u003e And it starts using FreeAgent on 2018-01-01 -\u003e And it is VAT registered from 2018-01-01 -\u003e Given the company is Invoice accounting for VAT, not on the FRS -\u003e And it has a contact in United Kingdom named John Bull -\u003e When an invoice is sent to \"John Bull\" for £12833.75 with 20% VAT dated on 2018-12-01 -\u003e Then the VAT return covering 2018-12-31 should have exact values -\u003e And the VAT return covering 2018-12-31 will submit these boxes","full_description":"Rounding rules for 9 boxes on VAT returns Submitting a VAT return with output VAT and not on the flat rate scheme Given the current date is 2019-01-07 -\u003e And a UK Limited Company which was started on 2018-01-01 -\u003e And its first accounting year ends on 2018-12-31 -\u003e And it starts using FreeAgent on 2018-01-01 -\u003e And it is VAT registered from 2018-01-01 -\u003e Given the company is Invoice accounting for VAT, not on the FRS -\u003e And it has a contact in United Kingdom named John Bull -\u003e When an invoice is sent to \"John Bull\" for £12833.75 with 20% VAT dated on 2018-12-01 -\u003e Then the VAT return covering 2018-12-31 should have exact values -\u003e And the VAT return covering 2018-12-31 will submit these boxes","status":"passed","file_path":"./spec/acceptance/vat/rounding.feature","line_number":11,"run_time":0.879325703,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/rounding.feature[1:2:1]","description":"Given the current date is 2019-01-07 -\u003e And a UK Limited Company which was started on 2018-01-01 -\u003e And its first accounting year ends on 2018-12-31 -\u003e And it starts using FreeAgent on 2018-01-01 -\u003e And it is VAT registered from 2018-01-01 -\u003e Given the company is Invoice accounting for VAT, not on the FRS -\u003e And it has a contact in United Kingdom named John Bull -\u003e When a sent credit note to John Bull dated on 2018-12-01 -\u003e And the credit note has a line for 1 of \"Wheat\" @ £12833.75 + 20% VAT -\u003e Then the credit note should be valid -\u003e And the VAT return covering 2018-12-31 should have exact values -\u003e And the VAT return covering 2018-12-31 will submit these boxes","full_description":"Rounding rules for 9 boxes on VAT returns Submitting a VAT return with output VAT and not on the flat rate scheme Given the current date is 2019-01-07 -\u003e And a UK Limited Company which was started on 2018-01-01 -\u003e And its first accounting year ends on 2018-12-31 -\u003e And it starts using FreeAgent on 2018-01-01 -\u003e And it is VAT registered from 2018-01-01 -\u003e Given the company is Invoice accounting for VAT, not on the FRS -\u003e And it has a contact in United Kingdom named John Bull -\u003e When a sent credit note to John Bull dated on 2018-12-01 -\u003e And the credit note has a line for 1 of \"Wheat\" @ £12833.75 + 20% VAT -\u003e Then the credit note should be valid -\u003e And the VAT return covering 2018-12-31 should have exact values -\u003e And the VAT return covering 2018-12-31 will submit these boxes","status":"passed","file_path":"./spec/acceptance/vat/rounding.feature","line_number":39,"run_time":0.674671863,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/rounding.feature[1:3:1]","description":"Given the current date is 2019-01-07 -\u003e And a UK Limited Company which was started on 2018-01-01 -\u003e And its first accounting year ends on 2018-12-31 -\u003e And it starts using FreeAgent on 2018-01-01 -\u003e And it is VAT registered from 2018-01-01 -\u003e Given the company is Invoice accounting for VAT, on the \"Limited cost trader\" flat rate scheme -\u003e And it has a contact in United Kingdom named John Bull -\u003e When an invoice is sent to \"John Bull\" for £12,565.75 with 20% VAT dated on 2018-12-01 -\u003e Then the VAT return covering 2018-12-31 should have exact values -\u003e And the VAT return covering 2018-12-31 will submit these boxes","full_description":"Rounding rules for 9 boxes on VAT returns Submitting a VAT return with output VAT and on the flat rate scheme Given the current date is 2019-01-07 -\u003e And a UK Limited Company which was started on 2018-01-01 -\u003e And its first accounting year ends on 2018-12-31 -\u003e And it starts using FreeAgent on 2018-01-01 -\u003e And it is VAT registered from 2018-01-01 -\u003e Given the company is Invoice accounting for VAT, on the \"Limited cost trader\" flat rate scheme -\u003e And it has a contact in United Kingdom named John Bull -\u003e When an invoice is sent to \"John Bull\" for £12,565.75 with 20% VAT dated on 2018-12-01 -\u003e Then the VAT return covering 2018-12-31 should have exact values -\u003e And the VAT return covering 2018-12-31 will submit these boxes","status":"passed","file_path":"./spec/acceptance/vat/rounding.feature","line_number":69,"run_time":1.015988339,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:1:1]","description":"is the user's accounts","full_description":"OpenBanking::Integration::ApiClient#accounts is the user's accounts","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":22,"run_time":0.105520529,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:2:1]","description":"is the account balances for the account","full_description":"OpenBanking::Integration::ApiClient#account_balances is the account balances for the account","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":34,"run_time":0.063801279,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:3:1]","description":"is nil when there is not a bank account with the matching type","full_description":"OpenBanking::Integration::ApiClient#account_balance_value is nil when there is not a bank account with the matching type","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":43,"run_time":0.056842875,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:3:2]","description":"is the formatted value of the balance value","full_description":"OpenBanking::Integration::ApiClient#account_balance_value is the formatted value of the balance value","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":48,"run_time":0.044714089,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:4:1]","description":"is nil when there is not a bank account with the matching type","full_description":"OpenBanking::Integration::ApiClient#account_balance_detail is nil when there is not a bank account with the matching type","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":57,"run_time":0.042233132,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:4:2]","description":"returns a balance object","full_description":"OpenBanking::Integration::ApiClient#account_balance_detail returns a balance object","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":62,"run_time":0.043753209,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:5:1]","description":"returns an InterimBooked Balance","full_description":"OpenBanking::Integration::ApiClient#account_balance_preferred returns an InterimBooked Balance","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":75,"run_time":0.050898704,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:5:2]","description":"returns a ForwardAvailable Balance","full_description":"OpenBanking::Integration::ApiClient#account_balance_preferred returns a ForwardAvailable Balance","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":87,"run_time":0.050082015,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:5:3]","description":"favours InterimBooked","full_description":"OpenBanking::Integration::ApiClient#account_balance_preferred favours InterimBooked","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":99,"run_time":0.057873633,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:5:4]","description":"returns nil when neither are available","full_description":"OpenBanking::Integration::ApiClient#account_balance_preferred returns nil when neither are available","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":111,"run_time":0.049365173,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:5:5]","description":"only calls the endpoint once","full_description":"OpenBanking::Integration::ApiClient#account_balance_preferred only calls the endpoint once","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":120,"run_time":0.054704608,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:5:6]","description":"logs found balance types","full_description":"OpenBanking::Integration::ApiClient#account_balance_preferred logs found balance types","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":130,"run_time":0.065898355,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:5:7]","description":"logs balance type used","full_description":"OpenBanking::Integration::ApiClient#account_balance_preferred logs balance type used","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":143,"run_time":0.066230652,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:5:8]","description":"logs when no balance was found","full_description":"OpenBanking::Integration::ApiClient#account_balance_preferred logs when no balance was found","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":156,"run_time":0.056955632,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:5:9]","description":"times out after 3 seconds","full_description":"OpenBanking::Integration::ApiClient#account_balance_preferred times out after 3 seconds","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":169,"run_time":0.05580672,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:6:1:1]","description":"has the expected accounts","full_description":"OpenBanking::Integration::ApiClient#transformed_accounts with all identifiers present has the expected accounts","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":189,"run_time":0.062410888,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:6:2:1]","description":"has the expected accounts","full_description":"OpenBanking::Integration::ApiClient#transformed_accounts with non standard identifiers has the expected accounts","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":212,"run_time":0.061121864,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:6:3:1]","description":"has the expected accounts","full_description":"OpenBanking::Integration::ApiClient#transformed_accounts with some identifiers missing has the expected accounts","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":249,"run_time":0.095282917,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:6:4:1]","description":"returns the formatted amount when a balance is passed in","full_description":"OpenBanking::Integration::ApiClient#transformed_accounts #format_amount returns the formatted amount when a balance is passed in","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":274,"run_time":0.044386723,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:6:4:2]","description":"raises an error when no balance is passed in","full_description":"OpenBanking::Integration::ApiClient#transformed_accounts #format_amount raises an error when no balance is passed in","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":278,"run_time":0.04751668,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:7:2]","description":"indicates Nationwide providers should drop the fapd-interaction-id header param","full_description":"OpenBanking::Integration::ApiClient#transactions indicates Nationwide providers should drop the fapd-interaction-id header param","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":385,"run_time":0.044274324,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:7:3]","description":"ensures transactions belong to the requested account","full_description":"OpenBanking::Integration::ApiClient#transactions ensures transactions belong to the requested account","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":399,"run_time":0.051195809,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:7:4]","description":"handles an (off-spec) empty response","full_description":"OpenBanking::Integration::ApiClient#transactions handles an (off-spec) empty response","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":404,"run_time":0.052023972,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:7:1:1]","description":"can filter transactions on a from and to date","full_description":"OpenBanking::Integration::ApiClient#transactions when filtering on date can filter transactions on a from and to date","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":329,"run_time":0.040936476,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:7:1:2:1]","description":"filters transactions with iso8601 from and to dates","full_description":"OpenBanking::Integration::ApiClient#transactions when filtering on date When the provider config calls for iso8601 format dates filters transactions with iso8601 from and to dates","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":349,"run_time":0.046625057,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:7:1:2:2:1]","description":"filters transactions with iso8601 from and to dates in Z format","full_description":"OpenBanking::Integration::ApiClient#transactions when filtering on date When the provider config calls for iso8601 format dates in Z format filters transactions with iso8601 from and to dates in Z format","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":369,"run_time":0.05740744,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:7:5:1]","description":"has a nil balance","full_description":"OpenBanking::Integration::ApiClient#transactions the API response does not include the optional 'Balance' attribute has a nil balance","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":430,"run_time":0.051266411,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:7:6:1]","description":"uses the 'ProprietaryBankTransactionCode/Code' as the name if there","full_description":"OpenBanking::Integration::ApiClient#transactions the API response does not contain the 'TransactionInformation' attribute (RBS cheques) uses the 'ProprietaryBankTransactionCode/Code' as the name if there","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":437,"run_time":0.053170354,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:7:7:1]","description":"returns all transactions by default","full_description":"OpenBanking::Integration::ApiClient#transactions when filtering on status returns all transactions by default","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":444,"run_time":0.059640118,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:7:7:2]","description":"includes only transactions with matching status if a status parameter is passed","full_description":"OpenBanking::Integration::ApiClient#transactions when filtering on status includes only transactions with matching status if a status parameter is passed","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":454,"run_time":0.059392815,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:7:8:1]","description":"excludes the transaction as we cannot determine if the amount should be positive or negative","full_description":"OpenBanking::Integration::ApiClient#transactions the API response does not contain a CreditDebitIndicator excludes the transaction as we cannot determine if the amount should be positive or negative","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":466,"run_time":0.06018296,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:8:1]","description":"calls the product endpoint","full_description":"OpenBanking::Integration::ApiClient#product calls the product endpoint","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":483,"run_time":0.052540878,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:8:2]","description":"gets the product data from the JSON","full_description":"OpenBanking::Integration::ApiClient#product gets the product data from the JSON","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":489,"run_time":0.046864793,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:8:3]","description":"is nil when there is not product data","full_description":"OpenBanking::Integration::ApiClient#product is nil when there is not product data","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":494,"run_time":0.051965148,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:8:4]","description":"raises an error if the consent can't be used to hit the product end point","full_description":"OpenBanking::Integration::ApiClient#product raises an error if the consent can't be used to hit the product end point","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":500,"run_time":0.04919815,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:9:1]","description":"gets it from the JSON","full_description":"OpenBanking::Integration::ApiClient#product_id gets it from the JSON","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":512,"run_time":0.041827793,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:10:1]","description":"calls the direct debits endpoint","full_description":"OpenBanking::Integration::ApiClient#direct_debits calls the direct debits endpoint","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":519,"run_time":0.039470965,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:11:1:1]","description":"calls the scheduled payments endpoint","full_description":"OpenBanking::Integration::ApiClient#scheduled_payments valid response calls the scheduled payments endpoint","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":532,"run_time":0.04251834,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:11:2:1]","description":"calls the scheduled payments endpoint","full_description":"OpenBanking::Integration::ApiClient#scheduled_payments invalid response missing ScheduledPayment key calls the scheduled payments endpoint","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":554,"run_time":0.049652779,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:12:1:1]","description":"calls the standing orders endpoint","full_description":"OpenBanking::Integration::ApiClient#standing_orders valid response calls the standing orders endpoint","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":568,"run_time":0.047151638,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:12:2:1]","description":"calls the standing orders endpoint","full_description":"OpenBanking::Integration::ApiClient#standing_orders invalid response missing StandingOrder key calls the standing orders endpoint","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":590,"run_time":0.039161044,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:13:1]","description":"calls the pre-assessed limit endpoint","full_description":"OpenBanking::Integration::ApiClient#pre_assessed_limit calls the pre-assessed limit endpoint","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":607,"run_time":0.042445203,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:13:2]","description":"is the pre-assessed limit value","full_description":"OpenBanking::Integration::ApiClient#pre_assessed_limit is the pre-assessed limit value","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":612,"run_time":0.051830642,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:13:3]","description":"handles a nil pre-assessed limmit value","full_description":"OpenBanking::Integration::ApiClient#pre_assessed_limit handles a nil pre-assessed limmit value","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":617,"run_time":0.046198291,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/api_client_spec.rb[1:14:1]","description":"refreshes the access token automatically when calling any endpoint","full_description":"OpenBanking::Integration::ApiClient with expired access token on consent refreshes the access token automatically when calling any endpoint","status":"passed","file_path":"./spec/models/open_banking/integration/api_client_spec.rb","line_number":643,"run_time":0.048792952,"pending_message":null,"screenshot":null},{"id":"./spec/tools/data_integrity/issues/issue_15563_spec.rb[1:1:1:1]","description":"exports foreign bank accounts with a non-zero difference between the given and expected value","full_description":"DataIntegrity::Issues::Issue15563#export_to_csv for a company with a single VAT registration exports foreign bank accounts with a non-zero difference between the given and expected value","status":"passed","file_path":"./spec/tools/data_integrity/issues/issue_15563_spec.rb","line_number":33,"run_time":0.45513605,"pending_message":null,"screenshot":null},{"id":"./spec/tools/data_integrity/issues/issue_15563_spec.rb[1:1:2:1]","description":"exports CapitalAsset's bought and sold within the same pre-registration period","full_description":"DataIntegrity::Issues::Issue15563#export_to_csv for a company with multiple VAT registrations exports CapitalAsset's bought and sold within the same pre-registration period","status":"passed","file_path":"./spec/tools/data_integrity/issues/issue_15563_spec.rb","line_number":112,"run_time":1.953032077,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/cancellations_controller_spec.rb[1:1:1:1]","description":"GET :new allows access to the cancellation form","full_description":"Admin::CancellationsController A direct company with an active subscription behaves like can be cancelled through sudo GET :new allows access to the cancellation form","status":"passed","file_path":"./spec/controllers/admin/cancellations_controller_spec.rb","line_number":8,"run_time":0.268359383,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/cancellations_controller_spec.rb[1:1:1:2]","description":"POST :create cancels the company, revokes all active user sessions, and adds a company note","full_description":"Admin::CancellationsController A direct company with an active subscription behaves like can be cancelled through sudo POST :create cancels the company, revokes all active user sessions, and adds a company note","status":"passed","file_path":"./spec/controllers/admin/cancellations_controller_spec.rb","line_number":15,"run_time":0.162327685,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/cancellations_controller_spec.rb[1:2:1:1]","description":"GET :new allows access to the cancellation form","full_description":"Admin::CancellationsController A direct company on a free trial behaves like can be cancelled through sudo GET :new allows access to the cancellation form","status":"passed","file_path":"./spec/controllers/admin/cancellations_controller_spec.rb","line_number":8,"run_time":0.043059742,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/cancellations_controller_spec.rb[1:2:1:2]","description":"POST :create cancels the company, revokes all active user sessions, and adds a company note","full_description":"Admin::CancellationsController A direct company on a free trial behaves like can be cancelled through sudo POST :create cancels the company, revokes all active user sessions, and adds a company note","status":"passed","file_path":"./spec/controllers/admin/cancellations_controller_spec.rb","line_number":15,"run_time":0.05456835,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/cancellations_controller_spec.rb[1:3:1:1]","description":"GET :new allows access to the cancellation form","full_description":"Admin::CancellationsController A direct company with a suspended subscription behaves like can be cancelled through sudo GET :new allows access to the cancellation form","status":"passed","file_path":"./spec/controllers/admin/cancellations_controller_spec.rb","line_number":8,"run_time":0.13544003,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/cancellations_controller_spec.rb[1:3:1:2]","description":"POST :create cancels the company, revokes all active user sessions, and adds a company note","full_description":"Admin::CancellationsController A direct company with a suspended subscription behaves like can be cancelled through sudo POST :create cancels the company, revokes all active user sessions, and adds a company note","status":"passed","file_path":"./spec/controllers/admin/cancellations_controller_spec.rb","line_number":15,"run_time":0.159400516,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/cancellations_controller_spec.rb[1:4:1:1]","description":"GET :new allows access to the cancellation form","full_description":"Admin::CancellationsController A direct company with a frozen subscription behaves like can be cancelled through sudo GET :new allows access to the cancellation form","status":"passed","file_path":"./spec/controllers/admin/cancellations_controller_spec.rb","line_number":8,"run_time":0.116587469,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/cancellations_controller_spec.rb[1:4:1:2]","description":"POST :create cancels the company, revokes all active user sessions, and adds a company note","full_description":"Admin::CancellationsController A direct company with a frozen subscription behaves like can be cancelled through sudo POST :create cancels the company, revokes all active user sessions, and adds a company note","status":"passed","file_path":"./spec/controllers/admin/cancellations_controller_spec.rb","line_number":15,"run_time":0.159480228,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/cancellations_controller_spec.rb[1:5:1:1]","description":"GET :new allows access to the cancellation form","full_description":"Admin::CancellationsController A direct company that is linked to a practice behaves like can be cancelled through sudo GET :new allows access to the cancellation form","status":"passed","file_path":"./spec/controllers/admin/cancellations_controller_spec.rb","line_number":8,"run_time":0.095378431,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/cancellations_controller_spec.rb[1:5:1:2]","description":"POST :create cancels the company, revokes all active user sessions, and adds a company note","full_description":"Admin::CancellationsController A direct company that is linked to a practice behaves like can be cancelled through sudo POST :create cancels the company, revokes all active user sessions, and adds a company note","status":"passed","file_path":"./spec/controllers/admin/cancellations_controller_spec.rb","line_number":15,"run_time":0.101681052,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/cancellations_controller_spec.rb[1:6:1:1]","description":"GET :new allows access to the cancellation form","full_description":"Admin::CancellationsController A company with a free subscription behaves like can be cancelled through sudo GET :new allows access to the cancellation form","status":"passed","file_path":"./spec/controllers/admin/cancellations_controller_spec.rb","line_number":8,"run_time":0.140552582,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/cancellations_controller_spec.rb[1:6:1:2]","description":"POST :create cancels the company, revokes all active user sessions, and adds a company note","full_description":"Admin::CancellationsController A company with a free subscription behaves like can be cancelled through sudo POST :create cancels the company, revokes all active user sessions, and adds a company note","status":"passed","file_path":"./spec/controllers/admin/cancellations_controller_spec.rb","line_number":15,"run_time":0.160038746,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/cancellations_controller_spec.rb[1:7:1:1]","description":"GET :new allows access to the cancellation form","full_description":"Admin::CancellationsController An RBSG resold company behaves like can be cancelled through sudo GET :new allows access to the cancellation form","status":"passed","file_path":"./spec/controllers/admin/cancellations_controller_spec.rb","line_number":8,"run_time":0.140620768,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/cancellations_controller_spec.rb[1:7:1:2]","description":"POST :create cancels the company, revokes all active user sessions, and adds a company note","full_description":"Admin::CancellationsController An RBSG resold company behaves like can be cancelled through sudo POST :create cancels the company, revokes all active user sessions, and adds a company note","status":"passed","file_path":"./spec/controllers/admin/cancellations_controller_spec.rb","line_number":15,"run_time":0.141093798,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/cancellations_controller_spec.rb[1:7:2:1:1]","description":"GET :new allows access to the cancellation form","full_description":"Admin::CancellationsController An RBSG resold company when linked to a Practice Dashboard behaves like can be cancelled through sudo GET :new allows access to the cancellation form","status":"passed","file_path":"./spec/controllers/admin/cancellations_controller_spec.rb","line_number":8,"run_time":0.184114847,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/cancellations_controller_spec.rb[1:7:2:1:2]","description":"POST :create cancels the company, revokes all active user sessions, and adds a company note","full_description":"Admin::CancellationsController An RBSG resold company when linked to a Practice Dashboard behaves like can be cancelled through sudo POST :create cancels the company, revokes all active user sessions, and adds a company note","status":"passed","file_path":"./spec/controllers/admin/cancellations_controller_spec.rb","line_number":15,"run_time":0.209822244,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/cancellations_controller_spec.rb[1:8:1:1]","description":"GET :new does not allow access to the cancellation form","full_description":"Admin::CancellationsController A company that is practice managed behaves like can not be cancelled through sudo GET :new does not allow access to the cancellation form","status":"passed","file_path":"./spec/controllers/admin/cancellations_controller_spec.rb","line_number":93,"run_time":0.196438819,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/cancellations_controller_spec.rb[1:8:1:2]","description":"POST :create does not cancel the company, revoke user sessions or add a company note","full_description":"Admin::CancellationsController A company that is practice managed behaves like can not be cancelled through sudo POST :create does not cancel the company, revoke user sessions or add a company note","status":"passed","file_path":"./spec/controllers/admin/cancellations_controller_spec.rb","line_number":101,"run_time":0.170956738,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/cancellations_controller_spec.rb[1:9:1:1]","description":"GET :new does not allow access to the cancellation form","full_description":"Admin::CancellationsController A resold company behaves like can not be cancelled through sudo GET :new does not allow access to the cancellation form","status":"passed","file_path":"./spec/controllers/admin/cancellations_controller_spec.rb","line_number":93,"run_time":0.116646161,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/cancellations_controller_spec.rb[1:9:1:2]","description":"POST :create does not cancel the company, revoke user sessions or add a company note","full_description":"Admin::CancellationsController A resold company behaves like can not be cancelled through sudo POST :create does not cancel the company, revoke user sessions or add a company note","status":"passed","file_path":"./spec/controllers/admin/cancellations_controller_spec.rb","line_number":101,"run_time":0.116514925,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_client/message_threads_controller_spec.rb[1:1:1:1:1]","description":"renders a no messages notice","full_description":"PracticeClient::MessageThreadsController#show for a subscribed user with no existing messages renders a no messages notice","status":"passed","file_path":"./spec/controllers/practice_client/message_threads_controller_spec.rb","line_number":14,"run_time":0.272531157,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_client/message_threads_controller_spec.rb[1:1:1:2:1:1]","description":"renders them in a thread","full_description":"PracticeClient::MessageThreadsController#show for a subscribed user behaves like a message thread with existing messages with existing messages renders them in a thread","status":"passed","file_path":"./spec/support/shared_examples/practice_client/message_threads_controller_shared_examples.rb","line_number":4,"run_time":0.191881082,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_client/message_threads_controller_spec.rb[1:1:1:2:1:2:1]","description":"clears their unread count","full_description":"PracticeClient::MessageThreadsController#show for a subscribed user behaves like a message thread with existing messages with existing messages with unread messages clears their unread count","status":"passed","file_path":"./spec/support/shared_examples/practice_client/message_threads_controller_shared_examples.rb","line_number":23,"run_time":0.206464801,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_client/message_threads_controller_spec.rb[1:1:1:2:1:2:2]","description":"does not alter the unread count for other participants","full_description":"PracticeClient::MessageThreadsController#show for a subscribed user behaves like a message thread with existing messages with existing messages with unread messages does not alter the unread count for other participants","status":"passed","file_path":"./spec/support/shared_examples/practice_client/message_threads_controller_shared_examples.rb","line_number":29,"run_time":0.194647863,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_client/message_threads_controller_spec.rb[1:1:1:3:1]","description":"doesn't render the CoPilot header","full_description":"PracticeClient::MessageThreadsController#show for a subscribed user without CoPilot enabled doesn't render the CoPilot header","status":"passed","file_path":"./spec/controllers/practice_client/message_threads_controller_spec.rb","line_number":24,"run_time":0.19728861,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_client/message_threads_controller_spec.rb[1:1:1:4:1]","description":"renders the CoPilot header","full_description":"PracticeClient::MessageThreadsController#show for a subscribed user with CoPilot enabled renders the CoPilot header","status":"passed","file_path":"./spec/controllers/practice_client/message_threads_controller_spec.rb","line_number":33,"run_time":0.329927811,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_client/message_threads_controller_spec.rb[1:1:1:5:1:1]","description":"is expected not to render template addons_and_connections/copilot/shared/_delayed_response_alert","full_description":"PracticeClient::MessageThreadsController#show for a subscribed user visibility of response time delayed alert not in Christmas period is expected not to render template addons_and_connections/copilot/shared/_delayed_response_alert","status":"passed","file_path":"./spec/controllers/practice_client/message_threads_controller_spec.rb","line_number":53,"run_time":0.203464781,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_client/message_threads_controller_spec.rb[1:1:1:5:2:1]","description":"is expected to render template addons_and_connections/copilot/shared/_delayed_response_alert","full_description":"PracticeClient::MessageThreadsController#show for a subscribed user visibility of response time delayed alert during Christmas period is expected to render template addons_and_connections/copilot/shared/_delayed_response_alert","status":"passed","file_path":"./spec/controllers/practice_client/message_threads_controller_spec.rb","line_number":63,"run_time":0.188689657,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_client/message_threads_controller_spec.rb[1:1:1:6:1]","description":"redirects to details page","full_description":"PracticeClient::MessageThreadsController#show for a subscribed user with the CoPilot addon suspended redirects to details page","status":"passed","file_path":"./spec/controllers/practice_client/message_threads_controller_spec.rb","line_number":78,"run_time":0.209971209,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_client/message_threads_controller_spec.rb[1:1:2:1:1]","description":"shows not permitted error","full_description":"PracticeClient::MessageThreadsController#show for an non-subscribed user from the same company shows not permitted error","status":"passed","file_path":"./spec/controllers/practice_client/message_threads_controller_spec.rb","line_number":93,"run_time":0.164314502,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_client/message_threads_controller_spec.rb[1:1:2:2:1]","description":"shows not permitted error","full_description":"PracticeClient::MessageThreadsController#show for an non-subscribed user from another company shows not permitted error","status":"passed","file_path":"./spec/controllers/practice_client/message_threads_controller_spec.rb","line_number":104,"run_time":0.270171868,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_client/message_threads_controller_spec.rb[1:1:3:1]","description":"shows not permitted error","full_description":"PracticeClient::MessageThreadsController#show for accountant assuming user role shows not permitted error","status":"passed","file_path":"./spec/controllers/practice_client/message_threads_controller_spec.rb","line_number":121,"run_time":0.294152088,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:1:4:1]","description":"queues the delivery of company_deleted and company_deleted_manager emails","full_description":"Company::ForgetCompanyData Deleting all data for a VAT registered UK company when the company is linked queues the delivery of company_deleted and company_deleted_manager emails","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":56,"run_time":1.305238877,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/bank_integrations/show.html.erb_spec.rb[1:1]","description":"displays the consents created at date","full_description":"admin/companies/bank_integrations/show displays the consents created at date","status":"passed","file_path":"./spec/views/admin/companies/bank_integrations/show.html.erb_spec.rb","line_number":22,"run_time":0.292358947,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/bank_integrations/show.html.erb_spec.rb[1:2]","description":"only provides a link for an authorised consent","full_description":"admin/companies/bank_integrations/show only provides a link for an authorised consent","status":"passed","file_path":"./spec/views/admin/companies/bank_integrations/show.html.erb_spec.rb","line_number":27,"run_time":0.246539097,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/bank_integrations/show.html.erb_spec.rb[1:3]","description":"displays the number of authorised accounts per consent","full_description":"admin/companies/bank_integrations/show displays the number of authorised accounts per consent","status":"passed","file_path":"./spec/views/admin/companies/bank_integrations/show.html.erb_spec.rb","line_number":32,"run_time":0.258400021,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/bank_integrations/show.html.erb_spec.rb[1:4]","description":"displays the correct consent status","full_description":"admin/companies/bank_integrations/show displays the correct consent status","status":"passed","file_path":"./spec/views/admin/companies/bank_integrations/show.html.erb_spec.rb","line_number":37,"run_time":0.271681561,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_client/message_spec.rb[1:1]","description":"is expected to validate that :message_thread cannot be empty/falsy","full_description":"PracticeClient::Message is expected to validate that :message_thread cannot be empty/falsy","status":"passed","file_path":"./spec/models/practice_client/message_spec.rb","line_number":6,"run_time":0.009395147,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_client/message_spec.rb[1:2]","description":"is expected to validate that :body cannot be empty/falsy","full_description":"PracticeClient::Message is expected to validate that :body cannot be empty/falsy","status":"passed","file_path":"./spec/models/practice_client/message_spec.rb","line_number":7,"run_time":0.00810928,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_client/message_spec.rb[1:3:1:1]","description":"is expected to be valid","full_description":"PracticeClient::Message#author when the author belongs to the thread is expected to be valid","status":"passed","file_path":"./spec/models/practice_client/message_spec.rb","line_number":12,"run_time":0.061382027,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_client/message_spec.rb[1:3:2:1]","description":"is expected not to be valid","full_description":"PracticeClient::Message#author when the author does not belong to the thread is expected not to be valid","status":"passed","file_path":"./spec/models/practice_client/message_spec.rb","line_number":17,"run_time":0.032407995,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_client/message_spec.rb[1:3:3:1]","description":"is expected not to be valid","full_description":"PracticeClient::Message#author when the author is blank is expected not to be valid","status":"passed","file_path":"./spec/models/practice_client/message_spec.rb","line_number":22,"run_time":0.021556782,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_client/message_spec.rb[1:4:1]","description":"increments the unread_messages count for subscribers to the thread","full_description":"PracticeClient::Message#increment_unread_messages increments the unread_messages count for subscribers to the thread","status":"passed","file_path":"./spec/models/practice_client/message_spec.rb","line_number":33,"run_time":0.066064143,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_client/message_spec.rb[1:4:2]","description":"does not increment the unread_messages count for the author's subscription","full_description":"PracticeClient::Message#increment_unread_messages does not increment the unread_messages count for the author's subscription","status":"passed","file_path":"./spec/models/practice_client/message_spec.rb","line_number":39,"run_time":0.065202467,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_client/message_spec.rb[1:5:1]","description":"returns the author first and last name","full_description":"PracticeClient::Message#author_full_name returns the author first and last name","status":"passed","file_path":"./spec/models/practice_client/message_spec.rb","line_number":52,"run_time":0.063054899,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_client/message_spec.rb[1:6:1:1]","description":"returns the user's company name","full_description":"PracticeClient::Message#author_business_name when the author of a message is a user returns the user's company name","status":"passed","file_path":"./spec/models/practice_client/message_spec.rb","line_number":67,"run_time":0.063817806,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_client/message_spec.rb[1:6:2:1]","description":"returns the account manager's practice name","full_description":"PracticeClient::Message#author_business_name when the author of a message is an account manager returns the account manager's practice name","status":"passed","file_path":"./spec/models/practice_client/message_spec.rb","line_number":75,"run_time":0.065476575,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_client/message_spec.rb[1:7:1:1]","description":"destroys the body","full_description":"PracticeClient::Message#mark_as_deleted! for a message with a body destroys the body","status":"passed","file_path":"./spec/models/practice_client/message_spec.rb","line_number":84,"run_time":0.107132004,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_client/message_spec.rb[1:7:2:1]","description":"does not change the body","full_description":"PracticeClient::Message#mark_as_deleted! for a message without a body does not change the body","status":"passed","file_path":"./spec/models/practice_client/message_spec.rb","line_number":91,"run_time":0.119949767,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_client/message_spec.rb[1:8:1:1:1]","description":"is expected to equal true","full_description":"PracticeClient::Message#can_be_deleted_by? for a message with a body given the message author is expected to equal true","status":"passed","file_path":"./spec/models/practice_client/message_spec.rb","line_number":106,"run_time":0.124729473,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_client/message_spec.rb[1:8:1:2:1]","description":"is expected to equal false","full_description":"PracticeClient::Message#can_be_deleted_by? for a message with a body given another user is expected to equal false","status":"passed","file_path":"./spec/models/practice_client/message_spec.rb","line_number":112,"run_time":0.134852891,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_client/message_spec.rb[1:8:2:1:1]","description":"is expected to equal false","full_description":"PracticeClient::Message#can_be_deleted_by? for a message without a body given the message author is expected to equal false","status":"passed","file_path":"./spec/models/practice_client/message_spec.rb","line_number":122,"run_time":0.123686764,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_client/message_spec.rb[1:8:2:2:1]","description":"is expected to equal false","full_description":"PracticeClient::Message#can_be_deleted_by? for a message without a body given another user is expected to equal false","status":"passed","file_path":"./spec/models/practice_client/message_spec.rb","line_number":128,"run_time":0.11311001,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_client/message_spec.rb[1:9:1:1]","description":"emails the account manager subscribers","full_description":"PracticeClient::Message#notify_subscribers when the author of the message is a user emails the account manager subscribers","status":"passed","file_path":"./spec/models/practice_client/message_spec.rb","line_number":146,"run_time":0.083470086,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_client/message_spec.rb[1:9:2:1]","description":"emails the account manager subscribers","full_description":"PracticeClient::Message#notify_subscribers when the author of the message is an account manager emails the account manager subscribers","status":"passed","file_path":"./spec/models/practice_client/message_spec.rb","line_number":156,"run_time":0.165581176,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_client/message_spec.rb[1:10:1:1]","description":"saves the author first and last name correctly","full_description":"PracticeClient::Message#save_author_name when the author is a user saves the author first and last name correctly","status":"passed","file_path":"./spec/models/practice_client/message_spec.rb","line_number":172,"run_time":0.076091444,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_client/message_spec.rb[1:10:2:1]","description":"saves the author first and last name correctly","full_description":"PracticeClient::Message#save_author_name when the author is an account manager saves the author first and last name correctly","status":"passed","file_path":"./spec/models/practice_client/message_spec.rb","line_number":182,"run_time":0.079283898,"pending_message":null,"screenshot":null},{"id":"./spec/models/pricing/direct_spec.rb[1:1:1:1]","description":"should charge standard rate vat","full_description":"Pricing::Direct#sales_tax_rate and #sales_tax_name for UK should charge standard rate vat","status":"passed","file_path":"./spec/models/pricing/direct_spec.rb","line_number":16,"run_time":0.086688965,"pending_message":null,"screenshot":null},{"id":"./spec/models/pricing/direct_spec.rb[1:1:1:2]","description":"should be VAT","full_description":"Pricing::Direct#sales_tax_rate and #sales_tax_name for UK should be VAT","status":"passed","file_path":"./spec/models/pricing/direct_spec.rb","line_number":20,"run_time":0.105705001,"pending_message":null,"screenshot":null},{"id":"./spec/models/pricing/direct_spec.rb[1:1:2:1]","description":"should charge standard rate vat","full_description":"Pricing::Direct#sales_tax_rate and #sales_tax_name for Isle of Man should charge standard rate vat","status":"passed","file_path":"./spec/models/pricing/direct_spec.rb","line_number":28,"run_time":0.102739253,"pending_message":null,"screenshot":null},{"id":"./spec/models/pricing/direct_spec.rb[1:1:2:2]","description":"should be VAT","full_description":"Pricing::Direct#sales_tax_rate and #sales_tax_name for Isle of Man should be VAT","status":"passed","file_path":"./spec/models/pricing/direct_spec.rb","line_number":32,"run_time":0.093004763,"pending_message":null,"screenshot":null},{"id":"./spec/models/pricing/direct_spec.rb[1:1:3:1]","description":"should charge zero rate vat","full_description":"Pricing::Direct#sales_tax_rate and #sales_tax_name for an EU country should charge zero rate vat","status":"passed","file_path":"./spec/models/pricing/direct_spec.rb","line_number":40,"run_time":0.100225609,"pending_message":null,"screenshot":null},{"id":"./spec/models/pricing/direct_spec.rb[1:1:3:2]","description":"should be VAT","full_description":"Pricing::Direct#sales_tax_rate and #sales_tax_name for an EU country should be VAT","status":"passed","file_path":"./spec/models/pricing/direct_spec.rb","line_number":44,"run_time":0.091739376,"pending_message":null,"screenshot":null},{"id":"./spec/models/pricing/direct_spec.rb[1:1:4:1]","description":"should charge zero rate vat","full_description":"Pricing::Direct#sales_tax_rate and #sales_tax_name for a country outside EU should charge zero rate vat","status":"passed","file_path":"./spec/models/pricing/direct_spec.rb","line_number":52,"run_time":0.07837457,"pending_message":null,"screenshot":null},{"id":"./spec/models/pricing/direct_spec.rb[1:1:4:2]","description":"should be VAT","full_description":"Pricing::Direct#sales_tax_rate and #sales_tax_name for a country outside EU should be VAT","status":"passed","file_path":"./spec/models/pricing/direct_spec.rb","line_number":56,"run_time":0.09040111,"pending_message":null,"screenshot":null},{"id":"./spec/models/pricing/direct_spec.rb[1:1:5:1]","description":"should pay sales tax on FreeAgent subscription","full_description":"Pricing::Direct#sales_tax_rate and #sales_tax_name with payment country set as United Kingdom should pay sales tax on FreeAgent subscription","status":"passed","file_path":"./spec/models/pricing/direct_spec.rb","line_number":63,"run_time":0.113401103,"pending_message":null,"screenshot":null},{"id":"./spec/models/pricing/direct_spec.rb[1:1:5:2]","description":"should infer sales tax location from company not payment profile","full_description":"Pricing::Direct#sales_tax_rate and #sales_tax_name with payment country set as United Kingdom should infer sales tax location from company not payment profile","status":"passed","file_path":"./spec/models/pricing/direct_spec.rb","line_number":69,"run_time":0.013128848,"pending_message":null,"screenshot":null},{"id":"./spec/models/pricing/direct_spec.rb[1:1:6:1]","description":"should pay sales tax on FreeAgent subscription","full_description":"Pricing::Direct#sales_tax_rate and #sales_tax_name with payment country set as Isle of Man should pay sales tax on FreeAgent subscription","status":"passed","file_path":"./spec/models/pricing/direct_spec.rb","line_number":63,"run_time":0.129574507,"pending_message":null,"screenshot":null},{"id":"./spec/models/pricing/direct_spec.rb[1:1:6:2]","description":"should infer sales tax location from company not payment profile","full_description":"Pricing::Direct#sales_tax_rate and #sales_tax_name with payment country set as Isle of Man should infer sales tax location from company not payment profile","status":"passed","file_path":"./spec/models/pricing/direct_spec.rb","line_number":69,"run_time":0.017922722,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/delete_all_data_seeder_spec.rb[1:1:1]","description":"does not delete data when preserve_data config is true","full_description":"CompanySeeder::DeleteAllDataSeeder#seed does not delete data when preserve_data config is true","status":"passed","file_path":"./spec/tools/company_seeder/delete_all_data_seeder_spec.rb","line_number":9,"run_time":0.008619102,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/delete_all_data_seeder_spec.rb[1:1:2]","description":"does delete data when preserve_data config is false","full_description":"CompanySeeder::DeleteAllDataSeeder#seed does delete data when preserve_data config is false","status":"passed","file_path":"./spec/tools/company_seeder/delete_all_data_seeder_spec.rb","line_number":14,"run_time":0.053572862,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/delete_all_data_seeder_spec.rb[1:1:3]","description":"does delete data when preserve_data config is missing","full_description":"CompanySeeder::DeleteAllDataSeeder#seed does delete data when preserve_data config is missing","status":"passed","file_path":"./spec/tools/company_seeder/delete_all_data_seeder_spec.rb","line_number":19,"run_time":0.04906089,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/delete_all_data_seeder_spec.rb[1:1:4:1]","description":"gets rid of any global owners and ownerships","full_description":"CompanySeeder::DeleteAllDataSeeder#seed for a UK unincorporated landlord company gets rid of any global owners and ownerships","status":"passed","file_path":"./spec/tools/company_seeder/delete_all_data_seeder_spec.rb","line_number":27,"run_time":1.087725877,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/two_factor_auth_common_spec.rb[1:1:1]","description":"users should not be restricted","full_description":"TwoFactorAuthCommon#manage_two_factor_registration users should not be restricted","status":"passed","file_path":"./spec/controllers/concerns/two_factor_auth_common_spec.rb","line_number":20,"run_time":0.292513271,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/two_factor_auth_common_spec.rb[1:1:2]","description":"account mangers should be restricted","full_description":"TwoFactorAuthCommon#manage_two_factor_registration account mangers should be restricted","status":"passed","file_path":"./spec/controllers/concerns/two_factor_auth_common_spec.rb","line_number":27,"run_time":0.313495126,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/concerns/two_factor_auth_common_spec.rb[1:1:3]","description":"support sessions should be restricted","full_description":"TwoFactorAuthCommon#manage_two_factor_registration support sessions should be restricted","status":"passed","file_path":"./spec/controllers/concerns/two_factor_auth_common_spec.rb","line_number":35,"run_time":0.334557396,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:62:2:1]","description":"is valid","full_description":"Invoice An invoice for a VAT registered company with a stock line item is valid","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":1673,"run_time":0.245011814,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:1:28]","description":"does not delete subscription invoices with refunds","full_description":"Company::ForgetCompanyData Deleting all data for a VAT registered UK company does not delete subscription invoices with refunds","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":375,"run_time":1.06681243,"pending_message":null,"screenshot":null},{"id":"./spec/requests/radar/insights/enable_bank_feed_spec.rb[1:1:1]","description":"renders the Radar page copy","full_description":"EnableBankFeed insight with a UK Limited company renders the Radar page copy","status":"passed","file_path":"./spec/requests/radar/insights/enable_bank_feed_spec.rb","line_number":23,"run_time":0.36264102,"pending_message":null,"screenshot":null},{"id":"./spec/requests/radar/insights/enable_bank_feed_spec.rb[1:1:2]","description":"handles unexpected state - rule does not apply","full_description":"EnableBankFeed insight with a UK Limited company handles unexpected state - rule does not apply","status":"passed","file_path":"./spec/requests/radar/insights/enable_bank_feed_spec.rb","line_number":28,"run_time":0.325259654,"pending_message":null,"screenshot":null},{"id":"./spec/requests/radar/insights/enable_bank_feed_spec.rb[1:1:3]","description":"contains a link to enable bank feed","full_description":"EnableBankFeed insight with a UK Limited company contains a link to enable bank feed","status":"passed","file_path":"./spec/requests/radar/insights/enable_bank_feed_spec.rb","line_number":36,"run_time":0.236947396,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[13:16:1:1]","description":"attaches them to the invoice and updates the cached total value","full_description":"InvoicesController POST create creating an invoice with unbilled timeslips attaches them to the invoice and updates the cached total value","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":1527,"run_time":0.523732416,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/context/base_spec.rb[1:1:1]","description":"returns cash_flow_payment_overrides","full_description":"Cashflow::Context::Base#overrides returns cash_flow_payment_overrides","status":"passed","file_path":"./spec/freeagent/cashflow/context/base_spec.rb","line_number":17,"run_time":0.016248188,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/context/base_spec.rb[1:2:1]","description":"preloads contacts","full_description":"Cashflow::Context::Base#bills preloads contacts","status":"passed","file_path":"./spec/freeagent/cashflow/context/base_spec.rb","line_number":24,"run_time":0.068592654,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/context/base_spec.rb[1:3:1]","description":"preloads contacts","full_description":"Cashflow::Context::Base#credit_notes preloads contacts","status":"passed","file_path":"./spec/freeagent/cashflow/context/base_spec.rb","line_number":37,"run_time":0.119316069,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/context/base_spec.rb[1:4:1]","description":"preloads contacts","full_description":"Cashflow::Context::Base#invoice_items preloads contacts","status":"passed","file_path":"./spec/freeagent/cashflow/context/base_spec.rb","line_number":45,"run_time":0.119122517,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/context/base_spec.rb[1:5:1:1]","description":"returns all business bank accounts in the native currency","full_description":"Cashflow::Context::Base given various bank accounts #bank_accounts returns all business bank accounts in the native currency","status":"passed","file_path":"./spec/freeagent/cashflow/context/base_spec.rb","line_number":59,"run_time":0.133972165,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/context/base_spec.rb[1:5:1:2]","description":"exludes accounts that have cashflow disabled","full_description":"Cashflow::Context::Base given various bank accounts #bank_accounts exludes accounts that have cashflow disabled","status":"passed","file_path":"./spec/freeagent/cashflow/context/base_spec.rb","line_number":68,"run_time":0.127143319,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:1:1:3:5]","description":"representing non-category expense (purchase of capital asset, including depreciation)","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the cash accounting basis not on the Flat Rate Scheme Expenses representing non-category expense (purchase of capital asset, including depreciation)","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":2655,"run_time":0.577976873,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/actions/upcoming_bills_action_spec.rb[1:1]","description":"returns the expected component class","full_description":"Cashflow::Actions::UpcomingBillsAction returns the expected component class","status":"passed","file_path":"./spec/freeagent/cashflow/actions/upcoming_bills_action_spec.rb","line_number":12,"run_time":0.003616651,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/actions/upcoming_bills_action_spec.rb[1:2]","description":"has a high action weight","full_description":"Cashflow::Actions::UpcomingBillsAction has a high action weight","status":"passed","file_path":"./spec/freeagent/cashflow/actions/upcoming_bills_action_spec.rb","line_number":16,"run_time":0.00510927,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/actions/upcoming_bills_action_spec.rb[1:3:1]","description":"returns show? as falsey","full_description":"Cashflow::Actions::UpcomingBillsAction when there are no upcoming bills returns show? as falsey","status":"passed","file_path":"./spec/freeagent/cashflow/actions/upcoming_bills_action_spec.rb","line_number":21,"run_time":0.006505195,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/actions/upcoming_bills_action_spec.rb[1:4:1]","description":"returns show? as truthy","full_description":"Cashflow::Actions::UpcomingBillsAction when there are upcoming bills returns show? as truthy","status":"passed","file_path":"./spec/freeagent/cashflow/actions/upcoming_bills_action_spec.rb","line_number":35,"run_time":0.105349954,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/actions/upcoming_bills_action_spec.rb[1:4:2]","description":"returns overdue bills and bills due within 90 days","full_description":"Cashflow::Actions::UpcomingBillsAction when there are upcoming bills returns overdue bills and bills due within 90 days","status":"passed","file_path":"./spec/freeagent/cashflow/actions/upcoming_bills_action_spec.rb","line_number":39,"run_time":0.355290065,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[15:6:3:1]","description":"retains the manual invoice items and disassociate them from the removed project","full_description":"InvoicesController PUT :update syncing project ids to invoice items when removing the project from the invoice retains the manual invoice items and disassociate them from the removed project","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":1965,"run_time":0.273511718,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[29:1:1:2:1]","description":"retains existing line items by default when removing an existing project","full_description":"InvoicesController Multiple projects on invoice Multiple projects on invoice update #add_unbilled_items given an invoice associated with a project retains existing line items by default when removing an existing project","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":2847,"run_time":0.307487985,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature[1:1:1]","description":"Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Unrefunded VAT CIS Credit Note VAT due Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature","line_number":12,"run_time":0.023702583,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature[1:2:1]","description":"Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Invoice basis, not FRS, then Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Unrefunded VAT CIS Credit Note VAT due Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Invoice basis, not FRS, then Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature","line_number":12,"run_time":0.013125278,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature[1:3:1]","description":"Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Invoice basis, not FRS, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Unrefunded VAT CIS Credit Note VAT due Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Invoice basis, not FRS, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature","line_number":12,"run_time":0.016024613,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature[1:4:1]","description":"Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Invoice basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Unrefunded VAT CIS Credit Note VAT due Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Invoice basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature","line_number":12,"run_time":0.013938355,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature[1:5:1]","description":"Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Cash basis, not FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Unrefunded VAT CIS Credit Note VAT deferred Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Cash basis, not FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature","line_number":36,"run_time":0.013796426,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature[1:6:1]","description":"Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Cash basis, not FRS, then Cash basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Unrefunded VAT CIS Credit Note VAT deferred Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Cash basis, not FRS, then Cash basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature","line_number":36,"run_time":0.01266026,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature[1:7:1]","description":"Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Cash basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Unrefunded VAT CIS Credit Note VAT deferred Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Cash basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature","line_number":36,"run_time":0.012066783,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature[1:8:1]","description":"Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Cash basis, FRS, then Cash basis, not FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Unrefunded VAT CIS Credit Note VAT deferred Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Cash basis, FRS, then Cash basis, not FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature","line_number":36,"run_time":0.013109364,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature[1:9:1]","description":"Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Cash basis, not FRS, then Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Unrefunded VAT CIS Credit Note VAT deferred until 6 months after switching to the invoice basis Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Cash basis, not FRS, then Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature","line_number":58,"run_time":0.014738283,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature[1:10:1]","description":"Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Cash basis, not FRS, then Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Unrefunded VAT CIS Credit Note VAT deferred until 6 months after switching to the invoice basis Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Cash basis, not FRS, then Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature","line_number":58,"run_time":0.014639865,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature[1:11:1]","description":"Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Cash basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Unrefunded VAT CIS Credit Note VAT deferred until de-registration Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Cash basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature","line_number":84,"run_time":0.013333694,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature[1:12:1]","description":"Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Unrefunded VAT CIS Credit Note VAT due at 11.5% FRS rate Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature","line_number":106,"run_time":0.012787837,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature[1:13:1]","description":"Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Invoice basis, FRS, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Unrefunded VAT CIS Credit Note VAT due at 11.5% FRS rate Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Invoice basis, FRS, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature","line_number":106,"run_time":0.01885824,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature[1:14:1]","description":"Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Invoice basis, FRS, then Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Unrefunded VAT CIS Credit Note VAT due at 11.5% FRS rate Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Invoice basis, FRS, then Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature","line_number":106,"run_time":0.018333784,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature[1:15:1]","description":"Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Invoice basis, FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Unrefunded VAT CIS Credit Note VAT due at 11.5% FRS rate Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Invoice basis, FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature","line_number":106,"run_time":0.018804446,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature[1:16:1]","description":"Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Cash basis, FRS, then Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Unrefunded VAT CIS Credit Note VAT at FRS rate deferred until switching to the invoice basis Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Cash basis, FRS, then Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature","line_number":132,"run_time":0.020706408,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature[1:17:1]","description":"Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Cash basis, FRS, then Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Unrefunded VAT CIS Credit Note VAT at FRS rate deferred until switching to the invoice basis Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Cash basis, FRS, then Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature","line_number":132,"run_time":0.017160147,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature[1:18:1]","description":"Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Cash basis, FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Unrefunded VAT CIS Credit Note VAT deferred until start of de-registration return (because it is switched to the invoice basis) Given a uk sole trader -\u003e And a credit note: CIS, unrefunded, with VAT -\u003e Given VAT settings: Cash basis, FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_cis_unrefunded.feature","line_number":160,"run_time":0.019753953,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_walkthrough_step.html.erb_spec.rb[1:1]","description":"renders a walkthrough step list item when content is passed","full_description":"freestyle/components/_walkthrough_step renders a walkthrough step list item when content is passed","status":"passed","file_path":"./spec/views/freestyle/components/_walkthrough_step.html.erb_spec.rb","line_number":5,"run_time":0.066464767,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_walkthrough_step.html.erb_spec.rb[1:2]","description":"renders a walkthrough step title when content is passed","full_description":"freestyle/components/_walkthrough_step renders a walkthrough step title when content is passed","status":"passed","file_path":"./spec/views/freestyle/components/_walkthrough_step.html.erb_spec.rb","line_number":12,"run_time":0.107364846,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_walkthrough_step.html.erb_spec.rb[1:3]","description":"renders a action walkthrough step when the property is passed","full_description":"freestyle/components/_walkthrough_step renders a action walkthrough step when the property is passed","status":"passed","file_path":"./spec/views/freestyle/components/_walkthrough_step.html.erb_spec.rb","line_number":17,"run_time":0.059074515,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_walkthrough_step.html.erb_spec.rb[1:4]","description":"renders a caution walkthrough step when the property is passed","full_description":"freestyle/components/_walkthrough_step renders a caution walkthrough step when the property is passed","status":"passed","file_path":"./spec/views/freestyle/components/_walkthrough_step.html.erb_spec.rb","line_number":24,"run_time":0.050496232,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_walkthrough_step.html.erb_spec.rb[1:5]","description":"adds a fe-Walkthrough-step--positive class if the status is positive","full_description":"freestyle/components/_walkthrough_step adds a fe-Walkthrough-step--positive class if the status is positive","status":"passed","file_path":"./spec/views/freestyle/components/_walkthrough_step.html.erb_spec.rb","line_number":32,"run_time":0.051170197,"pending_message":null,"screenshot":null},{"id":"./spec/views/freestyle/components/_walkthrough_step.html.erb_spec.rb[1:6]","description":"adds a fe-Walkthrough-step--processing class if the status is processing","full_description":"freestyle/components/_walkthrough_step adds a fe-Walkthrough-step--processing class if the status is processing","status":"passed","file_path":"./spec/views/freestyle/components/_walkthrough_step.html.erb_spec.rb","line_number":32,"run_time":0.049335664,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:1:2:1:3]","description":"which has been cancelled","full_description":"UkAccountsMapper Accounts Mapper for UK companies that are not VAT registered Invoices Given a native currency invoice with 3 line items in 2 categories which has been cancelled","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":80,"run_time":0.271066922,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:1:2:2:2]","description":"which has been sent","full_description":"UkAccountsMapper Accounts Mapper for UK companies that are not VAT registered Invoices Given a foreign currency invoice (exchange rate 2:1) with 3 line items in 2 categories which has been sent","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":135,"run_time":0.274938371,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/corporation_tax_returns_helper_spec.rb[1:1:1:1]","description":"is expected to be falsey","full_description":"CorporationTaxReturnsHelper#is_current_corporation_tax_return? for returns for prior years is expected to be falsey","status":"passed","file_path":"./spec/helpers/corporation_tax_returns_helper_spec.rb","line_number":16,"run_time":0.079820837,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/corporation_tax_returns_helper_spec.rb[1:1:2:1]","description":"is expected to be truthy","full_description":"CorporationTaxReturnsHelper#is_current_corporation_tax_return? for returns for the current year is expected to be truthy","status":"passed","file_path":"./spec/helpers/corporation_tax_returns_helper_spec.rb","line_number":22,"run_time":0.099433324,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/corporation_tax_returns_helper_spec.rb[1:1:3:1]","description":"is expected to be truthy","full_description":"CorporationTaxReturnsHelper#is_current_corporation_tax_return? for returns for future years is expected to be truthy","status":"passed","file_path":"./spec/helpers/corporation_tax_returns_helper_spec.rb","line_number":28,"run_time":0.086260614,"pending_message":null,"screenshot":null}],"summary":{"duration":2.083596163,"example_count":623,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"623 examples, 0 failures"}