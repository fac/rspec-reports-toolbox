{"version":"3.11.0","messages":["Run options:\n  include {:ids=\u003e{\"./spec/models/uk_accounts_mapper_spec.rb\"=\u003e[\"1:2:2:2:4\", \"1:2:1:1:2:1\"], \"./spec/models/invoice_spec.rb\"=\u003e[\"1:129:2:1\"]}}\n  exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/features/new_banking/receipt_capture_spec.rb[1:1:1]","description":"attaching a document via saved files to an unexplained transaction","full_description":"Receipt Capture in Banking Inline Forms with documents attaching a document via saved files to an unexplained transaction","status":"passed","file_path":"./spec/features/new_banking/receipt_capture_spec.rb","line_number":30,"run_time":11.077136339,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/receipt_capture_spec.rb[1:1:2]","description":"attaching a document via saved files to an existing explanation","full_description":"Receipt Capture in Banking Inline Forms with documents attaching a document via saved files to an existing explanation","status":"passed","file_path":"./spec/features/new_banking/receipt_capture_spec.rb","line_number":58,"run_time":2.877264995,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/receipt_capture_spec.rb[1:2:1]","description":"does not show the Choose from saved files button","full_description":"Receipt Capture in Banking Inline Forms with no documents does not show the Choose from saved files button","status":"passed","file_path":"./spec/features/new_banking/receipt_capture_spec.rb","line_number":92,"run_time":1.810129758,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/receipt_capture_spec.rb[1:3:3]","description":"open deletion modal and click return to files remove attachment","full_description":"Receipt Capture in Banking Inline Forms deletion modal open deletion modal and click return to files remove attachment","status":"passed","file_path":"./spec/features/new_banking/receipt_capture_spec.rb","line_number":185,"run_time":2.660081872,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/receipt_capture_spec.rb[1:3:1:1]","description":"open deletion modal and click close dismisses modal","full_description":"Receipt Capture in Banking Inline Forms deletion modal non destructive attachment deletion disabled open deletion modal and click close dismisses modal","status":"passed","file_path":"./spec/features/new_banking/receipt_capture_spec.rb","line_number":114,"run_time":2.163956307,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/receipt_capture_spec.rb[1:3:1:2]","description":"open deletion modal and click confirm deletes attachment","full_description":"Receipt Capture in Banking Inline Forms deletion modal non destructive attachment deletion disabled open deletion modal and click confirm deletes attachment","status":"passed","file_path":"./spec/features/new_banking/receipt_capture_spec.rb","line_number":126,"run_time":2.190893054,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/receipt_capture_spec.rb[1:3:2:1]","description":"open deletion modal and click close dismisses modal","full_description":"Receipt Capture in Banking Inline Forms deletion modal non destructive attachment deletion disabled open deletion modal and click close dismisses modal","status":"passed","file_path":"./spec/features/new_banking/receipt_capture_spec.rb","line_number":150,"run_time":1.880504523,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/receipt_capture_spec.rb[1:3:2:2]","description":"open deletion modal and click confirm deletes attachment","full_description":"Receipt Capture in Banking Inline Forms deletion modal non destructive attachment deletion disabled open deletion modal and click confirm deletes attachment","status":"passed","file_path":"./spec/features/new_banking/receipt_capture_spec.rb","line_number":164,"run_time":1.984296704,"pending_message":null,"screenshot":null},{"id":"./spec/features/basecamp_import_spec.rb[1:1]","description":"is allowed to import contacts from basecamp","full_description":"BasecampImport is allowed to import contacts from basecamp","status":"passed","file_path":"./spec/features/basecamp_import_spec.rb","line_number":13,"run_time":8.399957321,"pending_message":null,"screenshot":null},{"id":"./spec/features/basecamp_import_spec.rb[1:2]","description":"is allowed to import projects from basecamp","full_description":"BasecampImport is allowed to import projects from basecamp","status":"passed","file_path":"./spec/features/basecamp_import_spec.rb","line_number":68,"run_time":7.6957317,"pending_message":null,"screenshot":null},{"id":"./spec/features/vat/hmrc_mtd_filing_spec.rb[1:3]","description":"Trying to authorise against a VAT return number the user cannot submit for","full_description":"Filing VAT through HMRC MTD Trying to authorise against a VAT return number the user cannot submit for","status":"passed","file_path":"./spec/features/vat/hmrc_mtd_filing_spec.rb","line_number":209,"run_time":13.00661553,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/inline_form/bill_refund_spec.rb[1:1]","description":"explaining a transaction as a Bill Refund","full_description":"Inline Banking - Bill Refunds explaining a transaction as a Bill Refund","status":"passed","file_path":"./spec/features/new_banking/inline_form/bill_refund_spec.rb","line_number":10,"run_time":4.150575022,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/inline_form/bill_refund_spec.rb[1:2]","description":"splitting a transaction when the value is greater than the due value for a bill","full_description":"Inline Banking - Bill Refunds splitting a transaction when the value is greater than the due value for a bill","status":"passed","file_path":"./spec/features/new_banking/inline_form/bill_refund_spec.rb","line_number":32,"run_time":2.82311629,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/inline_form/bill_refund_spec.rb[1:3]","description":"showing error message when explaining a manual transaction with bill amount less that the transaction","full_description":"Inline Banking - Bill Refunds showing error message when explaining a manual transaction with bill amount less that the transaction","status":"passed","file_path":"./spec/features/new_banking/inline_form/bill_refund_spec.rb","line_number":56,"run_time":2.392354015,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/inline_form/bill_refund_spec.rb[1:4]","description":"showing an error message when no Bill Refund has been selected","full_description":"Inline Banking - Bill Refunds showing an error message when no Bill Refund has been selected","status":"passed","file_path":"./spec/features/new_banking/inline_form/bill_refund_spec.rb","line_number":72,"run_time":1.731298547,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/inline_form/bill_refund_spec.rb[1:5]","description":"explaining a transaction as a foriegn currency bill Refund","full_description":"Inline Banking - Bill Refunds explaining a transaction as a foriegn currency bill Refund","status":"passed","file_path":"./spec/features/new_banking/inline_form/bill_refund_spec.rb","line_number":86,"run_time":2.974322817,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/sidebar/bank_details_panel_spec.rb[1:1:1:1]","description":"no panel is shown","full_description":"Banking Sidebar - Bank Details Panel Balance mismatch alert when there is no authorised_account no panel is shown","status":"passed","file_path":"./spec/features/new_banking/sidebar/bank_details_panel_spec.rb","line_number":18,"run_time":1.302408446,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/sidebar/bank_details_panel_spec.rb[1:1:2:1:1]","description":"no panel is shown","full_description":"Banking Sidebar - Bank Details Panel Balance mismatch alert when there is an authorised_account when the freeagent balance and balance at bank match no panel is shown","status":"passed","file_path":"./spec/features/new_banking/sidebar/bank_details_panel_spec.rb","line_number":47,"run_time":1.502276526,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/sidebar/bank_details_panel_spec.rb[1:1:2:2:1:1]","description":"no panel is shown","full_description":"Banking Sidebar - Bank Details Panel Balance mismatch alert when there is an authorised_account when the freeagent balance and balance at bank don't match when the feature is disabled no panel is shown","status":"passed","file_path":"./spec/features/new_banking/sidebar/bank_details_panel_spec.rb","line_number":67,"run_time":1.239466549,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/sidebar/bank_details_panel_spec.rb[1:1:2:2:2:1:1]","description":"the warning panel is shown","full_description":"Banking Sidebar - Bank Details Panel Balance mismatch alert when there is an authorised_account when the freeagent balance and balance at bank don't match when the feature is enabled when the FreeAgent balance is less than the balance at bank the warning panel is shown","status":"passed","file_path":"./spec/features/new_banking/sidebar/bank_details_panel_spec.rb","line_number":85,"run_time":1.345858268,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/sidebar/bank_details_panel_spec.rb[1:1:2:2:2:2:1]","description":"the warning panel is shown","full_description":"Banking Sidebar - Bank Details Panel Balance mismatch alert when there is an authorised_account when the freeagent balance and balance at bank don't match when the feature is enabled when the FreeAgent balance is more that the balance at bank the warning panel is shown","status":"passed","file_path":"./spec/features/new_banking/sidebar/bank_details_panel_spec.rb","line_number":103,"run_time":1.354553843,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/sidebar/bank_details_panel_spec.rb[1:2:1:1]","description":"balance at bank details aren't shown","full_description":"Banking Sidebar - Bank Details Panel balance at bank when there is no authorised account balance_updated_at balance at bank details aren't shown","status":"passed","file_path":"./spec/features/new_banking/sidebar/bank_details_panel_spec.rb","line_number":135,"run_time":1.208091136,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/sidebar/bank_details_panel_spec.rb[1:2:2:1]","description":"balance at bank details are shown","full_description":"Banking Sidebar - Bank Details Panel balance at bank when there is balance_updated_at and balance set for authorised_account balance at bank details are shown","status":"passed","file_path":"./spec/features/new_banking/sidebar/bank_details_panel_spec.rb","line_number":153,"run_time":1.88545865,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/sidebar/bank_details_panel_spec.rb[1:3:1:1]","description":"no link is rendered","full_description":"Banking Sidebar - Bank Details Panel link to month where balances diverged when feature is disabled no link is rendered","status":"passed","file_path":"./spec/features/new_banking/sidebar/bank_details_panel_spec.rb","line_number":217,"run_time":1.471798262,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/sidebar/bank_details_panel_spec.rb[1:3:2:1:1]","description":"no link is rendered","full_description":"Banking Sidebar - Bank Details Panel link to month where balances diverged when feature is enabled when FreeAgent and bank balance match no link is rendered","status":"passed","file_path":"./spec/features/new_banking/sidebar/bank_details_panel_spec.rb","line_number":234,"run_time":1.635285516,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/sidebar/bank_details_panel_spec.rb[1:3:2:2:1]","description":"link is rendered","full_description":"Banking Sidebar - Bank Details Panel link to month where balances diverged when feature is enabled when FreeAgent and bank balance don't match link is rendered","status":"passed","file_path":"./spec/features/new_banking/sidebar/bank_details_panel_spec.rb","line_number":250,"run_time":1.449742042,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payit/payment_intent_controller_spec.rb[1:1:1:1]","description":"redirects to user's bank","full_description":"Payit::PaymentIntentController#initiate_payment when the payment is being initiated redirects to user's bank","status":"passed","file_path":"./spec/controllers/payit/payment_intent_controller_spec.rb","line_number":57,"run_time":0.365083569,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payit/payment_intent_controller_spec.rb[1:1:1:2]","description":"notifies sqreen that the payment was started","full_description":"Payit::PaymentIntentController#initiate_payment when the payment is being initiated notifies sqreen that the payment was started","status":"passed","file_path":"./spec/controllers/payit/payment_intent_controller_spec.rb","line_number":65,"run_time":0.340853483,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payit/payment_intent_controller_spec.rb[1:1:2:2]","description":"redirects back to the bill with an error flash","full_description":"Payit::PaymentIntentController#initiate_payment when the payit fails to created the payment redirects back to the bill with an error flash","status":"passed","file_path":"./spec/controllers/payit/payment_intent_controller_spec.rb","line_number":90,"run_time":0.406056401,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payit/payment_intent_controller_spec.rb[1:1:2:1:1]","description":"does not notify the Error Service","full_description":"Payit::PaymentIntentController#initiate_payment when the payit fails to created the payment when the error is due to a client error does not notify the Error Service","status":"passed","file_path":"./spec/controllers/payit/payment_intent_controller_spec.rb","line_number":83,"run_time":0.321123329,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payit/payment_intent_controller_spec.rb[1:1:3:1]","description":"returns a 404 Not Found error","full_description":"Payit::PaymentIntentController#initiate_payment when the bill id does not exist returns a 404 Not Found error","status":"passed","file_path":"./spec/controllers/payit/payment_intent_controller_spec.rb","line_number":100,"run_time":0.312427989,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payit/payment_intent_controller_spec.rb[1:1:4:1]","description":"redirects back to the bill with an error flash","full_description":"Payit::PaymentIntentController#initiate_payment when initiating a payment for a bill that is not payable via payit redirects back to the bill with an error flash","status":"passed","file_path":"./spec/controllers/payit/payment_intent_controller_spec.rb","line_number":110,"run_time":0.320083577,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payit/payment_intent_controller_spec.rb[1:1:5:1]","description":"redirects back to the bill with an error flash","full_description":"Payit::PaymentIntentController#initiate_payment when the feature is broken redirects back to the bill with an error flash","status":"passed","file_path":"./spec/controllers/payit/payment_intent_controller_spec.rb","line_number":127,"run_time":0.342144079,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payit/payment_intent_controller_spec.rb[1:1:5:2:1]","description":"initiates the payment","full_description":"Payit::PaymentIntentController#initiate_payment when the feature is broken and the company is set to override the breaker initiates the payment","status":"passed","file_path":"./spec/controllers/payit/payment_intent_controller_spec.rb","line_number":138,"run_time":0.307934047,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payit/payment_intent_controller_spec.rb[1:1:6:1:1]","description":"redirects to the bill, with the non_valid_date error set, without creating a payment intent","full_description":"Payit::PaymentIntentController#initiate_payment when the scheduled_on parameter is specified when scheduled_on is invalid redirects to the bill, with the non_valid_date error set, without creating a payment intent","status":"passed","file_path":"./spec/controllers/payit/payment_intent_controller_spec.rb","line_number":158,"run_time":0.305858979,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payit/payment_intent_controller_spec.rb[1:1:6:2:1]","description":"redirects to the bill, with the non_valid_date error set, without creating a payment intent","full_description":"Payit::PaymentIntentController#initiate_payment when the scheduled_on parameter is specified when scheduled_on is blank redirects to the bill, with the non_valid_date error set, without creating a payment intent","status":"passed","file_path":"./spec/controllers/payit/payment_intent_controller_spec.rb","line_number":169,"run_time":0.359473285,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payit/payment_intent_controller_spec.rb[1:1:6:3:1]","description":"redirects to bill page, with the date_in_the_past error set, without creating a payment intent","full_description":"Payit::PaymentIntentController#initiate_payment when the scheduled_on parameter is specified when scheduled_on is in the past redirects to bill page, with the date_in_the_past error set, without creating a payment intent","status":"passed","file_path":"./spec/controllers/payit/payment_intent_controller_spec.rb","line_number":180,"run_time":0.326647194,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payit/payment_intent_controller_spec.rb[1:1:6:4:1]","description":"redirects to bill page, with the date_on_weekend error set, without creating a payment intent","full_description":"Payit::PaymentIntentController#initiate_payment when the scheduled_on parameter is specified when scheduled_on is on a weekend redirects to bill page, with the date_on_weekend error set, without creating a payment intent","status":"passed","file_path":"./spec/controllers/payit/payment_intent_controller_spec.rb","line_number":191,"run_time":0.282158484,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payit/payment_intent_controller_spec.rb[1:1:6:5:1]","description":"redirects to user's bank, creating an immediate payment intent","full_description":"Payit::PaymentIntentController#initiate_payment when the scheduled_on parameter is specified when scheduled_on is Today redirects to user's bank, creating an immediate payment intent","status":"passed","file_path":"./spec/controllers/payit/payment_intent_controller_spec.rb","line_number":202,"run_time":0.30740451,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payit/payment_intent_controller_spec.rb[1:1:6:6:1]","description":"redirects to user's bank, creating an immediate payment intent","full_description":"Payit::PaymentIntentController#initiate_payment when the scheduled_on parameter is specified when scheduled_on is set to today's date redirects to user's bank, creating an immediate payment intent","status":"passed","file_path":"./spec/controllers/payit/payment_intent_controller_spec.rb","line_number":216,"run_time":0.289818025,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payit/payment_intent_controller_spec.rb[1:1:6:6:2:1]","description":"initiates the payment","full_description":"Payit::PaymentIntentController#initiate_payment when the scheduled_on parameter is specified when scheduled_on is set to today's date when the scheduled payments circuit breaker is broken initiates the payment","status":"passed","file_path":"./spec/controllers/payit/payment_intent_controller_spec.rb","line_number":234,"run_time":0.319134101,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payit/payment_intent_controller_spec.rb[1:1:6:7:1]","description":"redirects to user's bank, creating a scheduled payment intent","full_description":"Payit::PaymentIntentController#initiate_payment when the scheduled_on parameter is specified when scheduled_on is in the future within the next 5 months redirects to user's bank, creating a scheduled payment intent","status":"passed","file_path":"./spec/controllers/payit/payment_intent_controller_spec.rb","line_number":248,"run_time":1.025696625,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payit/payment_intent_controller_spec.rb[1:1:6:7:2:1]","description":"redirects to bill page, with the date_too_far_into_the_future error set, without creating a payment intent","full_description":"Payit::PaymentIntentController#initiate_payment when the scheduled_on parameter is specified when scheduled_on is in the future within the next 5 months when scheduled_on is in the future more than 5 months from now redirects to bill page, with the date_too_far_into_the_future error set, without creating a payment intent","status":"passed","file_path":"./spec/controllers/payit/payment_intent_controller_spec.rb","line_number":263,"run_time":0.310196593,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payit/payment_intent_controller_spec.rb[1:1:6:7:3:1]","description":"redirects back to the bill with an error flash","full_description":"Payit::PaymentIntentController#initiate_payment when the scheduled_on parameter is specified when scheduled_on is in the future within the next 5 months when the scheduled payments circuit breaker is broken redirects back to the bill with an error flash","status":"passed","file_path":"./spec/controllers/payit/payment_intent_controller_spec.rb","line_number":279,"run_time":0.315232407,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payit/payment_intent_controller_spec.rb[1:1:6:7:3:2:1]","description":"initiates the payment","full_description":"Payit::PaymentIntentController#initiate_payment when the scheduled_on parameter is specified when scheduled_on is in the future within the next 5 months when the scheduled payments circuit breaker is broken and the company is set to override the breaker initiates the payment","status":"passed","file_path":"./spec/controllers/payit/payment_intent_controller_spec.rb","line_number":290,"run_time":0.328328706,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payit/payment_intent_controller_spec.rb[1:1:6:8:1]","description":"redirects to bill page, with the date_too_far_into_the_future error set, without creating a payment intent","full_description":"Payit::PaymentIntentController#initiate_payment when the scheduled_on parameter is specified when scheduled_on is in the future more than 5 months from now redirects to bill page, with the date_too_far_into_the_future error set, without creating a payment intent","status":"passed","file_path":"./spec/controllers/payit/payment_intent_controller_spec.rb","line_number":305,"run_time":0.326117118,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payit/payment_intent_controller_spec.rb[1:1:7:1]","description":"redirects to the bill, with the non_valid_date error set, without creating a payment intent","full_description":"Payit::PaymentIntentController#initiate_payment when scheduled_on is not sent redirects to the bill, with the non_valid_date error set, without creating a payment intent","status":"passed","file_path":"./spec/controllers/payit/payment_intent_controller_spec.rb","line_number":315,"run_time":0.288776332,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payit/payment_intent_controller_spec.rb[1:2:1:1]","description":"redirects to bill page and tracks 'success'","full_description":"Payit::PaymentIntentController#initiate_payment_done when payment approved redirects to bill page and tracks 'success'","status":"passed","file_path":"./spec/controllers/payit/payment_intent_controller_spec.rb","line_number":339,"run_time":0.249104382,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payit/payment_intent_controller_spec.rb[1:2:2:1]","description":"redirects to bill page and tracks 'success'","full_description":"Payit::PaymentIntentController#initiate_payment_done when payment is aborted by the customer redirects to bill page and tracks 'success'","status":"passed","file_path":"./spec/controllers/payit/payment_intent_controller_spec.rb","line_number":370,"run_time":0.280342119,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payit/payment_intent_controller_spec.rb[1:2:3:1]","description":"redirects to bill page and tracks 'processing'","full_description":"Payit::PaymentIntentController#initiate_payment_done when payment not approved and not terminal redirects to bill page and tracks 'processing'","status":"passed","file_path":"./spec/controllers/payit/payment_intent_controller_spec.rb","line_number":383,"run_time":0.257551614,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payit/payment_intent_controller_spec.rb[1:2:4:1]","description":"redirects to bill page and tracks 'failure'","full_description":"Payit::PaymentIntentController#initiate_payment_done when payment not approved but terminal redirects to bill page and tracks 'failure'","status":"passed","file_path":"./spec/controllers/payit/payment_intent_controller_spec.rb","line_number":396,"run_time":0.266070142,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payit/payment_intent_controller_spec.rb[1:2:5:1]","description":"redirects to bill page and tracks 'processing'","full_description":"Payit::PaymentIntentController#initiate_payment_done when the payment is still in initiated state redirects to bill page and tracks 'processing'","status":"passed","file_path":"./spec/controllers/payit/payment_intent_controller_spec.rb","line_number":409,"run_time":0.257422539,"pending_message":null,"screenshot":null},{"id":"./spec/features/two_factor_auth_registration_spec.rb[1:2]","description":"allows a user to turn off 2FA","full_description":"2FA Registration allows a user to turn off 2FA","status":"passed","file_path":"./spec/features/two_factor_auth_registration_spec.rb","line_number":70,"run_time":2.955142175,"pending_message":null,"screenshot":null},{"id":"./spec/features/two_factor_auth_registration_spec.rb[1:1:1]","description":"does not show flash message when exiting immediately","full_description":"2FA Registration Signed in user setting up 2FA does not show flash message when exiting immediately","status":"passed","file_path":"./spec/features/two_factor_auth_registration_spec.rb","line_number":22,"run_time":1.494302287,"pending_message":null,"screenshot":null},{"id":"./spec/features/two_factor_auth_registration_spec.rb[1:1:2:1]","description":"presents flash message when exiting","full_description":"2FA Registration Signed in user setting up 2FA Valid code is entered presents flash message when exiting","status":"passed","file_path":"./spec/features/two_factor_auth_registration_spec.rb","line_number":35,"run_time":1.694773417,"pending_message":null,"screenshot":null},{"id":"./spec/features/two_factor_auth_registration_spec.rb[1:1:2:2]","description":"shows recovery codes before allowing the user to continue and register for 2FA","full_description":"2FA Registration Signed in user setting up 2FA Valid code is entered shows recovery codes before allowing the user to continue and register for 2FA","status":"passed","file_path":"./spec/features/two_factor_auth_registration_spec.rb","line_number":42,"run_time":2.01828548,"pending_message":null,"screenshot":null},{"id":"./spec/features/getting_started_spec.rb[1:5:1:2:1]","description":"can complete setup","full_description":"Getting Started for an RBSG agent signup with UK company type for NatWest can complete setup","status":"passed","file_path":"./spec/features/getting_started_spec.rb","line_number":351,"run_time":8.027500544,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/account_type_transactions_report_spec.rb[1:1]","description":"validates company_type is a valid company type","full_description":"Reports::AccountTypeTransactionsReport validates company_type is a valid company type","status":"passed","file_path":"./spec/models/reports/account_type_transactions_report_spec.rb","line_number":29,"run_time":0.19880325,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/account_type_transactions_report_spec.rb[1:2]","description":"casts string formatted dates for period_start_as_date and period_end_as_date to actual dates","full_description":"Reports::AccountTypeTransactionsReport casts string formatted dates for period_start_as_date and period_end_as_date to actual dates","status":"passed","file_path":"./spec/models/reports/account_type_transactions_report_spec.rb","line_number":42,"run_time":0.18145989,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/account_type_transactions_report_spec.rb[1:3]","description":"handles invalid date strings","full_description":"Reports::AccountTypeTransactionsReport handles invalid date strings","status":"passed","file_path":"./spec/models/reports/account_type_transactions_report_spec.rb","line_number":49,"run_time":0.18156077,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/account_type_transactions_report_spec.rb[1:4]","description":"handles valid date strings","full_description":"Reports::AccountTypeTransactionsReport handles valid date strings","status":"passed","file_path":"./spec/models/reports/account_type_transactions_report_spec.rb","line_number":64,"run_time":0.173365555,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/account_type_transactions_report_spec.rb[1:5]","description":"validates the period_start_date is before the period_end_date","full_description":"Reports::AccountTypeTransactionsReport validates the period_start_date is before the period_end_date","status":"passed","file_path":"./spec/models/reports/account_type_transactions_report_spec.rb","line_number":76,"run_time":0.184369489,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/account_type_transactions_report_spec.rb[1:6]","description":"validates that the reporting period is no longer than 365 days (1 year)","full_description":"Reports::AccountTypeTransactionsReport validates that the reporting period is no longer than 365 days (1 year)","status":"passed","file_path":"./spec/models/reports/account_type_transactions_report_spec.rb","line_number":83,"run_time":0.171786226,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/account_type_transactions_report_spec.rb[1:7]","description":"validates at least one reportable company id is present","full_description":"Reports::AccountTypeTransactionsReport validates at least one reportable company id is present","status":"passed","file_path":"./spec/models/reports/account_type_transactions_report_spec.rb","line_number":91,"run_time":0.15721336,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/account_type_transactions_report_spec.rb[1:8:1]","description":"returns a file name that reflects the date range and account_type","full_description":"Reports::AccountTypeTransactionsReport#file_name returns a file name that reflects the date range and account_type","status":"passed","file_path":"./spec/models/reports/account_type_transactions_report_spec.rb","line_number":101,"run_time":0.153137894,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/account_type_transactions_report_spec.rb[1:9:1]","description":"returns a CSV report containing a header row","full_description":"Reports::AccountTypeTransactionsReport#generate returns a CSV report containing a header row","status":"passed","file_path":"./spec/models/reports/account_type_transactions_report_spec.rb","line_number":190,"run_time":0.866238993,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/account_type_transactions_report_spec.rb[1:9:2]","description":"includes in-period transactions against accounts for the specified account type and reported companies","full_description":"Reports::AccountTypeTransactionsReport#generate includes in-period transactions against accounts for the specified account type and reported companies","status":"passed","file_path":"./spec/models/reports/account_type_transactions_report_spec.rb","line_number":194,"run_time":0.887269205,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/account_type_transactions_report_spec.rb[1:9:3]","description":"excludes transactions out of the reporting range","full_description":"Reports::AccountTypeTransactionsReport#generate excludes transactions out of the reporting range","status":"passed","file_path":"./spec/models/reports/account_type_transactions_report_spec.rb","line_number":208,"run_time":0.844352857,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/account_type_transactions_report_spec.rb[1:9:4]","description":"excludes transactions that do not fall under the account type","full_description":"Reports::AccountTypeTransactionsReport#generate excludes transactions that do not fall under the account type","status":"passed","file_path":"./spec/models/reports/account_type_transactions_report_spec.rb","line_number":212,"run_time":0.791864466,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/account_type_transactions_report_spec.rb[1:9:5]","description":"excludes transactions for companies of another type","full_description":"Reports::AccountTypeTransactionsReport#generate excludes transactions for companies of another type","status":"passed","file_path":"./spec/models/reports/account_type_transactions_report_spec.rb","line_number":216,"run_time":0.848048118,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/account_type_transactions_report_spec.rb[1:9:6]","description":"does not include companies which are not active or linked_billable","full_description":"Reports::AccountTypeTransactionsReport#generate does not include companies which are not active or linked_billable","status":"passed","file_path":"./spec/models/reports/account_type_transactions_report_spec.rb","line_number":221,"run_time":0.809716134,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/account_type_transactions_report_spec.rb[1:9:7:1]","description":"only has data for clients of the manager that created the report","full_description":"Reports::AccountTypeTransactionsReport#generate with a account_manager_filter filter only has data for clients of the manager that created the report","status":"passed","file_path":"./spec/models/reports/account_type_transactions_report_spec.rb","line_number":247,"run_time":0.837528586,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/account_type_transactions_report_spec.rb[1:10:1]","description":"includes the headers to avoid generating an empty file","full_description":"Reports::AccountTypeTransactionsReport#generate when there is no reportable data includes the headers to avoid generating an empty file","status":"passed","file_path":"./spec/models/reports/account_type_transactions_report_spec.rb","line_number":273,"run_time":0.156319324,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/account_type_transactions_report_spec.rb[1:11:1]","description":"returns the headers as an array of strings in the correct order","full_description":"Reports::AccountTypeTransactionsReport#headers returns the headers as an array of strings in the correct order","status":"passed","file_path":"./spec/models/reports/account_type_transactions_report_spec.rb","line_number":281,"run_time":0.152576108,"pending_message":null,"screenshot":null},{"id":"./spec/models/ledger_api/contact_account_spec.rb[1:1]","description":"returns the correct values","full_description":"LedgerApi::ContactAccount returns the correct values","status":"passed","file_path":"./spec/models/ledger_api/contact_account_spec.rb","line_number":228,"run_time":3.756536307,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/loans_and_arrangements_spec.rb[1:1:1]","description":"returns the correct value","full_description":"Accounting::CorporationTax::Computations::LoansAndArrangements#loans_repaid_released_or_written_off? returns the correct value","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/loans_and_arrangements_spec.rb","line_number":14,"run_time":0.957678937,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/loans_and_arrangements_spec.rb[1:2:1]","description":"returns the correct value","full_description":"Accounting::CorporationTax::Computations::LoansAndArrangements#outstanding_loans_and_arrangements_made returns the correct value","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/loans_and_arrangements_spec.rb","line_number":20,"run_time":0.692821798,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/loans_and_arrangements_spec.rb[1:3:1]","description":"returns the correct value","full_description":"Accounting::CorporationTax::Computations::LoansAndArrangements#outstanding_loans_and_arrangements_made_tax_chargeable returns the correct value","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/loans_and_arrangements_spec.rb","line_number":37,"run_time":0.591459183,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/loans_and_arrangements_spec.rb[1:4:1]","description":"returns the correct value","full_description":"Accounting::CorporationTax::Computations::LoansAndArrangements#return_payments_made returns the correct value","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/loans_and_arrangements_spec.rb","line_number":45,"run_time":0.563034646,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/loans_and_arrangements_spec.rb[1:5:1]","description":"returns the correct value","full_description":"Accounting::CorporationTax::Computations::LoansAndArrangements#outstanding_loans_and_arrangements_made_total returns the correct value","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/loans_and_arrangements_spec.rb","line_number":66,"run_time":0.573695722,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/loans_and_arrangements_spec.rb[1:6:1]","description":"returns the correct value","full_description":"Accounting::CorporationTax::Computations::LoansAndArrangements#outstanding_loans_tax_payable returns the correct value","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/loans_and_arrangements_spec.rb","line_number":72,"run_time":0.581648592,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/estimates/send_email_controller_spec.rb[1:1:1:1]","description":"returns 200 and an empty body","full_description":"Api::Estimates::SendEmailController POST :create a valid request returns 200 and an empty body","status":"passed","file_path":"./spec/controllers/api/estimates/send_email_controller_spec.rb","line_number":20,"run_time":0.23706486,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/estimates/send_email_controller_spec.rb[1:1:1:2]","description":"creates an audit entry","full_description":"Api::Estimates::SendEmailController POST :create a valid request creates an audit entry","status":"passed","file_path":"./spec/controllers/api/estimates/send_email_controller_spec.rb","line_number":26,"run_time":0.173908672,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/estimates/send_email_controller_spec.rb[1:1:1:3:1]","description":"marks the :send_estimate Flying Start task as completed","full_description":"Api::Estimates::SendEmailController POST :create a valid request flying start marks the :send_estimate Flying Start task as completed","status":"passed","file_path":"./spec/controllers/api/estimates/send_email_controller_spec.rb","line_number":46,"run_time":0.199894056,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/estimates/send_email_controller_spec.rb[1:1:2:1]","description":"returns 200 and an empty body","full_description":"Api::Estimates::SendEmailController POST :create invalid request - negative value estimate returns 200 and an empty body","status":"passed","file_path":"./spec/controllers/api/estimates/send_email_controller_spec.rb","line_number":59,"run_time":0.254948423,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/estimates/send_email_controller_spec.rb[1:1:3:1]","description":"returns error","full_description":"Api::Estimates::SendEmailController POST :create invalid request - no line items returns error","status":"passed","file_path":"./spec/controllers/api/estimates/send_email_controller_spec.rb","line_number":69,"run_time":0.158520538,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/estimates/send_email_controller_spec.rb[1:1:4:1]","description":"returns error response code and error body","full_description":"Api::Estimates::SendEmailController POST :create invalid request - empty body returns error response code and error body","status":"passed","file_path":"./spec/controllers/api/estimates/send_email_controller_spec.rb","line_number":81,"run_time":0.187647626,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/estimates/send_email_controller_spec.rb[1:1:4:2]","description":"does not create an audit entry","full_description":"Api::Estimates::SendEmailController POST :create invalid request - empty body does not create an audit entry","status":"passed","file_path":"./spec/controllers/api/estimates/send_email_controller_spec.rb","line_number":88,"run_time":0.17911338,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/estimates/send_email_controller_spec.rb[1:1:4:3:1]","description":"doesn't mark the :send_estimate Flying Start task as completed","full_description":"Api::Estimates::SendEmailController POST :create invalid request - empty body flying start doesn't mark the :send_estimate Flying Start task as completed","status":"passed","file_path":"./spec/controllers/api/estimates/send_email_controller_spec.rb","line_number":99,"run_time":0.212380945,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/estimates/send_email_controller_spec.rb[1:1:5:1:1]","description":"returns 200 and an empty body","full_description":"Api::Estimates::SendEmailController POST :create with attachments params with a file_id returns 200 and an empty body","status":"passed","file_path":"./spec/controllers/api/estimates/send_email_controller_spec.rb","line_number":118,"run_time":0.240472934,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/estimates/send_email_controller_spec.rb[1:1:5:2:1]","description":"returns 200 and an empty body","full_description":"Api::Estimates::SendEmailController POST :create with attachments params with base64 encoded data returns 200 and an empty body","status":"passed","file_path":"./spec/controllers/api/estimates/send_email_controller_spec.rb","line_number":133,"run_time":0.362752577,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/estimates/send_email_controller_spec.rb[1:1:5:3:1]","description":"returns 404 not found error","full_description":"Api::Estimates::SendEmailController POST :create with attachments params with an invalid file_id  returns 404 not found error","status":"passed","file_path":"./spec/controllers/api/estimates/send_email_controller_spec.rb","line_number":142,"run_time":0.198144112,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/estimates/send_email_controller_spec.rb[1:1:5:4:1]","description":"returns 422 unprocessable entity error","full_description":"Api::Estimates::SendEmailController POST :create with attachments params with attachment size greater than 5MB returns 422 unprocessable entity error","status":"passed","file_path":"./spec/controllers/api/estimates/send_email_controller_spec.rb","line_number":161,"run_time":0.331332909,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/estimates/send_email_controller_spec.rb[1:1:5:5:1]","description":"returns 422 unprocessable entity error","full_description":"Api::Estimates::SendEmailController POST :create with attachments params without content_type attribute returns 422 unprocessable entity error","status":"passed","file_path":"./spec/controllers/api/estimates/send_email_controller_spec.rb","line_number":173,"run_time":0.194200846,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/estimates/send_email_controller_spec.rb[1:1:5:6:1]","description":"returns 200 and an empty body","full_description":"Api::Estimates::SendEmailController POST :create with attachments params using an email template returns 200 and an empty body","status":"passed","file_path":"./spec/controllers/api/estimates/send_email_controller_spec.rb","line_number":191,"run_time":0.422639042,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/banking_details_controller_spec.rb[1:1:1:1]","description":"is expected to render template getting_started/banking_details","full_description":"GettingStarted::BankingDetailsController for a UK company #show is expected to render template getting_started/banking_details","status":"passed","file_path":"./spec/controllers/getting_started/banking_details_controller_spec.rb","line_number":23,"run_time":0.189435604,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/banking_details_controller_spec.rb[1:1:1:2]","description":"uses step_4 for the wrapper class","full_description":"GettingStarted::BankingDetailsController for a UK company #show uses step_4 for the wrapper class","status":"passed","file_path":"./spec/controllers/getting_started/banking_details_controller_spec.rb","line_number":25,"run_time":0.166220311,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/banking_details_controller_spec.rb[1:1:1:3]","description":"displays the correct default bank name for UK companies","full_description":"GettingStarted::BankingDetailsController for a UK company #show displays the correct default bank name for UK companies","status":"passed","file_path":"./spec/controllers/getting_started/banking_details_controller_spec.rb","line_number":29,"run_time":0.174356993,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/banking_details_controller_spec.rb[1:1:1:4]","description":"displays the correct label for sort code","full_description":"GettingStarted::BankingDetailsController for a UK company #show displays the correct label for sort code","status":"passed","file_path":"./spec/controllers/getting_started/banking_details_controller_spec.rb","line_number":33,"run_time":0.142563173,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/banking_details_controller_spec.rb[1:1:1:5]","description":"displays the correct label for opening balance","full_description":"GettingStarted::BankingDetailsController for a UK company #show displays the correct label for opening balance","status":"passed","file_path":"./spec/controllers/getting_started/banking_details_controller_spec.rb","line_number":37,"run_time":0.158277146,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/banking_details_controller_spec.rb[1:1:1:6]","description":"uses FreeAgent start date for opening balances help text","full_description":"GettingStarted::BankingDetailsController for a UK company #show uses FreeAgent start date for opening balances help text","status":"passed","file_path":"./spec/controllers/getting_started/banking_details_controller_spec.rb","line_number":41,"run_time":0.156945125,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/banking_details_controller_spec.rb[1:1:1:7]","description":"defaults to a zero opening balance","full_description":"GettingStarted::BankingDetailsController for a UK company #show defaults to a zero opening balance","status":"passed","file_path":"./spec/controllers/getting_started/banking_details_controller_spec.rb","line_number":46,"run_time":0.154399332,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/banking_details_controller_spec.rb[1:1:1:8]","description":"rejects JSON requests","full_description":"GettingStarted::BankingDetailsController for a UK company #show rejects JSON requests","status":"passed","file_path":"./spec/controllers/getting_started/banking_details_controller_spec.rb","line_number":50,"run_time":0.156543426,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/banking_details_controller_spec.rb[1:1:2:1]","description":"does not track the step and display errors to the user if banking details are invalid","full_description":"GettingStarted::BankingDetailsController for a UK company #update does not track the step and display errors to the user if banking details are invalid","status":"passed","file_path":"./spec/controllers/getting_started/banking_details_controller_spec.rb","line_number":58,"run_time":0.183428366,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/banking_details_controller_spec.rb[1:1:2:2]","description":"tracks the step and redirects to the overview page if banking details are valid","full_description":"GettingStarted::BankingDetailsController for a UK company #update tracks the step and redirects to the overview page if banking details are valid","status":"passed","file_path":"./spec/controllers/getting_started/banking_details_controller_spec.rb","line_number":68,"run_time":0.200728497,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/banking_details_controller_spec.rb[1:1:2:3:1]","description":"redirects to the tcf eligibilty setup page","full_description":"GettingStarted::BankingDetailsController for a UK company #update with an rbsg sort code redirects to the tcf eligibilty setup page","status":"passed","file_path":"./spec/controllers/getting_started/banking_details_controller_spec.rb","line_number":96,"run_time":0.202557141,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/banking_details_controller_spec.rb[1:1:3:1]","description":"deletes the Flying Start cookie","full_description":"GettingStarted::BankingDetailsController for a UK company #tcf_bank_feed_enable deletes the Flying Start cookie","status":"passed","file_path":"./spec/controllers/getting_started/banking_details_controller_spec.rb","line_number":130,"run_time":0.199690978,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/banking_details_controller_spec.rb[1:1:3:2]","description":"redirects to the bank institution path","full_description":"GettingStarted::BankingDetailsController for a UK company #tcf_bank_feed_enable redirects to the bank institution path","status":"passed","file_path":"./spec/controllers/getting_started/banking_details_controller_spec.rb","line_number":135,"run_time":0.173493808,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/banking_details_controller_spec.rb[1:2:1:1]","description":"defaults the bank name to \"Mettle\"","full_description":"GettingStarted::BankingDetailsController for a Mettle resold company #show defaults the bank name to \"Mettle\"","status":"passed","file_path":"./spec/controllers/getting_started/banking_details_controller_spec.rb","line_number":154,"run_time":0.182344488,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/banking_details_controller_spec.rb[1:2:1:2]","description":"defaults the account number to the one from rbsg_signup","full_description":"GettingStarted::BankingDetailsController for a Mettle resold company #show defaults the account number to the one from rbsg_signup","status":"passed","file_path":"./spec/controllers/getting_started/banking_details_controller_spec.rb","line_number":158,"run_time":0.183630182,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/banking_details_controller_spec.rb[1:2:1:3]","description":"defaults the sort to the one from rbsg_signup","full_description":"GettingStarted::BankingDetailsController for a Mettle resold company #show defaults the sort to the one from rbsg_signup","status":"passed","file_path":"./spec/controllers/getting_started/banking_details_controller_spec.rb","line_number":162,"run_time":0.173452516,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/banking_details_controller_spec.rb[1:3:1:1]","description":"defaults the bank name to \"Ulster Bank NI\"","full_description":"GettingStarted::BankingDetailsController for an Ulster Bank NI resold company #show defaults the bank name to \"Ulster Bank NI\"","status":"passed","file_path":"./spec/controllers/getting_started/banking_details_controller_spec.rb","line_number":176,"run_time":0.184035749,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/banking_details_controller_spec.rb[1:3:1:2]","description":"defaults the account number to the one from rbsg_signup","full_description":"GettingStarted::BankingDetailsController for an Ulster Bank NI resold company #show defaults the account number to the one from rbsg_signup","status":"passed","file_path":"./spec/controllers/getting_started/banking_details_controller_spec.rb","line_number":180,"run_time":0.171922997,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/banking_details_controller_spec.rb[1:3:1:3]","description":"defaults the sort to the one from rbsg_signup","full_description":"GettingStarted::BankingDetailsController for an Ulster Bank NI resold company #show defaults the sort to the one from rbsg_signup","status":"passed","file_path":"./spec/controllers/getting_started/banking_details_controller_spec.rb","line_number":184,"run_time":0.168057689,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/banking_details_controller_spec.rb[1:4:1:1]","description":"uses step_5 for the wrapper class","full_description":"GettingStarted::BankingDetailsController for a Universal company #show uses step_5 for the wrapper class","status":"passed","file_path":"./spec/controllers/getting_started/banking_details_controller_spec.rb","line_number":196,"run_time":0.188801992,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/banking_details_controller_spec.rb[1:4:1:2]","description":"displays the correct default bank name for Universal companies","full_description":"GettingStarted::BankingDetailsController for a Universal company #show displays the correct default bank name for Universal companies","status":"passed","file_path":"./spec/controllers/getting_started/banking_details_controller_spec.rb","line_number":200,"run_time":0.145200048,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/banking_details_controller_spec.rb[1:5:1]","description":"displays the correct label for sort code","full_description":"GettingStarted::BankingDetailsController for a US company displays the correct label for sort code","status":"passed","file_path":"./spec/controllers/getting_started/banking_details_controller_spec.rb","line_number":209,"run_time":0.217056372,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/company_soft_delete_spec.rb[1:1:1]","description":"is expected to belong to company required: false","full_description":"Disengagement::CompanySoftDelete validations is expected to belong to company required: false","status":"passed","file_path":"./spec/models/disengagement/company_soft_delete_spec.rb","line_number":7,"run_time":0.009458517,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/company_soft_delete_spec.rb[1:1:2]","description":"is expected to validate that :delete_company_on cannot be empty/falsy","full_description":"Disengagement::CompanySoftDelete validations is expected to validate that :delete_company_on cannot be empty/falsy","status":"passed","file_path":"./spec/models/disengagement/company_soft_delete_spec.rb","line_number":8,"run_time":0.006884685,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/company_soft_delete_spec.rb[1:2:1:1]","description":"is expected to contain exactly #\u003cDisengagement::CompanySoftDelete id: 1, company_id: 895398008, delete_company_on: \"2022-12-14\", cre...-15 10:01:22.009875000 +0000\", updated_at: \"2022-12-15 10:01:22.009875000 +0000\", ignore_until: nil\u003e","full_description":"Disengagement::CompanySoftDelete scopes .can_be_deleted is expected to contain exactly #\u003cDisengagement::CompanySoftDelete id: 1, company_id: 895398008, delete_company_on: \"2022-12-14\", cre...-15 10:01:22.009875000 +0000\", updated_at: \"2022-12-15 10:01:22.009875000 +0000\", ignore_until: nil\u003e","status":"passed","file_path":"./spec/models/disengagement/company_soft_delete_spec.rb","line_number":27,"run_time":0.295303175,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/company_soft_delete_spec.rb[1:2:2:1]","description":"is expected to contain exactly #\u003cDisengagement::CompanySoftDelete id: 4, company_id: 895398011, delete_company_on: \"2023-01-14\", cre...-15 10:01:22.281719000 +0000\", updated_at: \"2022-12-15 10:01:22.281719000 +0000\", ignore_until: nil\u003e","full_description":"Disengagement::CompanySoftDelete scopes .will_be_deleted is expected to contain exactly #\u003cDisengagement::CompanySoftDelete id: 4, company_id: 895398011, delete_company_on: \"2023-01-14\", cre...-15 10:01:22.281719000 +0000\", updated_at: \"2022-12-15 10:01:22.281719000 +0000\", ignore_until: nil\u003e","status":"passed","file_path":"./spec/models/disengagement/company_soft_delete_spec.rb","line_number":35,"run_time":0.094347937,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/company_soft_delete_spec.rb[1:3:1:1]","description":"is expected to equal false","full_description":"Disengagement::CompanySoftDelete#undeleted? for a company that didn't attempt to re-engage is expected to equal false","status":"passed","file_path":"./spec/models/disengagement/company_soft_delete_spec.rb","line_number":43,"run_time":0.089141245,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/company_soft_delete_spec.rb[1:3:2:1]","description":"is expected to equal true","full_description":"Disengagement::CompanySoftDelete#undeleted? for a company that attempted to re-engage is expected to equal true","status":"passed","file_path":"./spec/models/disengagement/company_soft_delete_spec.rb","line_number":49,"run_time":0.094938817,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/company_soft_delete_spec.rb[1:4:1]","description":"sets ignore_until to 30 days in the future","full_description":"Disengagement::CompanySoftDelete#undelete sets ignore_until to 30 days in the future","status":"passed","file_path":"./spec/models/disengagement/company_soft_delete_spec.rb","line_number":56,"run_time":0.116551441,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/company_soft_delete_spec.rb[1:4:2]","description":"reactivates the companies subscription","full_description":"Disengagement::CompanySoftDelete#undelete reactivates the companies subscription","status":"passed","file_path":"./spec/models/disengagement/company_soft_delete_spec.rb","line_number":60,"run_time":0.115796077,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/company_soft_delete_spec.rb[1:4:3]","description":"updates the company in Salesforce","full_description":"Disengagement::CompanySoftDelete#undelete updates the company in Salesforce","status":"passed","file_path":"./spec/models/disengagement/company_soft_delete_spec.rb","line_number":68,"run_time":0.106298668,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/company_soft_delete_spec.rb[1:5:1:1]","description":"is expected to equal true","full_description":"Disengagement::CompanySoftDelete#due_for_deletion? with delete_company_on in the past is expected to equal true","status":"passed","file_path":"./spec/models/disengagement/company_soft_delete_spec.rb","line_number":87,"run_time":0.092796665,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/company_soft_delete_spec.rb[1:5:2:1]","description":"is expected to equal false","full_description":"Disengagement::CompanySoftDelete#due_for_deletion? with delete_company_on in the present is expected to equal false","status":"passed","file_path":"./spec/models/disengagement/company_soft_delete_spec.rb","line_number":93,"run_time":0.075902484,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/company_soft_delete_spec.rb[1:6:1:1]","description":"is expected to equal true","full_description":"Disengagement::CompanySoftDelete#not_ignored? with a company that's not been reactivated is expected to equal true","status":"passed","file_path":"./spec/models/disengagement/company_soft_delete_spec.rb","line_number":103,"run_time":0.079388169,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/company_soft_delete_spec.rb[1:6:2:1]","description":"is expected to equal false","full_description":"Disengagement::CompanySoftDelete#not_ignored? with a company that has been reactivated is expected to equal false","status":"passed","file_path":"./spec/models/disengagement/company_soft_delete_spec.rb","line_number":109,"run_time":0.082621536,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/company_soft_delete_spec.rb[1:7:1:1]","description":"returns the correct soft delete XML for the Salesforce batch pusher","full_description":"Disengagement::CompanySoftDelete#to_salesforce_xml with a current soft delete returns the correct soft delete XML for the Salesforce batch pusher","status":"passed","file_path":"./spec/models/disengagement/company_soft_delete_spec.rb","line_number":117,"run_time":0.126117954,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/company_soft_delete_spec.rb[1:7:2:1]","description":"returns the correct soft delete XML for the Salesforce batch pusher","full_description":"Disengagement::CompanySoftDelete#to_salesforce_xml with an ignored soft delete returns the correct soft delete XML for the Salesforce batch pusher","status":"passed","file_path":"./spec/models/disengagement/company_soft_delete_spec.rb","line_number":132,"run_time":0.074201468,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/company_soft_delete_spec.rb[1:8:1]","description":"creates soft deletes for specified companies","full_description":"Disengagement::CompanySoftDelete.create_for_companies creates soft deletes for specified companies","status":"passed","file_path":"./spec/models/disengagement/company_soft_delete_spec.rb","line_number":148,"run_time":0.19704475,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/company_soft_delete_spec.rb[1:8:2]","description":"sets delete_company_on to 30 days in the future for each company","full_description":"Disengagement::CompanySoftDelete.create_for_companies sets delete_company_on to 30 days in the future for each company","status":"passed","file_path":"./spec/models/disengagement/company_soft_delete_spec.rb","line_number":154,"run_time":0.191670587,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/company_soft_delete_spec.rb[1:8:3]","description":"populates timestamps","full_description":"Disengagement::CompanySoftDelete.create_for_companies populates timestamps","status":"passed","file_path":"./spec/models/disengagement/company_soft_delete_spec.rb","line_number":161,"run_time":0.268482306,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:1:11]","description":"is not sendable without invoice items","full_description":"Invoice default settings is not sendable without invoice items","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":60,"run_time":0.016396548,"pending_message":null,"screenshot":null},{"id":"./spec/models/stripe_webhook_spec.rb[1:1:1]","description":"returns true when signature is valid","full_description":"StripeWebhook signature_valid? returns true when signature is valid","status":"passed","file_path":"./spec/models/stripe_webhook_spec.rb","line_number":18,"run_time":0.025666676,"pending_message":null,"screenshot":null},{"id":"./spec/models/stripe_webhook_spec.rb[1:1:2:1]","description":"returns false and log error when signature is invalid","full_description":"StripeWebhook signature_valid? invalid signature returns false and log error when signature is invalid","status":"passed","file_path":"./spec/models/stripe_webhook_spec.rb","line_number":25,"run_time":0.013064504,"pending_message":null,"screenshot":null},{"id":"./spec/models/stripe_webhook_spec.rb[1:2:1:1]","description":"is false when not an event type that can be handled","full_description":"StripeWebhook should_process? can_handle? is false when not an event type that can be handled","status":"passed","file_path":"./spec/models/stripe_webhook_spec.rb","line_number":40,"run_time":0.012601581,"pending_message":null,"screenshot":null},{"id":"./spec/models/stripe_webhook_spec.rb[1:2:2:1]","description":"is true when not in production","full_description":"StripeWebhook should_process? should_handle_event_in_current_environment? is true when not in production","status":"passed","file_path":"./spec/models/stripe_webhook_spec.rb","line_number":50,"run_time":0.017097137,"pending_message":null,"screenshot":null},{"id":"./spec/models/stripe_webhook_spec.rb[1:2:2:2]","description":"is false when in production and not in live mode","full_description":"StripeWebhook should_process? should_handle_event_in_current_environment? is false when in production and not in live mode","status":"passed","file_path":"./spec/models/stripe_webhook_spec.rb","line_number":56,"run_time":0.013380212,"pending_message":null,"screenshot":null},{"id":"./spec/models/stripe_webhook_spec.rb[1:2:2:3]","description":"is true when in production and in live mode","full_description":"StripeWebhook should_process? should_handle_event_in_current_environment? is true when in production and in live mode","status":"passed","file_path":"./spec/models/stripe_webhook_spec.rb","line_number":63,"run_time":0.016119228,"pending_message":null,"screenshot":null},{"id":"./spec/models/stripe_webhook_spec.rb[1:2:2:4]","description":"is false when stripe user does not exist","full_description":"StripeWebhook should_process? should_handle_event_in_current_environment? is false when stripe user does not exist","status":"passed","file_path":"./spec/models/stripe_webhook_spec.rb","line_number":70,"run_time":0.011368347,"pending_message":null,"screenshot":null},{"id":"./spec/models/stripe_webhook_spec.rb[1:3:1]","description":"is false for ACCOUNT_DEAUTHORIZED since our access to their events has been revoked","full_description":"StripeWebhook.should_schedule? is false for ACCOUNT_DEAUTHORIZED since our access to their events has been revoked","status":"passed","file_path":"./spec/models/stripe_webhook_spec.rb","line_number":81,"run_time":0.011480219,"pending_message":null,"screenshot":null},{"id":"./spec/models/stripe_webhook_spec.rb[1:3:2]","description":"is true for other handled events","full_description":"StripeWebhook.should_schedule? is true for other handled events","status":"passed","file_path":"./spec/models/stripe_webhook_spec.rb","line_number":85,"run_time":0.009813515,"pending_message":null,"screenshot":null},{"id":"./spec/models/stripe_webhook_spec.rb[1:3:3]","description":"is true for unhandled events","full_description":"StripeWebhook.should_schedule? is true for unhandled events","status":"passed","file_path":"./spec/models/stripe_webhook_spec.rb","line_number":89,"run_time":0.010326074,"pending_message":null,"screenshot":null},{"id":"./spec/models/stripe_webhook_spec.rb[1:4:1]","description":"updates currencies list","full_description":"StripeWebhook updated currency list updates currencies list","status":"passed","file_path":"./spec/models/stripe_webhook_spec.rb","line_number":109,"run_time":0.020791697,"pending_message":null,"screenshot":null},{"id":"./spec/models/stripe_webhook_spec.rb[1:4:2:1]","description":"updates currencies list for both","full_description":"StripeWebhook updated currency list with two stripe accounts updates currencies list for both","status":"passed","file_path":"./spec/models/stripe_webhook_spec.rb","line_number":122,"run_time":0.105188392,"pending_message":null,"screenshot":null},{"id":"./spec/models/stripe_webhook_spec.rb[1:5:1]","description":"disables the stripe account","full_description":"StripeWebhook deauthorized account disables the stripe account","status":"passed","file_path":"./spec/models/stripe_webhook_spec.rb","line_number":134,"run_time":0.013429897,"pending_message":null,"screenshot":null},{"id":"./spec/models/stripe_webhook_spec.rb[1:6:1:1:1]","description":"updates payments as transferred","full_description":"StripeWebhook payout events payout.paid triggered by automatic payouts updates payments as transferred","status":"passed","file_path":"./spec/models/stripe_webhook_spec.rb","line_number":200,"run_time":0.200578636,"pending_message":null,"screenshot":null},{"id":"./spec/models/stripe_webhook_spec.rb[1:6:1:1:2]","description":"sets the correct transferred_at timestamp","full_description":"StripeWebhook payout events payout.paid triggered by automatic payouts sets the correct transferred_at timestamp","status":"passed","file_path":"./spec/models/stripe_webhook_spec.rb","line_number":204,"run_time":0.185535044,"pending_message":null,"screenshot":null},{"id":"./spec/models/stripe_webhook_spec.rb[1:6:1:2:1]","description":"logs the response error","full_description":"StripeWebhook payout events payout.paid triggered by a manual payout logs the response error","status":"passed","file_path":"./spec/models/stripe_webhook_spec.rb","line_number":229,"run_time":0.172741874,"pending_message":null,"screenshot":null},{"id":"./spec/models/stripe_webhook_spec.rb[1:6:1:2:2]","description":"is ignored","full_description":"StripeWebhook payout events payout.paid triggered by a manual payout is ignored","status":"passed","file_path":"./spec/models/stripe_webhook_spec.rb","line_number":242,"run_time":0.183774905,"pending_message":null,"screenshot":null},{"id":"./spec/models/stripe_webhook_spec.rb[1:6:2:1]","description":"updates payments as transfer failed","full_description":"StripeWebhook payout events payout.failed updates payments as transfer failed","status":"passed","file_path":"./spec/models/stripe_webhook_spec.rb","line_number":260,"run_time":0.169446731,"pending_message":null,"screenshot":null},{"id":"./spec/models/stripe_webhook_spec.rb[1:6:2:2]","description":"sets the correct transfer_failed_at timestamp","full_description":"StripeWebhook payout events payout.failed sets the correct transfer_failed_at timestamp","status":"passed","file_path":"./spec/models/stripe_webhook_spec.rb","line_number":264,"run_time":0.183754798,"pending_message":null,"screenshot":null},{"id":"./spec/models/stripe_webhook_spec.rb[1:7:1]","description":"does not update payment as payout.failed if account is disabled","full_description":"StripeWebhook#should_process? does not update payment as payout.failed if account is disabled","status":"passed","file_path":"./spec/models/stripe_webhook_spec.rb","line_number":272,"run_time":0.014776276,"pending_message":null,"screenshot":null},{"id":"./spec/models/stripe_webhook_spec.rb[1:7:2]","description":"does not update payment as payout.paid if account is disabled","full_description":"StripeWebhook#should_process? does not update payment as payout.paid if account is disabled","status":"passed","file_path":"./spec/models/stripe_webhook_spec.rb","line_number":272,"run_time":0.013659668,"pending_message":null,"screenshot":null},{"id":"./spec/models/stripe_webhook_spec.rb[1:7:3]","description":"does not update payment as account.updated if account is disabled","full_description":"StripeWebhook#should_process? does not update payment as account.updated if account is disabled","status":"passed","file_path":"./spec/models/stripe_webhook_spec.rb","line_number":272,"run_time":0.014011291,"pending_message":null,"screenshot":null},{"id":"./spec/models/stripe_webhook_spec.rb[1:7:4]","description":"does not update payment as account.application.deauthorized if account is disabled","full_description":"StripeWebhook#should_process? does not update payment as account.application.deauthorized if account is disabled","status":"passed","file_path":"./spec/models/stripe_webhook_spec.rb","line_number":272,"run_time":0.014684113,"pending_message":null,"screenshot":null},{"id":"./spec/models/stripe_webhook_spec.rb[1:8:1]","description":"reports the error","full_description":"StripeWebhook unhandled event reports the error","status":"passed","file_path":"./spec/models/stripe_webhook_spec.rb","line_number":281,"run_time":0.011882427,"pending_message":null,"screenshot":null},{"id":"./spec/requests/session_spec.rb[1:1:1:1]","description":"redirects to the normal login page","full_description":"SessionsController the NWG hybrid login for royal_bank_of_scotland from a non login URL redirects to the normal login page","status":"passed","file_path":"./spec/requests/session_spec.rb","line_number":10,"run_time":0.026089253,"pending_message":null,"screenshot":null},{"id":"./spec/requests/session_spec.rb[1:1:2:1]","description":"displays the hybrid login page page","full_description":"SessionsController the NWG hybrid login for royal_bank_of_scotland from the login.freeagent.com/royal_bank_of_scotland/login URL displays the hybrid login page page","status":"passed","file_path":"./spec/requests/session_spec.rb","line_number":19,"run_time":0.048446992,"pending_message":null,"screenshot":null},{"id":"./spec/requests/session_spec.rb[1:1:3:1]","description":"redirects to the normal login page page","full_description":"SessionsController the NWG hybrid login for royal_bank_of_scotland from the login.freeagent.com/royal_bank_of_scotland URL redirects to the normal login page page","status":"passed","file_path":"./spec/requests/session_spec.rb","line_number":28,"run_time":0.017312543,"pending_message":null,"screenshot":null},{"id":"./spec/requests/session_spec.rb[1:1:4:1]","description":"allows access to the branded sign up form","full_description":"SessionsController the NWG hybrid login for royal_bank_of_scotland from the signup URL allows access to the branded sign up form","status":"passed","file_path":"./spec/requests/session_spec.rb","line_number":37,"run_time":0.06996355,"pending_message":null,"screenshot":null},{"id":"./spec/requests/session_spec.rb[1:2:1:1]","description":"redirects to the normal login page","full_description":"SessionsController the NWG hybrid login for natwest from a non login URL redirects to the normal login page","status":"passed","file_path":"./spec/requests/session_spec.rb","line_number":10,"run_time":0.014934284,"pending_message":null,"screenshot":null},{"id":"./spec/requests/session_spec.rb[1:2:2:1]","description":"displays the hybrid login page page","full_description":"SessionsController the NWG hybrid login for natwest from the login.freeagent.com/natwest/login URL displays the hybrid login page page","status":"passed","file_path":"./spec/requests/session_spec.rb","line_number":19,"run_time":0.029674237,"pending_message":null,"screenshot":null},{"id":"./spec/requests/session_spec.rb[1:2:3:1]","description":"redirects to the normal login page page","full_description":"SessionsController the NWG hybrid login for natwest from the login.freeagent.com/natwest URL redirects to the normal login page page","status":"passed","file_path":"./spec/requests/session_spec.rb","line_number":28,"run_time":0.01191973,"pending_message":null,"screenshot":null},{"id":"./spec/requests/session_spec.rb[1:2:4:1]","description":"allows access to the branded sign up form","full_description":"SessionsController the NWG hybrid login for natwest from the signup URL allows access to the branded sign up form","status":"passed","file_path":"./spec/requests/session_spec.rb","line_number":37,"run_time":0.043431984,"pending_message":null,"screenshot":null},{"id":"./spec/requests/session_spec.rb[1:3:1:1]","description":"redirects to the normal login page","full_description":"SessionsController the NWG hybrid login for ulster_bank from a non login URL redirects to the normal login page","status":"passed","file_path":"./spec/requests/session_spec.rb","line_number":10,"run_time":0.017017186,"pending_message":null,"screenshot":null},{"id":"./spec/requests/session_spec.rb[1:3:2:1]","description":"displays the hybrid login page page","full_description":"SessionsController the NWG hybrid login for ulster_bank from the login.freeagent.com/ulster_bank/login URL displays the hybrid login page page","status":"passed","file_path":"./spec/requests/session_spec.rb","line_number":19,"run_time":0.032473476,"pending_message":null,"screenshot":null},{"id":"./spec/requests/session_spec.rb[1:3:3:1]","description":"redirects to the normal login page page","full_description":"SessionsController the NWG hybrid login for ulster_bank from the login.freeagent.com/ulster_bank URL redirects to the normal login page page","status":"passed","file_path":"./spec/requests/session_spec.rb","line_number":28,"run_time":0.012011838,"pending_message":null,"screenshot":null},{"id":"./spec/requests/session_spec.rb[1:3:4:1]","description":"allows access to the branded sign up form","full_description":"SessionsController the NWG hybrid login for ulster_bank from the signup URL allows access to the branded sign up form","status":"passed","file_path":"./spec/requests/session_spec.rb","line_number":37,"run_time":0.036779687,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings_helper_spec.rb[1:1:1:1:1]","description":"is expected to eq false","full_description":"SettingsHelper#display_communication_preferences_settings_page? when the user is not allowed to see the communication settings page and none of the settings should be shown is expected to eq false","status":"passed","file_path":"./spec/helpers/settings_helper_spec.rb","line_number":39,"run_time":0.015979595,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings_helper_spec.rb[1:1:1:2:1]","description":"is expected to eq false","full_description":"SettingsHelper#display_communication_preferences_settings_page? when the user is not allowed to see the communication settings page and at least one setting should be shown is expected to eq false","status":"passed","file_path":"./spec/helpers/settings_helper_spec.rb","line_number":48,"run_time":0.016682019,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings_helper_spec.rb[1:1:2:1:1]","description":"is expected to eq false","full_description":"SettingsHelper#display_communication_preferences_settings_page? when the user is allowed to see the communication settings page and none of the settings should be shown is expected to eq false","status":"passed","file_path":"./spec/helpers/settings_helper_spec.rb","line_number":59,"run_time":0.01553992,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings_helper_spec.rb[1:1:2:2:1]","description":"is expected to eq true","full_description":"SettingsHelper#display_communication_preferences_settings_page? when the user is allowed to see the communication settings page and at least one setting should be shown is expected to eq true","status":"passed","file_path":"./spec/helpers/settings_helper_spec.rb","line_number":68,"run_time":0.016908859,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings_helper_spec.rb[1:2:1]","description":"is true when funding options can be managed","full_description":"SettingsHelper#display_available_funding_settings? is true when funding options can be managed","status":"passed","file_path":"./spec/helpers/settings_helper_spec.rb","line_number":74,"run_time":0.019059736,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings_helper_spec.rb[1:2:2]","description":"is false when funding options can be managed","full_description":"SettingsHelper#display_available_funding_settings? is false when funding options can be managed","status":"passed","file_path":"./spec/helpers/settings_helper_spec.rb","line_number":79,"run_time":0.015552828,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings_helper_spec.rb[1:3:1:1]","description":"is expected to eq true","full_description":"SettingsHelper#display_company_digest_settings? when the current user can receive the company digest is expected to eq true","status":"passed","file_path":"./spec/helpers/settings_helper_spec.rb","line_number":89,"run_time":0.010080421,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings_helper_spec.rb[1:3:2:1]","description":"is expected to be falsey","full_description":"SettingsHelper#display_company_digest_settings? when the current user cannot receive the company digest is expected to be falsey","status":"passed","file_path":"./spec/helpers/settings_helper_spec.rb","line_number":97,"run_time":0.024117436,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings_helper_spec.rb[1:4:1:1]","description":"is expected to eq true","full_description":"SettingsHelper#display_commercial_propositions_settings? when the current user is the account owner is expected to eq true","status":"passed","file_path":"./spec/helpers/settings_helper_spec.rb","line_number":105,"run_time":0.008384129,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings_helper_spec.rb[1:4:2:1]","description":"is expected to eq false","full_description":"SettingsHelper#display_commercial_propositions_settings? when the current user is an employee is expected to eq false","status":"passed","file_path":"./spec/helpers/settings_helper_spec.rb","line_number":111,"run_time":0.025570836,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings_helper_spec.rb[1:4:3:1]","description":"is expected to eq false","full_description":"SettingsHelper#display_commercial_propositions_settings? when the company is not a uk company is expected to eq false","status":"passed","file_path":"./spec/helpers/settings_helper_spec.rb","line_number":117,"run_time":0.087604697,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings_helper_spec.rb[1:4:4:1]","description":"is expected to eq true","full_description":"SettingsHelper#display_commercial_propositions_settings? when the company is an RBSG sole trader is expected to eq true","status":"passed","file_path":"./spec/helpers/settings_helper_spec.rb","line_number":123,"run_time":0.097735162,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings_helper_spec.rb[1:4:5:1]","description":"is expected to eq true","full_description":"SettingsHelper#display_commercial_propositions_settings? when the company is an RBSG partnership is expected to eq true","status":"passed","file_path":"./spec/helpers/settings_helper_spec.rb","line_number":129,"run_time":0.127439251,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings_helper_spec.rb[1:4:6:1]","description":"is expected to eq false","full_description":"SettingsHelper#display_commercial_propositions_settings? when the company is an RBSG ltd company is expected to eq false","status":"passed","file_path":"./spec/helpers/settings_helper_spec.rb","line_number":135,"run_time":0.101883574,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings_helper_spec.rb[1:5:1:1]","description":"is expected to eq true","full_description":"SettingsHelper#display_bounced_email_settings? when the current user is the account owner is expected to eq true","status":"passed","file_path":"./spec/helpers/settings_helper_spec.rb","line_number":143,"run_time":0.008706852,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings_helper_spec.rb[1:5:2:1]","description":"is expected to eq false","full_description":"SettingsHelper#display_bounced_email_settings? when the allowed company options are empty is expected to eq false","status":"passed","file_path":"./spec/helpers/settings_helper_spec.rb","line_number":149,"run_time":0.025211848,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings_helper_spec.rb[1:6:1:1]","description":"is expected to eq true","full_description":"SettingsHelper#display_radar_notifications_settings? when the current user has full permissions is expected to eq true","status":"passed","file_path":"./spec/helpers/settings_helper_spec.rb","line_number":157,"run_time":0.009080623,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings_helper_spec.rb[1:6:2:1]","description":"is expected to eq true","full_description":"SettingsHelper#display_radar_notifications_settings? when the current user has tax and accounting permissions is expected to eq true","status":"passed","file_path":"./spec/helpers/settings_helper_spec.rb","line_number":163,"run_time":0.026220332,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings_helper_spec.rb[1:6:3:1]","description":"is expected to eq false","full_description":"SettingsHelper#display_radar_notifications_settings? when the current user only has banking permissions is expected to eq false","status":"passed","file_path":"./spec/helpers/settings_helper_spec.rb","line_number":169,"run_time":0.024523222,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings_helper_spec.rb[1:6:4:1]","description":"is expected to eq false","full_description":"SettingsHelper#display_radar_notifications_settings? when the current user is an account manager is expected to eq false","status":"passed","file_path":"./spec/helpers/settings_helper_spec.rb","line_number":176,"run_time":0.1721705,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings_helper_spec.rb[1:6:5:1]","description":"is expected to eq false","full_description":"SettingsHelper#display_radar_notifications_settings? when the user is in a white labelled company is expected to eq false","status":"passed","file_path":"./spec/helpers/settings_helper_spec.rb","line_number":182,"run_time":0.157194607,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings_helper_spec.rb[1:7:1:1]","description":"is expected to eq true","full_description":"SettingsHelper#display_new_admin_todo_list_item_push_notification_settings? when the current user has full permissions is expected to eq true","status":"passed","file_path":"./spec/helpers/settings_helper_spec.rb","line_number":194,"run_time":0.015855965,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings_helper_spec.rb[1:7:2:1]","description":"is expected to eq false","full_description":"SettingsHelper#display_new_admin_todo_list_item_push_notification_settings? when the current user only has banking permissions is expected to eq false","status":"passed","file_path":"./spec/helpers/settings_helper_spec.rb","line_number":200,"run_time":0.038325976,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings_helper_spec.rb[1:7:3:1]","description":"is expected to eq false","full_description":"SettingsHelper#display_new_admin_todo_list_item_push_notification_settings? when the current user is an account manager is expected to eq false","status":"passed","file_path":"./spec/helpers/settings_helper_spec.rb","line_number":207,"run_time":0.192019846,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings_helper_spec.rb[1:7:4:1]","description":"is expected to eq false","full_description":"SettingsHelper#display_new_admin_todo_list_item_push_notification_settings? when the user is in a white labelled company is expected to eq false","status":"passed","file_path":"./spec/helpers/settings_helper_spec.rb","line_number":213,"run_time":0.200702977,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings_helper_spec.rb[1:7:5:1]","description":"is expected to eq false","full_description":"SettingsHelper#display_new_admin_todo_list_item_push_notification_settings? when the radar_notifications_push feature switch is disabled is expected to eq false","status":"passed","file_path":"./spec/helpers/settings_helper_spec.rb","line_number":221,"run_time":0.014556631,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings_helper_spec.rb[1:8:1:1]","description":"is expected to eq true","full_description":"SettingsHelper#display_new_insight_email_notification_settings? when the current user has full permissions is expected to eq true","status":"passed","file_path":"./spec/helpers/settings_helper_spec.rb","line_number":233,"run_time":0.012058847,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings_helper_spec.rb[1:8:2:1]","description":"is expected to eq false","full_description":"SettingsHelper#display_new_insight_email_notification_settings? when the current user only has banking permissions is expected to eq false","status":"passed","file_path":"./spec/helpers/settings_helper_spec.rb","line_number":239,"run_time":0.027701275,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings_helper_spec.rb[1:8:3:1]","description":"is expected to eq false","full_description":"SettingsHelper#display_new_insight_email_notification_settings? when the current user is an account manager is expected to eq false","status":"passed","file_path":"./spec/helpers/settings_helper_spec.rb","line_number":246,"run_time":0.166768921,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings_helper_spec.rb[1:8:4:1]","description":"is expected to eq false","full_description":"SettingsHelper#display_new_insight_email_notification_settings? when the user is in a white labelled company is expected to eq false","status":"passed","file_path":"./spec/helpers/settings_helper_spec.rb","line_number":252,"run_time":0.187161683,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/settings_helper_spec.rb[1:8:5:1]","description":"is expected to eq false","full_description":"SettingsHelper#display_new_insight_email_notification_settings? when the radar_notifications_email feature switch is disabled is expected to eq false","status":"passed","file_path":"./spec/helpers/settings_helper_spec.rb","line_number":260,"run_time":0.015872912,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:1:40:4:1]","description":"deletes the subscription information but keeps the invoices with PII removed","full_description":"Company::ForgetCompanyData Deleting all data for a VAT registered UK company when subscribed with subscription invoices deletes the subscription information but keeps the invoices with PII removed","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":535,"run_time":1.326847172,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:4:1:1:1]","description":"deletes ni_category_values","full_description":"Company::ForgetCompanyData Deleting all data for a UK Sole Trader Payroll NiCategoryValues deletes ni_category_values","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":958,"run_time":1.322057094,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:32]","description":"transitions_from_draft_when_locked","full_description":"Invoice transitions_from_draft_when_locked","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":698,"run_time":0.452059202,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/corporation_tax/apportionment/trading_start_date.feature[1:1:1]","description":"Given a UK Limited Company which was started on 2020-06-01 -\u003e And its first accounting year ends on 2021-06-30 -\u003e And the company starts trading on 2020-10-01 -\u003e And the current date is 2021-07-01 -\u003e Then the company should have corporation tax return periods for -\u003e Given the company has the following invoices: -\u003e And the following journals were entered dated 2020-06-01 -\u003e Then the company should have a corporation tax liability as follows","full_description":"Corporation tax: Trading start date loss carried forward from pre trade, which was ledgered on trading start date Given a UK Limited Company which was started on 2020-06-01 -\u003e And its first accounting year ends on 2021-06-30 -\u003e And the company starts trading on 2020-10-01 -\u003e And the current date is 2021-07-01 -\u003e Then the company should have corporation tax return periods for -\u003e Given the company has the following invoices: -\u003e And the following journals were entered dated 2020-06-01 -\u003e Then the company should have a corporation tax liability as follows","status":"passed","file_path":"./spec/acceptance/corporation_tax/apportionment/trading_start_date.feature","line_number":14,"run_time":1.516879461,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/needing_next_recurs_on_recalculation_spec.rb[1:1:1:1]","description":"returns only draft profiles which have next_recurs_on value in the past","full_description":"RecurringInvoiceProfile#needing_next_recurs_on_recalculation at midnight returns only draft profiles which have next_recurs_on value in the past","status":"passed","file_path":"./spec/models/recurring_invoice_profile/needing_next_recurs_on_recalculation_spec.rb","line_number":19,"run_time":0.561596456,"pending_message":null,"screenshot":null},{"id":"./spec/models/recurring_invoice_profile/needing_next_recurs_on_recalculation_spec.rb[1:1:2:1]","description":"returns only draft profiles which have next_recurs_on value in the past","full_description":"RecurringInvoiceProfile#needing_next_recurs_on_recalculation during the day returns only draft profiles which have next_recurs_on value in the past","status":"passed","file_path":"./spec/models/recurring_invoice_profile/needing_next_recurs_on_recalculation_spec.rb","line_number":32,"run_time":0.65324172,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:1:2:3:3]","description":"representing business entertaining admin expense","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the cash accounting basis on the Flat Rate Scheme (at 5%) Expenses representing business entertaining admin expense","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":3365,"run_time":0.540739006,"pending_message":null,"screenshot":null},{"id":"./spec/models/capital_allowances/journal_set_event_builder_spec.rb[1:1:1:1]","description":"is expected to be empty","full_description":"CapitalAllowances::JournalSetEventBuilder#events with only non-affecting entries is expected to be empty","status":"passed","file_path":"./spec/models/capital_allowances/journal_set_event_builder_spec.rb","line_number":43,"run_time":0.151535101,"pending_message":null,"screenshot":null},{"id":"./spec/models/capital_allowances/journal_set_event_builder_spec.rb[1:1:2:1:1]","description":"is expected to match mapped ca events [CapitalAllowances::Events::Purchase, #\u003cJournalSet id: 5, company_id: 895398064, dated_on: \"2008-03-3...5 10:01:35.000000000 +0000\", tag: nil\u003e, Mon, 31 Mar 2008, \"first_year_allowance\", \"main_pool\", 1000]","full_description":"CapitalAllowances::JournalSetEventBuilder#events with purchase entries before the introduction of AIA is expected to match mapped ca events [CapitalAllowances::Events::Purchase, #\u003cJournalSet id: 5, company_id: 895398064, dated_on: \"2008-03-3...5 10:01:35.000000000 +0000\", tag: nil\u003e, Mon, 31 Mar 2008, \"first_year_allowance\", \"main_pool\", 1000]","status":"passed","file_path":"./spec/models/capital_allowances/journal_set_event_builder_spec.rb","line_number":53,"run_time":0.14343465,"pending_message":null,"screenshot":null},{"id":"./spec/models/capital_allowances/journal_set_event_builder_spec.rb[1:1:2:1:2:1]","description":"calculates multiple purchase effects","full_description":"CapitalAllowances::JournalSetEventBuilder#events with purchase entries before the introduction of AIA in multiple categories calculates multiple purchase effects","status":"passed","file_path":"./spec/models/capital_allowances/journal_set_event_builder_spec.rb","line_number":61,"run_time":0.182872967,"pending_message":null,"screenshot":null},{"id":"./spec/models/capital_allowances/journal_set_event_builder_spec.rb[1:1:2:2:1]","description":"is expected to match mapped ca events [CapitalAllowances::Events::Purchase, #\u003cJournalSet id: 7, company_id: 895398066, dated_on: \"2008-04-0...:35.000000000 +0000\", tag: nil\u003e, Tue, 01 Apr 2008, \"annual_investment_allowance\", \"main_pool\", 1000]","full_description":"CapitalAllowances::JournalSetEventBuilder#events with purchase entries on or after the introduction of AIA is expected to match mapped ca events [CapitalAllowances::Events::Purchase, #\u003cJournalSet id: 7, company_id: 895398066, dated_on: \"2008-04-0...:35.000000000 +0000\", tag: nil\u003e, Tue, 01 Apr 2008, \"annual_investment_allowance\", \"main_pool\", 1000]","status":"passed","file_path":"./spec/models/capital_allowances/journal_set_event_builder_spec.rb","line_number":76,"run_time":0.152593096,"pending_message":null,"screenshot":null},{"id":"./spec/models/capital_allowances/journal_set_event_builder_spec.rb[1:1:2:2:2:1]","description":"calculates multiple purchase effects","full_description":"CapitalAllowances::JournalSetEventBuilder#events with purchase entries on or after the introduction of AIA in multiple categories calculates multiple purchase effects","status":"passed","file_path":"./spec/models/capital_allowances/journal_set_event_builder_spec.rb","line_number":84,"run_time":0.175459055,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/requests/delink_account_spec.rb[1:1:1:1:1]","description":"is overridden with a different endpoint scheme","full_description":"Tyl::Requests::DelinkAccount behaves like an API request to a Tyl Customer endpoint #url when communicating with the MVP API is overridden with a different endpoint scheme","status":"passed","file_path":"./spec/support/shared_examples/tyl.rb","line_number":40,"run_time":0.114892412,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/requests/delink_account_spec.rb[1:1:1:2:1]","description":"includes the customer id","full_description":"Tyl::Requests::DelinkAccount behaves like an API request to a Tyl Customer endpoint #url when communicating with the v2 API includes the customer id","status":"passed","file_path":"./spec/support/shared_examples/tyl.rb","line_number":46,"run_time":0.096405131,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/requests/delink_account_spec.rb[1:2:1:1]","description":"is expected to eq :post","full_description":"Tyl::Requests::DelinkAccount when communicating with the MVP API #request_method is expected to eq :post","status":"passed","file_path":"./spec/integrations/tyl/requests/delink_account_spec.rb","line_number":21,"run_time":0.113086752,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/requests/delink_account_spec.rb[1:2:2:1]","description":"is expected to eq \"{\\\"tylCustomerId\\\":null}\"","full_description":"Tyl::Requests::DelinkAccount when communicating with the MVP API #payload is expected to eq \"{\\\"tylCustomerId\\\":null}\"","status":"passed","file_path":"./spec/integrations/tyl/requests/delink_account_spec.rb","line_number":31,"run_time":0.100777806,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/requests/delink_account_spec.rb[1:2:3:1]","description":"is expected to eq {}","full_description":"Tyl::Requests::DelinkAccount when communicating with the MVP API #params is expected to eq {}","status":"passed","file_path":"./spec/integrations/tyl/requests/delink_account_spec.rb","line_number":37,"run_time":0.110650021,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/requests/delink_account_spec.rb[1:3:1:1]","description":"is expected to eq :delete","full_description":"Tyl::Requests::DelinkAccount when communicating with the v2 API #request_method is expected to eq :delete","status":"passed","file_path":"./spec/integrations/tyl/requests/delink_account_spec.rb","line_number":45,"run_time":0.175564439,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/requests/delink_account_spec.rb[1:3:2:1]","description":"is expected to be blank","full_description":"Tyl::Requests::DelinkAccount when communicating with the v2 API #payload is expected to be blank","status":"passed","file_path":"./spec/integrations/tyl/requests/delink_account_spec.rb","line_number":51,"run_time":0.107794025,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/requests/delink_account_spec.rb[1:3:3:1]","description":"is expected to eq {:authorisationId=\u003e\"NTllZWE1MTEtYTA5YS00N2Q2LWI0MmYtNWRlYmVhY2QxMDEw\"}","full_description":"Tyl::Requests::DelinkAccount when communicating with the v2 API #params is expected to eq {:authorisationId=\u003e\"NTllZWE1MTEtYTA5YS00N2Q2LWI0MmYtNWRlYmVhY2QxMDEw\"}","status":"passed","file_path":"./spec/integrations/tyl/requests/delink_account_spec.rb","line_number":57,"run_time":0.106552835,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:50:2:2]","description":"is included in the with_active_reminders named scope","full_description":"Invoice An invoice configured to send reminders in Scheduled state is included in the with_active_reminders named scope","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":1204,"run_time":0.200222828,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:2:2:1:1:1]","description":"which is still in draft","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the invoice accounting basis on the Flat Rate Scheme (at 5%) Invoices Given a native currency invoice with 3 line items in 2 categories which is still in draft","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":4247,"run_time":0.627757927,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/company_confirmation_helper_spec.rb[1:1:1:1]","description":"is expected to have visible css \".fe-NoticeV2 h2\" with text \"Let's just confirm your email address\"","full_description":"CompanyConfirmationHelper.render_notice_if_unconfirmed when unconfirmed is expected to have visible css \".fe-NoticeV2 h2\" with text \"Let's just confirm your email address\"","status":"passed","file_path":"./spec/helpers/company_confirmation_helper_spec.rb","line_number":17,"run_time":0.097053918,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/company_confirmation_helper_spec.rb[1:1:1:2]","description":"renders the partial with the default action","full_description":"CompanyConfirmationHelper.render_notice_if_unconfirmed when unconfirmed renders the partial with the default action","status":"passed","file_path":"./spec/helpers/company_confirmation_helper_spec.rb","line_number":19,"run_time":0.101351776,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/company_confirmation_helper_spec.rb[1:1:1:3]","description":"renders the partial with some action","full_description":"CompanyConfirmationHelper.render_notice_if_unconfirmed when unconfirmed renders the partial with some action","status":"passed","file_path":"./spec/helpers/company_confirmation_helper_spec.rb","line_number":23,"run_time":0.116461796,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/company_confirmation_helper_spec.rb[1:1:2:1]","description":"is expected not to have visible css \".fe-NoticeV2 h2\" with text \"Let's just confirm your email address\"","full_description":"CompanyConfirmationHelper.render_notice_if_unconfirmed when confirmed is expected not to have visible css \".fe-NoticeV2 h2\" with text \"Let's just confirm your email address\"","status":"passed","file_path":"./spec/helpers/company_confirmation_helper_spec.rb","line_number":30,"run_time":0.120310479,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/company_confirmation_helper_spec.rb[1:2:1:1]","description":"renders the actionable notice","full_description":"CompanyConfirmationHelper.render_company_confirmation_notice for the account owner renders the actionable notice","status":"passed","file_path":"./spec/helpers/company_confirmation_helper_spec.rb","line_number":41,"run_time":0.018595374,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/company_confirmation_helper_spec.rb[1:2:2:1]","description":"renders the non actionable notice","full_description":"CompanyConfirmationHelper.render_company_confirmation_notice for a non account owner renders the non actionable notice","status":"passed","file_path":"./spec/helpers/company_confirmation_helper_spec.rb","line_number":51,"run_time":0.03945157,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/company_confirmation_helper_spec.rb[1:2:3:1]","description":"renders the non actionable notice","full_description":"CompanyConfirmationHelper.render_company_confirmation_notice for an account manager renders the non actionable notice","status":"passed","file_path":"./spec/helpers/company_confirmation_helper_spec.rb","line_number":62,"run_time":0.226119639,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/overview/_health_robinson_details.html.erb_spec.rb[1:1:1:1]","description":"confirms that no health check has been performed","full_description":"admin/companies/overview/_health_robinson_details the current admin user has the permissions to view Health Robinson details the company has not been health checked confirms that no health check has been performed","status":"passed","file_path":"./spec/views/admin/companies/overview/_health_robinson_details.html.erb_spec.rb","line_number":21,"run_time":0.088580584,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/overview/_health_robinson_details.html.erb_spec.rb[1:1:2:1]","description":"displays the date of the latest health check","full_description":"admin/companies/overview/_health_robinson_details the current admin user has the permissions to view Health Robinson details the company has been health checked displays the date of the latest health check","status":"passed","file_path":"./spec/views/admin/companies/overview/_health_robinson_details.html.erb_spec.rb","line_number":33,"run_time":0.095609136,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/overview/_health_robinson_details.html.erb_spec.rb[1:1:3:1]","description":"shows that the company is not automatically health checked","full_description":"admin/companies/overview/_health_robinson_details the current admin user has the permissions to view Health Robinson details the company is not automatically health checked shows that the company is not automatically health checked","status":"passed","file_path":"./spec/views/admin/companies/overview/_health_robinson_details.html.erb_spec.rb","line_number":43,"run_time":0.071916716,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/overview/_health_robinson_details.html.erb_spec.rb[1:1:4:1]","description":"shows that the company is automatically health checked","full_description":"admin/companies/overview/_health_robinson_details the current admin user has the permissions to view Health Robinson details the company is automatically health checked shows that the company is automatically health checked","status":"passed","file_path":"./spec/views/admin/companies/overview/_health_robinson_details.html.erb_spec.rb","line_number":53,"run_time":0.076492039,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/overview/_health_robinson_details.html.erb_spec.rb[1:1:5:1]","description":"renders the Health Robinson card with green tick icon in the title","full_description":"admin/companies/overview/_health_robinson_details the current admin user has the permissions to view Health Robinson details there are no open Health Robinson failures for the company renders the Health Robinson card with green tick icon in the title","status":"passed","file_path":"./spec/views/admin/companies/overview/_health_robinson_details.html.erb_spec.rb","line_number":62,"run_time":0.075545966,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/overview/_health_robinson_details.html.erb_spec.rb[1:1:5:2]","description":"renders a link to the Health Robinson page","full_description":"admin/companies/overview/_health_robinson_details the current admin user has the permissions to view Health Robinson details there are no open Health Robinson failures for the company renders a link to the Health Robinson page","status":"passed","file_path":"./spec/views/admin/companies/overview/_health_robinson_details.html.erb_spec.rb","line_number":69,"run_time":0.08739675,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/overview/_health_robinson_details.html.erb_spec.rb[1:1:6:1]","description":"renders the Health Robinson card with red exclamation mark icon in the title","full_description":"admin/companies/overview/_health_robinson_details the current admin user has the permissions to view Health Robinson details there are open Health Robinson failure for the company renders the Health Robinson card with red exclamation mark icon in the title","status":"passed","file_path":"./spec/views/admin/companies/overview/_health_robinson_details.html.erb_spec.rb","line_number":79,"run_time":0.101604996,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/overview/_health_robinson_details.html.erb_spec.rb[1:2:1]","description":"does not render the Health Robinson details card","full_description":"admin/companies/overview/_health_robinson_details the current admin user does not have permissions to view Health Robinson details does not render the Health Robinson details card","status":"passed","file_path":"./spec/views/admin/companies/overview/_health_robinson_details.html.erb_spec.rb","line_number":93,"run_time":0.09886939,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[4:8]","description":"GET on :show for an invoice with emails","full_description":"InvoicesController GET :show for uk company GET on :show for an invoice with emails","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":592,"run_time":0.580954449,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/feature_modal_helper_spec.rb[1:1]","description":"a feature_modal without a display method","full_description":"FeatureModalHelper a feature_modal without a display method","status":"passed","file_path":"./spec/helpers/feature_modal_helper_spec.rb","line_number":15,"run_time":0.016717113,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/feature_modal_helper_spec.rb[1:2]","description":"a feature modal for a user who just setup her company","full_description":"FeatureModalHelper a feature modal for a user who just setup her company","status":"passed","file_path":"./spec/helpers/feature_modal_helper_spec.rb","line_number":19,"run_time":0.009281627,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/feature_modal_helper_spec.rb[1:5]","description":"a feature_modal without a satisfied display method","full_description":"FeatureModalHelper a feature_modal without a satisfied display method","status":"passed","file_path":"./spec/helpers/feature_modal_helper_spec.rb","line_number":61,"run_time":0.009350651,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/feature_modal_helper_spec.rb[1:6]","description":"a feature modal for a subscription that has been marked as read-only","full_description":"FeatureModalHelper a feature modal for a subscription that has been marked as read-only","status":"passed","file_path":"./spec/helpers/feature_modal_helper_spec.rb","line_number":66,"run_time":0.009695371,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/feature_modal_helper_spec.rb[1:3:1]","description":"creates a feature_modal div with the given class","full_description":"FeatureModalHelper a feature_modal with a satisfied display method creates a feature_modal div with the given class","status":"passed","file_path":"./spec/helpers/feature_modal_helper_spec.rb","line_number":32,"run_time":0.016468263,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/feature_modal_helper_spec.rb[1:3:2]","description":"wraps the given markup in a feature_modal div","full_description":"FeatureModalHelper a feature_modal with a satisfied display method wraps the given markup in a feature_modal div","status":"passed","file_path":"./spec/helpers/feature_modal_helper_spec.rb","line_number":36,"run_time":0.011220406,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/feature_modal_helper_spec.rb[1:3:3]","description":"defaults to a modal_width of 840","full_description":"FeatureModalHelper a feature_modal with a satisfied display method defaults to a modal_width of 840","status":"passed","file_path":"./spec/helpers/feature_modal_helper_spec.rb","line_number":40,"run_time":0.010950942,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/feature_modal_helper_spec.rb[1:3:4]","description":"applies custom CSS classes when supplied","full_description":"FeatureModalHelper a feature_modal with a satisfied display method applies custom CSS classes when supplied","status":"passed","file_path":"./spec/helpers/feature_modal_helper_spec.rb","line_number":44,"run_time":0.011007643,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/feature_modal_helper_spec.rb[1:4:1]","description":"shows modals","full_description":"FeatureModalHelper when a company is bcsg shows modals","status":"passed","file_path":"./spec/helpers/feature_modal_helper_spec.rb","line_number":54,"run_time":0.113223203,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/fapd/client_imports/show.html.erb_spec.rb[1:1]","description":"renders the show view with the import items","full_description":"admin/fapd/client_imports/show renders the show view with the import items","status":"passed","file_path":"./spec/views/admin/fapd/client_imports/show.html.erb_spec.rb","line_number":12,"run_time":0.310433406,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:2:1:1:2:1]","description":"which is still in draft","full_description":"UkAccountsMapper Accounts Mapper for UK companies who have applied for VAT registration before their registration effective date Invoices Given a foreign currency invoice (exchange rate 2:1) with 3 line items in 2 categories which is still in draft","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":805,"run_time":0.314419887,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:2:2:2:4]","description":"representing business entertaining admin expense","full_description":"UkAccountsMapper Accounts Mapper for UK companies who have applied for VAT registration after their registration effective date Bank Account Entries representing business entertaining admin expense","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":1648,"run_time":0.205577868,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/purchased.feature[1:1:1]","description":"Given a uk sole trader -\u003e And a capital asset: purchased -\u003e Given VAT settings: Not registered -\u003e Then it does not appear on the VAT return report -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase No VAT Given a uk sole trader -\u003e And a capital asset: purchased -\u003e Given VAT settings: Not registered -\u003e Then it does not appear on the VAT return report -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/purchased.feature","line_number":7,"run_time":0.019158867,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/purchased.feature[1:2:1]","description":"Given a uk sole trader -\u003e And a capital asset: purchased -\u003e Given VAT settings: Any basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase No VAT Given a uk sole trader -\u003e And a capital asset: purchased -\u003e Given VAT settings: Any basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/purchased.feature","line_number":7,"run_time":0.013653234,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/purchased.feature[1:3:1]","description":"Given a uk sole trader -\u003e And a capital asset: purchased -\u003e Given VAT settings: Any basis, FRS, then Any basis, not FRS -\u003e Then it does not appear on the VAT return report -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase No VAT Given a uk sole trader -\u003e And a capital asset: purchased -\u003e Given VAT settings: Any basis, FRS, then Any basis, not FRS -\u003e Then it does not appear on the VAT return report -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/purchased.feature","line_number":7,"run_time":0.018939565,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/purchased.feature[1:4:1]","description":"Given a uk sole trader -\u003e And a capital asset: purchased -\u003e Given VAT settings: Any basis, FRS, then Any basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase No VAT Given a uk sole trader -\u003e And a capital asset: purchased -\u003e Given VAT settings: Any basis, FRS, then Any basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/purchased.feature","line_number":7,"run_time":0.01347841,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/purchased.feature[1:5:1]","description":"Given a uk sole trader -\u003e And a capital asset: purchased -\u003e Given VAT settings: Any basis, FRS, then de-registered -\u003e Then it does not appear on the VAT return report -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase No VAT Given a uk sole trader -\u003e And a capital asset: purchased -\u003e Given VAT settings: Any basis, FRS, then de-registered -\u003e Then it does not appear on the VAT return report -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/purchased.feature","line_number":7,"run_time":0.014678541,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/purchased.feature[1:6:1]","description":"Given a uk sole trader -\u003e And a capital asset: purchased -\u003e Given VAT settings: Not registered, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase VAT reclaimed on registration with depreciation adjustment Given a uk sole trader -\u003e And a capital asset: purchased -\u003e Given VAT settings: Not registered, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/purchased.feature","line_number":28,"run_time":0.015003929,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/purchased.feature[1:7:1]","description":"Given a uk sole trader -\u003e And a capital asset: purchased -\u003e Given VAT settings: Not registered, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase VAT reclaimed on registration with depreciation adjustment Given a uk sole trader -\u003e And a capital asset: purchased -\u003e Given VAT settings: Not registered, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/purchased.feature","line_number":28,"run_time":0.014302971,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/purchased.feature[1:8:1]","description":"Given a uk sole trader -\u003e And a capital asset: purchased -\u003e Given VAT settings: Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase VAT reclaimed on purchase date Given a uk sole trader -\u003e And a capital asset: purchased -\u003e Given VAT settings: Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/purchased.feature","line_number":52,"run_time":0.013869942,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/purchased.feature[1:9:1]","description":"Given a uk sole trader -\u003e And a capital asset: purchased -\u003e Given VAT settings: Any basis, not FRS, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase VAT reclaimed on purchase date Given a uk sole trader -\u003e And a capital asset: purchased -\u003e Given VAT settings: Any basis, not FRS, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/purchased.feature","line_number":52,"run_time":0.014213053,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/purchased.feature[1:10:1]","description":"Given a uk sole trader -\u003e And a capital asset: purchased -\u003e Given VAT settings: Any basis, not FRS, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase VAT reclaimed on purchase date Given a uk sole trader -\u003e And a capital asset: purchased -\u003e Given VAT settings: Any basis, not FRS, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/purchased.feature","line_number":52,"run_time":0.019020719,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/purchased.feature[1:11:1]","description":"Given a uk sole trader -\u003e And a capital asset: purchased -\u003e Given VAT settings: Any basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","full_description":"Capital asset purchase VAT reclaimed on purchase date Given a uk sole trader -\u003e And a capital asset: purchased -\u003e Given VAT settings: Any basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for either accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/capital_assets/purchased.feature","line_number":52,"run_time":0.014603501,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/import_warning_spec.rb[1:1:1:1]","description":"should generate a warning","full_description":"BankFeeds::ImportWarning#uploaded_transaction_warnings when uploaded transactions exist should generate a warning","status":"passed","file_path":"./spec/models/bank_feeds/import_warning_spec.rb","line_number":18,"run_time":0.08741355,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/import_warning_spec.rb[1:1:2:1]","description":"should not generate any warnings","full_description":"BankFeeds::ImportWarning#uploaded_transaction_warnings when no transactions exist should not generate any warnings","status":"passed","file_path":"./spec/models/bank_feeds/import_warning_spec.rb","line_number":26,"run_time":0.068871102,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/import_warning_spec.rb[1:2:1]","description":"should not generate any warnings","full_description":"BankFeeds::ImportWarning when a manual transaction exists should not generate any warnings","status":"passed","file_path":"./spec/models/bank_feeds/import_warning_spec.rb","line_number":37,"run_time":0.075614263,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/import_warning_spec.rb[1:3:1:1]","description":"should generate a warning","full_description":"BankFeeds::ImportWarning#deleted_transaction_warnings when one or more blocked bank transactions exist should generate a warning","status":"passed","file_path":"./spec/models/bank_feeds/import_warning_spec.rb","line_number":48,"run_time":0.078699268,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/import_warning_spec.rb[1:3:2:1]","description":"should not generate any warnings","full_description":"BankFeeds::ImportWarning#deleted_transaction_warnings when non-deleted, bank feed transactions exist should not generate any warnings","status":"passed","file_path":"./spec/models/bank_feeds/import_warning_spec.rb","line_number":60,"run_time":0.064931391,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:129:2:1]","description":"returns a payment calculator which we can work on whilst developing credit note payments","full_description":"Invoice#payment_calculator with credit_note_reconciliations feature switch enabled for a company returns a payment calculator which we can work on whilst developing credit note payments","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":3961,"run_time":0.316387612,"pending_message":null,"screenshot":null}],"summary":{"duration":1.921522601,"example_count":270,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"270 examples, 0 failures"}