{"version":"3.11.0","messages":["Run options:\n  include {:ids=\u003e{\"./spec/models/invoice_spec.rb\"=\u003e[\"1:69:3:1:1\", \"1:109:3:1\"], \"./spec/models/uk_accounts_mapper_spec.rb\"=\u003e[\"1:2:2:4:3\"], \"./spec/controllers/invoices_controller_spec.rb\"=\u003e[\"29:1:7\", \"23:5:1\"]}}\n  exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/features/accounting/aged_creditors_report_spec.rb[1:1]","description":"default report with todays date, everything should be expanded, details collapsible","full_description":"Aged Creditors Report default report with todays date, everything should be expanded, details collapsible","status":"passed","file_path":"./spec/features/accounting/aged_creditors_report_spec.rb","line_number":14,"run_time":17.164431611,"pending_message":null,"screenshot":null},{"id":"./spec/features/accounting/aged_creditors_report_spec.rb[1:2]","description":"report with more than the maximum number of entries, show summary by default, details expandable","full_description":"Aged Creditors Report report with more than the maximum number of entries, show summary by default, details expandable","status":"passed","file_path":"./spec/features/accounting/aged_creditors_report_spec.rb","line_number":125,"run_time":8.960216683,"pending_message":null,"screenshot":null},{"id":"./spec/features/accounting/aged_creditors_report_spec.rb[1:3]","description":"report at custom date","full_description":"Aged Creditors Report report at custom date","status":"passed","file_path":"./spec/features/accounting/aged_creditors_report_spec.rb","line_number":196,"run_time":3.541254088,"pending_message":null,"screenshot":null},{"id":"./spec/features/accounting/aged_creditors_report_spec.rb[1:4]","description":"CSV Export of report - it should always show all clients and invoices","full_description":"Aged Creditors Report CSV Export of report - it should always show all clients and invoices","status":"passed","file_path":"./spec/features/accounting/aged_creditors_report_spec.rb","line_number":282,"run_time":9.447568684,"pending_message":null,"screenshot":null},{"id":"./spec/features/accounting/aged_creditors_report_spec.rb[1:5]","description":"PDF Export of report","full_description":"Aged Creditors Report PDF Export of report","status":"passed","file_path":"./spec/features/accounting/aged_creditors_report_spec.rb","line_number":411,"run_time":3.131948515,"pending_message":null,"screenshot":null},{"id":"./spec/features/accounting/aged_creditors_report_spec.rb[1:6]","description":"PDF Export of report when not showing details","full_description":"Aged Creditors Report PDF Export of report when not showing details","status":"passed","file_path":"./spec/features/accounting/aged_creditors_report_spec.rb","line_number":428,"run_time":3.108837499,"pending_message":null,"screenshot":null},{"id":"./spec/features/accounting/comparative_profit_and_loss_spec.rb[1:1]","description":"you can compare different yearly accounting periods on the comparative report","full_description":"Comparative Profit and Loss Report you can compare different yearly accounting periods on the comparative report","status":"passed","file_path":"./spec/features/accounting/comparative_profit_and_loss_spec.rb","line_number":16,"run_time":3.417642515,"pending_message":null,"screenshot":null},{"id":"./spec/features/accounting/comparative_profit_and_loss_spec.rb[1:2]","description":"you can compare different quarterly accounting periods on the comparative report","full_description":"Comparative Profit and Loss Report you can compare different quarterly accounting periods on the comparative report","status":"passed","file_path":"./spec/features/accounting/comparative_profit_and_loss_spec.rb","line_number":154,"run_time":2.986145217,"pending_message":null,"screenshot":null},{"id":"./spec/features/accounting/comparative_profit_and_loss_spec.rb[1:3]","description":"you can compare different custom accounting periods on the comparative report","full_description":"Comparative Profit and Loss Report you can compare different custom accounting periods on the comparative report","status":"passed","file_path":"./spec/features/accounting/comparative_profit_and_loss_spec.rb","line_number":251,"run_time":3.561214112,"pending_message":null,"screenshot":null},{"id":"./spec/features/accounting/comparative_profit_and_loss_spec.rb[1:4]","description":"download comparative profit and loss report as csv","full_description":"Comparative Profit and Loss Report download comparative profit and loss report as csv","status":"passed","file_path":"./spec/features/accounting/comparative_profit_and_loss_spec.rb","line_number":331,"run_time":2.857051611,"pending_message":null,"screenshot":null},{"id":"./spec/features/accounting/comparative_profit_and_loss_spec.rb[1:5]","description":"download comparative profit and loss report as pdf","full_description":"Comparative Profit and Loss Report download comparative profit and loss report as pdf","status":"passed","file_path":"./spec/features/accounting/comparative_profit_and_loss_spec.rb","line_number":382,"run_time":3.13857535,"pending_message":null,"screenshot":null},{"id":"./spec/features/accounting/comparative_profit_and_loss_spec.rb[1:7]","description":"it remembers the previous comparative profit and loss report options and restores them when you come back to the page","full_description":"Comparative Profit and Loss Report it remembers the previous comparative profit and loss report options and restores them when you come back to the page","status":"passed","file_path":"./spec/features/accounting/comparative_profit_and_loss_spec.rb","line_number":447,"run_time":3.771206105,"pending_message":null,"screenshot":null},{"id":"./spec/features/accounting/comparative_profit_and_loss_spec.rb[1:6:1]","description":"when viewing a yearly report, a warning is displayed instead of a comparison","full_description":"Comparative Profit and Loss Report when the company only has insufficient accounting periods when viewing a yearly report, a warning is displayed instead of a comparison","status":"passed","file_path":"./spec/features/accounting/comparative_profit_and_loss_spec.rb","line_number":409,"run_time":0.818673821,"pending_message":null,"screenshot":null},{"id":"./spec/features/accounting/comparative_profit_and_loss_spec.rb[1:6:2]","description":"when viewing a quarterly report, a warning is displayed instead of a comparison","full_description":"Comparative Profit and Loss Report when the company only has insufficient accounting periods when viewing a quarterly report, a warning is displayed instead of a comparison","status":"passed","file_path":"./spec/features/accounting/comparative_profit_and_loss_spec.rb","line_number":418,"run_time":1.194753476,"pending_message":null,"screenshot":null},{"id":"./spec/features/accounting/comparative_profit_and_loss_spec.rb[1:6:3]","description":"when viewing a custom report, a warning is displayed instead of a comparison","full_description":"Comparative Profit and Loss Report when the company only has insufficient accounting periods when viewing a custom report, a warning is displayed instead of a comparison","status":"passed","file_path":"./spec/features/accounting/comparative_profit_and_loss_spec.rb","line_number":430,"run_time":1.579974481,"pending_message":null,"screenshot":null},{"id":"./spec/features/accounting/comparative_profit_and_loss_spec.rb[1:8:1]","description":"a warning is shown","full_description":"Comparative Profit and Loss Report when there are unexplained transactions a warning is shown","status":"passed","file_path":"./spec/features/accounting/comparative_profit_and_loss_spec.rb","line_number":492,"run_time":2.460542975,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb[1:1:1]","description":"separates out positive and negative contributions","full_description":"Accounting::CorporationTax::Computations::CapitalAllowances#additions and #subtractions separates out positive and negative contributions","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb","line_number":65,"run_time":0.316310057,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb[1:1:2]","description":"does not count disposal rounding as an addition","full_description":"Accounting::CorporationTax::Computations::CapitalAllowances#additions and #subtractions does not count disposal rounding as an addition","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb","line_number":77,"run_time":0.318856211,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb[1:2:1]","description":"gives 0 if there are no capital asset purchases during this corporation tax period","full_description":"Accounting::CorporationTax::Computations::CapitalAllowances#annual_investment_allowances and #purchases_qualifying_for_aia gives 0 if there are no capital asset purchases during this corporation tax period","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb","line_number":88,"run_time":0.566306961,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb[1:2:2]","description":"gives total annual investment allowances this year","full_description":"Accounting::CorporationTax::Computations::CapitalAllowances#annual_investment_allowances and #purchases_qualifying_for_aia gives total annual investment allowances this year","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb","line_number":95,"run_time":0.807923168,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb[1:3:1]","description":"gives 0 if there is nothing in the asset pool","full_description":"Accounting::CorporationTax::Computations::CapitalAllowances#writing_down_allowance, #small_pool_allowances, #balancing_charges,\n    #purchases_qualifying_for_wda and #disposals gives 0 if there is nothing in the asset pool","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb","line_number":108,"run_time":0.333400281,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb[1:3:5]","description":"splits writing down amounts between pools","full_description":"Accounting::CorporationTax::Computations::CapitalAllowances#writing_down_allowance, #small_pool_allowances, #balancing_charges,\n    #purchases_qualifying_for_wda and #disposals splits writing down amounts between pools","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb","line_number":175,"run_time":0.30705824,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb[1:3:6]","description":"counts disposals irrespective of their tax treatment","full_description":"Accounting::CorporationTax::Computations::CapitalAllowances#writing_down_allowance, #small_pool_allowances, #balancing_charges,\n    #purchases_qualifying_for_wda and #disposals counts disposals irrespective of their tax treatment","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb","line_number":184,"run_time":0.339776256,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb[1:3:2:1]","description":"gives the writing down amount","full_description":"Accounting::CorporationTax::Computations::CapitalAllowances#writing_down_allowance, #small_pool_allowances, #balancing_charges,\n    #purchases_qualifying_for_wda and #disposals when the pool is written down gives the writing down amount","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb","line_number":128,"run_time":0.338358618,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb[1:3:3:1]","description":"gives the small pool amount","full_description":"Accounting::CorporationTax::Computations::CapitalAllowances#writing_down_allowance, #small_pool_allowances, #balancing_charges,\n    #purchases_qualifying_for_wda and #disposals when the pool is small gives the small pool amount","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb","line_number":149,"run_time":0.300687562,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb[1:3:4:1]","description":"gives the balancing charge","full_description":"Accounting::CorporationTax::Computations::CapitalAllowances#writing_down_allowance, #small_pool_allowances, #balancing_charges,\n    #purchases_qualifying_for_wda and #disposals when the pool is negative gives the balancing charge","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb","line_number":168,"run_time":0.304378749,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb[1:4:1]","description":"is the sum of its parts","full_description":"Accounting::CorporationTax::Computations::CapitalAllowances#purchases_not_qualifying_for_fya is the sum of its parts","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb","line_number":196,"run_time":0.324932832,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb[1:5:1]","description":"includes SRA and SD when calling #total_allowances","full_description":"Accounting::CorporationTax::Computations::CapitalAllowances#total_allowances and #total_allowances_excluding_sra_and_sd includes SRA and SD when calling #total_allowances","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb","line_number":219,"run_time":0.320273113,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb[1:5:2]","description":"omits SRA and SD when calling #total_allowances_excluding_sra_and_sd","full_description":"Accounting::CorporationTax::Computations::CapitalAllowances#total_allowances and #total_allowances_excluding_sra_and_sd omits SRA and SD when calling #total_allowances_excluding_sra_and_sd","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb","line_number":229,"run_time":0.36494637,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb[1:6:1]","description":"separates out the types","full_description":"Accounting::CorporationTax::Computations::CapitalAllowances balancing charge types separates out the types","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb","line_number":247,"run_time":0.313840564,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb[1:6:2:1]","description":"does not separate out the types","full_description":"Accounting::CorporationTax::Computations::CapitalAllowances balancing charge types in version 1 does not separate out the types","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb","line_number":257,"run_time":0.322576834,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb[1:7:1]","description":"is the allowances minus the balancing charges","full_description":"Accounting::CorporationTax::Computations::CapitalAllowances#total_allowances_and_charges is the allowances minus the balancing charges","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb","line_number":267,"run_time":0.313930805,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb[1:8:1]","description":"is 0 if the opening asset pool value is 0 and there were no capital asset purchases","full_description":"Accounting::CorporationTax::Computations::CapitalAllowances#closing_pool_values is 0 if the opening asset pool value is 0 and there were no capital asset purchases","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb","line_number":283,"run_time":0.290366507,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb[1:8:2:1]","description":"is the opening asset pool value, less the written down rate if there were no cap asset purchases","full_description":"Accounting::CorporationTax::Computations::CapitalAllowances#closing_pool_values when there is an opening balance is the opening asset pool value, less the written down rate if there were no cap asset purchases","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb","line_number":302,"run_time":0.314753592,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb[1:8:2:2]","description":"incorporates capital asset purchases and first year capital allowance residues","full_description":"Accounting::CorporationTax::Computations::CapitalAllowances#closing_pool_values when there is an opening balance incorporates capital asset purchases and first year capital allowance residues","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb","line_number":309,"run_time":0.331689789,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb[1:9:1]","description":"gives 0 if there are no capital asset purchases during this corporation tax period","full_description":"Accounting::CorporationTax::Computations::CapitalAllowances first year allowances and qualifying purchases gives 0 if there are no capital asset purchases during this corporation tax period","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb","line_number":326,"run_time":0.296678131,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb[1:9:2:1]","description":"is nil for all but the default type","full_description":"Accounting::CorporationTax::Computations::CapitalAllowances first year allowances and qualifying purchases in version 1 is nil for all but the default type","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb","line_number":340,"run_time":0.306972394,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb[1:9:3:1]","description":"gives total first year allowances this year","full_description":"Accounting::CorporationTax::Computations::CapitalAllowances first year allowances and qualifying purchases with some effects gives total first year allowances this year","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb","line_number":355,"run_time":0.346831373,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb[1:9:3:2:1]","description":"treats all first year allowances as the default type","full_description":"Accounting::CorporationTax::Computations::CapitalAllowances first year allowances and qualifying purchases with some effects in version 1 treats all first year allowances as the default type","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb","line_number":369,"run_time":0.326553472,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb[1:10:1]","description":"is the sum of FYA, AIA and pool adjustments","full_description":"Accounting::CorporationTax::Computations::CapitalAllowances#capital_allowances is the sum of FYA, AIA and pool adjustments","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb","line_number":395,"run_time":0.319797636,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb[1:11:1]","description":"serializes the computations","full_description":"Accounting::CorporationTax::Computations::CapitalAllowances#to_hash serializes the computations","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb","line_number":463,"run_time":0.300592547,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb[1:11:2]","description":"fits very comfortably in a standard 64k text column","full_description":"Accounting::CorporationTax::Computations::CapitalAllowances#to_hash fits very comfortably in a standard 64k text column","status":"passed","file_path":"./spec/models/accounting/corporation_tax/computations/capital_allowances_spec.rb","line_number":499,"run_time":0.325744816,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:1:1]","description":"is expected to respond with a success status code (2xx)","full_description":"MyDetailsController when logged in as an Employee GET :edit is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":31,"run_time":0.12905867,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:1:2]","description":"is expected to render template edit","full_description":"MyDetailsController when logged in as an Employee GET :edit is expected to render template edit","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":32,"run_time":0.096687305,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:1:3]","description":"assigns user","full_description":"MyDetailsController when logged in as an Employee GET :edit assigns user","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":34,"run_time":0.084665673,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:1:4]","description":"loads codes when 2FA is enabled","full_description":"MyDetailsController when logged in as an Employee GET :edit loads codes when 2FA is enabled","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":38,"run_time":0.157255083,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:1:5]","description":"loads the security notifications settings","full_description":"MyDetailsController when logged in as an Employee GET :edit loads the security notifications settings","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":44,"run_time":0.137539782,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:2:1]","description":"loads codes even if update fails","full_description":"MyDetailsController when logged in as an Employee PUT :update loads codes even if update fails","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":54,"run_time":0.117937568,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:2:2:1]","description":"flashes a success message","full_description":"MyDetailsController when logged in as an Employee PUT :update with valid attributes flashes a success message","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":67,"run_time":0.081147912,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:2:2:2]","description":"updates the current user's details","full_description":"MyDetailsController when logged in as an Employee PUT :update with valid attributes updates the current user's details","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":71,"run_time":0.069132695,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:2:3:1]","description":"send a notification email","full_description":"MyDetailsController when logged in as an Employee PUT :update with valid email parameters send a notification email","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":79,"run_time":0.072523936,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:2:3:2]","description":"sends an event to Sqreen","full_description":"MyDetailsController when logged in as an Employee PUT :update with valid email parameters sends an event to Sqreen","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":93,"run_time":0.075131303,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:2:3:3]","description":"revokes other user sessions","full_description":"MyDetailsController when logged in as an Employee PUT :update with valid email parameters revokes other user sessions","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":108,"run_time":0.068070263,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:2:3:4]","description":"invalidates any password reset requests","full_description":"MyDetailsController when logged in as an Employee PUT :update with valid email parameters invalidates any password reset requests","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":119,"run_time":0.084794006,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:2:4:1]","description":"updates the details without an email validation check","full_description":"MyDetailsController when logged in as an Employee PUT :update email address hasn't changed updates the details without an email validation check","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":132,"run_time":0.094773124,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:2:5:1]","description":"displays error messages","full_description":"MyDetailsController when logged in as an Employee PUT :update with debounce rejecting the email parameters displays error messages","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":154,"run_time":0.107156676,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:2:5:2]","description":"does not update the current user's details","full_description":"MyDetailsController when logged in as an Employee PUT :update with debounce rejecting the email parameters does not update the current user's details","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":160,"run_time":0.108788391,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:2:5:3]","description":"will not send notification emails","full_description":"MyDetailsController when logged in as an Employee PUT :update with debounce rejecting the email parameters will not send notification emails","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":164,"run_time":0.137245133,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:2:6:1]","description":"displays error messages","full_description":"MyDetailsController when logged in as an Employee PUT :update with a banned email address displays error messages","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":179,"run_time":0.102706852,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:2:6:2]","description":"does not update the current user's details","full_description":"MyDetailsController when logged in as an Employee PUT :update with a banned email address does not update the current user's details","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":185,"run_time":0.101218327,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:2:6:3]","description":"will not send notification emails","full_description":"MyDetailsController when logged in as an Employee PUT :update with a banned email address will not send notification emails","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":189,"run_time":0.095824437,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:2:7:1]","description":"updates the current user's details","full_description":"MyDetailsController when logged in as an Employee PUT :update with valid password parameters updates the current user's details","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":198,"run_time":0.07351853,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:2:7:2]","description":"revokes other user sessions when password has been changed","full_description":"MyDetailsController when logged in as an Employee PUT :update with valid password parameters revokes other user sessions when password has been changed","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":209,"run_time":0.081855745,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:2:7:3]","description":"sends a notification email that the password has changed","full_description":"MyDetailsController when logged in as an Employee PUT :update with valid password parameters sends a notification email that the password has changed","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":229,"run_time":0.073807746,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:2:7:4]","description":"invalidates any password reset requests","full_description":"MyDetailsController when logged in as an Employee PUT :update with valid password parameters invalidates any password reset requests","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":244,"run_time":0.082546471,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:2:8:1]","description":"updates the user's preference","full_description":"MyDetailsController when logged in as an Employee PUT :update with security notification settings parameters updates the user's preference","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":263,"run_time":0.068289523,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:2:8:2]","description":"keeps the user selected value on update failures","full_description":"MyDetailsController when logged in as an Employee PUT :update with security notification settings parameters keeps the user selected value on update failures","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":271,"run_time":0.106165458,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:2:9:1]","description":"is expected to respond with a success status code (2xx)","full_description":"MyDetailsController when logged in as an Employee PUT :update with invalid parameters is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":287,"run_time":0.100102918,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:2:9:2]","description":"does not flash a message","full_description":"MyDetailsController when logged in as an Employee PUT :update with invalid parameters does not flash a message","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":289,"run_time":0.104822855,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:2:9:3]","description":"displays error messages","full_description":"MyDetailsController when logged in as an Employee PUT :update with invalid parameters displays error messages","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":293,"run_time":0.11555912,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:2:9:4]","description":"does not update the current user's details","full_description":"MyDetailsController when logged in as an Employee PUT :update with invalid parameters does not update the current user's details","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":302,"run_time":0.103323178,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:2:9:5]","description":"will not send notification emails","full_description":"MyDetailsController when logged in as an Employee PUT :update with invalid parameters will not send notification emails","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":306,"run_time":0.102401547,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:2:10:1]","description":"does not update the user permissions","full_description":"MyDetailsController when logged in as an Employee PUT :update with higher permission level than current user does not update the user permissions","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":312,"run_time":0.073509268,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:2:11:1]","description":"is expected to respond with a success status code (2xx)","full_description":"MyDetailsController when logged in as an Employee PUT :update with missing password information is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":326,"run_time":0.109760932,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:2:11:2]","description":"does not flash a message","full_description":"MyDetailsController when logged in as an Employee PUT :update with missing password information does not flash a message","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":328,"run_time":0.095116833,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:2:11:3]","description":"displays error messages","full_description":"MyDetailsController when logged in as an Employee PUT :update with missing password information displays error messages","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":332,"run_time":0.093112982,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:1:2:11:4]","description":"does not update the current user's details","full_description":"MyDetailsController when logged in as an Employee PUT :update with missing password information does not update the current user's details","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":339,"run_time":0.083357303,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:1:1]","description":"is expected to respond with a success status code (2xx)","full_description":"MyDetailsController when logged in as an Accountant GET :edit is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":31,"run_time":0.134020454,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:1:2]","description":"is expected to render template edit","full_description":"MyDetailsController when logged in as an Accountant GET :edit is expected to render template edit","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":32,"run_time":0.139737621,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:1:3]","description":"assigns user","full_description":"MyDetailsController when logged in as an Accountant GET :edit assigns user","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":34,"run_time":0.128481401,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:1:4]","description":"loads codes when 2FA is enabled","full_description":"MyDetailsController when logged in as an Accountant GET :edit loads codes when 2FA is enabled","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":38,"run_time":0.193958555,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:1:5]","description":"loads the security notifications settings","full_description":"MyDetailsController when logged in as an Accountant GET :edit loads the security notifications settings","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":44,"run_time":0.17204217,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:2:1]","description":"loads codes even if update fails","full_description":"MyDetailsController when logged in as an Accountant PUT :update loads codes even if update fails","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":54,"run_time":0.143810069,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:2:2:1]","description":"flashes a success message","full_description":"MyDetailsController when logged in as an Accountant PUT :update with valid attributes flashes a success message","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":67,"run_time":0.064671111,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:2:2:2]","description":"updates the current user's details","full_description":"MyDetailsController when logged in as an Accountant PUT :update with valid attributes updates the current user's details","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":71,"run_time":0.080304549,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:2:3:1]","description":"send a notification email","full_description":"MyDetailsController when logged in as an Accountant PUT :update with valid email parameters send a notification email","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":79,"run_time":0.091530147,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:2:3:2]","description":"sends an event to Sqreen","full_description":"MyDetailsController when logged in as an Accountant PUT :update with valid email parameters sends an event to Sqreen","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":93,"run_time":0.095729723,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:2:3:3]","description":"revokes other user sessions","full_description":"MyDetailsController when logged in as an Accountant PUT :update with valid email parameters revokes other user sessions","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":108,"run_time":0.078391692,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:2:3:4]","description":"invalidates any password reset requests","full_description":"MyDetailsController when logged in as an Accountant PUT :update with valid email parameters invalidates any password reset requests","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":119,"run_time":0.075308201,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:2:4:1]","description":"updates the details without an email validation check","full_description":"MyDetailsController when logged in as an Accountant PUT :update email address hasn't changed updates the details without an email validation check","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":132,"run_time":0.084807272,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:2:5:1]","description":"displays error messages","full_description":"MyDetailsController when logged in as an Accountant PUT :update with debounce rejecting the email parameters displays error messages","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":154,"run_time":0.147083286,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:2:5:2]","description":"does not update the current user's details","full_description":"MyDetailsController when logged in as an Accountant PUT :update with debounce rejecting the email parameters does not update the current user's details","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":160,"run_time":0.132536467,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:2:5:3]","description":"will not send notification emails","full_description":"MyDetailsController when logged in as an Accountant PUT :update with debounce rejecting the email parameters will not send notification emails","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":164,"run_time":0.131909621,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:2:6:1]","description":"displays error messages","full_description":"MyDetailsController when logged in as an Accountant PUT :update with a banned email address displays error messages","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":179,"run_time":0.145920095,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:2:6:2]","description":"does not update the current user's details","full_description":"MyDetailsController when logged in as an Accountant PUT :update with a banned email address does not update the current user's details","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":185,"run_time":0.148568086,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:2:6:3]","description":"will not send notification emails","full_description":"MyDetailsController when logged in as an Accountant PUT :update with a banned email address will not send notification emails","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":189,"run_time":0.129233222,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:2:7:1]","description":"updates the current user's details","full_description":"MyDetailsController when logged in as an Accountant PUT :update with valid password parameters updates the current user's details","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":198,"run_time":0.079483546,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:2:7:2]","description":"revokes other user sessions when password has been changed","full_description":"MyDetailsController when logged in as an Accountant PUT :update with valid password parameters revokes other user sessions when password has been changed","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":209,"run_time":0.082230592,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:2:7:3]","description":"sends a notification email that the password has changed","full_description":"MyDetailsController when logged in as an Accountant PUT :update with valid password parameters sends a notification email that the password has changed","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":229,"run_time":0.06644909,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:2:7:4]","description":"invalidates any password reset requests","full_description":"MyDetailsController when logged in as an Accountant PUT :update with valid password parameters invalidates any password reset requests","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":244,"run_time":0.083462051,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:2:8:1]","description":"updates the user's preference","full_description":"MyDetailsController when logged in as an Accountant PUT :update with security notification settings parameters updates the user's preference","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":263,"run_time":0.074655851,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:2:8:2]","description":"keeps the user selected value on update failures","full_description":"MyDetailsController when logged in as an Accountant PUT :update with security notification settings parameters keeps the user selected value on update failures","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":271,"run_time":0.153530487,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:2:9:1]","description":"is expected to respond with a success status code (2xx)","full_description":"MyDetailsController when logged in as an Accountant PUT :update with invalid parameters is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":287,"run_time":0.155326154,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:2:9:2]","description":"does not flash a message","full_description":"MyDetailsController when logged in as an Accountant PUT :update with invalid parameters does not flash a message","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":289,"run_time":0.152165138,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:2:9:3]","description":"displays error messages","full_description":"MyDetailsController when logged in as an Accountant PUT :update with invalid parameters displays error messages","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":293,"run_time":0.162134949,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:2:9:4]","description":"does not update the current user's details","full_description":"MyDetailsController when logged in as an Accountant PUT :update with invalid parameters does not update the current user's details","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":302,"run_time":0.1698207,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:2:9:5]","description":"will not send notification emails","full_description":"MyDetailsController when logged in as an Accountant PUT :update with invalid parameters will not send notification emails","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":306,"run_time":0.152552398,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:2:10:1]","description":"does not update the user permissions","full_description":"MyDetailsController when logged in as an Accountant PUT :update with higher permission level than current user does not update the user permissions","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":312,"run_time":0.064238677,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:2:11:1]","description":"is expected to respond with a success status code (2xx)","full_description":"MyDetailsController when logged in as an Accountant PUT :update with missing password information is expected to respond with a success status code (2xx)","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":326,"run_time":0.144270049,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:2:11:2]","description":"does not flash a message","full_description":"MyDetailsController when logged in as an Accountant PUT :update with missing password information does not flash a message","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":328,"run_time":0.146675105,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:2:11:3]","description":"displays error messages","full_description":"MyDetailsController when logged in as an Accountant PUT :update with missing password information displays error messages","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":332,"run_time":0.138266295,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:2:2:11:4]","description":"does not update the current user's details","full_description":"MyDetailsController when logged in as an Accountant PUT :update with missing password information does not update the current user's details","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":339,"run_time":0.14319736,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:3:1:1]","description":"is forbidden","full_description":"MyDetailsController when account_manager is switched in on a linked company GET on :edit is forbidden","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":356,"run_time":0.225782215,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:3:2:1]","description":"is forbidden","full_description":"MyDetailsController when account_manager is switched in on a linked company PUT on :update with valid attributes is forbidden","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":363,"run_time":0.143884723,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:4:1:1]","description":"is forbidden","full_description":"MyDetailsController when account_manager is switched in on an fapd company GET on :edit is forbidden","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":379,"run_time":0.216558753,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/my_details_controller_spec.rb[1:4:2:1]","description":"is forbidden","full_description":"MyDetailsController when account_manager is switched in on an fapd company PUT on :update with valid attributes is forbidden","status":"passed","file_path":"./spec/controllers/my_details_controller_spec.rb","line_number":386,"run_time":0.218052876,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices/send_email_integration_spec.rb[1:1:1]","description":"does not send an email or create an audit entry","full_description":"Api::Invoices::SendEmailController POST /invoices/:id/send_email with an invalid invoice does not send an email or create an audit entry","status":"passed","file_path":"./spec/requests/api/invoices/send_email_integration_spec.rb","line_number":39,"run_time":0.300379091,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices/send_email_integration_spec.rb[1:2:1:1]","description":"returns a bad_request response","full_description":"Api::Invoices::SendEmailController POST /invoices/:id/send_email with an empty invoice with the right permission_level returns a bad_request response","status":"passed","file_path":"./spec/requests/api/invoices/send_email_integration_spec.rb","line_number":61,"run_time":0.163956945,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices/send_email_integration_spec.rb[1:2:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::Invoices::SendEmailController POST /invoices/:id/send_email with an empty invoice without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/invoices/send_email_integration_spec.rb","line_number":72,"run_time":0.134517387,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices/send_email_integration_spec.rb[1:3:1:1]","description":"marks the invoice as sent, sends an email and creates an audit entry","full_description":"Api::Invoices::SendEmailController POST /invoices/:id/send_email with sendable invoice with the right permission_level marks the invoice as sent, sends an email and creates an audit entry","status":"passed","file_path":"./spec/requests/api/invoices/send_email_integration_spec.rb","line_number":92,"run_time":0.305211667,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices/send_email_integration_spec.rb[1:3:2:1]","description":"enqueues the email job","full_description":"Api::Invoices::SendEmailController POST /invoices/:id/send_email with sendable invoice with email_to_sender set to true enqueues the email job","status":"passed","file_path":"./spec/requests/api/invoices/send_email_integration_spec.rb","line_number":120,"run_time":0.412734274,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices/send_email_integration_spec.rb[1:3:3:1]","description":"sends the email to just the recipient","full_description":"Api::Invoices::SendEmailController POST /invoices/:id/send_email with sendable invoice with email_to_sender set to false sends the email to just the recipient","status":"passed","file_path":"./spec/requests/api/invoices/send_email_integration_spec.rb","line_number":143,"run_time":0.417143883,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices/send_email_integration_spec.rb[1:3:4:1]","description":"includes the template documents","full_description":"Api::Invoices::SendEmailController POST /invoices/:id/send_email with sendable invoice with the right permission_level and use_template includes the template documents","status":"passed","file_path":"./spec/requests/api/invoices/send_email_integration_spec.rb","line_number":160,"run_time":0.474701278,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices/send_email_integration_spec.rb[1:3:5:1]","description":"includes the expense attachment in the email","full_description":"Api::Invoices::SendEmailController POST /invoices/:id/send_email with sendable invoice with right permission_level and attach_expense_receipts includes the expense attachment in the email","status":"passed","file_path":"./spec/requests/api/invoices/send_email_integration_spec.rb","line_number":181,"run_time":1.009389768,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices/send_email_integration_spec.rb[1:3:6:1:1]","description":"returns 404 resource not found error","full_description":"Api::Invoices::SendEmailController POST /invoices/:id/send_email with sendable invoice with right permission_level and unprocessed attachments containing invalid file ID returns 404 resource not found error","status":"passed","file_path":"./spec/requests/api/invoices/send_email_integration_spec.rb","line_number":203,"run_time":0.266033883,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices/send_email_integration_spec.rb[1:3:6:2:1]","description":"returns 422 unprocessable entity error","full_description":"Api::Invoices::SendEmailController POST /invoices/:id/send_email with sendable invoice with right permission_level and unprocessed attachments containing base64 encoded attributes and file_id in a single attachment object returns 422 unprocessable entity error","status":"passed","file_path":"./spec/requests/api/invoices/send_email_integration_spec.rb","line_number":225,"run_time":0.242711878,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices/send_email_integration_spec.rb[1:3:6:3:1]","description":"where data attribute is missing returns 422 unprocessable entity error","full_description":"Api::Invoices::SendEmailController POST /invoices/:id/send_email with sendable invoice with right permission_level and unprocessed attachments containing invalid attachment payload where data attribute is missing returns 422 unprocessable entity error","status":"passed","file_path":"./spec/requests/api/invoices/send_email_integration_spec.rb","line_number":246,"run_time":0.281512821,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices/send_email_integration_spec.rb[1:3:6:4:1]","description":"returns 422 unprocessable entity error","full_description":"Api::Invoices::SendEmailController POST /invoices/:id/send_email with sendable invoice with right permission_level and unprocessed attachments containing attachment greater than 5MB returns 422 unprocessable entity error","status":"passed","file_path":"./spec/requests/api/invoices/send_email_integration_spec.rb","line_number":262,"run_time":0.515111852,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices/send_email_integration_spec.rb[1:3:6:5:1]","description":"includes all attachment types in the email","full_description":"Api::Invoices::SendEmailController POST /invoices/:id/send_email with sendable invoice with right permission_level and unprocessed attachments payload contains email template attachment, expense attachment and unprocessed attachments includes all attachment types in the email","status":"passed","file_path":"./spec/requests/api/invoices/send_email_integration_spec.rb","line_number":311,"run_time":0.94638165,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices/send_email_integration_spec.rb[1:3:7:1]","description":"does not change the invoice status","full_description":"Api::Invoices::SendEmailController POST /invoices/:id/send_email with sendable invoice with right permission_level but missing email attributes does not change the invoice status","status":"passed","file_path":"./spec/requests/api/invoices/send_email_integration_spec.rb","line_number":329,"run_time":0.179188321,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices/send_email_integration_spec.rb[1:3:8:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::Invoices::SendEmailController POST /invoices/:id/send_email with sendable invoice without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/invoices/send_email_integration_spec.rb","line_number":340,"run_time":0.176592384,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices/send_email_integration_spec.rb[1:3:9:1]","description":"sets include_payment_button to false on the email if false in parameters","full_description":"Api::Invoices::SendEmailController POST /invoices/:id/send_email with sendable invoice when the email_payment_button feature switch is enabled sets include_payment_button to false on the email if false in parameters","status":"passed","file_path":"./spec/requests/api/invoices/send_email_integration_spec.rb","line_number":346,"run_time":0.31162483,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices/send_email_integration_spec.rb[1:3:9:2]","description":"sets include_payment_button to true on the email if true in parameters","full_description":"Api::Invoices::SendEmailController POST /invoices/:id/send_email with sendable invoice when the email_payment_button feature switch is enabled sets include_payment_button to true on the email if true in parameters","status":"passed","file_path":"./spec/requests/api/invoices/send_email_integration_spec.rb","line_number":355,"run_time":0.36430769,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices/send_email_integration_spec.rb[1:3:10:1]","description":"ignores include_payment_button if specified","full_description":"Api::Invoices::SendEmailController POST /invoices/:id/send_email with sendable invoice when the email_payment_button feature switch is disabled ignores include_payment_button if specified","status":"passed","file_path":"./spec/requests/api/invoices/send_email_integration_spec.rb","line_number":368,"run_time":0.319229348,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices/send_email_integration_spec.rb[1:4:1:1]","description":"does not send an email","full_description":"Api::Invoices::SendEmailController POST /invoices/:id/send_email with a non-sendable invoice with the right permission_level does not send an email","status":"passed","file_path":"./spec/requests/api/invoices/send_email_integration_spec.rb","line_number":391,"run_time":0.173371745,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices/send_email_integration_spec.rb[1:4:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::Invoices::SendEmailController POST /invoices/:id/send_email with a non-sendable invoice without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/invoices/send_email_integration_spec.rb","line_number":402,"run_time":0.126160742,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices/send_email_integration_spec.rb[1:5:1]","description":"it reports an error","full_description":"Api::Invoices::SendEmailController with blocked recipients it reports an error","status":"passed","file_path":"./spec/requests/api/invoices/send_email_integration_spec.rb","line_number":421,"run_time":0.195841511,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:1:1:1]","description":"returns an array of todo dependency targets","full_description":"OpenBanking::Consent behaves like a todo invalidator with multiple targets #radar_tracking_target returns an array of todo dependency targets","status":"passed","file_path":"./spec/support/shared_examples/radar/todo_invalidator.rb","line_number":11,"run_time":0.312234245,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:2:1]","description":"is expected to eq \"open_banking_consents\"","full_description":"OpenBanking::Consent.table_name is expected to eq \"open_banking_consents\"","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":38,"run_time":0.025417994,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:3:1]","description":"uses the provider's config","full_description":"OpenBanking::Consent#before_create uses the provider's config","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":42,"run_time":0.103316131,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:3:2]","description":"uses the consent defined config","full_description":"OpenBanking::Consent#before_create uses the consent defined config","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":46,"run_time":0.117294454,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:4:1:1]","description":"returns true","full_description":"OpenBanking::Consent#within_scheduled_payment_sync_window? within window returns true","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":69,"run_time":0.118528187,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:4:2:1]","description":"returns false","full_description":"OpenBanking::Consent#within_scheduled_payment_sync_window? outside of window returns false","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":79,"run_time":0.101318952,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:5:1:1]","description":"returns true","full_description":"OpenBanking::Consent#within_standing_order_sync_window? within window returns true","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":97,"run_time":0.097063877,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:5:2:1]","description":"returns false","full_description":"OpenBanking::Consent#within_standing_order_sync_window? outside of window returns false","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":107,"run_time":0.116483429,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:6:1]","description":"is initially awaiting authorisation","full_description":"OpenBanking::Consent status is initially awaiting authorisation","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":114,"run_time":0.114783564,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:7:1]","description":"destroys the bank integration (and consent) if no other active consents exist","full_description":"OpenBanking::Consent rejecting destroys the bank integration (and consent) if no other active consents exist","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":123,"run_time":0.04043328,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:7:2]","description":"does not destroy the bank integration when any active consent exists","full_description":"OpenBanking::Consent rejecting does not destroy the bank integration when any active consent exists","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":132,"run_time":0.126500549,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:8:1:1:1]","description":"creates authorised accounts for the account data passed in","full_description":"OpenBanking::Consent#create_or_update_authorised_accounts! when the open_banking_reconsent_use_accounts_identification is enabled (default) With a new consent and there are no existing accounts creates authorised accounts for the account data passed in","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":149,"run_time":0.106324536,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:8:1:1:2]","description":"returns the appropriate result hash","full_description":"OpenBanking::Consent#create_or_update_authorised_accounts! when the open_banking_reconsent_use_accounts_identification is enabled (default) With a new consent and there are no existing accounts returns the appropriate result hash","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":154,"run_time":0.101218938,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:8:1:2:1]","description":"updates the authorised account","full_description":"OpenBanking::Consent#create_or_update_authorised_accounts! when the open_banking_reconsent_use_accounts_identification is enabled (default) When there are existing authorised accounts updates the authorised account","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":171,"run_time":0.13016784,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:8:1:2:2:1]","description":"removes the consent","full_description":"OpenBanking::Consent#create_or_update_authorised_accounts! when the open_banking_reconsent_use_accounts_identification is enabled (default) When there are existing authorised accounts and there is a previous consent that is no longer associated with authorised accounts removes the consent","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":182,"run_time":0.233165357,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:8:1:2:2:2]","description":"returns the appropriate result hash","full_description":"OpenBanking::Consent#create_or_update_authorised_accounts! when the open_banking_reconsent_use_accounts_identification is enabled (default) When there are existing authorised accounts and there is a previous consent that is no longer associated with authorised accounts returns the appropriate result hash","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":188,"run_time":0.207277348,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:8:1:2:2:3:1]","description":"raises an exception","full_description":"OpenBanking::Consent#create_or_update_authorised_accounts! when the open_banking_reconsent_use_accounts_identification is enabled (default) When there are existing authorised accounts and there is a previous consent that is no longer associated with authorised accounts and the account data is invalid raises an exception","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":200,"run_time":0.18614576,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:8:1:2:2:4:1:1]","description":"updates the authorised account's account_id","full_description":"OpenBanking::Consent#create_or_update_authorised_accounts! when the open_banking_reconsent_use_accounts_identification is enabled (default) When there are existing authorised accounts and there is a previous consent that is no longer associated with authorised accounts when the account_id doesn't match and identification does and the reconsent accounts identification feature is enabled updates the authorised account's account_id","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":217,"run_time":0.129873417,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:8:1:2:2:5:1:1]","description":"updates the existing authorised account based on the identification","full_description":"OpenBanking::Consent#create_or_update_authorised_accounts! when the open_banking_reconsent_use_accounts_identification is enabled (default) When there are existing authorised accounts and there is a previous consent that is no longer associated with authorised accounts when the account_ids do not match, but the identification matches and the reconsent accounts identification feature is enabled updates the existing authorised account based on the identification","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":237,"run_time":0.152408649,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:8:1:2:2:5:2:1]","description":"adds a new authorised account, and does not update the authorised account","full_description":"OpenBanking::Consent#create_or_update_authorised_accounts! when the open_banking_reconsent_use_accounts_identification is enabled (default) When there are existing authorised accounts and there is a previous consent that is no longer associated with authorised accounts when the account_ids do not match, but the identification matches and the reconsent accounts identification feature is disabled adds a new authorised account, and does not update the authorised account","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":250,"run_time":0.129136516,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:8:1:2:2:6:1]","description":"adds a new authorised account, and does not update the authorised account","full_description":"OpenBanking::Consent#create_or_update_authorised_accounts! when the open_banking_reconsent_use_accounts_identification is enabled (default) When there are existing authorised accounts and there is a previous consent that is no longer associated with authorised accounts when both the account_id and identification do not match adds a new authorised account, and does not update the authorised account","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":267,"run_time":0.120693505,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:8:1:2:2:7:1]","description":"updates the authorised account's identification","full_description":"OpenBanking::Consent#create_or_update_authorised_accounts! when the open_banking_reconsent_use_accounts_identification is enabled (default) When there are existing authorised accounts and there is a previous consent that is no longer associated with authorised accounts when the account_id matches and the identification does not match updates the authorised account's identification","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":282,"run_time":0.140392903,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:8:1:2:2:8:1:1]","description":"updates the authorised account's account_id","full_description":"OpenBanking::Consent#create_or_update_authorised_accounts! when the open_banking_reconsent_use_accounts_identification is enabled (default) When there are existing authorised accounts and there is a previous consent that is no longer associated with authorised accounts when the account_id doesn't match and the identification does when the provider does not use duplicate identifiers updates the authorised account's account_id","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":302,"run_time":0.151201295,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:8:1:2:2:8:2:1]","description":"creates a new authorised account, leaving the existing unchanged","full_description":"OpenBanking::Consent#create_or_update_authorised_accounts! when the open_banking_reconsent_use_accounts_identification is enabled (default) When there are existing authorised accounts and there is a previous consent that is no longer associated with authorised accounts when the account_id doesn't match and the identification does when the provider may use duplicate identifiers creates a new authorised account, leaving the existing unchanged","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":319,"run_time":0.145206768,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:8:1:2:2:9:1:1]","description":"updates the authorised account","full_description":"OpenBanking::Consent#create_or_update_authorised_accounts! when the open_banking_reconsent_use_accounts_identification is enabled (default) When there are existing authorised accounts and there is a previous consent that is no longer associated with authorised accounts When the provider does not use account identifications when the account_id matches and the identification is empty updates the authorised account","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":359,"run_time":0.128795189,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:8:1:2:2:9:2:1]","description":"ignores the identification and creates a new authorised account","full_description":"OpenBanking::Consent#create_or_update_authorised_accounts! when the open_banking_reconsent_use_accounts_identification is enabled (default) When there are existing authorised accounts and there is a previous consent that is no longer associated with authorised accounts When the provider does not use account identifications when the account_id does not match and the identification is empty ignores the identification and creates a new authorised account","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":373,"run_time":0.144548831,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:9:1]","description":"is true when the consent has expired","full_description":"OpenBanking::Consent#expired? is true when the consent has expired","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":390,"run_time":0.099622883,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:9:2]","description":"is false when the consent has not expired","full_description":"OpenBanking::Consent#expired? is false when the consent has not expired","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":395,"run_time":0.100396917,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:10:1]","description":"is true when the consent expires soon","full_description":"OpenBanking::Consent#expires_soon? is true when the consent expires soon","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":402,"run_time":0.09814022,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:10:2]","description":"is false when the consent does not expire soon","full_description":"OpenBanking::Consent#expires_soon? is false when the consent does not expire soon","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":407,"run_time":0.10951942,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:11:1:1]","description":"logs when exchanging code for token","full_description":"OpenBanking::Consent authorised consent #do_exchange_token logs when exchanging code for token","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":433,"run_time":0.126049177,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:11:1:2]","description":"updates access token, refresh token and access token expiry time","full_description":"OpenBanking::Consent authorised consent #do_exchange_token updates access token, refresh token and access token expiry time","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":438,"run_time":0.129894991,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:11:2:1]","description":"logs when refreshing oauth token","full_description":"OpenBanking::Consent authorised consent #do_refresh_token logs when refreshing oauth token","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":454,"run_time":0.119363669,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:11:2:2]","description":"updates access token, refresh token and access token expiry time","full_description":"OpenBanking::Consent authorised consent #do_refresh_token updates access token, refresh token and access token expiry time","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":459,"run_time":0.144053226,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:11:3:1]","description":"returns false when token is not expired","full_description":"OpenBanking::Consent authorised consent #token_expired returns false when token is not expired","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":469,"run_time":0.119267768,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:11:3:2]","description":"returns true when token is not expired","full_description":"OpenBanking::Consent authorised consent #token_expired returns true when token is not expired","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":473,"run_time":0.122692873,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:12:1]","description":"oauth created now returns true","full_description":"OpenBanking::Consent#data_over_90_days_available? oauth created now returns true","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":491,"run_time":0.121215033,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:12:2]","description":"oauth created 4 minutes 59 seconds ago returns true","full_description":"OpenBanking::Consent#data_over_90_days_available? oauth created 4 minutes 59 seconds ago returns true","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":496,"run_time":0.301104583,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:12:3]","description":"oauth created 5 minutes ago returns false","full_description":"OpenBanking::Consent#data_over_90_days_available? oauth created 5 minutes ago returns false","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":501,"run_time":0.325296643,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:12:4]","description":"oauth created more than 5 minutes ago returns false","full_description":"OpenBanking::Consent#data_over_90_days_available? oauth created more than 5 minutes ago returns false","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":506,"run_time":0.388852951,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:12:5]","description":"oauth is blank returns false","full_description":"OpenBanking::Consent#data_over_90_days_available? oauth is blank returns false","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":511,"run_time":0.145117935,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:13:1]","description":"returns false when there are no authorised accounts","full_description":"OpenBanking::Consent#all_authorised_accounts_linked? returns false when there are no authorised accounts","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":518,"run_time":0.124385331,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:13:2]","description":"returns true when all authorised accounts are linked","full_description":"OpenBanking::Consent#all_authorised_accounts_linked? returns true when all authorised accounts are linked","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":523,"run_time":0.380369689,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:13:3]","description":"returns false when not all authorised accounts are linked","full_description":"OpenBanking::Consent#all_authorised_accounts_linked? returns false when not all authorised accounts are linked","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":531,"run_time":0.24546758,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:14:1]","description":"is true when the permissions contain the required values","full_description":"OpenBanking::Consent#has_rbsg_pre_assessed_limit_permissions? is true when the permissions contain the required values","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":540,"run_time":0.042142029,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:14:2]","description":"is false when the permissions do not contain the required values","full_description":"OpenBanking::Consent#has_rbsg_pre_assessed_limit_permissions? is false when the permissions do not contain the required values","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":545,"run_time":0.039934551,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:15:1:1]","description":"returns true","full_description":"OpenBanking::Consent#has_scheduled_payments_permission? permissions present returns true","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":557,"run_time":0.03885406,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:15:2:1]","description":"returns false","full_description":"OpenBanking::Consent#has_scheduled_payments_permission? permissions not present returns false","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":567,"run_time":0.032833259,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:16:1:1]","description":"returns true","full_description":"OpenBanking::Consent#has_standing_orders_permission? permissions present returns true","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":579,"run_time":0.029693525,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:16:2:1]","description":"returns false","full_description":"OpenBanking::Consent#has_standing_orders_permission? permissions not present returns false","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":589,"run_time":0.02992392,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:17:1:1:1]","description":"is expected to be truthy","full_description":"OpenBanking::Consent#extend_import_window? with the open_banking_extend_import_window feature enabled with provider_configuration extend_import_window true is expected to be truthy","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":604,"run_time":0.143015455,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:17:1:2:1]","description":"is expected to be truthy","full_description":"OpenBanking::Consent#extend_import_window? with the open_banking_extend_import_window feature enabled with provider_configuration extend_import_window false is expected to be truthy","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":609,"run_time":0.125779576,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:17:2:1:1]","description":"is expected to be truthy","full_description":"OpenBanking::Consent#extend_import_window? with the open_banking_extend_import_window feature disabled with provider_configuration extend_import_window true is expected to be truthy","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":618,"run_time":0.118138868,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:17:2:1:2:1]","description":"is expected to be falsey","full_description":"OpenBanking::Consent#extend_import_window? with the open_banking_extend_import_window feature disabled with provider_configuration extend_import_window true with the open_banking_extend_import_window_provider feature disabled is expected to be falsey","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":622,"run_time":0.13086299,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:18:1]","description":"schedules import jobs for all account intergations","full_description":"OpenBanking::Consent#schedule_imports_for_all_account_integrations schedules import jobs for all account intergations","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":636,"run_time":0.337124043,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:19:1]","description":"schedules jobs for all authorised accounts","full_description":"OpenBanking::Consent#schedule_balance_at_bank_for_all_authorised_accounts schedules jobs for all authorised accounts","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":650,"run_time":0.124312821,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:20:1:1]","description":"schedules a NwgAdditionalFieldsImportJob and a PreAssessedLimitProductInformationJob","full_description":"OpenBanking::Consent#schedule_additional_account_information_imports being PAL eligible and a NWG consent schedules a NwgAdditionalFieldsImportJob and a PreAssessedLimitProductInformationJob","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":665,"run_time":0.130392499,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:20:2:1]","description":"schedules a NwgAdditionalFieldsImportJob but not a PreAssessedLimitProductInformationJob","full_description":"OpenBanking::Consent#schedule_additional_account_information_imports having a NWG consent but not PAL eligible schedules a NwgAdditionalFieldsImportJob but not a PreAssessedLimitProductInformationJob","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":676,"run_time":0.125563443,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/consent_spec.rb[1:20:3:1]","description":"does not schedule a NwgAdditionalFieldsImportJob or a PreAssessedLimitProductInformationJob","full_description":"OpenBanking::Consent#schedule_additional_account_information_imports not being a NWG consent and not being PAL eligible does not schedule a NwgAdditionalFieldsImportJob or a PreAssessedLimitProductInformationJob","status":"passed","file_path":"./spec/models/open_banking/consent_spec.rb","line_number":685,"run_time":0.107675428,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/inline_form/payments_and_refunds_spec.rb[1:1]","description":"explaining a transaction as a payment","full_description":"Inline Banking - Payments and Refunds explaining a transaction as a payment","status":"passed","file_path":"./spec/features/new_banking/inline_form/payments_and_refunds_spec.rb","line_number":10,"run_time":1.844042402,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/inline_form/payments_and_refunds_spec.rb[1:2]","description":"explaining a transaction as a refund","full_description":"Inline Banking - Payments and Refunds explaining a transaction as a refund","status":"passed","file_path":"./spec/features/new_banking/inline_form/payments_and_refunds_spec.rb","line_number":31,"run_time":1.875924407,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_services_controller_spec.rb[1:1:1]","description":"is possible to view all bank services","full_description":"Admin::BankServicesController#index is possible to view all bank services","status":"passed","file_path":"./spec/controllers/admin/bank_services_controller_spec.rb","line_number":16,"run_time":0.16901533,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_services_controller_spec.rb[1:1:2:1]","description":"includes the correct bank service in the list of results","full_description":"Admin::BankServicesController#index when searching by a bank service ID includes the correct bank service in the list of results","status":"passed","file_path":"./spec/controllers/admin/bank_services_controller_spec.rb","line_number":25,"run_time":0.10189596,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_services_controller_spec.rb[1:2:1]","description":"shows the bank service page","full_description":"Admin::BankServicesController#show shows the bank service page","status":"passed","file_path":"./spec/controllers/admin/bank_services_controller_spec.rb","line_number":34,"run_time":0.072432292,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_services_controller_spec.rb[1:3:1]","description":"updates the bank service status message","full_description":"Admin::BankServicesController#update updates the bank service status message","status":"passed","file_path":"./spec/controllers/admin/bank_services_controller_spec.rb","line_number":42,"run_time":0.047478236,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_services_controller_spec.rb[1:3:2]","description":"redirects to the bank service page","full_description":"Admin::BankServicesController#update redirects to the bank service page","status":"passed","file_path":"./spec/controllers/admin/bank_services_controller_spec.rb","line_number":48,"run_time":0.039789149,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_services_controller_spec.rb[1:3:3:1]","description":"updates the bank service status to available","full_description":"Admin::BankServicesController#update when updating the status flag updates the bank service status to available","status":"passed","file_path":"./spec/controllers/admin/bank_services_controller_spec.rb","line_number":56,"run_time":0.040760971,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_services_controller_spec.rb[1:3:3:2]","description":"updates the bank service status to problematic","full_description":"Admin::BankServicesController#update when updating the status flag updates the bank service status to problematic","status":"passed","file_path":"./spec/controllers/admin/bank_services_controller_spec.rb","line_number":63,"run_time":0.042731407,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_services_controller_spec.rb[1:3:3:3]","description":"updates the bank service status to unavailable","full_description":"Admin::BankServicesController#update when updating the status flag updates the bank service status to unavailable","status":"passed","file_path":"./spec/controllers/admin/bank_services_controller_spec.rb","line_number":70,"run_time":0.040582804,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_services_controller_spec.rb[1:3:3:4]","description":"redirects to the bank service page if incorrect status","full_description":"Admin::BankServicesController#update when updating the status flag redirects to the bank service page if incorrect status","status":"passed","file_path":"./spec/controllers/admin/bank_services_controller_spec.rb","line_number":77,"run_time":0.039879389,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_services_controller_spec.rb[1:3:4:1]","description":"updates the notes field","full_description":"Admin::BankServicesController#update when updating the open banking configuration updates the notes field","status":"passed","file_path":"./spec/controllers/admin/bank_services_controller_spec.rb","line_number":86,"run_time":0.042023371,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_services_controller_spec.rb[1:3:5:1]","description":"redirects to the bank service page","full_description":"Admin::BankServicesController#update when there's a problem updating the service redirects to the bank service page","status":"passed","file_path":"./spec/controllers/admin/bank_services_controller_spec.rb","line_number":97,"run_time":0.044483377,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_services_controller_spec.rb[1:4:1]","description":"is possible to view Open Banking services","full_description":"Admin::BankServicesController#open_banking is possible to view Open Banking services","status":"passed","file_path":"./spec/controllers/admin/bank_services_controller_spec.rb","line_number":108,"run_time":0.074706165,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_services_controller_spec.rb[1:4:2]","description":"generates column colors","full_description":"Admin::BankServicesController#open_banking generates column colors","status":"passed","file_path":"./spec/controllers/admin/bank_services_controller_spec.rb","line_number":114,"run_time":0.081147714,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_services_controller_spec.rb[1:4:3]","description":"filters on auth_scheme","full_description":"Admin::BankServicesController#open_banking filters on auth_scheme","status":"passed","file_path":"./spec/controllers/admin/bank_services_controller_spec.rb","line_number":119,"run_time":0.076991611,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_services_controller_spec.rb[1:4:4]","description":"filters on jwt_signing_algorithm","full_description":"Admin::BankServicesController#open_banking filters on jwt_signing_algorithm","status":"passed","file_path":"./spec/controllers/admin/bank_services_controller_spec.rb","line_number":129,"run_time":0.067081819,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_services_controller_spec.rb[1:4:5]","description":"filters on keys_version","full_description":"Admin::BankServicesController#open_banking filters on keys_version","status":"passed","file_path":"./spec/controllers/admin/bank_services_controller_spec.rb","line_number":139,"run_time":0.062907644,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_services_controller_spec.rb[1:4:6:1]","description":"counts non-expired feeds","full_description":"Admin::BankServicesController#open_banking counting based on feed expiry counts non-expired feeds","status":"passed","file_path":"./spec/controllers/admin/bank_services_controller_spec.rb","line_number":157,"run_time":0.451535164,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_services_controller_spec.rb[1:4:6:2]","description":"counts expired feeds","full_description":"Admin::BankServicesController#open_banking counting based on feed expiry counts expired feeds","status":"passed","file_path":"./spec/controllers/admin/bank_services_controller_spec.rb","line_number":163,"run_time":0.460424655,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_services_controller_spec.rb[1:5:1]","description":"is possible to view Yodlee services","full_description":"Admin::BankServicesController#yodlee is possible to view Yodlee services","status":"passed","file_path":"./spec/controllers/admin/bank_services_controller_spec.rb","line_number":172,"run_time":0.08709985,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_services_controller_spec.rb[1:5:3]","description":"shows only the results containing the queried name when searching by bank service name","full_description":"Admin::BankServicesController#yodlee shows only the results containing the queried name when searching by bank service name","status":"passed","file_path":"./spec/controllers/admin/bank_services_controller_spec.rb","line_number":210,"run_time":0.068714352,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_services_controller_spec.rb[1:5:2:1]","description":"allows sorting by descending popularity","full_description":"Admin::BankServicesController#yodlee when ordering by the number of enabled feeds allows sorting by descending popularity","status":"passed","file_path":"./spec/controllers/admin/bank_services_controller_spec.rb","line_number":185,"run_time":0.846395692,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_services_controller_spec.rb[1:5:2:2]","description":"allows sorting by ascending popularity","full_description":"Admin::BankServicesController#yodlee when ordering by the number of enabled feeds allows sorting by ascending popularity","status":"passed","file_path":"./spec/controllers/admin/bank_services_controller_spec.rb","line_number":197,"run_time":0.840594972,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_services_controller_spec.rb[1:6:1]","description":"is possible to view services under maintenance","full_description":"Admin::BankServicesController#under_maintenance is possible to view services under maintenance","status":"passed","file_path":"./spec/controllers/admin/bank_services_controller_spec.rb","line_number":218,"run_time":0.076413707,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_services_controller_spec.rb[1:7:1]","description":"is possible to view deprecated services","full_description":"Admin::BankServicesController#deprecated is possible to view deprecated services","status":"passed","file_path":"./spec/controllers/admin/bank_services_controller_spec.rb","line_number":226,"run_time":0.065323828,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/bank_services_controller_spec.rb[1:8:1]","description":"is possible to view blocked services","full_description":"Admin::BankServicesController#blocked is possible to view blocked services","status":"passed","file_path":"./spec/controllers/admin/bank_services_controller_spec.rb","line_number":234,"run_time":0.062495136,"pending_message":null,"screenshot":null},{"id":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb[1:1:1]","description":"should reference the employee by name","full_description":"New employees added with a single new employee should reference the employee by name","status":"passed","file_path":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb","line_number":45,"run_time":0.254655487,"pending_message":null,"screenshot":null},{"id":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb[1:2:1]","description":"should reference the number of employees added","full_description":"New employees added with multiple new employees should reference the number of employees added","status":"passed","file_path":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb","line_number":53,"run_time":0.214947183,"pending_message":null,"screenshot":null},{"id":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb[1:3:1]","description":"should acknowledge the company may already have insurance","full_description":"New employees added with insurance transactions should acknowledge the company may already have insurance","status":"passed","file_path":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb","line_number":61,"run_time":0.218701701,"pending_message":null,"screenshot":null},{"id":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb[1:4:1]","description":"should emphasise the importance of insurance","full_description":"New employees added without insurance transactions should emphasise the importance of insurance","status":"passed","file_path":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb","line_number":69,"run_time":0.21855584,"pending_message":null,"screenshot":null},{"id":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb[1:5:1]","description":"should have a section on insurance","full_description":"New employees added when eligible for Hiscox should have a section on insurance","status":"passed","file_path":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb","line_number":77,"run_time":0.228147341,"pending_message":null,"screenshot":null},{"id":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb[1:5:2]","description":"should have a section on the knowledge base","full_description":"New employees added when eligible for Hiscox should have a section on the knowledge base","status":"passed","file_path":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb","line_number":82,"run_time":0.215306092,"pending_message":null,"screenshot":null},{"id":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb[1:6:1]","description":"should not have a section on insurance","full_description":"New employees added when not eligible for Hiscox should not have a section on insurance","status":"passed","file_path":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb","line_number":91,"run_time":0.197522321,"pending_message":null,"screenshot":null},{"id":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb[1:6:2]","description":"should still have a section on the knowledge base","full_description":"New employees added when not eligible for Hiscox should still have a section on the knowledge base","status":"passed","file_path":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb","line_number":96,"run_time":0.196677534,"pending_message":null,"screenshot":null},{"id":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb[1:6:3:1]","description":"should have a section on insurance","full_description":"New employees added when not eligible for Hiscox when forcing visibility of Hiscox should have a section on insurance","status":"passed","file_path":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb","line_number":104,"run_time":0.189546778,"pending_message":null,"screenshot":null},{"id":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb[1:7:1]","description":"should have a section on accountancy","full_description":"New employees added when eligible for CoPilot should have a section on accountancy","status":"passed","file_path":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb","line_number":114,"run_time":0.190612404,"pending_message":null,"screenshot":null},{"id":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb[1:7:2]","description":"should have a section on the knowledge base","full_description":"New employees added when eligible for CoPilot should have a section on the knowledge base","status":"passed","file_path":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb","line_number":119,"run_time":0.213496717,"pending_message":null,"screenshot":null},{"id":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb[1:8:1]","description":"should not have a section on accountancy","full_description":"New employees added when not eligible for CoPilot should not have a section on accountancy","status":"passed","file_path":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb","line_number":128,"run_time":0.217184049,"pending_message":null,"screenshot":null},{"id":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb[1:8:2]","description":"should still have a section on the knowledge base","full_description":"New employees added when not eligible for CoPilot should still have a section on the knowledge base","status":"passed","file_path":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb","line_number":133,"run_time":0.243593223,"pending_message":null,"screenshot":null},{"id":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb[1:8:3:1]","description":"should not have a section on accountancy","full_description":"New employees added when not eligible for CoPilot when forcing visibility of CoPilot should not have a section on accountancy","status":"passed","file_path":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb","line_number":141,"run_time":0.212788103,"pending_message":null,"screenshot":null},{"id":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb[1:9:1]","description":"should suppress the ping","full_description":"New employees added when not eligible for CoPilot or Hiscox should suppress the ping","status":"passed","file_path":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb","line_number":152,"run_time":0.222150218,"pending_message":null,"screenshot":null},{"id":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb[1:10:1]","description":"should not reference adding employees yesterday, only having employees on payroll","full_description":"New employees added when company is in historical cohort should not reference adding employees yesterday, only having employees on payroll","status":"passed","file_path":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb","line_number":160,"run_time":0.230459765,"pending_message":null,"screenshot":null},{"id":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb[1:11:1]","description":"should render successfully","full_description":"New employees added when historical wording key is not present in the details hash should render successfully","status":"passed","file_path":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb","line_number":176,"run_time":0.228191754,"pending_message":null,"screenshot":null},{"id":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb[1:11:2]","description":"should render contextual copy and not the historical cohort copy","full_description":"New employees added when historical wording key is not present in the details hash should render contextual copy and not the historical cohort copy","status":"passed","file_path":"./spec/views/radar/insights/new_employees_added.html.erb_spec.rb","line_number":180,"run_time":0.238788831,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/vat_returns_check_spec.rb[1:1:1:1]","description":"is expected to have a failure on #\u003cVatReturn id: 1023589853, company_id: 895397992, period_ends_on: \"2022-06-30\", basis: \"Invoice\", fr...al_adjustment: 0.0 (BigDecimal), total_value_of_ec_goods_inputs_manual_adjustment: 0.0 (BigDecimal)\u003e","full_description":"VatReturnsCheck when the first VAT return is on error when testing the first VAT return is expected to have a failure on #\u003cVatReturn id: 1023589853, company_id: 895397992, period_ends_on: \"2022-06-30\", basis: \"Invoice\", fr...al_adjustment: 0.0 (BigDecimal), total_value_of_ec_goods_inputs_manual_adjustment: 0.0 (BigDecimal)\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/vat_returns_check_spec.rb","line_number":45,"run_time":0.465966874,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/vat_returns_check_spec.rb[1:1:2:1]","description":"is expected not to have a failure on #\u003cVatReturn id: 1023589857, company_id: 895397993, period_ends_on: \"2022-09-30\", basis: \"Invoice\", fr...al_adjustment: 0.0 (BigDecimal), total_value_of_ec_goods_inputs_manual_adjustment: 0.0 (BigDecimal)\u003e","full_description":"VatReturnsCheck when the first VAT return is on error when testing the second VAT return is expected not to have a failure on #\u003cVatReturn id: 1023589857, company_id: 895397993, period_ends_on: \"2022-09-30\", basis: \"Invoice\", fr...al_adjustment: 0.0 (BigDecimal), total_value_of_ec_goods_inputs_manual_adjustment: 0.0 (BigDecimal)\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/vat_returns_check_spec.rb","line_number":55,"run_time":0.432587665,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/vat_returns_check_spec.rb[1:2:1]","description":"is expected not to have a failure on #\u003cVatReturn id: 1023589859, company_id: 895397994, period_ends_on: \"2022-06-30\", basis: \"Invoice\", fr...al_adjustment: 0.0 (BigDecimal), total_value_of_ec_goods_inputs_manual_adjustment: 0.0 (BigDecimal)\u003e","full_description":"VatReturnsCheck Checking a company with a VAT return is expected not to have a failure on #\u003cVatReturn id: 1023589859, company_id: 895397994, period_ends_on: \"2022-06-30\", basis: \"Invoice\", fr...al_adjustment: 0.0 (BigDecimal), total_value_of_ec_goods_inputs_manual_adjustment: 0.0 (BigDecimal)\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/vat_returns_check_spec.rb","line_number":64,"run_time":0.36702307,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/vat_returns_check_spec.rb[1:2:2:1:1]","description":"is expected to have a failure on #\u003cVatReturn id: 1023589862, company_id: 895397995, period_ends_on: \"2022-06-30\", basis: \"Invoice\", fr...al_adjustment: 0.0 (BigDecimal), total_value_of_ec_goods_inputs_manual_adjustment: 0.0 (BigDecimal)\u003e","full_description":"VatReturnsCheck Checking a company with a VAT return that has incorrect cached output values behaves like a failing vat returns check with a vat liability difference is expected to have a failure on #\u003cVatReturn id: 1023589862, company_id: 895397995, period_ends_on: \"2022-06-30\", basis: \"Invoice\", fr...al_adjustment: 0.0 (BigDecimal), total_value_of_ec_goods_inputs_manual_adjustment: 0.0 (BigDecimal)\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/vat_returns_check_spec.rb","line_number":25,"run_time":0.372075416,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/vat_returns_check_spec.rb[1:2:2:1:2]","description":"is expected to have a failure like / has a vat liability difference of /","full_description":"VatReturnsCheck Checking a company with a VAT return that has incorrect cached output values behaves like a failing vat returns check with a vat liability difference is expected to have a failure like / has a vat liability difference of /","status":"passed","file_path":"./spec/models/health_robinson/check/vat_returns_check_spec.rb","line_number":26,"run_time":0.369983475,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/vat_returns_check_spec.rb[1:2:3:1]","description":"is expected not to have a failure on #\u003cVatReturn id: 1023589868, company_id: 895397997, period_ends_on: \"2022-06-30\", basis: \"Invoice\", fr...al_adjustment: 0.0 (BigDecimal), total_value_of_ec_goods_inputs_manual_adjustment: 0.0 (BigDecimal)\u003e","full_description":"VatReturnsCheck Checking a company with a VAT return that has incorrect cached output values of less than 1 pound is expected not to have a failure on #\u003cVatReturn id: 1023589868, company_id: 895397997, period_ends_on: \"2022-06-30\", basis: \"Invoice\", fr...al_adjustment: 0.0 (BigDecimal), total_value_of_ec_goods_inputs_manual_adjustment: 0.0 (BigDecimal)\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/vat_returns_check_spec.rb","line_number":85,"run_time":0.336061612,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/vat_returns_check_spec.rb[1:2:4:1:1]","description":"is expected to have a failure on #\u003cVatReturn id: 1023589871, company_id: 895397998, period_ends_on: \"2022-06-30\", basis: \"Invoice\", fr...al_adjustment: 0.0 (BigDecimal), total_value_of_ec_goods_inputs_manual_adjustment: 0.0 (BigDecimal)\u003e","full_description":"VatReturnsCheck Checking a company with a VAT return that has incorrect cached EC input values behaves like a failing vat returns check with a vat liability difference is expected to have a failure on #\u003cVatReturn id: 1023589871, company_id: 895397998, period_ends_on: \"2022-06-30\", basis: \"Invoice\", fr...al_adjustment: 0.0 (BigDecimal), total_value_of_ec_goods_inputs_manual_adjustment: 0.0 (BigDecimal)\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/vat_returns_check_spec.rb","line_number":25,"run_time":0.321579008,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/vat_returns_check_spec.rb[1:2:4:1:2]","description":"is expected to have a failure like / has a vat liability difference of /","full_description":"VatReturnsCheck Checking a company with a VAT return that has incorrect cached EC input values behaves like a failing vat returns check with a vat liability difference is expected to have a failure like / has a vat liability difference of /","status":"passed","file_path":"./spec/models/health_robinson/check/vat_returns_check_spec.rb","line_number":26,"run_time":0.310830851,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/vat_returns_check_spec.rb[1:2:5:1:1]","description":"is expected to have a failure on #\u003cVatReturn id: 1023589877, company_id: 895398000, period_ends_on: \"2022-06-30\", basis: \"Invoice\", fr...al_adjustment: 0.0 (BigDecimal), total_value_of_ec_goods_inputs_manual_adjustment: 0.0 (BigDecimal)\u003e","full_description":"VatReturnsCheck Checking a company with a VAT return that has incorrect cached values for reclaimed purchases behaves like a failing vat returns check with a vat liability difference is expected to have a failure on #\u003cVatReturn id: 1023589877, company_id: 895398000, period_ends_on: \"2022-06-30\", basis: \"Invoice\", fr...al_adjustment: 0.0 (BigDecimal), total_value_of_ec_goods_inputs_manual_adjustment: 0.0 (BigDecimal)\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/vat_returns_check_spec.rb","line_number":25,"run_time":0.337414138,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/vat_returns_check_spec.rb[1:2:5:1:2]","description":"is expected to have a failure like / has a vat liability difference of /","full_description":"VatReturnsCheck Checking a company with a VAT return that has incorrect cached values for reclaimed purchases behaves like a failing vat returns check with a vat liability difference is expected to have a failure like / has a vat liability difference of /","status":"passed","file_path":"./spec/models/health_robinson/check/vat_returns_check_spec.rb","line_number":26,"run_time":0.407680058,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/vat_returns_check_spec.rb[1:3:1]","description":"is expected to have attributes {:should_run? =\u003e false}","full_description":"VatReturnsCheck with a universal company is expected to have attributes {:should_run? =\u003e false}","status":"passed","file_path":"./spec/models/health_robinson/check/vat_returns_check_spec.rb","line_number":114,"run_time":0.431593264,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/predicted_events/computer_software_payments_spec.rb[1:1:1:1:1:1]","description":"only includes entry entries that match the rules","full_description":"Cashflow::PredictedEvents::ComputerSoftwarePayments behaves like Predicted Payment #payment_series default horizon cutoff of 90 days source items when salary payments present only includes entry entries that match the rules","status":"passed","file_path":"./spec/shared/cashflow/projected_payments_shared_examples.rb","line_number":220,"run_time":0.978722586,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/predicted_events/computer_software_payments_spec.rb[1:1:2:1]","description":"correctly projects future payments for past-dated entry payments monthly up to the default horizon","full_description":"Cashflow::PredictedEvents::ComputerSoftwarePayments behaves like Predicted Payment #payments_on correctly projects future payments for past-dated entry payments monthly up to the default horizon","status":"passed","file_path":"./spec/shared/cashflow/projected_payments_shared_examples.rb","line_number":228,"run_time":0.950813502,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/copilot_introduction_refusal_mailer_spec.rb[1:1:1]","description":"is expected to be a multipart email","full_description":"CopilotIntroductionRefusalMailer#notify_user is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/copilot_introduction_refusal_mailer_spec.rb","line_number":21,"run_time":0.152136475,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/copilot_introduction_refusal_mailer_spec.rb[1:1:2]","description":"has the correct headers","full_description":"CopilotIntroductionRefusalMailer#notify_user has the correct headers","status":"passed","file_path":"./spec/mailers/copilot_introduction_refusal_mailer_spec.rb","line_number":23,"run_time":0.156221463,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/copilot_introduction_refusal_mailer_spec.rb[1:1:3]","description":"is expected not to have click tracking","full_description":"CopilotIntroductionRefusalMailer#notify_user is expected not to have click tracking","status":"passed","file_path":"./spec/mailers/copilot_introduction_refusal_mailer_spec.rb","line_number":34,"run_time":0.141233029,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/copilot_introduction_refusal_mailer_spec.rb[1:1:4]","description":"includes the account owner's first name","full_description":"CopilotIntroductionRefusalMailer#notify_user includes the account owner's first name","status":"passed","file_path":"./spec/mailers/copilot_introduction_refusal_mailer_spec.rb","line_number":36,"run_time":0.11610847,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/copilot_introduction_refusal_mailer_spec.rb[1:1:5]","description":"includes the practice name","full_description":"CopilotIntroductionRefusalMailer#notify_user includes the practice name","status":"passed","file_path":"./spec/mailers/copilot_introduction_refusal_mailer_spec.rb","line_number":40,"run_time":0.12554474,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/copilot_introduction_refusal_mailer_spec.rb[1:1:6]","description":"includes a link to the CoPilot accountant grid","full_description":"CopilotIntroductionRefusalMailer#notify_user includes a link to the CoPilot accountant grid","status":"passed","file_path":"./spec/mailers/copilot_introduction_refusal_mailer_spec.rb","line_number":44,"run_time":0.125092003,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/copilot_introduction_refusal_mailer_spec.rb[1:2:1]","description":"is expected to be a multipart email","full_description":"CopilotIntroductionRefusalMailer#notify_accountant is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/copilot_introduction_refusal_mailer_spec.rb","line_number":57,"run_time":0.118757995,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/copilot_introduction_refusal_mailer_spec.rb[1:2:2]","description":"has the correct headers","full_description":"CopilotIntroductionRefusalMailer#notify_accountant has the correct headers","status":"passed","file_path":"./spec/mailers/copilot_introduction_refusal_mailer_spec.rb","line_number":59,"run_time":0.133687453,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/copilot_introduction_refusal_mailer_spec.rb[1:2:3]","description":"is expected not to have click tracking","full_description":"CopilotIntroductionRefusalMailer#notify_accountant is expected not to have click tracking","status":"passed","file_path":"./spec/mailers/copilot_introduction_refusal_mailer_spec.rb","line_number":70,"run_time":0.126806005,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/copilot_introduction_refusal_mailer_spec.rb[1:2:4]","description":"includes the account manager's first name","full_description":"CopilotIntroductionRefusalMailer#notify_accountant includes the account manager's first name","status":"passed","file_path":"./spec/mailers/copilot_introduction_refusal_mailer_spec.rb","line_number":72,"run_time":0.117607531,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/copilot_introduction_refusal_mailer_spec.rb[1:2:5]","description":"includes the company name","full_description":"CopilotIntroductionRefusalMailer#notify_accountant includes the company name","status":"passed","file_path":"./spec/mailers/copilot_introduction_refusal_mailer_spec.rb","line_number":76,"run_time":0.126398165,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/copilot_introduction_refusal_mailer_spec.rb[1:2:6]","description":"includes the account owner's email address","full_description":"CopilotIntroductionRefusalMailer#notify_accountant includes the account owner's email address","status":"passed","file_path":"./spec/mailers/copilot_introduction_refusal_mailer_spec.rb","line_number":80,"run_time":0.138720242,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/copilot_introduction_refusal_mailer_spec.rb[1:2:7]","description":"applies simple HTML formatting to the 'cancellation reason'","full_description":"CopilotIntroductionRefusalMailer#notify_accountant applies simple HTML formatting to the 'cancellation reason'","status":"passed","file_path":"./spec/mailers/copilot_introduction_refusal_mailer_spec.rb","line_number":84,"run_time":0.124333968,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/copilot_introduction_refusal_mailer_spec.rb[1:2:8]","description":"includes the 'cancellation reason' in the plain-text version","full_description":"CopilotIntroductionRefusalMailer#notify_accountant includes the 'cancellation reason' in the plain-text version","status":"passed","file_path":"./spec/mailers/copilot_introduction_refusal_mailer_spec.rb","line_number":94,"run_time":0.135388688,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/copilot_introduction_refusal_mailer_spec.rb[1:2:9]","description":"includes the contents of the email that has been sent to the account-owner","full_description":"CopilotIntroductionRefusalMailer#notify_accountant includes the contents of the email that has been sent to the account-owner","status":"passed","file_path":"./spec/mailers/copilot_introduction_refusal_mailer_spec.rb","line_number":107,"run_time":0.135499214,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/failure_spec.rb[1:1:1]","description":"is true when the failure has no verified_resolved_at","full_description":"HealthRobinson::Failure#open? is true when the failure has no verified_resolved_at","status":"passed","file_path":"./spec/models/health_robinson/failure_spec.rb","line_number":9,"run_time":0.014975327,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/failure_spec.rb[1:1:2]","description":"is false when the failure has no a verified_resolved_at","full_description":"HealthRobinson::Failure#open? is false when the failure has no a verified_resolved_at","status":"passed","file_path":"./spec/models/health_robinson/failure_spec.rb","line_number":13,"run_time":0.008136911,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/failure_spec.rb[1:2:1]","description":"makes use of HumioSearchURLGenerator#console_display","full_description":"HealthRobinson::Failure#investigate makes use of HumioSearchURLGenerator#console_display","status":"passed","file_path":"./spec/models/health_robinson/failure_spec.rb","line_number":33,"run_time":0.043231721,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/failure_spec.rb[1:3:1]","description":"returns only the ledger entry that has been added after the last successful check","full_description":"HealthRobinson::Failure#investigate_updated_ledgers returns only the ledger entry that has been added after the last successful check","status":"passed","file_path":"./spec/models/health_robinson/failure_spec.rb","line_number":80,"run_time":0.553003638,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/failure_spec.rb[1:4:1:1]","description":"is found if first seen before the date","full_description":"HealthRobinson::Failure#open_errors_per_check_snapshot an open failure is found if first seen before the date","status":"passed","file_path":"./spec/models/health_robinson/failure_spec.rb","line_number":100,"run_time":0.009729632,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/failure_spec.rb[1:4:1:2]","description":"is found if first seen on the date","full_description":"HealthRobinson::Failure#open_errors_per_check_snapshot an open failure is found if first seen on the date","status":"passed","file_path":"./spec/models/health_robinson/failure_spec.rb","line_number":104,"run_time":0.008008386,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/failure_spec.rb[1:4:1:3]","description":"is not found if first seen after the date","full_description":"HealthRobinson::Failure#open_errors_per_check_snapshot an open failure is not found if first seen after the date","status":"passed","file_path":"./spec/models/health_robinson/failure_spec.rb","line_number":108,"run_time":0.007993234,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/failure_spec.rb[1:4:2:1]","description":"is found if first seen before the date","full_description":"HealthRobinson::Failure#open_errors_per_check_snapshot a resolved failure is found if first seen before the date","status":"passed","file_path":"./spec/models/health_robinson/failure_spec.rb","line_number":126,"run_time":0.00824918,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/failure_spec.rb[1:4:2:2]","description":"is found if first seen on the date","full_description":"HealthRobinson::Failure#open_errors_per_check_snapshot a resolved failure is found if first seen on the date","status":"passed","file_path":"./spec/models/health_robinson/failure_spec.rb","line_number":130,"run_time":0.008674211,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/failure_spec.rb[1:4:2:3]","description":"is not found if resolved on the date","full_description":"HealthRobinson::Failure#open_errors_per_check_snapshot a resolved failure is not found if resolved on the date","status":"passed","file_path":"./spec/models/health_robinson/failure_spec.rb","line_number":134,"run_time":0.008337957,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/failure_spec.rb[1:4:2:4]","description":"is found if resolved after the date","full_description":"HealthRobinson::Failure#open_errors_per_check_snapshot a resolved failure is found if resolved after the date","status":"passed","file_path":"./spec/models/health_robinson/failure_spec.rb","line_number":138,"run_time":0.008300009,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/failure_spec.rb[1:5:1]","description":"returns array of source item and related IDs","full_description":"HealthRobinson::Failure#source_item_ids returns array of source item and related IDs","status":"passed","file_path":"./spec/models/health_robinson/failure_spec.rb","line_number":164,"run_time":0.194756151,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/failure_spec.rb[1:5:2:1]","description":"returns array of source item and related IDs","full_description":"HealthRobinson::Failure#source_item_ids with related source item IDs returns array of source item and related IDs","status":"passed","file_path":"./spec/models/health_robinson/failure_spec.rb","line_number":185,"run_time":0.041210043,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/failure_spec.rb[1:6:1]","description":"orders by check","full_description":"HealthRobinson::Failure.order_by orders by check","status":"passed","file_path":"./spec/models/health_robinson/failure_spec.rb","line_number":200,"run_time":0.220241493,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/failure_spec.rb[1:6:2]","description":"orders by item type then item id","full_description":"HealthRobinson::Failure.order_by orders by item type then item id","status":"passed","file_path":"./spec/models/health_robinson/failure_spec.rb","line_number":206,"run_time":0.162437389,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/failure_spec.rb[1:6:3]","description":"orders by date","full_description":"HealthRobinson::Failure.order_by orders by date","status":"passed","file_path":"./spec/models/health_robinson/failure_spec.rb","line_number":212,"run_time":0.155947991,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/failure_spec.rb[1:6:4]","description":"orders by company name","full_description":"HealthRobinson::Failure.order_by orders by company name","status":"passed","file_path":"./spec/models/health_robinson/failure_spec.rb","line_number":218,"run_time":0.14024931,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/failure_spec.rb[1:6:5]","description":"refuses to order by invalid columns","full_description":"HealthRobinson::Failure.order_by refuses to order by invalid columns","status":"passed","file_path":"./spec/models/health_robinson/failure_spec.rb","line_number":224,"run_time":0.162157653,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/failure_spec.rb[1:6:6]","description":"returns a relation which can be further refined","full_description":"HealthRobinson::Failure.order_by returns a relation which can be further refined","status":"passed","file_path":"./spec/models/health_robinson/failure_spec.rb","line_number":229,"run_time":0.17252691,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/rbsg_migration_spec.rb[1:1:1]","description":"removes the account manager and PracticeClient::Relationship from the company","full_description":"SubscriptionMigrations::RbsgMigration#migrate! removes the account manager and PracticeClient::Relationship from the company","status":"passed","file_path":"./spec/models/subscription_migrations/rbsg_migration_spec.rb","line_number":15,"run_time":0.212091781,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/rbsg_migration_spec.rb[1:1:2]","description":"migrates the company to an active RBSG subscription","full_description":"SubscriptionMigrations::RbsgMigration#migrate! migrates the company to an active RBSG subscription","status":"passed","file_path":"./spec/models/subscription_migrations/rbsg_migration_spec.rb","line_number":28,"run_time":0.16147451,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/rbsg_migration_spec.rb[1:1:3]","description":"increases the company account-owner's permissions to 'FULL ACCESS'","full_description":"SubscriptionMigrations::RbsgMigration#migrate! increases the company account-owner's permissions to 'FULL ACCESS'","status":"passed","file_path":"./spec/models/subscription_migrations/rbsg_migration_spec.rb","line_number":38,"run_time":0.173040456,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/rbsg_migration_spec.rb[1:1:4:1]","description":"creates a PracticeClient::ChurnReason","full_description":"SubscriptionMigrations::RbsgMigration#migrate! when a reason (and optional details) are provided creates a PracticeClient::ChurnReason","status":"passed","file_path":"./spec/models/subscription_migrations/rbsg_migration_spec.rb","line_number":58,"run_time":0.201964102,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/rbsg_migration_spec.rb[1:1:5:1]","description":"throws an exception","full_description":"SubscriptionMigrations::RbsgMigration#migrate! when a reason of 'Other' is given without additional details throws an exception","status":"passed","file_path":"./spec/models/subscription_migrations/rbsg_migration_spec.rb","line_number":86,"run_time":0.165446953,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/rbsg_migration_spec.rb[1:1:6:1]","description":"raises an error when attempting to migrate an existing RBSG subscription","full_description":"SubscriptionMigrations::RbsgMigration#migrate! starting channel is RBSG raises an error when attempting to migrate an existing RBSG subscription","status":"passed","file_path":"./spec/models/subscription_migrations/rbsg_migration_spec.rb","line_number":97,"run_time":0.094586852,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/rbsg_migration_spec.rb[1:1:7:1]","description":"raises an error when attempting to migrate a DIRECT subscription","full_description":"SubscriptionMigrations::RbsgMigration#migrate! starting channel is DIRECT raises an error when attempting to migrate a DIRECT subscription","status":"passed","file_path":"./spec/models/subscription_migrations/rbsg_migration_spec.rb","line_number":111,"run_time":0.117868166,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/rbsg_migration_spec.rb[1:1:8:1:1]","description":"recalculates the accounts","full_description":"SubscriptionMigrations::RbsgMigration#migrate! when a subscription is migrated from an inactive licence recalculates the accounts","status":"passed","file_path":"./spec/models/subscription_migrations/rbsg_migration_spec.rb","line_number":130,"run_time":0.173543191,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/rbsg_migration_spec.rb[1:1:8:2:1]","description":"recalculates the accounts","full_description":"SubscriptionMigrations::RbsgMigration#migrate! when a subscription is migrated from a closed licence recalculates the accounts","status":"passed","file_path":"./spec/models/subscription_migrations/rbsg_migration_spec.rb","line_number":143,"run_time":0.165397698,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_migrations/rbsg_migration_spec.rb[1:1:8:3:1]","description":"does not recalculate the accounts","full_description":"SubscriptionMigrations::RbsgMigration#migrate! when a subscription is migrated from a subscribed licence does not recalculate the accounts","status":"passed","file_path":"./spec/models/subscription_migrations/rbsg_migration_spec.rb","line_number":152,"run_time":0.173154109,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb[1:1:1]","description":"renders the edit template","full_description":"PracticeDashboard::MyDetailsController GET edit renders the edit template","status":"passed","file_path":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb","line_number":12,"run_time":0.127953835,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb[1:1:2]","description":"postpones showing the dashboard onboarding modal","full_description":"PracticeDashboard::MyDetailsController GET edit postpones showing the dashboard onboarding modal","status":"passed","file_path":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb","line_number":16,"run_time":0.074080158,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb[1:1:3]","description":"fetches the security notifications settings","full_description":"PracticeDashboard::MyDetailsController GET edit fetches the security notifications settings","status":"passed","file_path":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb","line_number":20,"run_time":0.07641063,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb[1:2:1:1]","description":"updates the details","full_description":"PracticeDashboard::MyDetailsController PATCH update with valid parameters updates the details","status":"passed","file_path":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb","line_number":34,"run_time":0.071206544,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb[1:2:1:2]","description":"updates security notifications settings","full_description":"PracticeDashboard::MyDetailsController PATCH update with valid parameters updates security notifications settings","status":"passed","file_path":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb","line_number":41,"run_time":0.069187851,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb[1:2:1:3]","description":"redirects to settings page","full_description":"PracticeDashboard::MyDetailsController PATCH update with valid parameters redirects to settings page","status":"passed","file_path":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb","line_number":51,"run_time":0.058740448,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb[1:2:1:4]","description":"displays flash message","full_description":"PracticeDashboard::MyDetailsController PATCH update with valid parameters displays flash message","status":"passed","file_path":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb","line_number":57,"run_time":0.058966287,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb[1:2:1:5]","description":"postpones showing the dashboard onboarding modal","full_description":"PracticeDashboard::MyDetailsController PATCH update with valid parameters postpones showing the dashboard onboarding modal","status":"passed","file_path":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb","line_number":63,"run_time":0.057238737,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb[1:2:1:6]","description":"sends an event to Sqreen when email address changes","full_description":"PracticeDashboard::MyDetailsController PATCH update with valid parameters sends an event to Sqreen when email address changes","status":"passed","file_path":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb","line_number":69,"run_time":0.056419905,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb[1:2:1:8]","description":"invalidates any password reset requests when password changes","full_description":"PracticeDashboard::MyDetailsController PATCH update with valid parameters invalidates any password reset requests when password changes","status":"passed","file_path":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb","line_number":114,"run_time":0.066612192,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb[1:2:1:9]","description":"invalidates any password reset requests when email changes","full_description":"PracticeDashboard::MyDetailsController PATCH update with valid parameters invalidates any password reset requests when email changes","status":"passed","file_path":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb","line_number":136,"run_time":0.072112228,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb[1:2:1:7:1]","description":"revokes user sessions when password changes","full_description":"PracticeDashboard::MyDetailsController PATCH update with valid parameters with multiple sessions revokes user sessions when password changes","status":"passed","file_path":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb","line_number":91,"run_time":0.07327349,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb[1:2:1:7:2]","description":"revokes user sessions when the email address changes","full_description":"PracticeDashboard::MyDetailsController PATCH update with valid parameters with multiple sessions revokes user sessions when the email address changes","status":"passed","file_path":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb","line_number":105,"run_time":0.075393532,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb[1:2:2:1]","description":"renders edit template","full_description":"PracticeDashboard::MyDetailsController PATCH update with invalid parameters renders edit template","status":"passed","file_path":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb","line_number":157,"run_time":0.073891195,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb[1:2:2:2]","description":"does not display any flash messages","full_description":"PracticeDashboard::MyDetailsController PATCH update with invalid parameters does not display any flash messages","status":"passed","file_path":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb","line_number":163,"run_time":0.089081318,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb[1:2:2:3]","description":"postpones showing the dashboard onboarding modal","full_description":"PracticeDashboard::MyDetailsController PATCH update with invalid parameters postpones showing the dashboard onboarding modal","status":"passed","file_path":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb","line_number":169,"run_time":0.079231176,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb[1:2:2:4]","description":"keeps user selected security notifications settings","full_description":"PracticeDashboard::MyDetailsController PATCH update with invalid parameters keeps user selected security notifications settings","status":"passed","file_path":"./spec/controllers/practice_dashboard/my_details_controller_spec.rb","line_number":175,"run_time":0.088076452,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/data_integrity/mailer_spec.rb[1:1:1]","description":"sends to #dataintegrity","full_description":"DataIntegrity::Mailer#kpi_report_mail sends to #dataintegrity","status":"passed","file_path":"./spec/mailers/data_integrity/mailer_spec.rb","line_number":18,"run_time":0.774349413,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/data_integrity/mailer_spec.rb[1:1:2]","description":"renders the headers correctly","full_description":"DataIntegrity::Mailer#kpi_report_mail renders the headers correctly","status":"passed","file_path":"./spec/mailers/data_integrity/mailer_spec.rb","line_number":22,"run_time":0.24816998,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/data_integrity/mailer_spec.rb[1:1:3:1]","description":"renders the table correctly with 0 at-risk companies","full_description":"DataIntegrity::Mailer#kpi_report_mail with no data integrity issues renders the table correctly with 0 at-risk companies","status":"passed","file_path":"./spec/mailers/data_integrity/mailer_spec.rb","line_number":33,"run_time":0.261752706,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/data_integrity/mailer_spec.rb[1:1:4:1]","description":"renders the table correctly with 1 medium-risk company","full_description":"DataIntegrity::Mailer#kpi_report_mail with data integrity issues renders the table correctly with 1 medium-risk company","status":"passed","file_path":"./spec/mailers/data_integrity/mailer_spec.rb","line_number":45,"run_time":0.239056952,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/data_integrity/mailer_spec.rb[1:1:4:2]","description":"renders the table correctly with 1 high-risk company","full_description":"DataIntegrity::Mailer#kpi_report_mail with data integrity issues renders the table correctly with 1 high-risk company","status":"passed","file_path":"./spec/mailers/data_integrity/mailer_spec.rb","line_number":56,"run_time":0.225579789,"pending_message":null,"screenshot":null},{"id":"./spec/models/reset_password_request_spec.rb[1:1]","description":"generates a new code for each model","full_description":"ResetPasswordRequest generates a new code for each model","status":"passed","file_path":"./spec/models/reset_password_request_spec.rb","line_number":7,"run_time":0.003157327,"pending_message":null,"screenshot":null},{"id":"./spec/models/reset_password_request_spec.rb[1:2:1:1]","description":"is not valid","full_description":"ResetPasswordRequest email validation with an empty email address is not valid","status":"passed","file_path":"./spec/models/reset_password_request_spec.rb","line_number":16,"run_time":0.005253897,"pending_message":null,"screenshot":null},{"id":"./spec/models/reset_password_request_spec.rb[1:2:2:1]","description":"is not valid","full_description":"ResetPasswordRequest email validation with a garbage email address is not valid","status":"passed","file_path":"./spec/models/reset_password_request_spec.rb","line_number":25,"run_time":0.006684684,"pending_message":null,"screenshot":null},{"id":"./spec/models/reset_password_request_spec.rb[1:3:1]","description":"uses the email address from the database","full_description":"ResetPasswordRequest when the case of the provided email does not match uses the email address from the database","status":"passed","file_path":"./spec/models/reset_password_request_spec.rb","line_number":35,"run_time":0.014774545,"pending_message":null,"screenshot":null},{"id":"./spec/models/reset_password_request_spec.rb[1:4:1:1]","description":"is not valid","full_description":"ResetPasswordRequest with no company or practice with a non existent email is not valid","status":"passed","file_path":"./spec/models/reset_password_request_spec.rb","line_number":46,"run_time":0.007442524,"pending_message":null,"screenshot":null},{"id":"./spec/models/reset_password_request_spec.rb[1:4:2:1:1]","description":"is valid","full_description":"ResetPasswordRequest with no company or practice for an existing email address with only 1 company is valid","status":"passed","file_path":"./spec/models/reset_password_request_spec.rb","line_number":56,"run_time":0.010075888,"pending_message":null,"screenshot":null},{"id":"./spec/models/reset_password_request_spec.rb[1:4:2:1:2]","description":"has a user attached","full_description":"ResetPasswordRequest with no company or practice for an existing email address with only 1 company has a user attached","status":"passed","file_path":"./spec/models/reset_password_request_spec.rb","line_number":60,"run_time":0.012679124,"pending_message":null,"screenshot":null},{"id":"./spec/models/reset_password_request_spec.rb[1:4:2:2:1]","description":"is valid","full_description":"ResetPasswordRequest with no company or practice for an existing email address with multiple companies is valid","status":"passed","file_path":"./spec/models/reset_password_request_spec.rb","line_number":71,"run_time":0.087971185,"pending_message":null,"screenshot":null},{"id":"./spec/models/reset_password_request_spec.rb[1:4:2:2:2]","description":"does not have a user attached","full_description":"ResetPasswordRequest with no company or practice for an existing email address with multiple companies does not have a user attached","status":"passed","file_path":"./spec/models/reset_password_request_spec.rb","line_number":75,"run_time":0.09776692,"pending_message":null,"screenshot":null},{"id":"./spec/models/reset_password_request_spec.rb[1:4:3:1]","description":"is valid","full_description":"ResetPasswordRequest with no company or practice for an existing account manager is valid","status":"passed","file_path":"./spec/models/reset_password_request_spec.rb","line_number":86,"run_time":0.043653564,"pending_message":null,"screenshot":null},{"id":"./spec/models/reset_password_request_spec.rb[1:4:3:2]","description":"has a user (account manager in this instance) attached","full_description":"ResetPasswordRequest with no company or practice for an existing account manager has a user (account manager in this instance) attached","status":"passed","file_path":"./spec/models/reset_password_request_spec.rb","line_number":90,"run_time":0.044703008,"pending_message":null,"screenshot":null},{"id":"./spec/models/reset_password_request_spec.rb[1:5:1:1]","description":"is valid","full_description":"ResetPasswordRequest with a company for a user of that company is valid","status":"passed","file_path":"./spec/models/reset_password_request_spec.rb","line_number":101,"run_time":0.009514075,"pending_message":null,"screenshot":null},{"id":"./spec/models/reset_password_request_spec.rb[1:5:1:2]","description":"is able to find the user from the company","full_description":"ResetPasswordRequest with a company for a user of that company is able to find the user from the company","status":"passed","file_path":"./spec/models/reset_password_request_spec.rb","line_number":105,"run_time":0.012163738,"pending_message":null,"screenshot":null},{"id":"./spec/models/reset_password_request_spec.rb[1:5:2:1]","description":"is not valid","full_description":"ResetPasswordRequest with a company for a user of another company is not valid","status":"passed","file_path":"./spec/models/reset_password_request_spec.rb","line_number":114,"run_time":0.08101493,"pending_message":null,"screenshot":null},{"id":"./spec/models/reset_password_request_spec.rb[1:5:3:1]","description":"is not valid","full_description":"ResetPasswordRequest with a company for an account manager is not valid","status":"passed","file_path":"./spec/models/reset_password_request_spec.rb","line_number":123,"run_time":0.034313224,"pending_message":null,"screenshot":null},{"id":"./spec/models/reset_password_request_spec.rb[1:6:1:1]","description":"is valid","full_description":"ResetPasswordRequest with an accountancy practice for a manager of that company is valid","status":"passed","file_path":"./spec/models/reset_password_request_spec.rb","line_number":136,"run_time":0.030930032,"pending_message":null,"screenshot":null},{"id":"./spec/models/reset_password_request_spec.rb[1:6:1:2]","description":"has a user attached","full_description":"ResetPasswordRequest with an accountancy practice for a manager of that company has a user attached","status":"passed","file_path":"./spec/models/reset_password_request_spec.rb","line_number":140,"run_time":0.031960656,"pending_message":null,"screenshot":null},{"id":"./spec/models/reset_password_request_spec.rb[1:6:2:1]","description":"is not valid","full_description":"ResetPasswordRequest with an accountancy practice for a manager of another practice is not valid","status":"passed","file_path":"./spec/models/reset_password_request_spec.rb","line_number":149,"run_time":0.058822757,"pending_message":null,"screenshot":null},{"id":"./spec/models/reset_password_request_spec.rb[1:6:3:1:1]","description":"is not valid","full_description":"ResetPasswordRequest with an accountancy practice for a user's email address with only 1 company is not valid","status":"passed","file_path":"./spec/models/reset_password_request_spec.rb","line_number":159,"run_time":0.03384837,"pending_message":null,"screenshot":null},{"id":"./spec/models/reset_password_request_spec.rb[1:7:1]","description":"deletes old requests","full_description":"ResetPasswordRequest.delete_expired deletes old requests","status":"passed","file_path":"./spec/models/reset_password_request_spec.rb","line_number":173,"run_time":0.014079926,"pending_message":null,"screenshot":null},{"id":"./spec/models/reset_password_request_spec.rb[1:7:2]","description":"retains recent requests","full_description":"ResetPasswordRequest.delete_expired retains recent requests","status":"passed","file_path":"./spec/models/reset_password_request_spec.rb","line_number":179,"run_time":0.01603744,"pending_message":null,"screenshot":null},{"id":"./spec/models/reset_password_request_spec.rb[1:8:1:1]","description":"returns nil","full_description":"ResetPasswordRequest.new_with_first_nwg_unactivated_company with an unactivated direct account returns nil","status":"passed","file_path":"./spec/models/reset_password_request_spec.rb","line_number":196,"run_time":0.018560603,"pending_message":null,"screenshot":null},{"id":"./spec/models/reset_password_request_spec.rb[1:8:2:1]","description":"returns nil","full_description":"ResetPasswordRequest.new_with_first_nwg_unactivated_company with an unactivated direct account returns nil","status":"passed","file_path":"./spec/models/reset_password_request_spec.rb","line_number":204,"run_time":0.010145937,"pending_message":null,"screenshot":null},{"id":"./spec/models/reset_password_request_spec.rb[1:8:3:1]","description":"returns nil","full_description":"ResetPasswordRequest.new_with_first_nwg_unactivated_company with an activated NWG account returns nil","status":"passed","file_path":"./spec/models/reset_password_request_spec.rb","line_number":214,"run_time":0.103460024,"pending_message":null,"screenshot":null},{"id":"./spec/models/reset_password_request_spec.rb[1:8:4:1]","description":"returns a new ResetPasswordRequest object","full_description":"ResetPasswordRequest.new_with_first_nwg_unactivated_company with an unactivated NWG account returns a new ResetPasswordRequest object","status":"passed","file_path":"./spec/models/reset_password_request_spec.rb","line_number":222,"run_time":0.108555063,"pending_message":null,"screenshot":null},{"id":"./spec/models/reset_password_request_spec.rb[1:8:5:1]","description":"returns a new ResetPasswordRequest object","full_description":"ResetPasswordRequest.new_with_first_nwg_unactivated_company with an activated NWG account and an unactivated NWG account returns a new ResetPasswordRequest object","status":"passed","file_path":"./spec/models/reset_password_request_spec.rb","line_number":241,"run_time":0.20511774,"pending_message":null,"screenshot":null},{"id":"./spec/models/reset_password_request_spec.rb[1:8:6:1]","description":"returns a new ResetPasswordRequest object","full_description":"ResetPasswordRequest.new_with_first_nwg_unactivated_company with an unactivated Mettle account and unactivated other NWG account returns a new ResetPasswordRequest object","status":"passed","file_path":"./spec/models/reset_password_request_spec.rb","line_number":256,"run_time":0.214757987,"pending_message":null,"screenshot":null},{"id":"./spec/models/reset_password_request_spec.rb[1:8:7:1]","description":"returns nil","full_description":"ResetPasswordRequest.new_with_first_nwg_unactivated_company with an email that is not associated with a user returns nil","status":"passed","file_path":"./spec/models/reset_password_request_spec.rb","line_number":267,"run_time":0.005905766,"pending_message":null,"screenshot":null},{"id":"./spec/models/reset_password_request_spec.rb[1:8:8:1]","description":"returns nil","full_description":"ResetPasswordRequest.new_with_first_nwg_unactivated_company with an invalid email returns nil","status":"passed","file_path":"./spec/models/reset_password_request_spec.rb","line_number":276,"run_time":0.005208392,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[1:1:1:1]","description":"renders the edit page","full_description":"InvoicesController#edit when instance is an invoice renders the edit page","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":17,"run_time":0.237339819,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/properties/income_controller_spec.rb[1:1:1]","description":"shows the index view in descending date order","full_description":"Properties::IncomeController GET #index shows the index view in descending date order","status":"passed","file_path":"./spec/controllers/properties/income_controller_spec.rb","line_number":27,"run_time":0.375404012,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/properties/income_controller_spec.rb[1:1:2:1]","description":"retrieves the items, earliest first","full_description":"Properties::IncomeController GET #index when sorted in ascending date order retrieves the items, earliest first","status":"passed","file_path":"./spec/controllers/properties/income_controller_spec.rb","line_number":54,"run_time":0.246051739,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/properties/income_controller_spec.rb[1:1:3:1]","description":"retrieves the items, latest first","full_description":"Properties::IncomeController GET #index when sorted in descending date order retrieves the items, latest first","status":"passed","file_path":"./spec/controllers/properties/income_controller_spec.rb","line_number":68,"run_time":0.22120433,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/properties/income_controller_spec.rb[1:1:4:1]","description":"filters the items, latest first","full_description":"Properties::IncomeController GET #index when filtering by item type filters the items, latest first","status":"passed","file_path":"./spec/controllers/properties/income_controller_spec.rb","line_number":82,"run_time":0.220787148,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/properties/income_controller_spec.rb[1:1:5:1]","description":"does not allow access","full_description":"Properties::IncomeController GET #index without required permissions does not allow access","status":"passed","file_path":"./spec/controllers/properties/income_controller_spec.rb","line_number":99,"run_time":0.221087243,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/payit/responses/payment_spec.rb[1:1:1]","description":"is expected to eq \"https://somewhere.com\"","full_description":"Payit::Responses::Payment#response_url is expected to eq \"https://somewhere.com\"","status":"passed","file_path":"./spec/integrations/payit/responses/payment_spec.rb","line_number":21,"run_time":0.004929824,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/payit/responses/payment_spec.rb[1:1:2:1]","description":"uses ErrorHandler to handle KeyError","full_description":"Payit::Responses::Payment#response_url when missing ResponseURL uses ErrorHandler to handle KeyError","status":"passed","file_path":"./spec/integrations/payit/responses/payment_spec.rb","line_number":33,"run_time":0.004273098,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/payit/responses/payment_spec.rb[1:2:1]","description":"is expected to eq \"2019-11-08 14:26:09Z\"","full_description":"Payit::Responses::Payment#creation_datetime is expected to eq \"2019-11-08 14:26:09Z\"","status":"passed","file_path":"./spec/integrations/payit/responses/payment_spec.rb","line_number":45,"run_time":0.003389558,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/payit/responses/payment_spec.rb[1:2:2:1]","description":"uses ErrorHandler to handle KeyError","full_description":"Payit::Responses::Payment#creation_datetime when missing CreationDateTime uses ErrorHandler to handle KeyError","status":"passed","file_path":"./spec/integrations/payit/responses/payment_spec.rb","line_number":57,"run_time":0.003077917,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/payit/responses/payment_spec.rb[1:3:1]","description":"is expected to eq \"fcb06d3584aa421680d6db50b77208dc222\"","full_description":"Payit::Responses::Payment#tpp_reference_id is expected to eq \"fcb06d3584aa421680d6db50b77208dc222\"","status":"passed","file_path":"./spec/integrations/payit/responses/payment_spec.rb","line_number":69,"run_time":0.003279242,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/payit/responses/payment_spec.rb[1:3:2:1]","description":"uses ErrorHandler to handle KeyError","full_description":"Payit::Responses::Payment#tpp_reference_id when missing TPPReferenceId uses ErrorHandler to handle KeyError","status":"passed","file_path":"./spec/integrations/payit/responses/payment_spec.rb","line_number":81,"run_time":0.003437032,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature[1:1:1]","description":"Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Refunded VAT Credit Note VAT due Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature","line_number":13,"run_time":0.075300271,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature[1:2:1]","description":"Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Invoice basis, not FRS, then Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Refunded VAT Credit Note VAT due Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Invoice basis, not FRS, then Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature","line_number":13,"run_time":0.020477619,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature[1:3:1]","description":"Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Invoice basis, not FRS, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Refunded VAT Credit Note VAT due Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Invoice basis, not FRS, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature","line_number":13,"run_time":0.021666616,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature[1:4:1]","description":"Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Invoice basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Refunded VAT Credit Note VAT due Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Invoice basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature","line_number":13,"run_time":0.017460937,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature[1:5:1]","description":"Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Refunded VAT Credit Note VAT deferred until payment Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature","line_number":45,"run_time":0.020172464,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature[1:6:1]","description":"Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Cash basis, not FRS, then Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Refunded VAT Credit Note VAT deferred until payment Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Cash basis, not FRS, then Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature","line_number":45,"run_time":0.018627077,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature[1:7:1]","description":"Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Cash basis, not FRS, then Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Refunded VAT Credit Note VAT deferred until payment Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Cash basis, not FRS, then Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature","line_number":45,"run_time":0.019880233,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature[1:8:1]","description":"Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Cash basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Refunded VAT Credit Note VAT deferred until payment Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Cash basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature","line_number":45,"run_time":0.02629542,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature[1:9:1]","description":"Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Refunded VAT Credit Note VAT due at 11.5% FRS rate Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature","line_number":81,"run_time":0.02444195,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature[1:10:1]","description":"Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Invoice basis, FRS, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Refunded VAT Credit Note VAT due at 11.5% FRS rate Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Invoice basis, FRS, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature","line_number":81,"run_time":0.022004634,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature[1:11:1]","description":"Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Invoice basis, FRS, then Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Refunded VAT Credit Note VAT due at 11.5% FRS rate Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Invoice basis, FRS, then Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature","line_number":81,"run_time":0.01780979,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature[1:12:1]","description":"Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Invoice basis, FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Refunded VAT Credit Note VAT due at 11.5% FRS rate Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Invoice basis, FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature","line_number":81,"run_time":0.017536578,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature[1:13:1]","description":"Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Cash basis, FRS, then Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Refunded VAT Credit Note VAT at FRS rate deferred until switching to the invoice basis Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Cash basis, FRS, then Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature","line_number":115,"run_time":0.017715633,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature[1:14:1]","description":"Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Cash basis, FRS, then Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Refunded VAT Credit Note VAT at FRS rate deferred until switching to the invoice basis Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Cash basis, FRS, then Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature","line_number":115,"run_time":0.017724734,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature[1:15:1]","description":"Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Cash basis, not FRS, then Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Refunded VAT Credit Note VAT at FRS rate deferred until payment Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Cash basis, not FRS, then Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature","line_number":151,"run_time":0.018344175,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature[1:16:1]","description":"Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Refunded VAT Credit Note VAT at FRS rate deferred until payment Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature","line_number":151,"run_time":0.017383455,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature[1:17:1]","description":"Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Cash basis, FRS, then Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Refunded VAT Credit Note VAT at FRS rate deferred until payment Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Cash basis, FRS, then Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature","line_number":151,"run_time":0.018743461,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature[1:18:1]","description":"Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Cash basis, FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Refunded VAT Credit Note VAT at FRS rate deferred until payment Given a uk sole trader -\u003e And a credit note: refunded, with VAT -\u003e Given VAT settings: Cash basis, FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/credit_notes/vat_refunded.feature","line_number":151,"run_time":0.01977474,"pending_message":null,"screenshot":null},{"id":"./spec/models/bulk_operation/banking/remove_explanations_spec.rb[1:1:1:1]","description":"returns the list of bank transactions","full_description":"BulkOperation::Banking::RemoveExplanations behaves like a banking bulk operation when fetching bank transactions returns the list of bank transactions","status":"passed","file_path":"./spec/shared/bulk_operations/banking_examples.rb","line_number":21,"run_time":0.070926636,"pending_message":null,"screenshot":null},{"id":"./spec/models/bulk_operation/banking/remove_explanations_spec.rb[1:2:1:1]","description":"schedules a job","full_description":"BulkOperation::Banking::RemoveExplanations#schedule when payload item belongs to current company schedules a job","status":"passed","file_path":"./spec/models/bulk_operation/banking/remove_explanations_spec.rb","line_number":28,"run_time":0.081868539,"pending_message":null,"screenshot":null},{"id":"./spec/models/bulk_operation/banking/remove_explanations_spec.rb[1:2:2:1]","description":"does not schedule a job","full_description":"BulkOperation::Banking::RemoveExplanations#schedule when payload item doesn't belong to current company does not schedule a job","status":"passed","file_path":"./spec/models/bulk_operation/banking/remove_explanations_spec.rb","line_number":37,"run_time":0.008212393,"pending_message":null,"screenshot":null},{"id":"./spec/models/bulk_operation/banking/remove_explanations_spec.rb[1:2:3:1]","description":"raises ArgumentError","full_description":"BulkOperation::Banking::RemoveExplanations#schedule when payload is missing transaction_id raises ArgumentError","status":"passed","file_path":"./spec/models/bulk_operation/banking/remove_explanations_spec.rb","line_number":45,"run_time":0.083626144,"pending_message":null,"screenshot":null},{"id":"./spec/models/bulk_operation/banking/remove_explanations_spec.rb[1:2:4:1]","description":"raises ArgumentError","full_description":"BulkOperation::Banking::RemoveExplanations#schedule when payload is missing explanation_id raises ArgumentError","status":"passed","file_path":"./spec/models/bulk_operation/banking/remove_explanations_spec.rb","line_number":53,"run_time":0.080844132,"pending_message":null,"screenshot":null},{"id":"./spec/models/bulk_operation/banking/remove_explanations_spec.rb[1:3:1]","description":"adds the operation to the pending operation cache","full_description":"BulkOperation::Banking::RemoveExplanations#enqueue_item adds the operation to the pending operation cache","status":"passed","file_path":"./spec/models/bulk_operation/banking/remove_explanations_spec.rb","line_number":73,"run_time":0.099533696,"pending_message":null,"screenshot":null},{"id":"./spec/models/bulk_operation/banking/remove_explanations_spec.rb[1:3:2]","description":"enqueues the job","full_description":"BulkOperation::Banking::RemoveExplanations#enqueue_item enqueues the job","status":"passed","file_path":"./spec/models/bulk_operation/banking/remove_explanations_spec.rb","line_number":80,"run_time":0.083655295,"pending_message":null,"screenshot":null},{"id":"./spec/models/bulk_operation/banking/remove_explanations_spec.rb[1:4:1]","description":"calls overriden schedule and run","full_description":"BulkOperation::Banking::RemoveExplanations#schedule_and_run calls overriden schedule and run","status":"passed","file_path":"./spec/models/bulk_operation/banking/remove_explanations_spec.rb","line_number":89,"run_time":0.090156041,"pending_message":null,"screenshot":null},{"id":"./spec/models/bulk_operation/banking/remove_explanations_spec.rb[1:5:1]","description":"clears the pending operation cache entry","full_description":"BulkOperation::Banking::RemoveExplanations#item_complete clears the pending operation cache entry","status":"passed","file_path":"./spec/models/bulk_operation/banking/remove_explanations_spec.rb","line_number":104,"run_time":0.080344514,"pending_message":null,"screenshot":null},{"id":"./spec/models/bulk_operation/banking/remove_explanations_spec.rb[1:6:1]","description":"returns only explanation and transaction ids","full_description":"BulkOperation::Banking::RemoveExplanations#payload_for_display returns only explanation and transaction ids","status":"passed","file_path":"./spec/models/bulk_operation/banking/remove_explanations_spec.rb","line_number":114,"run_time":0.084638291,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/metro_imports_controller_spec.rb[1:1:1:1]","description":"is redirects to the practice dashboard root path","full_description":"PracticeDashboard::MetroImportsController GET #show with feature disabled is redirects to the practice dashboard root path","status":"passed","file_path":"./spec/controllers/practice_dashboard/metro_imports_controller_spec.rb","line_number":15,"run_time":0.048247336,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/metro_imports_controller_spec.rb[1:1:2:1:1]","description":"renders the upload form","full_description":"PracticeDashboard::MetroImportsController GET #show with feature enabled with no imports renders the upload form","status":"passed","file_path":"./spec/controllers/practice_dashboard/metro_imports_controller_spec.rb","line_number":25,"run_time":0.099946287,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/metro_imports_controller_spec.rb[1:1:2:2:1]","description":"does not render the upload form","full_description":"PracticeDashboard::MetroImportsController GET #show with feature enabled with an in-progress import does not render the upload form","status":"passed","file_path":"./spec/controllers/practice_dashboard/metro_imports_controller_spec.rb","line_number":36,"run_time":0.142870781,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/metro_imports_controller_spec.rb[1:1:2:2:2]","description":"shows that the import is in-progress","full_description":"PracticeDashboard::MetroImportsController GET #show with feature enabled with an in-progress import shows that the import is in-progress","status":"passed","file_path":"./spec/controllers/practice_dashboard/metro_imports_controller_spec.rb","line_number":42,"run_time":0.129993578,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/metro_imports_controller_spec.rb[1:1:2:3:1]","description":"shows the import completion status","full_description":"PracticeDashboard::MetroImportsController GET #show with feature enabled with a successfully completed import shows the import completion status","status":"passed","file_path":"./spec/controllers/practice_dashboard/metro_imports_controller_spec.rb","line_number":53,"run_time":0.134290582,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/metro_imports_controller_spec.rb[1:1:2:4:1]","description":"shows the import failure status","full_description":"PracticeDashboard::MetroImportsController GET #show with feature enabled with a failed import shows the import failure status","status":"passed","file_path":"./spec/controllers/practice_dashboard/metro_imports_controller_spec.rb","line_number":65,"run_time":0.117304628,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/metro_imports_controller_spec.rb[1:2:1:1]","description":"has no effect","full_description":"PracticeDashboard::MetroImportsController POST #create with feature disabled has no effect","status":"passed","file_path":"./spec/controllers/practice_dashboard/metro_imports_controller_spec.rb","line_number":78,"run_time":0.064595973,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/metro_imports_controller_spec.rb[1:2:2:1:1]","description":"enqueues an import and redirects to its show action","full_description":"PracticeDashboard::MetroImportsController POST #create with feature enabled with a valid Metro upload enqueues an import and redirects to its show action","status":"passed","file_path":"./spec/controllers/practice_dashboard/metro_imports_controller_spec.rb","line_number":88,"run_time":0.095916558,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/practice_dashboard/metro_imports_controller_spec.rb[1:2:2:2:1]","description":"re-renders the upload form without enqueueing any imports","full_description":"PracticeDashboard::MetroImportsController POST #create with feature enabled without a statement re-renders the upload form without enqueueing any imports","status":"passed","file_path":"./spec/controllers/practice_dashboard/metro_imports_controller_spec.rb","line_number":105,"run_time":0.109684857,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:1:29]","description":"deletes subscriptions","full_description":"Company::ForgetCompanyData Deleting all data for a VAT registered UK company deletes subscriptions","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":384,"run_time":1.23583158,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:2:2:2:7:3]","description":"representing business entertaining admin expense","full_description":"UkAccountsMapper Accounts Mapper for UK companies who have applied for VAT registration after their registration effective date Bank Account Entries for the payment of a bill representing business entertaining admin expense","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":1755,"run_time":0.484710726,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:1:1:4:2]","description":"representing admin expenses","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the cash accounting basis not on the Flat Rate Scheme Bills representing admin expenses","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":2716,"run_time":0.481136534,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/overview/_accounting_details.html.erb_spec.rb[1:1:1]","description":"displays the trading start date","full_description":"admin/companies/overview/_accounting_details when the company has entered a trading start date displays the trading start date","status":"passed","file_path":"./spec/views/admin/companies/overview/_accounting_details.html.erb_spec.rb","line_number":15,"run_time":0.07245665,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/overview/_accounting_details.html.erb_spec.rb[1:2:1]","description":"displays text to say the trading start date has not been provided","full_description":"admin/companies/overview/_accounting_details when the company has not entered a trading start date displays text to say the trading start date has not been provided","status":"passed","file_path":"./spec/views/admin/companies/overview/_accounting_details.html.erb_spec.rb","line_number":26,"run_time":0.096615052,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/overview/_accounting_details.html.erb_spec.rb[1:3:1]","description":"displays a message that the accounting dates setup stage has not yet been completed","full_description":"admin/companies/overview/_accounting_details when the company has not completed the accounting dates setup stage displays a message that the accounting dates setup stage has not yet been completed","status":"passed","file_path":"./spec/views/admin/companies/overview/_accounting_details.html.erb_spec.rb","line_number":39,"run_time":0.122755539,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/overview/_accounting_details.html.erb_spec.rb[1:3:2]","description":"does not display the accounting date key value pairs","full_description":"admin/companies/overview/_accounting_details when the company has not completed the accounting dates setup stage does not display the accounting date key value pairs","status":"passed","file_path":"./spec/views/admin/companies/overview/_accounting_details.html.erb_spec.rb","line_number":45,"run_time":0.124028079,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/overview/_accounting_details.html.erb_spec.rb[1:3:3]","description":"displays the accounting basis","full_description":"admin/companies/overview/_accounting_details when the company has not completed the accounting dates setup stage displays the accounting basis","status":"passed","file_path":"./spec/views/admin/companies/overview/_accounting_details.html.erb_spec.rb","line_number":54,"run_time":0.132224851,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[3:9]","description":"shows view for latest accounting period","full_description":"InvoicesController GET :index shows view for latest accounting period","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":268,"run_time":0.399242237,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:69:3:1:1]","description":"is able to send the invoice","full_description":"Invoice A VAT-registered UK company with a scheduled invoice Company is not read only is able to send the invoice","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":1908,"run_time":0.362660871,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:109:3:1]","description":"returns a hash totalling invoices by currency","full_description":"Invoice#grouped_due_totals with a non-GBP currency invoice returns a hash totalling invoices by currency","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":3268,"run_time":0.282380991,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/inline_bill_item_action_spec.rb[1:1:1]","description":"renders the inline bill item form with the supplied attributes","full_description":"BillsController#inline_bill_item with regular bill attributes renders the inline bill item form with the supplied attributes","status":"passed","file_path":"./spec/controllers/bills_controller/inline_bill_item_action_spec.rb","line_number":14,"run_time":0.059595586,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/inline_bill_item_action_spec.rb[1:2:1]","description":"renders no content","full_description":"BillsController#inline_bill_item with no params renders no content","status":"passed","file_path":"./spec/controllers/bills_controller/inline_bill_item_action_spec.rb","line_number":36,"run_time":0.021590889,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/inline_bill_item_action_spec.rb[1:3:1]","description":"renders no content","full_description":"BillsController#inline_bill_item with no bill_items_attributes renders no content","status":"passed","file_path":"./spec/controllers/bills_controller/inline_bill_item_action_spec.rb","line_number":45,"run_time":0.020637275,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/inline_bill_item_action_spec.rb[1:4:1]","description":"renders no content","full_description":"BillsController#inline_bill_item with bill_contains set to 'multiple' renders no content","status":"passed","file_path":"./spec/controllers/bills_controller/inline_bill_item_action_spec.rb","line_number":56,"run_time":0.020519479,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/inline_bill_item_action_spec.rb[1:5:1:1]","description":"renders `total_value` with the supplied value","full_description":"BillsController#inline_bill_item with input_total_values_inc_tax set to true and `total_value` is set renders `total_value` with the supplied value","status":"passed","file_path":"./spec/controllers/bills_controller/inline_bill_item_action_spec.rb","line_number":68,"run_time":0.044462592,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/inline_bill_item_action_spec.rb[1:5:2:1]","description":"renders `total_value` with the supplied value","full_description":"BillsController#inline_bill_item with input_total_values_inc_tax set to true and `total_value_ex_tax` is set renders `total_value` with the supplied value","status":"passed","file_path":"./spec/controllers/bills_controller/inline_bill_item_action_spec.rb","line_number":81,"run_time":0.045620075,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/inline_bill_item_action_spec.rb[1:5:3:1]","description":"renders `total_value_ex_tax` with the supplied value","full_description":"BillsController#inline_bill_item with input_total_values_inc_tax set to false and `total_value` is set renders `total_value_ex_tax` with the supplied value","status":"passed","file_path":"./spec/controllers/bills_controller/inline_bill_item_action_spec.rb","line_number":94,"run_time":0.048384292,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/bills_controller/inline_bill_item_action_spec.rb[1:5:4:1]","description":"renders `total_value_ex_tax` with the supplied value","full_description":"BillsController#inline_bill_item with input_total_values_inc_tax set to false and `total_value_ex_tax` is set renders `total_value_ex_tax` with the supplied value","status":"passed","file_path":"./spec/controllers/bills_controller/inline_bill_item_action_spec.rb","line_number":107,"run_time":0.051470653,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:2:2:4:3]","description":"representing business entertaining admin expense","full_description":"UkAccountsMapper Accounts Mapper for UK companies who have applied for VAT registration after their registration effective date Bills representing business entertaining admin expense","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":1980,"run_time":0.241679289,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/ledgers/payroll_period_check_spec.rb[1:1:1:1:1]","description":"doesn't report any failure","full_description":"Ledgers::PayrollPeriodCheck#run_check behaves like a ledger check when ledgers are correct behaves like no check errors doesn't report any failure","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":2,"run_time":0.075362449,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/ledgers/payroll_period_check_spec.rb[1:1:2:1:1]","description":"reports a failed check","full_description":"Ledgers::PayrollPeriodCheck#run_check behaves like a ledger check when ledgers have been removed behaves like check errors reports a failed check","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":77,"run_time":0.053635986,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/ledgers/payroll_period_check_spec.rb[1:1:2:1:2]","description":"reports the failure","full_description":"Ledgers::PayrollPeriodCheck#run_check behaves like a ledger check when ledgers have been removed behaves like check errors reports the failure","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":81,"run_time":0.060271073,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/ledgers/payroll_period_check_spec.rb[1:1:3:1:1]","description":"reports a failed check","full_description":"Ledgers::PayrollPeriodCheck#run_check behaves like a ledger check when the source item's ledgers cannot be recalculated behaves like check errors reports a failed check","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":77,"run_time":0.047123269,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/ledgers/payroll_period_check_spec.rb[1:1:3:1:2]","description":"reports the failure","full_description":"Ledgers::PayrollPeriodCheck#run_check behaves like a ledger check when the source item's ledgers cannot be recalculated behaves like check errors reports the failure","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":81,"run_time":0.042853247,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/ledgers/payroll_period_check_spec.rb[1:1:4:1:1]","description":"doesn't report any failure","full_description":"Ledgers::PayrollPeriodCheck#run_check behaves like a ledger check when the source item has a ledger with zero as a value behaves like no check errors doesn't report any failure","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":2,"run_time":0.04965355,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[23:5:1]","description":"shows a UK VAT Summary in the invoice and forex info","full_description":"InvoicesController A sent foreign currency invoice which has been sent shows a UK VAT Summary in the invoice and forex info","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":2399,"run_time":1.264043554,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[29:1:7]","description":"contact name is hidden on invoice","full_description":"InvoicesController Multiple projects on invoice Multiple projects on invoice contact name is hidden on invoice","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":3010,"run_time":0.32133532,"pending_message":null,"screenshot":null}],"summary":{"duration":3.131739996,"example_count":426,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"426 examples, 0 failures"}