{"version":"3.11.0","messages":["Run options:\n  include {:ids=\u003e{\"./spec/models/invoice_spec.rb\"=\u003e[\"1:101:5:1\", \"1:106:2\", \"1:118:2:1\", \"1:97:2:3:1\", \"1:80:1\"]}}\n  exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/requests/api/invoices_integration_spec.rb[1:1:1:1:1]","description":"no nested invoice items","full_description":"Api::InvoicesController GET /invoices with the right permission_level with 3 invoices and 2 invoice items each no nested invoice items","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":156,"run_time":0.815963015,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:1:1:1:2]","description":"with nested_invoice_items=true","full_description":"Api::InvoicesController GET /invoices with the right permission_level with 3 invoices and 2 invoice items each with nested_invoice_items=true","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":179,"run_time":0.363026443,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:1:1:2:1]","description":"no nested invoice items","full_description":"Api::InvoicesController GET /invoices with the right permission_level with invoices filter on currency no nested invoice items","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":210,"run_time":0.421293073,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:1:1:3:1]","description":"returns a success response","full_description":"Api::InvoicesController GET /invoices with the right permission_level with a :view parameter returns a success response","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":222,"run_time":0.158464926,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:1:1:3:2:1]","description":"returns a suitable error message","full_description":"Api::InvoicesController GET /invoices with the right permission_level with a :view parameter for an invalid filter returns a suitable error message","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":246,"run_time":0.06467918,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:1:1:4:1]","description":"returns invoices with the default :created_at ordering","full_description":"Api::InvoicesController GET /invoices with the right permission_level without a :sort parameter returns invoices with the default :created_at ordering","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":266,"run_time":0.372459756,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:1:1:5:1]","description":"returns the invoices sorted by the correct field and order","full_description":"Api::InvoicesController GET /invoices with the right permission_level with a :sort parameter returns the invoices sorted by the correct field and order","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":293,"run_time":0.563049205,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:1:1:5:2:1]","description":"returns a suitable error message","full_description":"Api::InvoicesController GET /invoices with the right permission_level with a :sort parameter for an invalid field returns a suitable error message","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":335,"run_time":0.295841077,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:1:1:6:1:1]","description":"returns array of matching invoices","full_description":"Api::InvoicesController GET /invoices with the right permission_level with date filters from_date returns array of matching invoices","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":357,"run_time":0.1964188,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:1:1:6:2:1]","description":"returns array of matching invoices","full_description":"Api::InvoicesController GET /invoices with the right permission_level with date filters to_date returns array of matching invoices","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":370,"run_time":0.194847468,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:1:1:6:3:1]","description":"returns array of matching invoices","full_description":"Api::InvoicesController GET /invoices with the right permission_level with date filters from_date_to_date returns array of matching invoices","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":385,"run_time":0.185351826,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:1:1:6:4:1]","description":"returns array of matching invoices","full_description":"Api::InvoicesController GET /invoices with the right permission_level with date filters updated_since returns array of matching invoices","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":397,"run_time":0.189576963,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:1:1:7:1]","description":"returns the CIS details on the invoices","full_description":"Api::InvoicesController GET /invoices with the right permission_level with CIS returns the CIS details on the invoices","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":416,"run_time":0.157856463,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:1:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::InvoicesController GET /invoices without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":430,"run_time":0.05781259,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:1:3:1:1]","description":"responds with invoices only for the specified contact","full_description":"Api::InvoicesController GET /invoices for a company with two invoices by two different contacts when filtering by a specific contact responds with invoices only for the specified contact","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":442,"run_time":0.173108179,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:2:1]","description":"when type is 'all'","full_description":"Api::InvoicesController GET /invoices with a :type parameter when type is 'all'","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":473,"run_time":0.236969044,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:2:2]","description":"when type is 'invoices'","full_description":"Api::InvoicesController GET /invoices with a :type parameter when type is 'invoices'","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":488,"run_time":0.215057004,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:2:3]","description":"when type is 'credit_notes'","full_description":"Api::InvoicesController GET /invoices with a :type parameter when type is 'credit_notes'","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":499,"run_time":0.210673648,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:3:1]","description":"filtering by an invalid currency","full_description":"Api::InvoicesController GET /invoices with a :currency parameter filtering by an invalid currency","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":515,"run_time":0.168426654,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:3:2]","description":"filtering by a valid currency","full_description":"Api::InvoicesController GET /invoices with a :currency parameter filtering by a valid currency","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":521,"run_time":0.187288208,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:4:2]","description":"without the right permission level","full_description":"Api::InvoicesController GET /invoicing without the right permission level","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":559,"run_time":0.059708274,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:4:1:1]","description":"should return invoices and credit_notes in the response","full_description":"Api::InvoicesController GET /invoicing with right permission level should return invoices and credit_notes in the response","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":539,"run_time":0.182432762,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:4:1:2]","description":"should support views","full_description":"Api::InvoicesController GET /invoicing with right permission level should support views","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":548,"run_time":0.341735957,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:5:1:1]","description":"responds with invoices only for the specified project","full_description":"Api::InvoicesController for a company with two invoices associated with two different projects when filtering by the first project responds with invoices only for the specified project","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":579,"run_time":0.172020257,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:5:2:1]","description":"responds with invoices only for the specified project","full_description":"Api::InvoicesController for a company with two invoices associated with two different projects when filtering by the second project responds with invoices only for the specified project","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":591,"run_time":0.16368553,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:6:1:1:1:1]","description":"responds with the standard invoice fields","full_description":"Api::InvoicesController GET /invoices/invoice_id with the right permission_level with valid invoice_id with no invoice_items responds with the standard invoice fields","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":608,"run_time":0.126328138,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:6:1:1:2:1]","description":"appends an array of invoice_items","full_description":"Api::InvoicesController GET /invoices/invoice_id with the right permission_level with valid invoice_id with 3 invoice_items appends an array of invoice_items","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":625,"run_time":0.219777747,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:6:1:1:3:1]","description":"is payable online","full_description":"Api::InvoicesController GET /invoices/invoice_id with the right permission_level with valid invoice_id with an invoice that is payable online is payable online","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":650,"run_time":0.191269265,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:6:1:1:3:2]","description":"includes the payment URL in the response","full_description":"Api::InvoicesController GET /invoices/invoice_id with the right permission_level with valid invoice_id with an invoice that is payable online includes the payment URL in the response","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":654,"run_time":0.174812784,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:6:1:1:4:1]","description":"is marked as moss","full_description":"Api::InvoicesController GET /invoices/invoice_id with the right permission_level with valid invoice_id with a moss invoice is marked as moss","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":665,"run_time":0.133054185,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:6:1:1:5:1]","description":"responds with the standard invoice fields","full_description":"Api::InvoicesController GET /invoices/invoice_id with the right permission_level with valid invoice_id with an invoice that has 'optional' fields responds with the standard invoice fields","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":690,"run_time":0.137579069,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:6:1:1:6:1]","description":"responds with the standard + CIS invoice fields","full_description":"Api::InvoicesController GET /invoices/invoice_id with the right permission_level with valid invoice_id with a CIS invoice responds with the standard + CIS invoice fields","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":703,"run_time":0.165325876,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:6:1:1:7:1]","description":"translates the sales tax status attributes into the API format","full_description":"Api::InvoicesController GET /invoices/invoice_id with the right permission_level with valid invoice_id sales tax status translates the sales tax status attributes into the API format","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":728,"run_time":0.157806197,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:6:1:2:1]","description":"is expected to respond with a missing status code (404)","full_description":"Api::InvoicesController GET /invoices/invoice_id with the right permission_level with invalid invoice_id is expected to respond with a missing status code (404)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":740,"run_time":0.064473121,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:6:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::InvoicesController GET /invoices/invoice_id without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":750,"run_time":0.104043689,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:7:1]","description":"returns base64 encoded PDF data with correct permissions","full_description":"Api::InvoicesController GET /invoices/invoice_id/pdf returns base64 encoded PDF data with correct permissions","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":762,"run_time":0.217879275,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:7:2]","description":"doesn't allow access without the right permission_level","full_description":"Api::InvoicesController GET /invoices/invoice_id/pdf doesn't allow access without the right permission_level","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":773,"run_time":0.132887619,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:1]","description":"creates an audit entry","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice creates an audit entry","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":794,"run_time":0.163415186,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:2]","description":"publishes the invoice created event","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice publishes the invoice created event","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":815,"run_time":0.145083595,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:3:1]","description":"ignores the contact parameter at the top level and fails to create the invoice","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice when contact is sent as a top level variable ignores the contact parameter at the top level and fails to create the invoice","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":833,"run_time":0.088327363,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:4:1]","description":"ignores the top level contact parameter and create the invoice with the contact in the invoice payload","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice when contact is sent as a top level variable and in the body ignores the top level contact parameter and create the invoice with the contact in the invoice payload","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":856,"run_time":0.213583273,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:5:1]","description":"uses the company's selected invoice theme","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with the company's default invoice theme set to something other than the last theme uses the company's selected invoice theme","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":876,"run_time":0.168742664,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:6:1]","description":"is expected to respond with status code :created (201)","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with invoice template is expected to respond with status code :created (201)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":888,"run_time":0.154610592,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:7:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with no new invoice template is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":897,"run_time":0.069346517,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:8:1]","description":"is expected to respond with status code :created (201)","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with reminder template is expected to respond with status code :created (201)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":907,"run_time":0.155295353,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:9:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with no reminder template is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":916,"run_time":0.07473976,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:10:1]","description":"is expected to respond with status code :created (201)","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with thank you template is expected to respond with status code :created (201)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":926,"run_time":0.192761785,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:11:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with no new thank you templates is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":935,"run_time":0.077947241,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:12:1]","description":"has expected cis fields","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with CIS rate has expected cis fields","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":946,"run_time":0.200503549,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:1:1]","description":"has created an invoice record for the current company","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with no invoice_items has created an invoice record for the current company","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":960,"run_time":0.159904961,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:2:1]","description":"sets the bank account correctly","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with a bank account specified sets the bank account correctly","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":986,"run_time":0.172665059,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:3:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with contact on a different company is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":999,"run_time":0.117821877,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:1:1:1]","description":"creates an invoice with the correct ec_status","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to Non-EC value as Non-EC creates an invoice with the correct ec_status","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1004,"run_time":0.168579351,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:1:2:1]","description":"creates an invoice with the correct ec_status","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to Non-EC value as 0 creates an invoice with the correct ec_status","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1004,"run_time":0.148017897,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:2:1:1:1]","description":"creates an invoice with the correct ec_status","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to EC Services value as EC Services when the company is in the EU on the record date creates an invoice with the correct ec_status","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1004,"run_time":0.154097005,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:2:1:2:1:1]","description":"creates an invoice with the correct ec_status","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to EC Services value as EC Services when the company is not in the EU on the record date when the company has a NI postcode creates an invoice with the correct ec_status","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1004,"run_time":0.154675632,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:2:1:2:2:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to EC Services value as EC Services when the company is not in the EU on the record date when the company does not have a NI postcode is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1069,"run_time":0.090681561,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:2:2:1:1]","description":"creates an invoice with the correct ec_status","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to EC Services value as 1 when the company is in the EU on the record date creates an invoice with the correct ec_status","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1004,"run_time":0.15583975,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:2:2:2:1:1]","description":"creates an invoice with the correct ec_status","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to EC Services value as 1 when the company is not in the EU on the record date when the company has a NI postcode creates an invoice with the correct ec_status","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1004,"run_time":0.282882603,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:2:2:2:2:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to EC Services value as 1 when the company is not in the EU on the record date when the company does not have a NI postcode is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1069,"run_time":0.216543104,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:3:1:1]","description":"creates an invoice with the correct ec_status","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to EC Goods (value as \"EC Goods\") creates an invoice with the correct ec_status","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1004,"run_time":0.411904386,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:3:2:1]","description":"creates an invoice with the correct ec_status","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to EC Goods (value as \"2\") creates an invoice with the correct ec_status","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1004,"run_time":0.371426988,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:4:1:1:1]","description":"creates an invoice with the correct ec_status","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to EC VAT MOSS value as EC VAT MOSS with a place of supply creates an invoice with the correct ec_status","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1105,"run_time":0.225563689,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:4:1:2:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to EC VAT MOSS value as EC VAT MOSS without a place of supply is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1119,"run_time":0.12565787,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:4:2:1:1]","description":"creates an invoice with the correct ec_status","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to EC VAT MOSS value as 3 with a place of supply creates an invoice with the correct ec_status","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1105,"run_time":0.212586742,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:4:2:2:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to EC VAT MOSS value as 3 without a place of supply is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1119,"run_time":0.111205444,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:5:1:1:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to Reverse Charge value as Reverse Charge when the company is in the EU on the record date is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1138,"run_time":0.130699462,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:5:1:2:1:1]","description":"creates an invoice with the correct ec_status","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to Reverse Charge value as Reverse Charge when the company is not in the EU on the record date when the company has a NI postcode creates an invoice with the correct ec_status","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1004,"run_time":0.225543243,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:5:1:2:2:1]","description":"creates an invoice with the correct ec_status","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to Reverse Charge value as Reverse Charge when the company is not in the EU on the record date when the company does not have a NI postcode creates an invoice with the correct ec_status","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1004,"run_time":0.207174122,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:5:2:1:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to Reverse Charge value as 4 when the company is in the EU on the record date is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1138,"run_time":0.12122274,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:5:2:2:1:1]","description":"creates an invoice with the correct ec_status","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to Reverse Charge value as 4 when the company is not in the EU on the record date when the company has a NI postcode creates an invoice with the correct ec_status","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1004,"run_time":0.186021852,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:5:2:2:2:1]","description":"creates an invoice with the correct ec_status","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to Reverse Charge value as 4 when the company is not in the EU on the record date when the company does not have a NI postcode creates an invoice with the correct ec_status","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1004,"run_time":0.178132611,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:4:6:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with ec_status set to an invalid value is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1169,"run_time":0.102985542,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:5:1]","description":"has created a invoice record for the current company","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with 3 invoice_items has created a invoice record for the current company","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1190,"run_time":0.239538586,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:6:1]","description":"has created a the invoice items in the correct order","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with 3 invoice_items with named positions has created a the invoice items in the correct order","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1223,"run_time":0.259357234,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:7:1]","description":"has created an invoice record for the current company","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with 1 invoice_item with no item_type has created an invoice record for the current company","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1246,"run_time":0.239899291,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:8:1]","description":"has created an invoice record for the current company","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with 3 invoice_items to different categories has created an invoice record for the current company","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1280,"run_time":0.244013999,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:8:2]","description":"responds with the standard invoice fields","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with 3 invoice_items to different categories responds with the standard invoice fields","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1285,"run_time":0.237921934,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:8:3]","description":"appends an array of invoice_items","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with 3 invoice_items to different categories appends an array of invoice_items","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1290,"run_time":0.23570123,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:8:4]","description":"appends the standard invoice_items fields","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with 3 invoice_items to different categories appends the standard invoice_items fields","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1294,"run_time":0.277967791,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:8:5]","description":"correctly categorises invoice items","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with 3 invoice_items to different categories correctly categorises invoice items","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1301,"run_time":0.275381456,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:9:1]","description":"should create the invoice","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with a nil category should create the invoice","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1328,"run_time":0.234162875,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:9:2]","description":"should assign a default category to the invoice item","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with a nil category should assign a default category to the invoice item","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1333,"run_time":0.24183919,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:10:1]","description":"is expected to respond with status code :created (201)","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes invoice_items set to nil is expected to respond with status code :created (201)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1345,"run_time":0.22402004,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:11:1]","description":"returns an error on invoice_items","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes invoice_items is a string returns an error on invoice_items","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1356,"run_time":0.112468091,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:13:12:1]","description":"has created an invoice record for the current company with the stock item","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with valid attributes with 1 invoice_item of type stock_item has created an invoice record for the current company with the stock item","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1378,"run_time":0.340029449,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:14:1:1:1]","description":"has the same number of invoices after posting attempt","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with invalid attributes invoice name has the same number of invoices after posting attempt","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1398,"run_time":0.128549332,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:14:1:2:1]","description":"responds with an error","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with invalid attributes invoice as an array responds with an error","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1409,"run_time":0.089474715,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:14:2:1:1]","description":"does not create stock item entries where the stock item does not belong to that company","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with invalid attributes invoice_item stock item does not create stock item entries where the stock item does not belong to that company","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1430,"run_time":0.135219782,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:14:2:2:1]","description":"has the same number of invoices after posting attempt","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with invalid attributes invoice_item quantity has the same number of invoices after posting attempt","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1444,"run_time":0.125884664,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:14:2:3:1]","description":"returns an error message","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with invalid attributes invoice_item category returns an error message","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1459,"run_time":0.101513051,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:1:14:3:1]","description":"returns an error on payment_methods","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a valid invoice with invalid attributes payment_methods returns an error on payment_methods","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1472,"run_time":0.086882019,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:2:1]","description":"has the same number of invoices after posting attempt","full_description":"Api::InvoicesController POST /invoices with the right permission_level as an invalid invoice  has the same number of invoices after posting attempt","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1490,"run_time":0.113959884,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:3:1]","description":"returns an error message","full_description":"Api::InvoicesController POST /invoices with the right permission_level with an empty request body returns an error message","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1502,"run_time":0.089700256,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:4:1:1]","description":"creates the invoice","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a UK Unincorporated Landlord when supplying a property creates the invoice","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1532,"run_time":0.307436752,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:4:2:1]","description":"fails to create the invoice","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a UK Unincorporated Landlord when supplying a property owned by another company fails to create the invoice","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1543,"run_time":0.248502392,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:1:4:3:1]","description":"fails to create the invoice","full_description":"Api::InvoicesController POST /invoices with the right permission_level as a UK Unincorporated Landlord when not supplying a property fails to create the invoice","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1551,"run_time":0.176922188,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:8:2:1:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::InvoicesController POST /invoices without the right permission_level as a valid invoice is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1567,"run_time":0.085833763,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:9:1]","description":"when no project_id is passed for the invoice_item_attributes","full_description":"Api::InvoicesController POST /invoices associated to a project when no project_id is passed for the invoice_item_attributes","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1588,"run_time":0.243845352,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:9:2:1]","description":"by default","full_description":"Api::InvoicesController POST /invoices associated to a project passing another project's id in invoice_item_attributes by default","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1623,"run_time":0.298687871,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:9:2:2]","description":"create an invoice with a project and invoice items","full_description":"Api::InvoicesController POST /invoices associated to a project passing another project's id in invoice_item_attributes create an invoice with a project and invoice items","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1638,"run_time":0.269387177,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:9:3:1]","description":"unbilled item options passed in parameters","full_description":"Api::InvoicesController POST /invoices associated to a project when unbilled items are present unbilled item options passed in parameters","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1659,"run_time":0.635461325,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:10:1]","description":"should duplicate the correct invoice properties","full_description":"Api::InvoicesController POST /invoices/:id/duplicate should duplicate the correct invoice properties","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1706,"run_time":0.585946978,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:11:1:1:1:1:1]","description":"updates the currency","full_description":"Api::InvoicesController PUT /invoices/invoice_id with the right permission_level with valid invoice_id with valid attributes invoice with foreign currency updates the currency","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1750,"run_time":0.248457284,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:11:1:1:1:2:2]","description":"PUT invoice_item_id","full_description":"Api::InvoicesController PUT /invoices/invoice_id with the right permission_level with valid invoice_id with valid attributes invoice_items PUT invoice_item_id","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1772,"run_time":0.399365122,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:11:1:1:1:2:1:1]","description":"have an additional invoice_item after one has been 'posted'","full_description":"Api::InvoicesController PUT /invoices/invoice_id with the right permission_level with valid invoice_id with valid attributes invoice_items POST invoice_item_id have an additional invoice_item after one has been 'posted'","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1766,"run_time":0.413267446,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:11:1:1:1:2:3:1]","description":"has new invoice item with associated stock item","full_description":"Api::InvoicesController PUT /invoices/invoice_id with the right permission_level with valid invoice_id with valid attributes invoice_items add a stock_item invoice item to an existing invoice has new invoice item with associated stock item","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1802,"run_time":0.360137106,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:11:1:1:1:2:4:1:1]","description":"deletes the invoice item","full_description":"Api::InvoicesController PUT /invoices/invoice_id with the right permission_level with valid invoice_id with valid attributes invoice_items PUT invoice_item_id with _destroy param set to 1 and the invoice is draft deletes the invoice item","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1822,"run_time":0.334061227,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:11:1:1:1:2:4:2:1]","description":"does not delete the invoice item","full_description":"Api::InvoicesController PUT /invoices/invoice_id with the right permission_level with valid invoice_id with valid attributes invoice_items PUT invoice_item_id with _destroy param set to 1 and the invoice is sent does not delete the invoice item","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1838,"run_time":0.403060542,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:11:1:1:1:2:5:1]","description":"sets the sales tax rate of the invoice item","full_description":"Api::InvoicesController PUT /invoices/invoice_id with the right permission_level with valid invoice_id with valid attributes invoice_items POST with invoice items with sales tax status set sets the sales tax rate of the invoice item","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1862,"run_time":0.327113524,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:11:1:1:1:2:6:1]","description":"sets the sales tax rate of the invoice item","full_description":"Api::InvoicesController PUT /invoices/invoice_id with the right permission_level with valid invoice_id with valid attributes invoice_items PUT with invoice items with sales tax status set sets the sales tax rate of the invoice item","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1877,"run_time":0.372220489,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:11:1:1:1:2:7:1]","description":"creates a valid invoice","full_description":"Api::InvoicesController PUT /invoices/invoice_id with the right permission_level with valid invoice_id with valid attributes invoice_items POST with invoice items with EC Services status creates a valid invoice","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1914,"run_time":0.311833796,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:11:1:1:1:3:1:1]","description":"updates succesfully","full_description":"Api::InvoicesController PUT /invoices/invoice_id with the right permission_level with valid invoice_id with valid attributes CIS with a valid CIS rate updates succesfully","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1932,"run_time":0.320279111,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:11:1:1:1:3:2:1]","description":"returns bad_request and an error message","full_description":"Api::InvoicesController PUT /invoices/invoice_id with the right permission_level with valid invoice_id with valid attributes CIS with an invalid CIS rate returns bad_request and an error message","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1945,"run_time":0.203939933,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:11:1:1:1:4:1]","description":"updates the property","full_description":"Api::InvoicesController PUT /invoices/invoice_id with the right permission_level with valid invoice_id with valid attributes as a UK Unincorporated Landlord updates the property","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1974,"run_time":0.331623738,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:11:1:1:2:1:1]","description":"has the same number of invoices after posting attempt","full_description":"Api::InvoicesController PUT /invoices/invoice_id with the right permission_level with valid invoice_id with invalid attributes name has the same number of invoices after posting attempt","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":1991,"run_time":0.186553048,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:11:1:2:1]","description":"is expected to respond with a not_found status code (404)","full_description":"Api::InvoicesController PUT /invoices/invoice_id with the right permission_level with invalid invoice_id is expected to respond with a not_found status code (404)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2004,"run_time":0.091003601,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:11:2:1:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::InvoicesController PUT /invoices/invoice_id without the right permission_level with valid invoice_id is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2017,"run_time":0.132394966,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:12:1]","description":"PUT /v2/invoices when adding invoice items","full_description":"Api::InvoicesController Given an invoice with a project PUT /v2/invoices when adding invoice items","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2029,"run_time":0.315287521,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:12:2:1]","description":"PUT /v2/invoices/:id by default","full_description":"Api::InvoicesController Given an invoice with a project when adding invoice_items for another project PUT /v2/invoices/:id by default","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2059,"run_time":0.349595227,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:12:2:2]","description":"PUT /v2/invoices/:id","full_description":"Api::InvoicesController Given an invoice with a project when adding invoice_items for another project PUT /v2/invoices/:id","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2072,"run_time":0.356423716,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:12:3:1]","description":"PUT /v2/invoices/:id by default","full_description":"Api::InvoicesController Given an invoice with a project when changing the project to another project PUT /v2/invoices/:id by default","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2098,"run_time":0.486656645,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:12:3:2]","description":"PUT /v2/invoices/:id","full_description":"Api::InvoicesController Given an invoice with a project when changing the project to another project PUT /v2/invoices/:id","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2113,"run_time":0.444151072,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:12:4:2]","description":"PUT /v2/invoices/:id when no nested attributes for invoice_items are passed","full_description":"Api::InvoicesController Given an invoice with a project when removing the project PUT /v2/invoices/:id when no nested attributes for invoice_items are passed","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2160,"run_time":0.46447521,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:12:4:3]","description":"PUT /v2/invoices/:id with nested invoice_items attributes","full_description":"Api::InvoicesController Given an invoice with a project when removing the project PUT /v2/invoices/:id with nested invoice_items attributes","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2179,"run_time":0.485233015,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:12:4:1:1]","description":"removes the invoice project and the manually added invoice_item's project_id","full_description":"Api::InvoicesController Given an invoice with a project when removing the project PUT /v2/invoices/:id by default removes the invoice project and the manually added invoice_item's project_id","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2153,"run_time":0.440242612,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:12:5:1:1]","description":"keeps the correct invoice items","full_description":"Api::InvoicesController Given an invoice with a project when unbilled items are present with unbilled item options passed in parameters keeps the correct invoice items","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2242,"run_time":1.473521204,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:13:1]","description":"PUT /v2/invoices/:id with attributes other than project_id","full_description":"Api::InvoicesController Given an invoice with line items for multiple projects PUT /v2/invoices/:id with attributes other than project_id","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2268,"run_time":0.421943491,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:13:2]","description":"PUT /v2/invoices/:id with another contact","full_description":"Api::InvoicesController Given an invoice with line items for multiple projects PUT /v2/invoices/:id with another contact","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2282,"run_time":0.296535799,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:13:3]","description":"PUT /v2/invoices/:id with another contact and a new primary project","full_description":"Api::InvoicesController Given an invoice with line items for multiple projects PUT /v2/invoices/:id with another contact and a new primary project","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2299,"run_time":0.44424574,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:13:4]","description":"PUT /v2/invoices/:id with primary project changed to another project","full_description":"Api::InvoicesController Given an invoice with line items for multiple projects PUT /v2/invoices/:id with primary project changed to another project","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2311,"run_time":0.373527826,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:13:5]","description":"PUT /v2/invoices/:id with primary project changed to nil","full_description":"Api::InvoicesController Given an invoice with line items for multiple projects PUT /v2/invoices/:id with primary project changed to nil","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2328,"run_time":0.280894093,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:13:6:1]","description":"sets the newly created invoice_item's id to the primary project's id","full_description":"Api::InvoicesController Given an invoice with line items for multiple projects PUT /v2/invoices/:id when adding invoice items sets the newly created invoice_item's id to the primary project's id","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2359,"run_time":0.445903079,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:14:1]","description":"PUT /v2/invoices/:id while changing the project_id","full_description":"Api::InvoicesController Given an invoice not associated with a project PUT /v2/invoices/:id while changing the project_id","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2372,"run_time":0.399808674,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:15:1:1:1:1]","description":"has one less invoice after deletion and creates an audit entry","full_description":"Api::InvoicesController DELETE /invoices/invoice_id with the right permission_level with valid invoice_id deleteable (when status set to Draft) has one less invoice after deletion and creates an audit entry","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2415,"run_time":0.282671382,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:15:1:1:1:2]","description":"publishes an INVOICE_DELETED event","full_description":"Api::InvoicesController DELETE /invoices/invoice_id with the right permission_level with valid invoice_id deleteable (when status set to Draft) publishes an INVOICE_DELETED event","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2435,"run_time":0.276302253,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:15:1:1:2:1]","description":"has the same number of invoices after deletion attempt and does not create an audit entry","full_description":"Api::InvoicesController DELETE /invoices/invoice_id with the right permission_level with valid invoice_id not deleteable (when status set to Sent) has the same number of invoices after deletion attempt and does not create an audit entry","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2452,"run_time":0.290236287,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:15:1:2:1]","description":"is expected to respond with a not_found status code (404)","full_description":"Api::InvoicesController DELETE /invoices/invoice_id with the right permission_level with invalid invoice_id is expected to respond with a not_found status code (404)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2465,"run_time":0.096645178,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:15:2:1:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::InvoicesController DELETE /invoices/invoice_id without the right permission_level with valid invoice_id is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2477,"run_time":0.153462825,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:16:1:1:1:1]","description":"converts the invoice and returns 200 OK and creates an audit entry","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/convert_to_credit_note with the right permission_level with valid invoice_id that can be converted to a credit note converts the invoice and returns 200 OK and creates an audit entry","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2492,"run_time":0.36325347,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:16:1:1:2:1]","description":"returns bad request and the error messages in the body","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/convert_to_credit_note with the right permission_level with valid invoice_id that cannot be converted to a credit note returns bad request and the error messages in the body","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2530,"run_time":0.244924715,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:16:1:1:3:1]","description":"returns bad request and the error messages in the body","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/convert_to_credit_note with the right permission_level with valid invoice_id attempting to convert a Credit Note returns bad request and the error messages in the body","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2545,"run_time":0.235109005,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:16:1:2:1]","description":"returns not found","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/convert_to_credit_note with the right permission_level with invalid invoice_id returns not found","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2559,"run_time":0.085236832,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:16:1:3:1]","description":"returns not found","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/convert_to_credit_note with the right permission_level with a draft negative invoice belonging to another company returns not found","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2571,"run_time":0.32506035,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:16:2:1]","description":"returns forbidden and does not convert the invoice","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/convert_to_credit_note without the right permission_level returns forbidden and does not convert the invoice","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2581,"run_time":0.175632229,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:17:1:1:1:1]","description":"creates an audit entry and publishes the invoice marked as sent event","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_sent with the right permission_level with valid invoice_id allowed transition creates an audit entry and publishes the invoice marked as sent event","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2605,"run_time":0.314903772,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:17:1:1:1:2]","description":"publishes the invoice sent event","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_sent with the right permission_level with valid invoice_id allowed transition publishes the invoice sent event","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2621,"run_time":0.325361837,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:17:1:1:2:1]","description":"returns a forbidden status with an error explaning the invalid nature of the invoice","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_sent with the right permission_level with valid invoice_id with a forward dated foreign currency invoice with sales tax returns a forbidden status with an error explaning the invalid nature of the invoice","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2641,"run_time":0.206196708,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:17:1:2:1]","description":"is expected to respond with a missing status code (404)","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_sent with the right permission_level with invalid invoice_id is expected to respond with a missing status code (404)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2655,"run_time":0.093557696,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:17:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_sent without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2662,"run_time":0.136711077,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:18:1:1:1:1]","description":"creates an audit entry","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_scheduled with the right permission_level with valid invoice_id allowed transition creates an audit entry","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2682,"run_time":0.271455014,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:18:1:1:2:1]","description":"does not create an audit entry","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_scheduled with the right permission_level with valid invoice_id prohibited transition does not create an audit entry","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2708,"run_time":0.18061058,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:18:1:2:1]","description":"is expected to respond with a missing status code (404)","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_scheduled with the right permission_level with invalid invoice_id is expected to respond with a missing status code (404)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2720,"run_time":0.1977438,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:18:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_scheduled without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2730,"run_time":0.152354479,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:19:1:1:1:1]","description":"creates an audit entry","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_draft with the right permission_level with valid invoice_id allowed transition creates an audit entry","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2746,"run_time":0.352944482,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:19:1:1:2:1]","description":"does not create an audit entry","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_draft with the right permission_level with valid invoice_id prohibited transition does not create an audit entry","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2772,"run_time":0.165274734,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:19:1:2:1]","description":"is expected to respond with a missing status code (404)","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_draft with the right permission_level with invalid invoice_id is expected to respond with a missing status code (404)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2784,"run_time":0.088933394,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:19:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_draft without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2794,"run_time":0.139551395,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:20:1:1:1:1]","description":"creates an audit entry","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_cancelled with the right permission_level with valid invoice_id allowed transition creates an audit entry","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2810,"run_time":0.375804964,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:20:1:1:1:2]","description":"publishes an INVOICE_WRITTEN_OFF event","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_cancelled with the right permission_level with valid invoice_id allowed transition publishes an INVOICE_WRITTEN_OFF event","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2826,"run_time":0.358355087,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:20:1:1:2:1]","description":"does not create an audit entry","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_cancelled with the right permission_level with valid invoice_id prohibited transition does not create an audit entry","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2849,"run_time":0.156749904,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:20:1:2:1]","description":"is expected to respond with a missing status code (404)","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_cancelled with the right permission_level with invalid invoice_id is expected to respond with a missing status code (404)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2861,"run_time":0.092240589,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:20:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::InvoicesController PUT /invoices/:id/transitions/mark_as_cancelled without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2871,"run_time":0.133924245,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:21:1:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::InvoicesController GET /invoices/:id/email_template without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2894,"run_time":0.163839891,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:21:2:1]","description":"returns the correct invoice data","full_description":"Api::InvoicesController GET /invoices/:id/email_template with the default new invoice email template returns the correct invoice data","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2911,"run_time":0.26535149,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:21:2:2:1]","description":"returns the correct payment_button_preview_url","full_description":"Api::InvoicesController GET /invoices/:id/email_template with the default new invoice email template with the email_payment_button feature enabled returns the correct payment_button_preview_url","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2926,"run_time":0.238108281,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:21:2:3:1]","description":"doesn't return payment_button_preview_url","full_description":"Api::InvoicesController GET /invoices/:id/email_template with the default new invoice email template with the email_payment_button feature disabled doesn't return payment_button_preview_url","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2937,"run_time":0.290887843,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:21:3:1:1]","description":"returns the correct invoice data","full_description":"Api::InvoicesController GET /invoices/:id/email_template with a custom invoice template with the email_payment_button feature disabled returns the correct invoice data","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2964,"run_time":0.205707306,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:21:3:2:1]","description":"returns the correct invoice data","full_description":"Api::InvoicesController GET /invoices/:id/email_template with a custom invoice template with the email_payment_button feature enabled returns the correct invoice data","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":2995,"run_time":0.198917903,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:22:1:1:1]","description":"returns the correct details","full_description":"Api::InvoicesController GET /invoices/:id/quick_send_reminder_email_template with the email_payment_button feature disabled quick send reminder exists returns the correct details","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3048,"run_time":0.340843283,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:22:1:2:1]","description":"returns the correct payment_button_preview_url","full_description":"Api::InvoicesController GET /invoices/:id/quick_send_reminder_email_template with the email_payment_button feature disabled with the email_payment_button feature enabled returns the correct payment_button_preview_url","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3068,"run_time":0.254233927,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:22:1:2:2:1]","description":"returns empty template","full_description":"Api::InvoicesController GET /invoices/:id/quick_send_reminder_email_template with the email_payment_button feature disabled with the email_payment_button feature enabled no quick reminder set up returns empty template","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3080,"run_time":0.226429982,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:22:1:3:1]","description":"doesn't return a payment_button_preview_url","full_description":"Api::InvoicesController GET /invoices/:id/quick_send_reminder_email_template with the email_payment_button feature disabled with the email_payment_button feature disabled doesn't return a payment_button_preview_url","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3097,"run_time":0.236579861,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:22:2:1:1]","description":"returns the correct details","full_description":"Api::InvoicesController GET /invoices/:id/quick_send_reminder_email_template with the email_payment_button feature enabled quick send reminder exists returns the correct details","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3140,"run_time":0.274490154,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:23:1:1:1]","description":"responds with an array of invoice_timeline_items","full_description":"Api::InvoicesController GET /invoices/timeline with the right permission_level with 2 paid invoices responds with an array of invoice_timeline_items","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3174,"run_time":0.781245562,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:23:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::InvoicesController GET /invoices/timeline without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3195,"run_time":0.078112654,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:24:1:1]","description":"returns an invoice template without an active contact","full_description":"Api::InvoicesController GET /invoices/new No contacts or invoices on company returns an invoice template without an active contact","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3207,"run_time":0.134110708,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:24:2:1]","description":"returns the latest invoice details for GET /invoices/new","full_description":"Api::InvoicesController GET /invoices/new Invoices exist returns the latest invoice details for GET /invoices/new","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3246,"run_time":0.378830272,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:24:2:2]","description":"returns project and contact details for GET /invoices/new?contact=:id","full_description":"Api::InvoicesController GET /invoices/new Invoices exist returns project and contact details for GET /invoices/new?contact=:id","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3254,"run_time":0.442095823,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:24:2:3]","description":"returns project and contact urls and IDs when GET /invoices/new?project=:id","full_description":"Api::InvoicesController GET /invoices/new Invoices exist returns project and contact urls and IDs when GET /invoices/new?project=:id","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3262,"run_time":0.474371808,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:24:2:4]","description":"returns project and contact details when GET /invoices/new?contact=:id\u0026project=:id","full_description":"Api::InvoicesController GET /invoices/new Invoices exist returns project and contact details when GET /invoices/new?contact=:id\u0026project=:id","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3268,"run_time":0.439599483,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:24:2:5]","description":"returns nested contact when GET /invoices/new?contact=:id\u0026nested_contact=true","full_description":"Api::InvoicesController GET /invoices/new Invoices exist returns nested contact when GET /invoices/new?contact=:id\u0026nested_contact=true","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3274,"run_time":0.403395717,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:24:2:6]","description":"returns nested project when GET /invoices/new?project=:id\u0026nested_project=true","full_description":"Api::InvoicesController GET /invoices/new Invoices exist returns nested project when GET /invoices/new?project=:id\u0026nested_project=true","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3280,"run_time":0.420445477,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:24:2:7]","description":"returns 400 when contact does not exist","full_description":"Api::InvoicesController GET /invoices/new Invoices exist returns 400 when contact does not exist","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3285,"run_time":0.375739795,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:24:2:8]","description":"returns 400 when project does not exist","full_description":"Api::InvoicesController GET /invoices/new Invoices exist returns 400 when project does not exist","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3291,"run_time":0.42349109,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:24:2:9]","description":"returns 400 when project and contact does not exist","full_description":"Api::InvoicesController GET /invoices/new Invoices exist returns 400 when project and contact does not exist","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3297,"run_time":0.396004973,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/invoices_integration_spec.rb[1:24:2:10]","description":"return 400 when invalid combination of project and contact params","full_description":"Api::InvoicesController GET /invoices/new Invoices exist return 400 when invalid combination of project and contact params","status":"passed","file_path":"./spec/requests/api/invoices_integration_spec.rb","line_number":3304,"run_time":0.387486338,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/re_registration/corrections.feature[1:1:1]","description":"Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given the company has the following bills: -\u003e And the company has the following invoices: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-04-01 on the Invoice basis, not on the FRS -\u003e When bill 'Burgers' changes its 'VAT %' to 5 -\u003e And invoice Invoice001 changes its 'VAT %' to 5 -\u003e Then the company ledger entries for 818 (VAT Reclaimed) are: -\u003e Then the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","full_description":"VAT re-registration with corrections made to source items from historical registrations. Source item changes, with contiguous registrations Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given the company has the following bills: -\u003e And the company has the following invoices: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-04-01 on the Invoice basis, not on the FRS -\u003e When bill 'Burgers' changes its 'VAT %' to 5 -\u003e And invoice Invoice001 changes its 'VAT %' to 5 -\u003e Then the company ledger entries for 818 (VAT Reclaimed) are: -\u003e Then the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","status":"passed","file_path":"./spec/acceptance/vat/re_registration/corrections.feature","line_number":12,"run_time":5.43397924,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/re_registration/corrections.feature[1:2:1]","description":"Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given the company has the following bills: -\u003e And the company has the following invoices: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-04-01 on the Invoice basis, not on the FRS -\u003e When bill 'Burgers' changes its 'amount inc vat' to 60 -\u003e And invoice Invoice001 changes its 'amount ex vat' to 500 -\u003e Then the company ledger entries for 818 (VAT Reclaimed) are: -\u003e Then the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","full_description":"VAT re-registration with corrections made to source items from historical registrations. Source item changes, with contiguous registrations Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given the company has the following bills: -\u003e And the company has the following invoices: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-04-01 on the Invoice basis, not on the FRS -\u003e When bill 'Burgers' changes its 'amount inc vat' to 60 -\u003e And invoice Invoice001 changes its 'amount ex vat' to 500 -\u003e Then the company ledger entries for 818 (VAT Reclaimed) are: -\u003e Then the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","status":"passed","file_path":"./spec/acceptance/vat/re_registration/corrections.feature","line_number":12,"run_time":4.930426792,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/re_registration/corrections.feature[1:3:1]","description":"Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given the company has the following bills: -\u003e And the company has the following invoices: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-07-01 on the Invoice basis, not on the FRS -\u003e When bill 'Burgers' changes its 'VAT %' to 5 -\u003e And invoice Invoice001 changes its 'VAT %' to 5 -\u003e Then the company ledger entries for 818 (VAT Reclaimed) are: -\u003e Then the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","full_description":"VAT re-registration with corrections made to source items from historical registrations. Source item total value changes, with a gap between registrations Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given the company has the following bills: -\u003e And the company has the following invoices: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-07-01 on the Invoice basis, not on the FRS -\u003e When bill 'Burgers' changes its 'VAT %' to 5 -\u003e And invoice Invoice001 changes its 'VAT %' to 5 -\u003e Then the company ledger entries for 818 (VAT Reclaimed) are: -\u003e Then the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","status":"passed","file_path":"./spec/acceptance/vat/re_registration/corrections.feature","line_number":57,"run_time":4.921355074,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/re_registration/corrections.feature[1:4:1]","description":"Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given the company has the following bills: -\u003e And the company has the following invoices: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-07-01 on the Invoice basis, not on the FRS -\u003e When bill 'Burgers' changes its 'amount inc vat' to 60 -\u003e And invoice Invoice001 changes its 'amount ex vat' to 500 -\u003e Then the company ledger entries for 818 (VAT Reclaimed) are: -\u003e Then the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","full_description":"VAT re-registration with corrections made to source items from historical registrations. Source item total value changes, with a gap between registrations Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given the company has the following bills: -\u003e And the company has the following invoices: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-07-01 on the Invoice basis, not on the FRS -\u003e When bill 'Burgers' changes its 'amount inc vat' to 60 -\u003e And invoice Invoice001 changes its 'amount ex vat' to 500 -\u003e Then the company ledger entries for 818 (VAT Reclaimed) are: -\u003e Then the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","status":"passed","file_path":"./spec/acceptance/vat/re_registration/corrections.feature","line_number":57,"run_time":4.581721655,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/re_registration/corrections.feature[1:5:1]","description":"Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given the company has the following bills: -\u003e And the company has the following invoices: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-07-01 on the Invoice basis, not on the FRS -\u003e When bill 'Burgers' changes its dated_on to 2019-08-01 -\u003e And invoice Invoice001 changes its dated_on to 2019-08-01 -\u003e Then the company ledger entries for 818 (VAT Reclaimed) are: -\u003e Then the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","full_description":"VAT re-registration with corrections made to source items from historical registrations. Source item date changes, moved from a historical registration period to a new registration period Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given the company has the following bills: -\u003e And the company has the following invoices: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-07-01 on the Invoice basis, not on the FRS -\u003e When bill 'Burgers' changes its dated_on to 2019-08-01 -\u003e And invoice Invoice001 changes its dated_on to 2019-08-01 -\u003e Then the company ledger entries for 818 (VAT Reclaimed) are: -\u003e Then the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","status":"passed","file_path":"./spec/acceptance/vat/re_registration/corrections.feature","line_number":99,"run_time":4.607912799,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/re_registration/corrections.feature[1:6:1]","description":"Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given the company has the following bills: -\u003e And the company has the following invoices: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-applies for VAT from 2019-07-01 -\u003e When bill 'Burgers' changes its dated_on to 2019-08-01 -\u003e When invoice Invoice001 changes its dated_on to 2019-08-01 -\u003e Then the company ledger entries for 818 (VAT Reclaimed) are: -\u003e Then the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","full_description":"VAT re-registration with corrections made to source items from historical registrations. Source item date changes, moved from a historical registration period to a new registration applied for period Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given the company has the following bills: -\u003e And the company has the following invoices: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-applies for VAT from 2019-07-01 -\u003e When bill 'Burgers' changes its dated_on to 2019-08-01 -\u003e When invoice Invoice001 changes its dated_on to 2019-08-01 -\u003e Then the company ledger entries for 818 (VAT Reclaimed) are: -\u003e Then the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","status":"passed","file_path":"./spec/acceptance/vat/re_registration/corrections.feature","line_number":139,"run_time":4.695824601,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/re_registration/corrections.feature[1:7:1]","description":"Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-07-01 on the Invoice basis, not on the FRS -\u003e And the company has the following bills: -\u003e And the company has the following invoices: -\u003e When bill 'Chips' changes its dated_on to 2019-01-01 -\u003e And invoice Invoice002 changes its dated_on to 2019-01-01 -\u003e Then the company ledger entries for 818 (VAT Reclaimed) are: -\u003e And the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","full_description":"VAT re-registration with corrections made to source items from historical registrations. Source item date changes, moved from a current open registration period to a historical registration period Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-07-01 on the Invoice basis, not on the FRS -\u003e And the company has the following bills: -\u003e And the company has the following invoices: -\u003e When bill 'Chips' changes its dated_on to 2019-01-01 -\u003e And invoice Invoice002 changes its dated_on to 2019-01-01 -\u003e Then the company ledger entries for 818 (VAT Reclaimed) are: -\u003e And the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","status":"passed","file_path":"./spec/acceptance/vat/re_registration/corrections.feature","line_number":171,"run_time":4.263118314,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/re_registration/corrections.feature[1:8:1]","description":"Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-07-01 on the Invoice basis, not on the FRS -\u003e And the company has the following bills: -\u003e And the company has the following invoices: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-09-30 -\u003e And the company filed its latest vat return -\u003e When bill 'Chips' changes its dated_on to 2019-01-01 -\u003e And invoice Invoice002 changes its dated_on to 2019-01-01 -\u003e Then the company ledger entries for 818 (VAT Reclaimed) are: -\u003e And the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","full_description":"VAT re-registration with corrections made to source items from historical registrations. Source item date changes, moved from a current closed registration period to a historical registration period Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-07-01 on the Invoice basis, not on the FRS -\u003e And the company has the following bills: -\u003e And the company has the following invoices: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-09-30 -\u003e And the company filed its latest vat return -\u003e When bill 'Chips' changes its dated_on to 2019-01-01 -\u003e And invoice Invoice002 changes its dated_on to 2019-01-01 -\u003e Then the company ledger entries for 818 (VAT Reclaimed) are: -\u003e And the company ledger entries for 819 (VAT Charged) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","status":"passed","file_path":"./spec/acceptance/vat/re_registration/corrections.feature","line_number":207,"run_time":5.654961903,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/re_registration/corrections.feature[1:9:1]","description":"Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-07-01 on the Invoice basis, not on the FRS, with a pre-registration period of 48 months -\u003e And the company has the following bills: -\u003e And the VAT return covering 2019-07-01 has been filed -\u003e When bill 'Ice Cream' changes its dated_on to 2019-01-01 -\u003e Then the company ledger entries for 818 (VAT Reclaimed) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","full_description":"VAT re-registration with corrections made to source items from historical registrations. Pre-registration costs included on a filed VAT return in open second registration, change date to a historic registration Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-07-01 on the Invoice basis, not on the FRS, with a pre-registration period of 48 months -\u003e And the company has the following bills: -\u003e And the VAT return covering 2019-07-01 has been filed -\u003e When bill 'Ice Cream' changes its dated_on to 2019-01-01 -\u003e Then the company ledger entries for 818 (VAT Reclaimed) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","status":"passed","file_path":"./spec/acceptance/vat/re_registration/corrections.feature","line_number":250,"run_time":3.654776086,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/re_registration/corrections.feature[1:10:1]","description":"Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-07-01 on the Invoice basis, not on the FRS, with a pre-registration period of 48 months -\u003e And the company has the following bills: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-09-30 -\u003e And the company filed its latest vat return -\u003e When bill 'Ice Cream' changes its dated_on to 2019-01-01 -\u003e Then the company ledger entries for 818 (VAT Reclaimed) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","full_description":"VAT re-registration with corrections made to source items from historical registrations. Pre-registration costs included on a filed VAT return in closed second registration, change date to a historic registration Given a UK Limited Company which was started on 2019-01-01 -\u003e And the company is Invoice accounting for VAT, not on the FRS -\u003e And the current date is 2019-10-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it has a contact in United Kingdom named John Smith set to always charge VAT -\u003e And the contact has organisation name 'Acme' -\u003e Given its VAT status changes to de-registered with an effective de-registration date of 2019-03-31 -\u003e And the company filed its latest vat return -\u003e And the company re-registered for VAT from 2019-07-01 on the Invoice basis, not on the FRS, with a pre-registration period of 48 months -\u003e And the company has the following bills: -\u003e And its VAT status changes to de-registered with an effective de-registration date of 2019-09-30 -\u003e And the company filed its latest vat return -\u003e When bill 'Ice Cream' changes its dated_on to 2019-01-01 -\u003e Then the company ledger entries for 818 (VAT Reclaimed) are: -\u003e And the company ledger entries for 817 (VAT Control) are: -\u003e And the company ledger entries for 823 (VAT Deferred) are:","status":"passed","file_path":"./spec/acceptance/vat/re_registration/corrections.feature","line_number":279,"run_time":5.713811292,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:1:1]","description":"skips event when company not found","full_description":"GocardlessWebhookEventJob unknown company skips event when company not found","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":34,"run_time":0.006608565,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:2:1:1]","description":"activates the mandate","full_description":"GocardlessWebhookEventJob processing mandates active event activates the mandate","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":67,"run_time":0.049105474,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:2:2:1]","description":"activates the mandate","full_description":"GocardlessWebhookEventJob processing mandates reinstated event activates the mandate","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":79,"run_time":0.038628434,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:2:3:1]","description":"marks the mandate as failed","full_description":"GocardlessWebhookEventJob processing mandates failed event marks the mandate as failed","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":92,"run_time":0.04006368,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:2:4:1]","description":"{:aggregate_failures=\u003etrue}","full_description":"GocardlessWebhookEventJob processing mandates cancelled event {:aggregate_failures=\u003etrue}","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":104,"run_time":0.040320395,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:2:5:1]","description":"{:aggregate_failures=\u003etrue}","full_description":"GocardlessWebhookEventJob processing mandates expired event {:aggregate_failures=\u003etrue}","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":122,"run_time":0.045551654,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:2:6:1]","description":"marks the mandate as resubmitted","full_description":"GocardlessWebhookEventJob processing mandates resubmission_requested event marks the mandate as resubmitted","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":141,"run_time":0.050229642,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:2:7:1:1]","description":"activates the companies mandate","full_description":"GocardlessWebhookEventJob processing mandates multiple companies having the same org ID active event activates the companies mandate","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":164,"run_time":0.144151076,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:2:8:1]","description":"skips the event","full_description":"GocardlessWebhookEventJob processing mandates event org ID is not found for any company skips the event","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":178,"run_time":0.021307749,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:2:9:1]","description":"logs the event but does not raise error","full_description":"GocardlessWebhookEventJob processing mandates Gocardless dashboard event for unknown mandate logs the event but does not raise error","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":188,"run_time":0.011764436,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:2:10:1]","description":"updates the GoCardless mandate id","full_description":"GocardlessWebhookEventJob processing mandates replace event updates the GoCardless mandate id","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":205,"run_time":0.03184991,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:3:1:1:1:1]","description":"processes the payment","full_description":"GocardlessWebhookEventJob processing payments with a subscribed company behaves like processes the incoming payments confirmed event processes the payment","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":245,"run_time":0.168173551,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:3:1:1:2:1:1]","description":"marks the payment as withdrawn","full_description":"GocardlessWebhookEventJob processing payments with a subscribed company behaves like processes the incoming payments paid_out event without auto-reconciliation enabled marks the payment as withdrawn","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":258,"run_time":0.180809141,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:3:1:1:2:2:1]","description":"marks the payment as withdrawn","full_description":"GocardlessWebhookEventJob processing payments with a subscribed company behaves like processes the incoming payments paid_out event with auto-reconciliation enabled marks the payment as withdrawn","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":278,"run_time":0.200647892,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:3:1:1:2:2:2]","description":"reconciles payment","full_description":"GocardlessWebhookEventJob processing payments with a subscribed company behaves like processes the incoming payments paid_out event with auto-reconciliation enabled reconciles payment","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":282,"run_time":0.643454343,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:3:1:1:2:2:3:1]","description":"creates an unexplained bank transaction","full_description":"GocardlessWebhookEventJob processing payments with a subscribed company behaves like processes the incoming payments paid_out event with auto-reconciliation enabled when there is no matching payment creates an unexplained bank transaction","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":292,"run_time":0.094133557,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:3:1:1:3:1]","description":"marks the payment as failed","full_description":"GocardlessWebhookEventJob processing payments with a subscribed company behaves like processes the incoming payments cancelled event marks the payment as failed","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":310,"run_time":0.171403034,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:3:1:1:4:1]","description":"logs the event but does not raise error","full_description":"GocardlessWebhookEventJob processing payments with a subscribed company behaves like processes the incoming payments Gocardless dashboard event for unknown payment logs the event but does not raise error","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":320,"run_time":0.16295624,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:3:2:1:1:1]","description":"processes the payment","full_description":"GocardlessWebhookEventJob processing payments with a suspended company behaves like processes the incoming payments confirmed event processes the payment","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":245,"run_time":0.294035078,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:3:2:1:2:1:1]","description":"marks the payment as withdrawn","full_description":"GocardlessWebhookEventJob processing payments with a suspended company behaves like processes the incoming payments paid_out event without auto-reconciliation enabled marks the payment as withdrawn","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":258,"run_time":0.257511529,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:3:2:1:2:2:1]","description":"marks the payment as withdrawn","full_description":"GocardlessWebhookEventJob processing payments with a suspended company behaves like processes the incoming payments paid_out event with auto-reconciliation enabled marks the payment as withdrawn","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":278,"run_time":0.296704574,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:3:2:1:2:2:2]","description":"reconciles payment","full_description":"GocardlessWebhookEventJob processing payments with a suspended company behaves like processes the incoming payments paid_out event with auto-reconciliation enabled reconciles payment","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":282,"run_time":0.741169154,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:3:2:1:2:2:3:1]","description":"creates an unexplained bank transaction","full_description":"GocardlessWebhookEventJob processing payments with a suspended company behaves like processes the incoming payments paid_out event with auto-reconciliation enabled when there is no matching payment creates an unexplained bank transaction","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":292,"run_time":0.238696373,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:3:2:1:3:1]","description":"marks the payment as failed","full_description":"GocardlessWebhookEventJob processing payments with a suspended company behaves like processes the incoming payments cancelled event marks the payment as failed","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":310,"run_time":0.239099867,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:3:2:1:4:1]","description":"logs the event but does not raise error","full_description":"GocardlessWebhookEventJob processing payments with a suspended company behaves like processes the incoming payments Gocardless dashboard event for unknown payment logs the event but does not raise error","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":320,"run_time":0.244075397,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:3:3:1:1]","description":"does not processes the payment","full_description":"GocardlessWebhookEventJob processing payments with a company suspended for longer than the grace period confirmed event does not processes the payment","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":383,"run_time":0.228930036,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:3:3:2:1:1:1]","description":"does not create an unexplained bank transaction","full_description":"GocardlessWebhookEventJob processing payments with a company suspended for longer than the grace period paid_out event with auto-reconciliation enabled when there is no matching payment does not create an unexplained bank transaction","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":409,"run_time":0.185009352,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:4:1:1:1:1]","description":"creates an unexplained refund transaction","full_description":"GocardlessWebhookEventJob processing refunds with a subscribed company behaves like processes the refund request with auto reconcilaition enabled creates an unexplained refund transaction","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":453,"run_time":0.087974469,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:4:2:1:1:1]","description":"creates an unexplained refund transaction","full_description":"GocardlessWebhookEventJob processing refunds with a suspended company behaves like processes the refund request with auto reconcilaition enabled creates an unexplained refund transaction","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":453,"run_time":0.167639053,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:4:3:1:1]","description":"does not process the webhook","full_description":"GocardlessWebhookEventJob processing refunds with a suspended company after the grace period with auto reconcilaition enabled does not process the webhook","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":510,"run_time":0.13663178,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:5:1:1]","description":"schedules a payout transfer job to handle the payout","full_description":"GocardlessWebhookEventJob process payouts with a subscribed company schedules a payout transfer job to handle the payout","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":554,"run_time":0.061618918,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:5:2:1]","description":"schedules a payout transfer job to handle the payout","full_description":"GocardlessWebhookEventJob process payouts with a suspended company schedules a payout transfer job to handle the payout","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":574,"run_time":0.173069013,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:5:3:1]","description":"does not schedule a payout transfer job to handle the payout","full_description":"GocardlessWebhookEventJob process payouts with a suspended company after the grace period does not schedule a payout transfer job to handle the payout","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":594,"run_time":0.171040281,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:6:1:1:1]","description":"creates a money out transaction for the amount of the payment","full_description":"GocardlessWebhookEventJob process chargeback settled event with a subscribed company behaves like process the charge back creates a money out transaction for the amount of the payment","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":634,"run_time":0.085738638,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:6:2:1:1]","description":"creates a money out transaction for the amount of the payment","full_description":"GocardlessWebhookEventJob process chargeback settled event with a suspended company behaves like process the charge back creates a money out transaction for the amount of the payment","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":634,"run_time":0.154114062,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/gocardless_webhook_event_job_spec.rb[1:6:3:1]","description":"does not create the transaction","full_description":"GocardlessWebhookEventJob process chargeback settled event with a suspended company after the grace period does not create the transaction","status":"passed","file_path":"./spec/jobs/gocardless_webhook_event_job_spec.rb","line_number":694,"run_time":0.150744617,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:1:1]","description":"is expected to equal true","full_description":"GocardlessPayoutTransfer#can_transfer? is expected to equal true","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":20,"run_time":0.052397053,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:1:2:1]","description":"is expected to equal false","full_description":"GocardlessPayoutTransfer#can_transfer? EUR payout is expected to equal false","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":24,"run_time":0.050673397,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:1:3:1]","description":"is expected to equal false","full_description":"GocardlessPayoutTransfer#can_transfer? a zero payout is expected to equal false","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":29,"run_time":0.055604882,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:1:4:1]","description":"is expected to equal false","full_description":"GocardlessPayoutTransfer#can_transfer? auto-reconciliation is disabled is expected to equal false","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":34,"run_time":0.078479314,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:1:5:1]","description":"is expected to equal false","full_description":"GocardlessPayoutTransfer#can_transfer? no settings exist is expected to equal false","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":43,"run_time":0.050153563,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:1:6:1]","description":"is expected to equal false","full_description":"GocardlessPayoutTransfer#can_transfer? integration is disabled is expected to equal false","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":48,"run_time":0.049200472,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:1:7:1]","description":"is expected to equal false","full_description":"GocardlessPayoutTransfer#can_transfer? payout bank account entry already exists is expected to equal false","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":61,"run_time":0.058470661,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:1:8:1]","description":"is expected to equal false","full_description":"GocardlessPayoutTransfer#can_transfer? as a landlord company is expected to equal false","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":67,"run_time":0.142637926,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:2:1]","description":"creates the payout transaction entry","full_description":"GocardlessPayoutTransfer#transfer! creates the payout transaction entry","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":83,"run_time":0.44709439,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:2:2]","description":"publishes a bank transaction explanation created event","full_description":"GocardlessPayoutTransfer#transfer! publishes a bank transaction explanation created event","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":88,"run_time":0.410646189,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:2:3]","description":"publishes a bank transaction created event","full_description":"GocardlessPayoutTransfer#transfer! publishes a bank transaction created event","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":104,"run_time":0.434573772,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:2:4]","description":"creates the gocardless bank account entries (transfer and fee)","full_description":"GocardlessPayoutTransfer#transfer! creates the gocardless bank account entries (transfer and fee)","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":120,"run_time":0.425295975,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:2:5]","description":"applied UK VAT rate as sales tax to Gocardless Fee","full_description":"GocardlessPayoutTransfer#transfer! applied UK VAT rate as sales tax to Gocardless Fee","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":127,"run_time":0.405208057,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:2:6:1]","description":"creates bank account entries for the transfer and all other fees","full_description":"GocardlessPayoutTransfer#transfer! with app and surcharge fee also applying creates bank account entries for the transfer and all other fees","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":138,"run_time":0.595689385,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:2:7:1]","description":"creates a single entry for the fees","full_description":"GocardlessPayoutTransfer#transfer! with multiple identical payout fees creates a single entry for the fees","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":155,"run_time":0.448298106,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:2:8:1]","description":"creates a single entry for identical fees","full_description":"GocardlessPayoutTransfer#transfer! with a mix of payout fees and tax rates creates a single entry for identical fees","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":171,"run_time":1.512630609,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:2:9:1]","description":"creates bank account entries for each different tax rate","full_description":"GocardlessPayoutTransfer#transfer! with multiple tax rates applying creates bank account entries for each different tax rate","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":189,"run_time":0.599403926,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:2:9:2:1]","description":"creates audit entries for all transactions","full_description":"GocardlessPayoutTransfer#transfer! with multiple tax rates applying with audit trail enabled creates audit entries for all transactions","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":202,"run_time":0.542595615,"pending_message":null,"screenshot":null},{"id":"./spec/models/gocardless_payout_transfer_spec.rb[1:2:9:2:2]","description":"creates audit entries when there is no finance charges created","full_description":"GocardlessPayoutTransfer#transfer! with multiple tax rates applying with audit trail enabled creates audit entries when there is no finance charges created","status":"passed","file_path":"./spec/models/gocardless_payout_transfer_spec.rb","line_number":263,"run_time":0.284951886,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:1:1:1:1]","description":"creates a signup with correctly initialised fields","full_description":"Signups::Factory::ViaBackbookOnboarding NatWest behaves like a ViaBackbookOnboarding factory #initialize creates a signup with correctly initialised fields","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":63,"run_time":0.047658883,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:1:1:2:1]","description":"returns true","full_description":"Signups::Factory::ViaBackbookOnboarding NatWest behaves like a ViaBackbookOnboarding factory #save! returns true","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":72,"run_time":0.202571278,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:1:1:2:2]","description":"creates an activated signup","full_description":"Signups::Factory::ViaBackbookOnboarding NatWest behaves like a ViaBackbookOnboarding factory #save! creates an activated signup","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":76,"run_time":0.17043856,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:1:1:2:3]","description":"creates an RbsgSignup","full_description":"Signups::Factory::ViaBackbookOnboarding NatWest behaves like a ViaBackbookOnboarding factory #save! creates an RbsgSignup","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":80,"run_time":0.157970185,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:1:1:2:4]","description":"creates a company","full_description":"Signups::Factory::ViaBackbookOnboarding NatWest behaves like a ViaBackbookOnboarding factory #save! creates a company","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":84,"run_time":0.168554835,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:1:1:2:5]","description":"sets an activated user","full_description":"Signups::Factory::ViaBackbookOnboarding NatWest behaves like a ViaBackbookOnboarding factory #save! sets an activated user","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":88,"run_time":0.168165508,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:1:1:2:6]","description":"sets the right subscription channel","full_description":"Signups::Factory::ViaBackbookOnboarding NatWest behaves like a ViaBackbookOnboarding factory #save! sets the right subscription channel","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":92,"run_time":0.164757645,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:1:1:2:7]","description":"has a non-billable subscription","full_description":"Signups::Factory::ViaBackbookOnboarding NatWest behaves like a ViaBackbookOnboarding factory #save! has a non-billable subscription","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":99,"run_time":0.158006383,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:1:1:2:8]","description":"sets a correct reseller id","full_description":"Signups::Factory::ViaBackbookOnboarding NatWest behaves like a ViaBackbookOnboarding factory #save! sets a correct reseller id","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":106,"run_time":0.175680618,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:1:1:2:9]","description":"tracks the signup in Sqreen","full_description":"Signups::Factory::ViaBackbookOnboarding NatWest behaves like a ViaBackbookOnboarding factory #save! tracks the signup in Sqreen","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":114,"run_time":0.200459475,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:1:1:2:10:1]","description":"correctly saves account number and sort code","full_description":"Signups::Factory::ViaBackbookOnboarding NatWest behaves like a ViaBackbookOnboarding factory #save! RbsgSignup details correctly saves account number and sort code","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":125,"run_time":0.161113393,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:1:1:2:10:2]","description":"correctly saves the `source`, `medium` and `campaign`","full_description":"Signups::Factory::ViaBackbookOnboarding NatWest behaves like a ViaBackbookOnboarding factory #save! RbsgSignup details correctly saves the `source`, `medium` and `campaign`","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":133,"run_time":0.153479786,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:1:1:3:1]","description":"returns the setup path","full_description":"Signups::Factory::ViaBackbookOnboarding NatWest behaves like a ViaBackbookOnboarding factory #next_step returns the setup path","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":142,"run_time":0.013055197,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:2:1:1:1]","description":"creates a signup with correctly initialised fields","full_description":"Signups::Factory::ViaBackbookOnboarding Royal Bank of Scotland behaves like a ViaBackbookOnboarding factory #initialize creates a signup with correctly initialised fields","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":63,"run_time":0.015654133,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:2:1:2:1]","description":"returns true","full_description":"Signups::Factory::ViaBackbookOnboarding Royal Bank of Scotland behaves like a ViaBackbookOnboarding factory #save! returns true","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":72,"run_time":0.146735704,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:2:1:2:2]","description":"creates an activated signup","full_description":"Signups::Factory::ViaBackbookOnboarding Royal Bank of Scotland behaves like a ViaBackbookOnboarding factory #save! creates an activated signup","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":76,"run_time":0.156539294,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:2:1:2:3]","description":"creates an RbsgSignup","full_description":"Signups::Factory::ViaBackbookOnboarding Royal Bank of Scotland behaves like a ViaBackbookOnboarding factory #save! creates an RbsgSignup","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":80,"run_time":0.15610229,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:2:1:2:4]","description":"creates a company","full_description":"Signups::Factory::ViaBackbookOnboarding Royal Bank of Scotland behaves like a ViaBackbookOnboarding factory #save! creates a company","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":84,"run_time":0.15223831,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:2:1:2:5]","description":"sets an activated user","full_description":"Signups::Factory::ViaBackbookOnboarding Royal Bank of Scotland behaves like a ViaBackbookOnboarding factory #save! sets an activated user","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":88,"run_time":0.167694328,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:2:1:2:6]","description":"sets the right subscription channel","full_description":"Signups::Factory::ViaBackbookOnboarding Royal Bank of Scotland behaves like a ViaBackbookOnboarding factory #save! sets the right subscription channel","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":92,"run_time":0.155242598,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:2:1:2:7]","description":"has a non-billable subscription","full_description":"Signups::Factory::ViaBackbookOnboarding Royal Bank of Scotland behaves like a ViaBackbookOnboarding factory #save! has a non-billable subscription","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":99,"run_time":0.165338711,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:2:1:2:8]","description":"sets a correct reseller id","full_description":"Signups::Factory::ViaBackbookOnboarding Royal Bank of Scotland behaves like a ViaBackbookOnboarding factory #save! sets a correct reseller id","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":106,"run_time":0.166648209,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:2:1:2:9]","description":"tracks the signup in Sqreen","full_description":"Signups::Factory::ViaBackbookOnboarding Royal Bank of Scotland behaves like a ViaBackbookOnboarding factory #save! tracks the signup in Sqreen","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":114,"run_time":0.159994713,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:2:1:2:10:1]","description":"correctly saves account number and sort code","full_description":"Signups::Factory::ViaBackbookOnboarding Royal Bank of Scotland behaves like a ViaBackbookOnboarding factory #save! RbsgSignup details correctly saves account number and sort code","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":125,"run_time":0.165015548,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:2:1:2:10:2]","description":"correctly saves the `source`, `medium` and `campaign`","full_description":"Signups::Factory::ViaBackbookOnboarding Royal Bank of Scotland behaves like a ViaBackbookOnboarding factory #save! RbsgSignup details correctly saves the `source`, `medium` and `campaign`","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":133,"run_time":0.158441874,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:2:1:3:1]","description":"returns the setup path","full_description":"Signups::Factory::ViaBackbookOnboarding Royal Bank of Scotland behaves like a ViaBackbookOnboarding factory #next_step returns the setup path","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":142,"run_time":0.015300826,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:3:1:1:1]","description":"creates a signup with correctly initialised fields","full_description":"Signups::Factory::ViaBackbookOnboarding Ulster Bank behaves like a ViaBackbookOnboarding factory #initialize creates a signup with correctly initialised fields","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":63,"run_time":0.013624558,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:3:1:2:1]","description":"returns true","full_description":"Signups::Factory::ViaBackbookOnboarding Ulster Bank behaves like a ViaBackbookOnboarding factory #save! returns true","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":72,"run_time":0.150097097,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:3:1:2:2]","description":"creates an activated signup","full_description":"Signups::Factory::ViaBackbookOnboarding Ulster Bank behaves like a ViaBackbookOnboarding factory #save! creates an activated signup","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":76,"run_time":0.15398335,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:3:1:2:3]","description":"creates an RbsgSignup","full_description":"Signups::Factory::ViaBackbookOnboarding Ulster Bank behaves like a ViaBackbookOnboarding factory #save! creates an RbsgSignup","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":80,"run_time":0.159818361,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:3:1:2:4]","description":"creates a company","full_description":"Signups::Factory::ViaBackbookOnboarding Ulster Bank behaves like a ViaBackbookOnboarding factory #save! creates a company","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":84,"run_time":0.166148522,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:3:1:2:5]","description":"sets an activated user","full_description":"Signups::Factory::ViaBackbookOnboarding Ulster Bank behaves like a ViaBackbookOnboarding factory #save! sets an activated user","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":88,"run_time":0.167865087,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:3:1:2:6]","description":"sets the right subscription channel","full_description":"Signups::Factory::ViaBackbookOnboarding Ulster Bank behaves like a ViaBackbookOnboarding factory #save! sets the right subscription channel","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":92,"run_time":0.162662991,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:3:1:2:7]","description":"has a non-billable subscription","full_description":"Signups::Factory::ViaBackbookOnboarding Ulster Bank behaves like a ViaBackbookOnboarding factory #save! has a non-billable subscription","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":99,"run_time":0.140948199,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:3:1:2:8]","description":"sets a correct reseller id","full_description":"Signups::Factory::ViaBackbookOnboarding Ulster Bank behaves like a ViaBackbookOnboarding factory #save! sets a correct reseller id","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":106,"run_time":0.13733889,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:3:1:2:9]","description":"tracks the signup in Sqreen","full_description":"Signups::Factory::ViaBackbookOnboarding Ulster Bank behaves like a ViaBackbookOnboarding factory #save! tracks the signup in Sqreen","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":114,"run_time":0.151743099,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:3:1:2:10:1]","description":"correctly saves account number and sort code","full_description":"Signups::Factory::ViaBackbookOnboarding Ulster Bank behaves like a ViaBackbookOnboarding factory #save! RbsgSignup details correctly saves account number and sort code","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":125,"run_time":0.157516163,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:3:1:2:10:2]","description":"correctly saves the `source`, `medium` and `campaign`","full_description":"Signups::Factory::ViaBackbookOnboarding Ulster Bank behaves like a ViaBackbookOnboarding factory #save! RbsgSignup details correctly saves the `source`, `medium` and `campaign`","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":133,"run_time":0.142793404,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb[1:3:1:3:1]","description":"returns the setup path","full_description":"Signups::Factory::ViaBackbookOnboarding Ulster Bank behaves like a ViaBackbookOnboarding factory #next_step returns the setup path","status":"passed","file_path":"./spec/freeagent/signups/factory/via_backbook_onboarding_spec.rb","line_number":142,"run_time":0.014585637,"pending_message":null,"screenshot":null},{"id":"./spec/features/getting_started_spec.rb[1:3:4:1]","description":"can complete setup","full_description":"Getting Started date is 5/12/2013 A universal company potentially eligible for TCF can complete setup","status":"passed","file_path":"./spec/features/getting_started_spec.rb","line_number":161,"run_time":5.264575395,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/predicted_events/net_salary_expense_payments_spec.rb[1:1:1:1:1:1]","description":"only includes entry entries that match the rules","full_description":"Cashflow::PredictedEvents::NetSalaryExpensePayments behaves like Predicted Payment #payment_series default horizon cutoff of 90 days source items when salary payments present only includes entry entries that match the rules","status":"passed","file_path":"./spec/shared/cashflow/projected_payments_shared_examples.rb","line_number":220,"run_time":1.047852829,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/predicted_events/net_salary_expense_payments_spec.rb[1:1:2:1]","description":"correctly projects future payments for past-dated entry payments monthly up to the default horizon","full_description":"Cashflow::PredictedEvents::NetSalaryExpensePayments behaves like Predicted Payment #payments_on correctly projects future payments for past-dated entry payments monthly up to the default horizon","status":"passed","file_path":"./spec/shared/cashflow/projected_payments_shared_examples.rb","line_number":228,"run_time":1.04887201,"pending_message":null,"screenshot":null},{"id":"./spec/tools/data_integrity/issues/issue_15563_spec.rb[1:1:1:1]","description":"exports foreign bank accounts with a non-zero difference between the given and expected value","full_description":"DataIntegrity::Issues::Issue15563#export_to_csv for a company with a single VAT registration exports foreign bank accounts with a non-zero difference between the given and expected value","status":"passed","file_path":"./spec/tools/data_integrity/issues/issue_15563_spec.rb","line_number":33,"run_time":0.37880661,"pending_message":null,"screenshot":null},{"id":"./spec/tools/data_integrity/issues/issue_15563_spec.rb[1:1:2:1]","description":"exports CapitalAsset's bought and sold within the same pre-registration period","full_description":"DataIntegrity::Issues::Issue15563#export_to_csv for a company with multiple VAT registrations exports CapitalAsset's bought and sold within the same pre-registration period","status":"passed","file_path":"./spec/tools/data_integrity/issues/issue_15563_spec.rb","line_number":112,"run_time":1.670189498,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/accountancy_practice_client_remover_spec.rb[1:1:1:1]","description":"makes the company direct with a default free trial period","full_description":"Subscription::AccountancyPracticeClientRemover#remove! with a practice managed company makes the company direct with a default free trial period","status":"passed","file_path":"./spec/models/subscription/accountancy_practice_client_remover_spec.rb","line_number":19,"run_time":0.22321344,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/accountancy_practice_client_remover_spec.rb[1:1:1:2]","description":"sends an email to the company account owner","full_description":"Subscription::AccountancyPracticeClientRemover#remove! with a practice managed company sends an email to the company account owner","status":"passed","file_path":"./spec/models/subscription/accountancy_practice_client_remover_spec.rb","line_number":29,"run_time":0.232879059,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/accountancy_practice_client_remover_spec.rb[1:1:1:3:1]","description":"makes the company direct with a default free trial period","full_description":"Subscription::AccountancyPracticeClientRemover#remove! with a practice managed company which previously had a direct subscription makes the company direct with a default free trial period","status":"passed","file_path":"./spec/models/subscription/accountancy_practice_client_remover_spec.rb","line_number":40,"run_time":0.204508166,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/accountancy_practice_client_remover_spec.rb[1:1:1:4:1]","description":"makes the company direct (with 14 day free trial) and removes the account manager","full_description":"Subscription::AccountancyPracticeClientRemover#remove! with a practice managed company which was previously a complimentary direct customer makes the company direct (with 14 day free trial) and removes the account manager","status":"passed","file_path":"./spec/models/subscription/accountancy_practice_client_remover_spec.rb","line_number":65,"run_time":0.204943758,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/accountancy_practice_client_remover_spec.rb[1:1:1:5:1]","description":"makes the company direct with a default free trial period","full_description":"Subscription::AccountancyPracticeClientRemover#remove! with a practice managed company which was previously a closed customer makes the company direct with a default free trial period","status":"passed","file_path":"./spec/models/subscription/accountancy_practice_client_remover_spec.rb","line_number":89,"run_time":0.196793396,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/accountancy_practice_client_remover_spec.rb[1:1:1:6:1]","description":"makes the company direct with a default free trial period","full_description":"Subscription::AccountancyPracticeClientRemover#remove! with a practice managed company which was previously a inactive customer makes the company direct with a default free trial period","status":"passed","file_path":"./spec/models/subscription/accountancy_practice_client_remover_spec.rb","line_number":104,"run_time":0.17956274,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/accountancy_practice_client_remover_spec.rb[1:1:1:7:1]","description":"does not performs the transfer","full_description":"Subscription::AccountancyPracticeClientRemover#remove! with a practice managed company on a white-labelled practice does not performs the transfer","status":"passed","file_path":"./spec/models/subscription/accountancy_practice_client_remover_spec.rb","line_number":117,"run_time":0.145729694,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/accountancy_practice_client_remover_spec.rb[1:1:2:1]","description":"migrates the company to an RBSG subscription with NO free trial period","full_description":"Subscription::AccountancyPracticeClientRemover#remove! with an RBSG funded practice managed company migrates the company to an RBSG subscription with NO free trial period","status":"passed","file_path":"./spec/models/subscription/accountancy_practice_client_remover_spec.rb","line_number":129,"run_time":0.177752263,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/accountancy_practice_client_remover_spec.rb[1:1:2:2]","description":"sends an email, with specific copy for an FAPDRBSG removal, to the company account owner","full_description":"Subscription::AccountancyPracticeClientRemover#remove! with an RBSG funded practice managed company sends an email, with specific copy for an FAPDRBSG removal, to the company account owner","status":"passed","file_path":"./spec/models/subscription/accountancy_practice_client_remover_spec.rb","line_number":139,"run_time":0.218996168,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/accountancy_practice_client_remover_spec.rb[1:1:2:3]","description":"triggers a remove remove company from dashboard event","full_description":"Subscription::AccountancyPracticeClientRemover#remove! with an RBSG funded practice managed company triggers a remove remove company from dashboard event","status":"passed","file_path":"./spec/models/subscription/accountancy_practice_client_remover_spec.rb","line_number":154,"run_time":0.218175368,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/accountancy_practice_client_remover_spec.rb[1:1:3:1]","description":"unlinks the company from the dashboard","full_description":"Subscription::AccountancyPracticeClientRemover#remove! with a linked company unlinks the company from the dashboard","status":"passed","file_path":"./spec/models/subscription/accountancy_practice_client_remover_spec.rb","line_number":175,"run_time":0.177112805,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/accountancy_practice_client_remover_spec.rb[1:1:3:2]","description":"sends an email to the company account owner","full_description":"Subscription::AccountancyPracticeClientRemover#remove! with a linked company sends an email to the company account owner","status":"passed","file_path":"./spec/models/subscription/accountancy_practice_client_remover_spec.rb","line_number":186,"run_time":0.206877765,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/accountancy_practice_client_remover_spec.rb[1:1:3:3:1]","description":"does not perform the transfer","full_description":"Subscription::AccountancyPracticeClientRemover#remove! with a linked company on a white-labelled practice does not perform the transfer","status":"passed","file_path":"./spec/models/subscription/accountancy_practice_client_remover_spec.rb","line_number":196,"run_time":0.155512698,"pending_message":null,"screenshot":null},{"id":"./spec/requests/authentication_spec.rb[1:1:1]","description":"is able to log in","full_description":"Authentication as a regular user is able to log in","status":"passed","file_path":"./spec/requests/authentication_spec.rb","line_number":11,"run_time":0.141643065,"pending_message":null,"screenshot":null},{"id":"./spec/requests/authentication_spec.rb[1:1:2]","description":"remembers where they wanted to go after login","full_description":"Authentication as a regular user remembers where they wanted to go after login","status":"passed","file_path":"./spec/requests/authentication_spec.rb","line_number":29,"run_time":0.060719037,"pending_message":null,"screenshot":null},{"id":"./spec/requests/authentication_spec.rb[1:1:3]","description":"is redirected to overview page when visiting 2fa page","full_description":"Authentication as a regular user is redirected to overview page when visiting 2fa page","status":"passed","file_path":"./spec/requests/authentication_spec.rb","line_number":40,"run_time":0.064836799,"pending_message":null,"screenshot":null},{"id":"./spec/requests/authentication_spec.rb[1:1:4]","description":"can not login if the use has NO_ACCESS permission level","full_description":"Authentication as a regular user can not login if the use has NO_ACCESS permission level","status":"passed","file_path":"./spec/requests/authentication_spec.rb","line_number":48,"run_time":0.076224325,"pending_message":null,"screenshot":null},{"id":"./spec/requests/authentication_spec.rb[1:2:1]","description":"is sent to 2fa page when visiting other pages","full_description":"Authentication as a 2fa user is sent to 2fa page when visiting other pages","status":"passed","file_path":"./spec/requests/authentication_spec.rb","line_number":66,"run_time":0.090928009,"pending_message":null,"screenshot":null},{"id":"./spec/requests/authentication_spec.rb[1:2:2]","description":"doesn't update the company last_accessed_on","full_description":"Authentication as a 2fa user doesn't update the company last_accessed_on","status":"passed","file_path":"./spec/requests/authentication_spec.rb","line_number":71,"run_time":0.180631037,"pending_message":null,"screenshot":null},{"id":"./spec/requests/authentication_spec.rb[1:2:3]","description":"is redirected to overview if already logged in","full_description":"Authentication as a 2fa user is redirected to overview if already logged in","status":"passed","file_path":"./spec/requests/authentication_spec.rb","line_number":76,"run_time":0.098016236,"pending_message":null,"screenshot":null},{"id":"./spec/requests/authentication_spec.rb[1:2:4]","description":"is not blocked by 2fa login when switch to a no-2fa account","full_description":"Authentication as a 2fa user is not blocked by 2fa login when switch to a no-2fa account","status":"passed","file_path":"./spec/requests/authentication_spec.rb","line_number":81,"run_time":0.233148846,"pending_message":null,"screenshot":null},{"id":"./spec/requests/authentication_spec.rb[1:2:5]","description":"is redirect to the new page if code is invalid","full_description":"Authentication as a 2fa user is redirect to the new page if code is invalid","status":"passed","file_path":"./spec/requests/authentication_spec.rb","line_number":95,"run_time":0.094991503,"pending_message":null,"screenshot":null},{"id":"./spec/requests/authentication_spec.rb[1:2:6]","description":"does not redirect to login page when user goes back to that page","full_description":"Authentication as a 2fa user does not redirect to login page when user goes back to that page","status":"passed","file_path":"./spec/requests/authentication_spec.rb","line_number":101,"run_time":0.257012125,"pending_message":null,"screenshot":null},{"id":"./spec/requests/authentication_spec.rb[1:2:8]","description":"redirects to the login page if I GET /sessions","full_description":"Authentication as a 2fa user redirects to the login page if I GET /sessions","status":"passed","file_path":"./spec/requests/authentication_spec.rb","line_number":128,"run_time":0.104981877,"pending_message":null,"screenshot":null},{"id":"./spec/requests/authentication_spec.rb[1:2:7:1]","description":"is redirected to overview page","full_description":"Authentication as a 2fa user when 2fa authenticated is redirected to overview page","status":"passed","file_path":"./spec/requests/authentication_spec.rb","line_number":117,"run_time":0.109705746,"pending_message":null,"screenshot":null},{"id":"./spec/requests/authentication_spec.rb[1:2:7:2]","description":"is redirected to overview page when visiting the 2fa page","full_description":"Authentication as a 2fa user when 2fa authenticated is redirected to overview page when visiting the 2fa page","status":"passed","file_path":"./spec/requests/authentication_spec.rb","line_number":121,"run_time":0.118173853,"pending_message":null,"screenshot":null},{"id":"./spec/requests/authentication_spec.rb[1:3:1]","description":"is able to log in","full_description":"Authentication as account manager is able to log in","status":"passed","file_path":"./spec/requests/authentication_spec.rb","line_number":136,"run_time":0.097314405,"pending_message":null,"screenshot":null},{"id":"./spec/requests/authentication_spec.rb[1:4:1:1]","description":"requires two factor authentication","full_description":"Authentication as a 2fa user for an expired free trial when not 2FA authenticated requires two factor authentication","status":"passed","file_path":"./spec/requests/authentication_spec.rb","line_number":166,"run_time":0.157244472,"pending_message":null,"screenshot":null},{"id":"./spec/requests/authentication_spec.rb[1:4:1:2]","description":"is not redirected away from the 2FA page","full_description":"Authentication as a 2fa user for an expired free trial when not 2FA authenticated is not redirected away from the 2FA page","status":"passed","file_path":"./spec/requests/authentication_spec.rb","line_number":174,"run_time":0.189202446,"pending_message":null,"screenshot":null},{"id":"./spec/requests/authentication_spec.rb[1:4:2:1]","description":"is redirected to the expired payments page","full_description":"Authentication as a 2fa user for an expired free trial when 2fa authenticated is redirected to the expired payments page","status":"passed","file_path":"./spec/requests/authentication_spec.rb","line_number":187,"run_time":0.198259385,"pending_message":null,"screenshot":null},{"id":"./spec/requests/authentication_spec.rb[1:4:2:2]","description":"is redirected to the expired payments page page when visiting the 2fa page","full_description":"Authentication as a 2fa user for an expired free trial when 2fa authenticated is redirected to the expired payments page page when visiting the 2fa page","status":"passed","file_path":"./spec/requests/authentication_spec.rb","line_number":195,"run_time":0.224331793,"pending_message":null,"screenshot":null},{"id":"./spec/requests/subscription_integration_spec.rb[1:1:1]","description":"is able to access her account without seeing the subscription lapsed message","full_description":"SubscriptionIntegration A user of a company with a Suspended billable subscription who is updated to be practice-managed is able to access her account without seeing the subscription lapsed message","status":"passed","file_path":"./spec/requests/subscription_integration_spec.rb","line_number":19,"run_time":2.603346852,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/user_sessions_controller_spec.rb[1:1:1]","description":"renders the index template","full_description":"Settings::UserSessionsController#index renders the index template","status":"passed","file_path":"./spec/controllers/settings/user_sessions_controller_spec.rb","line_number":20,"run_time":0.154758729,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/user_sessions_controller_spec.rb[1:1:2]","description":"assigns all active sessions for the user (most recent first)","full_description":"Settings::UserSessionsController#index assigns all active sessions for the user (most recent first)","status":"passed","file_path":"./spec/controllers/settings/user_sessions_controller_spec.rb","line_number":25,"run_time":0.13141262,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/user_sessions_controller_spec.rb[1:1:3:1]","description":"assigns all active sessions for the user (oldest first)","full_description":"Settings::UserSessionsController#index with order by params assigns all active sessions for the user (oldest first)","status":"passed","file_path":"./spec/controllers/settings/user_sessions_controller_spec.rb","line_number":34,"run_time":0.13734258,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/user_sessions_controller_spec.rb[1:2:1:1]","description":"destroys the user session","full_description":"Settings::UserSessionsController#destroy successfully destroying session destroys the user session","status":"passed","file_path":"./spec/controllers/settings/user_sessions_controller_spec.rb","line_number":44,"run_time":0.045084092,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/user_sessions_controller_spec.rb[1:2:1:2]","description":"responds with a flash message","full_description":"Settings::UserSessionsController#destroy successfully destroying session responds with a flash message","status":"passed","file_path":"./spec/controllers/settings/user_sessions_controller_spec.rb","line_number":50,"run_time":0.037419853,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/user_sessions_controller_spec.rb[1:2:1:3]","description":"redirects to the users session index","full_description":"Settings::UserSessionsController#destroy successfully destroying session redirects to the users session index","status":"passed","file_path":"./spec/controllers/settings/user_sessions_controller_spec.rb","line_number":55,"run_time":0.043275965,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/user_sessions_controller_spec.rb[1:2:2:1]","description":"responds with flash error message","full_description":"Settings::UserSessionsController#destroy fail to destroy a session responds with flash error message","status":"passed","file_path":"./spec/controllers/settings/user_sessions_controller_spec.rb","line_number":67,"run_time":0.054462756,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/user_sessions_controller_spec.rb[1:2:2:2]","description":"redirects to the users session index","full_description":"Settings::UserSessionsController#destroy fail to destroy a session redirects to the users session index","status":"passed","file_path":"./spec/controllers/settings/user_sessions_controller_spec.rb","line_number":71,"run_time":0.04794917,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/user_sessions_controller_spec.rb[1:3:1:1]","description":"destroys all active user sessions (except current session)","full_description":"Settings::UserSessionsController#destroy_all successfully destroying sessions destroys all active user sessions (except current session)","status":"passed","file_path":"./spec/controllers/settings/user_sessions_controller_spec.rb","line_number":79,"run_time":0.044345925,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/user_sessions_controller_spec.rb[1:3:1:2]","description":"responds with a flash message","full_description":"Settings::UserSessionsController#destroy_all successfully destroying sessions responds with a flash message","status":"passed","file_path":"./spec/controllers/settings/user_sessions_controller_spec.rb","line_number":85,"run_time":0.039186143,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/user_sessions_controller_spec.rb[1:3:1:3]","description":"redirects to the users session index","full_description":"Settings::UserSessionsController#destroy_all successfully destroying sessions redirects to the users session index","status":"passed","file_path":"./spec/controllers/settings/user_sessions_controller_spec.rb","line_number":90,"run_time":0.043429004,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/bank_services_helper_spec.rb[1:1:1]","description":"returns yodlee_name if name is empty","full_description":"BankServicesHelper#display_name returns yodlee_name if name is empty","status":"passed","file_path":"./spec/helpers/bank_services_helper_spec.rb","line_number":6,"run_time":0.013847474,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/bank_services_helper_spec.rb[1:1:2]","description":"returns name if present","full_description":"BankServicesHelper#display_name returns name if present","status":"passed","file_path":"./spec/helpers/bank_services_helper_spec.rb","line_number":11,"run_time":0.010347366,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/bank_services_helper_spec.rb[1:1:3]","description":"removes '- Bank' (a common suffix for Yodlee names)","full_description":"BankServicesHelper#display_name removes '- Bank' (a common suffix for Yodlee names)","status":"passed","file_path":"./spec/helpers/bank_services_helper_spec.rb","line_number":16,"run_time":0.009546337,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/bank_services_helper_spec.rb[1:1:4]","description":"removes '- Banking' (a common suffix for Yodlee names)","full_description":"BankServicesHelper#display_name removes '- Banking' (a common suffix for Yodlee names)","status":"passed","file_path":"./spec/helpers/bank_services_helper_spec.rb","line_number":21,"run_time":0.008331721,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/bank_services_helper_spec.rb[1:2:1]","description":"is the available bank services","full_description":"BankServicesHelper#all_available_bank_services is the available bank services","status":"passed","file_path":"./spec/helpers/bank_services_helper_spec.rb","line_number":54,"run_time":0.031440981,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/bank_services_helper_spec.rb[1:2:2]","description":"sorts the services by display name","full_description":"BankServicesHelper#all_available_bank_services sorts the services by display name","status":"passed","file_path":"./spec/helpers/bank_services_helper_spec.rb","line_number":62,"run_time":0.018292115,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/bank_services_helper_spec.rb[1:3:1:1]","description":"is only the direct and open banking services","full_description":"BankServicesHelper#popular_bank_services when the open_banking feature is enabled is only the direct and open banking services","status":"passed","file_path":"./spec/helpers/bank_services_helper_spec.rb","line_number":76,"run_time":0.027215774,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/bank_services_helper_spec.rb[1:3:1:2]","description":"shows no open banking services if the company is whitelabelled","full_description":"BankServicesHelper#popular_bank_services when the open_banking feature is enabled shows no open banking services if the company is whitelabelled","status":"passed","file_path":"./spec/helpers/bank_services_helper_spec.rb","line_number":81,"run_time":0.163208184,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/bank_services_helper_spec.rb[1:3:2:1]","description":"returns no services","full_description":"BankServicesHelper#popular_bank_services when the open_banking feature is disabled returns no services","status":"passed","file_path":"./spec/helpers/bank_services_helper_spec.rb","line_number":90,"run_time":0.024045363,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/bank_services_helper_spec.rb[1:4:1]","description":"adds a \u003cbr\u003e","full_description":"BankServicesHelper#popular_display_name adds a \u003cbr\u003e","status":"passed","file_path":"./spec/helpers/bank_services_helper_spec.rb","line_number":101,"run_time":0.008076769,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/bank_services_helper_spec.rb[1:4:2]","description":"has 'Business'","full_description":"BankServicesHelper#popular_display_name has 'Business'","status":"passed","file_path":"./spec/helpers/bank_services_helper_spec.rb","line_number":105,"run_time":0.006009935,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/bank_services_helper_spec.rb[1:4:3]","description":"displays the yodlee name when name not present","full_description":"BankServicesHelper#popular_display_name displays the yodlee name when name not present","status":"passed","file_path":"./spec/helpers/bank_services_helper_spec.rb","line_number":109,"run_time":0.009934637,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/bank_services_helper_spec.rb[1:5:1:1]","description":"skips services if they don't exist","full_description":"BankServicesHelper services for companies #recommended_yodlee_bank_services skips services if they don't exist","status":"passed","file_path":"./spec/helpers/bank_services_helper_spec.rb","line_number":132,"run_time":0.34849379,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/bank_services_helper_spec.rb[1:5:1:2]","description":"returns bank services in multiple regions if universal company is given","full_description":"BankServicesHelper services for companies #recommended_yodlee_bank_services returns bank services in multiple regions if universal company is given","status":"passed","file_path":"./spec/helpers/bank_services_helper_spec.rb","line_number":139,"run_time":0.107577188,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/bank_services_helper_spec.rb[1:5:1:3]","description":"returns UK bank services for UK direct and RBSG resold companies","full_description":"BankServicesHelper services for companies #recommended_yodlee_bank_services returns UK bank services for UK direct and RBSG resold companies","status":"passed","file_path":"./spec/helpers/bank_services_helper_spec.rb","line_number":145,"run_time":0.115198926,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/bank_services_helper_spec.rb[1:5:1:5]","description":"returns US bank services","full_description":"BankServicesHelper services for companies #recommended_yodlee_bank_services returns US bank services","status":"passed","file_path":"./spec/helpers/bank_services_helper_spec.rb","line_number":169,"run_time":0.114012028,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/bank_services_helper_spec.rb[1:5:1:6]","description":"does not return beta services","full_description":"BankServicesHelper services for companies #recommended_yodlee_bank_services does not return beta services","status":"passed","file_path":"./spec/helpers/bank_services_helper_spec.rb","line_number":175,"run_time":0.181628032,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/bank_services_helper_spec.rb[1:5:1:7]","description":"returns unavailable services","full_description":"BankServicesHelper services for companies #recommended_yodlee_bank_services returns unavailable services","status":"passed","file_path":"./spec/helpers/bank_services_helper_spec.rb","line_number":181,"run_time":0.149229153,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/bank_services_helper_spec.rb[1:5:1:4:1]","description":"returns UK credit card services for UK direct and RBSG resold companies","full_description":"BankServicesHelper services for companies #recommended_yodlee_bank_services for a credit card feed service type returns UK credit card services for UK direct and RBSG resold companies","status":"passed","file_path":"./spec/helpers/bank_services_helper_spec.rb","line_number":157,"run_time":0.127735444,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/bank_services_helper_spec.rb[1:5:2:1]","description":"returns the enabled Open Banking services","full_description":"BankServicesHelper services for companies #open_banking_services returns the enabled Open Banking services","status":"passed","file_path":"./spec/helpers/bank_services_helper_spec.rb","line_number":193,"run_time":0.020253486,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/property_income_and_expenses_tabs_product_update_spec.rb[1:1:1:1:1]","description":"returns a category defined on the Insight model","full_description":"Radar::Insights::Rules::PropertyIncomeAndExpensesTabsProductUpdate behaves like a product update rule behaves like a ping rule #category returns a category defined on the Insight model","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":11,"run_time":0.004365118,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/property_income_and_expenses_tabs_product_update_spec.rb[1:1:1:2:1]","description":"returns a boolean","full_description":"Radar::Insights::Rules::PropertyIncomeAndExpensesTabsProductUpdate behaves like a product update rule behaves like a ping rule #send_notifications? returns a boolean","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":17,"run_time":0.003739333,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/property_income_and_expenses_tabs_product_update_spec.rb[1:1:2:1]","description":"returns a category of product update","full_description":"Radar::Insights::Rules::PropertyIncomeAndExpensesTabsProductUpdate behaves like a product update rule #category is a product update returns a category of product update","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":29,"run_time":0.00343608,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/property_income_and_expenses_tabs_product_update_spec.rb[1:2:1]","description":"launch date is correct","full_description":"Radar::Insights::Rules::PropertyIncomeAndExpensesTabsProductUpdate.launch_date launch date is correct","status":"passed","file_path":"./spec/models/radar/insights/rules/property_income_and_expenses_tabs_product_update_spec.rb","line_number":9,"run_time":0.003441965,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/property_income_and_expenses_tabs_product_update_spec.rb[1:3:1:1]","description":"is expected to equal true","full_description":"Radar::Insights::Rules::PropertyIncomeAndExpensesTabsProductUpdate#product_update_applies? for a full access, freeagent-branding-allowed Landlord Company is expected to equal true","status":"passed","file_path":"./spec/models/radar/insights/rules/property_income_and_expenses_tabs_product_update_spec.rb","line_number":22,"run_time":0.091443915,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/property_income_and_expenses_tabs_product_update_spec.rb[1:3:2:1]","description":"is expected to equal false","full_description":"Radar::Insights::Rules::PropertyIncomeAndExpensesTabsProductUpdate#product_update_applies? for a non-Landlord Company is expected to equal false","status":"passed","file_path":"./spec/models/radar/insights/rules/property_income_and_expenses_tabs_product_update_spec.rb","line_number":28,"run_time":0.008446802,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/property_income_and_expenses_tabs_product_update_spec.rb[1:3:3:1]","description":"is expected to equal false","full_description":"Radar::Insights::Rules::PropertyIncomeAndExpensesTabsProductUpdate#product_update_applies? for a Landlord Company without full access is expected to equal false","status":"passed","file_path":"./spec/models/radar/insights/rules/property_income_and_expenses_tabs_product_update_spec.rb","line_number":34,"run_time":0.113250683,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/property_income_and_expenses_tabs_product_update_spec.rb[1:3:4:1]","description":"is expected to equal false","full_description":"Radar::Insights::Rules::PropertyIncomeAndExpensesTabsProductUpdate#product_update_applies? for a Landlord Company which does not allow freeagent branding is expected to equal false","status":"passed","file_path":"./spec/models/radar/insights/rules/property_income_and_expenses_tabs_product_update_spec.rb","line_number":40,"run_time":0.146754985,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/property_income_and_expenses_tabs_product_update_spec.rb[1:4:1]","description":"returns true","full_description":"Radar::Insights::Rules::PropertyIncomeAndExpensesTabsProductUpdate#mobile? returns true","status":"passed","file_path":"./spec/models/radar/insights/rules/property_income_and_expenses_tabs_product_update_spec.rb","line_number":49,"run_time":0.008609272,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/property_income_and_expenses_tabs_product_update_spec.rb[1:5:1:1]","description":"returns eligible users to be notified","full_description":"Radar::Insights::Rules::PropertyIncomeAndExpensesTabsProductUpdate#notify_users behaves like notifier for users with level 7 and above returns eligible users to be notified","status":"passed","file_path":"./spec/support/shared_examples/insights_rules_permission_level_examples.rb","line_number":26,"run_time":0.049139736,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/property_income_and_expenses_tabs_product_update_spec.rb[1:5:1:2]","description":"does not return ineligible users to be notified","full_description":"Radar::Insights::Rules::PropertyIncomeAndExpensesTabsProductUpdate#notify_users behaves like notifier for users with level 7 and above does not return ineligible users to be notified","status":"passed","file_path":"./spec/support/shared_examples/insights_rules_permission_level_examples.rb","line_number":30,"run_time":0.048626879,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:1:1]","description":"logs x-fapi-interaction-id when fetching token","full_description":"OpenBanking::Integration::AuthorisationClient#fetch_token logs x-fapi-interaction-id when fetching token","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":42,"run_time":0.010813224,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:1:2]","description":"fetches using :request_body","full_description":"OpenBanking::Integration::AuthorisationClient#fetch_token fetches using :request_body","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":47,"run_time":0.007693151,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:1:3]","description":"fetches using :basic_auth","full_description":"OpenBanking::Integration::AuthorisationClient#fetch_token fetches using :basic_auth","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":52,"run_time":0.010279921,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:1:4]","description":"fetches using :tls_client_auth","full_description":"OpenBanking::Integration::AuthorisationClient#fetch_token fetches using :tls_client_auth","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":61,"run_time":0.007710603,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:1:6]","description":"uses the certificate store","full_description":"OpenBanking::Integration::AuthorisationClient#fetch_token uses the certificate store","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":83,"run_time":0.007735973,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:1:5:1]","description":"includes the client assertion params and fetches the token","full_description":"OpenBanking::Integration::AuthorisationClient#fetch_token when the auth_scheme is private_key_jwt includes the client assertion params and fetches the token","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":73,"run_time":0.008749782,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:1:7:1]","description":"adds the required scope claim to the params request","full_description":"OpenBanking::Integration::AuthorisationClient#fetch_token when the associated scope config option is true adds the required scope claim to the params request","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":99,"run_time":0.014433791,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:1:8:1]","description":"does not add the scope claim to the params request","full_description":"OpenBanking::Integration::AuthorisationClient#fetch_token when the associated scope config option is false by default does not add the scope claim to the params request","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":114,"run_time":0.006504303,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:1:9:1]","description":"returns the slow api read timeout length","full_description":"OpenBanking::Integration::AuthorisationClient#fetch_token when the provider has a slow api returns the slow api read timeout length","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":126,"run_time":0.013190234,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:2:1]","description":"logs x-fapi-interaction-id when refreshing token","full_description":"OpenBanking::Integration::AuthorisationClient#refresh_token logs x-fapi-interaction-id when refreshing token","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":170,"run_time":0.007677365,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:2:2]","description":"gets a new token from the endpoint","full_description":"OpenBanking::Integration::AuthorisationClient#refresh_token gets a new token from the endpoint","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":175,"run_time":0.007033509,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:2:3:1]","description":"includes the client assertion params and gets a new token","full_description":"OpenBanking::Integration::AuthorisationClient#refresh_token when the auth_scheme is private_key_jwt includes the client assertion params and gets a new token","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":183,"run_time":0.009112141,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:3:1]","description":"generates the auth url","full_description":"OpenBanking::Integration::AuthorisationClient#authorise_url generates the auth url","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":225,"run_time":0.037737413,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:3:2]","description":"generates the state from given parameters","full_description":"OpenBanking::Integration::AuthorisationClient#authorise_url generates the state from given parameters","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":240,"run_time":0.03182247,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:3:3]","description":"sets the 's' parameter in the generated state if provision_accounts_after_consent is true","full_description":"OpenBanking::Integration::AuthorisationClient#authorise_url sets the 's' parameter in the generated state if provision_accounts_after_consent is true","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":253,"run_time":0.034041695,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:3:4]","description":"sets the 's' parameter in the generated state if reconsent is true","full_description":"OpenBanking::Integration::AuthorisationClient#authorise_url sets the 's' parameter in the generated state if reconsent is true","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":268,"run_time":0.034581832,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:3:5]","description":"overwrites the s parameter if provision_accounts and reconsent is true","full_description":"OpenBanking::Integration::AuthorisationClient#authorise_url overwrites the s parameter if provision_accounts and reconsent is true","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":283,"run_time":0.033084612,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:3:6]","description":"signs the payload","full_description":"OpenBanking::Integration::AuthorisationClient#authorise_url signs the payload","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":299,"run_time":0.03327061,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:3:7]","description":"uses the same nonce for JWT and request","full_description":"OpenBanking::Integration::AuthorisationClient#authorise_url uses the same nonce for JWT and request","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":311,"run_time":0.032714832,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:3:8:1]","description":"adds a max_age attribute","full_description":"OpenBanking::Integration::AuthorisationClient#authorise_url the provider config has specific claim conditions adds a max_age attribute","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":341,"run_time":0.028051055,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:3:8:2]","description":"removes the extra acr_values key","full_description":"OpenBanking::Integration::AuthorisationClient#authorise_url the provider config has specific claim conditions removes the extra acr_values key","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":350,"run_time":0.026823926,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:3:9:1]","description":"adds offline_access scope to the string signed URL","full_description":"OpenBanking::Integration::AuthorisationClient#authorise_url when requesting a consent for Cashplus adds offline_access scope to the string signed URL","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":366,"run_time":0.026524841,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:4:1:1]","description":"creates a remote consent","full_description":"OpenBanking::Integration::AuthorisationClient#create_remote_consent with `tpp_reconsent_enabled` false for a provider creates a remote consent","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":401,"run_time":0.014572409,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:4:2:1]","description":"creates a remote consent","full_description":"OpenBanking::Integration::AuthorisationClient#create_remote_consent with `tpp_reconsent_enabled` true for a provider creates a remote consent","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":421,"run_time":0.015479884,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:5:1]","description":"calls get_data on the integration rest api","full_description":"OpenBanking::Integration::AuthorisationClient#remote_consent_valid? calls get_data on the integration rest api","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":440,"run_time":0.006872265,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:5:2]","description":"will raise a response error when one is raised","full_description":"OpenBanking::Integration::AuthorisationClient#remote_consent_valid? will raise a response error when one is raised","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":449,"run_time":0.003810898,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:5:3]","description":"is true when the consent is authorised","full_description":"OpenBanking::Integration::AuthorisationClient#remote_consent_valid? is true when the consent is authorised","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":456,"run_time":0.003584861,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:5:4]","description":"is true when the consent is awaiting authorisation","full_description":"OpenBanking::Integration::AuthorisationClient#remote_consent_valid? is true when the consent is awaiting authorisation","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":462,"run_time":0.003383177,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:5:5]","description":"is false when the consent is not valid","full_description":"OpenBanking::Integration::AuthorisationClient#remote_consent_valid? is false when the consent is not valid","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":468,"run_time":0.003375618,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:6:1:1]","description":"returns an authorisation request id","full_description":"OpenBanking::Integration::AuthorisationClient#authorise_with_ciba when we pass consent id and one-time id returns an authorisation request id","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":486,"run_time":0.036621481,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:6:2:1]","description":"raises an UnknownAuthorisationSchemeError","full_description":"OpenBanking::Integration::AuthorisationClient#authorise_with_ciba when the provider is configured with an unsupported auth_scheme raises an UnknownAuthorisationSchemeError","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":498,"run_time":0.027137121,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:6:3:1]","description":"includes client id and secret in the request","full_description":"OpenBanking::Integration::AuthorisationClient#authorise_with_ciba when the provider is configured with auth_scheme: request_body includes client id and secret in the request","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":515,"run_time":0.030543567,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:6:4:1]","description":"includes client assertion and assertion type in the request","full_description":"OpenBanking::Integration::AuthorisationClient#authorise_with_ciba when the provider is configured with auth_scheme: private_key_jwt includes client assertion and assertion type in the request","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":532,"run_time":0.030631262,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:7:1:1]","description":"returns 400 invalid_grant","full_description":"OpenBanking::Integration::AuthorisationClient#check_ciba_auth_status when the auth_req_id is invalid returns 400 invalid_grant","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":563,"run_time":0.007103479,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:7:2:1]","description":"returns 400 authorization_pending","full_description":"OpenBanking::Integration::AuthorisationClient#check_ciba_auth_status when the authorisation is pending returns 400 authorization_pending","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":589,"run_time":0.00658934,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/integration/authorisation_client_spec.rb[1:7:3:1]","description":"returns an access token","full_description":"OpenBanking::Integration::AuthorisationClient#check_ciba_auth_status when the authorisation is ready returns an access token","status":"passed","file_path":"./spec/models/open_banking/integration/authorisation_client_spec.rb","line_number":624,"run_time":0.006306308,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:1:1:1]","description":"raises an exception","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#initialize on a response which has already been provisioned raises an exception","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":33,"run_time":0.103352738,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:1:2:1]","description":"raises an exception","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#initialize on a response missing required key raises an exception","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":44,"run_time":0.003829412,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:1:3:1]","description":"raises an exception","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#initialize on a response with nil value for a required key raises an exception","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":56,"run_time":0.003989019,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:1:4:1]","description":"raises an invalid brand error","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#initialize when reference number begins with an invalid brand prefix raises an invalid brand error","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":68,"run_time":0.003389471,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:2:1]","description":"is expected to eq \"RB000000001\"","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#reference_number is expected to eq \"RB000000001\"","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":79,"run_time":0.003117417,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:3:1:1]","description":"is expected to eq \"natwest\"","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#brand when reference number begins with NB is expected to eq \"natwest\"","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":88,"run_time":0.003303865,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:3:2:1]","description":"is expected to eq \"royal_bank_of_scotland\"","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#brand when reference number begins with RB is expected to eq \"royal_bank_of_scotland\"","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":93,"run_time":0.002959715,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:3:3:1]","description":"raises an invalid brand error","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#brand when reference number begins with XX raises an invalid brand error","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":99,"run_time":0.003125114,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:3:4:1]","description":"raises an invalid brand error","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#brand when reference number is not present raises an invalid brand error","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":107,"run_time":0.003526003,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:4:1]","description":"is expected to eq \"Tony\"","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#first_name is expected to eq \"Tony\"","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":115,"run_time":0.00325755,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:5:1]","description":"is expected to eq \"Stark\"","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#last_name is expected to eq \"Stark\"","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":120,"run_time":0.003298581,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:6:1]","description":"is expected to eq \"tonystark@example.com\"","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#email is expected to eq \"tonystark@example.com\"","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":125,"run_time":0.003259406,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:7:1]","description":"is expected to eq \"Stark Industries\"","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#business_name is expected to eq \"Stark Industries\"","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":130,"run_time":0.003351365,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:8:1]","description":"is expected to eq \"Limited Company\"","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#entity_type is expected to eq \"Limited Company\"","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":135,"run_time":0.004198611,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:9:1]","description":"is expected to eq \"LC\"","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#entity_code is expected to eq \"LC\"","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":140,"run_time":0.003745145,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:10:1:1:1]","description":"has a UK Sole Trader type","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#business_type when not a registered charity when the entity is a sole trader has a UK Sole Trader type","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":151,"run_time":0.003914506,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:10:1:2:1]","description":"has a UK Limited Company type","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#business_type when not a registered charity when the entity is a limited company has a UK Limited Company type","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":158,"run_time":0.003899802,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:10:1:3:1]","description":"has a UK Limited Company type","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#business_type when not a registered charity when the entity is a not for profit limited company has a UK Limited Company type","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":165,"run_time":0.004052494,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:10:1:4:1]","description":"has a UK Limited Liability Partnership type","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#business_type when not a registered charity when the entity is a limited liability partnership has a UK Limited Liability Partnership type","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":172,"run_time":0.004096571,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:10:1:5:1]","description":"has a UK Partnership type","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#business_type when not a registered charity when the entity is a partnership has a UK Partnership type","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":179,"run_time":0.003667719,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:10:1:6:1]","description":"has a Universal Company type","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#business_type when not a registered charity when the entity is something else has a Universal Company type","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":186,"run_time":0.003603869,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:10:2:1:1]","description":"has a Universal Company type","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#business_type when a registered charity when the entity is a not for profit limited company has a Universal Company type","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":205,"run_time":0.003685069,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:11:1]","description":"is expected to eq \"12345678\"","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#company_registration_number is expected to eq \"12345678\"","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":214,"run_time":0.003621203,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:12:1]","description":"is expected to eq nil","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#charity_registration_number is expected to eq nil","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":219,"run_time":0.003863362,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:13:1:1]","description":"is expected to equal true","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#is_registered_charity? when payload has a charity registration number is expected to equal true","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":227,"run_time":0.003733636,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:13:2:1]","description":"is expected to equal false","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#is_registered_charity? when payload has no charity registration number is expected to equal false","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":234,"run_time":0.003714932,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:14:1]","description":"is expected to eq \"19238967\"","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#account_number is expected to eq \"19238967\"","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":240,"run_time":0.00378919,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:15:1]","description":"is expected to eq \"602477\"","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#sort_code is expected to eq \"602477\"","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":245,"run_time":0.003609722,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:16:1:1]","description":"returns nil","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#company before a company has been provisioned returns nil","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":253,"run_time":0.004242702,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:16:2:1]","description":"returns the provisioned company","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#company after a company has been provisioned returns the provisioned company","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":262,"run_time":0.120957909,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:17:1:1]","description":"is expected to eq {:company_name=\u003e\"Stark Industries\", :company_type=\u003eUkLimitedCompany(id: integer, subdomain: string, a...eated_at: \"2022-12-15 10:01:32.000000000 +0000\", updated_at: \"2022-12-15 10:01:32.000000000 +0000\"\u003e}","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#signup_params for a Royal Bank of Scotland customer is expected to eq {:company_name=\u003e\"Stark Industries\", :company_type=\u003eUkLimitedCompany(id: integer, subdomain: string, a...eated_at: \"2022-12-15 10:01:32.000000000 +0000\", updated_at: \"2022-12-15 10:01:32.000000000 +0000\"\u003e}","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":295,"run_time":0.012012785,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:17:2:1]","description":"is expected to eq {:company_name=\u003e\"Stark Industries\", :company_type=\u003eUkLimitedCompany(id: integer, subdomain: string, a...eated_at: \"2022-12-15 10:01:32.000000000 +0000\", updated_at: \"2022-12-15 10:01:32.000000000 +0000\"\u003e}","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#signup_params for a NatWest customer is expected to eq {:company_name=\u003e\"Stark Industries\", :company_type=\u003eUkLimitedCompany(id: integer, subdomain: string, a...eated_at: \"2022-12-15 10:01:32.000000000 +0000\", updated_at: \"2022-12-15 10:01:32.000000000 +0000\"\u003e}","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":321,"run_time":0.011293818,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:17:3:1]","description":"uses the set subdomain","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#signup_params when a subdomain is explicitly specified uses the set subdomain","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":327,"run_time":0.014810759,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:17:4:1]","description":"uses the set subdomain","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#signup_params when a subdomain is not specified uses the set subdomain","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":333,"run_time":0.010219536,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:17:5:1]","description":"raises an error if invalid format","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#signup_params when a subdomain is set and is invalid raises an error if invalid format","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":339,"run_time":0.009303825,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:17:5:2]","description":"raises an error if too long","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#signup_params when a subdomain is set and is invalid raises an error if too long","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":344,"run_time":0.041469322,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:17:5:3]","description":"raises an error if empty","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#signup_params when a subdomain is set and is invalid raises an error if empty","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":349,"run_time":0.008333172,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:17:5:4]","description":"raises an error if subdomain reserved","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#signup_params when a subdomain is set and is invalid raises an error if subdomain reserved","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":354,"run_time":0.007879376,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb[1:17:5:5]","description":"raises an error if subdomain already taken","full_description":"Rbsg::FrontbookOnboarding::ApplicantResponse#signup_params when a subdomain is set and is invalid raises an error if subdomain already taken","status":"passed","file_path":"./spec/freeagent/rbsg/frontbook_onboarding/applicant_response_spec.rb","line_number":359,"run_time":0.009749593,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb[1:1:1:1]","description":"is expected to respond with numeric status code 400","full_description":"CustomerBilling::StripeWebhooksController#create with no payload is expected to respond with numeric status code 400","status":"passed","file_path":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb","line_number":16,"run_time":0.093442237,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb[1:1:2:1]","description":"is expected to respond with numeric status code 400","full_description":"CustomerBilling::StripeWebhooksController#create with invalid json is expected to respond with numeric status code 400","status":"passed","file_path":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb","line_number":24,"run_time":0.096017816,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb[1:1:2:2]","description":"reports an error","full_description":"CustomerBilling::StripeWebhooksController#create with invalid json reports an error","status":"passed","file_path":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb","line_number":26,"run_time":0.088701028,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb[1:1:3:1]","description":"is expected to respond with numeric status code 400","full_description":"CustomerBilling::StripeWebhooksController#create with invalid signature is expected to respond with numeric status code 400","status":"passed","file_path":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb","line_number":41,"run_time":0.095495135,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb[1:1:3:2]","description":"reports an error","full_description":"CustomerBilling::StripeWebhooksController#create with invalid signature reports an error","status":"passed","file_path":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb","line_number":43,"run_time":0.09902153,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb[1:1:4:1:1:1]","description":"is expected to respond with status code :ok (200)","full_description":"CustomerBilling::StripeWebhooksController#create with a valid update payment_method.automatically_updated to the current payment method is expected to respond with status code :ok (200)","status":"passed","file_path":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb","line_number":74,"run_time":0.095696777,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb[1:1:4:1:1:2]","description":"updates the billing profiles with new card details","full_description":"CustomerBilling::StripeWebhooksController#create with a valid update payment_method.automatically_updated to the current payment method updates the billing profiles with new card details","status":"passed","file_path":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb","line_number":76,"run_time":0.093245057,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb[1:1:4:1:2:1]","description":"is expected to respond with status code :ok (200)","full_description":"CustomerBilling::StripeWebhooksController#create with a valid update payment_method.automatically_updated to a non-current payment method is expected to respond with status code :ok (200)","status":"passed","file_path":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb","line_number":91,"run_time":0.103341904,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb[1:1:4:1:2:2]","description":"does not update the billing profile with new card details","full_description":"CustomerBilling::StripeWebhooksController#create with a valid update payment_method.automatically_updated to a non-current payment method does not update the billing profile with new card details","status":"passed","file_path":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb","line_number":93,"run_time":0.088628469,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb[1:1:4:1:3:1]","description":"is expected to respond with status code :ok (200)","full_description":"CustomerBilling::StripeWebhooksController#create with a valid update payment_method.automatically_updated to a customer with no billing profile is expected to respond with status code :ok (200)","status":"passed","file_path":"./spec/controllers/customer_billing/stripe_webhooks_controller_spec.rb","line_number":109,"run_time":0.123114027,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/banquo/model_phase_two_mock_response_spec.rb[1:1:1]","description":"is an array containing expected transaction data","full_description":"Banking::Banquo::ModelPhaseTwoMockResponse#to_a is an array containing expected transaction data","status":"passed","file_path":"./spec/models/banking/banquo/model_phase_two_mock_response_spec.rb","line_number":13,"run_time":0.2212818,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:1:1:3:2]","description":"representing admin expenses","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the cash accounting basis not on the Flat Rate Scheme Expenses representing admin expenses","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":2600,"run_time":0.527064689,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/model_index_operation_spec.rb[1:1:1]","description":"builds items to cover the id space of a model","full_description":"Search::ModelIndexOperation#build_items builds items to cover the id space of a model","status":"passed","file_path":"./spec/models/search/model_index_operation_spec.rb","line_number":16,"run_time":0.384208546,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/model_index_operation_spec.rb[1:1:2]","description":"returns the number of items built","full_description":"Search::ModelIndexOperation#build_items returns the number of items built","status":"passed","file_path":"./spec/models/search/model_index_operation_spec.rb","line_number":26,"run_time":0.438412217,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/model_index_operation_spec.rb[1:2:1]","description":"marks the first two items as running","full_description":"Search::ModelIndexOperation#run marks the first two items as running","status":"passed","file_path":"./spec/models/search/model_index_operation_spec.rb","line_number":40,"run_time":0.02033782,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/model_index_operation_spec.rb[1:2:2]","description":"enqueues first two items","full_description":"Search::ModelIndexOperation#run enqueues first two items","status":"passed","file_path":"./spec/models/search/model_index_operation_spec.rb","line_number":52,"run_time":0.015709864,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/model_index_operation_spec.rb[1:2:3]","description":"propagates the run_at time to the items","full_description":"Search::ModelIndexOperation#run propagates the run_at time to the items","status":"passed","file_path":"./spec/models/search/model_index_operation_spec.rb","line_number":59,"run_time":0.014186655,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/model_index_operation_spec.rb[1:3:1]","description":"schedules a Search::IndexIdRangeJob","full_description":"Search::ModelIndexOperation#enqueue_item schedules a Search::IndexIdRangeJob","status":"passed","file_path":"./spec/models/search/model_index_operation_spec.rb","line_number":74,"run_time":0.003876324,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/model_index_operation_spec.rb[1:3:2]","description":"respects the run_at argument","full_description":"Search::ModelIndexOperation#enqueue_item respects the run_at argument","status":"passed","file_path":"./spec/models/search/model_index_operation_spec.rb","line_number":80,"run_time":0.003439043,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/model_index_operation_spec.rb[1:4:1:1]","description":"kicks off the next item","full_description":"Search::ModelIndexOperation#item_complete when it's called with an item that is not the last kicks off the next item","status":"passed","file_path":"./spec/models/search/model_index_operation_spec.rb","line_number":108,"run_time":0.020388837,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/model_index_operation_spec.rb[1:4:1:2]","description":"marks the next item as running","full_description":"Search::ModelIndexOperation#item_complete when it's called with an item that is not the last marks the next item as running","status":"passed","file_path":"./spec/models/search/model_index_operation_spec.rb","line_number":116,"run_time":0.018202364,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/model_index_operation_spec.rb[1:4:1:3]","description":"aborts the indexing if the item failed","full_description":"Search::ModelIndexOperation#item_complete when it's called with an item that is not the last aborts the indexing if the item failed","status":"passed","file_path":"./spec/models/search/model_index_operation_spec.rb","line_number":126,"run_time":0.022331091,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/model_index_operation_spec.rb[1:4:1:4]","description":"marks the parent's operation item as failed if the item failed","full_description":"Search::ModelIndexOperation#item_complete when it's called with an item that is not the last marks the parent's operation item as failed if the item failed","status":"passed","file_path":"./spec/models/search/model_index_operation_spec.rb","line_number":138,"run_time":0.022581418,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/model_index_operation_spec.rb[1:4:2:1]","description":"marks the parent's operation item as succesful if there were no failures","full_description":"Search::ModelIndexOperation#item_complete when it's called with the final item marks the parent's operation item as succesful if there were no failures","status":"passed","file_path":"./spec/models/search/model_index_operation_spec.rb","line_number":150,"run_time":0.024619035,"pending_message":null,"screenshot":null},{"id":"./spec/models/search/model_index_operation_spec.rb[1:4:2:2]","description":"marks the parent's operation item as failed if the item failed","full_description":"Search::ModelIndexOperation#item_complete when it's called with the final item marks the parent's operation item as failed if the item failed","status":"passed","file_path":"./spec/models/search/model_index_operation_spec.rb","line_number":161,"run_time":0.025086853,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/bank_reconciliation_report_item_entry_spec.rb[1:1:1:1]","description":"should create the expected row","full_description":"Accounting::BankReconciliationReportItemEntry#create_row when isn't manual should create the expected row","status":"passed","file_path":"./spec/models/accounting/bank_reconciliation_report_item_entry_spec.rb","line_number":10,"run_time":0.190709464,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/bank_reconciliation_report_item_entry_spec.rb[1:1:2:1:1]","description":"should create the expected row","full_description":"Accounting::BankReconciliationReportItemEntry#create_row when explanation is manual and money in should create the expected row","status":"passed","file_path":"./spec/models/accounting/bank_reconciliation_report_item_entry_spec.rb","line_number":35,"run_time":0.094590396,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/bank_reconciliation_report_item_entry_spec.rb[1:1:2:2:1]","description":"should create the expected row","full_description":"Accounting::BankReconciliationReportItemEntry#create_row when explanation is manual and money out should create the expected row","status":"passed","file_path":"./spec/models/accounting/bank_reconciliation_report_item_entry_spec.rb","line_number":57,"run_time":0.09533075,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/bank_reconciliation_report_item_entry_spec.rb[1:1:2:3:1]","description":"should create the expected row","full_description":"Accounting::BankReconciliationReportItemEntry#create_row when explanation is manual and show running balance is false should create the expected row","status":"passed","file_path":"./spec/models/accounting/bank_reconciliation_report_item_entry_spec.rb","line_number":79,"run_time":0.098525753,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/bank_reconciliation_report_item_entry_spec.rb[1:2:1]","description":"returns gross amount","full_description":"Accounting::BankReconciliationReportItemEntry#amount returns gross amount","status":"passed","file_path":"./spec/models/accounting/bank_reconciliation_report_item_entry_spec.rb","line_number":102,"run_time":0.039245835,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/flying_start/re_engager_spec.rb[1:1:1:1:1]","description":"does not set a cookie","full_description":"FlyingStart::ReEngager#re_engage with a company not funded by NWG behaves like the company is not re-engaged does not set a cookie","status":"passed","file_path":"./spec/freeagent/flying_start/re_engager_spec.rb","line_number":13,"run_time":0.0088802,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/flying_start/re_engager_spec.rb[1:1:1:1:2]","description":"does not trigger a salesforce event","full_description":"FlyingStart::ReEngager#re_engage with a company not funded by NWG behaves like the company is not re-engaged does not trigger a salesforce event","status":"passed","file_path":"./spec/freeagent/flying_start/re_engager_spec.rb","line_number":18,"run_time":0.008085968,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/flying_start/re_engager_spec.rb[1:1:2:1:2]","description":"does not update the re_engaged_at timestamp in the company profile","full_description":"FlyingStart::ReEngager#re_engage with a NWG-funded company with no pending Flying Start tasks does not update the re_engaged_at timestamp in the company profile","status":"passed","file_path":"./spec/freeagent/flying_start/re_engager_spec.rb","line_number":41,"run_time":0.111725652,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/flying_start/re_engager_spec.rb[1:1:2:1:1:1]","description":"does not set a cookie","full_description":"FlyingStart::ReEngager#re_engage with a NWG-funded company with no pending Flying Start tasks behaves like the company is not re-engaged does not set a cookie","status":"passed","file_path":"./spec/freeagent/flying_start/re_engager_spec.rb","line_number":13,"run_time":0.111054563,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/flying_start/re_engager_spec.rb[1:1:2:1:1:2]","description":"does not trigger a salesforce event","full_description":"FlyingStart::ReEngager#re_engage with a NWG-funded company with no pending Flying Start tasks behaves like the company is not re-engaged does not trigger a salesforce event","status":"passed","file_path":"./spec/freeagent/flying_start/re_engager_spec.rb","line_number":18,"run_time":0.092421856,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/flying_start/re_engager_spec.rb[1:1:2:2:1]","description":"updates the re_engaged_at timestamp in the company profile","full_description":"FlyingStart::ReEngager#re_engage with a NWG-funded company with at least one pending Flying Start tasks updates the re_engaged_at timestamp in the company profile","status":"passed","file_path":"./spec/freeagent/flying_start/re_engager_spec.rb","line_number":53,"run_time":0.109466542,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/flying_start/re_engager_spec.rb[1:1:2:2:2]","description":"triggers a Salesforce event","full_description":"FlyingStart::ReEngager#re_engage with a NWG-funded company with at least one pending Flying Start tasks triggers a Salesforce event","status":"passed","file_path":"./spec/freeagent/flying_start/re_engager_spec.rb","line_number":59,"run_time":0.0915226,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/flying_start/re_engager_spec.rb[1:1:2:2:3]","description":"sets the Flying Start pop-up cookie","full_description":"FlyingStart::ReEngager#re_engage with a NWG-funded company with at least one pending Flying Start tasks sets the Flying Start pop-up cookie","status":"passed","file_path":"./spec/freeagent/flying_start/re_engager_spec.rb","line_number":64,"run_time":0.08290798,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/feature_switches/old_index.html.erb_spec.rb[1:1:1]","description":"shows notice that company has no feature switches","full_description":"admin/companies/feature_switches/old_index the company has no feature switches shows notice that company has no feature switches","status":"passed","file_path":"./spec/views/admin/companies/feature_switches/old_index.html.erb_spec.rb","line_number":11,"run_time":0.05252072,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/feature_switches/old_index.html.erb_spec.rb[1:2:1]","description":"shows a table of the feature switches","full_description":"admin/companies/feature_switches/old_index the company has a number of feature switches shows a table of the feature switches","status":"passed","file_path":"./spec/views/admin/companies/feature_switches/old_index.html.erb_spec.rb","line_number":32,"run_time":0.165984592,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/feature_switches/old_index.html.erb_spec.rb[1:2:2:1]","description":"shows the remove feature switch button","full_description":"admin/companies/feature_switches/old_index the company has a number of feature switches user has all admin permissions for features shows the remove feature switch button","status":"passed","file_path":"./spec/views/admin/companies/feature_switches/old_index.html.erb_spec.rb","line_number":48,"run_time":0.114944236,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/feature_switches/old_index.html.erb_spec.rb[1:2:2:2]","description":"shows the Add Feature Switch button","full_description":"admin/companies/feature_switches/old_index the company has a number of feature switches user has all admin permissions for features shows the Add Feature Switch button","status":"passed","file_path":"./spec/views/admin/companies/feature_switches/old_index.html.erb_spec.rb","line_number":54,"run_time":0.113998102,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/feature_switches/old_index.html.erb_spec.rb[1:2:3:1]","description":"does not show the remove feature switch button","full_description":"admin/companies/feature_switches/old_index the company has a number of feature switches user does not have all admin permissions for features does not show the remove feature switch button","status":"passed","file_path":"./spec/views/admin/companies/feature_switches/old_index.html.erb_spec.rb","line_number":67,"run_time":0.127783134,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/feature_switches/old_index.html.erb_spec.rb[1:2:3:2]","description":"does not show the Add Feature Switch button","full_description":"admin/companies/feature_switches/old_index the company has a number of feature switches user does not have all admin permissions for features does not show the Add Feature Switch button","status":"passed","file_path":"./spec/views/admin/companies/feature_switches/old_index.html.erb_spec.rb","line_number":73,"run_time":0.1069916,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/notes_controller_spec.rb[1:1:1]","description":"assigns @notes for a company","full_description":"Admin::Companies::NotesController#index assigns @notes for a company","status":"passed","file_path":"./spec/controllers/admin/companies/notes_controller_spec.rb","line_number":13,"run_time":0.188634378,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/notes_controller_spec.rb[1:2:1:1]","description":"display the requested note","full_description":"Admin::Companies::NotesController behaves like managing notes #show display the requested note","status":"passed","file_path":"./spec/support/shared_examples/admin/manage_notes.rb","line_number":9,"run_time":0.086000913,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/notes_controller_spec.rb[1:2:2:1]","description":"creates a new note","full_description":"Admin::Companies::NotesController behaves like managing notes #create creates a new note","status":"passed","file_path":"./spec/support/shared_examples/admin/manage_notes.rb","line_number":20,"run_time":0.093955279,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/notes_controller_spec.rb[1:2:3:1]","description":"displays the form for updating the note","full_description":"Admin::Companies::NotesController behaves like managing notes #edit displays the form for updating the note","status":"passed","file_path":"./spec/support/shared_examples/admin/manage_notes.rb","line_number":38,"run_time":0.087189198,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/notes_controller_spec.rb[1:2:4:1]","description":"updates note","full_description":"Admin::Companies::NotesController behaves like managing notes #update updates note","status":"passed","file_path":"./spec/support/shared_examples/admin/manage_notes.rb","line_number":54,"run_time":0.091316662,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/companies/notes_controller_spec.rb[1:2:5:1]","description":"deletes note","full_description":"Admin::Companies::NotesController behaves like managing notes #destroy deletes note","status":"passed","file_path":"./spec/support/shared_examples/admin/manage_notes.rb","line_number":77,"run_time":0.094989755,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:63:1]","description":"has the company vat registration number after registration","full_description":"Invoice An Invoice for a company that has applied for VAT registration has the company vat registration number after registration","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":1709,"run_time":0.411811467,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:108:1:3:1]","description":"can change to another cis_category","full_description":"Invoice with a CIS category on a draft invoice with CIS invoice items can change to another cis_category","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":3143,"run_time":0.417401407,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[3:18:2:1]","description":"should not publish the 'viewed' event","full_description":"InvoicesController GET :index the overdue invoice notice when the user is not shown the overdue invoice notice should not publish the 'viewed' event","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":454,"run_time":0.487047743,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/general_ledger_accounts_check_spec.rb[1:1]","description":"does not fail on valid accounts","full_description":"GeneralLedgerAccountsCheck does not fail on valid accounts","status":"passed","file_path":"./spec/models/health_robinson/check/general_ledger_accounts_check_spec.rb","line_number":12,"run_time":0.069970708,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/general_ledger_accounts_check_spec.rb[1:2:1]","description":"fails on the invalid account","full_description":"GeneralLedgerAccountsCheck when a built-in account is missing an account_type fails on the invalid account","status":"passed","file_path":"./spec/models/health_robinson/check/general_ledger_accounts_check_spec.rb","line_number":23,"run_time":0.089504282,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/general_ledger_accounts_check_spec.rb[1:3:1]","description":"fails on the invalid account","full_description":"GeneralLedgerAccountsCheck when a custom account is missing an account_type fails on the invalid account","status":"passed","file_path":"./spec/models/health_robinson/check/general_ledger_accounts_check_spec.rb","line_number":39,"run_time":0.082079287,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/general_ledger_accounts_check_spec.rb[1:4:1]","description":"fails on the invalid account","full_description":"GeneralLedgerAccountsCheck when an account is missing its chartable fails on the invalid account","status":"passed","file_path":"./spec/models/health_robinson/check/general_ledger_accounts_check_spec.rb","line_number":55,"run_time":0.066415533,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/general_ledger_accounts_check_spec.rb[1:5:1]","description":"fails on the invalid account","full_description":"GeneralLedgerAccountsCheck when an account unexpectedly has a chartable fails on the invalid account","status":"passed","file_path":"./spec/models/health_robinson/check/general_ledger_accounts_check_spec.rb","line_number":74,"run_time":0.069778854,"pending_message":null,"screenshot":null},{"id":"./spec/tools/data_integrity/report_spec.rb[1:1:1]","description":"returns risk counts when given companies with no risk","full_description":"DataIntegrity::Report#full_report returns risk counts when given companies with no risk","status":"passed","file_path":"./spec/tools/data_integrity/report_spec.rb","line_number":13,"run_time":0.173479892,"pending_message":null,"screenshot":null},{"id":"./spec/tools/data_integrity/report_spec.rb[1:1:2]","description":"returns risk counts when given companies with medium and high risk","full_description":"DataIntegrity::Report#full_report returns risk counts when given companies with medium and high risk","status":"passed","file_path":"./spec/tools/data_integrity/report_spec.rb","line_number":24,"run_time":0.207930467,"pending_message":null,"screenshot":null},{"id":"./spec/policies/contacts/history_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Contacts::HistoryPolicy a user with permission level below CONTACTS_AND_PROJECTS is expected to equal false","status":"passed","file_path":"./spec/policies/contacts/history_policy_spec.rb","line_number":13,"run_time":0.009993476,"pending_message":null,"screenshot":null},{"id":"./spec/policies/contacts/history_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Contacts::HistoryPolicy a user with permission level CONTACTS_AND_PROJECTS is expected to equal true","status":"passed","file_path":"./spec/policies/contacts/history_policy_spec.rb","line_number":22,"run_time":0.008499848,"pending_message":null,"screenshot":null},{"id":"./spec/policies/contacts/history_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Contacts::HistoryPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/contacts/history_policy_spec.rb","line_number":31,"run_time":0.0569824,"pending_message":null,"screenshot":null},{"id":"./spec/policies/projects/invoice_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Projects::InvoicePolicy a user with permission level below ESTIMATES_AND_INVOICES is expected to equal false","status":"passed","file_path":"./spec/policies/projects/invoice_policy_spec.rb","line_number":14,"run_time":0.051430496,"pending_message":null,"screenshot":null},{"id":"./spec/policies/projects/invoice_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Projects::InvoicePolicy a user with permission level ESTIMATES_AND_INVOICES is expected to equal true","status":"passed","file_path":"./spec/policies/projects/invoice_policy_spec.rb","line_number":24,"run_time":0.009647274,"pending_message":null,"screenshot":null},{"id":"./spec/policies/projects/invoice_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Projects::InvoicePolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/projects/invoice_policy_spec.rb","line_number":34,"run_time":0.058052034,"pending_message":null,"screenshot":null},{"id":"./spec/policies/estimates/email_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Estimates::EmailPolicy a user with permission level below ESTIMATES_AND_INVOICES is expected to equal false","status":"passed","file_path":"./spec/policies/estimates/email_policy_spec.rb","line_number":14,"run_time":0.00974521,"pending_message":null,"screenshot":null},{"id":"./spec/policies/estimates/email_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Estimates::EmailPolicy a user with permission level ESTIMATES_AND_INVOICES is expected to equal true","status":"passed","file_path":"./spec/policies/estimates/email_policy_spec.rb","line_number":24,"run_time":0.010102158,"pending_message":null,"screenshot":null},{"id":"./spec/policies/estimates/email_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Estimates::EmailPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/estimates/email_policy_spec.rb","line_number":34,"run_time":0.06649235,"pending_message":null,"screenshot":null},{"id":"./spec/policies/project_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"ProjectPolicy a user with permission level below CONTACTS_AND_PROJECTS is expected to equal false","status":"passed","file_path":"./spec/policies/project_policy_spec.rb","line_number":22,"run_time":0.012730932,"pending_message":null,"screenshot":null},{"id":"./spec/policies/project_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"ProjectPolicy a user with permission level CONTACTS_AND_PROJECTS is expected to equal true","status":"passed","file_path":"./spec/policies/project_policy_spec.rb","line_number":40,"run_time":0.012246788,"pending_message":null,"screenshot":null},{"id":"./spec/policies/project_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"ProjectPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/project_policy_spec.rb","line_number":58,"run_time":0.069495013,"pending_message":null,"screenshot":null},{"id":"./spec/policies/mobile/invoice_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Mobile::InvoicePolicy a user with permission level below ESTIMATES_AND_INVOICES is expected to equal false","status":"passed","file_path":"./spec/policies/mobile/invoice_policy_spec.rb","line_number":15,"run_time":0.011312135,"pending_message":null,"screenshot":null},{"id":"./spec/policies/mobile/invoice_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Mobile::InvoicePolicy a user with permission level ESTIMATES_AND_INVOICES is expected to equal true","status":"passed","file_path":"./spec/policies/mobile/invoice_policy_spec.rb","line_number":25,"run_time":0.011969469,"pending_message":null,"screenshot":null},{"id":"./spec/policies/mobile/invoice_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Mobile::InvoicePolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/mobile/invoice_policy_spec.rb","line_number":35,"run_time":0.061764446,"pending_message":null,"screenshot":null},{"id":"./spec/policies/estimates/project_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Estimates::ProjectPolicy a user with permission level below ESTIMATES_AND_INVOICES is expected to equal false","status":"passed","file_path":"./spec/policies/estimates/project_policy_spec.rb","line_number":13,"run_time":0.008200276,"pending_message":null,"screenshot":null},{"id":"./spec/policies/estimates/project_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Estimates::ProjectPolicy a user with permission level ESTIMATES_AND_INVOICES is expected to equal true","status":"passed","file_path":"./spec/policies/estimates/project_policy_spec.rb","line_number":22,"run_time":0.007485242,"pending_message":null,"screenshot":null},{"id":"./spec/policies/estimates/project_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Estimates::ProjectPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/estimates/project_policy_spec.rb","line_number":31,"run_time":0.057604644,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:80:1]","description":"is included in the correct scopes","full_description":"Invoice dated today with 0 day terms (due on receipt) is included in the correct scopes","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":2405,"run_time":0.059371686,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:97:2:3:1]","description":"is expected not to include #\u003cInvoice id: 238, project_id: nil, reference: \"REF 0001\", dated_on: \"2022-12-16\", status: \"Draft\", c...l, recurring_invoice_profile_id: nil, property_id: nil, is_paid: nil, include_payment_button: false\u003e","full_description":"Invoice.with_active_reminders scope when true is passed when an invoice does not have reminder emails set at all is expected not to include #\u003cInvoice id: 238, project_id: nil, reference: \"REF 0001\", dated_on: \"2022-12-16\", status: \"Draft\", c...l, recurring_invoice_profile_id: nil, property_id: nil, is_paid: nil, include_payment_button: false\u003e","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":2888,"run_time":0.063420215,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:101:5:1]","description":"defines its own auditable_capture_enabled? that returns a boolean","full_description":"Invoice behaves like auditable entity #auditable_capture_enabled? defines its own auditable_capture_enabled? that returns a boolean","status":"passed","file_path":"./engines/audit_trail/spec/support/shared_examples/audit_trail/entity_shared_examples.rb","line_number":117,"run_time":0.066332623,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:106:2]","description":"does not cause exception if it hits other validation first","full_description":"Invoice New invoice with contact nil does not cause exception if it hits other validation first","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":3083,"run_time":0.069536329,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:118:2:1]","description":"returns the correct full_reference","full_description":"Invoice#full_reference when in the default locale returns the correct full_reference","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":3673,"run_time":0.06665104,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/send_user_invitation_job_spec.rb[1:1:1:1]","description":"calls invitation from InvitationMailer","full_description":"SendUserInvitationJob#perform with an existing User calls invitation from InvitationMailer","status":"passed","file_path":"./spec/jobs/send_user_invitation_job_spec.rb","line_number":28,"run_time":0.029430289,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/send_user_invitation_job_spec.rb[1:1:2:1]","description":"calls invitation from InvitationMailer","full_description":"SendUserInvitationJob#perform with an existing AccountManager calls invitation from InvitationMailer","status":"passed","file_path":"./spec/jobs/send_user_invitation_job_spec.rb","line_number":42,"run_time":0.047675468,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/send_user_invitation_job_spec.rb[1:1:3:1]","description":"notifies the ErrorService","full_description":"SendUserInvitationJob#perform with a non-existing record notifies the ErrorService","status":"passed","file_path":"./spec/jobs/send_user_invitation_job_spec.rb","line_number":56,"run_time":0.005866511,"pending_message":null,"screenshot":null},{"id":"./spec/policies/bank_account_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"BankAccountPolicy a user with permission level below BANKING is expected to equal false","status":"passed","file_path":"./spec/policies/bank_account_policy_spec.rb","line_number":24,"run_time":0.011506253,"pending_message":null,"screenshot":null},{"id":"./spec/policies/bank_account_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"BankAccountPolicy a user with permission level BANKING is expected to equal true","status":"passed","file_path":"./spec/policies/bank_account_policy_spec.rb","line_number":44,"run_time":0.0083676,"pending_message":null,"screenshot":null},{"id":"./spec/policies/bank_account_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"BankAccountPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/bank_account_policy_spec.rb","line_number":64,"run_time":0.051524228,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/attachment_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Api::AttachmentPolicy a user with permission level below MY_MONEY is expected to equal false","status":"passed","file_path":"./spec/policies/api/attachment_policy_spec.rb","line_number":14,"run_time":0.009118583,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/attachment_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Api::AttachmentPolicy a user with permission level MY_MONEY is expected to equal true","status":"passed","file_path":"./spec/policies/api/attachment_policy_spec.rb","line_number":24,"run_time":0.008936704,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/attachment_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Api::AttachmentPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/api/attachment_policy_spec.rb","line_number":34,"run_time":0.064570918,"pending_message":null,"screenshot":null},{"id":"./spec/policies/overview/invoice_timeline_datum_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Overview::InvoiceTimelineDatumPolicy a user with permission level below ESTIMATES_AND_INVOICES is expected to equal false","status":"passed","file_path":"./spec/policies/overview/invoice_timeline_datum_policy_spec.rb","line_number":13,"run_time":0.010883096,"pending_message":null,"screenshot":null},{"id":"./spec/policies/overview/invoice_timeline_datum_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Overview::InvoiceTimelineDatumPolicy a user with permission level ESTIMATES_AND_INVOICES is expected to equal true","status":"passed","file_path":"./spec/policies/overview/invoice_timeline_datum_policy_spec.rb","line_number":22,"run_time":0.010311206,"pending_message":null,"screenshot":null},{"id":"./spec/policies/overview/invoice_timeline_datum_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Overview::InvoiceTimelineDatumPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/overview/invoice_timeline_datum_policy_spec.rb","line_number":31,"run_time":0.060207199,"pending_message":null,"screenshot":null},{"id":"./spec/policies/accounting/comparative_profit_and_loss_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Accounting::ComparativeProfitAndLossPolicy a user with permission level below TAX_AND_LIMITED_ACCOUNTING is expected to equal false","status":"passed","file_path":"./spec/policies/accounting/comparative_profit_and_loss_policy_spec.rb","line_number":13,"run_time":0.008030555,"pending_message":null,"screenshot":null},{"id":"./spec/policies/accounting/comparative_profit_and_loss_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Accounting::ComparativeProfitAndLossPolicy a user with permission level TAX_AND_LIMITED_ACCOUNTING is expected to equal true","status":"passed","file_path":"./spec/policies/accounting/comparative_profit_and_loss_policy_spec.rb","line_number":22,"run_time":0.007724303,"pending_message":null,"screenshot":null},{"id":"./spec/policies/accounting/comparative_profit_and_loss_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Accounting::ComparativeProfitAndLossPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/accounting/comparative_profit_and_loss_policy_spec.rb","line_number":31,"run_time":0.049109818,"pending_message":null,"screenshot":null},{"id":"./spec/policies/settings/account_lock_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Settings::AccountLockPolicy a user with permission level below FULL_ACCESS is expected to equal false","status":"passed","file_path":"./spec/policies/settings/account_lock_policy_spec.rb","line_number":15,"run_time":0.009095505,"pending_message":null,"screenshot":null},{"id":"./spec/policies/settings/account_lock_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Settings::AccountLockPolicy a user with permission level FULL_ACCESS is expected to equal true","status":"passed","file_path":"./spec/policies/settings/account_lock_policy_spec.rb","line_number":26,"run_time":0.008623518,"pending_message":null,"screenshot":null},{"id":"./spec/policies/settings/account_lock_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Settings::AccountLockPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/settings/account_lock_policy_spec.rb","line_number":37,"run_time":0.056223022,"pending_message":null,"screenshot":null},{"id":"./spec/policies/mobile/app_promotion_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Mobile::AppPromotionPolicy a user with permission level below TIME is expected to equal false","status":"passed","file_path":"./spec/policies/mobile/app_promotion_policy_spec.rb","line_number":14,"run_time":0.009443179,"pending_message":null,"screenshot":null},{"id":"./spec/policies/mobile/app_promotion_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Mobile::AppPromotionPolicy a user with permission level TIME is expected to equal true","status":"passed","file_path":"./spec/policies/mobile/app_promotion_policy_spec.rb","line_number":23,"run_time":0.007662109,"pending_message":null,"screenshot":null},{"id":"./spec/policies/mobile/app_promotion_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Mobile::AppPromotionPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/mobile/app_promotion_policy_spec.rb","line_number":32,"run_time":0.054519678,"pending_message":null,"screenshot":null},{"id":"./spec/views/settings/logo.html.erb_spec.rb[1:1:1]","description":"is expected to include \"Invoices, Estimates and Payslips\"","full_description":"settings/logo when company has version 2 payslips is expected to include \"Invoices, Estimates and Payslips\"","status":"passed","file_path":"./spec/views/settings/logo.html.erb_spec.rb","line_number":25,"run_time":0.051224443,"pending_message":null,"screenshot":null},{"id":"./spec/views/settings/logo.html.erb_spec.rb[1:2:1]","description":"is expected to include \"Invoices and Estimates\"","full_description":"settings/logo when company doesn't have version 2 payslips is expected to include \"Invoices and Estimates\"","status":"passed","file_path":"./spec/views/settings/logo.html.erb_spec.rb","line_number":31,"run_time":0.033771516,"pending_message":null,"screenshot":null},{"id":"./spec/policies/invoices/reminder_emails_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Invoices::ReminderEmailsPolicy a user with permission level below ESTIMATES_AND_INVOICES is expected to equal false","status":"passed","file_path":"./spec/policies/invoices/reminder_emails_policy_spec.rb","line_number":15,"run_time":0.009546165,"pending_message":null,"screenshot":null},{"id":"./spec/policies/invoices/reminder_emails_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Invoices::ReminderEmailsPolicy a user with permission level ESTIMATES_AND_INVOICES is expected to equal true","status":"passed","file_path":"./spec/policies/invoices/reminder_emails_policy_spec.rb","line_number":25,"run_time":0.008927068,"pending_message":null,"screenshot":null},{"id":"./spec/policies/invoices/reminder_emails_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Invoices::ReminderEmailsPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/invoices/reminder_emails_policy_spec.rb","line_number":35,"run_time":0.057981967,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/payroll/period_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Api::Payroll::PeriodPolicy a user with permission level below TAX_AND_LIMITED_ACCOUNTING is expected to equal false","status":"passed","file_path":"./spec/policies/api/payroll/period_policy_spec.rb","line_number":14,"run_time":0.009860386,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/payroll/period_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Api::Payroll::PeriodPolicy a user with permission level TAX_AND_LIMITED_ACCOUNTING is expected to equal true","status":"passed","file_path":"./spec/policies/api/payroll/period_policy_spec.rb","line_number":24,"run_time":0.009128096,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/payroll/period_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Api::Payroll::PeriodPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/api/payroll/period_policy_spec.rb","line_number":34,"run_time":0.05284596,"pending_message":null,"screenshot":null},{"id":"./spec/policies/timeslips/task_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Timeslips::TaskPolicy a user with permission level below TIME is expected to equal false","status":"passed","file_path":"./spec/policies/timeslips/task_policy_spec.rb","line_number":20,"run_time":0.009696793,"pending_message":null,"screenshot":null},{"id":"./spec/policies/timeslips/task_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Timeslips::TaskPolicy a user with permission level TIME is expected to equal true","status":"passed","file_path":"./spec/policies/timeslips/task_policy_spec.rb","line_number":35,"run_time":0.009706329,"pending_message":null,"screenshot":null},{"id":"./spec/policies/timeslips/task_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Timeslips::TaskPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/timeslips/task_policy_spec.rb","line_number":50,"run_time":0.054855089,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/journal_entry_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Api::JournalEntryPolicy a user with permission level below TAX_AND_LIMITED_ACCOUNTING is expected to equal false","status":"passed","file_path":"./spec/policies/api/journal_entry_policy_spec.rb","line_number":13,"run_time":0.009509674,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/journal_entry_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Api::JournalEntryPolicy a user with permission level TAX_AND_LIMITED_ACCOUNTING is expected to equal true","status":"passed","file_path":"./spec/policies/api/journal_entry_policy_spec.rb","line_number":22,"run_time":0.008680674,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/journal_entry_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Api::JournalEntryPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/api/journal_entry_policy_spec.rb","line_number":31,"run_time":0.050885474,"pending_message":null,"screenshot":null},{"id":"./spec/policies/getting_started/open_banking_setup_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"GettingStarted::OpenBankingSetupPolicy a user with permission level below FULL_ACCESS is expected to equal false","status":"passed","file_path":"./spec/policies/getting_started/open_banking_setup_policy_spec.rb","line_number":14,"run_time":0.008601596,"pending_message":null,"screenshot":null},{"id":"./spec/policies/getting_started/open_banking_setup_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"GettingStarted::OpenBankingSetupPolicy a user with permission level FULL_ACCESS is expected to equal true","status":"passed","file_path":"./spec/policies/getting_started/open_banking_setup_policy_spec.rb","line_number":24,"run_time":0.008296224,"pending_message":null,"screenshot":null},{"id":"./spec/policies/getting_started/open_banking_setup_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"GettingStarted::OpenBankingSetupPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/getting_started/open_banking_setup_policy_spec.rb","line_number":34,"run_time":0.050825922,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/stimulus_helper_spec.rb[1:1:1:1:1]","description":"combines the controllers in the data hash","full_description":"StimulusHelper#merge_stimulus_data when merging controllers and the data and stimulus options have controllers combines the controllers in the data hash","status":"passed","file_path":"./spec/helpers/stimulus_helper_spec.rb","line_number":14,"run_time":0.011576982,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/stimulus_helper_spec.rb[1:1:1:2:1]","description":"combines the controllers in the data hash","full_description":"StimulusHelper#merge_stimulus_data when merging controllers and the data has a stimulus controller and the stimulus options does not have controller combines the controllers in the data hash","status":"passed","file_path":"./spec/helpers/stimulus_helper_spec.rb","line_number":25,"run_time":0.012360707,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/stimulus_helper_spec.rb[1:1:1:3:1]","description":"combines the controllers in the data hash","full_description":"StimulusHelper#merge_stimulus_data when merging controllers and the stimulus options has controller and the data is does not have a controller combines the controllers in the data hash","status":"passed","file_path":"./spec/helpers/stimulus_helper_spec.rb","line_number":36,"run_time":0.012399057,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/stimulus_helper_spec.rb[1:1:2:1:1]","description":"combines the controllers in the data hash","full_description":"StimulusHelper#merge_stimulus_data when merging actions and the data and stimulus options have actions combines the controllers in the data hash","status":"passed","file_path":"./spec/helpers/stimulus_helper_spec.rb","line_number":49,"run_time":0.012437163,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/stimulus_helper_spec.rb[1:1:2:2:1]","description":"combines the controllers in the data hash","full_description":"StimulusHelper#merge_stimulus_data when merging actions and the data has a stimulus action and the stimulus options does not have action combines the controllers in the data hash","status":"passed","file_path":"./spec/helpers/stimulus_helper_spec.rb","line_number":60,"run_time":0.011965008,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/stimulus_helper_spec.rb[1:1:2:3:1]","description":"combines the controllers in the data hash","full_description":"StimulusHelper#merge_stimulus_data when merging actions and the stimulus options has an action and the data is does not have an action combines the controllers in the data hash","status":"passed","file_path":"./spec/helpers/stimulus_helper_spec.rb","line_number":71,"run_time":0.008832533,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/stimulus_helper_spec.rb[1:1:3:1]","description":"merges the data into the output","full_description":"StimulusHelper#merge_stimulus_data when other data is present merges the data into the output","status":"passed","file_path":"./spec/helpers/stimulus_helper_spec.rb","line_number":83,"run_time":0.009047244,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/cis_band_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Api::CISBandPolicy a user with permission level below ESTIMATES_AND_INVOICES is expected to equal false","status":"passed","file_path":"./spec/policies/api/cis_band_policy_spec.rb","line_number":13,"run_time":0.008890463,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/cis_band_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Api::CISBandPolicy a user with permission level ESTIMATES_AND_INVOICES is expected to equal true","status":"passed","file_path":"./spec/policies/api/cis_band_policy_spec.rb","line_number":22,"run_time":0.008327716,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/cis_band_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Api::CISBandPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/api/cis_band_policy_spec.rb","line_number":31,"run_time":0.048101649,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:1:1]","description":"doesn't link to any pages","full_description":"Api::LinkHeader pagination empty collection doesn't link to any pages","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":49,"run_time":0.003655624,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:2:1:1]","description":"doesn't link to previous page","full_description":"Api::LinkHeader pagination non-empty collection pagination params on first page doesn't link to previous page","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":60,"run_time":0.003528185,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:2:1:2]","description":"links to next page","full_description":"Api::LinkHeader pagination non-empty collection pagination params on first page links to next page","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":65,"run_time":0.003155734,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:2:1:3]","description":"doesn't link to first page","full_description":"Api::LinkHeader pagination non-empty collection pagination params on first page doesn't link to first page","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":71,"run_time":0.002855001,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:2:1:4]","description":"links to last page","full_description":"Api::LinkHeader pagination non-empty collection pagination params on first page links to last page","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":76,"run_time":0.002890875,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:2:2:1]","description":"links to previous page","full_description":"Api::LinkHeader pagination non-empty collection pagination params on second page links to previous page","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":86,"run_time":0.002971533,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:2:2:2]","description":"links to next page","full_description":"Api::LinkHeader pagination non-empty collection pagination params on second page links to next page","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":91,"run_time":0.00277284,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:2:2:3]","description":"links to first page","full_description":"Api::LinkHeader pagination non-empty collection pagination params on second page links to first page","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":96,"run_time":0.002775684,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:2:2:4]","description":"links to last page","full_description":"Api::LinkHeader pagination non-empty collection pagination params on second page links to last page","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":101,"run_time":0.002817512,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:2:3:1]","description":"links to previous page","full_description":"Api::LinkHeader pagination non-empty collection pagination params on last page links to previous page","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":110,"run_time":0.002903776,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:2:3:2]","description":"doesn't link to next page","full_description":"Api::LinkHeader pagination non-empty collection pagination params on last page doesn't link to next page","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":115,"run_time":0.00277151,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:2:3:3]","description":"links to first page","full_description":"Api::LinkHeader pagination non-empty collection pagination params on last page links to first page","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":120,"run_time":0.002889027,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:2:3:4]","description":"doesn't link to to last page","full_description":"Api::LinkHeader pagination non-empty collection pagination params on last page doesn't link to to last page","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":125,"run_time":0.002844098,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:2:4:1]","description":"doesn't link to previous page","full_description":"Api::LinkHeader pagination non-empty collection pagination params for a page that doesn't exist doesn't link to previous page","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":134,"run_time":0.002867881,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:2:4:2]","description":"doesn't link to next page","full_description":"Api::LinkHeader pagination non-empty collection pagination params for a page that doesn't exist doesn't link to next page","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":139,"run_time":0.00267267,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:2:4:3]","description":"doesn't link to first page","full_description":"Api::LinkHeader pagination non-empty collection pagination params for a page that doesn't exist doesn't link to first page","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":144,"run_time":0.002778392,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:2:4:4]","description":"links to to last page","full_description":"Api::LinkHeader pagination non-empty collection pagination params for a page that doesn't exist links to to last page","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":149,"run_time":0.002884861,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:2:1]","description":"includes permitted parameters in links","full_description":"Api::LinkHeader filtering permitted parameters includes permitted parameters in links","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":167,"run_time":0.003474827,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:2:2]","description":"excludes unpermitted parameters from links","full_description":"Api::LinkHeader filtering permitted parameters excludes unpermitted parameters from links","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":171,"run_time":0.003323105,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:2:3:1]","description":"strips trailing _id from param name before checking permission","full_description":"Api::LinkHeader filtering permitted parameters for model IDs strips trailing _id from param name before checking permission","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":179,"run_time":0.003490445,"pending_message":null,"screenshot":null},{"id":"./spec/policies/bank_account_statement_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"BankAccountStatementPolicy a user with permission level below BANKING is expected to equal false","status":"passed","file_path":"./spec/policies/bank_account_statement_policy_spec.rb","line_number":13,"run_time":0.00833697,"pending_message":null,"screenshot":null},{"id":"./spec/policies/bank_account_statement_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"BankAccountStatementPolicy a user with permission level BANKING is expected to equal true","status":"passed","file_path":"./spec/policies/bank_account_statement_policy_spec.rb","line_number":22,"run_time":0.00848258,"pending_message":null,"screenshot":null},{"id":"./spec/policies/bank_account_statement_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"BankAccountStatementPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/bank_account_statement_policy_spec.rb","line_number":31,"run_time":0.052738258,"pending_message":null,"screenshot":null},{"id":"./spec/policies/expense_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"ExpensePolicy a user with permission level below MY_MONEY is expected to equal false","status":"passed","file_path":"./spec/policies/expense_policy_spec.rb","line_number":22,"run_time":0.008631972,"pending_message":null,"screenshot":null},{"id":"./spec/policies/expense_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"ExpensePolicy a user with permission level MY_MONEY is expected to equal true","status":"passed","file_path":"./spec/policies/expense_policy_spec.rb","line_number":40,"run_time":0.007971338,"pending_message":null,"screenshot":null},{"id":"./spec/policies/expense_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"ExpensePolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/expense_policy_spec.rb","line_number":58,"run_time":0.048048825,"pending_message":null,"screenshot":null},{"id":"./spec/policies/open_banking/account_integration_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"OpenBanking::AccountIntegrationPolicy a user with permission level below BANKING is expected to equal false","status":"passed","file_path":"./spec/policies/open_banking/account_integration_policy_spec.rb","line_number":15,"run_time":0.007616119,"pending_message":null,"screenshot":null},{"id":"./spec/policies/open_banking/account_integration_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"OpenBanking::AccountIntegrationPolicy a user with permission level BANKING is expected to equal true","status":"passed","file_path":"./spec/policies/open_banking/account_integration_policy_spec.rb","line_number":26,"run_time":0.006966288,"pending_message":null,"screenshot":null},{"id":"./spec/policies/open_banking/account_integration_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"OpenBanking::AccountIntegrationPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/open_banking/account_integration_policy_spec.rb","line_number":37,"run_time":0.047116909,"pending_message":null,"screenshot":null},{"id":"./spec/policies/self_assessment/version3_return_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"SelfAssessment::Version3ReturnPolicy a user with permission level below TAX_AND_LIMITED_ACCOUNTING is expected to equal false","status":"passed","file_path":"./spec/policies/self_assessment/version3_return_policy_spec.rb","line_number":19,"run_time":0.008400732,"pending_message":null,"screenshot":null},{"id":"./spec/policies/self_assessment/version3_return_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"SelfAssessment::Version3ReturnPolicy a user with permission level TAX_AND_LIMITED_ACCOUNTING is expected to equal true","status":"passed","file_path":"./spec/policies/self_assessment/version3_return_policy_spec.rb","line_number":34,"run_time":0.009487193,"pending_message":null,"screenshot":null},{"id":"./spec/policies/self_assessment/version3_return_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"SelfAssessment::Version3ReturnPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/self_assessment/version3_return_policy_spec.rb","line_number":49,"run_time":0.054398125,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/category_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Api::CategoryPolicy a user with permission level below MY_MONEY is expected to equal false","status":"passed","file_path":"./spec/policies/api/category_policy_spec.rb","line_number":18,"run_time":0.008856336,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/category_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Api::CategoryPolicy a user with permission level MY_MONEY is expected to equal true","status":"passed","file_path":"./spec/policies/api/category_policy_spec.rb","line_number":32,"run_time":0.008171567,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/category_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Api::CategoryPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/api/category_policy_spec.rb","line_number":46,"run_time":0.050167618,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/credit_notes/send_email_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Api::CreditNotes::SendEmailPolicy a user with permission level below ESTIMATES_AND_INVOICES is expected to equal false","status":"passed","file_path":"./spec/policies/api/credit_notes/send_email_policy_spec.rb","line_number":13,"run_time":0.008765115,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/credit_notes/send_email_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Api::CreditNotes::SendEmailPolicy a user with permission level ESTIMATES_AND_INVOICES is expected to equal true","status":"passed","file_path":"./spec/policies/api/credit_notes/send_email_policy_spec.rb","line_number":22,"run_time":0.008671304,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/credit_notes/send_email_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Api::CreditNotes::SendEmailPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/api/credit_notes/send_email_policy_spec.rb","line_number":31,"run_time":0.057578185,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates/additional_text_controller_spec.rb[1:1]","description":"renders the modal to change the default additional text","full_description":"Estimates::AdditionalTextController renders the modal to change the default additional text","status":"passed","file_path":"./spec/controllers/estimates/additional_text_controller_spec.rb","line_number":9,"run_time":0.029636889,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/estimates/additional_text_controller_spec.rb[1:2]","description":"updates the default additional text","full_description":"Estimates::AdditionalTextController updates the default additional text","status":"passed","file_path":"./spec/controllers/estimates/additional_text_controller_spec.rb","line_number":14,"run_time":0.038801558,"pending_message":null,"screenshot":null},{"id":"./spec/policies/mobile/contact_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Mobile::ContactPolicy a user with permission level below CONTACTS_AND_PROJECTS is expected to equal false","status":"passed","file_path":"./spec/policies/mobile/contact_policy_spec.rb","line_number":16,"run_time":0.010052178,"pending_message":null,"screenshot":null},{"id":"./spec/policies/mobile/contact_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Mobile::ContactPolicy a user with permission level CONTACTS_AND_PROJECTS is expected to equal true","status":"passed","file_path":"./spec/policies/mobile/contact_policy_spec.rb","line_number":27,"run_time":0.008282363,"pending_message":null,"screenshot":null},{"id":"./spec/policies/mobile/contact_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Mobile::ContactPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/mobile/contact_policy_spec.rb","line_number":38,"run_time":0.053261792,"pending_message":null,"screenshot":null}],"summary":{"duration":2.64190635,"example_count":619,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"619 examples, 0 failures"}