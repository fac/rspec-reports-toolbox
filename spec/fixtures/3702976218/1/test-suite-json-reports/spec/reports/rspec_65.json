{"version":"3.11.0","messages":["Run options:\n  include {:ids=\u003e{\"./spec/models/invoice_spec.rb\"=\u003e[\"1:13\", \"1:98:6\", \"1:96:2\"], \"./spec/controllers/invoices_controller_spec.rb\"=\u003e[\"15:1:1\", \"30:1:1\"]}}\n  exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/features/settings/data_deletion_requests_spec.rb[1:1:1:1]","description":"returns an unauthorized page","full_description":"DataDeletionRequests with an authorised User with a User of role Accountant returns an unauthorized page","status":"passed","file_path":"./spec/features/settings/data_deletion_requests_spec.rb","line_number":23,"run_time":11.218232556,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/data_deletion_requests_spec.rb[1:1:2:1:1]","description":"renders the reset page","full_description":"DataDeletionRequests with an authorised User with a User of any other role with a linked company renders the reset page","status":"passed","file_path":"./spec/features/settings/data_deletion_requests_spec.rb","line_number":37,"run_time":1.528715995,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/data_deletion_requests_spec.rb[1:1:2:2:1]","description":"renders the correct page title","full_description":"DataDeletionRequests with an authorised User with a User of any other role with any other company state renders the correct page title","status":"passed","file_path":"./spec/features/settings/data_deletion_requests_spec.rb","line_number":45,"run_time":0.771003933,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/data_deletion_requests_spec.rb[1:1:2:2:2]","description":"renders the reset my account data button as disabled","full_description":"DataDeletionRequests with an authorised User with a User of any other role with any other company state renders the reset my account data button as disabled","status":"passed","file_path":"./spec/features/settings/data_deletion_requests_spec.rb","line_number":49,"run_time":0.647776814,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/data_deletion_requests_spec.rb[1:1:2:2:3]","description":"renders the delete account notice","full_description":"DataDeletionRequests with an authorised User with a User of any other role with any other company state renders the delete account notice","status":"passed","file_path":"./spec/features/settings/data_deletion_requests_spec.rb","line_number":55,"run_time":0.686835692,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/data_deletion_requests_spec.rb[1:1:2:2:4:1]","description":"keeps the reset my account data button disabled","full_description":"DataDeletionRequests with an authorised User with a User of any other role with any other company state when only one checkbox is checked keeps the reset my account data button disabled","status":"passed","file_path":"./spec/features/settings/data_deletion_requests_spec.rb","line_number":66,"run_time":0.831684588,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/data_deletion_requests_spec.rb[1:1:2:2:5:1]","description":"enables the reset my account data button","full_description":"DataDeletionRequests with an authorised User with a User of any other role with any other company state when all the checkboxes are checked enables the reset my account data button","status":"passed","file_path":"./spec/features/settings/data_deletion_requests_spec.rb","line_number":80,"run_time":1.442389557,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/data_deletion_requests_spec.rb[1:1:2:2:5:2:1:1:1]","description":"redirects to the holding path","full_description":"DataDeletionRequests with an authorised User with a User of any other role with any other company state when all the checkboxes are checked when the reset my account data button is clicked when the password provided is valid when company is not read-only redirects to the holding path","status":"passed","file_path":"./spec/features/settings/data_deletion_requests_spec.rb","line_number":96,"run_time":2.371424255,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/data_deletion_requests_spec.rb[1:1:2:2:5:2:1:1:2]","description":"schedules a DeleteAllDataJob","full_description":"DataDeletionRequests with an authorised User with a User of any other role with any other company state when all the checkboxes are checked when the reset my account data button is clicked when the password provided is valid when company is not read-only schedules a DeleteAllDataJob","status":"passed","file_path":"./spec/features/settings/data_deletion_requests_spec.rb","line_number":100,"run_time":1.627480208,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/data_deletion_requests_spec.rb[1:1:2:2:5:2:1:2:1]","description":"redirects to the holding path","full_description":"DataDeletionRequests with an authorised User with a User of any other role with any other company state when all the checkboxes are checked when the reset my account data button is clicked when the password provided is valid when company is read-only redirects to the holding path","status":"passed","file_path":"./spec/features/settings/data_deletion_requests_spec.rb","line_number":115,"run_time":1.612456785,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/data_deletion_requests_spec.rb[1:1:2:2:5:2:1:2:2]","description":"schedules a DeleteAllDataJob","full_description":"DataDeletionRequests with an authorised User with a User of any other role with any other company state when all the checkboxes are checked when the reset my account data button is clicked when the password provided is valid when company is read-only schedules a DeleteAllDataJob","status":"passed","file_path":"./spec/features/settings/data_deletion_requests_spec.rb","line_number":119,"run_time":1.66872962,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/data_deletion_requests_spec.rb[1:1:2:2:5:2:2:1]","description":"re-renders the view and renders flash message","full_description":"DataDeletionRequests with an authorised User with a User of any other role with any other company state when all the checkboxes are checked when the reset my account data button is clicked when the password provided is invalid re-renders the view and renders flash message","status":"passed","file_path":"./spec/features/settings/data_deletion_requests_spec.rb","line_number":131,"run_time":1.816689897,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/data_deletion_requests_spec.rb[1:1:2:2:5:2:2:2]","description":"does not schedule a DeleteAllDataJob","full_description":"DataDeletionRequests with an authorised User with a User of any other role with any other company state when all the checkboxes are checked when the reset my account data button is clicked when the password provided is invalid does not schedule a DeleteAllDataJob","status":"passed","file_path":"./spec/features/settings/data_deletion_requests_spec.rb","line_number":138,"run_time":1.663802046,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/data_deletion_requests_spec.rb[1:2:1]","description":"alerts the user they cannot see that page","full_description":"DataDeletionRequests with an unauthorised User alerts the user they cannot see that page","status":"passed","file_path":"./spec/features/settings/data_deletion_requests_spec.rb","line_number":159,"run_time":0.587801364,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature[1:1:1]","description":"Given the pre-generated 2021 company using Cash accounting for VAT, on the \"Labour-only building or construction services\" flat rate scheme -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at gross -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e When adding a payment in 750-1 for £1200 dated 2020-05-01 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","full_description":"Invoice and payment Ledger Builder CIS (Subcontractors) CIS Invoice with Gross status (FRS cash) Given the pre-generated 2021 company using Cash accounting for VAT, on the \"Labour-only building or construction services\" flat rate scheme -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at gross -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e When adding a payment in 750-1 for £1200 dated 2020-05-01 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature","line_number":3,"run_time":0.761887688,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature[1:2:1]","description":"Given the pre-generated 2021 company using Cash accounting for VAT, not on the FRS -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at 30% -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e When adding a payment in 750-1 for £900 dated 2020-05-01 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","full_description":"Invoice and payment Ledger Builder CIS (Subcontractors) CIS Invoice with 30% status (non-FRS cash) Given the pre-generated 2021 company using Cash accounting for VAT, not on the FRS -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at 30% -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e When adding a payment in 750-1 for £900 dated 2020-05-01 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature","line_number":21,"run_time":0.665381863,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature[1:3:1]","description":"Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at gross -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e When adding a payment in 750-1 for £700 dated 2020-05-01 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","full_description":"Invoice and payment Ledger Builder CIS (Subcontractors) Part paid CIS invoice with Gross status (non-FRS invoice) Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at gross -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e When adding a payment in 750-1 for £700 dated 2020-05-01 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature","line_number":39,"run_time":0.612119439,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature[1:4:1]","description":"Given the pre-generated 2021 company using Invoice accounting for VAT, on the \"Labour-only building or construction services\" flat rate scheme -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at 30% -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e When adding a payment in 750-1 for £700 dated 2020-05-01 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","full_description":"Invoice and payment Ledger Builder CIS (Subcontractors) Part paid CIS invoice with 30% status (FRS invoice) Given the pre-generated 2021 company using Invoice accounting for VAT, on the \"Labour-only building or construction services\" flat rate scheme -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at 30% -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e When adding a payment in 750-1 for £700 dated 2020-05-01 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature","line_number":54,"run_time":0.603766473,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature[1:5:1]","description":"Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at gross -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e When adding a payment in 750-1 for £300 dated 2020-05-01 to the invoice -\u003e And adding another payment in 750-1 for £400 dated 2020-05-02 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","full_description":"Invoice and payment Ledger Builder CIS (Subcontractors) multiple payments apply to CIS invoice with gross status (non-FRS invoice) Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at gross -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e When adding a payment in 750-1 for £300 dated 2020-05-01 to the invoice -\u003e And adding another payment in 750-1 for £400 dated 2020-05-02 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature","line_number":71,"run_time":0.852338222,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature[1:6:1]","description":"Given the pre-generated 2021 company using Cash accounting for VAT, not on the FRS -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at 20% -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e When adding a payment in 750-1 for £300 dated 2020-05-01 to the invoice -\u003e And adding another payment in 750-1 for £400 dated 2020-05-02 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","full_description":"Invoice and payment Ledger Builder CIS (Subcontractors) multiple payments apply to CIS invoice with 20% status (non-FRS cash) Given the pre-generated 2021 company using Cash accounting for VAT, not on the FRS -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at 20% -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e When adding a payment in 750-1 for £300 dated 2020-05-01 to the invoice -\u003e And adding another payment in 750-1 for £400 dated 2020-05-02 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature","line_number":89,"run_time":1.533638116,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature[1:7:1]","description":"Given the pre-generated 2021 company using Cash accounting for VAT, on the \"Labour-only building or construction services\" flat rate scheme -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at 30% -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e When adding a payment in 750-1 for £300 dated 2020-05-01 to the invoice -\u003e And adding another payment in 750-1 for £400 dated 2020-05-02 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","full_description":"Invoice and payment Ledger Builder CIS (Subcontractors) multiple payments apply to CIS invoice with 30% status (FRS cash) Given the pre-generated 2021 company using Cash accounting for VAT, on the \"Labour-only building or construction services\" flat rate scheme -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at 30% -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e When adding a payment in 750-1 for £300 dated 2020-05-01 to the invoice -\u003e And adding another payment in 750-1 for £400 dated 2020-05-02 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature","line_number":113,"run_time":0.928798359,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature[1:8:1]","description":"Given the pre-generated 2021 company using Invoice accounting for VAT, on the \"Labour-only building or construction services\" flat rate scheme -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at gross -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e When adding a payment in 750-1 for £0 dated 2020-05-01 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","full_description":"Invoice and payment Ledger Builder CIS (Subcontractors) zero value payment to CIS invoice with gross status (FRS invoice) Given the pre-generated 2021 company using Invoice accounting for VAT, on the \"Labour-only building or construction services\" flat rate scheme -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at gross -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e When adding a payment in 750-1 for £0 dated 2020-05-01 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature","line_number":139,"run_time":0.61588638,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature[1:9:1]","description":"Given the pre-generated 2021 company using Cash accounting for VAT, not on the FRS -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at 20% -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e When adding a payment in 750-1 for £0 dated 2020-05-01 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","full_description":"Invoice and payment Ledger Builder CIS (Subcontractors) zero value payment to CIS invoice with 20% status (non-FRS cash) Given the pre-generated 2021 company using Cash accounting for VAT, not on the FRS -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at 20% -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e When adding a payment in 750-1 for £0 dated 2020-05-01 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature","line_number":155,"run_time":0.517233721,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature[1:10:1]","description":"Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at 30% -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e When adding a payment in 750-1 for £0 dated 2020-05-01 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","full_description":"Invoice and payment Ledger Builder CIS (Subcontractors) zero value payment to CIS invoice with 30% status (non-FRS invoice) Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at 30% -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e When adding a payment in 750-1 for £0 dated 2020-05-01 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature","line_number":170,"run_time":0.548629815,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature[1:11:1]","description":"Given the pre-generated 2021 company using Invoice accounting for VAT, on the \"Labour-only building or construction services\" flat rate scheme -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at gross -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e When adding a payment in 750-1 for £1200 dated 2020-03-01 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","full_description":"Invoice and payment Ledger Builder CIS (Subcontractors) pre-payment on CIS invoice with gross status (FRS cash) Given the pre-generated 2021 company using Invoice accounting for VAT, on the \"Labour-only building or construction services\" flat rate scheme -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at gross -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e When adding a payment in 750-1 for £1200 dated 2020-03-01 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature","line_number":185,"run_time":0.705405061,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature[1:12:1]","description":"Given the pre-generated 2021 company using Invoice accounting for VAT, on the \"Labour-only building or construction services\" flat rate scheme -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at 30% -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e When adding a payment in 750-1 for £900 dated 2020-03-01 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","full_description":"Invoice and payment Ledger Builder CIS (Subcontractors) pre-payment on CIS invoice with 30% status (FRS invoice) Given the pre-generated 2021 company using Invoice accounting for VAT, on the \"Labour-only building or construction services\" flat rate scheme -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at 30% -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e When adding a payment in 750-1 for £900 dated 2020-03-01 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature","line_number":203,"run_time":0.703763541,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature[1:13:1]","description":"Given the pre-generated 2021 company using Cash accounting for VAT, not on the FRS -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at 30% -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e When adding a payment in 750-1 for £900 dated 2020-03-01 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","full_description":"Invoice and payment Ledger Builder CIS (Subcontractors) pre-payment on CIS invoice with 30% status (non-FRS cash) Given the pre-generated 2021 company using Cash accounting for VAT, not on the FRS -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at 30% -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e When adding a payment in 750-1 for £900 dated 2020-03-01 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature","line_number":222,"run_time":0.589524901,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature[1:14:1]","description":"Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And the company has CIS enabled -\u003e Given a USD bank account named \"750-2\" -\u003e And exchange rates of -\u003e And a sent USD invoice to Uncle Sam dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at gross -\u003e And a CIS line item is added for $1000 with 0% VAT -\u003e When adding a payment in 750-2 for $1000 dated 2020-04-02 to the invoice -\u003e And the invoice currency revaluations are deleted and recalculated from 2020-04-01 -\u003e Then the Accrual Ledger Entries on the invoice will be","full_description":"Invoice and payment Ledger Builder CIS (Subcontractors) foreign currency invoice with gross status (non-FRS invoice) Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And the company has CIS enabled -\u003e Given a USD bank account named \"750-2\" -\u003e And exchange rates of -\u003e And a sent USD invoice to Uncle Sam dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at gross -\u003e And a CIS line item is added for $1000 with 0% VAT -\u003e When adding a payment in 750-2 for $1000 dated 2020-04-02 to the invoice -\u003e And the invoice currency revaluations are deleted and recalculated from 2020-04-01 -\u003e Then the Accrual Ledger Entries on the invoice will be","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature","line_number":240,"run_time":0.849579708,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature[1:15:1]","description":"Given the pre-generated 2021 company using Invoice accounting for VAT, on the \"Labour-only building or construction services\" flat rate scheme -\u003e And the company has CIS enabled -\u003e Given a USD bank account named \"750-2\" -\u003e And exchange rates of -\u003e And a sent USD invoice to Uncle Sam dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at 30% -\u003e And a CIS line item is added for $1000 with 20% VAT -\u003e When adding a payment in 750-2 for $900 dated 2020-04-02 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","full_description":"Invoice and payment Ledger Builder CIS (Subcontractors) foreign currency invoice with 30% status (FRS invoice) Given the pre-generated 2021 company using Invoice accounting for VAT, on the \"Labour-only building or construction services\" flat rate scheme -\u003e And the company has CIS enabled -\u003e Given a USD bank account named \"750-2\" -\u003e And exchange rates of -\u003e And a sent USD invoice to Uncle Sam dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at 30% -\u003e And a CIS line item is added for $1000 with 20% VAT -\u003e When adding a payment in 750-2 for $900 dated 2020-04-02 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature","line_number":264,"run_time":0.950104653,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature[1:16:1]","description":"Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at gross -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e And a CIS line item is added for £500 with 0% VAT -\u003e When adding a payment in 750-1 for £1000 dated 2020-05-01 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","full_description":"Invoice and payment Ledger Builder CIS (Subcontractors) multiple line items invoice for gross status, all CIS (non-FRS invoice) Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at gross -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e And a CIS line item is added for £500 with 0% VAT -\u003e When adding a payment in 750-1 for £1000 dated 2020-05-01 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature","line_number":290,"run_time":0.601408952,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature[1:17:1]","description":"Given the pre-generated 2021 company using Invoice accounting for VAT, on the \"Labour-only building or construction services\" flat rate scheme -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at 30% -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e And a CIS line item is added for £500 with 0% VAT -\u003e When adding a payment in 750-1 for £1000 dated 2020-05-01 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","full_description":"Invoice and payment Ledger Builder CIS (Subcontractors) multiple line items invoice for 30% status part paid, all CIS (FRS invoice) Given the pre-generated 2021 company using Invoice accounting for VAT, on the \"Labour-only building or construction services\" flat rate scheme -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at 30% -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e And a CIS line item is added for £500 with 0% VAT -\u003e When adding a payment in 750-1 for £1000 dated 2020-05-01 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature","line_number":306,"run_time":0.591439788,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature[1:18:1]","description":"Given the pre-generated 2021 company using Cash accounting for VAT, on the \"Labour-only building or construction services\" flat rate scheme -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at gross -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e And a line item to category 001 is added for £500 with 0% VAT -\u003e When adding a payment in 750-1 for £1000 dated 2020-05-01 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","full_description":"Invoice and payment Ledger Builder CIS (Subcontractors) multiple line items invoice for gross status part paid, mix of CIS and non-CIS (FRS cash) Given the pre-generated 2021 company using Cash accounting for VAT, on the \"Labour-only building or construction services\" flat rate scheme -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at gross -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e And a line item to category 001 is added for £500 with 0% VAT -\u003e When adding a payment in 750-1 for £1000 dated 2020-05-01 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature","line_number":324,"run_time":0.603925838,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature[1:19:1]","description":"Given the pre-generated 2021 company using Cash accounting for VAT, not on the FRS -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at 30% -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e And a line item to category 001 is added for £500 with 0% VAT -\u003e When adding a payment in 750-1 for £1000 dated 2020-05-01 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","full_description":"Invoice and payment Ledger Builder CIS (Subcontractors) multiple line items invoice for 30% status part paid, mix of CIS and non-CIS (non-FRS cash) Given the pre-generated 2021 company using Cash accounting for VAT, not on the FRS -\u003e And the company has CIS enabled -\u003e And a sent invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at 30% -\u003e And a CIS line item is added for £1000 with 20% VAT -\u003e And a line item to category 001 is added for £500 with 0% VAT -\u003e When adding a payment in 750-1 for £1000 dated 2020-05-01 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature","line_number":344,"run_time":0.600598787,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature[1:20:1]","description":"Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And the company has CIS enabled -\u003e And exchange rates of -\u003e And a sent USD invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at gross -\u003e And a CIS line item is added for $1000 with 0% VAT -\u003e When adding a payment in 750-1 for £826.45 ($1000.00) dated 2020-04-02 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","full_description":"Invoice and payment Ledger Builder CIS (Subcontractors) foreign currency invoice with gross status (standard invoice) Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e And the company has CIS enabled -\u003e And exchange rates of -\u003e And a sent USD invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at gross -\u003e And a CIS line item is added for $1000 with 0% VAT -\u003e When adding a payment in 750-1 for £826.45 ($1000.00) dated 2020-04-02 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature","line_number":364,"run_time":0.653563885,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature[1:21:1]","description":"Given the pre-generated 2021 company using Invoice accounting for VAT, on the \"Labour-only building or construction services\" flat rate scheme -\u003e And the company has CIS enabled -\u003e And exchange rates of -\u003e And a sent USD invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at 30% -\u003e And a CIS line item is added for $1000 with 20% VAT -\u003e When adding a payment in 750-1 for £743.80 ($900.00) dated 2020-04-02 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","full_description":"Invoice and payment Ledger Builder CIS (Subcontractors) foreign currency invoice with 30% status (FRS invoice) Given the pre-generated 2021 company using Invoice accounting for VAT, on the \"Labour-only building or construction services\" flat rate scheme -\u003e And the company has CIS enabled -\u003e And exchange rates of -\u003e And a sent USD invoice to John Bull dated on 2020-04-01 -\u003e And the CIS deduction rate on the invoice is set at 30% -\u003e And a CIS line item is added for $1000 with 20% VAT -\u003e When adding a payment in 750-1 for £743.80 ($900.00) dated 2020-04-02 to the invoice -\u003e Then the Accrual Ledger Entries on the invoice will be","status":"passed","file_path":"./spec/acceptance/accounting_engine/accruals_accounting/construction_industry_scheme/invoices.feature","line_number":386,"run_time":0.727634851,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:1]","description":"has an estimate group","full_description":"Invoicing::UnbilledItems has an estimate group","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":5,"run_time":0.004185815,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:2]","description":"has an option to group all the estimates separately","full_description":"Invoicing::UnbilledItems has an option to group all the estimates separately","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":9,"run_time":0.00308681,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:3]","description":"has an option to group all the estimates together","full_description":"Invoicing::UnbilledItems has an option to group all the estimates together","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":13,"run_time":0.002987352,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:4]","description":"has an expense group","full_description":"Invoicing::UnbilledItems has an expense group","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":17,"run_time":0.002904154,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:5]","description":"has an option to group expenses separately","full_description":"Invoicing::UnbilledItems has an option to group expenses separately","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":21,"run_time":0.002686232,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:6]","description":"has an option to group all expenses together","full_description":"Invoicing::UnbilledItems has an option to group all expenses together","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":25,"run_time":0.002636262,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:7]","description":"has a timeslip group","full_description":"Invoicing::UnbilledItems has a timeslip group","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":29,"run_time":0.002855252,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:8]","description":"has an option to group timeslips by task","full_description":"Invoicing::UnbilledItems has an option to group timeslips by task","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":38,"run_time":0.002624532,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:9]","description":"has an option to group timeslips by date","full_description":"Invoicing::UnbilledItems has an option to group timeslips by date","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":42,"run_time":0.002284133,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:10]","description":"has an option to group timeslips separately","full_description":"Invoicing::UnbilledItems has an option to group timeslips separately","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":46,"run_time":0.002111157,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:11]","description":"has an option to group timeslips together","full_description":"Invoicing::UnbilledItems has an option to group timeslips together","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":50,"run_time":0.00201434,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:12:1]","description":"adds unbilled timeslips","full_description":"Invoicing::UnbilledItems#add_unbilled_items adds unbilled timeslips","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":62,"run_time":0.094349649,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:12:2]","description":"adds unbilled expenses","full_description":"Invoicing::UnbilledItems#add_unbilled_items adds unbilled expenses","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":67,"run_time":0.110354614,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:12:3]","description":"adds unbilled estimates","full_description":"Invoicing::UnbilledItems#add_unbilled_items adds unbilled estimates","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":72,"run_time":0.094226911,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:13:1]","description":"grouped by Invoicing::UnbilledItems::ALL","full_description":"Invoicing::UnbilledItems#add_estimates grouped by Invoicing::UnbilledItems::ALL","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":96,"run_time":0.432780709,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:13:2]","description":"group by Invoicing::UnbilledItems::Single","full_description":"Invoicing::UnbilledItems#add_estimates group by Invoicing::UnbilledItems::Single","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":118,"run_time":0.359022754,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:14:2]","description":"grouped by Invoicing::UnbilledItems::BY_TASK","full_description":"Invoicing::UnbilledItems#add_timeslips grouped by Invoicing::UnbilledItems::BY_TASK","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":248,"run_time":0.334101621,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:14:3]","description":"grouped by Invoicing::UnbilledItems::BY_DATE","full_description":"Invoicing::UnbilledItems#add_timeslips grouped by Invoicing::UnbilledItems::BY_DATE","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":288,"run_time":0.430534443,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:14:1:1]","description":"with different rates","full_description":"Invoicing::UnbilledItems#add_timeslips grouped by Invoicing::UnbilledItems::ONE_ITEM with different rates","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":183,"run_time":0.253519658,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:14:1:2]","description":"with the same rates","full_description":"Invoicing::UnbilledItems#add_timeslips grouped by Invoicing::UnbilledItems::ONE_ITEM with the same rates","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":215,"run_time":0.258980479,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:14:4:1]","description":"creates an invoice with six items for first project and 2 items for the other project","full_description":"Invoicing::UnbilledItems#add_timeslips grouped by Invoicing::UnbilledItems::LINE_EACH creates an invoice with six items for first project and 2 items for the other project","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":329,"run_time":0.573812814,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:14:4:2]","description":"assigns timeslips to items","full_description":"Invoicing::UnbilledItems#add_timeslips grouped by Invoicing::UnbilledItems::LINE_EACH assigns timeslips to items","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":335,"run_time":0.560630235,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:14:4:3]","description":"assigns quantity and type to items","full_description":"Invoicing::UnbilledItems#add_timeslips grouped by Invoicing::UnbilledItems::LINE_EACH assigns quantity and type to items","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":341,"run_time":0.575657936,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:14:4:4]","description":"sums the time","full_description":"Invoicing::UnbilledItems#add_timeslips grouped by Invoicing::UnbilledItems::LINE_EACH sums the time","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":354,"run_time":0.528175566,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:14:4:5]","description":"assigns short descriptions","full_description":"Invoicing::UnbilledItems#add_timeslips grouped by Invoicing::UnbilledItems::LINE_EACH assigns short descriptions","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":360,"run_time":0.521970645,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:14:5:1]","description":"assigns long descriptions","full_description":"Invoicing::UnbilledItems#add_timeslips by individual timeslip with timeslips by multiple users assigns long descriptions","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":376,"run_time":0.555132566,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:14:6:1]","description":"does not include timeslips with running timers in the invoice","full_description":"Invoicing::UnbilledItems#add_timeslips with running timers does not include timeslips with running timers in the invoice","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":391,"run_time":0.595894084,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:15:4]","description":"from bills and grouped by Invoicing::UnbilledItems::EXPENSE_LINE_EACH","full_description":"Invoicing::UnbilledItems#add_expenses from bills and grouped by Invoicing::UnbilledItems::EXPENSE_LINE_EACH","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":547,"run_time":0.708486154,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:15:5]","description":"from bank account entries and grouped by Invoicing::UnbilledItems::EXPENSE_LINE_EACH","full_description":"Invoicing::UnbilledItems#add_expenses from bank account entries and grouped by Invoicing::UnbilledItems::EXPENSE_LINE_EACH","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":586,"run_time":0.494657143,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:15:6]","description":"for a company not charging sales tax","full_description":"Invoicing::UnbilledItems#add_expenses for a company not charging sales tax","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":625,"run_time":0.516269023,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:15:1:1:1]","description":"does not have unbilled rebillable expenses","full_description":"Invoicing::UnbilledItems#add_expenses from expenses and grouped by Invoicing::UnbilledItems::EXPENSE_ONE_ITEM with items of the same tax rate does not have unbilled rebillable expenses","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":413,"run_time":0.656569446,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:15:1:1:2]","description":"adds one invoice item for all expenses","full_description":"Invoicing::UnbilledItems#add_expenses from expenses and grouped by Invoicing::UnbilledItems::EXPENSE_ONE_ITEM with items of the same tax rate adds one invoice item for all expenses","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":417,"run_time":0.613973119,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:15:1:2:1]","description":"groups the expenses by rebillable rates","full_description":"Invoicing::UnbilledItems#add_expenses from expenses and grouped by Invoicing::UnbilledItems::EXPENSE_ONE_ITEM with mileage claims of different rebill mileage rates groups the expenses by rebillable rates","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":437,"run_time":1.582206211,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:15:2:1]","description":"does not have unbilled rebillable expenses","full_description":"Invoicing::UnbilledItems#add_expenses from expenses and grouped by Invoicing::UnbilledItems::EXPENSE_LINE_EACH does not have unbilled rebillable expenses","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":456,"run_time":0.818045067,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:15:2:2]","description":"adds invoice items for each expense","full_description":"Invoicing::UnbilledItems#add_expenses from expenses and grouped by Invoicing::UnbilledItems::EXPENSE_LINE_EACH adds invoice items for each expense","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":460,"run_time":0.809623769,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:15:2:3]","description":"adds a locked reason to each expense","full_description":"Invoicing::UnbilledItems#add_expenses from expenses and grouped by Invoicing::UnbilledItems::EXPENSE_LINE_EACH adds a locked reason to each expense","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":469,"run_time":0.784264168,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:15:2:4]","description":"adds which invoice item the expense was rebilled","full_description":"Invoicing::UnbilledItems#add_expenses from expenses and grouped by Invoicing::UnbilledItems::EXPENSE_LINE_EACH adds which invoice item the expense was rebilled","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":477,"run_time":0.827367609,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:15:3:1:1]","description":"does not have unbilled rebillable mileage expenses","full_description":"Invoicing::UnbilledItems#add_expenses from mileage expenses and grouped by Invoicing::UnbilledItems::EXPENSE_LINE_EACH rebill at lower rate does not have unbilled rebillable mileage expenses","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":502,"run_time":0.227300693,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:15:3:1:2]","description":"adds an invoice item for the mileage expense","full_description":"Invoicing::UnbilledItems#add_expenses from mileage expenses and grouped by Invoicing::UnbilledItems::EXPENSE_LINE_EACH rebill at lower rate adds an invoice item for the mileage expense","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":506,"run_time":0.202343868,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:15:3:1:3]","description":"rebills at the correct 0.4 rate","full_description":"Invoicing::UnbilledItems#add_expenses from mileage expenses and grouped by Invoicing::UnbilledItems::EXPENSE_LINE_EACH rebill at lower rate rebills at the correct 0.4 rate","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":510,"run_time":0.211003151,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:15:3:1:4]","description":"includes the rebill rate in description","full_description":"Invoicing::UnbilledItems#add_expenses from mileage expenses and grouped by Invoicing::UnbilledItems::EXPENSE_LINE_EACH rebill at lower rate includes the rebill rate in description","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":514,"run_time":0.211969162,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:15:3:2:1]","description":"does not have unbilled rebillable mileage expenses","full_description":"Invoicing::UnbilledItems#add_expenses from mileage expenses and grouped by Invoicing::UnbilledItems::EXPENSE_LINE_EACH rebill at higher rate does not have unbilled rebillable mileage expenses","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":529,"run_time":0.248529598,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:15:3:2:2]","description":"adds an invoice item for the mileage expense","full_description":"Invoicing::UnbilledItems#add_expenses from mileage expenses and grouped by Invoicing::UnbilledItems::EXPENSE_LINE_EACH rebill at higher rate adds an invoice item for the mileage expense","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":533,"run_time":0.211986384,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:15:3:2:3]","description":"rebills at the correct 0.7 rate","full_description":"Invoicing::UnbilledItems#add_expenses from mileage expenses and grouped by Invoicing::UnbilledItems::EXPENSE_LINE_EACH rebill at higher rate rebills at the correct 0.7 rate","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":537,"run_time":0.206966393,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:15:3:2:4]","description":"includes the rebill rate in description","full_description":"Invoicing::UnbilledItems#add_expenses from mileage expenses and grouped by Invoicing::UnbilledItems::EXPENSE_LINE_EACH rebill at higher rate includes the rebill rate in description","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":541,"run_time":0.200391405,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:16:1]","description":"adds timeslips when grouped by task","full_description":"Invoicing::UnbilledItems#add_timeslips? adds timeslips when grouped by task","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":655,"run_time":0.071801034,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:16:2]","description":"adds timeslips when grouped by date","full_description":"Invoicing::UnbilledItems#add_timeslips? adds timeslips when grouped by date","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":659,"run_time":0.071923719,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:16:3]","description":"adds timeslips when grouped one line each","full_description":"Invoicing::UnbilledItems#add_timeslips? adds timeslips when grouped one line each","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":663,"run_time":0.070425258,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:16:4]","description":"adds timeslips when grouped one item each","full_description":"Invoicing::UnbilledItems#add_timeslips? adds timeslips when grouped one item each","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":667,"run_time":0.075906455,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:16:5]","description":"does not add timeslips when a grouping is not given","full_description":"Invoicing::UnbilledItems#add_timeslips? does not add timeslips when a grouping is not given","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":671,"run_time":0.066016147,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:17:1]","description":"adds expenses when grouped by line","full_description":"Invoicing::UnbilledItems#add_expenses? adds expenses when grouped by line","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":683,"run_time":0.058909111,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:17:2]","description":"does not add expenses when a grouping is not given","full_description":"Invoicing::UnbilledItems#add_expenses? does not add expenses when a grouping is not given","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":687,"run_time":0.075275095,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:18:1:1]","description":"does not add items when grouped by all","full_description":"Invoicing::UnbilledItems#add_estimates? foreign currency invoice does not add items when grouped by all","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":700,"run_time":0.078315744,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:18:1:2]","description":"does not add items when grouped by single","full_description":"Invoicing::UnbilledItems#add_estimates? foreign currency invoice does not add items when grouped by single","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":704,"run_time":0.074579874,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:18:1:3]","description":"does not add items when a grouping is not given","full_description":"Invoicing::UnbilledItems#add_estimates? foreign currency invoice does not add items when a grouping is not given","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":708,"run_time":0.077688544,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:18:2:1]","description":"adds items when grouped by all","full_description":"Invoicing::UnbilledItems#add_estimates? native currency invoice adds items when grouped by all","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":720,"run_time":0.065080478,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:18:2:2]","description":"does not add items when grouped by single","full_description":"Invoicing::UnbilledItems#add_estimates? native currency invoice does not add items when grouped by single","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":724,"run_time":0.057698637,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoicing/unbilled_items_spec.rb[1:18:2:3]","description":"does not add items when a grouping is not given","full_description":"Invoicing::UnbilledItems#add_estimates? native currency invoice does not add items when a grouping is not given","status":"passed","file_path":"./spec/models/invoicing/unbilled_items_spec.rb","line_number":728,"run_time":0.060211738,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/project_profit_and_loss/foreign_currencies.feature[1:1:1]","description":"Given the current date is 2019-07-18 -\u003e And exchange rates of -\u003e Given a UK Limited Company which was started on 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it starts using FreeAgent on 2019-01-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And it has the following bank accounts: -\u003e And it has a project A in EUR -\u003e And the company has the following GBP Account bank transactions: -\u003e And the company has the following USD Account bank transactions: -\u003e And the company has the following expenses: -\u003e And the company has the following invoices: -\u003e Then the P\u0026L for 'Current Year to Date' for the project will be: -\u003e And its profit will be €1642","full_description":"Project Level Profit and Loss for projects in foreign currency Multi currency expenditure all linked to one invoice on one project (VAT Registered) Given the current date is 2019-07-18 -\u003e And exchange rates of -\u003e Given a UK Limited Company which was started on 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it starts using FreeAgent on 2019-01-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And it has the following bank accounts: -\u003e And it has a project A in EUR -\u003e And the company has the following GBP Account bank transactions: -\u003e And the company has the following USD Account bank transactions: -\u003e And the company has the following expenses: -\u003e And the company has the following invoices: -\u003e Then the P\u0026L for 'Current Year to Date' for the project will be: -\u003e And its profit will be €1642","status":"passed","file_path":"./spec/acceptance/project_profit_and_loss/foreign_currencies.feature","line_number":13,"run_time":1.127627037,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/project_profit_and_loss/foreign_currencies.feature[1:2:1]","description":"Given the current date is 2019-07-18 -\u003e And exchange rates of -\u003e Given a UK Limited Company which was started on 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it starts using FreeAgent on 2019-01-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And it has the following bank accounts: -\u003e And it has a project A in GBP -\u003e And it has a project B in USD -\u003e And the company has the following GBP Account bank transactions: -\u003e And the company has the following USD Account bank transactions: -\u003e And the company has the following expenses: -\u003e And the company has pulled all expenditure and time from projects A and B onto an invoice, the invoice will show: -\u003e Then the P\u0026L for 'Current Year to Date' for project A will be: -\u003e And its profit will be £0 -\u003e And the P\u0026L for 'Current Year to Date' for project B will be: -\u003e And its profit will be $-149","full_description":"Project Level Profit and Loss for projects in foreign currency Multi currency expenditure all linked to one invoice on multiple projects (VAT Registered) Given the current date is 2019-07-18 -\u003e And exchange rates of -\u003e Given a UK Limited Company which was started on 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it starts using FreeAgent on 2019-01-01 -\u003e And it is VAT registered from 2019-01-01 -\u003e And it has the following bank accounts: -\u003e And it has a project A in GBP -\u003e And it has a project B in USD -\u003e And the company has the following GBP Account bank transactions: -\u003e And the company has the following USD Account bank transactions: -\u003e And the company has the following expenses: -\u003e And the company has pulled all expenditure and time from projects A and B onto an invoice, the invoice will show: -\u003e Then the P\u0026L for 'Current Year to Date' for project A will be: -\u003e And its profit will be £0 -\u003e And the P\u0026L for 'Current Year to Date' for project B will be: -\u003e And its profit will be $-149","status":"passed","file_path":"./spec/acceptance/project_profit_and_loss/foreign_currencies.feature","line_number":47,"run_time":2.057496309,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/project_profit_and_loss/foreign_currencies.feature[1:3:1]","description":"Given the current date is 2019-07-18 -\u003e And exchange rates of -\u003e Given a UK Limited Company which was started on 2018-01-01 -\u003e And its first accounting year ends on 2018-12-31 -\u003e And it starts using FreeAgent on 2019-01-01 -\u003e And it is VAT registered from 2018-01-01 -\u003e And it is Invoice accounting for VAT, on the \"Limited cost trader\" flat rate scheme -\u003e And it has the following bank accounts: -\u003e And it has a project A in EUR -\u003e And the company has the following GBP Account bank transactions: -\u003e And the company has the following USD Account bank transactions: -\u003e And the company has the following expenses: -\u003e And the company has the following invoices: -\u003e Then the P\u0026L for 'Current Year to Date' for the project will be: -\u003e And its profit will be €1596","full_description":"Project Level Profit and Loss for projects in foreign currency Multi currency expenditure all linked to one invoice on one project (VAT Registered FRS) Given the current date is 2019-07-18 -\u003e And exchange rates of -\u003e Given a UK Limited Company which was started on 2018-01-01 -\u003e And its first accounting year ends on 2018-12-31 -\u003e And it starts using FreeAgent on 2019-01-01 -\u003e And it is VAT registered from 2018-01-01 -\u003e And it is Invoice accounting for VAT, on the \"Limited cost trader\" flat rate scheme -\u003e And it has the following bank accounts: -\u003e And it has a project A in EUR -\u003e And the company has the following GBP Account bank transactions: -\u003e And the company has the following USD Account bank transactions: -\u003e And the company has the following expenses: -\u003e And the company has the following invoices: -\u003e Then the P\u0026L for 'Current Year to Date' for the project will be: -\u003e And its profit will be €1596","status":"passed","file_path":"./spec/acceptance/project_profit_and_loss/foreign_currencies.feature","line_number":96,"run_time":1.086046374,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/project_profit_and_loss/foreign_currencies.feature[1:4:1]","description":"Given the current date is 2019-07-18 -\u003e And exchange rates of -\u003e Given a UK Limited Company which was started on 2018-01-01 -\u003e And its first accounting year ends on 2018-12-31 -\u003e And it starts using FreeAgent on 2019-01-01 -\u003e And it is VAT registered from 2018-01-01 -\u003e And it is Invoice accounting for VAT, on the \"Limited cost trader\" flat rate scheme -\u003e And it has the following bank accounts: -\u003e And it has a project A in GBP -\u003e And it has a project B in USD -\u003e And the company has the following GBP Account bank transactions: -\u003e And the company has the following USD Account bank transactions: -\u003e And the company has pulled all expenditure and time from projects A and B onto an invoice, the invoice will show: -\u003e Then the P\u0026L for 'Current Year to Date' for project A will be: -\u003e And its profit will be £-223 -\u003e And the P\u0026L for 'Current Year to Date' for project B will be: -\u003e And its profit will be $-818","full_description":"Project Level Profit and Loss for projects in foreign currency Multi currency expenditure all linked to one invoice on multiple projects (VAT Registered FRS) Given the current date is 2019-07-18 -\u003e And exchange rates of -\u003e Given a UK Limited Company which was started on 2018-01-01 -\u003e And its first accounting year ends on 2018-12-31 -\u003e And it starts using FreeAgent on 2019-01-01 -\u003e And it is VAT registered from 2018-01-01 -\u003e And it is Invoice accounting for VAT, on the \"Limited cost trader\" flat rate scheme -\u003e And it has the following bank accounts: -\u003e And it has a project A in GBP -\u003e And it has a project B in USD -\u003e And the company has the following GBP Account bank transactions: -\u003e And the company has the following USD Account bank transactions: -\u003e And the company has pulled all expenditure and time from projects A and B onto an invoice, the invoice will show: -\u003e Then the P\u0026L for 'Current Year to Date' for project A will be: -\u003e And its profit will be £-223 -\u003e And the P\u0026L for 'Current Year to Date' for project B will be: -\u003e And its profit will be $-818","status":"passed","file_path":"./spec/acceptance/project_profit_and_loss/foreign_currencies.feature","line_number":132,"run_time":1.550165436,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/project_profit_and_loss/foreign_currencies.feature[1:5:1]","description":"Given the current date is 2019-07-18 -\u003e And exchange rates of -\u003e Given a UK Limited Company which was started on 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it starts using FreeAgent on 2019-01-01 -\u003e And it has the following bank accounts: -\u003e And it has a project A in EUR -\u003e And the company has the following GBP Account bank transactions: -\u003e And the company has the following USD Account bank transactions: -\u003e And the company has the following expenses: -\u003e And the company has the following invoices: -\u003e Then the P\u0026L for 'Current Year to Date' for the project will be: -\u003e And its profit will be €1592","full_description":"Project Level Profit and Loss for projects in foreign currency Multi currency expenditure all linked to one invoice on one project (Not VAT Registered) Given the current date is 2019-07-18 -\u003e And exchange rates of -\u003e Given a UK Limited Company which was started on 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it starts using FreeAgent on 2019-01-01 -\u003e And it has the following bank accounts: -\u003e And it has a project A in EUR -\u003e And the company has the following GBP Account bank transactions: -\u003e And the company has the following USD Account bank transactions: -\u003e And the company has the following expenses: -\u003e And the company has the following invoices: -\u003e Then the P\u0026L for 'Current Year to Date' for the project will be: -\u003e And its profit will be €1592","status":"passed","file_path":"./spec/acceptance/project_profit_and_loss/foreign_currencies.feature","line_number":178,"run_time":0.746940947,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/project_profit_and_loss/foreign_currencies.feature[1:6:1]","description":"Given the current date is 2019-07-18 -\u003e And exchange rates of -\u003e Given a UK Limited Company which was started on 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it starts using FreeAgent on 2019-01-01 -\u003e And it has the following bank accounts: -\u003e And it has a project A in GBP -\u003e And it has a project B in USD -\u003e And the company has the following GBP Account bank transactions: -\u003e And the company has the following USD Account bank transactions: -\u003e And the company has the following expenses: -\u003e And the company has pulled all expenditure and time from projects A and B onto an invoice, the invoice will show: -\u003e Then the P\u0026L for 'Current Year to Date' for project A will be: -\u003e And its profit will be £0 -\u003e And the P\u0026L for 'Current Year to Date' for project B will be: -\u003e And its profit will be $-174","full_description":"Project Level Profit and Loss for projects in foreign currency Multi currency expenditure all linked to one invoice on multiple projects (Not VAT Registered) Given the current date is 2019-07-18 -\u003e And exchange rates of -\u003e Given a UK Limited Company which was started on 2019-01-01 -\u003e And its first accounting year ends on 2019-12-31 -\u003e And it starts using FreeAgent on 2019-01-01 -\u003e And it has the following bank accounts: -\u003e And it has a project A in GBP -\u003e And it has a project B in USD -\u003e And the company has the following GBP Account bank transactions: -\u003e And the company has the following USD Account bank transactions: -\u003e And the company has the following expenses: -\u003e And the company has pulled all expenditure and time from projects A and B onto an invoice, the invoice will show: -\u003e Then the P\u0026L for 'Current Year to Date' for project A will be: -\u003e And its profit will be £0 -\u003e And the P\u0026L for 'Current Year to Date' for project B will be: -\u003e And its profit will be $-174","status":"passed","file_path":"./spec/acceptance/project_profit_and_loss/foreign_currencies.feature","line_number":211,"run_time":1.625053377,"pending_message":null,"screenshot":null},{"id":"./spec/features/radar/todo_items/bank_transactions_spec.rb[1:1:1:1]","description":"doesn't show unexplained transactions message","full_description":"Admin Todo feed bank transactions when displaying unexplained transactions when all transactions are explained doesn't show unexplained transactions message","status":"passed","file_path":"./spec/features/radar/todo_items/bank_transactions_spec.rb","line_number":20,"run_time":0.728663307,"pending_message":null,"screenshot":null},{"id":"./spec/features/radar/todo_items/bank_transactions_spec.rb[1:1:2:1]","description":"shows unexplained transactions message","full_description":"Admin Todo feed bank transactions when displaying unexplained transactions when has transactions to explain shows unexplained transactions message","status":"passed","file_path":"./spec/features/radar/todo_items/bank_transactions_spec.rb","line_number":32,"run_time":0.982677167,"pending_message":null,"screenshot":null},{"id":"./spec/features/radar/todo_items/bank_transactions_spec.rb[1:1:3:1]","description":"doesn't show unexplained transactions message","full_description":"Admin Todo feed bank transactions when displaying unexplained transactions when all transactions are locked doesn't show unexplained transactions message","status":"passed","file_path":"./spec/features/radar/todo_items/bank_transactions_spec.rb","line_number":62,"run_time":0.980044841,"pending_message":null,"screenshot":null},{"id":"./spec/features/radar/todo_items/bank_transactions_spec.rb[1:1:4:1]","description":"shows unexplained transactions message","full_description":"Admin Todo feed bank transactions when displaying unexplained transactions when some of the transactions are locked shows unexplained transactions message","status":"passed","file_path":"./spec/features/radar/todo_items/bank_transactions_spec.rb","line_number":91,"run_time":0.998719001,"pending_message":null,"screenshot":null},{"id":"./spec/features/radar/todo_items/bank_transactions_spec.rb[1:2:1:1]","description":"doesn't show marked for review message","full_description":"Admin Todo feed bank transactions when displaying auto explained transactions marked for review when there are no transactions marked for review doesn't show marked for review message","status":"passed","file_path":"./spec/features/radar/todo_items/bank_transactions_spec.rb","line_number":101,"run_time":0.656325015,"pending_message":null,"screenshot":null},{"id":"./spec/features/radar/todo_items/bank_transactions_spec.rb[1:2:2:1]","description":"shows marked for review message","full_description":"Admin Todo feed bank transactions when displaying auto explained transactions marked for review when there are transactions marked for review shows marked for review message","status":"passed","file_path":"./spec/features/radar/todo_items/bank_transactions_spec.rb","line_number":113,"run_time":0.911041828,"pending_message":null,"screenshot":null},{"id":"./spec/features/radar/todo_items/bank_transactions_spec.rb[1:2:3:1]","description":"shows marked for review message","full_description":"Admin Todo feed bank transactions when displaying auto explained transactions marked for review when there are transactions marked for review, but some are locked shows marked for review message","status":"passed","file_path":"./spec/features/radar/todo_items/bank_transactions_spec.rb","line_number":128,"run_time":0.957004881,"pending_message":null,"screenshot":null},{"id":"./spec/features/radar/todo_items/bank_transactions_spec.rb[1:3:1:1]","description":"shows fully explained message for a day after the last explanation","full_description":"Admin Todo feed bank transactions when there are recent fully explained transactions when all transactions are fully explained shows fully explained message for a day after the last explanation","status":"passed","file_path":"./spec/features/radar/todo_items/bank_transactions_spec.rb","line_number":153,"run_time":1.838837865,"pending_message":null,"screenshot":null},{"id":"./spec/features/radar/todo_items/bank_transactions_spec.rb[1:3:2:1]","description":"show only correct messages","full_description":"Admin Todo feed bank transactions when there are recent fully explained transactions when there are transactions marked for review show only correct messages","status":"passed","file_path":"./spec/features/radar/todo_items/bank_transactions_spec.rb","line_number":171,"run_time":1.534187361,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:1:1]","description":"should set the default attributes","full_description":"Expenses::Builder without a previous expense/mileage should set the default attributes","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":12,"run_time":0.093626065,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:1:2]","description":"should set the mileage rates from the company","full_description":"Expenses::Builder without a previous expense/mileage should set the mileage rates from the company","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":23,"run_time":0.103755191,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:2:1]","description":"should use previous expenses' attributes","full_description":"Expenses::Builder with a previous expense should use previous expenses' attributes","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":39,"run_time":0.105850125,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:1:1:1]","description":"does not set the description","full_description":"Expenses::Builder with a document_id for an available document with no attachment does not set the description","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":60,"run_time":0.029521087,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:1:1:2]","description":"sets extracted_attributes to an empty list","full_description":"Expenses::Builder with a document_id for an available document with no attachment sets extracted_attributes to an empty list","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":64,"run_time":0.022670208,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:1:2:1]","description":"sets description to the attachment file name without extension","full_description":"Expenses::Builder with a document_id for an available document with an attachment and text extraction disabled sets description to the attachment file name without extension","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":72,"run_time":0.121479705,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:1:2:2]","description":"sets the document_id and attaches the file","full_description":"Expenses::Builder with a document_id for an available document with an attachment and text extraction disabled sets the document_id and attaches the file","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":76,"run_time":0.110493987,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:1:2:3]","description":"does not populate fields with receipt extracted data","full_description":"Expenses::Builder with a document_id for an available document with an attachment and text extraction disabled does not populate fields with receipt extracted data","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":81,"run_time":0.110038836,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:1:3:1:1]","description":"sets the description to the attachment file name without extension","full_description":"Expenses::Builder with a document_id for an available document with an attachment and text extraction enabled and completed Sensibill extract sets the description to the attachment file name without extension","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":95,"run_time":0.302950876,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:1:3:1:2]","description":"sets the document_id and attaches the file","full_description":"Expenses::Builder with a document_id for an available document with an attachment and text extraction enabled and completed Sensibill extract sets the document_id and attaches the file","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":99,"run_time":0.304042678,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:1:3:1:3:1]","description":"sets the extracted date","full_description":"Expenses::Builder with a document_id for an available document with an attachment and text extraction enabled and completed Sensibill extract with only an extracted receipt date sets the extracted date","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":107,"run_time":0.268042805,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:1:3:1:3:2]","description":"retains the default gross value and foreign gross value","full_description":"Expenses::Builder with a document_id for an available document with an attachment and text extraction enabled and completed Sensibill extract with only an extracted receipt date retains the default gross value and foreign gross value","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":111,"run_time":0.266407562,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:1:3:1:3:3]","description":"retains the default main type","full_description":"Expenses::Builder with a document_id for an available document with an attachment and text extraction enabled and completed Sensibill extract with only an extracted receipt date retains the default main type","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":116,"run_time":0.276592712,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:1:3:1:3:4]","description":"sets extracted_attributes to dated_on","full_description":"Expenses::Builder with a document_id for an available document with an attachment and text extraction enabled and completed Sensibill extract with only an extracted receipt date sets extracted_attributes to dated_on","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":120,"run_time":0.281246763,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:1:3:1:4:1]","description":"retains the default date","full_description":"Expenses::Builder with a document_id for an available document with an attachment and text extraction enabled and completed Sensibill extract with only an extracted receipt total retains the default date","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":128,"run_time":0.256833083,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:1:3:1:4:2]","description":"sets a negative gross value","full_description":"Expenses::Builder with a document_id for an available document with an attachment and text extraction enabled and completed Sensibill extract with only an extracted receipt total sets a negative gross value","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":132,"run_time":0.31762235,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:1:3:1:4:3]","description":"sets the foreign gross value to match the gross value","full_description":"Expenses::Builder with a document_id for an available document with an attachment and text extraction enabled and completed Sensibill extract with only an extracted receipt total sets the foreign gross value to match the gross value","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":137,"run_time":0.299459513,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:1:3:1:4:4]","description":"sets the main type to a payment","full_description":"Expenses::Builder with a document_id for an available document with an attachment and text extraction enabled and completed Sensibill extract with only an extracted receipt total sets the main type to a payment","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":141,"run_time":0.261144753,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:1:3:1:4:5]","description":"sets extracted_attributes to gross_value","full_description":"Expenses::Builder with a document_id for an available document with an attachment and text extraction enabled and completed Sensibill extract with only an extracted receipt total sets extracted_attributes to gross_value","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":145,"run_time":0.267064189,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:1:3:1:4:6:1]","description":"sets a negative gross value","full_description":"Expenses::Builder with a document_id for an available document with an attachment and text extraction enabled and completed Sensibill extract with only an extracted receipt total with a negative receipt total sets a negative gross value","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":152,"run_time":0.270138105,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:1:3:1:4:6:2]","description":"sets the foreign gross value to match the gross value","full_description":"Expenses::Builder with a document_id for an available document with an attachment and text extraction enabled and completed Sensibill extract with only an extracted receipt total with a negative receipt total sets the foreign gross value to match the gross value","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":157,"run_time":0.28793506,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:1:3:1:4:6:3]","description":"sets the main type to a refund","full_description":"Expenses::Builder with a document_id for an available document with an attachment and text extraction enabled and completed Sensibill extract with only an extracted receipt total with a negative receipt total sets the main type to a refund","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":161,"run_time":0.281113137,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:1:3:1:5:1]","description":"sets the extracted receipt date","full_description":"Expenses::Builder with a document_id for an available document with an attachment and text extraction enabled and completed Sensibill extract with an extracted receipt date and total sets the extracted receipt date","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":168,"run_time":0.300553358,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:1:3:1:5:2]","description":"sets a negative gross value from the extracted receipt total","full_description":"Expenses::Builder with a document_id for an available document with an attachment and text extraction enabled and completed Sensibill extract with an extracted receipt date and total sets a negative gross value from the extracted receipt total","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":172,"run_time":0.235872946,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:1:3:1:5:3]","description":"sets the foreign gross value to match the gross value","full_description":"Expenses::Builder with a document_id for an available document with an attachment and text extraction enabled and completed Sensibill extract with an extracted receipt date and total sets the foreign gross value to match the gross value","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":176,"run_time":0.258007227,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:1:3:1:5:4]","description":"sets the main type to a payment","full_description":"Expenses::Builder with a document_id for an available document with an attachment and text extraction enabled and completed Sensibill extract with an extracted receipt date and total sets the main type to a payment","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":180,"run_time":0.277443317,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:1:3:1:5:5]","description":"sets extracted_attributes to dated_on, gross_value","full_description":"Expenses::Builder with a document_id for an available document with an attachment and text extraction enabled and completed Sensibill extract with an extracted receipt date and total sets extracted_attributes to dated_on, gross_value","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":184,"run_time":0.277496341,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:1:3:2:1]","description":"sets the description to the attachment file name without extension","full_description":"Expenses::Builder with a document_id for an available document with an attachment and text extraction enabled and processing Sensibill extract sets the description to the attachment file name without extension","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":193,"run_time":0.270727638,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:1:3:2:2]","description":"sets the document_id and attaches the file","full_description":"Expenses::Builder with a document_id for an available document with an attachment and text extraction enabled and processing Sensibill extract sets the document_id and attaches the file","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":197,"run_time":0.33480103,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:1:3:2:3]","description":"does not populate fields with receipt extracted data","full_description":"Expenses::Builder with a document_id for an available document with an attachment and text extraction enabled and processing Sensibill extract does not populate fields with receipt extracted data","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":202,"run_time":0.30016135,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:1:3:3:1]","description":"sets the description to the attachment file name without extension","full_description":"Expenses::Builder with a document_id for an available document with an attachment and text extraction enabled and failed Sensibill extract sets the description to the attachment file name without extension","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":214,"run_time":0.310809027,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:1:3:3:2]","description":"sets the document_id and attaches the file","full_description":"Expenses::Builder with a document_id for an available document with an attachment and text extraction enabled and failed Sensibill extract sets the document_id and attaches the file","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":218,"run_time":0.270270552,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:1:3:3:3]","description":"does not populate fields with receipt extracted data","full_description":"Expenses::Builder with a document_id for an available document with an attachment and text extraction enabled and failed Sensibill extract does not populate fields with receipt extracted data","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":223,"run_time":0.295834942,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:2:1]","description":"does not populate fields with receipt extracted data","full_description":"Expenses::Builder with a document_id for an unavailable document does not populate fields with receipt extracted data","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":237,"run_time":0.237323822,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:2:2]","description":"does not set the description","full_description":"Expenses::Builder with a document_id for an unavailable document does not set the description","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":244,"run_time":0.186768579,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:2:3]","description":"does not set the document_id or attachment","full_description":"Expenses::Builder with a document_id for an unavailable document does not set the document_id or attachment","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":248,"run_time":0.202784787,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:3:2:4]","description":"sets extracted_attributes to an empty list","full_description":"Expenses::Builder with a document_id for an unavailable document sets extracted_attributes to an empty list","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":253,"run_time":0.204418266,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:4:1]","description":"should use previous mileage's attributes","full_description":"Expenses::Builder with a previous mileage should use previous mileage's attributes","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":266,"run_time":0.120412932,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:5:1]","description":"should override the expenses' attributes","full_description":"Expenses::Builder specifying attributes to #build should override the expenses' attributes","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":290,"run_time":0.031578455,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:6:1]","description":"should assign the project to the expense","full_description":"Expenses::Builder specifying a project belonging to the users' company should assign the project to the expense","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":309,"run_time":0.035239023,"pending_message":null,"screenshot":null},{"id":"./spec/models/expenses/builder_spec.rb[1:7:1]","description":"should not assign the project to the expense","full_description":"Expenses::Builder specifying a project belonging to another company should not assign the project to the expense","status":"passed","file_path":"./spec/models/expenses/builder_spec.rb","line_number":321,"run_time":0.099996501,"pending_message":null,"screenshot":null},{"id":"./spec/features/bills/view_details_spec.rb[1:1:1:1]","description":"displays the bill details on the show page","full_description":"Bills with a native bill when bill is unpaid displays the bill details on the show page","status":"passed","file_path":"./spec/features/bills/view_details_spec.rb","line_number":33,"run_time":1.038809718,"pending_message":null,"screenshot":null},{"id":"./spec/features/bills/view_details_spec.rb[1:1:2:1]","description":"displays the bill details on the show page","full_description":"Bills with a native bill when bill is fully paid displays the bill details on the show page","status":"passed","file_path":"./spec/features/bills/view_details_spec.rb","line_number":61,"run_time":1.430485021,"pending_message":null,"screenshot":null},{"id":"./spec/features/bills/view_details_spec.rb[1:2:1:1]","description":"displays the bill details on the show page","full_description":"Bills a foreign currency bill when unpaid displays the bill details on the show page","status":"passed","file_path":"./spec/features/bills/view_details_spec.rb","line_number":87,"run_time":1.075297314,"pending_message":null,"screenshot":null},{"id":"./spec/features/bills/view_details_spec.rb[1:2:1:2:1]","description":"doesn't display the payit section","full_description":"Bills a foreign currency bill when unpaid behaves like payit is not available doesn't display the payit section","status":"passed","file_path":"./spec/support/shared_examples/payit.rb","line_number":4,"run_time":0.254597784,"pending_message":null,"screenshot":null},{"id":"./spec/features/bills/view_details_spec.rb[1:2:2:1]","description":"displays the bill details on the show page","full_description":"Bills a foreign currency bill when fully paid displays the bill details on the show page","status":"passed","file_path":"./spec/features/bills/view_details_spec.rb","line_number":127,"run_time":1.849800209,"pending_message":null,"screenshot":null},{"id":"./spec/features/bills/view_details_spec.rb[1:2:2:2:1]","description":"doesn't display the payit section","full_description":"Bills a foreign currency bill when fully paid behaves like payit is not available doesn't display the payit section","status":"passed","file_path":"./spec/support/shared_examples/payit.rb","line_number":4,"run_time":1.291283275,"pending_message":null,"screenshot":null},{"id":"./spec/features/bills/view_details_spec.rb[1:2:2:3:1]","description":"displays the bill details on the show page","full_description":"Bills a foreign currency bill when fully paid when the bill has no bill items displays the bill details on the show page","status":"passed","file_path":"./spec/features/bills/view_details_spec.rb","line_number":152,"run_time":1.909939967,"pending_message":null,"screenshot":null},{"id":"./spec/features/credit_notes/edit_credit_note_spec.rb[1:1:1]","description":"user visits edit credit note page","full_description":"Edit credit note when user is not authorised user visits edit credit note page","status":"passed","file_path":"./spec/features/credit_notes/edit_credit_note_spec.rb","line_number":16,"run_time":0.862127199,"pending_message":null,"screenshot":null},{"id":"./spec/features/credit_notes/edit_credit_note_spec.rb[1:2:1]","description":"user visits page","full_description":"Edit credit note when user is authorised user visits page","status":"passed","file_path":"./spec/features/credit_notes/edit_credit_note_spec.rb","line_number":26,"run_time":1.633931269,"pending_message":null,"screenshot":null},{"id":"./spec/features/credit_notes/edit_credit_note_spec.rb[1:2:2]","description":"user fills and submits form","full_description":"Edit credit note when user is authorised user fills and submits form","status":"passed","file_path":"./spec/features/credit_notes/edit_credit_note_spec.rb","line_number":50,"run_time":2.150287598,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:1:1:1]","description":"renders the new connection template when an authorization is NOT present","full_description":"Settings::HMRCAuthorizationsController#index with a company account owner renders the new connection template when an authorization is NOT present","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":75,"run_time":0.118534233,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:1:1:2]","description":"has tracked KB link","full_description":"Settings::HMRCAuthorizationsController#index with a company account owner has tracked KB link","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":82,"run_time":0.099346836,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:1:1:3]","description":"shows planned HMRC connection notices","full_description":"Settings::HMRCAuthorizationsController#index with a company account owner shows planned HMRC connection notices","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":91,"run_time":0.124054961,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:1:1:4]","description":"shows unplanned HMRC connection notices","full_description":"Settings::HMRCAuthorizationsController#index with a company account owner shows unplanned HMRC connection notices","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":100,"run_time":0.116610687,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:1:1:5]","description":"does not redirect when an authorization is present","full_description":"Settings::HMRCAuthorizationsController#index with a company account owner does not redirect when an authorization is present","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":109,"run_time":0.111322853,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:1:2:1]","description":"renders the unauthorised error template","full_description":"Settings::HMRCAuthorizationsController#index with an account manager renders the unauthorised error template","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":33,"run_time":0.228600994,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:1:3:1]","description":"renders the unauthorised error template","full_description":"Settings::HMRCAuthorizationsController#index with a non-level-8 company user renders the unauthorised error template","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":51,"run_time":0.109976373,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:1:4:1]","description":"returns a not found status code","full_description":"Settings::HMRCAuthorizationsController#index with a non-UK company returns a not found status code","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":64,"run_time":0.213717946,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:2:1:1:1]","description":"does not raise an error","full_description":"Settings::HMRCAuthorizationsController#destroy with a company account owner with no matching authorization does not raise an error","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":127,"run_time":0.03548498,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:2:1:2:1]","description":"removes the authorization and redirects to the index action with flash message","full_description":"Settings::HMRCAuthorizationsController#destroy with a company account owner with an existing authorization removes the authorization and redirects to the index action with flash message","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":141,"run_time":0.040057172,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:2:2:1]","description":"renders the unauthorised error template","full_description":"Settings::HMRCAuthorizationsController#destroy with an account manager renders the unauthorised error template","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":33,"run_time":0.271801219,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:2:3:1]","description":"renders the unauthorised error template","full_description":"Settings::HMRCAuthorizationsController#destroy with a non-level-8 company user renders the unauthorised error template","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":51,"run_time":0.114693451,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:2:4:1]","description":"returns a not found status code","full_description":"Settings::HMRCAuthorizationsController#destroy with a non-UK company returns a not found status code","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":64,"run_time":0.173082207,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:3:1:1:1]","description":"redirects to the success page and publishes an event","full_description":"Settings::HMRCAuthorizationsController#callback with a company account owner when a code is present and the authorise call succeeds redirects to the success page and publishes an event","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":166,"run_time":0.043002485,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:3:1:2:1]","description":"redirects to the index page","full_description":"Settings::HMRCAuthorizationsController#callback with a company account owner when the authorization is not valid for the VRN redirects to the index page","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":181,"run_time":0.032655169,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:3:1:3:1]","description":"redirects to the index page","full_description":"Settings::HMRCAuthorizationsController#callback with a company account owner when the MTD API is unavailable redirects to the index page","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":192,"run_time":0.029260267,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:3:1:4:1]","description":"redirects to the index page","full_description":"Settings::HMRCAuthorizationsController#callback with a company account owner when the anti-fraud details are invalid redirects to the index page","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":203,"run_time":0.028064742,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:3:1:5:1]","description":"redirects to the index page","full_description":"Settings::HMRCAuthorizationsController#callback with a company account owner when a code is not present redirects to the index page","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":212,"run_time":0.035488377,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:3:1:5:2]","description":"does not mark the company as activated for MTD VAT","full_description":"Settings::HMRCAuthorizationsController#callback with a company account owner when a code is not present does not mark the company as activated for MTD VAT","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":217,"run_time":0.036279085,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:3:1:6:1]","description":"redirects to the index page","full_description":"Settings::HMRCAuthorizationsController#callback with a company account owner when an error is present redirects to the index page","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":226,"run_time":0.032367432,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:3:1:6:2]","description":"does not mark the company as activated for MTD VAT","full_description":"Settings::HMRCAuthorizationsController#callback with a company account owner when an error is present does not mark the company as activated for MTD VAT","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":231,"run_time":0.034539011,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:3:1:7:1]","description":"redirects to the success page and publishes an event","full_description":"Settings::HMRCAuthorizationsController#callback with a company account owner with an integration parameter of `itsa` redirects to the success page and publishes an event","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":244,"run_time":0.036356636,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:3:2:1]","description":"renders the unauthorised error template","full_description":"Settings::HMRCAuthorizationsController#callback with an account manager renders the unauthorised error template","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":33,"run_time":0.231795616,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:3:3:1]","description":"renders the unauthorised error template","full_description":"Settings::HMRCAuthorizationsController#callback with a non-level-8 company user renders the unauthorised error template","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":51,"run_time":0.119399106,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:3:4:1]","description":"returns a not found status code","full_description":"Settings::HMRCAuthorizationsController#callback with a non-UK company returns a not found status code","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":64,"run_time":0.140629651,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:4:1:1]","description":"renders the form","full_description":"Settings::HMRCAuthorizationsController#ni_number with a company account owner renders the form","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":260,"run_time":0.109881787,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:4:2:1]","description":"renders the unauthorised error template","full_description":"Settings::HMRCAuthorizationsController#ni_number with an account manager renders the unauthorised error template","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":33,"run_time":0.215821008,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:4:3:1]","description":"renders the unauthorised error template","full_description":"Settings::HMRCAuthorizationsController#ni_number with a non-level-8 company user renders the unauthorised error template","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":51,"run_time":0.110786334,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:4:4:1]","description":"returns a not found status code","full_description":"Settings::HMRCAuthorizationsController#ni_number with a non-UK company returns a not found status code","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":64,"run_time":0.170314774,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:5:1:1]","description":"updates the NI number and redirects","full_description":"Settings::HMRCAuthorizationsController#update_ni_number with a company account owner updates the NI number and redirects","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":272,"run_time":0.047444294,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:5:1:2:1]","description":"renders the form","full_description":"Settings::HMRCAuthorizationsController#update_ni_number with a company account owner with an empty NI number renders the form","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":290,"run_time":0.114855477,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:5:1:3:1]","description":"renders the form","full_description":"Settings::HMRCAuthorizationsController#update_ni_number with a company account owner with an invalid NI number renders the form","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":304,"run_time":0.122410616,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:5:2:1]","description":"renders the unauthorised error template","full_description":"Settings::HMRCAuthorizationsController#update_ni_number with an account manager renders the unauthorised error template","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":33,"run_time":0.262700468,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:5:3:1]","description":"renders the unauthorised error template","full_description":"Settings::HMRCAuthorizationsController#update_ni_number with a non-level-8 company user renders the unauthorised error template","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":51,"run_time":0.102315996,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:5:4:1]","description":"returns a not found status code","full_description":"Settings::HMRCAuthorizationsController#update_ni_number with a non-UK company returns a not found status code","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":64,"run_time":0.166831218,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:6:1:1]","description":"updates the business ID and redirects","full_description":"Settings::HMRCAuthorizationsController#update_hmrc_business_id with a company account owner updates the business ID and redirects","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":327,"run_time":0.049267478,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:6:1:2:1]","description":"renders the form","full_description":"Settings::HMRCAuthorizationsController#update_hmrc_business_id with a company account owner with an empty business ID renders the form","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":340,"run_time":0.122887294,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:6:2:1]","description":"renders the unauthorised error template","full_description":"Settings::HMRCAuthorizationsController#update_hmrc_business_id with an account manager renders the unauthorised error template","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":33,"run_time":0.264954747,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:6:3:1]","description":"renders the unauthorised error template","full_description":"Settings::HMRCAuthorizationsController#update_hmrc_business_id with a non-level-8 company user renders the unauthorised error template","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":51,"run_time":0.128234819,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb[1:6:4:1]","description":"returns a not found status code","full_description":"Settings::HMRCAuthorizationsController#update_hmrc_business_id with a non-UK company returns a not found status code","status":"passed","file_path":"./spec/controllers/settings/hmrc_authorizations_controller_spec.rb","line_number":64,"run_time":0.196219339,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/account_type_totals_report_spec.rb[1:1]","description":"validates company_type is a valid company type","full_description":"Reports::AccountTypeTotalsReport validates company_type is a valid company type","status":"passed","file_path":"./spec/models/reports/account_type_totals_report_spec.rb","line_number":21,"run_time":0.154892827,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/account_type_totals_report_spec.rb[1:2]","description":"casts string formatted dates for period_start_as_date and period_end_as_date to actual dates","full_description":"Reports::AccountTypeTotalsReport casts string formatted dates for period_start_as_date and period_end_as_date to actual dates","status":"passed","file_path":"./spec/models/reports/account_type_totals_report_spec.rb","line_number":35,"run_time":0.032432884,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/account_type_totals_report_spec.rb[1:3]","description":"handles invalid date strings","full_description":"Reports::AccountTypeTotalsReport handles invalid date strings","status":"passed","file_path":"./spec/models/reports/account_type_totals_report_spec.rb","line_number":42,"run_time":0.03672048,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/account_type_totals_report_spec.rb[1:4]","description":"handles valid date strings","full_description":"Reports::AccountTypeTotalsReport handles valid date strings","status":"passed","file_path":"./spec/models/reports/account_type_totals_report_spec.rb","line_number":57,"run_time":0.141645266,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/account_type_totals_report_spec.rb[1:5]","description":"validates the period_start_date is before the period_end_date","full_description":"Reports::AccountTypeTotalsReport validates the period_start_date is before the period_end_date","status":"passed","file_path":"./spec/models/reports/account_type_totals_report_spec.rb","line_number":70,"run_time":0.034498019,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/account_type_totals_report_spec.rb[1:6]","description":"validates at least one reportable company id is present","full_description":"Reports::AccountTypeTotalsReport validates at least one reportable company id is present","status":"passed","file_path":"./spec/models/reports/account_type_totals_report_spec.rb","line_number":77,"run_time":0.04418134,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/account_type_totals_report_spec.rb[1:7:1]","description":"returns a file name that reflects the date range and account_type","full_description":"Reports::AccountTypeTotalsReport#file_name returns a file name that reflects the date range and account_type","status":"passed","file_path":"./spec/models/reports/account_type_totals_report_spec.rb","line_number":87,"run_time":0.030670932,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/account_type_totals_report_spec.rb[1:8:1]","description":"returns a CSV report containing a header row","full_description":"Reports::AccountTypeTotalsReport#generate returns a CSV report containing a header row","status":"passed","file_path":"./spec/models/reports/account_type_totals_report_spec.rb","line_number":161,"run_time":0.640434621,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/account_type_totals_report_spec.rb[1:8:2]","description":"includes in-period transations against accounts for the specified account type and reported companies","full_description":"Reports::AccountTypeTotalsReport#generate includes in-period transations against accounts for the specified account type and reported companies","status":"passed","file_path":"./spec/models/reports/account_type_totals_report_spec.rb","line_number":165,"run_time":0.618377736,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/account_type_totals_report_spec.rb[1:8:3]","description":"excludes transactions that do not fall under the account type","full_description":"Reports::AccountTypeTotalsReport#generate excludes transactions that do not fall under the account type","status":"passed","file_path":"./spec/models/reports/account_type_totals_report_spec.rb","line_number":182,"run_time":0.571372431,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/account_type_totals_report_spec.rb[1:8:4]","description":"does not report companies of another company type","full_description":"Reports::AccountTypeTotalsReport#generate does not report companies of another company type","status":"passed","file_path":"./spec/models/reports/account_type_totals_report_spec.rb","line_number":186,"run_time":0.603786401,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/account_type_totals_report_spec.rb[1:8:5]","description":"does not include companies which are not active or linked_billable","full_description":"Reports::AccountTypeTotalsReport#generate does not include companies which are not active or linked_billable","status":"passed","file_path":"./spec/models/reports/account_type_totals_report_spec.rb","line_number":190,"run_time":0.643943824,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/account_type_totals_report_spec.rb[1:8:6:1]","description":"only has data for clients of the manager that created the report","full_description":"Reports::AccountTypeTotalsReport#generate with a account_manager_filter filter only has data for clients of the manager that created the report","status":"passed","file_path":"./spec/models/reports/account_type_totals_report_spec.rb","line_number":216,"run_time":0.624129588,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/account_type_totals_report_spec.rb[1:9:1]","description":"includes the headers to avoid generating an empty file","full_description":"Reports::AccountTypeTotalsReport#generate when there is no reportable data includes the headers to avoid generating an empty file","status":"passed","file_path":"./spec/models/reports/account_type_totals_report_spec.rb","line_number":250,"run_time":0.031410912,"pending_message":null,"screenshot":null},{"id":"./spec/models/reports/account_type_totals_report_spec.rb[1:10:1]","description":"returns the headers as an array of strings in the correct order","full_description":"Reports::AccountTypeTotalsReport#headers returns the headers as an array of strings in the correct order","status":"passed","file_path":"./spec/models/reports/account_type_totals_report_spec.rb","line_number":258,"run_time":0.029682158,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/calendar_feeds_settings_spec.rb[1:1:1:1]","description":"allows user to enable Calendar Feeds","full_description":"Calendar Feeds connection with an authorised user accessing a disabled page allows user to enable Calendar Feeds","status":"passed","file_path":"./spec/features/settings/calendar_feeds_settings_spec.rb","line_number":22,"run_time":1.231888485,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/calendar_feeds_settings_spec.rb[1:1:2:1]","description":"allows user to disable Calendar Feed access","full_description":"Calendar Feeds connection with an authorised user accessing an enabled page allows user to disable Calendar Feed access","status":"passed","file_path":"./spec/features/settings/calendar_feeds_settings_spec.rb","line_number":40,"run_time":1.167974771,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/calendar_feeds_settings_spec.rb[1:1:2:2]","description":"allows user to regenerate the API key","full_description":"Calendar Feeds connection with an authorised user accessing an enabled page allows user to regenerate the API key","status":"passed","file_path":"./spec/features/settings/calendar_feeds_settings_spec.rb","line_number":49,"run_time":0.986509722,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/calendar_feeds_settings_spec.rb[1:1:2:3]","description":"shows a link to tax timeline feed","full_description":"Calendar Feeds connection with an authorised user accessing an enabled page shows a link to tax timeline feed","status":"passed","file_path":"./spec/features/settings/calendar_feeds_settings_spec.rb","line_number":64,"run_time":0.735674513,"pending_message":null,"screenshot":null},{"id":"./spec/features/settings/calendar_feeds_settings_spec.rb[1:1:2:4]","description":"shows a link to invoice timeline feed","full_description":"Calendar Feeds connection with an authorised user accessing an enabled page shows a link to invoice timeline feed","status":"passed","file_path":"./spec/features/settings/calendar_feeds_settings_spec.rb","line_number":68,"run_time":0.745901061,"pending_message":null,"screenshot":null},{"id":"./spec/models/capital_asset/scopes_spec.rb[1:1:1]","description":"should get only current assets for the 'current_as_of' scope","full_description":"CapitalAsset scopes asset state scopes should get only current assets for the 'current_as_of' scope","status":"passed","file_path":"./spec/models/capital_asset/scopes_spec.rb","line_number":9,"run_time":0.699588814,"pending_message":null,"screenshot":null},{"id":"./spec/models/capital_asset/scopes_spec.rb[1:1:2]","description":"should get only disposed assets for the 'disposed_as_of' scope","full_description":"CapitalAsset scopes asset state scopes should get only disposed assets for the 'disposed_as_of' scope","status":"passed","file_path":"./spec/models/capital_asset/scopes_spec.rb","line_number":15,"run_time":0.751941432,"pending_message":null,"screenshot":null},{"id":"./spec/models/capital_asset/scopes_spec.rb[1:2:1]","description":"should return only computer equipment assets when supplied the computer equipment asset type","full_description":"CapitalAsset scopes asset type scopes should return only computer equipment assets when supplied the computer equipment asset type","status":"passed","file_path":"./spec/models/capital_asset/scopes_spec.rb","line_number":32,"run_time":0.760660349,"pending_message":null,"screenshot":null},{"id":"./spec/models/capital_asset/scopes_spec.rb[1:2:2]","description":"should return only motor vehicle assets when supplied the motor vehicle asset type","full_description":"CapitalAsset scopes asset type scopes should return only motor vehicle assets when supplied the motor vehicle asset type","status":"passed","file_path":"./spec/models/capital_asset/scopes_spec.rb","line_number":37,"run_time":0.768861178,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rules/turnover_threshold_spec.rb[1:1]","description":"is registered in the AlertRule types list","full_description":"PracticeAlerts::Rules::TurnoverThreshold is registered in the AlertRule types list","status":"passed","file_path":"./spec/models/practice_alerts/rules/turnover_threshold_spec.rb","line_number":19,"run_time":0.003685497,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rules/turnover_threshold_spec.rb[1:2]","description":"validates the threshold value","full_description":"PracticeAlerts::Rules::TurnoverThreshold validates the threshold value","status":"passed","file_path":"./spec/models/practice_alerts/rules/turnover_threshold_spec.rb","line_number":23,"run_time":0.048650521,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rules/turnover_threshold_spec.rb[1:3:1:1]","description":"does not add notifications","full_description":"PracticeAlerts::Rules::TurnoverThreshold#run when turnover is below limit does not add notifications","status":"passed","file_path":"./spec/models/practice_alerts/rules/turnover_threshold_spec.rb","line_number":66,"run_time":0.63389594,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rules/turnover_threshold_spec.rb[1:3:2:1]","description":"adds notifications","full_description":"PracticeAlerts::Rules::TurnoverThreshold#run with turnover over limit adds notifications","status":"passed","file_path":"./spec/models/practice_alerts/rules/turnover_threshold_spec.rb","line_number":109,"run_time":0.512292231,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rules/turnover_threshold_spec.rb[1:3:3:1]","description":"it does not add notifications","full_description":"PracticeAlerts::Rules::TurnoverThreshold#run with turnover equal to limit it does not add notifications","status":"passed","file_path":"./spec/models/practice_alerts/rules/turnover_threshold_spec.rb","line_number":149,"run_time":0.516614882,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rules/turnover_threshold_spec.rb[1:3:4:1]","description":"only uses values within the 12 month scope","full_description":"PracticeAlerts::Rules::TurnoverThreshold#run turnover date calculation range only uses values within the 12 month scope","status":"passed","file_path":"./spec/models/practice_alerts/rules/turnover_threshold_spec.rb","line_number":175,"run_time":0.439087488,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rules/turnover_threshold_spec.rb[1:3:5:1]","description":"excludes companies that are vat registered","full_description":"PracticeAlerts::Rules::TurnoverThreshold#run when companies are vat registered excludes companies that are vat registered","status":"passed","file_path":"./spec/models/practice_alerts/rules/turnover_threshold_spec.rb","line_number":207,"run_time":0.42643674,"pending_message":null,"screenshot":null},{"id":"./spec/models/preferences_spec.rb[1:1:1:1]","description":"returns the preference","full_description":"Preferences.for commercial proposition preference returns the preference","status":"passed","file_path":"./spec/models/preferences_spec.rb","line_number":38,"run_time":0.095400073,"pending_message":null,"screenshot":null},{"id":"./spec/models/preferences_spec.rb[1:1:1:2]","description":"returns the default value when that preference doesn't exist","full_description":"Preferences.for commercial proposition preference returns the default value when that preference doesn't exist","status":"passed","file_path":"./spec/models/preferences_spec.rb","line_number":44,"run_time":0.089745602,"pending_message":null,"screenshot":null},{"id":"./spec/models/preferences_spec.rb[1:1:2:1]","description":"returns the preference","full_description":"Preferences.for document preferences returns the preference","status":"passed","file_path":"./spec/models/preferences_spec.rb","line_number":52,"run_time":0.097557525,"pending_message":null,"screenshot":null},{"id":"./spec/models/preferences_spec.rb[1:1:2:2]","description":"returns the default value when that preference doesn't exist","full_description":"Preferences.for document preferences returns the default value when that preference doesn't exist","status":"passed","file_path":"./spec/models/preferences_spec.rb","line_number":58,"run_time":0.091665268,"pending_message":null,"screenshot":null},{"id":"./spec/models/preferences_spec.rb[1:1:3:1]","description":"returns the preference","full_description":"Preferences.for performance benchmarking preferences returns the preference","status":"passed","file_path":"./spec/models/preferences_spec.rb","line_number":66,"run_time":0.090239332,"pending_message":null,"screenshot":null},{"id":"./spec/models/preferences_spec.rb[1:1:3:2]","description":"returns the default value when that preference doesn't exist","full_description":"Preferences.for performance benchmarking preferences returns the default value when that preference doesn't exist","status":"passed","file_path":"./spec/models/preferences_spec.rb","line_number":72,"run_time":0.099950912,"pending_message":null,"screenshot":null},{"id":"./spec/models/preferences_spec.rb[1:2:1]","description":"returns all preferences when the company has many preferences","full_description":"Preferences.all_for returns all preferences when the company has many preferences","status":"passed","file_path":"./spec/models/preferences_spec.rb","line_number":81,"run_time":0.107389577,"pending_message":null,"screenshot":null},{"id":"./spec/models/preferences_spec.rb[1:2:2]","description":"returns defaults when the company has no preferences","full_description":"Preferences.all_for returns defaults when the company has no preferences","status":"passed","file_path":"./spec/models/preferences_spec.rb","line_number":88,"run_time":0.217163686,"pending_message":null,"screenshot":null},{"id":"./spec/models/preferences_spec.rb[1:3:1]","description":"updates a preference active from false to true","full_description":"Preferences.update_for updates a preference active from false to true","status":"passed","file_path":"./spec/models/preferences_spec.rb","line_number":98,"run_time":0.293894838,"pending_message":null,"screenshot":null},{"id":"./spec/models/preferences_spec.rb[1:3:2]","description":"updates a preference active from default (true) to false","full_description":"Preferences.update_for updates a preference active from default (true) to false","status":"passed","file_path":"./spec/models/preferences_spec.rb","line_number":110,"run_time":0.298873487,"pending_message":null,"screenshot":null},{"id":"./spec/models/preferences_spec.rb[1:3:3:1]","description":"returns nil when no params are input","full_description":"Preferences.update_for with invalid inputs returns nil when no params are input","status":"passed","file_path":"./spec/models/preferences_spec.rb","line_number":123,"run_time":0.321787478,"pending_message":null,"screenshot":null},{"id":"./spec/models/preferences_spec.rb[1:3:3:2]","description":"returns array containing nil with invalid preference_type in params","full_description":"Preferences.update_for with invalid inputs returns array containing nil with invalid preference_type in params","status":"passed","file_path":"./spec/models/preferences_spec.rb","line_number":130,"run_time":0.119195028,"pending_message":null,"screenshot":null},{"id":"./spec/models/preferences_spec.rb[1:3:3:3]","description":"returns nil with invalid company","full_description":"Preferences.update_for with invalid inputs returns nil with invalid company","status":"passed","file_path":"./spec/models/preferences_spec.rb","line_number":139,"run_time":0.117437701,"pending_message":null,"screenshot":null},{"id":"./spec/models/preferences_spec.rb[1:4:1]","description":"returns [:active] for commercial_propositions","full_description":"Preferences.permitted_attributes returns [:active] for commercial_propositions","status":"passed","file_path":"./spec/models/preferences_spec.rb","line_number":150,"run_time":0.107480244,"pending_message":null,"screenshot":null},{"id":"./spec/models/preferences_spec.rb[1:4:2]","description":"returns nil for an invalid preference type","full_description":"Preferences.permitted_attributes returns nil for an invalid preference type","status":"passed","file_path":"./spec/models/preferences_spec.rb","line_number":156,"run_time":0.109433073,"pending_message":null,"screenshot":null},{"id":"./spec/models/preferences_spec.rb[1:5:1]","description":"returns [:active] for commercial_propositions","full_description":"Preferences.boolean_attributes returns [:active] for commercial_propositions","status":"passed","file_path":"./spec/models/preferences_spec.rb","line_number":164,"run_time":0.116137711,"pending_message":null,"screenshot":null},{"id":"./spec/models/preferences_spec.rb[1:5:2]","description":"returns nil for an invalid preference type","full_description":"Preferences.boolean_attributes returns nil for an invalid preference type","status":"passed","file_path":"./spec/models/preferences_spec.rb","line_number":170,"run_time":0.119207267,"pending_message":null,"screenshot":null},{"id":"./spec/models/preferences_spec.rb[1:6:1]","description":"returns true for commercial_propositions","full_description":"Preferences.type_is_valid? returns true for commercial_propositions","status":"passed","file_path":"./spec/models/preferences_spec.rb","line_number":178,"run_time":0.105114476,"pending_message":null,"screenshot":null},{"id":"./spec/models/preferences_spec.rb[1:6:2]","description":"returns false for an invalid preference type","full_description":"Preferences.type_is_valid? returns false for an invalid preference type","status":"passed","file_path":"./spec/models/preferences_spec.rb","line_number":184,"run_time":0.113364367,"pending_message":null,"screenshot":null},{"id":"./spec/models/preferences_spec.rb[1:7:1:1]","description":"raises an error and does not remove any preference records","full_description":"Preferences.reset_preference invalid type raises an error and does not remove any preference records","status":"passed","file_path":"./spec/models/preferences_spec.rb","line_number":200,"run_time":0.115669709,"pending_message":null,"screenshot":null},{"id":"./spec/models/preferences_spec.rb[1:7:2:1]","description":"destroys any commercial proposition preference records for the company","full_description":"Preferences.reset_preference commercial proposition destroys any commercial proposition preference records for the company","status":"passed","file_path":"./spec/models/preferences_spec.rb","line_number":210,"run_time":0.120077445,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:2:3:1]","description":"deletes the submission for the company","full_description":"Company::ForgetCompanyData Deleting all data for uk limited company corporation tax returns and submissions deletes the submission for the company","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":873,"run_time":3.04993254,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/corporation_tax/legacy_apportionment/short_period.feature[1:1:1]","description":"Given a UK Limited Company which was started on 2017-06-01 -\u003e And its first accounting year ends on 2018-01-31 -\u003e And the current date is 2018-03-31 -\u003e Then the company should have corporation tax return periods for -\u003e Given the company has the following invoices: -\u003e And the company has the following bills: -\u003e Then the company should have a corporation tax liability as follows","full_description":"Apportioning profits for a short period all transactions appear in first period Given a UK Limited Company which was started on 2017-06-01 -\u003e And its first accounting year ends on 2018-01-31 -\u003e And the current date is 2018-03-31 -\u003e Then the company should have corporation tax return periods for -\u003e Given the company has the following invoices: -\u003e And the company has the following bills: -\u003e Then the company should have a corporation tax liability as follows","status":"passed","file_path":"./spec/acceptance/corporation_tax/legacy_apportionment/short_period.feature","line_number":12,"run_time":0.621516448,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/corporation_tax/legacy_apportionment/short_period.feature[1:2:1]","description":"Given a UK Limited Company which was started on 2017-06-01 -\u003e And its first accounting year ends on 2018-01-31 -\u003e And the current date is 2018-03-31 -\u003e Then the company should have corporation tax return periods for -\u003e Given the company has the following invoices: -\u003e And the company has the following bills: -\u003e Then the company should have a corporation tax liability as follows","full_description":"Apportioning profits for a short period all transactions appear in second period Given a UK Limited Company which was started on 2017-06-01 -\u003e And its first accounting year ends on 2018-01-31 -\u003e And the current date is 2018-03-31 -\u003e Then the company should have corporation tax return periods for -\u003e Given the company has the following invoices: -\u003e And the company has the following bills: -\u003e Then the company should have a corporation tax liability as follows","status":"passed","file_path":"./spec/acceptance/corporation_tax/legacy_apportionment/short_period.feature","line_number":24,"run_time":0.661433354,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/corporation_tax/legacy_apportionment/short_period.feature[1:3:1]","description":"Given a UK Limited Company which was started on 2017-06-01 -\u003e And its first accounting year ends on 2018-01-31 -\u003e And the current date is 2018-03-31 -\u003e Then the company should have corporation tax return periods for -\u003e Given the company has the following invoices: -\u003e And the company has the following bills: -\u003e Then the company should have a corporation tax liability as follows","full_description":"Apportioning profits for a short period transactions are split between periods, profit in first period Given a UK Limited Company which was started on 2017-06-01 -\u003e And its first accounting year ends on 2018-01-31 -\u003e And the current date is 2018-03-31 -\u003e Then the company should have corporation tax return periods for -\u003e Given the company has the following invoices: -\u003e And the company has the following bills: -\u003e Then the company should have a corporation tax liability as follows","status":"passed","file_path":"./spec/acceptance/corporation_tax/legacy_apportionment/short_period.feature","line_number":36,"run_time":0.54168067,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/corporation_tax/legacy_apportionment/short_period.feature[1:4:1]","description":"Given a UK Limited Company which was started on 2017-06-01 -\u003e And its first accounting year ends on 2018-01-31 -\u003e And the current date is 2018-03-31 -\u003e Then the company should have corporation tax return periods for -\u003e Given the company has the following invoices: -\u003e And the company has the following bills: -\u003e Then the company should have a corporation tax liability as follows","full_description":"Apportioning profits for a short period transactions are split between periods, loss carried forward Given a UK Limited Company which was started on 2017-06-01 -\u003e And its first accounting year ends on 2018-01-31 -\u003e And the current date is 2018-03-31 -\u003e Then the company should have corporation tax return periods for -\u003e Given the company has the following invoices: -\u003e And the company has the following bills: -\u003e Then the company should have a corporation tax liability as follows","status":"passed","file_path":"./spec/acceptance/corporation_tax/legacy_apportionment/short_period.feature","line_number":48,"run_time":0.590151767,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/five_nine_nine_ledgers_check_spec.rb[1:1:1]","description":"is expected not to have a failure on #\u003cInvoice id: 85, project_id: nil, reference: \"REF 0001\", dated_on: \"2022-12-16\", status: \"Sent\", com... recurring_invoice_profile_id: nil, property_id: nil, is_paid: false, include_payment_button: false\u003e","full_description":"FiveNineNineLedgersCheck Checking a company with correct invoices is expected not to have a failure on #\u003cInvoice id: 85, project_id: nil, reference: \"REF 0001\", dated_on: \"2022-12-16\", status: \"Sent\", com... recurring_invoice_profile_id: nil, property_id: nil, is_paid: false, include_payment_button: false\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/five_nine_nine_ledgers_check_spec.rb","line_number":17,"run_time":0.354530011,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/five_nine_nine_ledgers_check_spec.rb[1:2:1]","description":"is expected to have a failure on #\u003cInvoice id: 86, project_id: nil, reference: \"REF 0001\", dated_on: \"2022-12-16\", status: \"Sent\", com... recurring_invoice_profile_id: nil, property_id: nil, is_paid: false, include_payment_button: false\u003e","full_description":"FiveNineNineLedgersCheck Checking a company with an invoice that is missing VAT is expected to have a failure on #\u003cInvoice id: 86, project_id: nil, reference: \"REF 0001\", dated_on: \"2022-12-16\", status: \"Sent\", com... recurring_invoice_profile_id: nil, property_id: nil, is_paid: false, include_payment_button: false\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/five_nine_nine_ledgers_check_spec.rb","line_number":38,"run_time":0.442853923,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/five_nine_nine_ledgers_check_spec.rb[1:2:2]","description":"is expected to have a failure like / has 599 ledgers/","full_description":"FiveNineNineLedgersCheck Checking a company with an invoice that is missing VAT is expected to have a failure like / has 599 ledgers/","status":"passed","file_path":"./spec/models/health_robinson/check/five_nine_nine_ledgers_check_spec.rb","line_number":40,"run_time":0.401329524,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/five_nine_nine_ledgers_check_spec.rb[1:2:3:1]","description":"is expected not to have a failure on #\u003cInvoice id: 88, project_id: nil, reference: \"REF 0001\", dated_on: \"2022-12-16\", status: \"Sent\", com... recurring_invoice_profile_id: nil, property_id: nil, is_paid: false, include_payment_button: false\u003e","full_description":"FiveNineNineLedgersCheck Checking a company with an invoice that is missing VAT that is balanced by journals is expected not to have a failure on #\u003cInvoice id: 88, project_id: nil, reference: \"REF 0001\", dated_on: \"2022-12-16\", status: \"Sent\", com... recurring_invoice_profile_id: nil, property_id: nil, is_paid: false, include_payment_button: false\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/five_nine_nine_ledgers_check_spec.rb","line_number":53,"run_time":0.441126054,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/five_nine_nine_ledgers_check_spec.rb[1:3:1]","description":"is expected not to have a failure on #\u003cJournalSet id: 32, company_id: 314262342, dated_on: \"2022-12-15\", description: \"My Journal Set\", cr... \"2022-12-15 10:01:26.000000000 +0000\", updated_at: \"2022-12-15 10:01:26.000000000 +0000\", tag: nil\u003e","full_description":"FiveNineNineLedgersCheck Checking a company with just unbalanced journals is expected not to have a failure on #\u003cJournalSet id: 32, company_id: 314262342, dated_on: \"2022-12-15\", description: \"My Journal Set\", cr... \"2022-12-15 10:01:26.000000000 +0000\", updated_at: \"2022-12-15 10:01:26.000000000 +0000\", tag: nil\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/five_nine_nine_ledgers_check_spec.rb","line_number":68,"run_time":0.084018453,"pending_message":null,"screenshot":null},{"id":"./spec/features/payroll/payroll_settings_spec.rb[1:1]","description":"allows to change PAYE / NI Payment Dates","full_description":"PayrollSettingsIntegration allows to change PAYE / NI Payment Dates","status":"passed","file_path":"./spec/features/payroll/payroll_settings_spec.rb","line_number":12,"run_time":1.733655755,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/affiliate_payment_metrics_spec.rb[1:1:1]","description":"should generate the expected report data","full_description":"Metrics::AffiliatePaymentMetrics when called with affiliates should generate the expected report data","status":"passed","file_path":"./spec/models/metrics/affiliate_payment_metrics_spec.rb","line_number":16,"run_time":0.157462881,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/affiliate_payment_metrics_spec.rb[1:2:1]","description":"returns the default filename","full_description":"Metrics::AffiliatePaymentMetrics#filename returns the default filename","status":"passed","file_path":"./spec/models/metrics/affiliate_payment_metrics_spec.rb","line_number":35,"run_time":0.004128747,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/provider_spec.rb[1:1:1]","description":"is expected to eq \"open_banking_providers\"","full_description":"OpenBanking::Provider.table_name is expected to eq \"open_banking_providers\"","status":"passed","file_path":"./spec/models/open_banking/provider_spec.rb","line_number":11,"run_time":0.003128964,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/provider_spec.rb[1:2:1]","description":"is expected to belong to config class_name =\u003e OpenBanking::ProviderConfiguration required: false","full_description":"OpenBanking::Provider associations is expected to belong to config class_name =\u003e OpenBanking::ProviderConfiguration required: false","status":"passed","file_path":"./spec/models/open_banking/provider_spec.rb","line_number":15,"run_time":0.027678636,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/provider_spec.rb[1:3:1]","description":"delegates to the provider configuration","full_description":"OpenBanking::Provider#has_app2app_available? delegates to the provider configuration","status":"passed","file_path":"./spec/models/open_banking/provider_spec.rb","line_number":19,"run_time":0.01155833,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/provider_spec.rb[1:4:1]","description":"returns path to logo image","full_description":"OpenBanking::Provider#logo_image returns path to logo image","status":"passed","file_path":"./spec/models/open_banking/provider_spec.rb","line_number":27,"run_time":0.005317679,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/provider_spec.rb[1:4:2:1]","description":"returns path with style postfix","full_description":"OpenBanking::Provider#logo_image with style param returns path with style postfix","status":"passed","file_path":"./spec/models/open_banking/provider_spec.rb","line_number":32,"run_time":0.005719456,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/provider_spec.rb[1:5:1:1]","description":"is true when feature enabled and bank account is standard","full_description":"OpenBanking::Provider bank feed provider availability #available? is true when feature enabled and bank account is standard","status":"passed","file_path":"./spec/models/open_banking/provider_spec.rb","line_number":45,"run_time":0.031994648,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/provider_spec.rb[1:5:1:2:1]","description":"returns false","full_description":"OpenBanking::Provider bank feed provider availability #available? feature disabled returns false","status":"passed","file_path":"./spec/models/open_banking/provider_spec.rb","line_number":51,"run_time":0.031039221,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/provider_spec.rb[1:5:1:3:1]","description":"returns false","full_description":"OpenBanking::Provider bank feed provider availability #available? for a paypal account returns false","status":"passed","file_path":"./spec/models/open_banking/provider_spec.rb","line_number":58,"run_time":0.030683827,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/provider_spec.rb[1:5:1:4:1]","description":"is expected to equal true","full_description":"OpenBanking::Provider bank feed provider availability #available? for a credit card account is expected to equal true","status":"passed","file_path":"./spec/models/open_banking/provider_spec.rb","line_number":65,"run_time":0.038093118,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/provider_spec.rb[1:5:2:1:1]","description":"returns a circuit breaker feature name","full_description":"OpenBanking::Provider bank feed provider availability #importing_circuit_name given no subset returns a circuit breaker feature name","status":"passed","file_path":"./spec/models/open_banking/provider_spec.rb","line_number":73,"run_time":0.00654505,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/provider_spec.rb[1:5:2:2:1]","description":"returns a circuit breaker feature name","full_description":"OpenBanking::Provider bank feed provider availability #importing_circuit_name given a subset returns a circuit breaker feature name","status":"passed","file_path":"./spec/models/open_banking/provider_spec.rb","line_number":81,"run_time":0.00785305,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/provider_spec.rb[1:5:3:1]","description":"is true when feature enabled","full_description":"OpenBanking::Provider bank feed provider availability #available_for_company? is true when feature enabled","status":"passed","file_path":"./spec/models/open_banking/provider_spec.rb","line_number":88,"run_time":0.014288137,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/provider_spec.rb[1:5:3:2]","description":"is false when feature disabled","full_description":"OpenBanking::Provider bank feed provider availability #available_for_company? is false when feature disabled","status":"passed","file_path":"./spec/models/open_banking/provider_spec.rb","line_number":93,"run_time":0.01383068,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/provider_spec.rb[1:5:3:3:1:1:1:1]","description":"has access","full_description":"OpenBanking::Provider bank feed provider availability #available_for_company? practice managed my accountant friend behaves like permitted whitelabel practice company access to bank feeds granted has access","status":"passed","file_path":"./spec/models/open_banking/provider_spec.rb","line_number":106,"run_time":0.151316641,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/provider_spec.rb[1:5:3:3:1:1:2:1]","description":"does not have access","full_description":"OpenBanking::Provider bank feed provider availability #available_for_company? practice managed my accountant friend behaves like permitted whitelabel practice company access to bank feeds not granted does not have access","status":"passed","file_path":"./spec/models/open_banking/provider_spec.rb","line_number":114,"run_time":0.127859834,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/provider_spec.rb[1:5:3:3:2:1:1:1]","description":"has access","full_description":"OpenBanking::Provider bank feed provider availability #available_for_company? practice managed my clearsky behaves like permitted whitelabel practice company access to bank feeds granted has access","status":"passed","file_path":"./spec/models/open_banking/provider_spec.rb","line_number":106,"run_time":0.125756993,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/provider_spec.rb[1:5:3:3:2:1:2:1]","description":"does not have access","full_description":"OpenBanking::Provider bank feed provider availability #available_for_company? practice managed my clearsky behaves like permitted whitelabel practice company access to bank feeds not granted does not have access","status":"passed","file_path":"./spec/models/open_banking/provider_spec.rb","line_number":114,"run_time":0.123072664,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/provider_spec.rb[1:5:3:3:3:1:1]","description":"does not have access","full_description":"OpenBanking::Provider bank feed provider availability #available_for_company? practice managed other whitelabel practices behaves like unpermitted whitelabel practice company does not have access","status":"passed","file_path":"./spec/models/open_banking/provider_spec.rb","line_number":128,"run_time":0.117841883,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/provider_spec.rb[1:5:3:3:3:1:2:1]","description":"does not have access","full_description":"OpenBanking::Provider bank feed provider availability #available_for_company? practice managed other whitelabel practices behaves like unpermitted whitelabel practice company access to bank feeds granted does not have access","status":"passed","file_path":"./spec/models/open_banking/provider_spec.rb","line_number":135,"run_time":0.113588051,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/provider_spec.rb[1:5:3:3:3:1:3:1]","description":"does not have access","full_description":"OpenBanking::Provider bank feed provider availability #available_for_company? practice managed other whitelabel practices behaves like unpermitted whitelabel practice company bank feed access is switched off does not have access","status":"passed","file_path":"./spec/models/open_banking/provider_spec.rb","line_number":145,"run_time":0.13295136,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/provider_spec.rb[1:6:1:1]","description":"has a default value of the empty string","full_description":"OpenBanking::Provider logging log_name has a default value of the empty string","status":"passed","file_path":"./spec/models/open_banking/provider_spec.rb","line_number":183,"run_time":0.007394032,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/provider_spec.rb[1:6:2:1]","description":"errors if the provided log name is over 99 characters","full_description":"OpenBanking::Provider logging log_name= errors if the provided log name is over 99 characters","status":"passed","file_path":"./spec/models/open_banking/provider_spec.rb","line_number":189,"run_time":0.012331587,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:1:44:3]","description":"deletes imported items with bank transactions imported by bank account","full_description":"Company::ForgetCompanyData Deleting all data for a VAT registered UK company with imported items deletes imported items with bank transactions imported by bank account","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":666,"run_time":1.120571662,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/two_factor_authentication_controller_spec.rb[1:1:1:1]","description":"redirects to the admin unauthorised path when the Admin User does not have permission","full_description":"Admin::TwoFactorAuthenticationController#disable for a company user with 2FA enabled redirects to the admin unauthorised path when the Admin User does not have permission","status":"passed","file_path":"./spec/controllers/admin/two_factor_authentication_controller_spec.rb","line_number":10,"run_time":0.054208221,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/two_factor_authentication_controller_spec.rb[1:1:1:4]","description":"raises an error if no person_type is provided","full_description":"Admin::TwoFactorAuthenticationController#disable for a company user with 2FA enabled raises an error if no person_type is provided","status":"passed","file_path":"./spec/controllers/admin/two_factor_authentication_controller_spec.rb","line_number":44,"run_time":0.033862439,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/two_factor_authentication_controller_spec.rb[1:1:1:2:1]","description":"disables two factor authentication for the company user and redirects to the company users tab","full_description":"Admin::TwoFactorAuthenticationController#disable for a company user with 2FA enabled when the Admin User has permission and the new_sudo_company_show_page feature disables two factor authentication for the company user and redirects to the company users tab","status":"passed","file_path":"./spec/controllers/admin/two_factor_authentication_controller_spec.rb","line_number":23,"run_time":0.053666545,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/two_factor_authentication_controller_spec.rb[1:1:1:3:1]","description":"disables two factor authentication for the company user and redirects to the company show page","full_description":"Admin::TwoFactorAuthenticationController#disable for a company user with 2FA enabled when the Admin User has permission and doesn't have the new_sudo_company_show_page feature disables two factor authentication for the company user and redirects to the company show page","status":"passed","file_path":"./spec/controllers/admin/two_factor_authentication_controller_spec.rb","line_number":35,"run_time":0.046763118,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/two_factor_authentication_controller_spec.rb[1:1:2:1]","description":"redirects to the admin unauthorised path when the Admin User does not have permission","full_description":"Admin::TwoFactorAuthenticationController#disable for an account manager with 2FA enabled redirects to the admin unauthorised path when the Admin User does not have permission","status":"passed","file_path":"./spec/controllers/admin/two_factor_authentication_controller_spec.rb","line_number":62,"run_time":0.065813273,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/two_factor_authentication_controller_spec.rb[1:1:2:2]","description":"disables two factor authentication for the account manager when the Admin User has permission","full_description":"Admin::TwoFactorAuthenticationController#disable for an account manager with 2FA enabled disables two factor authentication for the account manager when the Admin User has permission","status":"passed","file_path":"./spec/controllers/admin/two_factor_authentication_controller_spec.rb","line_number":68,"run_time":0.050183102,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/identifier_spec.rb[1:1:1:1:1]","description":"returns the company with a disengagement date calculated from the last accessed_date","full_description":"Disengagement::Identifier.prioritised_companies_disengaged_before RBSG channel company has previously accessed their account returns the company with a disengagement date calculated from the last accessed_date","status":"passed","file_path":"./spec/models/disengagement/identifier_spec.rb","line_number":35,"run_time":0.126452477,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/identifier_spec.rb[1:1:1:2:1]","description":"returns the company with a disengagement date calculated from the company created date","full_description":"Disengagement::Identifier.prioritised_companies_disengaged_before RBSG channel company has never accessed their account returns the company with a disengagement date calculated from the company created date","status":"passed","file_path":"./spec/models/disengagement/identifier_spec.rb","line_number":45,"run_time":0.108335136,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/identifier_spec.rb[1:1:1:3:1:1]","description":"returns the company with a disengagement date calculated from the last accessed_date","full_description":"Disengagement::Identifier.prioritised_companies_disengaged_before RBSG channel frontbook provisioned company company has previously accessed their account returns the company with a disengagement date calculated from the last accessed_date","status":"passed","file_path":"./spec/models/disengagement/identifier_spec.rb","line_number":65,"run_time":0.124325768,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/identifier_spec.rb[1:1:1:3:2:1]","description":"returns the company with a disengagement date calculated from the company created date","full_description":"Disengagement::Identifier.prioritised_companies_disengaged_before RBSG channel frontbook provisioned company company has never accessed their account returns the company with a disengagement date calculated from the company created date","status":"passed","file_path":"./spec/models/disengagement/identifier_spec.rb","line_number":75,"run_time":0.119918328,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/identifier_spec.rb[1:1:2:1]","description":"returns the company with a disengagement date calculated from the cancellation date","full_description":"Disengagement::Identifier.prioritised_companies_disengaged_before BCSG channel returns the company with a disengagement date calculated from the cancellation date","status":"passed","file_path":"./spec/models/disengagement/identifier_spec.rb","line_number":93,"run_time":0.10476573,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/identifier_spec.rb[1:1:3:1:1]","description":"returns the company with a disengagement date calculated from the cancellation date","full_description":"Disengagement::Identifier.prioritised_companies_disengaged_before Direct channels cancelled returns the company with a disengagement date calculated from the cancellation date","status":"passed","file_path":"./spec/models/disengagement/identifier_spec.rb","line_number":106,"run_time":0.084146055,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/identifier_spec.rb[1:1:3:2:1]","description":"returns the company with a disengagement date calculated from the next payment date","full_description":"Disengagement::Identifier.prioritised_companies_disengaged_before Direct channels suspended returns the company with a disengagement date calculated from the next payment date","status":"passed","file_path":"./spec/models/disengagement/identifier_spec.rb","line_number":118,"run_time":0.092960555,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/identifier_spec.rb[1:1:3:3:1]","description":"returns the company with a disengagement date calculated from the expiry date","full_description":"Disengagement::Identifier.prioritised_companies_disengaged_before Direct channels expired free trial returns the company with a disengagement date calculated from the expiry date","status":"passed","file_path":"./spec/models/disengagement/identifier_spec.rb","line_number":130,"run_time":0.086629766,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/identifier_spec.rb[1:2:1:1]","description":"is truthy","full_description":"Disengagement::Identifier.disengaged? RBSG company last login was beyond disengagement period is truthy","status":"passed","file_path":"./spec/models/disengagement/identifier_spec.rb","line_number":146,"run_time":0.166206701,"pending_message":null,"screenshot":null},{"id":"./spec/models/disengagement/identifier_spec.rb[1:2:2:1]","description":"is falsey","full_description":"Disengagement::Identifier.disengaged? RBSG company has logged in recently is falsey","status":"passed","file_path":"./spec/models/disengagement/identifier_spec.rb","line_number":154,"run_time":0.096254312,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[4:7]","description":"show sent invoice details in sidebar","full_description":"InvoicesController GET :show for uk company show sent invoice details in sidebar","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":581,"run_time":0.37676746,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/contact_account_balance_observer_spec.rb[1:1]","description":"does not recalculate when the change doesn't affect contact balances","full_description":"Accounting::ContactAccountBalanceObserver does not recalculate when the change doesn't affect contact balances","status":"passed","file_path":"./spec/models/accounting/contact_account_balance_observer_spec.rb","line_number":33,"run_time":0.127399772,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/contact_account_balance_observer_spec.rb[1:2]","description":"does not recalculate when the change doesn't affect a contact account","full_description":"Accounting::ContactAccountBalanceObserver does not recalculate when the change doesn't affect a contact account","status":"passed","file_path":"./spec/models/accounting/contact_account_balance_observer_spec.rb","line_number":40,"run_time":0.14706929,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/contact_account_balance_observer_spec.rb[1:3]","description":"does not recalculate when the change doesn't change a contact account balance","full_description":"Accounting::ContactAccountBalanceObserver does not recalculate when the change doesn't change a contact account balance","status":"passed","file_path":"./spec/models/accounting/contact_account_balance_observer_spec.rb","line_number":47,"run_time":0.161696171,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/contact_account_balance_observer_spec.rb[1:4]","description":"recalculates when the contact account balance changes","full_description":"Accounting::ContactAccountBalanceObserver recalculates when the contact account balance changes","status":"passed","file_path":"./spec/models/accounting/contact_account_balance_observer_spec.rb","line_number":54,"run_time":0.188738291,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/contact_account_balance_observer_spec.rb[1:5]","description":"runs the recalculation job for both contacts when their contact account balances change","full_description":"Accounting::ContactAccountBalanceObserver runs the recalculation job for both contacts when their contact account balances change","status":"passed","file_path":"./spec/models/accounting/contact_account_balance_observer_spec.rb","line_number":63,"run_time":0.253199848,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/contact_account_balance_observer_spec.rb[1:6]","description":"runs the recalculation job when the change is a currency gain","full_description":"Accounting::ContactAccountBalanceObserver runs the recalculation job when the change is a currency gain","status":"passed","file_path":"./spec/models/accounting/contact_account_balance_observer_spec.rb","line_number":75,"run_time":0.180146269,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoice_profile_items_controller/update_spec.rb[1:1:1]","description":"responds with as an unacceptable request","full_description":"RecurringInvoiceProfileItemsController PATCH #update with a valid recurring invoice profile item responds with as an unacceptable request","status":"passed","file_path":"./spec/controllers/recurring_invoice_profile_items_controller/update_spec.rb","line_number":39,"run_time":0.199010325,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoice_profile_items_controller/update_spec.rb[1:2:1]","description":"does not update the model","full_description":"RecurringInvoiceProfileItemsController PATCH #update with an invalid recurring invoice profile item does not update the model","status":"passed","file_path":"./spec/controllers/recurring_invoice_profile_items_controller/update_spec.rb","line_number":68,"run_time":0.137376011,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoice_profile_items_controller/update_spec.rb[1:3:1]","description":"sets the recurring invoice profile project to match items","full_description":"RecurringInvoiceProfileItemsController PATCH #update when all item have different project id from recurring invoice profile sets the recurring invoice profile project to match items","status":"passed","file_path":"./spec/controllers/recurring_invoice_profile_items_controller/update_spec.rb","line_number":101,"run_time":0.194562169,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoice_profile_items_controller/update_spec.rb[1:4:1]","description":"displays the labels in the correct language","full_description":"RecurringInvoiceProfileItemsController PATCH #update when the contact is in a non-uk locale displays the labels in the correct language","status":"passed","file_path":"./spec/controllers/recurring_invoice_profile_items_controller/update_spec.rb","line_number":123,"run_time":0.165897259,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/recurring_invoice_profile_items_controller/update_spec.rb[1:5:1]","description":"responds with as an unacceptable request","full_description":"RecurringInvoiceProfileItemsController PATCH #update when requesting html responds with as an unacceptable request","status":"passed","file_path":"./spec/controllers/recurring_invoice_profile_items_controller/update_spec.rb","line_number":146,"run_time":0.111909564,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:1:1:2:7:2]","description":"representing admin expenses","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the cash accounting basis not on the Flat Rate Scheme Bank Account Entries for the payment of a bill representing admin expenses","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":2458,"run_time":0.896589993,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:2:2:1:1:2]","description":"which has been sent","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the invoice accounting basis on the Flat Rate Scheme (at 5%) Invoices Given a native currency invoice with 3 line items in 2 categories which has been sent","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":4252,"run_time":0.788221436,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[13:1]","description":"does not show the body, subject or comments field in the logs","full_description":"InvoicesController POST create does not show the body, subject or comments field in the logs","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":1286,"run_time":0.29201439,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/account_manager_metrics_spec.rb[1:1:1]","description":"it should write a csv file in the expected location","full_description":"Metrics::AccountManagerMetrics#write_csv it should write a csv file in the expected location","status":"passed","file_path":"./spec/models/metrics/account_manager_metrics_spec.rb","line_number":15,"run_time":0.110787907,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/account_manager_metrics_spec.rb[1:1:2]","description":"should have the expected header","full_description":"Metrics::AccountManagerMetrics#write_csv should have the expected header","status":"passed","file_path":"./spec/models/metrics/account_manager_metrics_spec.rb","line_number":19,"run_time":0.11457143,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/account_manager_metrics_spec.rb[1:1:3]","description":"should have snapshot at Time.now","full_description":"Metrics::AccountManagerMetrics#write_csv should have snapshot at Time.now","status":"passed","file_path":"./spec/models/metrics/account_manager_metrics_spec.rb","line_number":32,"run_time":0.106610417,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/account_manager_metrics_spec.rb[1:1:4]","description":"should have the correct number of rows","full_description":"Metrics::AccountManagerMetrics#write_csv should have the correct number of rows","status":"passed","file_path":"./spec/models/metrics/account_manager_metrics_spec.rb","line_number":36,"run_time":0.111386531,"pending_message":null,"screenshot":null},{"id":"./spec/models/metrics/account_manager_metrics_spec.rb[1:1:5]","description":"should have the expected field","full_description":"Metrics::AccountManagerMetrics#write_csv should have the expected field","status":"passed","file_path":"./spec/models/metrics/account_manager_metrics_spec.rb","line_number":40,"run_time":0.10978914,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/journal_sets_controller_spec.rb[1:1:1]","description":"returns the journal sets","full_description":"Api::JournalSetsController#index returns the journal sets","status":"passed","file_path":"./spec/controllers/api/journal_sets_controller_spec.rb","line_number":18,"run_time":0.328637779,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/journal_sets_controller_spec.rb[1:2:1]","description":"returns the opening balances","full_description":"Api::JournalSetsController#opening_balances returns the opening balances","status":"passed","file_path":"./spec/controllers/api/journal_sets_controller_spec.rb","line_number":36,"run_time":0.280112089,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/journal_sets_controller_spec.rb[1:3:1]","description":"returns the correct error message when dated_on is added","full_description":"Api::JournalSetsController PUT :update opening balances returns the correct error message when dated_on is added","status":"passed","file_path":"./spec/controllers/api/journal_sets_controller_spec.rb","line_number":54,"run_time":0.282219783,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/journal_sets_controller_spec.rb[1:3:2]","description":"returns the correct error message when description is changed","full_description":"Api::JournalSetsController PUT :update opening balances returns the correct error message when description is changed","status":"passed","file_path":"./spec/controllers/api/journal_sets_controller_spec.rb","line_number":70,"run_time":0.300404483,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/journal_sets_controller_spec.rb[1:3:3]","description":"allow update when neither dated_on and description changed","full_description":"Api::JournalSetsController PUT :update opening balances allow update when neither dated_on and description changed","status":"passed","file_path":"./spec/controllers/api/journal_sets_controller_spec.rb","line_number":86,"run_time":0.165785018,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/contact_account_balances_check_spec.rb[1:1]","description":"is expected not to have a failure on #\u003cContact id: 1051239496, company_id: 895397833, organisation_name: \"Sell Fridges\", first_name: nil, ...s_payment_reminders: false, emails_thank_you_notes: false, uses_contact_level_email_settings: false\u003e","full_description":"ContactAccountBalancesCheck is expected not to have a failure on #\u003cContact id: 1051239496, company_id: 895397833, organisation_name: \"Sell Fridges\", first_name: nil, ...s_payment_reminders: false, emails_thank_you_notes: false, uses_contact_level_email_settings: false\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/contact_account_balances_check_spec.rb","line_number":14,"run_time":0.171405625,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/contact_account_balances_check_spec.rb[1:2:1]","description":"is expected to have a failure on #\u003cContact id: 1051239497, company_id: 895397833, organisation_name: \"Sell Fridges\", first_name: nil, ...s_payment_reminders: false, emails_thank_you_notes: false, uses_contact_level_email_settings: false\u003e","full_description":"ContactAccountBalancesCheck with an incorrect contact balance is expected to have a failure on #\u003cContact id: 1051239497, company_id: 895397833, organisation_name: \"Sell Fridges\", first_name: nil, ...s_payment_reminders: false, emails_thank_you_notes: false, uses_contact_level_email_settings: false\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/contact_account_balances_check_spec.rb","line_number":21,"run_time":0.195947556,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/contact_account_balances_check_spec.rb[1:2:2]","description":"is expected to have a failure like /has an incorrect account balance/","full_description":"ContactAccountBalancesCheck with an incorrect contact balance is expected to have a failure like /has an incorrect account balance/","status":"passed","file_path":"./spec/models/health_robinson/check/contact_account_balances_check_spec.rb","line_number":23,"run_time":0.193104961,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[28:1:2:10:3:1]","description":"shows the failure","full_description":"InvoicesController Viewing the online payment status of a newly created invoice Viewing the online payment status of a newly created invoice that is payable online with stripe payments that has a transfer failed Stripe payment shows the failure","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":2784,"run_time":0.408204379,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_data/all_company_data/corporation_tax_returns_spec.rb[1:1]","description":"has no nested data","full_description":"Exporter::ExportableData::AllCompanyData::CorporationTaxReturns has no nested data","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_data/all_company_data/corporation_tax_returns_spec.rb","line_number":9,"run_time":0.059457593,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_data/all_company_data/corporation_tax_returns_spec.rb[1:2]","description":"returns the correct exportable type","full_description":"Exporter::ExportableData::AllCompanyData::CorporationTaxReturns returns the correct exportable type","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_data/all_company_data/corporation_tax_returns_spec.rb","line_number":13,"run_time":0.060713264,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_data/all_company_data/corporation_tax_returns_spec.rb[1:3]","description":"operates on company's corporation tax returns","full_description":"Exporter::ExportableData::AllCompanyData::CorporationTaxReturns operates on company's corporation tax returns","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_data/all_company_data/corporation_tax_returns_spec.rb","line_number":17,"run_time":0.060891193,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_eligibility/user_spec.rb[1:1:1:1]","description":"is expected not to be eligible","full_description":"OpenBanking::PreAssessedLimitEligibility::User#available_for_user permission too low is expected not to be eligible","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_eligibility/user_spec.rb","line_number":11,"run_time":0.091671551,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/pre_assessed_limit_eligibility/user_spec.rb[1:1:2:1]","description":"is expected to be eligible","full_description":"OpenBanking::PreAssessedLimitEligibility::User#available_for_user sufficient permission is expected to be eligible","status":"passed","file_path":"./spec/models/open_banking/pre_assessed_limit_eligibility/user_spec.rb","line_number":18,"run_time":0.094465568,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:13]","description":"allows to create an invoice with reference used in another company","full_description":"Invoice allows to create an invoice with reference used in another company","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":173,"run_time":0.157500279,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:96:2]","description":"orders by id with identical dated_on values","full_description":"Invoice.latest scope orders by id with identical dated_on values","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":2838,"run_time":0.159387089,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:98:6]","description":"an already created pre trading invoice that is then marked as sent should be invalid","full_description":"Invoice Invoices dated before trading starts an already created pre trading invoice that is then marked as sent should be invalid","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":2957,"run_time":0.150993043,"pending_message":null,"screenshot":null},{"id":"./spec/policies/settings/practice_transfer_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Settings::PracticeTransferPolicy a user with permission level FULL_ACCESS is expected to equal false","status":"passed","file_path":"./spec/policies/settings/practice_transfer_policy_spec.rb","line_number":13,"run_time":0.006139679,"pending_message":null,"screenshot":null},{"id":"./spec/policies/settings/practice_transfer_policy_spec.rb[1:2:1]","description":"is expected to equal false","full_description":"Settings::PracticeTransferPolicy an account owner with permission level below FULL_ACCESS is expected to equal false","status":"passed","file_path":"./spec/policies/settings/practice_transfer_policy_spec.rb","line_number":24,"run_time":0.012358318,"pending_message":null,"screenshot":null},{"id":"./spec/policies/settings/practice_transfer_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Settings::PracticeTransferPolicy an account owner with permission level FULL_ACCESS is expected to equal true","status":"passed","file_path":"./spec/policies/settings/practice_transfer_policy_spec.rb","line_number":33,"run_time":0.00522999,"pending_message":null,"screenshot":null},{"id":"./spec/policies/settings/practice_transfer_policy_spec.rb[1:4:1]","description":"is expected to equal false","full_description":"Settings::PracticeTransferPolicy an account manager is expected to equal false","status":"passed","file_path":"./spec/policies/settings/practice_transfer_policy_spec.rb","line_number":42,"run_time":0.128642866,"pending_message":null,"screenshot":null},{"id":"./spec/models/contacts_spec.rb[1:2]","description":"import_from_outlook","full_description":"Contacts import_from_outlook","status":"passed","file_path":"./spec/models/contacts_spec.rb","line_number":46,"run_time":0.006157472,"pending_message":null,"screenshot":null},{"id":"./spec/models/contacts_spec.rb[1:3]","description":"import_from_kashflow","full_description":"Contacts import_from_kashflow","status":"passed","file_path":"./spec/models/contacts_spec.rb","line_number":67,"run_time":0.003232229,"pending_message":null,"screenshot":null},{"id":"./spec/models/contacts_spec.rb[1:4]","description":"import_from_vcard","full_description":"Contacts import_from_vcard","status":"passed","file_path":"./spec/models/contacts_spec.rb","line_number":87,"run_time":0.005986638,"pending_message":null,"screenshot":null},{"id":"./spec/models/contacts_spec.rb[1:5]","description":"import_from_freshbooks","full_description":"Contacts import_from_freshbooks","status":"passed","file_path":"./spec/models/contacts_spec.rb","line_number":106,"run_time":0.007344983,"pending_message":null,"screenshot":null},{"id":"./spec/models/contacts_spec.rb[1:6]","description":"import_from_highrise","full_description":"Contacts import_from_highrise","status":"passed","file_path":"./spec/models/contacts_spec.rb","line_number":122,"run_time":0.118156568,"pending_message":null,"screenshot":null},{"id":"./spec/models/contacts_spec.rb[1:1:1]","description":"handles export to gmail","full_description":"Contacts Import from Gmail handles export to gmail","status":"passed","file_path":"./spec/models/contacts_spec.rb","line_number":5,"run_time":0.003887742,"pending_message":null,"screenshot":null},{"id":"./spec/models/contacts_spec.rb[1:1:2]","description":"handles export to outlook","full_description":"Contacts Import from Gmail handles export to outlook","status":"passed","file_path":"./spec/models/contacts_spec.rb","line_number":25,"run_time":0.003698771,"pending_message":null,"screenshot":null},{"id":"./spec/models/contacts_spec.rb[1:7:1]","description":"imports correctly","full_description":"Contacts A vCard containing ENCODING=QUOTED-PRINTABLE data imports correctly","status":"passed","file_path":"./spec/models/contacts_spec.rb","line_number":152,"run_time":0.003717827,"pending_message":null,"screenshot":null},{"id":"./spec/models/contacts_spec.rb[1:8:1]","description":"imports correctly","full_description":"Contacts A vCard containing photographs imports correctly","status":"passed","file_path":"./spec/models/contacts_spec.rb","line_number":171,"run_time":0.004467275,"pending_message":null,"screenshot":null},{"id":"./spec/models/contacts_spec.rb[1:9:1]","description":"imports correctly","full_description":"Contacts A vCard exported from GMail with UTF-8 imports correctly","status":"passed","file_path":"./spec/models/contacts_spec.rb","line_number":186,"run_time":0.006733552,"pending_message":null,"screenshot":null},{"id":"./spec/policies/rbsg/funding_switch_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Rbsg::FundingSwitchPolicy a user with permission level below FULL_ACCESS is expected to equal false","status":"passed","file_path":"./spec/policies/rbsg/funding_switch_policy_spec.rb","line_number":14,"run_time":0.007516084,"pending_message":null,"screenshot":null},{"id":"./spec/policies/rbsg/funding_switch_policy_spec.rb[1:2:1:1]","description":"is expected to equal false","full_description":"Rbsg::FundingSwitchPolicy a user with permission level FULL_ACCESS regular user is expected to equal false","status":"passed","file_path":"./spec/policies/rbsg/funding_switch_policy_spec.rb","line_number":25,"run_time":0.006682956,"pending_message":null,"screenshot":null},{"id":"./spec/policies/rbsg/funding_switch_policy_spec.rb[1:2:2:1]","description":"is expected to equal true","full_description":"Rbsg::FundingSwitchPolicy a user with permission level FULL_ACCESS account owner is expected to equal true","status":"passed","file_path":"./spec/policies/rbsg/funding_switch_policy_spec.rb","line_number":34,"run_time":0.124899237,"pending_message":null,"screenshot":null},{"id":"./spec/policies/rbsg/funding_switch_policy_spec.rb[1:3:1]","description":"is expected to equal false","full_description":"Rbsg::FundingSwitchPolicy an account manager is expected to equal false","status":"passed","file_path":"./spec/policies/rbsg/funding_switch_policy_spec.rb","line_number":45,"run_time":0.050613606,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_2000_plus.feature[1:1:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset 2000 plus -\u003e Given VAT settings: Not registered -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets worth £2000 and over No VAT Given a uk sole trader -\u003e And a bill: capital asset 2000 plus -\u003e Given VAT settings: Not registered -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_2000_plus.feature","line_number":15,"run_time":0.039774963,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_2000_plus.feature[1:2:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset 2000 plus -\u003e Given VAT settings: Not registered, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets worth £2000 and over Pre-registration, reclaim VAT on registration Given a uk sole trader -\u003e And a bill: capital asset 2000 plus -\u003e Given VAT settings: Not registered, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_2000_plus.feature","line_number":40,"run_time":0.027422109,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_2000_plus.feature[1:3:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset 2000 plus -\u003e Given VAT settings: Not registered, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets worth £2000 and over Pre-registration, reclaim VAT on registration Given a uk sole trader -\u003e And a bill: capital asset 2000 plus -\u003e Given VAT settings: Not registered, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_2000_plus.feature","line_number":40,"run_time":0.025338286,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_2000_plus.feature[1:4:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset 2000 plus -\u003e Given VAT settings: Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets worth £2000 and over Reclaimed VAT on bill date Given a uk sole trader -\u003e And a bill: capital asset 2000 plus -\u003e Given VAT settings: Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_2000_plus.feature","line_number":79,"run_time":0.021355545,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_2000_plus.feature[1:5:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset 2000 plus -\u003e Given a uk sole trader -\u003e And VAT settings: Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets worth £2000 and over Deferred VAT on bill date, reclaimed on payment date Given a uk sole trader -\u003e And a bill: capital asset 2000 plus -\u003e Given a uk sole trader -\u003e And VAT settings: Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_2000_plus.feature","line_number":116,"run_time":0.02275386,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_2000_plus.feature[1:6:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset 2000 plus -\u003e Given VAT settings: Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets worth £2000 and over Reclaimed VAT on bill date for capital asset Given a uk sole trader -\u003e And a bill: capital asset 2000 plus -\u003e Given VAT settings: Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_2000_plus.feature","line_number":157,"run_time":0.018736398,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_2000_plus.feature[1:7:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset 2000 plus -\u003e Given a uk sole trader -\u003e And VAT settings: Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets worth £2000 and over Deferred VAT on bill date for capital asset, reclaimed on payment date Given a uk sole trader -\u003e And a bill: capital asset 2000 plus -\u003e Given a uk sole trader -\u003e And VAT settings: Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_2000_plus.feature","line_number":188,"run_time":0.020395644,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[15:1:1]","description":"does not display a flash message","full_description":"InvoicesController PUT :update PUT :update for an invoice that is marked as draft does not display a flash message","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":1826,"run_time":0.167757391,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[30:1:1]","description":"updates the written off date","full_description":"InvoicesController POST :change_writeoff_date with valid parameters updates the written off date","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":3189,"run_time":0.175778998,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/timeslips_controller/show_spec.rb[1:1:1]","description":"renders a 404","full_description":"TimeslipsController#show with html format renders a 404","status":"passed","file_path":"./spec/controllers/timeslips_controller/show_spec.rb","line_number":18,"run_time":0.116044447,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/timeslips_controller/show_spec.rb[1:2:1]","description":"displays the timeslips on the page","full_description":"TimeslipsController#show with turbo_stream format displays the timeslips on the page","status":"passed","file_path":"./spec/controllers/timeslips_controller/show_spec.rb","line_number":27,"run_time":0.050203945,"pending_message":null,"screenshot":null}],"summary":{"duration":2.047134908,"example_count":369,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"369 examples, 0 failures"}