{"version":"3.11.0","messages":["Run options: exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:1:1]","description":"responds with an array of expenses with standard expense fields","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level with 3 expenses responds with an array of expenses with standard expense fields","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":125,"run_time":0.703812546,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:2:1]","description":"should nest the project object","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level with nesting should nest the project object","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":143,"run_time":0.171404865,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:3:1:1]","description":"responds with an array of expenses and no link header","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level pagination with less entries then the default items per page responds with an array of expenses and no link header","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":156,"run_time":0.176701768,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:3:2:1:1]","description":"responds with an array of expenses and a link header","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level pagination with more entries then the default items per page on the first page responds with an array of expenses and a link header","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":173,"run_time":0.209190914,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:3:2:2:1]","description":"responds with an array of expenses and the Link Header","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level pagination with more entries then the default items per page on the last page responds with an array of expenses and the Link Header","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":187,"run_time":0.178829439,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:4:1:1:1:1]","description":"responds with an array of expenses","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level filter by view valid filter all responds with an array of expenses","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":212,"run_time":0.147596484,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:4:1:1:2:1]","description":"responds with an array of expenses","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level filter by view valid filter recent responds with an array of expenses","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":230,"run_time":0.193062923,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:4:1:1:3:1]","description":"responds with an array of expenses","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level filter by view valid filter recurring responds with an array of expenses","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":248,"run_time":0.161392331,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:4:1:2:1]","description":"is expected to respond with status code :bad_request (400)","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level filter by view invalid filter is expected to respond with status code :bad_request (400)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":264,"run_time":0.068467956,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:4:2:1:1:1]","description":"responds with an array of expenses","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level filter by date valid date from_date responds with an array of expenses","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":282,"run_time":0.201244683,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:4:2:1:2:1]","description":"responds with an array of expenses","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level filter by date valid date to_date responds with an array of expenses","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":294,"run_time":0.188251849,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:4:2:1:3:1]","description":"responds with an array of expenses","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level filter by date valid date from_date_to_date responds with an array of expenses","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":306,"run_time":0.190012996,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:4:2:1:4:1]","description":"responds with an array of expenses","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level filter by date valid date updated_since responds with an array of expenses","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":318,"run_time":0.177111614,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:4:2:2:1]","description":"is expected to respond with status code :bad_request (400)","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level filter by date invalid date is expected to respond with status code :bad_request (400)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":331,"run_time":0.053266937,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:4:3:1]","description":"does not return other user's expenses","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level filter by user does not return other user's expenses","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":341,"run_time":0.113331454,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:4:4:1:1]","description":"responds with invoices only for the specified project","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level filter by project when filtering by the first project responds with invoices only for the specified project","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":364,"run_time":0.18647672,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:1:4:4:2:1]","description":"responds with invoices only for the specified project","full_description":"Api::ExpenseIntegration GET /expenses with the MY_MONEY permission_level filter by project when filtering by the second project responds with invoices only for the specified project","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":376,"run_time":0.224571992,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:2:1]","description":"by default","full_description":"Api::ExpenseIntegration GET /expenses with the TAX_AND_LIMITED_ACCOUNTING permission_level by default","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":390,"run_time":0.187611983,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:2:2]","description":"when filtering by a user","full_description":"Api::ExpenseIntegration GET /expenses with the TAX_AND_LIMITED_ACCOUNTING permission_level when filtering by a user","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":408,"run_time":0.21573573,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:1:3:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::ExpenseIntegration GET /expenses without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":427,"run_time":0.063145526,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:2:1:1:1]","description":"returns settings based on expense defaults","full_description":"Api::ExpenseIntegration GET /expenses/new for a UK company with the right permission_level and no existing expense returns settings based on expense defaults","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":444,"run_time":0.097627439,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:2:1:1:2:1:1]","description":"sets the description to the attachment file name","full_description":"Api::ExpenseIntegration GET /expenses/new for a UK company with the right permission_level and no existing expense with a file as the FA mobile app for a document with text extraction disabled sets the description to the attachment file name","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":465,"run_time":0.198574265,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:2:1:1:2:2:1]","description":"sets the description to the attachment file name and has extracted data fields","full_description":"Api::ExpenseIntegration GET /expenses/new for a UK company with the right permission_level and no existing expense with a file as the FA mobile app for a document with text extraction enabled sets the description to the attachment file name and has extracted data fields","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":478,"run_time":0.360403087,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:2:1:1:2:3:1]","description":"responds with a file not found error message","full_description":"Api::ExpenseIntegration GET /expenses/new for a UK company with the right permission_level and no existing expense with a file as the FA mobile app for an unscoped document responds with a file not found error message","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":502,"run_time":0.569280305,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:2:1:1:3:1]","description":"ignores the file and does not set the description","full_description":"Api::ExpenseIntegration GET /expenses/new for a UK company with the right permission_level and no existing expense with a file as a non-FA API integration ignores the file and does not set the description","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":513,"run_time":0.286079748,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:2:1:2:1]","description":"returns settings based on latest expense","full_description":"Api::ExpenseIntegration GET /expenses/new for a UK company with the right permission_level and an existing expense returns settings based on latest expense","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":528,"run_time":0.117437825,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:2:1:2:2:1]","description":"returns a new expense with auto sales tax","full_description":"Api::ExpenseIntegration GET /expenses/new for a UK company with the right permission_level and an existing expense with a manual sales tax amount returns a new expense with auto sales tax","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":550,"run_time":0.142346977,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:2:1:2:3:1:1]","description":"sets the description to the attachment file name","full_description":"Api::ExpenseIntegration GET /expenses/new for a UK company with the right permission_level and an existing expense with a file as the FA mobile app for a document with text extraction disabled sets the description to the attachment file name","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":566,"run_time":0.212691435,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:2:1:2:3:2:1]","description":"sets the description to the attachment file name","full_description":"Api::ExpenseIntegration GET /expenses/new for a UK company with the right permission_level and an existing expense with a file as the FA mobile app for a document with text extraction enabled sets the description to the attachment file name","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":582,"run_time":0.39850704,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:2:1:2:3:3:1]","description":"responds with a file not found error message","full_description":"Api::ExpenseIntegration GET /expenses/new for a UK company with the right permission_level and an existing expense with a file as the FA mobile app for an unscoped document responds with a file not found error message","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":604,"run_time":0.250362942,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:2:1:2:4:1]","description":"ignores the file and does not set the description","full_description":"Api::ExpenseIntegration GET /expenses/new for a UK company with the right permission_level and an existing expense with a file as a non-FA API integration ignores the file and does not set the description","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":615,"run_time":0.202488048,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:2:2:1:1]","description":"correctly returns the default admin expense category","full_description":"Api::ExpenseIntegration GET /expenses/new for a Universal company with right permission_level and not registered for sales tax correctly returns the default admin expense category","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":632,"run_time":0.193100424,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:2:2:2:1]","description":"returns sales tax rate defaults in the period containing expense date","full_description":"Api::ExpenseIntegration GET /expenses/new for a Universal company with right permission_level and registered for sales tax returns sales tax rate defaults in the period containing expense date","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":644,"run_time":0.149330946,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:2:3:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::ExpenseIntegration GET /expenses/new without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":656,"run_time":0.066993102,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:3:1:1]","description":"sets the vehicle_type to Car if no previous mileage exists","full_description":"Api::ExpenseIntegration GET /expenses/new?type=Mileage with the right permission_level sets the vehicle_type to Car if no previous mileage exists","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":668,"run_time":0.185931883,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:3:1:2]","description":"shows latest mileage settings","full_description":"Api::ExpenseIntegration GET /expenses/new?type=Mileage with the right permission_level shows latest mileage settings","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":675,"run_time":0.111601048,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:3:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::ExpenseIntegration GET /expenses/new?type=Mileage without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":703,"run_time":0.052688146,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:4:1:1:1]","description":"responds with the standard expense fields","full_description":"Api::ExpenseIntegration GET /expenses/expense_id with the right permission_level with valid expense_id responds with the standard expense fields","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":718,"run_time":0.114497121,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:4:1:2:1]","description":"is expected to respond with a missing status code (404)","full_description":"Api::ExpenseIntegration GET /expenses/expense_id with the right permission_level with invalid expense_id is expected to respond with a missing status code (404)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":729,"run_time":0.066714709,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:4:1:3:1]","description":"includes the sales tax attributes","full_description":"Api::ExpenseIntegration GET /expenses/expense_id with the right permission_level for an expense linked to a non UK contact involving sales tax includes the sales tax attributes","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":740,"run_time":0.128677161,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:4:1:4:1]","description":"includes the sales tax attributes and not sales_tax_rate","full_description":"Api::ExpenseIntegration GET /expenses/expense_id with the right permission_level for an foreign currency expense linked to a non UK contact involving sales tax includes the sales tax attributes and not sales_tax_rate","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":763,"run_time":0.126074323,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:4:1:5:1]","description":"translates the sales tax status attributes into the API format","full_description":"Api::ExpenseIntegration GET /expenses/expense_id with the right permission_level sales tax status translates the sales tax status attributes into the API format","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":795,"run_time":0.182683355,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:4:1:6:1]","description":"translates the sales tax status attributes into the API format","full_description":"Api::ExpenseIntegration GET /expenses/expense_id with the right permission_level second sales tax status translates the sales tax status attributes into the API format","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":823,"run_time":0.167078042,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:4:2:1:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::ExpenseIntegration GET /expenses/expense_id without the right permission_level with valid expense_id is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":838,"run_time":0.1416639,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:1:1]","description":"returns an error on the expense type","full_description":"Api::ExpenseIntegration POST /expenses when an expense with a category of Capital Account (901) is passed returns an error on the expense type","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":870,"run_time":0.084678231,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:1:1:1]","description":"creates an audit entry","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level audit trail with a single expense creates an audit entry","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":880,"run_time":0.144447548,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:1:2:1]","description":"creates audit entries","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level audit trail with multiple expenses creates audit entries","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":901,"run_time":0.163090165,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:2:1:1]","description":"has created an expense record for the current company","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level setting attachment from new attachment upload (attachment) has created an expense record for the current company","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":939,"run_time":0.163291921,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:2:2:1:1]","description":"has created a new expense record for the current company","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level setting attachment from existing file attachment as the FA mobile app for a shared file has created a new expense record for the current company","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":965,"run_time":0.388700056,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:2:2:2:1]","description":"has created a new expense record for the current company","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level setting attachment from existing file attachment as the FA mobile app for a personal file owned by the current user has created a new expense record for the current company","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":983,"run_time":0.26741714,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:2:2:3:1]","description":"responds with a file not found error message","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level setting attachment from existing file attachment as the FA mobile app for a personal file owned by another user responds with a file not found error message","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1004,"run_time":0.218059001,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:2:2:4:1]","description":"responds with an error message","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level setting attachment from existing file attachment as the FA mobile app for a locked file responds with an error message","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1021,"run_time":0.193008972,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:2:3:1]","description":"does not create a new expense record","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level setting attachment when passing both attachment and file as the FA mobile app does not create a new expense record","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1043,"run_time":0.177306594,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:2:4:1]","description":"ignores file and does not attach file to expense","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level setting attachment from existing file attachment as a non-FA API integration ignores file and does not attach file to expense","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1061,"run_time":0.247150412,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:3:1:1]","description":"has created two new expenses","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level multiple file expenses as the FA mobile app from two shared files has created two new expenses","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1086,"run_time":0.387435013,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:3:2:1]","description":"responds with a file not found error message","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level multiple file expenses as the FA mobile app from a shared file and a restricted file responds with a file not found error message","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1116,"run_time":0.857416437,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:4:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with user on another company is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1129,"run_time":0.160501805,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:5:1:1]","description":"creates the expense successfully with MY_MONEY permission_level","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level without a user present with the MY_MONEY permission level creates the expense successfully with MY_MONEY permission_level","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1140,"run_time":0.145130177,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:5:2:1]","description":"explains that the user attribute is missing with TAX_AND_LIMITED_ACCOUNTING permission_level","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level without a user present with the TAX_AND_LIMITED_ACCOUNTING permission level explains that the user attribute is missing with TAX_AND_LIMITED_ACCOUNTING permission_level","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1149,"run_time":0.088186756,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:6:1]","description":"has created an expense record for the current company","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with valid attributes and no attachment has created an expense record for the current company","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1165,"run_time":0.158165919,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:6:2]","description":"publishes the EXPENSE_CREATED event","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with valid attributes and no attachment publishes the EXPENSE_CREATED event","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1174,"run_time":0.155244518,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:7:1]","description":"sets the manual_sales_tax_amount with valid attributes ","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with valid attributes and a manual_sales_tax_amount specified sets the manual_sales_tax_amount with valid attributes ","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1190,"run_time":0.135369919,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:7:2]","description":"sets the sales_tax_rate with valid attributes ","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with valid attributes and a manual_sales_tax_amount specified sets the sales_tax_rate with valid attributes ","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1194,"run_time":0.15972974,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:8:1]","description":"sets the sales_tax_rate, calculated from the manual sales tax amount","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with both a manual_sales_tax_amount and sales_tax_rate specified sets the sales_tax_rate, calculated from the manual sales tax amount","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1210,"run_time":0.165187909,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:9:1]","description":"sets the sales_tax_rate automatically","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level and the sales_tax_rate set to AUTO sets the sales_tax_rate automatically","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1223,"run_time":0.130699801,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:10:1]","description":"sets the sales_tax_rate to out of scope","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with the sales_tax_status set to OUT_OF_SCOPE sets the sales_tax_rate to out of scope","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1235,"run_time":0.125484799,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:11:1]","description":"sets the second_sales_tax_rate to out of scope","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with the second_sales_tax_status set to OUT_OF_SCOPE sets the second_sales_tax_rate to out of scope","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1247,"run_time":0.157235605,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:12:1]","description":"has created an expense record for the current company that recurs","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with valid recurring attributes and no attachment has created an expense record for the current company that recurs","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1265,"run_time":0.137729107,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:13:1]","description":"has created an expense record for the current company","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with valid attributes for a foreign currency expense has created an expense record for the current company","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1293,"run_time":0.143706864,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:13:2]","description":"publishes the FOREIGN_CURRENCY_EXPENSE_CREATED event","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with valid attributes for a foreign currency expense publishes the FOREIGN_CURRENCY_EXPENSE_CREATED event","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1314,"run_time":0.141363511,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:14:1:1]","description":"has the same number of expenses after posting attempt","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with invalid attributes dated_on has the same number of expenses after posting attempt","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1328,"run_time":0.097870769,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:14:2:1]","description":"returns a sensible error message","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with invalid attributes unused category code returns a sensible error message","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1341,"run_time":0.078170126,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:1:1:1]","description":"creates an expense with the correct ec_status","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to Non-EC (value as \"Non-EC\") creates an expense with the correct ec_status","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1350,"run_time":0.126538862,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:1:2:1]","description":"creates an expense with the correct ec_status","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to Non-EC (value as \"0\") creates an expense with the correct ec_status","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1350,"run_time":0.143331394,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:2:1:1:1]","description":"creates an expense with the correct ec_status","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to EC Services (value as \"EC Services\") when the company is in the EU on the record date creates an expense with the correct ec_status","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1350,"run_time":0.15689764,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:2:1:2:1:1]","description":"creates an expense with the correct ec_status","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to EC Services (value as \"EC Services\") when the company is not in the EU on the record date when the company has a NI postcode creates an expense with the correct ec_status","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1350,"run_time":0.137214192,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:2:1:2:2:1]","description":"creates an expense with the correct ec_status","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to EC Services (value as \"EC Services\") when the company is not in the EU on the record date when the company does not have a NI postcode creates an expense with the correct ec_status","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1350,"run_time":0.144743677,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:2:2:1:1]","description":"creates an expense with the correct ec_status","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to EC Services (value as \"1\") when the company is in the EU on the record date creates an expense with the correct ec_status","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1350,"run_time":0.133100422,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:2:2:2:1:1]","description":"creates an expense with the correct ec_status","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to EC Services (value as \"1\") when the company is not in the EU on the record date when the company has a NI postcode creates an expense with the correct ec_status","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1350,"run_time":0.132423865,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:2:2:2:2:1]","description":"creates an expense with the correct ec_status","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to EC Services (value as \"1\") when the company is not in the EU on the record date when the company does not have a NI postcode creates an expense with the correct ec_status","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1350,"run_time":0.148928411,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:3:1:1]","description":"creates an expense with the correct ec_status","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to EC Goods (value as \"EC Goods\") creates an expense with the correct ec_status","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1350,"run_time":0.120683079,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:3:2:1]","description":"creates an expense with the correct ec_status","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to EC Goods (value as \"2\") creates an expense with the correct ec_status","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1350,"run_time":0.120680052,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:4:1:1:1]","description":"is expected to respond with status code :bad_request (400)","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to EC VAT MOSS (value as \"EC VAT MOSS\") with a place of supply is expected to respond with status code :bad_request (400)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1437,"run_time":0.054151358,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:4:1:2:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to EC VAT MOSS (value as \"EC VAT MOSS\") without a place of supply is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1441,"run_time":0.071172434,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:4:2:1:1]","description":"is expected to respond with status code :bad_request (400)","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to EC VAT MOSS (value as \"3\") with a place of supply is expected to respond with status code :bad_request (400)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1437,"run_time":0.053210665,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:4:2:2:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to EC VAT MOSS (value as \"3\") without a place of supply is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1441,"run_time":0.070881672,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:5:1:1:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to Reverse Charge (value as \"Reverse Charge\") when the company is in the EU on the record date is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1455,"run_time":0.07913691,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:5:1:2:1:1]","description":"creates an expense with the correct ec_status","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to Reverse Charge (value as \"Reverse Charge\") when the company is not in the EU on the record date when the company has a NI postcode creates an expense with the correct ec_status","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1350,"run_time":0.156817916,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:5:1:2:2:1]","description":"creates an expense with the correct ec_status","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to Reverse Charge (value as \"Reverse Charge\") when the company is not in the EU on the record date when the company does not have a NI postcode creates an expense with the correct ec_status","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1350,"run_time":0.144736569,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:5:2:1:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to Reverse Charge (value as \"4\") when the company is in the EU on the record date is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1455,"run_time":0.080033294,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:5:2:2:1:1]","description":"creates an expense with the correct ec_status","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to Reverse Charge (value as \"4\") when the company is not in the EU on the record date when the company has a NI postcode creates an expense with the correct ec_status","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1350,"run_time":0.165065499,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:5:2:2:2:1]","description":"creates an expense with the correct ec_status","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to Reverse Charge (value as \"4\") when the company is not in the EU on the record date when the company does not have a NI postcode creates an expense with the correct ec_status","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1350,"run_time":0.133678665,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:15:6:1]","description":"is expected to respond with status code :unprocessable_entity (422)","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with ec_status set to an invalid value is expected to respond with status code :unprocessable_entity (422)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1478,"run_time":0.083009043,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:16:1]","description":"returns error message","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with neither expense nor expenses attributes returns error message","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1487,"run_time":0.057514964,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:17:1]","description":"has created 3 new records","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with multiple correct expenses has created 3 new records","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1519,"run_time":0.277702183,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:18:1]","description":"has the same number of expenses after posting attempt","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with multiple expenses and one error has the same number of expenses after posting attempt","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1538,"run_time":0.134699853,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:19:1]","description":"is expected to respond with status code :bad_request (400)","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level with invalid attachment is expected to respond with status code :bad_request (400)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1556,"run_time":0.074165462,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:20:1:1]","description":"returns correct depreciation schedule","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level category is capital asset with depreciation schedule integer as string returns correct depreciation schedule","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1579,"run_time":0.171454938,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:20:2:1]","description":"returns correct depreciation schedule","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level category is capital asset with depreciation schedule as integer returns correct depreciation schedule","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1589,"run_time":0.177041232,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:20:3:1]","description":"returns correct depreciation schedule","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level category is capital asset with depreciation schedule with \"Years\" appended returns correct depreciation schedule","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1599,"run_time":0.172142031,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:20:4:1]","description":"defaults the depreciation schedule if not provided","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level category is capital asset without depreciation schedule specified defaults the depreciation schedule if not provided","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1612,"run_time":0.320275728,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:20:5:1]","description":"defaults the depreciation schedule if not provided","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level category is capital asset with invalid depreciation schedule specified defaults the depreciation schedule if not provided","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1622,"run_time":0.09900686,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:20:6:1]","description":"ignores the depreciation schedule","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level category is capital asset with depreciation schedule specified for non-capital asset category ignores the depreciation schedule","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1634,"run_time":0.130250315,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:21:1:1]","description":"returns stock item details","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level category is purchase of stock for successful request returns stock item details","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1664,"run_time":0.196814696,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:21:2:1]","description":"returns 422 unprocessable entity error","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level category is purchase of stock with invalid stock item returns 422 unprocessable entity error","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1687,"run_time":0.084812537,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:21:3:1]","description":"returns 400 bad request error","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level category is purchase of stock without stock item attribute returns 400 bad request error","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1705,"run_time":0.090214489,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:21:4:1]","description":"returns 422 unprocessable entity error","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level category is purchase of stock without stock altering quantity attribute returns 422 unprocessable entity error","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1724,"run_time":0.111817859,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:22:1]","description":"creates the mileage expense with the correct fields","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level creating a mileage claim creates the mileage expense with the correct fields","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1749,"run_time":0.144106515,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:22:2]","description":"publishes the MILEAGE_CLAIM_CREATED event","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level creating a mileage claim publishes the MILEAGE_CLAIM_CREATED event","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1771,"run_time":0.150124826,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:2:23:1]","description":"defaults to a Petrol car with the first engine type","full_description":"Api::ExpenseIntegration POST /expenses with the right permission_level creating a mileage claim without explicitly setting the engine type or size defaults to a Petrol car with the first engine type","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1792,"run_time":0.134109481,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:3:1]","description":"has created 2 new records","full_description":"Api::ExpenseIntegration POST /expenses creating multiple mileage claims has created 2 new records","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1834,"run_time":0.182577687,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:4:1]","description":"has the same number of expenses after posting attempt","full_description":"Api::ExpenseIntegration POST /expenses creating multiple mileage claims and one error has the same number of expenses after posting attempt","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1873,"run_time":0.139018457,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:5:1:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::ExpenseIntegration POST /expenses without the right permission_level with valid attributes is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1883,"run_time":0.072035706,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:6:1:1]","description":"sets the mileage rates to 0.4","full_description":"Api::ExpenseIntegration POST /expenses as a Universal user creating a mileage claim sets the mileage rates to 0.4","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1907,"run_time":0.19435248,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:7:1]","description":"sets the right mileage rates of 0.555","full_description":"Api::ExpenseIntegration POST /expenses as a US user creating a mileage claim sets the right mileage rates of 0.555","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1934,"run_time":0.275663457,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:5:8:1]","description":"creates an expense with the correct property","full_description":"Api::ExpenseIntegration POST /expenses as a UK Landlord creates an expense with the correct property","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1950,"run_time":0.228899968,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:3]","description":"Rebilling an expense","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id Rebilling an expense","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2246,"run_time":0.191638831,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:4]","description":"unlinking a rebilled expense","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id unlinking a rebilled expense","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2268,"run_time":0.193531445,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:1:1:1:1]","description":"creates an audit entry","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with the right permission_level with valid expense_id audit trail creates an audit entry","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1966,"run_time":0.186209369,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:1:1:2:1]","description":"does not have an additional expense after one has been updated","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with the right permission_level with valid expense_id with valid attributes does not have an additional expense after one has been updated","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":1995,"run_time":0.174451646,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:1:1:3:1:1]","description":"has the same number of expenses after posting attempt","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with the right permission_level with valid expense_id with invalid attributes dated_on has the same number of expenses after posting attempt","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2011,"run_time":0.145315968,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:1:1:3:2:1]","description":"returns 400 bad request error","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with the right permission_level with valid expense_id with invalid attributes without stock item attribute when purchase of stock category returns 400 bad request error","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2027,"run_time":0.152139917,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:1:1:4:1:1]","description":"sets the new attachment","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with the right permission_level with valid expense_id update attachment from new attachment upload (attachment) sets the new attachment","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2053,"run_time":0.164968335,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:1:1:4:2:1:1]","description":"attaches file attachment to expense and does not create a new expense","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with the right permission_level with valid expense_id update attachment from existing file attachment as the FA mobile app for a shared file attaches file attachment to expense and does not create a new expense","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2069,"run_time":0.256925276,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:1:1:4:2:2:1]","description":"attaches file attachment to expense","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with the right permission_level with valid expense_id update attachment from existing file attachment as the FA mobile app for a personal file owned by the current user attaches file attachment to expense","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2086,"run_time":0.266784538,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:1:1:4:2:3:1]","description":"responds with a file not found error message","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with the right permission_level with valid expense_id update attachment from existing file attachment as the FA mobile app for a personal file owned by another user responds with a file not found error message","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2102,"run_time":0.213599341,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:1:1:4:2:4:1]","description":"responds with an error message","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with the right permission_level with valid expense_id update attachment from existing file attachment as the FA mobile app for a locked file responds with an error message","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2122,"run_time":0.220249561,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:1:1:4:2:5:1]","description":"responds with an error message","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with the right permission_level with valid expense_id update attachment from existing file attachment as the FA mobile app for an Expense with an existing attachment responds with an error message","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2137,"run_time":0.223530602,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:1:1:4:3:1]","description":"does not create a new expense","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with the right permission_level with valid expense_id update attachment when passing both attachment and file as the FA mobile app does not create a new expense","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2157,"run_time":0.250998116,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:1:1:4:4:1]","description":"ignores file and does not attach file to expense","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with the right permission_level with valid expense_id update attachment from existing file attachment as a non-FA API integration ignores file and does not attach file to expense","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2174,"run_time":0.253994147,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:1:1:4:5:1]","description":"removes the attachment and puts it back to the files area","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with the right permission_level with valid expense_id update attachment moving the attachment back to the files area removes the attachment and puts it back to the files area","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2186,"run_time":0.22944422,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:1:1:5:1]","description":"sets the sales_tax_rate to out of scope","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with the right permission_level with valid expense_id with the sales_tax_status set to OUT_OF_SCOPE sets the sales_tax_rate to out of scope","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2203,"run_time":0.180170052,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:1:1:6:1]","description":"sets the second_sales_tax_rate to out of scope","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with the right permission_level with valid expense_id with the second_sales_tax_status set to OUT_OF_SCOPE sets the second_sales_tax_rate to out of scope","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2217,"run_time":0.160136431,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:1:2:1]","description":"is expected to respond with a not_found status code (404)","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with the right permission_level with invalid expense_id is expected to respond with a not_found status code (404)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2229,"run_time":0.063888031,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:2:1:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id without the right permission_level with valid expense_id is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2242,"run_time":0.144803967,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:5:1:1]","description":"returns correct depreciation schedule","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with capital asset category with valid depreciation schedule returns correct depreciation schedule","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2306,"run_time":0.256120546,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:5:2:1]","description":"returns error","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with capital asset category with null depreciation schedule returns error","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2315,"run_time":0.193207633,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:5:3:1]","description":"returns existing depreciation schedule","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with capital asset category without depreciation schedule returns existing depreciation schedule","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2324,"run_time":0.246716138,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:5:4:1]","description":"returns error","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with capital asset category with invalid depreciation schedule returns error","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2334,"run_time":0.175822189,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:5:5:1]","description":"ignore the depreciation schedule","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id with capital asset category with depreciation schedule on non capital asset category ignore the depreciation schedule","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2345,"run_time":0.241639099,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:6:1]","description":"updates the expense with the correct property","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id as a UK Landlord updates the expense with the correct property","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2363,"run_time":0.255547249,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:6:2:1]","description":"updates the expense from one that requires a property to one which does not","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id as a UK Landlord when updating from a type that requires a property to one which does not updates the expense from one that requires a property to one which does not","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2371,"run_time":0.29165644,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:6:6:3:1]","description":"updates the expense from one which does not require a property to one which does","full_description":"Api::ExpenseIntegration PUT /expenses/expense_id as a UK Landlord when updating from a type which does not require a property to one which does updates the expense from one which does not require a property to one which does","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2381,"run_time":0.304826027,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:7:1:1:1:1]","description":"creates an audit entry","full_description":"Api::ExpenseIntegration DELETE /expenses/expense_id with the right permission_level with valid expense_id audit trail creates an audit entry","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2399,"run_time":0.172734633,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:7:1:1:2:1]","description":"has one less expense after deletion","full_description":"Api::ExpenseIntegration DELETE /expenses/expense_id with the right permission_level with valid expense_id deleteable (not rebilled_on_invoice_item_id) has one less expense after deletion","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2419,"run_time":0.176018282,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:7:1:1:3:1]","description":"does not delete the attachment","full_description":"Api::ExpenseIntegration DELETE /expenses/expense_id with the right permission_level with valid expense_id return attachment to files flag is present does not delete the attachment","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2436,"run_time":0.143558868,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:7:1:1:3:2]","description":"returns the attachment to a document","full_description":"Api::ExpenseIntegration DELETE /expenses/expense_id with the right permission_level with valid expense_id return attachment to files flag is present returns the attachment to a document","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2442,"run_time":0.174927014,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:7:1:1:4:1]","description":"has the same number of expenses after deletion attempt","full_description":"Api::ExpenseIntegration DELETE /expenses/expense_id with the right permission_level with valid expense_id not deleteable (rebilled_on_invoice_item_id) has the same number of expenses after deletion attempt","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2452,"run_time":0.158299305,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:7:1:2:1]","description":"is expected to respond with a not_found status code (404)","full_description":"Api::ExpenseIntegration DELETE /expenses/expense_id with the right permission_level with invalid expense_id is expected to respond with a not_found status code (404)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2462,"run_time":0.119837753,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:7:2:1]","description":"is expected to respond with status code :forbidden (403)","full_description":"Api::ExpenseIntegration DELETE /expenses/expense_id without the right permission_level is expected to respond with status code :forbidden (403)","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2469,"run_time":0.120710083,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/expense_integration_spec.rb[1:8:1]","description":"does not reset the sales tax when PUTing an update without sales tax","full_description":"Api::ExpenseIntegration posting followed by updating the same expense does not reset the sales tax when PUTing an update without sales tax","status":"passed","file_path":"./spec/requests/api/expense_integration_spec.rb","line_number":2497,"run_time":0.230642593,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:1]","description":"is expected to validate that :subdomain cannot be empty/falsy","full_description":"AccountancyPractice is expected to validate that :subdomain cannot be empty/falsy","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":7,"run_time":0.03865912,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:2]","description":"is expected not to allow :subdomain to be ‹\"123_\"›, producing a custom validation error on failure","full_description":"AccountancyPractice is expected not to allow :subdomain to be ‹\"123_\"›, producing a custom validation error on failure","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":8,"run_time":0.008021952,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:3]","description":"is expected not to allow :subdomain to be ‹\"£123\"›, producing a custom validation error on failure","full_description":"AccountancyPractice is expected not to allow :subdomain to be ‹\"£123\"›, producing a custom validation error on failure","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":9,"run_time":0.007097421,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:4]","description":"is expected to allow :subdomain to be ‹\"one\"›","full_description":"AccountancyPractice is expected to allow :subdomain to be ‹\"one\"›","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":10,"run_time":0.007141784,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:5]","description":"is expected to allow :subdomain to be ‹\"two\"›","full_description":"AccountancyPractice is expected to allow :subdomain to be ‹\"two\"›","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":11,"run_time":0.006853403,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:6]","description":"is expected to allow :subdomain to be ‹\"123\"›","full_description":"AccountancyPractice is expected to allow :subdomain to be ‹\"123\"›","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":12,"run_time":0.006958974,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:7]","description":"is expected to validate that :subdomain is unique","full_description":"AccountancyPractice is expected to validate that :subdomain is unique","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":13,"run_time":0.035063823,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:8]","description":"is expected to have one settings","full_description":"AccountancyPractice is expected to have one settings","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":14,"run_time":0.003853993,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:9:1]","description":"defaults enable_client_onboarding_journey to true","full_description":"AccountancyPractice#create defaults enable_client_onboarding_journey to true","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":19,"run_time":0.064347835,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:9:2]","description":"creates settings when saving a new object","full_description":"AccountancyPractice#create creates settings when saving a new object","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":23,"run_time":0.017142269,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:9:3]","description":"accepts nested attributes for settings","full_description":"AccountancyPractice#create accepts nested attributes for settings","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":34,"run_time":0.017357741,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:10:1]","description":"is valid if the practice is not active","full_description":"AccountancyPractice validate format of billing email is valid if the practice is not active","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":50,"run_time":0.011746189,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:10:2]","description":"is not valid for an empty string billing email address","full_description":"AccountancyPractice validate format of billing email is not valid for an empty string billing email address","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":55,"run_time":0.019177261,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:10:3]","description":"is not valid for a nil billing email address","full_description":"AccountancyPractice validate format of billing email is not valid for a nil billing email address","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":60,"run_time":0.0184161,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:10:4]","description":"is valid for a correctly formed billing email address","full_description":"AccountancyPractice validate format of billing email is valid for a correctly formed billing email address","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":65,"run_time":0.018136399,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:10:5]","description":"is invalid for a malformed billing email address","full_description":"AccountancyPractice validate format of billing email is invalid for a malformed billing email address","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":70,"run_time":0.017045713,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:10:6]","description":"is valid for multiple comma-separated valid email addresses","full_description":"AccountancyPractice validate format of billing email is valid for multiple comma-separated valid email addresses","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":75,"run_time":0.018625929,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:10:7]","description":"is invalid for multiple comma-separated email addresses if any are malformed","full_description":"AccountancyPractice validate format of billing email is invalid for multiple comma-separated email addresses if any are malformed","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":80,"run_time":0.016833478,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:11:1]","description":"returns an empty string when the feature is switched off","full_description":"AccountancyPractice with logo returns an empty string when the feature is switched off","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":88,"run_time":0.03815069,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:11:2]","description":"returns the requested URL with feature switch on","full_description":"AccountancyPractice with logo returns the requested URL with feature switch on","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":96,"run_time":0.03166783,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:12:1]","description":"has access to its last invoice","full_description":"AccountancyPractice with invoices has access to its last invoice","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":152,"run_time":0.059052599,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:12:2]","description":"has access to its first invoice","full_description":"AccountancyPractice with invoices has access to its first invoice","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":156,"run_time":0.042346137,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:13:1]","description":"is unable to recall any last invoice","full_description":"AccountancyPractice without invoices is unable to recall any last invoice","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":166,"run_time":0.039828928,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:14:1]","description":"is deletable if it has no companies","full_description":"AccountancyPractice is_deleteable? is deletable if it has no companies","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":172,"run_time":0.039712586,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:14:2]","description":"is not deleteable if it has companies","full_description":"AccountancyPractice is_deleteable? is not deleteable if it has companies","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":178,"run_time":0.197383569,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:15:1]","description":"is not included in the list of active companies for the practice","full_description":"AccountancyPractice An inactive client is not included in the list of active companies for the practice","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":188,"run_time":0.107392107,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:15:2]","description":"is included in the list of inactive companies for the practice","full_description":"AccountancyPractice An inactive client is included in the list of inactive companies for the practice","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":192,"run_time":0.126302556,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:15:3]","description":"is not included in the list of closed companies for the practice","full_description":"AccountancyPractice An inactive client is not included in the list of closed companies for the practice","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":196,"run_time":0.117427763,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:16:1]","description":"is not included in the list of active companies for the practice","full_description":"AccountancyPractice A closed client is not included in the list of active companies for the practice","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":204,"run_time":0.112433314,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:16:2]","description":"is not included in the list of inactive companies for the practice","full_description":"AccountancyPractice A closed client is not included in the list of inactive companies for the practice","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":208,"run_time":0.119388328,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:16:3]","description":"is included in the list of closed companies for the practice","full_description":"AccountancyPractice A closed client is included in the list of closed companies for the practice","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":212,"run_time":0.116630283,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:17:1]","description":"is not included in the list of active companies for the practice","full_description":"AccountancyPractice A demo client is not included in the list of active companies for the practice","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":220,"run_time":0.115429671,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:17:2]","description":"is included in the list of demo companies for the practice","full_description":"AccountancyPractice A demo client is included in the list of demo companies for the practice","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":224,"run_time":0.099927822,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:18:1]","description":"is included in the list of active companies for the practice","full_description":"AccountancyPractice An active client is included in the list of active companies for the practice","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":232,"run_time":0.101509697,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:18:2]","description":"is not included in the list of inactive companies for the practice","full_description":"AccountancyPractice An active client is not included in the list of inactive companies for the practice","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":236,"run_time":0.106264743,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:18:3]","description":"is not included in the list of closed companies for the practice","full_description":"AccountancyPractice An active client is not included in the list of closed companies for the practice","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":240,"run_time":0.097371676,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:19:1:1]","description":"correctly counts number of active fapd and fapdrbsg clients","full_description":"AccountancyPractice client counts #client_count correctly counts number of active fapd and fapdrbsg clients","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":266,"run_time":1.648118363,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:19:2:1]","description":"correctly counts number of active fapd clients","full_description":"AccountancyPractice client counts #active_fapd_client_count correctly counts number of active fapd clients","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":272,"run_time":1.069785823,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:19:3:1]","description":"correctly counts number of active fapdrbsg clients","full_description":"AccountancyPractice client counts #active_fapdrbsg_client_count correctly counts number of active fapdrbsg clients","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":278,"run_time":0.941831593,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:19:3:2]","description":"the query on which count is calculated only includes active fapdrbsg clients","full_description":"AccountancyPractice client counts #active_fapdrbsg_client_count the query on which count is calculated only includes active fapdrbsg clients","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":282,"run_time":0.957128675,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:19:4:1]","description":"correctly counts number of active linked clients","full_description":"AccountancyPractice client counts #active_linked_client_count correctly counts number of active linked clients","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":288,"run_time":0.967692095,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:19:5:1]","description":"correctly counts number of active linked direct clients","full_description":"AccountancyPractice client counts #active_linked_direct_client_count correctly counts number of active linked direct clients","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":294,"run_time":0.960837438,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:19:6:1]","description":"correctly counts number of active linked fapdrbsg clients","full_description":"AccountancyPractice client counts #active_linked_fapdrbsg_client_count correctly counts number of active linked fapdrbsg clients","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":300,"run_time":0.953725296,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:20:1]","description":"does not allow the accountancy practice to have the same subdomain as an existing accountancy practice","full_description":"AccountancyPractice Creating a new accountancy practice does not allow the accountancy practice to have the same subdomain as an existing accountancy practice","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":307,"run_time":0.047696185,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:20:2]","description":"does not allow the accountancy practice to have the same subdomain as an existing company","full_description":"AccountancyPractice Creating a new accountancy practice does not allow the accountancy practice to have the same subdomain as an existing company","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":314,"run_time":0.076094091,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:20:3]","description":"does not allow the accountancy practice to have the same subdomain as an existing affiliate","full_description":"AccountancyPractice Creating a new accountancy practice does not allow the accountancy practice to have the same subdomain as an existing affiliate","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":321,"run_time":0.022308009,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:20:4]","description":"does not allow the accountancy practice to have the same subdomain as an existing signup","full_description":"AccountancyPractice Creating a new accountancy practice does not allow the accountancy practice to have the same subdomain as an existing signup","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":328,"run_time":0.036506003,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:21:1]","description":"identifies as an fapd practice type","full_description":"AccountancyPractice A regular accountancy practice with 10,000 clients identifies as an fapd practice type","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":342,"run_time":0.0271726,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:21:4]","description":"with one recently logged in account manager","full_description":"AccountancyPractice A regular accountancy practice with 10,000 clients with one recently logged in account manager","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":394,"run_time":0.033414022,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:21:2:1]","description":"honours the whitelabelled status","full_description":"AccountancyPractice A regular accountancy practice with 10,000 clients when saved with non-whitelablled branding honours the whitelabelled status","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":362,"run_time":0.029338229,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:21:2:2]","description":"honours the custom stylesheet name","full_description":"AccountancyPractice A regular accountancy practice with 10,000 clients when saved with non-whitelablled branding honours the custom stylesheet name","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":366,"run_time":0.029493225,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:21:2:3]","description":"honours the custom favicon name","full_description":"AccountancyPractice A regular accountancy practice with 10,000 clients when saved with non-whitelablled branding honours the custom favicon name","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":370,"run_time":0.029476555,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:21:2:4]","description":"honours the app name","full_description":"AccountancyPractice A regular accountancy practice with 10,000 clients when saved with non-whitelablled branding honours the app name","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":374,"run_time":0.02890042,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:21:2:5]","description":"honours the domain stylesheet name","full_description":"AccountancyPractice A regular accountancy practice with 10,000 clients when saved with non-whitelablled branding honours the domain stylesheet name","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":378,"run_time":0.028764604,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:21:3:1]","description":"reports last_logged_in_at as nil","full_description":"AccountancyPractice A regular accountancy practice with 10,000 clients with no recently logged in account managers reports last_logged_in_at as nil","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":389,"run_time":0.032682592,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:21:5:1]","description":"reports last_logged_in_at as the most recently logged in user's last_logged_in_at value","full_description":"AccountancyPractice A regular accountancy practice with 10,000 clients with more than one recently logged in account manager reports last_logged_in_at as the most recently logged in user's last_logged_in_at value","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":430,"run_time":0.037801292,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:22:1:1]","description":"returns practice managed and linked billable companies","full_description":"AccountancyPractice#billable_companies with linked_billing enabled returns practice managed and linked billable companies","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":458,"run_time":0.495738603,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:22:2:1]","description":"returns practice-managed billable companies","full_description":"AccountancyPractice#billable_companies with linked billing disabled returns practice-managed billable companies","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":468,"run_time":0.50107305,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:23:1]","description":"creates snapshots for all FAPD practice-managed companies","full_description":"AccountancyPractice.store_snapshots creates snapshots for all FAPD practice-managed companies","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":483,"run_time":0.332181391,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:23:2]","description":"does not create snapshots for non-billable FAPD practices","full_description":"AccountancyPractice.store_snapshots does not create snapshots for non-billable FAPD practices","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":488,"run_time":0.362275369,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:24:1]","description":"logs the failure","full_description":"AccountancyPractice.store_snapshots when snapshot creation fails for a given practice logs the failure","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":514,"run_time":0.318955199,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:24:2]","description":"reports the exception and original backtrace","full_description":"AccountancyPractice.store_snapshots when snapshot creation fails for a given practice reports the exception and original backtrace","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":519,"run_time":0.284711709,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:24:3]","description":"still stores snapshots for the other practices","full_description":"AccountancyPractice.store_snapshots when snapshot creation fails for a given practice still stores snapshots for the other practices","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":526,"run_time":0.292974709,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:25:1]","description":"contains the accountancy practices in order of Active practice managed company counts","full_description":"AccountancyPractice.leaderboard contains the accountancy practices in order of Active practice managed company counts","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":549,"run_time":0.666181774,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:25:2]","description":"is able to specify the number of practices returned","full_description":"AccountancyPractice.leaderboard is able to specify the number of practices returned","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":553,"run_time":0.719692467,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:25:3]","description":"does not count inactive practice managed companies","full_description":"AccountancyPractice.leaderboard does not count inactive practice managed companies","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":557,"run_time":0.814214449,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:25:4]","description":"does not count demo practice managed companies","full_description":"AccountancyPractice.leaderboard does not count demo practice managed companies","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":562,"run_time":0.825282841,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:25:5]","description":"does not count linked companies","full_description":"AccountancyPractice.leaderboard does not count linked companies","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":567,"run_time":0.872447934,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:26:1]","description":"is valid if contact email and address is present","full_description":"AccountancyPractice AccountancyPractice that is given bank feed access is valid if contact email and address is present","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":580,"run_time":0.018901116,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:26:2]","description":"is not valid if contact email is missing","full_description":"AccountancyPractice AccountancyPractice that is given bank feed access is not valid if contact email is missing","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":583,"run_time":0.015367632,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:26:3]","description":"is not valid if part of the address is missing","full_description":"AccountancyPractice AccountancyPractice that is given bank feed access is not valid if part of the address is missing","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":588,"run_time":0.021688736,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:27:1]","description":"revokes client's bank feed access if bank feed access is turned off","full_description":"AccountancyPractice AccountancyPractice with bank feed access and clients with feeds revokes client's bank feed access if bank feed access is turned off","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":614,"run_time":0.38281193,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:27:2]","description":"does not revoke client bank feed access if bank feed access is not changed","full_description":"AccountancyPractice AccountancyPractice with bank feed access and clients with feeds does not revoke client bank feed access if bank feed access is not changed","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":623,"run_time":0.339114281,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:28:1]","description":"does not revoke client bank feed access inadvertently","full_description":"AccountancyPractice AccountancyPractice that does not have bank feeds but has clients that have legacy bank feed access does not revoke client bank feed access inadvertently","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":644,"run_time":0.199307283,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:29:1]","description":"reindexes the clients of the practice when a practice detail is changed","full_description":"AccountancyPractice when an accountancy practice has a client and changes its details reindexes the clients of the practice when a practice detail is changed","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":655,"run_time":0.179888915,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:30:1]","description":"counts all users across active companies","full_description":"AccountancyPractice AccountancyPractice active users count counts all users across active companies","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":685,"run_time":0.5027401,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:31:1]","description":"counts all active companies for the given practice","full_description":"AccountancyPractice AccountancyPractice active companies count counts all active companies for the given practice","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":703,"run_time":0.380511463,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:32:1]","description":"includes billable companies","full_description":"AccountancyPractice AccountancyPractice billable companies includes billable companies","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":729,"run_time":0.818430177,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:32:2]","description":"excludes non-billable","full_description":"AccountancyPractice AccountancyPractice billable companies excludes non-billable","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":733,"run_time":0.849020159,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:33:1]","description":"is not required for fapd","full_description":"AccountancyPractice agreement_required_to_access_bank_feeds? is not required for fapd","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":739,"run_time":0.014198246,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:33:2]","description":"is required for whitelabelled fapd","full_description":"AccountancyPractice agreement_required_to_access_bank_feeds? is required for whitelabelled fapd","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":744,"run_time":0.011544511,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:34:1]","description":"only finds the accountancy practice once","full_description":"AccountancyPractice#matching only finds the accountancy practice once","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":758,"run_time":0.041893637,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:35:1]","description":"is true for MAF practice","full_description":"AccountancyPractice#is_maf? is true for MAF practice","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":764,"run_time":0.016555673,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:35:2]","description":"is false for non MAF practice","full_description":"AccountancyPractice#is_maf? is false for non MAF practice","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":768,"run_time":0.015969706,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:36:1]","description":"is true for my_clearsky practice","full_description":"AccountancyPractice#is_my_clearsky? is true for my_clearsky practice","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":775,"run_time":0.015876563,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:36:2]","description":"is false for a non clearsky practice","full_description":"AccountancyPractice#is_my_clearsky? is false for a non clearsky practice","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":780,"run_time":0.011744654,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:37:1:1]","description":"is expected to be freeagent internal demo","full_description":"AccountancyPractice#freeagent_internal_demo? for the fapd subdomain is expected to be freeagent internal demo","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":792,"run_time":0.037977428,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:37:2:1]","description":"is expected not to be freeagent internal demo","full_description":"AccountancyPractice#freeagent_internal_demo? for an arbitrary subdomain is expected not to be freeagent internal demo","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":798,"run_time":0.041661379,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:38:1]","description":"selects FAPD practices with a given status","full_description":"AccountancyPractice.with_status selects FAPD practices with a given status","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":808,"run_time":0.059949747,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:38:2]","description":"selects FAPD practices from a list of statuses","full_description":"AccountancyPractice.with_status selects FAPD practices from a list of statuses","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":813,"run_time":0.064585049,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:38:3]","description":"returns 'all' practices","full_description":"AccountancyPractice.with_status returns 'all' practices","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":818,"run_time":0.066114808,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:39:1]","description":"is true when linked_billing enabled","full_description":"AccountancyPractice#linked_billing? is true when linked_billing enabled","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":827,"run_time":0.043996287,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:39:2]","description":"is false when linked_billing disabled","full_description":"AccountancyPractice#linked_billing? is false when linked_billing disabled","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":832,"run_time":0.039053125,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:40:1]","description":"is true when the practice has an active FAPD sale","full_description":"AccountancyPractice#fapd_active? is true when the practice has an active FAPD sale","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":838,"run_time":0.041385032,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:40:2]","description":"is false when the practice has a non-active FAPD sale","full_description":"AccountancyPractice#fapd_active? is false when the practice has a non-active FAPD sale","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":842,"run_time":0.030472719,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:41:1:1]","description":"is true","full_description":"AccountancyPractice#fapd_billable? FAPD Sale billable is true","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":857,"run_time":0.005463023,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:41:2:1]","description":"is false","full_description":"AccountancyPractice#fapd_billable? FAPD Sale is not billable is false","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":865,"run_time":0.004854813,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:41:3:1]","description":"is false","full_description":"AccountancyPractice#fapd_billable? FAPD Sale doesn't exist is false","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":873,"run_time":0.004617855,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:42:1]","description":"is a proxy to the directory_listed setting, which should probably have been named accredited","full_description":"AccountancyPractice#accredited? is a proxy to the directory_listed setting, which should probably have been named accredited","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":880,"run_time":0.005531358,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:43:1:1]","description":"is nil","full_description":"AccountancyPractice with no active MTD authorization mtd_vat_authorized_at is nil","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":890,"run_time":0.042053237,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:43:2:1]","description":"correctly reports a practice as having no active MTD VAT authorization","full_description":"AccountancyPractice with no active MTD authorization has_mtd_vat_authorization? correctly reports a practice as having no active MTD VAT authorization","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":896,"run_time":0.044604081,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:44:1:1]","description":"reports the created_at from the active MTD VAT authorization","full_description":"AccountancyPractice with an active MTD authorization mtd_vat_authorized_at reports the created_at from the active MTD VAT authorization","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":909,"run_time":0.05873372,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:44:2:1]","description":"correctly reports a practice as having an active MTD VAT authorization","full_description":"AccountancyPractice with an active MTD authorization has_mtd_vat_authorization? correctly reports a practice as having an active MTD VAT authorization","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":915,"run_time":0.044654239,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:45:1:1]","description":"returns the active linked companies","full_description":"AccountancyPractice#active_linked_non_copilot_companies with a mix of linked and copilot companies returns the active linked companies","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":938,"run_time":0.545444292,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:46:1:1]","description":"is expected to equal false","full_description":"AccountancyPractice#is_a_copilot_practice? when not a copilot practice is expected to equal false","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":950,"run_time":0.03956374,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:46:2:1]","description":"is expected to equal true","full_description":"AccountancyPractice#is_a_copilot_practice? when a copilot practice is expected to equal true","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":956,"run_time":0.09331902,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:47:1:1]","description":"is expected to be nil","full_description":"AccountancyPractice#copilot_initial_account_manager when not a copilot practice is expected to be nil","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":966,"run_time":0.044485332,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:47:2:1]","description":"should be the account manager on the CoPilot profile","full_description":"AccountancyPractice#copilot_initial_account_manager when a copilot practice should be the account manager on the CoPilot profile","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":972,"run_time":0.087339177,"pending_message":null,"screenshot":null},{"id":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb[1:48:1]","description":"updates the profile params without replacing the profile","full_description":"AccountancyPractice#copilot_accountancy_practice_profile_attributes updates the profile params without replacing the profile","status":"passed","file_path":"./spec/models/concerns/freeagent/accountancy_practice_spec.rb","line_number":984,"run_time":0.098794443,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/transaction_search_spec.rb[1:1:1]","description":"has set data-transaction-search-enabled to true","full_description":"Transaction search with the transaction_search feature switch enabled has set data-transaction-search-enabled to true","status":"passed","file_path":"./spec/features/new_banking/transaction_search_spec.rb","line_number":31,"run_time":1.836713615,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/transaction_search_spec.rb[1:1:2:1]","description":"searches and displays the correct number of results","full_description":"Transaction search with the transaction_search feature switch enabled entering a search term and clicking search searches and displays the correct number of results","status":"passed","file_path":"./spec/features/new_banking/transaction_search_spec.rb","line_number":38,"run_time":1.938468301,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/transaction_search_spec.rb[1:1:2:2:1]","description":"searches and displays the correct number of results","full_description":"Transaction search with the transaction_search feature switch enabled entering a search term and clicking search entering a search term which returns a different number of results searches and displays the correct number of results","status":"passed","file_path":"./spec/features/new_banking/transaction_search_spec.rb","line_number":51,"run_time":1.679720425,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/transaction_search_spec.rb[1:1:2:3:1]","description":"displays an appropriate message","full_description":"Transaction search with the transaction_search feature switch enabled entering a search term and clicking search entering a search term which returns no results displays an appropriate message","status":"passed","file_path":"./spec/features/new_banking/transaction_search_spec.rb","line_number":62,"run_time":1.253589798,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/transaction_search_spec.rb[1:1:3:1]","description":"performs the search and returns you to the first page","full_description":"Transaction search with the transaction_search feature switch enabled searching from the second page and clicking search performs the search and returns you to the first page","status":"passed","file_path":"./spec/features/new_banking/transaction_search_spec.rb","line_number":76,"run_time":2.489250262,"pending_message":null,"screenshot":null},{"id":"./spec/features/new_banking/transaction_search_spec.rb[1:2:1]","description":"has set data-transaction-search-enabled to false","full_description":"Transaction search with the transaction_search feature switch disabled has set data-transaction-search-enabled to false","status":"passed","file_path":"./spec/features/new_banking/transaction_search_spec.rb","line_number":105,"run_time":0.951145002,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/transfer_spec.rb[1:1:1]","description":"should show error when no email and subdomain","full_description":"Transfer a client errors when transferring clients should show error when no email and subdomain","status":"passed","file_path":"./spec/features/practice_dashboard/transfer_spec.rb","line_number":22,"run_time":0.8603499,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/transfer_spec.rb[1:1:2]","description":"should show error when no email and valid subdomain","full_description":"Transfer a client errors when transferring clients should show error when no email and valid subdomain","status":"passed","file_path":"./spec/features/practice_dashboard/transfer_spec.rb","line_number":30,"run_time":1.016864405,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/transfer_spec.rb[1:1:3]","description":"should show error when valid email but invalid subdomain","full_description":"Transfer a client errors when transferring clients should show error when valid email but invalid subdomain","status":"passed","file_path":"./spec/features/practice_dashboard/transfer_spec.rb","line_number":36,"run_time":0.92354903,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/transfer_spec.rb[1:1:4]","description":"should show error when valid subdomain but email doesn't match account owner","full_description":"Transfer a client errors when transferring clients should show error when valid subdomain but email doesn't match account owner","status":"passed","file_path":"./spec/features/practice_dashboard/transfer_spec.rb","line_number":43,"run_time":0.997106057,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/transfer_spec.rb[1:1:5]","description":"should show error when trying to create transfer for company already managed by practice","full_description":"Transfer a client errors when transferring clients should show error when trying to create transfer for company already managed by practice","status":"passed","file_path":"./spec/features/practice_dashboard/transfer_spec.rb","line_number":49,"run_time":0.896851163,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/transfer_spec.rb[1:1:6]","description":"should show error when trying to create transfer for company linked to practice","full_description":"Transfer a client errors when transferring clients should show error when trying to create transfer for company linked to practice","status":"passed","file_path":"./spec/features/practice_dashboard/transfer_spec.rb","line_number":55,"run_time":0.898864547,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/transfer_spec.rb[1:1:7]","description":"should show error when trying to create transfer for company managed by another practice","full_description":"Transfer a client errors when transferring clients should show error when trying to create transfer for company managed by another practice","status":"passed","file_path":"./spec/features/practice_dashboard/transfer_spec.rb","line_number":62,"run_time":1.059984635,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/transfer_spec.rb[1:1:8]","description":"should show error when trying to create transfer for company with third party subscription","full_description":"Transfer a client errors when transferring clients should show error when trying to create transfer for company with third party subscription","status":"passed","file_path":"./spec/features/practice_dashboard/transfer_spec.rb","line_number":70,"run_time":1.164691804,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/transfer_spec.rb[1:2:1]","description":"clicking on resend email button within 24 hours of last email should display error","full_description":"Transfer a client correct behaviour with pending transfers button clicking on resend email button within 24 hours of last email should display error","status":"passed","file_path":"./spec/features/practice_dashboard/transfer_spec.rb","line_number":84,"run_time":0.918611055,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/transfer_spec.rb[1:2:2]","description":"clicking on resend email button after 24 hours of last email should resend email","full_description":"Transfer a client correct behaviour with pending transfers button clicking on resend email button after 24 hours of last email should resend email","status":"passed","file_path":"./spec/features/practice_dashboard/transfer_spec.rb","line_number":94,"run_time":1.237943203,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/transfer_spec.rb[1:2:3]","description":"clicking on the cancel transfer button should cancel the pending transfer","full_description":"Transfer a client correct behaviour with pending transfers button clicking on the cancel transfer button should cancel the pending transfer","status":"passed","file_path":"./spec/features/practice_dashboard/transfer_spec.rb","line_number":104,"run_time":1.314633779,"pending_message":null,"screenshot":null},{"id":"./spec/features/invoicing/negative_invoice_raising_spec.rb[1:1:1]","description":"Raising a negative invoice","full_description":"Raising a credit note with the definitive_credit_notes_soft_banner feature switch enabled Raising a negative invoice","status":"passed","file_path":"./spec/features/invoicing/negative_invoice_raising_spec.rb","line_number":16,"run_time":2.459441663,"pending_message":null,"screenshot":null},{"id":"./spec/features/invoicing/negative_invoice_raising_spec.rb[1:2:1]","description":"Raising a negative invoice","full_description":"Raising a credit note with the definitive_credit_notes_soft_banner feature and invoice_new_status bar enabled Raising a negative invoice","status":"passed","file_path":"./spec/features/invoicing/negative_invoice_raising_spec.rb","line_number":63,"run_time":2.895437139,"pending_message":null,"screenshot":null},{"id":"./spec/features/invoicing/negative_invoice_raising_spec.rb[1:3:1]","description":"Raising a negative invoice","full_description":"Raising a credit note with the definitive_credit_notes_soft_banner feature switch disabled Raising a negative invoice","status":"passed","file_path":"./spec/features/invoicing/negative_invoice_raising_spec.rb","line_number":110,"run_time":2.32276744,"pending_message":null,"screenshot":null},{"id":"./spec/features/invoicing/negative_invoice_raising_spec.rb[1:4:1]","description":"Raising a negative invoice","full_description":"Raising a credit note with the definitive_credit_notes_soft_banner feature switch disabled and invoice_new_status_bar feature switch enabled Raising a negative invoice","status":"passed","file_path":"./spec/features/invoicing/negative_invoice_raising_spec.rb","line_number":158,"run_time":2.432666697,"pending_message":null,"screenshot":null},{"id":"./spec/features/invoicing/negative_invoice_raising_spec.rb[1:5:1]","description":"Download a PDF of a credit note","full_description":"Raising a credit note with the definitive_credit_notes_soft_banner in any state Download a PDF of a credit note","status":"passed","file_path":"./spec/features/invoicing/negative_invoice_raising_spec.rb","line_number":202,"run_time":1.075461917,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/invoices/send_email_controller_spec.rb[1:1:1:1]","description":"returns 200 and an empty body","full_description":"Api::Invoices::SendEmailController POST :create a valid request returns 200 and an empty body","status":"passed","file_path":"./spec/controllers/api/invoices/send_email_controller_spec.rb","line_number":37,"run_time":0.241520003,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/invoices/send_email_controller_spec.rb[1:1:1:2]","description":"publishes the invoice sent event","full_description":"Api::Invoices::SendEmailController POST :create a valid request publishes the invoice sent event","status":"passed","file_path":"./spec/controllers/api/invoices/send_email_controller_spec.rb","line_number":42,"run_time":0.243705955,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/invoices/send_email_controller_spec.rb[1:1:1:3]","description":"marks the :send_invoice Flying Start task as completed","full_description":"Api::Invoices::SendEmailController POST :create a valid request marks the :send_invoice Flying Start task as completed","status":"passed","file_path":"./spec/controllers/api/invoices/send_email_controller_spec.rb","line_number":47,"run_time":0.344593427,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/invoices/send_email_controller_spec.rb[1:1:2:1:1]","description":"returns 200 and an empty body","full_description":"Api::Invoices::SendEmailController POST :create with attachments params with a file_id returns 200 and an empty body","status":"passed","file_path":"./spec/controllers/api/invoices/send_email_controller_spec.rb","line_number":59,"run_time":0.356042236,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/invoices/send_email_controller_spec.rb[1:1:2:2:1]","description":"returns 200 and an empty body","full_description":"Api::Invoices::SendEmailController POST :create with attachments params with base64 encoded data returns 200 and an empty body","status":"passed","file_path":"./spec/controllers/api/invoices/send_email_controller_spec.rb","line_number":74,"run_time":0.300141875,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/invoices/send_email_controller_spec.rb[1:1:2:3:1:1]","description":"returns 200 and an empty body","full_description":"Api::Invoices::SendEmailController POST :create with attachments params with rebilled expenses attachment where attach_expense_receipts is true returns 200 and an empty body","status":"passed","file_path":"./spec/controllers/api/invoices/send_email_controller_spec.rb","line_number":99,"run_time":0.457809671,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/invoices/send_email_controller_spec.rb[1:1:2:4:1]","description":"returns 404 not found error","full_description":"Api::Invoices::SendEmailController POST :create with attachments params with an invalid file_id  returns 404 not found error","status":"passed","file_path":"./spec/controllers/api/invoices/send_email_controller_spec.rb","line_number":109,"run_time":0.143140999,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/invoices/send_email_controller_spec.rb[1:1:2:5:1]","description":"returns 422 unprocessable entity error","full_description":"Api::Invoices::SendEmailController POST :create with attachments params with attachment size greater than 5MB returns 422 unprocessable entity error","status":"passed","file_path":"./spec/controllers/api/invoices/send_email_controller_spec.rb","line_number":128,"run_time":0.337926185,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/invoices/send_email_controller_spec.rb[1:1:2:6:1]","description":"returns 422 unprocessable entity error","full_description":"Api::Invoices::SendEmailController POST :create with attachments params without data attribute returns 422 unprocessable entity error","status":"passed","file_path":"./spec/controllers/api/invoices/send_email_controller_spec.rb","line_number":140,"run_time":0.136729143,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/invoices/send_email_controller_spec.rb[1:1:2:7:1]","description":"returns 200 and an empty body","full_description":"Api::Invoices::SendEmailController POST :create with attachments params using an email template returns 200 and an empty body","status":"passed","file_path":"./spec/controllers/api/invoices/send_email_controller_spec.rb","line_number":158,"run_time":0.601471542,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/invoices/send_email_controller_spec.rb[1:1:3:1]","description":"empty body returns error response code and error body","full_description":"Api::Invoices::SendEmailController POST :create an invalid request empty body returns error response code and error body","status":"passed","file_path":"./spec/controllers/api/invoices/send_email_controller_spec.rb","line_number":166,"run_time":0.300193322,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/invoices/send_email_controller_spec.rb[1:1:3:2]","description":"does not mark the :send_invoice Flying Start task as completed","full_description":"Api::Invoices::SendEmailController POST :create an invalid request does not mark the :send_invoice Flying Start task as completed","status":"passed","file_path":"./spec/controllers/api/invoices/send_email_controller_spec.rb","line_number":173,"run_time":0.305946561,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/invoices/send_email_controller_spec.rb[1:1:3:3:1]","description":"returns 400 with error message","full_description":"Api::Invoices::SendEmailController POST :create an invalid request no line items returns 400 with error message","status":"passed","file_path":"./spec/controllers/api/invoices/send_email_controller_spec.rb","line_number":181,"run_time":0.138305617,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/invoices/send_email_controller_spec.rb[1:1:3:4:1]","description":"returns 400 with error message","full_description":"Api::Invoices::SendEmailController POST :create an invalid request negative value invoice returns 400 with error message","status":"passed","file_path":"./spec/controllers/api/invoices/send_email_controller_spec.rb","line_number":193,"run_time":0.181383803,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/invoices/send_email_controller_spec.rb[1:1:3:5:1]","description":"returns 400 with error message","full_description":"Api::Invoices::SendEmailController POST :create an invalid request written-off invoice returns 400 with error message","status":"passed","file_path":"./spec/controllers/api/invoices/send_email_controller_spec.rb","line_number":205,"run_time":0.20127491,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/invoices/send_email_controller_spec.rb[1:1:3:6:1]","description":"returns 400 with error message","full_description":"Api::Invoices::SendEmailController POST :create an invalid request future dated foreign currency invoice with sales tax returns 400 with error message","status":"passed","file_path":"./spec/controllers/api/invoices/send_email_controller_spec.rb","line_number":229,"run_time":0.337858228,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/invoices/send_email_controller_spec.rb[1:2:1:1]","description":"returns 422 with error message","full_description":"Api::Invoices::SendEmailController POST :quick_send_reminder quick send email template does not exist returns 422 with error message","status":"passed","file_path":"./spec/controllers/api/invoices/send_email_controller_spec.rb","line_number":244,"run_time":0.145522555,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/invoices/send_email_controller_spec.rb[1:2:2:1:1]","description":"returns 200 and an empty body","full_description":"Api::Invoices::SendEmailController POST :quick_send_reminder quick send email template exists valid request returns 200 and an empty body","status":"passed","file_path":"./spec/controllers/api/invoices/send_email_controller_spec.rb","line_number":266,"run_time":0.205553109,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/invoices/send_email_controller_spec.rb[1:2:2:1:2]","description":"publishes the invoice reminder sent event","full_description":"Api::Invoices::SendEmailController POST :quick_send_reminder quick send email template exists valid request publishes the invoice reminder sent event","status":"passed","file_path":"./spec/controllers/api/invoices/send_email_controller_spec.rb","line_number":273,"run_time":0.189456703,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/invoices/send_email_controller_spec.rb[1:2:2:2:1]","description":"attempting to send reminder for draft invoice returns 500 with error message","full_description":"Api::Invoices::SendEmailController POST :quick_send_reminder quick send email template exists invalid request - draft invoice attempting to send reminder for draft invoice returns 500 with error message","status":"passed","file_path":"./spec/controllers/api/invoices/send_email_controller_spec.rb","line_number":288,"run_time":0.097975437,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/invoices/send_email_controller_spec.rb[1:2:2:3:1]","description":"attempting to send reminder for paid invoice returns 500 with error message","full_description":"Api::Invoices::SendEmailController POST :quick_send_reminder quick send email template exists invalid request - paid invoice attempting to send reminder for paid invoice returns 500 with error message","status":"passed","file_path":"./spec/controllers/api/invoices/send_email_controller_spec.rb","line_number":301,"run_time":0.373084603,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/invoices/send_email_controller_spec.rb[1:2:2:4:1]","description":"returns 500 with error message","full_description":"Api::Invoices::SendEmailController POST :quick_send_reminder quick send email template exists invalid request - ActiveRecord::RecordInvalid exception caught returns 500 with error message","status":"passed","file_path":"./spec/controllers/api/invoices/send_email_controller_spec.rb","line_number":316,"run_time":0.163119596,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/corrections_helper_spec.rb[1:1:1:1]","description":"returns false","full_description":"Payroll::CorrectionsHelper#show_lock_notice? without a correction returns false","status":"passed","file_path":"./spec/helpers/payroll/corrections_helper_spec.rb","line_number":17,"run_time":1.60097764,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/corrections_helper_spec.rb[1:1:2:1:1]","description":"returns false","full_description":"Payroll::CorrectionsHelper#show_lock_notice? with a correction without a lock period returns false","status":"passed","file_path":"./spec/helpers/payroll/corrections_helper_spec.rb","line_number":29,"run_time":1.492685277,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/corrections_helper_spec.rb[1:1:2:2:1]","description":"returns false","full_description":"Payroll::CorrectionsHelper#show_lock_notice? with a correction with a lock period that does not cover this tax year returns false","status":"passed","file_path":"./spec/helpers/payroll/corrections_helper_spec.rb","line_number":35,"run_time":1.605542943,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/payroll/corrections_helper_spec.rb[1:1:2:3:1]","description":"returns true","full_description":"Payroll::CorrectionsHelper#show_lock_notice? with a correction with a lock_period that covers at least one payslip returns true","status":"passed","file_path":"./spec/helpers/payroll/corrections_helper_spec.rb","line_number":42,"run_time":1.539159251,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:1:1:1]","description":"is expected to be a multipart email","full_description":"SecurityActionMailer#password_changed on non-whitelabelled companies is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":9,"run_time":0.043921468,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:1:1:2]","description":"has the correct headers","full_description":"SecurityActionMailer#password_changed on non-whitelabelled companies has the correct headers","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":11,"run_time":0.025338362,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:1:1:3]","description":"is from support","full_description":"SecurityActionMailer#password_changed on non-whitelabelled companies is from support","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":18,"run_time":0.031007956,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:1:1:4]","description":"has support's details","full_description":"SecurityActionMailer#password_changed on non-whitelabelled companies has support's details","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":19,"run_time":0.038994152,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:1:2:1]","description":"is expected not to be a multipart email","full_description":"SecurityActionMailer#password_changed on whitelabelled companies is expected not to be a multipart email","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":28,"run_time":0.209249642,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:1:2:2]","description":"has the correct headers","full_description":"SecurityActionMailer#password_changed on whitelabelled companies has the correct headers","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":30,"run_time":0.191568736,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:1:3:1]","description":"is expected to be a multipart email","full_description":"SecurityActionMailer#password_changed on account managers is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":44,"run_time":0.191214599,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:1:3:2]","description":"has the correct headers","full_description":"SecurityActionMailer#password_changed on account managers has the correct headers","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":46,"run_time":0.182217756,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:1:3:3]","description":"is from support","full_description":"SecurityActionMailer#password_changed on account managers is from support","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":53,"run_time":0.181269409,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:1:3:4]","description":"has support's details","full_description":"SecurityActionMailer#password_changed on account managers has support's details","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":54,"run_time":0.163437907,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:2:1]","description":"is expected to be a multipart email","full_description":"SecurityActionMailer#email_changed_old is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":63,"run_time":0.028111696,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:2:2]","description":"has the correct headers","full_description":"SecurityActionMailer#email_changed_old has the correct headers","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":65,"run_time":0.025943613,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:2:3]","description":"has the new email address","full_description":"SecurityActionMailer#email_changed_old has the new email address","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":74,"run_time":0.032159121,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:2:4]","description":"is from support","full_description":"SecurityActionMailer#email_changed_old is from support","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":78,"run_time":0.026640639,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:2:5]","description":"has support's details","full_description":"SecurityActionMailer#email_changed_old has support's details","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":79,"run_time":0.025905952,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:3:1]","description":"is expected to be a multipart email","full_description":"SecurityActionMailer#email_changed_new is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":87,"run_time":0.025492036,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:3:2]","description":"has the correct headers","full_description":"SecurityActionMailer#email_changed_new has the correct headers","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":89,"run_time":0.024958046,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:3:3]","description":"is from support","full_description":"SecurityActionMailer#email_changed_new is from support","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":96,"run_time":0.028979911,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:3:4]","description":"has support's details","full_description":"SecurityActionMailer#email_changed_new has support's details","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":97,"run_time":0.033209688,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:4:1:1]","description":"is expected to be a multipart email","full_description":"SecurityActionMailer#new_device_alert for account_manager is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":108,"run_time":0.060706891,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:4:1:2]","description":"has the correct headers","full_description":"SecurityActionMailer#new_device_alert for account_manager has the correct headers","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":109,"run_time":0.077779177,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:4:1:3]","description":"is from support","full_description":"SecurityActionMailer#new_device_alert for account_manager is from support","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":115,"run_time":0.046296477,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:4:1:4]","description":"is expected to have click tracking","full_description":"SecurityActionMailer#new_device_alert for account_manager is expected to have click tracking","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":116,"run_time":0.043180451,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:4:2:1]","description":"is expected to be a multipart email","full_description":"SecurityActionMailer#new_device_alert for user is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":108,"run_time":0.032748176,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:4:2:2]","description":"has the correct headers","full_description":"SecurityActionMailer#new_device_alert for user has the correct headers","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":109,"run_time":0.037441159,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:4:2:3]","description":"is from support","full_description":"SecurityActionMailer#new_device_alert for user is from support","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":115,"run_time":0.031835541,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:4:2:4]","description":"is expected to have click tracking","full_description":"SecurityActionMailer#new_device_alert for user is expected to have click tracking","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":116,"run_time":0.029161491,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:5:1]","description":"is expected to be a multipart email","full_description":"SecurityActionMailer#company_reset is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":125,"run_time":0.014377356,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:5:2]","description":"has the correct headers","full_description":"SecurityActionMailer#company_reset has the correct headers","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":127,"run_time":0.0129518,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:5:3]","description":"has the company's name","full_description":"SecurityActionMailer#company_reset has the company's name","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":134,"run_time":0.015024422,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:5:4]","description":"is from support","full_description":"SecurityActionMailer#company_reset is from support","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":138,"run_time":0.01410943,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:5:5]","description":"has support's details","full_description":"SecurityActionMailer#company_reset has support's details","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":139,"run_time":0.013833856,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:6:1]","description":"is expected to be a multipart email","full_description":"SecurityActionMailer#company_reset_manager is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":146,"run_time":0.184153077,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:6:2]","description":"has the correct headers","full_description":"SecurityActionMailer#company_reset_manager has the correct headers","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":148,"run_time":0.185605079,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:6:3]","description":"has the company's name","full_description":"SecurityActionMailer#company_reset_manager has the company's name","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":155,"run_time":0.185060716,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:6:4]","description":"is from support","full_description":"SecurityActionMailer#company_reset_manager is from support","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":159,"run_time":0.189635216,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:7:1]","description":"is expected to be a multipart email","full_description":"SecurityActionMailer#company_deleted is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":175,"run_time":0.007014315,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:7:2]","description":"has the correct headers","full_description":"SecurityActionMailer#company_deleted has the correct headers","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":177,"run_time":0.00532681,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:7:3]","description":"has the company's name","full_description":"SecurityActionMailer#company_deleted has the company's name","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":184,"run_time":0.006828146,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:7:4]","description":"is from support","full_description":"SecurityActionMailer#company_deleted is from support","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":188,"run_time":0.006568963,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:8:1]","description":"is expected to be a multipart email","full_description":"SecurityActionMailer#company_deleted_manager is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":204,"run_time":0.00737366,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:8:2]","description":"has the correct headers","full_description":"SecurityActionMailer#company_deleted_manager has the correct headers","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":206,"run_time":0.005902307,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:8:3]","description":"has the company's name","full_description":"SecurityActionMailer#company_deleted_manager has the company's name","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":213,"run_time":0.005435132,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:8:4]","description":"is from support","full_description":"SecurityActionMailer#company_deleted_manager is from support","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":217,"run_time":0.006341391,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:9:1]","description":"is expected to be a multipart email","full_description":"SecurityActionMailer#company_deletion_scheduled is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":227,"run_time":0.060057411,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:9:2]","description":"has the correct headers","full_description":"SecurityActionMailer#company_deletion_scheduled has the correct headers","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":229,"run_time":0.041104877,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:9:3]","description":"has the company's name","full_description":"SecurityActionMailer#company_deletion_scheduled has the company's name","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":236,"run_time":0.035897133,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:9:4]","description":"is from support","full_description":"SecurityActionMailer#company_deletion_scheduled is from support","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":240,"run_time":0.041118407,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:9:5]","description":"has support's details","full_description":"SecurityActionMailer#company_deletion_scheduled has support's details","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":241,"run_time":0.03894073,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:10:1]","description":"is expected to be a multipart email","full_description":"SecurityActionMailer#company_deletion_scheduled_manager is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":251,"run_time":0.211025693,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:10:2]","description":"has the correct headers","full_description":"SecurityActionMailer#company_deletion_scheduled_manager has the correct headers","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":253,"run_time":0.183919769,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:10:3]","description":"has the company's name","full_description":"SecurityActionMailer#company_deletion_scheduled_manager has the company's name","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":260,"run_time":0.217038743,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:10:4]","description":"is from support","full_description":"SecurityActionMailer#company_deletion_scheduled_manager is from support","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":264,"run_time":0.213396855,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:10:5]","description":"has support's details","full_description":"SecurityActionMailer#company_deletion_scheduled_manager has support's details","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":265,"run_time":0.210137069,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:11:1:1]","description":"sends to the account owner","full_description":"SecurityActionMailer#contact_bank_details_changed with freeagent branded company sends to the account owner","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":276,"run_time":0.012894794,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:11:1:2]","description":"sends from support@freeagent.com","full_description":"SecurityActionMailer#contact_bank_details_changed with freeagent branded company sends from support@freeagent.com","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":280,"run_time":0.00978416,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:11:1:3]","description":"sends with FreeAgent in the subject","full_description":"SecurityActionMailer#contact_bank_details_changed with freeagent branded company sends with FreeAgent in the subject","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":284,"run_time":0.00928053,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:11:1:4:1]","description":"is expected to include \"Hi Ed\"","full_description":"SecurityActionMailer#contact_bank_details_changed with freeagent branded company with html body is expected to include \"Hi Ed\"","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":291,"run_time":0.009801658,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:11:1:4:2]","description":"is expected to include \"Sell Fridges\"","full_description":"SecurityActionMailer#contact_bank_details_changed with freeagent branded company with html body is expected to include \"Sell Fridges\"","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":292,"run_time":0.009751284,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:11:1:4:3]","description":"is expected to include \"\u003ca href=\\\"http://subdomain000001.fac-test.host/login\\\"\u003elog in to your FreeAgent account\u003c/a\u003e\"","full_description":"SecurityActionMailer#contact_bank_details_changed with freeagent branded company with html body is expected to include \"\u003ca href=\\\"http://subdomain000001.fac-test.host/login\\\"\u003elog in to your FreeAgent account\u003c/a\u003e\"","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":293,"run_time":0.009893907,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:11:1:4:4]","description":"is expected to include \"mailto:support@freeagent.com\"","full_description":"SecurityActionMailer#contact_bank_details_changed with freeagent branded company with html body is expected to include \"mailto:support@freeagent.com\"","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":294,"run_time":0.009587951,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:11:1:5:1]","description":"is expected to include \"Hi Ed\"","full_description":"SecurityActionMailer#contact_bank_details_changed with freeagent branded company with text body is expected to include \"Hi Ed\"","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":300,"run_time":0.010096817,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:11:1:5:2]","description":"is expected to include \"Sell Fridges\"","full_description":"SecurityActionMailer#contact_bank_details_changed with freeagent branded company with text body is expected to include \"Sell Fridges\"","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":301,"run_time":0.009582465,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:11:1:5:3]","description":"is expected to include \"please log in to your FreeAgent account\"","full_description":"SecurityActionMailer#contact_bank_details_changed with freeagent branded company with text body is expected to include \"please log in to your FreeAgent account\"","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":302,"run_time":0.009678422,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:11:1:5:4]","description":"is expected to include \"support@freeagent.com\"","full_description":"SecurityActionMailer#contact_bank_details_changed with freeagent branded company with text body is expected to include \"support@freeagent.com\"","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":303,"run_time":0.00952678,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:11:1:5:5]","description":"is expected to include \"Team FreeAgent\"","full_description":"SecurityActionMailer#contact_bank_details_changed with freeagent branded company with text body is expected to include \"Team FreeAgent\"","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":304,"run_time":0.010119951,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:11:2:1]","description":"sends to the account owner","full_description":"SecurityActionMailer#contact_bank_details_changed with whitelabelled company sends to the account owner","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":327,"run_time":0.053010303,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:11:2:2]","description":"sends from support@freeagent.com","full_description":"SecurityActionMailer#contact_bank_details_changed with whitelabelled company sends from support@freeagent.com","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":331,"run_time":0.053109976,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:11:2:3]","description":"sends with the practice name in the subject","full_description":"SecurityActionMailer#contact_bank_details_changed with whitelabelled company sends with the practice name in the subject","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":335,"run_time":0.05367113,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:11:2:4]","description":"is expected not to be a multipart email","full_description":"SecurityActionMailer#contact_bank_details_changed with whitelabelled company is expected not to be a multipart email","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":339,"run_time":0.061560883,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:11:2:5:1]","description":"is expected to include \"Hi Ed\"","full_description":"SecurityActionMailer#contact_bank_details_changed with whitelabelled company with text body is expected to include \"Hi Ed\"","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":344,"run_time":0.052137481,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:11:2:5:2]","description":"is expected to include \"Sell Fridges\"","full_description":"SecurityActionMailer#contact_bank_details_changed with whitelabelled company with text body is expected to include \"Sell Fridges\"","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":345,"run_time":0.053856324,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:11:2:5:3]","description":"is expected not to include \"FreeAgent\"","full_description":"SecurityActionMailer#contact_bank_details_changed with whitelabelled company with text body is expected not to include \"FreeAgent\"","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":346,"run_time":0.053740316,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:12:1:1]","description":"is expected to be a multipart email","full_description":"SecurityActionMailer#two_factor_enabled for a user is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":356,"run_time":0.053558805,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:12:1:2]","description":"has the correct headers","full_description":"SecurityActionMailer#two_factor_enabled for a user has the correct headers","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":358,"run_time":0.02817668,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:12:1:3]","description":"is from support","full_description":"SecurityActionMailer#two_factor_enabled for a user is from support","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":365,"run_time":0.030604722,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:12:1:4]","description":"has support's details","full_description":"SecurityActionMailer#two_factor_enabled for a user has support's details","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":366,"run_time":0.031588347,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:12:2:1]","description":"is expected to be a multipart email","full_description":"SecurityActionMailer#two_factor_enabled for an account manager is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":374,"run_time":0.171677891,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:12:2:2]","description":"has the correct headers","full_description":"SecurityActionMailer#two_factor_enabled for an account manager has the correct headers","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":376,"run_time":0.153837701,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:12:2:3]","description":"is from support","full_description":"SecurityActionMailer#two_factor_enabled for an account manager is from support","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":383,"run_time":0.162118166,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:12:2:4]","description":"has support's details","full_description":"SecurityActionMailer#two_factor_enabled for an account manager has support's details","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":384,"run_time":0.172607609,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:13:1:1]","description":"is expected to be a multipart email","full_description":"SecurityActionMailer#two_factor_disabled for a user is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":393,"run_time":0.034831941,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:13:1:2]","description":"has the correct headers","full_description":"SecurityActionMailer#two_factor_disabled for a user has the correct headers","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":395,"run_time":0.032597125,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:13:1:3]","description":"is from support","full_description":"SecurityActionMailer#two_factor_disabled for a user is from support","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":402,"run_time":0.032261436,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:13:1:4]","description":"has support's details","full_description":"SecurityActionMailer#two_factor_disabled for a user has support's details","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":403,"run_time":0.034967303,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:13:2:1]","description":"is expected to be a multipart email","full_description":"SecurityActionMailer#two_factor_disabled for an account manager is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":411,"run_time":0.16060151,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:13:2:2]","description":"has the correct headers","full_description":"SecurityActionMailer#two_factor_disabled for an account manager has the correct headers","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":413,"run_time":0.186908159,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:13:2:3]","description":"is from support","full_description":"SecurityActionMailer#two_factor_disabled for an account manager is from support","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":420,"run_time":0.168122413,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/security_action_mailer_spec.rb[1:13:2:4]","description":"has support's details","full_description":"SecurityActionMailer#two_factor_disabled for an account manager has support's details","status":"passed","file_path":"./spec/mailers/security_action_mailer_spec.rb","line_number":421,"run_time":0.166397714,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:1]","description":"GET :edit","full_description":"Admin::AccountancyPracticesController GET :edit","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":11,"run_time":0.108129167,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:2]","description":"GET :companies_csv","full_description":"Admin::AccountancyPracticesController GET :companies_csv","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":19,"run_time":0.050592075,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:3]","description":"GET :active_companies_csv","full_description":"Admin::AccountancyPracticesController GET :active_companies_csv","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":28,"run_time":0.04589682,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:4]","description":"GET :inactive_companies_csv","full_description":"Admin::AccountancyPracticesController GET :inactive_companies_csv","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":37,"run_time":0.045798251,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:5]","description":"GET :closed_companies_csv","full_description":"Admin::AccountancyPracticesController GET :closed_companies_csv","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":46,"run_time":0.042473749,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:10]","description":"GET :linked_companies_csv should output the linked companies as CSV","full_description":"Admin::AccountancyPracticesController GET :linked_companies_csv should output the linked companies as CSV","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":353,"run_time":0.043621097,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:11]","description":"GET :copilot_companies_csv should output the copilot companies as CSV","full_description":"Admin::AccountancyPracticesController GET :copilot_companies_csv should output the copilot companies as CSV","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":362,"run_time":0.049208335,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:13]","description":"GET :summary renders a summary HTML snippet","full_description":"Admin::AccountancyPracticesController GET :summary renders a summary HTML snippet","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":379,"run_time":0.109262714,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:6:1]","description":"lists all accountancy practices by default","full_description":"Admin::AccountancyPracticesController GET :index lists all accountancy practices by default","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":70,"run_time":0.231909346,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:6:2]","description":"can filter FAPD practices","full_description":"Admin::AccountancyPracticesController GET :index can filter FAPD practices","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":78,"run_time":0.245833014,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:6:3]","description":"can filter CoPilot practices","full_description":"Admin::AccountancyPracticesController GET :index can filter CoPilot practices","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":85,"run_time":0.209659749,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:6:4]","description":"can filter by status practices","full_description":"Admin::AccountancyPracticesController GET :index can filter by status practices","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":92,"run_time":0.225095071,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:6:5]","description":"can order by name","full_description":"Admin::AccountancyPracticesController GET :index can order by name","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":100,"run_time":0.22430975,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:6:6]","description":"can order by practice creation time","full_description":"Admin::AccountancyPracticesController GET :index can order by practice creation time","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":107,"run_time":0.245181214,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:7:1]","description":"filters the companies table","full_description":"Admin::AccountancyPracticesController GET :show filters the companies table","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":121,"run_time":0.323595549,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:7:2]","description":"paginates the account managers table using the correct pagination params","full_description":"Admin::AccountancyPracticesController GET :show paginates the account managers table using the correct pagination params","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":130,"run_time":0.30649066,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:7:3]","description":"paginates the companies table using the correct pagination params","full_description":"Admin::AccountancyPracticesController GET :show paginates the companies table using the correct pagination params","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":137,"run_time":0.338412686,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:8:1]","description":"updates the practice","full_description":"Admin::AccountancyPracticesController PUT :update updates the practice","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":146,"run_time":0.068885563,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:8:2]","description":"allow toggling the enable_client_onboarding_journey","full_description":"Admin::AccountancyPracticesController PUT :update allow toggling the enable_client_onboarding_journey","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":161,"run_time":0.070929323,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:8:3]","description":"does NOT update the practice if the params are invalid","full_description":"Admin::AccountancyPracticesController PUT :update does NOT update the practice if the params are invalid","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":176,"run_time":0.081040998,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:8:4]","description":"does not destroy the settings if no settings attributes are posted","full_description":"Admin::AccountancyPracticesController PUT :update does not destroy the settings if no settings attributes are posted","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":188,"run_time":0.048351956,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:8:5]","description":"does not update unpermitted parameters (mass assignment attack)","full_description":"Admin::AccountancyPracticesController PUT :update does not update unpermitted parameters (mass assignment attack)","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":204,"run_time":0.048239633,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:8:6:1]","description":"updates the logo","full_description":"Admin::AccountancyPracticesController PUT :update with a logo updates the logo","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":214,"run_time":0.051507464,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:8:6:2]","description":"handles blank logos","full_description":"Admin::AccountancyPracticesController PUT :update with a logo handles blank logos","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":227,"run_time":0.094104286,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:8:6:3]","description":"handles invalid logos","full_description":"Admin::AccountancyPracticesController PUT :update with a logo handles invalid logos","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":241,"run_time":0.093410955,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:8:7:1:1]","description":"is expected to redirect to \"/admin/accountancy_practices/375\"","full_description":"Admin::AccountancyPracticesController PUT :update with CoPilot params with suitable profile params is expected to redirect to \"/admin/accountancy_practices/375\"","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":272,"run_time":0.120121577,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:8:7:1:2]","description":"should have updated the profile","full_description":"Admin::AccountancyPracticesController PUT :update with CoPilot params with suitable profile params should have updated the profile","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":274,"run_time":0.129266204,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:8:7:2:1]","description":"is expected to render template edit","full_description":"Admin::AccountancyPracticesController PUT :update with CoPilot params with invalid values is expected to render template edit","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":282,"run_time":0.166756996,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:8:7:3:1]","description":"should update the profile, ignoring the blanks","full_description":"Admin::AccountancyPracticesController PUT :update with CoPilot params with blank values should update the profile, ignoring the blanks","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":288,"run_time":0.129594439,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:8:7:4:1]","description":"is expected to redirect to \"/admin/accountancy_practices/387\"","full_description":"Admin::AccountancyPracticesController PUT :update with CoPilot params with non-editable profile attributes is expected to redirect to \"/admin/accountancy_practices/387\"","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":296,"run_time":0.301546964,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:8:7:4:2]","description":"should not have updated the attributes","full_description":"Admin::AccountancyPracticesController PUT :update with CoPilot params with non-editable profile attributes should not have updated the attributes","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":298,"run_time":0.277035981,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:9:1]","description":"allows to edit support details","full_description":"Admin::AccountancyPracticesController GET :edit allows to edit support details","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":306,"run_time":0.468137223,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:9:2:1]","description":"does not allow editing of the salesforce_id field","full_description":"Admin::AccountancyPracticesController GET :edit when signed in as a standard Sales AdminUser does not allow editing of the salesforce_id field","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":313,"run_time":0.124324337,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:9:3:1]","description":"allows editing of the salesforce_id field","full_description":"Admin::AccountancyPracticesController GET :edit when signed in as an AdminUser with 'salesforce_key' permissions allows editing of the salesforce_id field","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":323,"run_time":0.128118778,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:9:4:1:1]","description":"should be allowed","full_description":"Admin::AccountancyPracticesController GET :edit when editing the CoPilot Profile fields for existing CoPilot practices should be allowed","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":338,"run_time":0.175248877,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:9:4:2:1]","description":"should not be allowed","full_description":"Admin::AccountancyPracticesController GET :edit when editing the CoPilot Profile fields for non-CoPilot practices should not be allowed","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":346,"run_time":0.096057346,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/accountancy_practices_controller_spec.rb[1:12:1]","description":"renders the _company_status_dropdown partial","full_description":"Admin::AccountancyPracticesController GET :company_status_dropdown renders the _company_status_dropdown partial","status":"passed","file_path":"./spec/controllers/admin/accountancy_practices_controller_spec.rb","line_number":372,"run_time":0.041111108,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes/new_integration_spec.rb[1:1:1:1]","description":"returns an credit_notes template without an active contact","full_description":"Api::CreditNotesController GET v2/credit_notes/new Company has no credit notes nor contacts returns an credit_notes template without an active contact","status":"passed","file_path":"./spec/requests/api/credit_notes/new_integration_spec.rb","line_number":68,"run_time":0.273727547,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes/new_integration_spec.rb[1:1:2:1]","description":"returns the latest credit_note details when no query params specified","full_description":"Api::CreditNotesController GET v2/credit_notes/new contacts, projects and credit notes exist returns the latest credit_note details when no query params specified","status":"passed","file_path":"./spec/requests/api/credit_notes/new_integration_spec.rb","line_number":103,"run_time":0.418081724,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes/new_integration_spec.rb[1:1:2:2]","description":"returns project and contact details when contact query param specified","full_description":"Api::CreditNotesController GET v2/credit_notes/new contacts, projects and credit notes exist returns project and contact details when contact query param specified","status":"passed","file_path":"./spec/requests/api/credit_notes/new_integration_spec.rb","line_number":111,"run_time":0.419845787,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes/new_integration_spec.rb[1:1:2:3]","description":"returns project and contact urls and IDs when project query param specified","full_description":"Api::CreditNotesController GET v2/credit_notes/new contacts, projects and credit notes exist returns project and contact urls and IDs when project query param specified","status":"passed","file_path":"./spec/requests/api/credit_notes/new_integration_spec.rb","line_number":119,"run_time":0.438089237,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes/new_integration_spec.rb[1:1:2:4]","description":"returns project and contact details when contact and project query params specified","full_description":"Api::CreditNotesController GET v2/credit_notes/new contacts, projects and credit notes exist returns project and contact details when contact and project query params specified","status":"passed","file_path":"./spec/requests/api/credit_notes/new_integration_spec.rb","line_number":125,"run_time":0.425524133,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes/new_integration_spec.rb[1:1:2:5]","description":"returns nested contact when contact and nested_contact query params specified","full_description":"Api::CreditNotesController GET v2/credit_notes/new contacts, projects and credit notes exist returns nested contact when contact and nested_contact query params specified","status":"passed","file_path":"./spec/requests/api/credit_notes/new_integration_spec.rb","line_number":131,"run_time":0.480744087,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes/new_integration_spec.rb[1:1:2:6]","description":"returns nested project when project and nested_project query params specified","full_description":"Api::CreditNotesController GET v2/credit_notes/new contacts, projects and credit notes exist returns nested project when project and nested_project query params specified","status":"passed","file_path":"./spec/requests/api/credit_notes/new_integration_spec.rb","line_number":138,"run_time":0.456595751,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes/new_integration_spec.rb[1:1:2:7]","description":"returns 400 when project and contact does not exist","full_description":"Api::CreditNotesController GET v2/credit_notes/new contacts, projects and credit notes exist returns 400 when project and contact does not exist","status":"passed","file_path":"./spec/requests/api/credit_notes/new_integration_spec.rb","line_number":144,"run_time":0.388421404,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/credit_notes/new_integration_spec.rb[1:1:2:8]","description":"return 400 when invalid combination of project and contact params","full_description":"Api::CreditNotesController GET v2/credit_notes/new contacts, projects and credit notes exist return 400 when invalid combination of project and contact params","status":"passed","file_path":"./spec/requests/api/credit_notes/new_integration_spec.rb","line_number":151,"run_time":0.428447102,"pending_message":null,"screenshot":null},{"id":"./spec/features/timeslips/creating_timeslips_from_the_widget_form_spec.rb[1:1]","description":"allows the user to change to create a timeslip for the given day","full_description":"when creating an timeslip using the widget form allows the user to change to create a timeslip for the given day","status":"passed","file_path":"./spec/features/timeslips/creating_timeslips_from_the_widget_form_spec.rb","line_number":29,"run_time":3.876260067,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations/attach_file_integration_spec.rb[1:1:1]","description":"get a not_found response","full_description":"Api::BankTransactionExplanations::AttachFileController requests to attach file update endpoint not made by the mobile app get a not_found response","status":"passed","file_path":"./spec/support/shared_examples/api_internal_access_examples.rb","line_number":11,"run_time":0.311512244,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations/attach_file_integration_spec.rb[1:2:1]","description":"get a successful response","full_description":"Api::BankTransactionExplanations::AttachFileController requests to attach file update endpoint made by the mobile app get a successful response","status":"passed","file_path":"./spec/support/shared_examples/api_internal_access_examples.rb","line_number":24,"run_time":0.407555,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations/attach_file_integration_spec.rb[1:3:1:1:1]","description":"doesn't allow the user to attach a file to a bank transaction explanation","full_description":"Api::BankTransactionExplanations::AttachFileController requests from internal api apps PUT /bank_transaction_explanations/:id/attach/:file_id for users with permission level lower than 6 doesn't allow the user to attach a file to a bank transaction explanation","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations/attach_file_integration_spec.rb","line_number":42,"run_time":0.270760175,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations/attach_file_integration_spec.rb[1:3:1:2:1]","description":"associates the attachment with the bank transaction explanation","full_description":"Api::BankTransactionExplanations::AttachFileController requests from internal api apps PUT /bank_transaction_explanations/:id/attach/:file_id for users with permission level 6 associates the attachment with the bank transaction explanation","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations/attach_file_integration_spec.rb","line_number":54,"run_time":0.370858148,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations/attach_file_integration_spec.rb[1:3:1:2:2]","description":"destroys the document","full_description":"Api::BankTransactionExplanations::AttachFileController requests from internal api apps PUT /bank_transaction_explanations/:id/attach/:file_id for users with permission level 6 destroys the document","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations/attach_file_integration_spec.rb","line_number":66,"run_time":0.357646567,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations/attach_file_integration_spec.rb[1:3:1:2:3]","description":"frees the used file space from the user's allowance","full_description":"Api::BankTransactionExplanations::AttachFileController requests from internal api apps PUT /bank_transaction_explanations/:id/attach/:file_id for users with permission level 6 frees the used file space from the user's allowance","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations/attach_file_integration_spec.rb","line_number":75,"run_time":0.344366593,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations/attach_file_integration_spec.rb[1:3:1:2:4]","description":"doesn't allow the user to attach a file that already has an attachment","full_description":"Api::BankTransactionExplanations::AttachFileController requests from internal api apps PUT /bank_transaction_explanations/:id/attach/:file_id for users with permission level 6 doesn't allow the user to attach a file that already has an attachment","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations/attach_file_integration_spec.rb","line_number":85,"run_time":0.303435342,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations/attach_file_integration_spec.rb[1:3:1:2:5]","description":"doesn't allow the user to attach a locked file","full_description":"Api::BankTransactionExplanations::AttachFileController requests from internal api apps PUT /bank_transaction_explanations/:id/attach/:file_id for users with permission level 6 doesn't allow the user to attach a locked file","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations/attach_file_integration_spec.rb","line_number":96,"run_time":0.269714819,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations/attach_file_integration_spec.rb[1:3:1:3:1]","description":"allows the user to attach a shared file","full_description":"Api::BankTransactionExplanations::AttachFileController requests from internal api apps PUT /bank_transaction_explanations/:id/attach/:file_id for users with permission level 7 or above allows the user to attach a shared file","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations/attach_file_integration_spec.rb","line_number":112,"run_time":0.352973864,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations/attach_file_integration_spec.rb[1:3:1:3:2]","description":"allows the user to attach a personal file they own","full_description":"Api::BankTransactionExplanations::AttachFileController requests from internal api apps PUT /bank_transaction_explanations/:id/attach/:file_id for users with permission level 7 or above allows the user to attach a personal file they own","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations/attach_file_integration_spec.rb","line_number":125,"run_time":0.357205016,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bank_transaction_explanations/attach_file_integration_spec.rb[1:3:1:3:3]","description":"prevents the user from attaching a personal file they don't own","full_description":"Api::BankTransactionExplanations::AttachFileController requests from internal api apps PUT /bank_transaction_explanations/:id/attach/:file_id for users with permission level 7 or above prevents the user from attaching a personal file they don't own","status":"passed","file_path":"./spec/requests/api/bank_transaction_explanations/attach_file_integration_spec.rb","line_number":140,"run_time":0.301181467,"pending_message":null,"screenshot":null},{"id":"./spec/requests/client_up_to_date_confirmation_spec.rb[1:1:1:3]","description":"marks a company as up to date when up to date until is set to today","full_description":"ClientUpToDateConfirmation when logged in to an account managed company with the client_up_to_date_confirmations feature as a user with estimates and invoices permissions marks a company as up to date when up to date until is set to today","status":"passed","file_path":"./spec/requests/client_up_to_date_confirmation_spec.rb","line_number":46,"run_time":0.328892317,"pending_message":null,"screenshot":null},{"id":"./spec/requests/client_up_to_date_confirmation_spec.rb[1:1:1:4]","description":"does not update company if date is in the future","full_description":"ClientUpToDateConfirmation when logged in to an account managed company with the client_up_to_date_confirmations feature as a user with estimates and invoices permissions does not update company if date is in the future","status":"passed","file_path":"./spec/requests/client_up_to_date_confirmation_spec.rb","line_number":56,"run_time":0.260983266,"pending_message":null,"screenshot":null},{"id":"./spec/requests/client_up_to_date_confirmation_spec.rb[1:1:1:5]","description":"does not update company if date prior to last up_to_date_until","full_description":"ClientUpToDateConfirmation when logged in to an account managed company with the client_up_to_date_confirmations feature as a user with estimates and invoices permissions does not update company if date prior to last up_to_date_until","status":"passed","file_path":"./spec/requests/client_up_to_date_confirmation_spec.rb","line_number":66,"run_time":0.271969884,"pending_message":null,"screenshot":null},{"id":"./spec/requests/client_up_to_date_confirmation_spec.rb[1:1:1:6]","description":"does not update company if given date is invalid [Not a date]","full_description":"ClientUpToDateConfirmation when logged in to an account managed company with the client_up_to_date_confirmations feature as a user with estimates and invoices permissions does not update company if given date is invalid [Not a date]","status":"passed","file_path":"./spec/requests/client_up_to_date_confirmation_spec.rb","line_number":82,"run_time":0.218608594,"pending_message":null,"screenshot":null},{"id":"./spec/requests/client_up_to_date_confirmation_spec.rb[1:1:1:7]","description":"does not update company if given date is invalid [01/02/03]","full_description":"ClientUpToDateConfirmation when logged in to an account managed company with the client_up_to_date_confirmations feature as a user with estimates and invoices permissions does not update company if given date is invalid [01/02/03]","status":"passed","file_path":"./spec/requests/client_up_to_date_confirmation_spec.rb","line_number":82,"run_time":0.217638487,"pending_message":null,"screenshot":null},{"id":"./spec/requests/client_up_to_date_confirmation_spec.rb[1:1:1:8]","description":"does not update company if given date is invalid [2022-14-01]","full_description":"ClientUpToDateConfirmation when logged in to an account managed company with the client_up_to_date_confirmations feature as a user with estimates and invoices permissions does not update company if given date is invalid [2022-14-01]","status":"passed","file_path":"./spec/requests/client_up_to_date_confirmation_spec.rb","line_number":82,"run_time":0.214022879,"pending_message":null,"screenshot":null},{"id":"./spec/requests/client_up_to_date_confirmation_spec.rb[1:1:1:9]","description":"does not update company if given date is invalid [30 Feb 2022]","full_description":"ClientUpToDateConfirmation when logged in to an account managed company with the client_up_to_date_confirmations feature as a user with estimates and invoices permissions does not update company if given date is invalid [30 Feb 2022]","status":"passed","file_path":"./spec/requests/client_up_to_date_confirmation_spec.rb","line_number":82,"run_time":0.224092124,"pending_message":null,"screenshot":null},{"id":"./spec/requests/client_up_to_date_confirmation_spec.rb[1:1:1:10]","description":"does not update company if given date is invalid [13/113/2022]","full_description":"ClientUpToDateConfirmation when logged in to an account managed company with the client_up_to_date_confirmations feature as a user with estimates and invoices permissions does not update company if given date is invalid [13/113/2022]","status":"passed","file_path":"./spec/requests/client_up_to_date_confirmation_spec.rb","line_number":82,"run_time":0.227934834,"pending_message":null,"screenshot":null},{"id":"./spec/requests/client_up_to_date_confirmation_spec.rb[1:1:1:1:1]","description":"shows the confirm that my records are complete portion of the panel","full_description":"ClientUpToDateConfirmation when logged in to an account managed company with the client_up_to_date_confirmations feature as a user with estimates and invoices permissions when the company is not 'up to date' shows the confirm that my records are complete portion of the panel","status":"passed","file_path":"./spec/requests/client_up_to_date_confirmation_spec.rb","line_number":22,"run_time":0.317380495,"pending_message":null,"screenshot":null},{"id":"./spec/requests/client_up_to_date_confirmation_spec.rb[1:1:1:2:1]","description":"does not show the confirm that my records are complete portion of the panel","full_description":"ClientUpToDateConfirmation when logged in to an account managed company with the client_up_to_date_confirmations feature as a user with estimates and invoices permissions when the company is 'up to date' should not be able to make any changes that day does not show the confirm that my records are complete portion of the panel","status":"passed","file_path":"./spec/requests/client_up_to_date_confirmation_spec.rb","line_number":35,"run_time":0.277680683,"pending_message":null,"screenshot":null},{"id":"./spec/requests/client_up_to_date_confirmation_spec.rb[1:1:1:2:2]","description":"shows the tick to show company is up to date","full_description":"ClientUpToDateConfirmation when logged in to an account managed company with the client_up_to_date_confirmations feature as a user with estimates and invoices permissions when the company is 'up to date' should not be able to make any changes that day shows the tick to show company is up to date","status":"passed","file_path":"./spec/requests/client_up_to_date_confirmation_spec.rb","line_number":40,"run_time":0.302298039,"pending_message":null,"screenshot":null},{"id":"./spec/requests/client_up_to_date_confirmation_spec.rb[1:1:2:1]","description":"marks the company up to date successfully","full_description":"ClientUpToDateConfirmation when logged in to an account managed company with the client_up_to_date_confirmations feature when the company has a different date format marks the company up to date successfully","status":"passed","file_path":"./spec/requests/client_up_to_date_confirmation_spec.rb","line_number":95,"run_time":0.315137223,"pending_message":null,"screenshot":null},{"id":"./spec/requests/client_up_to_date_confirmation_spec.rb[1:1:3:2]","description":"is not able to mark the company as being up to date","full_description":"ClientUpToDateConfirmation when logged in to an account managed company with the client_up_to_date_confirmations feature as a user with Contacts and Projects permissions is not able to mark the company as being up to date","status":"passed","file_path":"./spec/requests/client_up_to_date_confirmation_spec.rb","line_number":114,"run_time":0.271531324,"pending_message":null,"screenshot":null},{"id":"./spec/requests/client_up_to_date_confirmation_spec.rb[1:1:3:1:1]","description":"does not show the up to date confirmation form","full_description":"ClientUpToDateConfirmation when logged in to an account managed company with the client_up_to_date_confirmations feature as a user with Contacts and Projects permissions when the company is not 'up to date' does not show the up to date confirmation form","status":"passed","file_path":"./spec/requests/client_up_to_date_confirmation_spec.rb","line_number":108,"run_time":0.290403558,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bills/new_spec.rb[1:1:1:1]","description":"gets new bill template with the appropriate params","full_description":"Api::BillsController#new with no pre-existing bill gets new bill template with the appropriate params","status":"passed","file_path":"./spec/requests/api/bills/new_spec.rb","line_number":23,"run_time":0.256350475,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bills/new_spec.rb[1:1:2:1]","description":"gets new bill template with the appropriate params","full_description":"Api::BillsController#new with a pre-existing native currency bill with input_total_values_inc_tax set to true gets new bill template with the appropriate params","status":"passed","file_path":"./spec/requests/api/bills/new_spec.rb","line_number":39,"run_time":0.432483777,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bills/new_spec.rb[1:1:3:1]","description":"gets new bill template with the appropriate params","full_description":"Api::BillsController#new with a pre-existing native currency bill with input_total_values_inc_tax set to false gets new bill template with the appropriate params","status":"passed","file_path":"./spec/requests/api/bills/new_spec.rb","line_number":55,"run_time":0.395225866,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/bills/new_spec.rb[1:1:4:1]","description":"gets new bill template with the appropriate params","full_description":"Api::BillsController#new with a pre-existing foreign currency bill gets new bill template with the appropriate params","status":"passed","file_path":"./spec/requests/api/bills/new_spec.rb","line_number":71,"run_time":0.432266364,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/cancelled_company_next_payment_date_spec.rb[1:1:1:1:1]","description":"sets the next_payment_date to the cancelled_at date","full_description":"Subscription::CancelledCompanyNextPaymentDate #next_payment_date for a cancelled annual direct company with a full refund after cancelling in the first 7 days of a subscription sets the next_payment_date to the cancelled_at date","status":"passed","file_path":"./spec/models/subscription/cancelled_company_next_payment_date_spec.rb","line_number":26,"run_time":0.180843997,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/cancelled_company_next_payment_date_spec.rb[1:1:1:2:1:1]","description":"correctly sets the next_payment_date to the last subs date plus 1 month","full_description":"Subscription::CancelledCompanyNextPaymentDate #next_payment_date for a cancelled annual direct company that cancelled during days 8 to 30 of the subscription with a partial refund correctly sets the next_payment_date to the last subs date plus 1 month","status":"passed","file_path":"./spec/models/subscription/cancelled_company_next_payment_date_spec.rb","line_number":40,"run_time":0.196293626,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/cancelled_company_next_payment_date_spec.rb[1:1:1:2:2:1]","description":"sets the next_payment_date to the cancelled_at date","full_description":"Subscription::CancelledCompanyNextPaymentDate #next_payment_date for a cancelled annual direct company that cancelled during days 8 to 30 of the subscription with a full refund sets the next_payment_date to the cancelled_at date","status":"passed","file_path":"./spec/models/subscription/cancelled_company_next_payment_date_spec.rb","line_number":49,"run_time":0.171414317,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/cancelled_company_next_payment_date_spec.rb[1:1:1:2:3:1]","description":"sets the next_payment_date to the cancelled_at date","full_description":"Subscription::CancelledCompanyNextPaymentDate #next_payment_date for a cancelled annual direct company that cancelled during days 8 to 30 of the subscription with two partial refunds which make up to a full refund sets the next_payment_date to the cancelled_at date","status":"passed","file_path":"./spec/models/subscription/cancelled_company_next_payment_date_spec.rb","line_number":62,"run_time":0.272172728,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/cancelled_company_next_payment_date_spec.rb[1:1:1:3:1]","description":"sets the next_payment_date to the cancelled_at date by default","full_description":"Subscription::CancelledCompanyNextPaymentDate #next_payment_date for a cancelled annual direct company with a refund after cancelling beyond 30 days of subs being taken sets the next_payment_date to the cancelled_at date by default","status":"passed","file_path":"./spec/models/subscription/cancelled_company_next_payment_date_spec.rb","line_number":73,"run_time":0.187718903,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/cancelled_company_next_payment_date_spec.rb[1:1:2:1:1]","description":"sets the next_payment_date to the cancelled_at date","full_description":"Subscription::CancelledCompanyNextPaymentDate #next_payment_date for a cancelled monthly direct company with a full refund sets the next_payment_date to the cancelled_at date","status":"passed","file_path":"./spec/models/subscription/cancelled_company_next_payment_date_spec.rb","line_number":95,"run_time":0.182836639,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/cancelled_company_next_payment_date_spec.rb[1:1:3:1:1]","description":"returns the current next_payment_date","full_description":"Subscription::CancelledCompanyNextPaymentDate #next_payment_date for an active direct company with a full refund returns the current next_payment_date","status":"passed","file_path":"./spec/models/subscription/cancelled_company_next_payment_date_spec.rb","line_number":115,"run_time":0.201973403,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription/cancelled_company_next_payment_date_spec.rb[1:1:4:1]","description":"returns nil","full_description":"Subscription::CancelledCompanyNextPaymentDate #next_payment_date for an RBSG company with previous subscription invoice returns nil","status":"passed","file_path":"./spec/models/subscription/cancelled_company_next_payment_date_spec.rb","line_number":130,"run_time":0.206758727,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/scopes_spec.rb[1:1:1]","description":"excludes bills with approved payit payments","full_description":"Bill#has_no_approved_payments excludes bills with approved payit payments","status":"passed","file_path":"./spec/models/bills/scopes_spec.rb","line_number":32,"run_time":0.612382781,"pending_message":null,"screenshot":null},{"id":"./spec/models/bills/scopes_spec.rb[1:2:1]","description":"returns paid and zero value bills only","full_description":"Bill.paid returns paid and zero value bills only","status":"passed","file_path":"./spec/models/bills/scopes_spec.rb","line_number":50,"run_time":0.735704353,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb[1:1:1:1]","description":"is expected to render template getting_started/open_banking_banking_details","full_description":"GettingStarted::OpenBankingBankingDetailsController for a RBS Group company #show is expected to render template getting_started/open_banking_banking_details","status":"passed","file_path":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb","line_number":27,"run_time":0.263042948,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb[1:1:1:2]","description":"displays the correct default bank name for UK companies","full_description":"GettingStarted::OpenBankingBankingDetailsController for a RBS Group company #show displays the correct default bank name for UK companies","status":"passed","file_path":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb","line_number":29,"run_time":0.185723931,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb[1:1:1:3]","description":"displays the correct label for sort code","full_description":"GettingStarted::OpenBankingBankingDetailsController for a RBS Group company #show displays the correct label for sort code","status":"passed","file_path":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb","line_number":33,"run_time":0.22469011,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb[1:1:1:4]","description":"displays the correct label for opening balance","full_description":"GettingStarted::OpenBankingBankingDetailsController for a RBS Group company #show displays the correct label for opening balance","status":"passed","file_path":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb","line_number":37,"run_time":0.155095241,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb[1:1:1:5]","description":"uses FreeAgent start date for opening balances help text","full_description":"GettingStarted::OpenBankingBankingDetailsController for a RBS Group company #show uses FreeAgent start date for opening balances help text","status":"passed","file_path":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb","line_number":41,"run_time":0.164786132,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb[1:1:1:6]","description":"defaults to a zero opening balance","full_description":"GettingStarted::OpenBankingBankingDetailsController for a RBS Group company #show defaults to a zero opening balance","status":"passed","file_path":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb","line_number":46,"run_time":0.157272568,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb[1:1:2:1]","description":"does not track the step and displays errors to the user if banking details are invalid","full_description":"GettingStarted::OpenBankingBankingDetailsController for a RBS Group company #update does not track the step and displays errors to the user if banking details are invalid","status":"passed","file_path":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb","line_number":52,"run_time":0.180340043,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb[1:1:2:2]","description":"tracks the step and redirects to the overview page if banking details are valid","full_description":"GettingStarted::OpenBankingBankingDetailsController for a RBS Group company #update tracks the step and redirects to the overview page if banking details are valid","status":"passed","file_path":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb","line_number":62,"run_time":0.186735428,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb[1:2:1]","description":"displays the extra instructions","full_description":"GettingStarted::OpenBankingBankingDetailsController for a company provisioned by frontbook onboarding displays the extra instructions","status":"passed","file_path":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb","line_number":98,"run_time":0.149552412,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb[1:2:2]","description":"removes the non-editable fields","full_description":"GettingStarted::OpenBankingBankingDetailsController for a company provisioned by frontbook onboarding removes the non-editable fields","status":"passed","file_path":"./spec/controllers/getting_started/open_banking_banking_details_controller_spec.rb","line_number":102,"run_time":0.180616629,"pending_message":null,"screenshot":null},{"id":"./spec/features/mileage_spec.rb[1:1:1]","description":"shows and hides form fields correctly","full_description":"Mileage A VAT registered UK company shows and hides form fields correctly","status":"passed","file_path":"./spec/features/mileage_spec.rb","line_number":12,"run_time":1.997453894,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/invoices/foreign_currency_vat_cis_part_paid_then_written_off.feature[1:1:1]","description":"Given a uk sole trader -\u003e And exchange rates are setup -\u003e And a foreign currency invoice: CIS, part paid then written off, with VAT -\u003e Given VAT settings: Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Part Paid then Written Off Foreign Currency VAT CIS Invoice VAT due Given a uk sole trader -\u003e And exchange rates are setup -\u003e And a foreign currency invoice: CIS, part paid then written off, with VAT -\u003e Given VAT settings: Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/invoices/foreign_currency_vat_cis_part_paid_then_written_off.feature","line_number":15,"run_time":0.071211972,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/invoices/foreign_currency_vat_cis_part_paid_then_written_off.feature[1:2:1]","description":"Given a uk sole trader -\u003e And exchange rates are setup -\u003e And a foreign currency invoice: CIS, part paid then written off, with VAT -\u003e Given VAT settings: Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Part Paid then Written Off Foreign Currency VAT CIS Invoice VAT on payment Given a uk sole trader -\u003e And exchange rates are setup -\u003e And a foreign currency invoice: CIS, part paid then written off, with VAT -\u003e Given VAT settings: Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/invoices/foreign_currency_vat_cis_part_paid_then_written_off.feature","line_number":89,"run_time":0.044363361,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/invoices/foreign_currency_vat_cis_part_paid_then_written_off.feature[1:3:1]","description":"Given a uk sole trader -\u003e And exchange rates are setup -\u003e And a foreign currency invoice: CIS, part paid then written off, with VAT -\u003e Given VAT settings: Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Part Paid then Written Off Foreign Currency VAT CIS Invoice VAT due at 11.5% FRS rate Given a uk sole trader -\u003e And exchange rates are setup -\u003e And a foreign currency invoice: CIS, part paid then written off, with VAT -\u003e Given VAT settings: Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/invoices/foreign_currency_vat_cis_part_paid_then_written_off.feature","line_number":166,"run_time":0.060886798,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/invoices/foreign_currency_vat_cis_part_paid_then_written_off.feature[1:4:1]","description":"Given a uk sole trader -\u003e And exchange rates are setup -\u003e And a foreign currency invoice: CIS, part paid then written off, with VAT -\u003e Given VAT settings: Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Part Paid then Written Off Foreign Currency VAT CIS Invoice FRS VAT on payment Given a uk sole trader -\u003e And exchange rates are setup -\u003e And a foreign currency invoice: CIS, part paid then written off, with VAT -\u003e Given VAT settings: Cash basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/invoices/foreign_currency_vat_cis_part_paid_then_written_off.feature","line_number":242,"run_time":0.056120092,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:1:34]","description":"deletes activated signups","full_description":"Company::ForgetCompanyData Deleting all data for a VAT registered UK company deletes activated signups","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":435,"run_time":1.150091812,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/bank_feed_finder_spec.rb[1:1:1]","description":"should raise error if bank_account_reference is not provided","full_description":"BankFeeds::BankFeedFinder.find should raise error if bank_account_reference is not provided","status":"passed","file_path":"./spec/models/bank_feeds/bank_feed_finder_spec.rb","line_number":7,"run_time":0.003601972,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/bank_feed_finder_spec.rb[1:1:2]","description":"should raise error if company reference not provided","full_description":"BankFeeds::BankFeedFinder.find should raise error if company reference not provided","status":"passed","file_path":"./spec/models/bank_feeds/bank_feed_finder_spec.rb","line_number":13,"run_time":0.002409306,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/bank_feed_finder_spec.rb[1:1:3]","description":"should raise error if company not found","full_description":"BankFeeds::BankFeedFinder.find should raise error if company not found","status":"passed","file_path":"./spec/models/bank_feeds/bank_feed_finder_spec.rb","line_number":19,"run_time":0.003929567,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/bank_feed_finder_spec.rb[1:1:4]","description":"should match on bank_account_reference","full_description":"BankFeeds::BankFeedFinder.find should match on bank_account_reference","status":"passed","file_path":"./spec/models/bank_feeds/bank_feed_finder_spec.rb","line_number":25,"run_time":0.077731223,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/bank_feed_finder_spec.rb[1:1:5]","description":"should match on bank account number suffix if old bank_account_reference is blank","full_description":"BankFeeds::BankFeedFinder.find should match on bank account number suffix if old bank_account_reference is blank","status":"passed","file_path":"./spec/models/bank_feeds/bank_feed_finder_spec.rb","line_number":30,"run_time":0.066232041,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/bank_feed_finder_spec.rb[1:1:6]","description":"should match on bank_account_reference even if account number suffix doesn't match","full_description":"BankFeeds::BankFeedFinder.find should match on bank_account_reference even if account number suffix doesn't match","status":"passed","file_path":"./spec/models/bank_feeds/bank_feed_finder_spec.rb","line_number":36,"run_time":0.061995323,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/bank_feed_finder_spec.rb[1:1:7]","description":"should match on both bank_account_reference and account number suffix","full_description":"BankFeeds::BankFeedFinder.find should match on both bank_account_reference and account number suffix","status":"passed","file_path":"./spec/models/bank_feeds/bank_feed_finder_spec.rb","line_number":42,"run_time":0.060659469,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/bank_feed_finder_spec.rb[1:1:8]","description":"should prefer match on bank_account_reference over match on bank account number suffix","full_description":"BankFeeds::BankFeedFinder.find should prefer match on bank_account_reference over match on bank account number suffix","status":"passed","file_path":"./spec/models/bank_feeds/bank_feed_finder_spec.rb","line_number":48,"run_time":0.129519352,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/bank_feed_finder_spec.rb[1:1:9]","description":"should only match account number suffix for feeds without bank_account_reference","full_description":"BankFeeds::BankFeedFinder.find should only match account number suffix for feeds without bank_account_reference","status":"passed","file_path":"./spec/models/bank_feeds/bank_feed_finder_spec.rb","line_number":58,"run_time":0.06943624,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/bank_feed_finder_spec.rb[1:1:10]","description":"should not match inactive feeds","full_description":"BankFeeds::BankFeedFinder.find should not match inactive feeds","status":"passed","file_path":"./spec/models/bank_feeds/bank_feed_finder_spec.rb","line_number":67,"run_time":0.189984486,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/bank_feed_finder_spec.rb[1:1:11]","description":"should not match on another company","full_description":"BankFeeds::BankFeedFinder.find should not match on another company","status":"passed","file_path":"./spec/models/bank_feeds/bank_feed_finder_spec.rb","line_number":82,"run_time":0.228417383,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/bank_feed_finder_spec.rb[1:1:12]","description":"should raise error if there are multiple matches","full_description":"BankFeeds::BankFeedFinder.find should raise error if there are multiple matches","status":"passed","file_path":"./spec/models/bank_feeds/bank_feed_finder_spec.rb","line_number":94,"run_time":0.140160385,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/landing_zone/zones_spec.rb[1:1:1:1:1]","description":"is expected to equal true","full_description":"LandingZone::Zones#available_zones? when the company is eligible with available zones is expected to equal true","status":"passed","file_path":"./spec/freeagent/landing_zone/zones_spec.rb","line_number":23,"run_time":0.087694823,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/landing_zone/zones_spec.rb[1:1:1:2:1]","description":"is expected to equal false","full_description":"LandingZone::Zones#available_zones? when the company is eligible without available zones is expected to equal false","status":"passed","file_path":"./spec/freeagent/landing_zone/zones_spec.rb","line_number":29,"run_time":0.104468764,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/landing_zone/zones_spec.rb[1:1:2:1:1]","description":"is expected to equal false","full_description":"LandingZone::Zones#available_zones? when the company is not eligible with available zones is expected to equal false","status":"passed","file_path":"./spec/freeagent/landing_zone/zones_spec.rb","line_number":39,"run_time":0.141845847,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/landing_zone/zones_spec.rb[1:1:2:2:1]","description":"is expected to equal false","full_description":"LandingZone::Zones#available_zones? when the company is not eligible without available zones is expected to equal false","status":"passed","file_path":"./spec/freeagent/landing_zone/zones_spec.rb","line_number":45,"run_time":0.082749115,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/landing_zone/zones_spec.rb[1:2:1:1:1]","description":"sets it as dismissed","full_description":"LandingZone::Zones#mark_as_dismissed when the company is eligible with an available zone sets it as dismissed","status":"passed","file_path":"./spec/freeagent/landing_zone/zones_spec.rb","line_number":60,"run_time":0.085195019,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/landing_zone/zones_spec.rb[1:2:1:2:1]","description":"does not change the dismissed_at time","full_description":"LandingZone::Zones#mark_as_dismissed when the company is eligible with an already dismissed zone does not change the dismissed_at time","status":"passed","file_path":"./spec/freeagent/landing_zone/zones_spec.rb","line_number":73,"run_time":0.078302192,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/landing_zone/zones_spec.rb[1:2:1:3:1]","description":"is expected to equal false","full_description":"LandingZone::Zones#mark_as_dismissed when the company is eligible for a non-existent zone is expected to equal false","status":"passed","file_path":"./spec/freeagent/landing_zone/zones_spec.rb","line_number":82,"run_time":0.009373063,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/landing_zone/zones_spec.rb[1:2:2:1]","description":"does not mark the zone as dismissed","full_description":"LandingZone::Zones#mark_as_dismissed when the company is ineligible does not mark the zone as dismissed","status":"passed","file_path":"./spec/freeagent/landing_zone/zones_spec.rb","line_number":90,"run_time":0.014404089,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/practice_mailer_spec.rb[1:1:1]","description":"has correct header","full_description":"PracticeMailer FAPD onboarding email has correct header","status":"passed","file_path":"./spec/mailers/practice_mailer_spec.rb","line_number":11,"run_time":0.052453542,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/practice_mailer_spec.rb[1:1:2]","description":"is expected not to have click tracking","full_description":"PracticeMailer FAPD onboarding email is expected not to have click tracking","status":"passed","file_path":"./spec/mailers/practice_mailer_spec.rb","line_number":24,"run_time":0.041898138,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/practice_mailer_spec.rb[1:1:3]","description":"is expected to be a multipart email","full_description":"PracticeMailer FAPD onboarding email is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/practice_mailer_spec.rb","line_number":26,"run_time":0.041200843,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/practice_mailer_spec.rb[1:1:4]","description":"contains the support url","full_description":"PracticeMailer FAPD onboarding email contains the support url","status":"passed","file_path":"./spec/mailers/practice_mailer_spec.rb","line_number":28,"run_time":0.041293077,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/practice_mailer_spec.rb[1:1:5]","description":"notifies the error service when an invalid request ID is passed","full_description":"PracticeMailer FAPD onboarding email notifies the error service when an invalid request ID is passed","status":"passed","file_path":"./spec/mailers/practice_mailer_spec.rb","line_number":33,"run_time":0.004142374,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/practice_mailer_spec.rb[1:2:1]","description":"has correct header","full_description":"PracticeMailer FAPD onboarding followup email has correct header","status":"passed","file_path":"./spec/mailers/practice_mailer_spec.rb","line_number":46,"run_time":0.034905668,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/practice_mailer_spec.rb[1:2:2]","description":"is expected to have click tracking","full_description":"PracticeMailer FAPD onboarding followup email is expected to have click tracking","status":"passed","file_path":"./spec/mailers/practice_mailer_spec.rb","line_number":59,"run_time":0.033537765,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/practice_mailer_spec.rb[1:2:3]","description":"is expected to be a multipart email","full_description":"PracticeMailer FAPD onboarding followup email is expected to be a multipart email","status":"passed","file_path":"./spec/mailers/practice_mailer_spec.rb","line_number":61,"run_time":0.044305014,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/practice_mailer_spec.rb[1:2:4]","description":"contains information about watching the video","full_description":"PracticeMailer FAPD onboarding followup email contains information about watching the video","status":"passed","file_path":"./spec/mailers/practice_mailer_spec.rb","line_number":63,"run_time":0.050527259,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/practice_mailer_spec.rb[1:2:5]","description":"contains information about taking the course","full_description":"PracticeMailer FAPD onboarding followup email contains information about taking the course","status":"passed","file_path":"./spec/mailers/practice_mailer_spec.rb","line_number":73,"run_time":0.048726843,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/practice_mailer_spec.rb[1:2:6]","description":"contains information about bookmarking the knowledge base","full_description":"PracticeMailer FAPD onboarding followup email contains information about bookmarking the knowledge base","status":"passed","file_path":"./spec/mailers/practice_mailer_spec.rb","line_number":81,"run_time":0.038947646,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/practice_mailer_spec.rb[1:2:7]","description":"contains practice support contact information","full_description":"PracticeMailer FAPD onboarding followup email contains practice support contact information","status":"passed","file_path":"./spec/mailers/practice_mailer_spec.rb","line_number":86,"run_time":0.051997111,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/practice_mailer_spec.rb[1:3:1]","description":"returns a FreeAgent-branded email containing a link to download the report","full_description":"PracticeMailer#accountancy_practice_report_notification returns a FreeAgent-branded email containing a link to download the report","status":"passed","file_path":"./spec/mailers/practice_mailer_spec.rb","line_number":100,"run_time":0.219992431,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/practice_mailer_spec.rb[1:3:2]","description":"returns a plain-text email branded for a white-labelled practice","full_description":"PracticeMailer#accountancy_practice_report_notification returns a plain-text email branded for a white-labelled practice","status":"passed","file_path":"./spec/mailers/practice_mailer_spec.rb","line_number":125,"run_time":0.217667894,"pending_message":null,"screenshot":null},{"id":"./spec/mailers/practice_mailer_spec.rb[1:3:3]","description":"tailors the subject and the body to the type of report","full_description":"PracticeMailer#accountancy_practice_report_notification tailors the subject and the body to the type of report","status":"passed","file_path":"./spec/mailers/practice_mailer_spec.rb","line_number":150,"run_time":0.218593965,"pending_message":null,"screenshot":null},{"id":"./spec/policies/estimate_item_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"EstimateItemPolicy a user with permission level below ESTIMATES_AND_INVOICES is expected to equal false","status":"passed","file_path":"./spec/policies/estimate_item_policy_spec.rb","line_number":21,"run_time":0.009466744,"pending_message":null,"screenshot":null},{"id":"./spec/policies/estimate_item_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"EstimateItemPolicy a user with permission level ESTIMATES_AND_INVOICES is expected to equal true","status":"passed","file_path":"./spec/policies/estimate_item_policy_spec.rb","line_number":38,"run_time":0.007722055,"pending_message":null,"screenshot":null},{"id":"./spec/policies/estimate_item_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"EstimateItemPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/estimate_item_policy_spec.rb","line_number":55,"run_time":0.048181755,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:2:1:3:1]","description":"representing cost of sales","full_description":"UkAccountsMapper Accounts Mapper for UK companies who have applied for VAT registration before their registration effective date Expenses representing cost of sales","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":1148,"run_time":0.193399967,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:2:2:2:7:5]","description":"representing non-category expense (purchase of capital asset)","full_description":"UkAccountsMapper Accounts Mapper for UK companies who have applied for VAT registration after their registration effective date Bank Account Entries for the payment of a bill representing non-category expense (purchase of capital asset)","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":1805,"run_time":0.670776509,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:64:1:1:1]","description":"is valid and displays the VAT registration number","full_description":"Invoice An 'EC Services' invoice for a VAT-registered company when creating in with ec service status for a contact based inside the EU is valid and displays the VAT registration number","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":1732,"run_time":0.164717892,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/banquo/transactions_predictions_spec.rb[1:1:1]","description":"can return the raw response","full_description":"Banking::Banquo::TransactionsPredictions For a given transaction can return the raw response","status":"passed","file_path":"./spec/models/banking/banquo/transactions_predictions_spec.rb","line_number":47,"run_time":0.003865012,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/banquo/transactions_predictions_spec.rb[1:1:2]","description":"can return up ordered suggestions for a given transaction","full_description":"Banking::Banquo::TransactionsPredictions For a given transaction can return up ordered suggestions for a given transaction","status":"passed","file_path":"./spec/models/banking/banquo/transactions_predictions_spec.rb","line_number":51,"run_time":0.155055472,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/banquo/transactions_predictions_spec.rb[1:1:3:1]","description":"is the expected threshold version when the transaction has the key","full_description":"Banking::Banquo::TransactionsPredictions For a given transaction #threshold_version is the expected threshold version when the transaction has the key","status":"passed","file_path":"./spec/models/banking/banquo/transactions_predictions_spec.rb","line_number":83,"run_time":0.15320369,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/banquo/transactions_predictions_spec.rb[1:1:3:2]","description":"is nil when the transaction is missing the key","full_description":"Banking::Banquo::TransactionsPredictions For a given transaction #threshold_version is nil when the transaction is missing the key","status":"passed","file_path":"./spec/models/banking/banquo/transactions_predictions_spec.rb","line_number":87,"run_time":0.15003965,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/banquo/transactions_predictions_spec.rb[1:1:3:3]","description":"is nil when the transaction does not have any predictions","full_description":"Banking::Banquo::TransactionsPredictions For a given transaction #threshold_version is nil when the transaction does not have any predictions","status":"passed","file_path":"./spec/models/banking/banquo/transactions_predictions_spec.rb","line_number":91,"run_time":0.356140704,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/banquo/transactions_predictions_spec.rb[1:2:1]","description":"returns the correct version","full_description":"Banking::Banquo::TransactionsPredictions#model_version returns the correct version","status":"passed","file_path":"./spec/models/banking/banquo/transactions_predictions_spec.rb","line_number":99,"run_time":0.026257701,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/orphaned_capital_assets_check_spec.rb[1:1:1]","description":"is expected not to have a failure on #\u003cBankAccountEntry id: 16, bank_account_id: 380302813, description: \"Rotisserie\", dated_on: \"2022-12-...ed_for_review: false, company_id: 895397833, general_ledger_account_id: 392416042, property_id: nil\u003e","full_description":"OrphanedCapitalAssetsCheck Checking a company with correct capital assets is expected not to have a failure on #\u003cBankAccountEntry id: 16, bank_account_id: 380302813, description: \"Rotisserie\", dated_on: \"2022-12-...ed_for_review: false, company_id: 895397833, general_ledger_account_id: 392416042, property_id: nil\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/orphaned_capital_assets_check_spec.rb","line_number":19,"run_time":1.004331747,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/orphaned_capital_assets_check_spec.rb[1:2:1]","description":"is expected to have a failure on #\u003cBankAccountEntry id: 17, bank_account_id: 380302813, description: \"Rotisserie\", dated_on: \"2022-12-...ed_for_review: false, company_id: 895397833, general_ledger_account_id: 392416042, property_id: nil\u003e","full_description":"OrphanedCapitalAssetsCheck Checking a company with an orphaned capital asset is expected to have a failure on #\u003cBankAccountEntry id: 17, bank_account_id: 380302813, description: \"Rotisserie\", dated_on: \"2022-12-...ed_for_review: false, company_id: 895397833, general_ledger_account_id: 392416042, property_id: nil\u003e","status":"passed","file_path":"./spec/models/health_robinson/check/orphaned_capital_assets_check_spec.rb","line_number":27,"run_time":0.141957512,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/orphaned_capital_assets_check_spec.rb[1:2:2]","description":"is expected to have a failure like / has been deleted but has an attached CapitalAsset/","full_description":"OrphanedCapitalAssetsCheck Checking a company with an orphaned capital asset is expected to have a failure like / has been deleted but has an attached CapitalAsset/","status":"passed","file_path":"./spec/models/health_robinson/check/orphaned_capital_assets_check_spec.rb","line_number":29,"run_time":0.134530515,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_services_category_validator_spec.rb[1:1:1]","description":"does not allow disallowed categories","full_description":"EcServicesCategoryValidator EC Services purchases - Bills does not allow disallowed categories","status":"passed","file_path":"./spec/validators/ec_services_category_validator_spec.rb","line_number":32,"run_time":0.113784271,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_services_category_validator_spec.rb[1:1:2]","description":"allows allowable categories","full_description":"EcServicesCategoryValidator EC Services purchases - Bills allows allowable categories","status":"passed","file_path":"./spec/validators/ec_services_category_validator_spec.rb","line_number":41,"run_time":0.109401986,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_services_category_validator_spec.rb[1:2:1]","description":"does not allow disallowed categories","full_description":"EcServicesCategoryValidator EC Services purchases - BankAccountEntries does not allow disallowed categories","status":"passed","file_path":"./spec/validators/ec_services_category_validator_spec.rb","line_number":55,"run_time":0.11315095,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_services_category_validator_spec.rb[1:2:2]","description":"allows allowable categories","full_description":"EcServicesCategoryValidator EC Services purchases - BankAccountEntries allows allowable categories","status":"passed","file_path":"./spec/validators/ec_services_category_validator_spec.rb","line_number":64,"run_time":0.10048166,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_services_category_validator_spec.rb[1:3:1]","description":"does not allow disallowed categories","full_description":"EcServicesCategoryValidator EC Services purchases - Expenses does not allow disallowed categories","status":"passed","file_path":"./spec/validators/ec_services_category_validator_spec.rb","line_number":73,"run_time":0.101035229,"pending_message":null,"screenshot":null},{"id":"./spec/validators/ec_services_category_validator_spec.rb[1:3:2]","description":"allows allowable categories","full_description":"EcServicesCategoryValidator EC Services purchases - Expenses allows allowable categories","status":"passed","file_path":"./spec/validators/ec_services_category_validator_spec.rb","line_number":82,"run_time":0.105426766,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/companies/edit.html.erb_spec.rb[1:1:1:1]","description":"is freeagent.com","full_description":"practice_dashboard/companies/edit subdomain hint for a FA-Friendly practice is freeagent.com","status":"passed","file_path":"./spec/views/practice_dashboard/companies/edit.html.erb_spec.rb","line_number":28,"run_time":0.172940358,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/companies/edit.html.erb_spec.rb[1:1:2:1]","description":"is the whitelabelled domain name","full_description":"practice_dashboard/companies/edit subdomain hint for a whitelabelled practice is the whitelabelled domain name","status":"passed","file_path":"./spec/views/practice_dashboard/companies/edit.html.erb_spec.rb","line_number":37,"run_time":0.159003351,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/companies/edit.html.erb_spec.rb[1:2:1:1]","description":"does not render practice client churn reason form fields","full_description":"practice_dashboard/companies/edit practice client churn form fields when practice_client_churn feature is disabled does not render practice client churn reason form fields","status":"passed","file_path":"./spec/views/practice_dashboard/companies/edit.html.erb_spec.rb","line_number":53,"run_time":0.156782728,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/companies/edit.html.erb_spec.rb[1:2:2:1]","description":"renders practice client churn reason form fields","full_description":"practice_dashboard/companies/edit practice client churn form fields when practice_client_churn feature is enabled renders practice client churn reason form fields","status":"passed","file_path":"./spec/views/practice_dashboard/companies/edit.html.erb_spec.rb","line_number":64,"run_time":0.162106237,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/ec_services.feature[1:1:1]","description":"Given a uk sole trader -\u003e And a bill: ec services -\u003e Given VAT settings: Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"EC Services Reverse Charge Given a uk sole trader -\u003e And a bill: ec services -\u003e Given VAT settings: Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/ec_services.feature","line_number":9,"run_time":0.061117468,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/ec_services.feature[1:2:1]","description":"Given a uk sole trader -\u003e And a bill: ec services -\u003e Given VAT settings: Any basis, not FRS, then Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"EC Services Reverse Charge Given a uk sole trader -\u003e And a bill: ec services -\u003e Given VAT settings: Any basis, not FRS, then Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/ec_services.feature","line_number":9,"run_time":0.032030735,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/ec_services.feature[1:3:1]","description":"Given a uk sole trader -\u003e And a bill: ec services -\u003e Given VAT settings: Any basis, not FRS, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"EC Services Reverse Charge Given a uk sole trader -\u003e And a bill: ec services -\u003e Given VAT settings: Any basis, not FRS, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/ec_services.feature","line_number":9,"run_time":0.063030045,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/ec_services.feature[1:4:1]","description":"Given a uk sole trader -\u003e And a bill: ec services -\u003e Given VAT settings: Any basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"EC Services Reverse Charge Given a uk sole trader -\u003e And a bill: ec services -\u003e Given VAT settings: Any basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/ec_services.feature","line_number":9,"run_time":0.042871055,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/ec_services.feature[1:5:1]","description":"Given a uk sole trader -\u003e And a bill: ec services -\u003e Given VAT settings: Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"EC Services Reverse Charge Given a uk sole trader -\u003e And a bill: ec services -\u003e Given VAT settings: Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/ec_services.feature","line_number":9,"run_time":0.038325788,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/ec_services.feature[1:6:1]","description":"Given a uk sole trader -\u003e And a bill: ec services -\u003e Given VAT settings: Any basis, FRS, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"EC Services Reverse Charge Given a uk sole trader -\u003e And a bill: ec services -\u003e Given VAT settings: Any basis, FRS, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/ec_services.feature","line_number":9,"run_time":0.039214457,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/ec_services.feature[1:7:1]","description":"Given a uk sole trader -\u003e And a bill: ec services -\u003e Given VAT settings: Any basis, FRS, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"EC Services Reverse Charge Given a uk sole trader -\u003e And a bill: ec services -\u003e Given VAT settings: Any basis, FRS, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/ec_services.feature","line_number":9,"run_time":0.041802635,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/ec_services.feature[1:8:1]","description":"Given a uk sole trader -\u003e And a bill: ec services -\u003e Given VAT settings: Any basis, FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"EC Services Reverse Charge Given a uk sole trader -\u003e And a bill: ec services -\u003e Given VAT settings: Any basis, FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/ec_services.feature","line_number":9,"run_time":0.028415419,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:2:2:4:4]","description":"representing out of VAT scope admin expense","full_description":"UkAccountsMapper Accounts Mapper for UK companies who have applied for VAT registration after their registration effective date Bills representing out of VAT scope admin expense","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":2008,"run_time":0.273840015,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/orphaned_notifications_check_spec.rb[1:1:1:1]","description":"doesn't return any error","full_description":"OrphanedNotificationsCheck when the check is run when the source item is still present doesn't return any error","status":"passed","file_path":"./spec/models/health_robinson/check/orphaned_notifications_check_spec.rb","line_number":14,"run_time":0.085230527,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/orphaned_notifications_check_spec.rb[1:1:2:1]","description":"returns an error on the notification","full_description":"OrphanedNotificationsCheck when the check is run when the source item is gone returns an error on the notification","status":"passed","file_path":"./spec/models/health_robinson/check/orphaned_notifications_check_spec.rb","line_number":24,"run_time":0.084249705,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/orphaned_notifications_check_spec.rb[1:1:2:2]","description":"gives an error description","full_description":"OrphanedNotificationsCheck when the check is run when the source item is gone gives an error description","status":"passed","file_path":"./spec/models/health_robinson/check/orphaned_notifications_check_spec.rb","line_number":28,"run_time":0.085120864,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/orphaned_notifications_check_spec.rb[1:2:1]","description":"has a valid item check","full_description":"OrphanedNotificationsCheck when the original item is deleted has a valid item check","status":"passed","file_path":"./spec/models/health_robinson/check/orphaned_notifications_check_spec.rb","line_number":42,"run_time":0.085284437,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_hire_purchase_under_2000.feature[1:1:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset hire purchase under 2000 -\u003e Given VAT settings: Not registered -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets on hire purchase worth under £2000 No VAT Given a uk sole trader -\u003e And a bill: capital asset hire purchase under 2000 -\u003e Given VAT settings: Not registered -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_hire_purchase_under_2000.feature","line_number":17,"run_time":0.045221981,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_hire_purchase_under_2000.feature[1:2:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset hire purchase under 2000 -\u003e Given VAT settings: Any basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets on hire purchase worth under £2000 No VAT Given a uk sole trader -\u003e And a bill: capital asset hire purchase under 2000 -\u003e Given VAT settings: Any basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_hire_purchase_under_2000.feature","line_number":17,"run_time":0.033010048,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_hire_purchase_under_2000.feature[1:3:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset hire purchase under 2000 -\u003e Given VAT settings: Any basis, FRS, then Any basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets on hire purchase worth under £2000 No VAT Given a uk sole trader -\u003e And a bill: capital asset hire purchase under 2000 -\u003e Given VAT settings: Any basis, FRS, then Any basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_hire_purchase_under_2000.feature","line_number":17,"run_time":0.036915145,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_hire_purchase_under_2000.feature[1:4:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset hire purchase under 2000 -\u003e Given VAT settings: Any basis, FRS, then Any basis, not FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets on hire purchase worth under £2000 No VAT Given a uk sole trader -\u003e And a bill: capital asset hire purchase under 2000 -\u003e Given VAT settings: Any basis, FRS, then Any basis, not FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_hire_purchase_under_2000.feature","line_number":17,"run_time":0.038868548,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_hire_purchase_under_2000.feature[1:5:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset hire purchase under 2000 -\u003e Given VAT settings: Any basis, FRS, then de-registered -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets on hire purchase worth under £2000 No VAT Given a uk sole trader -\u003e And a bill: capital asset hire purchase under 2000 -\u003e Given VAT settings: Any basis, FRS, then de-registered -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_hire_purchase_under_2000.feature","line_number":17,"run_time":0.028148894,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_hire_purchase_under_2000.feature[1:6:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset hire purchase under 2000 -\u003e Given VAT settings: Not registered, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets on hire purchase worth under £2000 Pre-registration, reclaim VAT on registration Given a uk sole trader -\u003e And a bill: capital asset hire purchase under 2000 -\u003e Given VAT settings: Not registered, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_hire_purchase_under_2000.feature","line_number":48,"run_time":0.026629335,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_hire_purchase_under_2000.feature[1:7:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset hire purchase under 2000 -\u003e Given VAT settings: Not registered, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets on hire purchase worth under £2000 Pre-registration, reclaim VAT on registration Given a uk sole trader -\u003e And a bill: capital asset hire purchase under 2000 -\u003e Given VAT settings: Not registered, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_hire_purchase_under_2000.feature","line_number":48,"run_time":0.027661971,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_hire_purchase_under_2000.feature[1:8:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset hire purchase under 2000 -\u003e Given VAT settings: Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets on hire purchase worth under £2000 Reclaimed VAT on bill date Given a uk sole trader -\u003e And a bill: capital asset hire purchase under 2000 -\u003e Given VAT settings: Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_hire_purchase_under_2000.feature","line_number":87,"run_time":0.026416832,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_hire_purchase_under_2000.feature[1:9:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset hire purchase under 2000 -\u003e Given VAT settings: Any basis, not FRS, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets on hire purchase worth under £2000 Reclaimed VAT on bill date Given a uk sole trader -\u003e And a bill: capital asset hire purchase under 2000 -\u003e Given VAT settings: Any basis, not FRS, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_hire_purchase_under_2000.feature","line_number":87,"run_time":0.029198365,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_hire_purchase_under_2000.feature[1:10:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset hire purchase under 2000 -\u003e Given VAT settings: Any basis, not FRS, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets on hire purchase worth under £2000 Reclaimed VAT on bill date Given a uk sole trader -\u003e And a bill: capital asset hire purchase under 2000 -\u003e Given VAT settings: Any basis, not FRS, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_hire_purchase_under_2000.feature","line_number":87,"run_time":0.042445887,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_hire_purchase_under_2000.feature[1:11:1]","description":"Given a uk sole trader -\u003e And a bill: capital asset hire purchase under 2000 -\u003e Given VAT settings: Any basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Capital assets on hire purchase worth under £2000 Reclaimed VAT on bill date Given a uk sole trader -\u003e And a bill: capital asset hire purchase under 2000 -\u003e Given VAT settings: Any basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/capital_assets_hire_purchase_under_2000.feature","line_number":87,"run_time":0.029482258,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/hmrc/index.html.erb_spec.rb[1:1:1]","description":"does not show the support access warning notice","full_description":"admin/companies/hmrc/index when the company has support access enabled does not show the support access warning notice","status":"passed","file_path":"./spec/views/admin/companies/hmrc/index.html.erb_spec.rb","line_number":20,"run_time":0.069576808,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/hmrc/index.html.erb_spec.rb[1:2:1]","description":"shows the support access warning notice","full_description":"admin/companies/hmrc/index when the company has support access disabled shows the support access warning notice","status":"passed","file_path":"./spec/views/admin/companies/hmrc/index.html.erb_spec.rb","line_number":30,"run_time":0.072198418,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/hmrc/index.html.erb_spec.rb[1:3:1]","description":"renders the year_ends_card partial","full_description":"admin/companies/hmrc/index when the company is a limited company renders the year_ends_card partial","status":"passed","file_path":"./spec/views/admin/companies/hmrc/index.html.erb_spec.rb","line_number":38,"run_time":0.052562014,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/hmrc/index.html.erb_spec.rb[1:4:1]","description":"renders the year_ends_card partial","full_description":"admin/companies/hmrc/index when the company is not a limited company renders the year_ends_card partial","status":"passed","file_path":"./spec/views/admin/companies/hmrc/index.html.erb_spec.rb","line_number":48,"run_time":0.146175021,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/inline/sales_tax_effects_controller_spec.rb[1:1:1]","description":"show the sales tax effects","full_description":"Admin::Inline::SalesTaxEffectsController without permission to edit sales tax effects show the sales tax effects","status":"passed","file_path":"./spec/controllers/admin/inline/sales_tax_effects_controller_spec.rb","line_number":18,"run_time":0.152027246,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/inline/sales_tax_effects_controller_spec.rb[1:2:1]","description":"rebuilds the sales tax effects on demand","full_description":"Admin::Inline::SalesTaxEffectsController with permission to edit sales tax effects rebuilds the sales tax effects on demand","status":"passed","file_path":"./spec/controllers/admin/inline/sales_tax_effects_controller_spec.rb","line_number":32,"run_time":0.135560946,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/practice_transfers_controller_spec.rb[1:1:1:1]","description":"allows for the compleing of the transfer","full_description":"Admin::PracticeTransfersController with a valid, pending transfer when the user does not have the new_sudo_company_show_page feature allows for the compleing of the transfer","status":"passed","file_path":"./spec/controllers/admin/practice_transfers_controller_spec.rb","line_number":15,"run_time":0.097568855,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/practice_transfers_controller_spec.rb[1:1:1:2]","description":"allows for the cancelling of the transfer","full_description":"Admin::PracticeTransfersController with a valid, pending transfer when the user does not have the new_sudo_company_show_page feature allows for the cancelling of the transfer","status":"passed","file_path":"./spec/controllers/admin/practice_transfers_controller_spec.rb","line_number":23,"run_time":0.054323679,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/practice_transfers_controller_spec.rb[1:1:2:1]","description":"allows for the compleing of the transfer","full_description":"Admin::PracticeTransfersController with a valid, pending transfer when the user has the new_sudo_company_show_page feature allows for the compleing of the transfer","status":"passed","file_path":"./spec/controllers/admin/practice_transfers_controller_spec.rb","line_number":35,"run_time":0.146388078,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/practice_transfers_controller_spec.rb[1:1:2:2]","description":"allows for the cancelling of the transfer","full_description":"Admin::PracticeTransfersController with a valid, pending transfer when the user has the new_sudo_company_show_page feature allows for the cancelling of the transfer","status":"passed","file_path":"./spec/controllers/admin/practice_transfers_controller_spec.rb","line_number":43,"run_time":0.074093354,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/promotions_helper_spec.rb[1:1:1]","description":"returns an empty string when the query is blank","full_description":"Admin::PromotionsHelper#matching_text returns an empty string when the query is blank","status":"passed","file_path":"./spec/helpers/admin/promotions_helper_spec.rb","line_number":8,"run_time":0.004436794,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/admin/promotions_helper_spec.rb[1:1:2]","description":"returns text showing what the results are matching when a query is present","full_description":"Admin::PromotionsHelper#matching_text returns text showing what the results are matching when a query is present","status":"passed","file_path":"./spec/helpers/admin/promotions_helper_spec.rb","line_number":12,"run_time":0.002739649,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rule_factory_spec.rb[1:1:1:1]","description":"returns the matching AlertRule class","full_description":"PracticeAlerts::RuleFactory.find_rule_class when AlertRule exists for a code returns the matching AlertRule class","status":"passed","file_path":"./spec/models/practice_alerts/rule_factory_spec.rb","line_number":9,"run_time":0.002539649,"pending_message":null,"screenshot":null},{"id":"./spec/models/practice_alerts/rule_factory_spec.rb[1:1:2:1]","description":"returns nil","full_description":"PracticeAlerts::RuleFactory.find_rule_class when AlertRule does not exist for code returns nil","status":"passed","file_path":"./spec/models/practice_alerts/rule_factory_spec.rb","line_number":16,"run_time":0.002500723,"pending_message":null,"screenshot":null},{"id":"./spec/models/attribute_locking/stock_transaction_check_spec.rb[1:1:1]","description":"should return true when the item has transactions","full_description":"AttributeLocking::StockTransactionCheck stock transactions check should return true when the item has transactions","status":"passed","file_path":"./spec/models/attribute_locking/stock_transaction_check_spec.rb","line_number":9,"run_time":0.002421326,"pending_message":null,"screenshot":null},{"id":"./spec/models/attribute_locking/stock_transaction_check_spec.rb[1:1:2]","description":"should return false when the item has no transactions","full_description":"AttributeLocking::StockTransactionCheck stock transactions check should return false when the item has no transactions","status":"passed","file_path":"./spec/models/attribute_locking/stock_transaction_check_spec.rb","line_number":14,"run_time":0.002289518,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/bank_feed_statement_spec.rb[1:1:1]","description":"should raise no error if currency matches expected currency","full_description":"BankFeeds::BankFeedStatement validate_currency should raise no error if currency matches expected currency","status":"passed","file_path":"./spec/models/bank_feeds/bank_feed_statement_spec.rb","line_number":7,"run_time":0.002495223,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_feeds/bank_feed_statement_spec.rb[1:1:2]","description":"should raise an UnsupportedCurrencyError when the currency does not match expected currency","full_description":"BankFeeds::BankFeedStatement validate_currency should raise an UnsupportedCurrencyError when the currency does not match expected currency","status":"passed","file_path":"./spec/models/bank_feeds/bank_feed_statement_spec.rb","line_number":27,"run_time":0.002209947,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/fake_rules_spec.rb[1:1:1]","description":"returns fake rule names","full_description":"Radar::Insights::FakeRules.fake_rules returns fake rule names","status":"passed","file_path":"./spec/models/radar/insights/fake_rules_spec.rb","line_number":6,"run_time":0.002562882,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/fake_rules_spec.rb[1:1:2]","description":"excludes base modules","full_description":"Radar::Insights::FakeRules.fake_rules excludes base modules","status":"passed","file_path":"./spec/models/radar/insights/fake_rules_spec.rb","line_number":12,"run_time":0.002364795,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/mobile/push/gcm_formatter_spec.rb[1:1]","description":"formats the GCM message for a notification","full_description":"Mobile::Push::GcmFormatter formats the GCM message for a notification","status":"passed","file_path":"./spec/freeagent/mobile/push/gcm_formatter_spec.rb","line_number":18,"run_time":0.002452606,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/mobile/push/gcm_formatter_spec.rb[1:2]","description":"formats the GCM message for a cancellation","full_description":"Mobile::Push::GcmFormatter formats the GCM message for a cancellation","status":"passed","file_path":"./spec/freeagent/mobile/push/gcm_formatter_spec.rb","line_number":41,"run_time":0.002257536,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_payment_method_paypal_here_spec.rb[1:1:1]","description":"is expected to eq \"paypal_here\"","full_description":"InvoicePaymentMethodPaypalHere#codename is expected to eq \"paypal_here\"","status":"passed","file_path":"./spec/models/invoice_payment_method_paypal_here_spec.rb","line_number":13,"run_time":0.003949293,"pending_message":null,"screenshot":null},{"id":"./spec/models/omniauth_initializer_spec.rb[1:1:1]","description":"replaces the first subdomain with `login` and appends the callback path","full_description":"OmniAuthInitializer#login_domain_redirect_uri replaces the first subdomain with `login` and appends the callback path","status":"passed","file_path":"./spec/models/omniauth_initializer_spec.rb","line_number":8,"run_time":0.002382807,"pending_message":null,"screenshot":null},{"id":"./spec/lib/shrine_spec.rb[1:1:1:1]","description":"falls back to the extension","full_description":"Shrine mime type extraction empty file falls back to the extension","status":"passed","file_path":"./spec/lib/shrine_spec.rb","line_number":24,"run_time":0.004462363,"pending_message":null,"screenshot":null},{"id":"./spec/lib/freeagent_sidekiq_json_log_formatter_spec.rb[1:1]","description":"decorates the logged message","full_description":"FreeagentSidekiqJsonLogFormatter decorates the logged message","status":"passed","file_path":"./spec/lib/freeagent_sidekiq_json_log_formatter_spec.rb","line_number":17,"run_time":0.002784969,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/writers/array_spec.rb[1:1:1]","description":"returns a CSV representation of the result","full_description":"Exporter::Writers::Array to_csv returns a CSV representation of the result","status":"passed","file_path":"./spec/models/integrations/exporter/writers/array_spec.rb","line_number":7,"run_time":0.002606067,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/responses/configure_spec.rb[1:1:1]","description":"is the url from the response body","full_description":"Tyl::Responses::Configure#onboarding_url is the url from the response body","status":"passed","file_path":"./spec/integrations/tyl/responses/configure_spec.rb","line_number":12,"run_time":0.002522856,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage/uk_stages_spec.rb[1:1]","description":"has a list of illustrations for the stages","full_description":"Company::SetupStage::UkStages has a list of illustrations for the stages","status":"passed","file_path":"./spec/models/company/setup_stage/uk_stages_spec.rb","line_number":7,"run_time":0.002272892,"pending_message":null,"screenshot":null}],"summary":{"duration":0.059821376,"example_count":612,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"612 examples, 0 failures"}