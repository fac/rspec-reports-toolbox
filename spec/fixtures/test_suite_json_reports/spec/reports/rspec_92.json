{"version":"3.11.0","messages":["Run options:\n  include {:ids=\u003e{\"./spec/models/invoice_spec.rb\"=\u003e[\"1:27:1\", \"1:123:1:1\"], \"./spec/models/uk_accounts_mapper_spec.rb\"=\u003e[\"1:1:4:1\", \"1:1:4:2\"]}}\n  exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/features/banking/cashflow_spec.rb[1:1]","description":"see the overview page after log in","full_description":"Banking Cashflow see the overview page after log in","status":"passed","file_path":"./spec/features/banking/cashflow_spec.rb","line_number":16,"run_time":5.315552638,"pending_message":null,"screenshot":null},{"id":"./spec/features/banking/cashflow_spec.rb[1:2]","description":"if per_page is fewer than the total items in incoming","full_description":"Banking Cashflow if per_page is fewer than the total items in incoming","status":"passed","file_path":"./spec/features/banking/cashflow_spec.rb","line_number":28,"run_time":3.515232564,"pending_message":null,"screenshot":null},{"id":"./spec/features/banking/cashflow_spec.rb[1:4]","description":"can view cashflow dashboard page","full_description":"Banking Cashflow can view cashflow dashboard page","status":"passed","file_path":"./spec/features/banking/cashflow_spec.rb","line_number":70,"run_time":1.724799038,"pending_message":null,"screenshot":null},{"id":"./spec/features/banking/cashflow_spec.rb[1:5]","description":"change expected dated of a cashflow item","full_description":"Banking Cashflow change expected dated of a cashflow item","status":"passed","file_path":"./spec/features/banking/cashflow_spec.rb","line_number":80,"run_time":4.93684073,"pending_message":null,"screenshot":null},{"id":"./spec/features/banking/cashflow_spec.rb[1:6]","description":"see validation errors","full_description":"Banking Cashflow see validation errors","status":"passed","file_path":"./spec/features/banking/cashflow_spec.rb","line_number":140,"run_time":2.729087633,"pending_message":null,"screenshot":null},{"id":"./spec/features/banking/cashflow_spec.rb[1:7]","description":"can add incoming manual events","full_description":"Banking Cashflow can add incoming manual events","status":"passed","file_path":"./spec/features/banking/cashflow_spec.rb","line_number":186,"run_time":3.526248932,"pending_message":null,"screenshot":null},{"id":"./spec/features/banking/cashflow_spec.rb[1:8]","description":"can add outgoing manual events","full_description":"Banking Cashflow can add outgoing manual events","status":"passed","file_path":"./spec/features/banking/cashflow_spec.rb","line_number":214,"run_time":3.019586723,"pending_message":null,"screenshot":null},{"id":"./spec/features/banking/cashflow_spec.rb[1:9]","description":"can delete manual events","full_description":"Banking Cashflow can delete manual events","status":"passed","file_path":"./spec/features/banking/cashflow_spec.rb","line_number":240,"run_time":3.115572015,"pending_message":null,"screenshot":null},{"id":"./spec/features/banking/cashflow_spec.rb[1:10]","description":"can edit incoming manual events","full_description":"Banking Cashflow can edit incoming manual events","status":"passed","file_path":"./spec/features/banking/cashflow_spec.rb","line_number":262,"run_time":3.84707816,"pending_message":null,"screenshot":null},{"id":"./spec/features/banking/cashflow_spec.rb[1:11]","description":"can edit outgoing manual events","full_description":"Banking Cashflow can edit outgoing manual events","status":"passed","file_path":"./spec/features/banking/cashflow_spec.rb","line_number":297,"run_time":3.313566327,"pending_message":null,"screenshot":null},{"id":"./spec/features/banking/cashflow_spec.rb[1:12]","description":"can add/edit/delete manual events","full_description":"Banking Cashflow can add/edit/delete manual events","status":"passed","file_path":"./spec/features/banking/cashflow_spec.rb","line_number":334,"run_time":5.355274147,"pending_message":null,"screenshot":null},{"id":"./spec/features/banking/cashflow_spec.rb[1:13]","description":"can edit an existing recurring event","full_description":"Banking Cashflow can edit an existing recurring event","status":"passed","file_path":"./spec/features/banking/cashflow_spec.rb","line_number":398,"run_time":4.041757992,"pending_message":null,"screenshot":null},{"id":"./spec/features/banking/cashflow_spec.rb[1:14]","description":"can exclude predicted events","full_description":"Banking Cashflow can exclude predicted events","status":"passed","file_path":"./spec/features/banking/cashflow_spec.rb","line_number":441,"run_time":4.762152933,"pending_message":null,"screenshot":null},{"id":"./spec/features/banking/cashflow_spec.rb[1:3:1]","description":"returns future incoming payments in Incoming panel","full_description":"Banking Cashflow display incoming line items returns future incoming payments in Incoming panel","status":"passed","file_path":"./spec/features/banking/cashflow_spec.rb","line_number":59,"run_time":1.695463396,"pending_message":null,"screenshot":null},{"id":"./spec/features/login_spec.rb[1:1]","description":"login as a regular user from the login subdomain","full_description":"login login as a regular user from the login subdomain","status":"passed","file_path":"./spec/features/login_spec.rb","line_number":26,"run_time":2.667192658,"pending_message":null,"screenshot":null},{"id":"./spec/features/login_spec.rb[1:3]","description":"wrong user name or password","full_description":"login wrong user name or password","status":"passed","file_path":"./spec/features/login_spec.rb","line_number":67,"run_time":0.874103955,"pending_message":null,"screenshot":null},{"id":"./spec/features/login_spec.rb[1:6]","description":"login as a regular user from the account subdomain","full_description":"login login as a regular user from the account subdomain","status":"passed","file_path":"./spec/features/login_spec.rb","line_number":143,"run_time":1.904638641,"pending_message":null,"screenshot":null},{"id":"./spec/features/login_spec.rb[1:7]","description":"login as an account manager from the practice subdomain","full_description":"login login as an account manager from the practice subdomain","status":"passed","file_path":"./spec/features/login_spec.rb","line_number":148,"run_time":1.253541502,"pending_message":null,"screenshot":null},{"id":"./spec/features/login_spec.rb[1:8]","description":"login as an account manager from the login subdomain","full_description":"login login as an account manager from the login subdomain","status":"passed","file_path":"./spec/features/login_spec.rb","line_number":153,"run_time":1.246488902,"pending_message":null,"screenshot":null},{"id":"./spec/features/login_spec.rb[1:12]","description":"login as an account manager with multiple accounts with the same username/password","full_description":"login login as an account manager with multiple accounts with the same username/password","status":"passed","file_path":"./spec/features/login_spec.rb","line_number":300,"run_time":2.236022401,"pending_message":null,"screenshot":null},{"id":"./spec/features/login_spec.rb[1:13]","description":"login with two factor authentication enabled","full_description":"login login with two factor authentication enabled","status":"passed","file_path":"./spec/features/login_spec.rb","line_number":314,"run_time":2.21564544,"pending_message":null,"screenshot":null},{"id":"./spec/features/login_spec.rb[1:14]","description":"mobile login","full_description":"login mobile login","status":"passed","file_path":"./spec/features/login_spec.rb","line_number":323,"run_time":1.352262645,"pending_message":null,"screenshot":null},{"id":"./spec/features/login_spec.rb[1:2:1]","description":"using the company domain","full_description":"login visiting a restricted page without being logged in using the company domain","status":"passed","file_path":"./spec/features/login_spec.rb","line_number":36,"run_time":1.275651105,"pending_message":null,"screenshot":null},{"id":"./spec/features/login_spec.rb[1:2:2]","description":"using the login domain","full_description":"login visiting a restricted page without being logged in using the login domain","status":"passed","file_path":"./spec/features/login_spec.rb","line_number":42,"run_time":1.474246159,"pending_message":null,"screenshot":null},{"id":"./spec/features/login_spec.rb[1:2:3]","description":"using the company domain with 2fa","full_description":"login visiting a restricted page without being logged in using the company domain with 2fa","status":"passed","file_path":"./spec/features/login_spec.rb","line_number":48,"run_time":1.66343477,"pending_message":null,"screenshot":null},{"id":"./spec/features/login_spec.rb[1:2:4]","description":"using the login domain with 2fa","full_description":"login visiting a restricted page without being logged in using the login domain with 2fa","status":"passed","file_path":"./spec/features/login_spec.rb","line_number":57,"run_time":1.824044767,"pending_message":null,"screenshot":null},{"id":"./spec/features/login_spec.rb[1:4:1]","description":"presents an appropriate message","full_description":"login logging into to a company, managed by a suspended accountancy practice presents an appropriate message","status":"passed","file_path":"./spec/features/login_spec.rb","line_number":77,"run_time":1.090145837,"pending_message":null,"screenshot":null},{"id":"./spec/features/login_spec.rb[1:4:2:1]","description":"shows the company picker screen and allows login to the active company","full_description":"login logging into to a company, managed by a suspended accountancy practice with credentials matching another active company shows the company picker screen and allows login to the active company","status":"passed","file_path":"./spec/features/login_spec.rb","line_number":86,"run_time":2.339269551,"pending_message":null,"screenshot":null},{"id":"./spec/features/login_spec.rb[1:4:2:2]","description":"shows the company picker screen and stops login to the company managed by a suspended practice","full_description":"login logging into to a company, managed by a suspended accountancy practice with credentials matching another active company shows the company picker screen and stops login to the company managed by a suspended practice","status":"passed","file_path":"./spec/features/login_spec.rb","line_number":93,"run_time":1.274754321,"pending_message":null,"screenshot":null},{"id":"./spec/features/login_spec.rb[1:5:1]","description":"lets you know that the company is cancelled when feature is disabled","full_description":"login logging into a cancelled company lets you know that the company is cancelled when feature is disabled","status":"passed","file_path":"./spec/features/login_spec.rb","line_number":110,"run_time":0.890531878,"pending_message":null,"screenshot":null},{"id":"./spec/features/login_spec.rb[1:5:3]","description":"does not bypass authentication backoff","full_description":"login logging into a cancelled company does not bypass authentication backoff","status":"passed","file_path":"./spec/features/login_spec.rb","line_number":134,"run_time":1.008445486,"pending_message":null,"screenshot":null},{"id":"./spec/features/login_spec.rb[1:5:2:1]","description":"lets a user with full access redirect to their reactivate account page","full_description":"login logging into a cancelled company when feature is enabled lets a user with full access redirect to their reactivate account page","status":"passed","file_path":"./spec/features/login_spec.rb","line_number":119,"run_time":1.438241797,"pending_message":null,"screenshot":null},{"id":"./spec/features/login_spec.rb[1:5:2:2]","description":"lets a user without full access know that the company is cancelled","full_description":"login logging into a cancelled company when feature is enabled lets a user without full access know that the company is cancelled","status":"passed","file_path":"./spec/features/login_spec.rb","line_number":125,"run_time":0.829559592,"pending_message":null,"screenshot":null},{"id":"./spec/features/login_spec.rb[1:9:1]","description":"from the login subdomain","full_description":"login logging in as a user with multiple accounts with the same username/password from the login subdomain","status":"passed","file_path":"./spec/features/login_spec.rb","line_number":163,"run_time":2.593157923,"pending_message":null,"screenshot":null},{"id":"./spec/features/login_spec.rb[1:9:2]","description":"checking the 'Keep me logged in' checkbox","full_description":"login logging in as a user with multiple accounts with the same username/password checking the 'Keep me logged in' checkbox","status":"passed","file_path":"./spec/features/login_spec.rb","line_number":177,"run_time":2.772708499,"pending_message":null,"screenshot":null},{"id":"./spec/features/login_spec.rb[1:9:3]","description":"not checking the 'Keep me logged in' checkbox","full_description":"login logging in as a user with multiple accounts with the same username/password not checking the 'Keep me logged in' checkbox","status":"passed","file_path":"./spec/features/login_spec.rb","line_number":190,"run_time":2.727692214,"pending_message":null,"screenshot":null},{"id":"./spec/features/login_spec.rb[1:9:4]","description":"from the account subdomain","full_description":"login logging in as a user with multiple accounts with the same username/password from the account subdomain","status":"passed","file_path":"./spec/features/login_spec.rb","line_number":203,"run_time":1.826204548,"pending_message":null,"screenshot":null},{"id":"./spec/features/login_spec.rb[1:10:1]","description":"takes you to the account selection screen with the cancelled account disabled","full_description":"login login as a user with credentials matching two active and one cancelled account takes you to the account selection screen with the cancelled account disabled","status":"passed","file_path":"./spec/features/login_spec.rb","line_number":227,"run_time":2.978251499,"pending_message":null,"screenshot":null},{"id":"./spec/features/login_spec.rb[1:11:1:1]","description":"lets you know the accounts are cancelled if users have full access","full_description":"login login with credentials matching two cancelled accounts with feature disabled lets you know the accounts are cancelled if users have full access","status":"passed","file_path":"./spec/features/login_spec.rb","line_number":254,"run_time":1.16101264,"pending_message":null,"screenshot":null},{"id":"./spec/features/login_spec.rb[1:11:1:2]","description":"lets you know the accounts are cancelled if users do not have full access","full_description":"login login with credentials matching two cancelled accounts with feature disabled lets you know the accounts are cancelled if users do not have full access","status":"passed","file_path":"./spec/features/login_spec.rb","line_number":264,"run_time":1.063920515,"pending_message":null,"screenshot":null},{"id":"./spec/features/login_spec.rb[1:11:2:1]","description":"lets you know the accounts are cancelled if users have full access","full_description":"login login with credentials matching two cancelled accounts with feature enabled lets you know the accounts are cancelled if users have full access","status":"passed","file_path":"./spec/features/login_spec.rb","line_number":278,"run_time":1.231183714,"pending_message":null,"screenshot":null},{"id":"./spec/features/login_spec.rb[1:11:2:2]","description":"lets you know the accounts are cancelled if users do not have full access","full_description":"login login with credentials matching two cancelled accounts with feature enabled lets you know the accounts are cancelled if users do not have full access","status":"passed","file_path":"./spec/features/login_spec.rb","line_number":288,"run_time":1.060137674,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:1:1:1:1]","description":"returns a category defined on the Insight model","full_description":"Radar::Insights::Rules::TopSpendingCategories behaves like an insight rule behaves like a ping rule #category returns a category defined on the Insight model","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":11,"run_time":0.008253655,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:1:1:2:1]","description":"returns a boolean","full_description":"Radar::Insights::Rules::TopSpendingCategories behaves like an insight rule behaves like a ping rule #send_notifications? returns a boolean","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":17,"run_time":0.003918721,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:1:2:1]","description":"has category Insight","full_description":"Radar::Insights::Rules::TopSpendingCategories behaves like an insight rule #category has category Insight","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rules/concerns/insight_category.rb","line_number":10,"run_time":0.003282488,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:2:1]","description":"includes all companies","full_description":"Radar::Insights::Rules::TopSpendingCategories behaves like an insight for all companies includes all companies","status":"passed","file_path":"./spec/support/shared_examples/insights_inscope_companies.rb","line_number":6,"run_time":0.686673294,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:3:1]","description":"does not generate an insight 0 months after the end of the accounting year","full_description":"Radar::Insights::Rules::TopSpendingCategories behaves like a calendar insight does not generate an insight 0 months after the end of the accounting year","status":"passed","file_path":"./spec/support/shared_examples/insights_calendar_rules.rb","line_number":14,"run_time":0.104062926,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:3:2]","description":"does not generate an insight 1 months after the end of the accounting year","full_description":"Radar::Insights::Rules::TopSpendingCategories behaves like a calendar insight does not generate an insight 1 months after the end of the accounting year","status":"passed","file_path":"./spec/support/shared_examples/insights_calendar_rules.rb","line_number":14,"run_time":0.096496719,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:3:3]","description":"does not generate an insight 2 months after the end of the accounting year","full_description":"Radar::Insights::Rules::TopSpendingCategories behaves like a calendar insight does not generate an insight 2 months after the end of the accounting year","status":"passed","file_path":"./spec/support/shared_examples/insights_calendar_rules.rb","line_number":14,"run_time":0.101273181,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:3:4]","description":"does not generate an insight 3 months after the end of the accounting year","full_description":"Radar::Insights::Rules::TopSpendingCategories behaves like a calendar insight does not generate an insight 3 months after the end of the accounting year","status":"passed","file_path":"./spec/support/shared_examples/insights_calendar_rules.rb","line_number":14,"run_time":0.079242908,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:3:5]","description":"generates an insight 4 months after the end of the accounting year","full_description":"Radar::Insights::Rules::TopSpendingCategories behaves like a calendar insight generates an insight 4 months after the end of the accounting year","status":"passed","file_path":"./spec/support/shared_examples/insights_calendar_rules.rb","line_number":7,"run_time":0.087972979,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:3:6]","description":"does not generate an insight 5 months after the end of the accounting year","full_description":"Radar::Insights::Rules::TopSpendingCategories behaves like a calendar insight does not generate an insight 5 months after the end of the accounting year","status":"passed","file_path":"./spec/support/shared_examples/insights_calendar_rules.rb","line_number":14,"run_time":0.08248564,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:3:7]","description":"does not generate an insight 6 months after the end of the accounting year","full_description":"Radar::Insights::Rules::TopSpendingCategories behaves like a calendar insight does not generate an insight 6 months after the end of the accounting year","status":"passed","file_path":"./spec/support/shared_examples/insights_calendar_rules.rb","line_number":14,"run_time":0.087053348,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:3:8]","description":"does not generate an insight 7 months after the end of the accounting year","full_description":"Radar::Insights::Rules::TopSpendingCategories behaves like a calendar insight does not generate an insight 7 months after the end of the accounting year","status":"passed","file_path":"./spec/support/shared_examples/insights_calendar_rules.rb","line_number":14,"run_time":0.10836087,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:3:9]","description":"does not generate an insight 8 months after the end of the accounting year","full_description":"Radar::Insights::Rules::TopSpendingCategories behaves like a calendar insight does not generate an insight 8 months after the end of the accounting year","status":"passed","file_path":"./spec/support/shared_examples/insights_calendar_rules.rb","line_number":14,"run_time":0.106314604,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:3:10]","description":"does not generate an insight 9 months after the end of the accounting year","full_description":"Radar::Insights::Rules::TopSpendingCategories behaves like a calendar insight does not generate an insight 9 months after the end of the accounting year","status":"passed","file_path":"./spec/support/shared_examples/insights_calendar_rules.rb","line_number":14,"run_time":0.109773054,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:3:11]","description":"generates an insight 10 months after the end of the accounting year","full_description":"Radar::Insights::Rules::TopSpendingCategories behaves like a calendar insight generates an insight 10 months after the end of the accounting year","status":"passed","file_path":"./spec/support/shared_examples/insights_calendar_rules.rb","line_number":7,"run_time":0.089465205,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:3:12]","description":"does not generate an insight 11 months after the end of the accounting year","full_description":"Radar::Insights::Rules::TopSpendingCategories behaves like a calendar insight does not generate an insight 11 months after the end of the accounting year","status":"passed","file_path":"./spec/support/shared_examples/insights_calendar_rules.rb","line_number":14,"run_time":0.084384022,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:3:13]","description":"generates insights on the last day of the month","full_description":"Radar::Insights::Rules::TopSpendingCategories behaves like a calendar insight generates insights on the last day of the month","status":"passed","file_path":"./spec/support/shared_examples/insights_calendar_rules.rb","line_number":23,"run_time":0.082062175,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:3:14]","description":"does not generate an insight on the first day of the month","full_description":"Radar::Insights::Rules::TopSpendingCategories behaves like a calendar insight does not generate an insight on the first day of the month","status":"passed","file_path":"./spec/support/shared_examples/insights_calendar_rules.rb","line_number":29,"run_time":0.125966751,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:4:1:1]","description":"returns eligible users to be notified","full_description":"Radar::Insights::Rules::TopSpendingCategories#notify_users behaves like notifier for users with level 7 and above returns eligible users to be notified","status":"passed","file_path":"./spec/support/shared_examples/insights_rules_permission_level_examples.rb","line_number":26,"run_time":0.049354548,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:4:1:2]","description":"does not return ineligible users to be notified","full_description":"Radar::Insights::Rules::TopSpendingCategories#notify_users behaves like notifier for users with level 7 and above does not return ineligible users to be notified","status":"passed","file_path":"./spec/support/shared_examples/insights_rules_permission_level_examples.rb","line_number":30,"run_time":0.046838759,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:5:1]","description":"contains the company id and report period end date","full_description":"Radar::Insights::Rules::TopSpendingCategories#key contains the company id and report period end date","status":"passed","file_path":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb","line_number":20,"run_time":0.096537566,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:6:1]","description":"returns true with no previous notifications","full_description":"Radar::Insights::Rules::TopSpendingCategories#should_notify? returns true with no previous notifications","status":"passed","file_path":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb","line_number":31,"run_time":0.106948068,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:6:2]","description":"returns false with previous notification within the last 6 months","full_description":"Radar::Insights::Rules::TopSpendingCategories#should_notify? returns false with previous notification within the last 6 months","status":"passed","file_path":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb","line_number":35,"run_time":0.103304036,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:6:3]","description":"returns true with previous notification more than 6 months ago","full_description":"Radar::Insights::Rules::TopSpendingCategories#should_notify? returns true with previous notification more than 6 months ago","status":"passed","file_path":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb","line_number":40,"run_time":0.088200284,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:7:1:1]","description":"is expected to equal true","full_description":"Radar::Insights::Rules::TopSpendingCategories#should_evaluate? with a Freeagent start date \u003c 18 months ago is expected to equal true","status":"passed","file_path":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb","line_number":52,"run_time":0.080190654,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:7:2:1]","description":"is expected to equal false","full_description":"Radar::Insights::Rules::TopSpendingCategories#should_evaluate? with a Freeagent start date \u003e 18 months ago is expected to equal false","status":"passed","file_path":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb","line_number":58,"run_time":0.08580868,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:8:1]","description":"returns false when fewer than three accounts have expenses","full_description":"Radar::Insights::Rules::TopSpendingCategories#can_create_insight returns false when fewer than three accounts have expenses","status":"passed","file_path":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb","line_number":64,"run_time":0.222938092,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:8:2]","description":"returns true when three or more accounts have expenses","full_description":"Radar::Insights::Rules::TopSpendingCategories#can_create_insight returns true when three or more accounts have expenses","status":"passed","file_path":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb","line_number":69,"run_time":0.250963378,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:9:1]","description":"only shows the top 5 spending categories","full_description":"Radar::Insights::Rules::TopSpendingCategories#details only shows the top 5 spending categories","status":"passed","file_path":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb","line_number":76,"run_time":0.708340485,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:9:2]","description":"defines the correct period","full_description":"Radar::Insights::Rules::TopSpendingCategories#details defines the correct period","status":"passed","file_path":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb","line_number":81,"run_time":0.110438152,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:9:3]","description":"includes multiple spending categories","full_description":"Radar::Insights::Rules::TopSpendingCategories#details includes multiple spending categories","status":"passed","file_path":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb","line_number":85,"run_time":0.319858754,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:9:4]","description":"groups expenses in one category","full_description":"Radar::Insights::Rules::TopSpendingCategories#details groups expenses in one category","status":"passed","file_path":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb","line_number":99,"run_time":0.232118333,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:9:5]","description":"ignores old expenses","full_description":"Radar::Insights::Rules::TopSpendingCategories#details ignores old expenses","status":"passed","file_path":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb","line_number":109,"run_time":0.196850764,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:9:6]","description":"shows the correct change percentage","full_description":"Radar::Insights::Rules::TopSpendingCategories#details shows the correct change percentage","status":"passed","file_path":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb","line_number":118,"run_time":0.179802863,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:10:1:1]","description":"the correct generation event is published","full_description":"Radar::Insights::Rules::TopSpendingCategories event tracking on creation the correct generation event is published","status":"passed","file_path":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb","line_number":134,"run_time":0.01876921,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:11:1:1:1]","description":"returns the category","full_description":"Radar::Insights::Rules::TopSpendingCategories with expenses behaves like a valid insight rule #category returns the category","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":14,"run_time":0.238273833,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:11:1:2:1]","description":"creates a new insight","full_description":"Radar::Insights::Rules::TopSpendingCategories with expenses behaves like a valid insight rule #evaluate creates a new insight","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":20,"run_time":0.323299534,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:11:1:2:2]","description":"persists insight details","full_description":"Radar::Insights::Rules::TopSpendingCategories with expenses behaves like a valid insight rule #evaluate persists insight details","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":28,"run_time":0.305614797,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:11:1:2:3]","description":"notifies users in the company","full_description":"Radar::Insights::Rules::TopSpendingCategories with expenses behaves like a valid insight rule #evaluate notifies users in the company","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":36,"run_time":0.292921665,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/top_spending_categories_spec.rb[1:11:1:3:1]","description":"creates a user insight notification for all notifiable users","full_description":"Radar::Insights::Rules::TopSpendingCategories with expenses behaves like a valid insight rule #notify creates a user insight notification for all notifiable users","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":44,"run_time":0.274710308,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:1:1]","description":"schedules the job","full_description":"OpenBanking::NwgAdditionalFieldsImportJob.schedule schedules the job","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":42,"run_time":0.34269014,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:1:2:1]","description":"does not schedule the job","full_description":"OpenBanking::NwgAdditionalFieldsImportJob.schedule with a non-NWG consent does not schedule the job","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":49,"run_time":0.309377565,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:2:1:1]","description":"returns true","full_description":"OpenBanking::NwgAdditionalFieldsImportJob.is_available_for_consent? with a UK NWG consent returns true","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":59,"run_time":0.309752375,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:2:2:1]","description":"returns false","full_description":"OpenBanking::NwgAdditionalFieldsImportJob.is_available_for_consent? with a non-UK NWG consent returns false","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":65,"run_time":0.286807631,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:2:3:1]","description":"returns false","full_description":"OpenBanking::NwgAdditionalFieldsImportJob.is_available_for_consent? with a non-NWG consent returns false","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":71,"run_time":0.283113136,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:1:1]","description":"creates a Company partner identifiers entry with a BIN","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with an NWG consent object creates a Company partner identifiers entry with a BIN","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":97,"run_time":0.339210202,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:1:2]","description":"creates a Company partner identifiers entry with a CIN","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with an NWG consent object creates a Company partner identifiers entry with a CIN","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":107,"run_time":0.959012249,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:1:3]","description":"logs that it collected a BIN and a CIN","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with an NWG consent object logs that it collected a BIN and a CIN","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":118,"run_time":0.342204066,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:1:4]","description":"should schedule an NwgXrefSyncJob job for the received bins","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with an NWG consent object should schedule an NwgXrefSyncJob job for the received bins","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":129,"run_time":0.314862054,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:1:5]","description":"fails gracefully if the customer type is not supported by NWG","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with an NWG consent object fails gracefully if the customer type is not supported by NWG","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":136,"run_time":0.311681269,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:1:6]","description":"raise a ResponseError for other errors","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with an NWG consent object raise a ResponseError for other errors","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":155,"run_time":0.286048293,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:1:7:1]","description":"fails gracefully if the associated consent cannot be found","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with an NWG consent object missing database records fails gracefully if the associated consent cannot be found","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":172,"run_time":0.310226555,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:1:7:2]","description":"fails gracefully if the associated company cannot be found","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with an NWG consent object missing database records fails gracefully if the associated company cannot be found","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":191,"run_time":0.354588094,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:1:8:1]","description":"should not schedule an NwgXrefSyncJob job for each bin","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with an NWG consent object with nwg_xref_populate feature disabled should not schedule an NwgXrefSyncJob job for each bin","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":216,"run_time":0.338114236,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:2:1]","description":"returns without running","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with a non-NWG consent object returns without running","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":226,"run_time":0.29812517,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:3:1]","description":"returns without running","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform when the API returns an empty response returns without running","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":238,"run_time":0.318435578,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:4:1]","description":"perists both BINs","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with multiple BINs perists both BINs","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":254,"run_time":0.306475192,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:4:2]","description":"logs that there were multiple BINs recorded","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with multiple BINs logs that there were multiple BINs recorded","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":259,"run_time":0.304343806,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:5:1]","description":"logs there were no BINs in the response","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with no BIN numbers logs there were no BINs in the response","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":278,"run_time":0.329536836,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:6:1]","description":"logs there were no CINs in the response","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with no CIN numbers logs there were no CINs in the response","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":297,"run_time":0.321258827,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:7:1]","description":"records the BIN once","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with the same BIN repeated records the BIN once","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":319,"run_time":0.319455959,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:7:2]","description":"logs the creation of the PartnerIdentifier object once","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with the same BIN repeated logs the creation of the PartnerIdentifier object once","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":324,"run_time":0.336145361,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:8:1]","description":"doesn't store the CIN","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with the CIN already stored doesn't store the CIN","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":349,"run_time":0.336339171,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb[1:3:8:2]","description":"doesn't log a collection of a CIN","full_description":"OpenBanking::NwgAdditionalFieldsImportJob#perform with the CIN already stored doesn't log a collection of a CIN","status":"passed","file_path":"./spec/jobs/open_banking/nwg_additional_fields_import_job_spec.rb","line_number":354,"run_time":0.392422472,"pending_message":null,"screenshot":null},{"id":"./spec/features/admin/migrate_to_direct_spec.rb[1:1]","description":"migrates successfully","full_description":"Migrate to Direct migrates successfully","status":"passed","file_path":"./spec/features/admin/migrate_to_direct_spec.rb","line_number":10,"run_time":3.011942308,"pending_message":null,"screenshot":null},{"id":"./spec/features/admin/migrate_to_direct_spec.rb[1:2]","description":"shows the link for RBSG subscriptions","full_description":"Migrate to Direct shows the link for RBSG subscriptions","status":"passed","file_path":"./spec/features/admin/migrate_to_direct_spec.rb","line_number":32,"run_time":1.170684594,"pending_message":null,"screenshot":null},{"id":"./spec/features/admin/migrate_to_direct_spec.rb[1:3]","description":"shows the link for deactivated Apple subscriptions","full_description":"Migrate to Direct shows the link for deactivated Apple subscriptions","status":"passed","file_path":"./spec/features/admin/migrate_to_direct_spec.rb","line_number":39,"run_time":1.978855292,"pending_message":null,"screenshot":null},{"id":"./spec/features/admin/migrate_to_direct_spec.rb[1:4]","description":"does not show the link for Direct subscriptions","full_description":"Migrate to Direct does not show the link for Direct subscriptions","status":"passed","file_path":"./spec/features/admin/migrate_to_direct_spec.rb","line_number":47,"run_time":1.031648727,"pending_message":null,"screenshot":null},{"id":"./spec/features/admin/migrate_to_direct_spec.rb[1:5]","description":"does not show the link for practice managed RBSG subscriptions","full_description":"Migrate to Direct does not show the link for practice managed RBSG subscriptions","status":"passed","file_path":"./spec/features/admin/migrate_to_direct_spec.rb","line_number":54,"run_time":1.185302536,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/paypal_spec.rb[1:1:1:1:1]","description":"is not explained","full_description":"Banking::Guess PayPal fees behaves like a Guess PayPal transaction type when not matched is not explained","status":"passed","file_path":"./spec/models/banking/guess/paypal_spec.rb","line_number":46,"run_time":0.21106877,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/paypal_spec.rb[1:1:2:2]","description":"calls the explanation callback","full_description":"Banking::Guess PayPal fees when the Bank/Finance Charges account exists calls the explanation callback","status":"passed","file_path":"./spec/models/banking/guess/paypal_spec.rb","line_number":79,"run_time":0.199464549,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/paypal_spec.rb[1:1:2:1:1]","description":"is explained","full_description":"Banking::Guess PayPal fees when the Bank/Finance Charges account exists behaves like a Guess PayPal explanation is explained","status":"passed","file_path":"./spec/models/banking/guess/paypal_spec.rb","line_number":10,"run_time":0.19147236,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/paypal_spec.rb[1:1:2:1:2]","description":"adds audit entries for explanations added","full_description":"Banking::Guess PayPal fees when the Bank/Finance Charges account exists behaves like a Guess PayPal explanation adds audit entries for explanations added","status":"passed","file_path":"./spec/models/banking/guess/paypal_spec.rb","line_number":15,"run_time":0.212729468,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/paypal_spec.rb[1:1:2:1:3:1]","description":"is not done by default","full_description":"Banking::Guess PayPal fees when the Bank/Finance Charges account exists behaves like a Guess PayPal explanation marking explanations for review is not done by default","status":"passed","file_path":"./spec/models/banking/guess/paypal_spec.rb","line_number":32,"run_time":0.204659099,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/paypal_spec.rb[1:1:2:1:3:2]","description":"is done if requested","full_description":"Banking::Guess PayPal fees when the Bank/Finance Charges account exists behaves like a Guess PayPal explanation marking explanations for review is done if requested","status":"passed","file_path":"./spec/models/banking/guess/paypal_spec.rb","line_number":37,"run_time":0.1913561,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/paypal_spec.rb[1:1:2:3:1]","description":"explains the transaction","full_description":"Banking::Guess PayPal fees when the Bank/Finance Charges account exists Banking::Guess#guess explains the transaction","status":"passed","file_path":"./spec/models/banking/guess/paypal_spec.rb","line_number":98,"run_time":0.194020978,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/paypal_spec.rb[1:1:2:3:2]","description":"returns an array with no inapplicable transactions ids","full_description":"Banking::Guess PayPal fees when the Bank/Finance Charges account exists Banking::Guess#guess returns an array with no inapplicable transactions ids","status":"passed","file_path":"./spec/models/banking/guess/paypal_spec.rb","line_number":102,"run_time":0.180839236,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/paypal_spec.rb[1:1:3:1:1:1]","description":"does not explain the transaction","full_description":"Banking::Guess PayPal fees when the Bank/Finance Charges account does not exist and the transaction is similar to one previously explained Banking::Guess#guess does not explain the transaction","status":"passed","file_path":"./spec/models/banking/guess/paypal_spec.rb","line_number":131,"run_time":0.168673641,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/paypal_spec.rb[1:1:3:1:1:2]","description":"returns inapplicable transactions ids","full_description":"Banking::Guess PayPal fees when the Bank/Finance Charges account does not exist and the transaction is similar to one previously explained Banking::Guess#guess returns inapplicable transactions ids","status":"passed","file_path":"./spec/models/banking/guess/paypal_spec.rb","line_number":135,"run_time":0.168549689,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/paypal_spec.rb[1:2:1:1:1]","description":"is not explained","full_description":"Banking::Guess PayPal subscription income behaves like a Guess PayPal transaction type when not matched is not explained","status":"passed","file_path":"./spec/models/banking/guess/paypal_spec.rb","line_number":46,"run_time":0.103299068,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/paypal_spec.rb[1:2:2:2]","description":"calls the explanation callback","full_description":"Banking::Guess PayPal subscription income when the Subscription Income category exists calls the explanation callback","status":"passed","file_path":"./spec/models/banking/guess/paypal_spec.rb","line_number":164,"run_time":0.228309757,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/paypal_spec.rb[1:2:2:1:1]","description":"is explained","full_description":"Banking::Guess PayPal subscription income when the Subscription Income category exists behaves like a Guess PayPal explanation is explained","status":"passed","file_path":"./spec/models/banking/guess/paypal_spec.rb","line_number":10,"run_time":0.215733595,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/paypal_spec.rb[1:2:2:1:2]","description":"adds audit entries for explanations added","full_description":"Banking::Guess PayPal subscription income when the Subscription Income category exists behaves like a Guess PayPal explanation adds audit entries for explanations added","status":"passed","file_path":"./spec/models/banking/guess/paypal_spec.rb","line_number":15,"run_time":0.198984509,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/paypal_spec.rb[1:2:2:1:3:1]","description":"is not done by default","full_description":"Banking::Guess PayPal subscription income when the Subscription Income category exists behaves like a Guess PayPal explanation marking explanations for review is not done by default","status":"passed","file_path":"./spec/models/banking/guess/paypal_spec.rb","line_number":32,"run_time":0.206978463,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/paypal_spec.rb[1:2:2:1:3:2]","description":"is done if requested","full_description":"Banking::Guess PayPal subscription income when the Subscription Income category exists behaves like a Guess PayPal explanation marking explanations for review is done if requested","status":"passed","file_path":"./spec/models/banking/guess/paypal_spec.rb","line_number":37,"run_time":0.203752576,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/paypal_spec.rb[1:2:2:3:1]","description":"has sales tax applied","full_description":"Banking::Guess PayPal subscription income when the Subscription Income category exists and the company is VAT registered has sales tax applied","status":"passed","file_path":"./spec/models/banking/guess/paypal_spec.rb","line_number":189,"run_time":0.222355095,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/paypal_spec.rb[1:2:2:3:2:1]","description":"does not have sales tax applied","full_description":"Banking::Guess PayPal subscription income when the Subscription Income category exists and the company is VAT registered when the transaction memo contains a foreign currency code does not have sales tax applied","status":"passed","file_path":"./spec/models/banking/guess/paypal_spec.rb","line_number":197,"run_time":0.191785729,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/paypal_spec.rb[1:3:1:1:1]","description":"is not explained","full_description":"Banking::Guess PayPal reconciling invoices paid via the payment portal behaves like a Guess PayPal transaction type when not matched is not explained","status":"passed","file_path":"./spec/models/banking/guess/paypal_spec.rb","line_number":46,"run_time":0.089083718,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/paypal_spec.rb[1:3:2:2]","description":"links the payment to the explanation","full_description":"Banking::Guess PayPal reconciling invoices paid via the payment portal when a matching invoice payment exists links the payment to the explanation","status":"passed","file_path":"./spec/models/banking/guess/paypal_spec.rb","line_number":222,"run_time":0.528467826,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/paypal_spec.rb[1:3:2:3]","description":"marks the payment as withdrawn","full_description":"Banking::Guess PayPal reconciling invoices paid via the payment portal when a matching invoice payment exists marks the payment as withdrawn","status":"passed","file_path":"./spec/models/banking/guess/paypal_spec.rb","line_number":230,"run_time":0.460144549,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/paypal_spec.rb[1:3:2:4]","description":"calls the explanation callback","full_description":"Banking::Guess PayPal reconciling invoices paid via the payment portal when a matching invoice payment exists calls the explanation callback","status":"passed","file_path":"./spec/models/banking/guess/paypal_spec.rb","line_number":236,"run_time":0.446994856,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/paypal_spec.rb[1:3:2:1:1]","description":"is explained","full_description":"Banking::Guess PayPal reconciling invoices paid via the payment portal when a matching invoice payment exists behaves like a Guess PayPal explanation is explained","status":"passed","file_path":"./spec/models/banking/guess/paypal_spec.rb","line_number":10,"run_time":0.515482566,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/paypal_spec.rb[1:3:2:1:2]","description":"adds audit entries for explanations added","full_description":"Banking::Guess PayPal reconciling invoices paid via the payment portal when a matching invoice payment exists behaves like a Guess PayPal explanation adds audit entries for explanations added","status":"passed","file_path":"./spec/models/banking/guess/paypal_spec.rb","line_number":15,"run_time":0.507128201,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/paypal_spec.rb[1:3:2:1:3:1]","description":"is not done by default","full_description":"Banking::Guess PayPal reconciling invoices paid via the payment portal when a matching invoice payment exists behaves like a Guess PayPal explanation marking explanations for review is not done by default","status":"passed","file_path":"./spec/models/banking/guess/paypal_spec.rb","line_number":32,"run_time":0.547310666,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/paypal_spec.rb[1:3:2:1:3:2]","description":"is done if requested","full_description":"Banking::Guess PayPal reconciling invoices paid via the payment portal when a matching invoice payment exists behaves like a Guess PayPal explanation marking explanations for review is done if requested","status":"passed","file_path":"./spec/models/banking/guess/paypal_spec.rb","line_number":37,"run_time":0.515031927,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/paypal_spec.rb[1:3:2:5:1]","description":"does not link the payment to the explanation","full_description":"Banking::Guess PayPal reconciling invoices paid via the payment portal when a matching invoice payment exists when invoice is already fully paid does not link the payment to the explanation","status":"passed","file_path":"./spec/models/banking/guess/paypal_spec.rb","line_number":266,"run_time":0.501685032,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/paypal_spec.rb[1:4:1:1]","description":"calls the validation error reporter","full_description":"Banking::Guess PayPal error handling when the explanation is not valid calls the validation error reporter","status":"passed","file_path":"./spec/models/banking/guess/paypal_spec.rb","line_number":304,"run_time":0.130223078,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/paypal_spec.rb[1:4:1:2]","description":"does not create the explanation","full_description":"Banking::Guess PayPal error handling when the explanation is not valid does not create the explanation","status":"passed","file_path":"./spec/models/banking/guess/paypal_spec.rb","line_number":309,"run_time":0.135558685,"pending_message":null,"screenshot":null},{"id":"./spec/models/banking/guess/paypal_spec.rb[1:4:1:3]","description":"does not create an audit entry","full_description":"Banking::Guess PayPal error handling when the explanation is not valid does not create an audit entry","status":"passed","file_path":"./spec/models/banking/guess/paypal_spec.rb","line_number":313,"run_time":0.12975183,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/bank_account_entry_spec.rb[1:1]","description":"has Bank Account Entries as its section name","full_description":"Exporter::ExportableTypes::BankAccountEntry has Bank Account Entries as its section name","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/bank_account_entry_spec.rb","line_number":23,"run_time":0.004964028,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/bank_account_entry_spec.rb[1:2]","description":"has no nested types","full_description":"Exporter::ExportableTypes::BankAccountEntry has no nested types","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/bank_account_entry_spec.rb","line_number":27,"run_time":0.003740431,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/bank_account_entry_spec.rb[1:3]","description":"has correct headings, correctly ordered","full_description":"Exporter::ExportableTypes::BankAccountEntry has correct headings, correctly ordered","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/bank_account_entry_spec.rb","line_number":31,"run_time":0.003559755,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/bank_account_entry_spec.rb[1:4]","description":"returns correct values, correctly ordered","full_description":"Exporter::ExportableTypes::BankAccountEntry returns correct values, correctly ordered","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/bank_account_entry_spec.rb","line_number":61,"run_time":0.254863142,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/bank_account_entry_spec.rb[1:5]","description":"returns the correct stock values","full_description":"Exporter::ExportableTypes::BankAccountEntry returns the correct stock values","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/bank_account_entry_spec.rb","line_number":91,"run_time":0.280209666,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/bank_account_entry_spec.rb[1:6]","description":"returns the correct depreciation schedule when associated to a capital asset","full_description":"Exporter::ExportableTypes::BankAccountEntry returns the correct depreciation schedule when associated to a capital asset","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/bank_account_entry_spec.rb","line_number":101,"run_time":0.543752581,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/bank_account_entry_spec.rb[1:7]","description":"returns the correct project name","full_description":"Exporter::ExportableTypes::BankAccountEntry returns the correct project name","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/bank_account_entry_spec.rb","line_number":109,"run_time":0.256790544,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/bank_account_entry_spec.rb[1:8]","description":"returns the correct paid invoice reference","full_description":"Exporter::ExportableTypes::BankAccountEntry returns the correct paid invoice reference","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/bank_account_entry_spec.rb","line_number":115,"run_time":0.294672502,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/bank_account_entry_spec.rb[1:9]","description":"returns the correct paid bill reference","full_description":"Exporter::ExportableTypes::BankAccountEntry returns the correct paid bill reference","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/bank_account_entry_spec.rb","line_number":121,"run_time":0.314406204,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/bank_account_entry_spec.rb[1:10]","description":"returns the correct rebilled invoice item description","full_description":"Exporter::ExportableTypes::BankAccountEntry returns the correct rebilled invoice item description","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/bank_account_entry_spec.rb","line_number":127,"run_time":0.332827717,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/bank_account_entry_spec.rb[1:11]","description":"returns the correct SMART values","full_description":"Exporter::ExportableTypes::BankAccountEntry returns the correct SMART values","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/bank_account_entry_spec.rb","line_number":134,"run_time":0.305799903,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/bank_account_entry_spec.rb[1:12]","description":"returns the correct attachment value","full_description":"Exporter::ExportableTypes::BankAccountEntry returns the correct attachment value","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/bank_account_entry_spec.rb","line_number":148,"run_time":0.273635038,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/bank_account_entry_spec.rb[1:13]","description":"uses the value formatter to format the sales tax rates","full_description":"Exporter::ExportableTypes::BankAccountEntry uses the value formatter to format the sales tax rates","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/bank_account_entry_spec.rb","line_number":154,"run_time":0.227617148,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/bank_account_entry_spec.rb[1:14:1]","description":"returns zero for the sales tax rate","full_description":"Exporter::ExportableTypes::BankAccountEntry when the bank account entry is a bill payment with a non-zero sales tax rate returns zero for the sales tax rate","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/bank_account_entry_spec.rb","line_number":167,"run_time":0.390788795,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/forget_company_data_spec.rb[1:1:4:1:3:1]","description":"deletes payroll corrections, FPS submissions and gateway submissions","full_description":"Company::ForgetCompanyData Deleting all data for a UK Sole Trader Payroll Corrections deletes payroll corrections, FPS submissions and gateway submissions","status":"passed","file_path":"./spec/models/company/forget_company_data_spec.rb","line_number":999,"run_time":3.102326612,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb[1:1:1:1]","description":"renders the agent signup form","full_description":"Signups::Factory::InvitedByRbsgAgent for RBS #next_step renders the agent signup form","status":"passed","file_path":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb","line_number":14,"run_time":0.225306569,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb[1:1:2:1]","description":"returns the correct company for the signup","full_description":"Signups::Factory::InvitedByRbsgAgent for RBS #company returns the correct company for the signup","status":"passed","file_path":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb","line_number":22,"run_time":0.171591003,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb[1:1:3:1]","description":"creates an activated signup","full_description":"Signups::Factory::InvitedByRbsgAgent for RBS #save creates an activated signup","status":"passed","file_path":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb","line_number":28,"run_time":0.177218683,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb[1:1:3:2]","description":"creates a company","full_description":"Signups::Factory::InvitedByRbsgAgent for RBS #save creates a company","status":"passed","file_path":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb","line_number":33,"run_time":0.180721748,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb[1:1:3:3]","description":"sets an activated user","full_description":"Signups::Factory::InvitedByRbsgAgent for RBS #save sets an activated user","status":"passed","file_path":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb","line_number":38,"run_time":0.185949903,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb[1:1:3:4]","description":"creates a PartnerIdentifier record","full_description":"Signups::Factory::InvitedByRbsgAgent for RBS #save creates a PartnerIdentifier record","status":"passed","file_path":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb","line_number":43,"run_time":0.198637849,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb[1:1:3:5]","description":"tracks the signup in Sqreen","full_description":"Signups::Factory::InvitedByRbsgAgent for RBS #save tracks the signup in Sqreen","status":"passed","file_path":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb","line_number":47,"run_time":0.173749561,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb[1:2:1:1]","description":"renders the agent signup form","full_description":"Signups::Factory::InvitedByRbsgAgent for NatWest #next_step renders the agent signup form","status":"passed","file_path":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb","line_number":14,"run_time":0.177068956,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb[1:2:2:1]","description":"returns the correct company for the signup","full_description":"Signups::Factory::InvitedByRbsgAgent for NatWest #company returns the correct company for the signup","status":"passed","file_path":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb","line_number":22,"run_time":0.205808015,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb[1:2:3:1]","description":"creates an activated signup","full_description":"Signups::Factory::InvitedByRbsgAgent for NatWest #save creates an activated signup","status":"passed","file_path":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb","line_number":28,"run_time":0.179294956,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb[1:2:3:2]","description":"creates a company","full_description":"Signups::Factory::InvitedByRbsgAgent for NatWest #save creates a company","status":"passed","file_path":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb","line_number":33,"run_time":0.162913093,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb[1:2:3:3]","description":"sets an activated user","full_description":"Signups::Factory::InvitedByRbsgAgent for NatWest #save sets an activated user","status":"passed","file_path":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb","line_number":38,"run_time":0.170251624,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb[1:2:3:4]","description":"creates a PartnerIdentifier record","full_description":"Signups::Factory::InvitedByRbsgAgent for NatWest #save creates a PartnerIdentifier record","status":"passed","file_path":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb","line_number":43,"run_time":0.187770093,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb[1:2:3:5]","description":"tracks the signup in Sqreen","full_description":"Signups::Factory::InvitedByRbsgAgent for NatWest #save tracks the signup in Sqreen","status":"passed","file_path":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb","line_number":47,"run_time":0.176486273,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb[1:3:1:1]","description":"renders the agent signup form","full_description":"Signups::Factory::InvitedByRbsgAgent for Ulster #next_step renders the agent signup form","status":"passed","file_path":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb","line_number":14,"run_time":0.182368118,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb[1:3:2:1]","description":"returns the correct company for the signup","full_description":"Signups::Factory::InvitedByRbsgAgent for Ulster #company returns the correct company for the signup","status":"passed","file_path":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb","line_number":22,"run_time":0.189066179,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb[1:3:3:1]","description":"creates an activated signup","full_description":"Signups::Factory::InvitedByRbsgAgent for Ulster #save creates an activated signup","status":"passed","file_path":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb","line_number":28,"run_time":0.167872153,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb[1:3:3:2]","description":"creates a company","full_description":"Signups::Factory::InvitedByRbsgAgent for Ulster #save creates a company","status":"passed","file_path":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb","line_number":33,"run_time":0.1739536,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb[1:3:3:3]","description":"sets an activated user","full_description":"Signups::Factory::InvitedByRbsgAgent for Ulster #save sets an activated user","status":"passed","file_path":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb","line_number":38,"run_time":0.169346552,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb[1:3:3:4]","description":"creates a PartnerIdentifier record","full_description":"Signups::Factory::InvitedByRbsgAgent for Ulster #save creates a PartnerIdentifier record","status":"passed","file_path":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb","line_number":43,"run_time":0.170342389,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb[1:3:3:5]","description":"tracks the signup in Sqreen","full_description":"Signups::Factory::InvitedByRbsgAgent for Ulster #save tracks the signup in Sqreen","status":"passed","file_path":"./spec/freeagent/signups/factory/invited_by_rbsg_agent_spec.rb","line_number":47,"run_time":0.14563676,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/consents_controller_spec.rb[1:1:1]","description":"renders the consents show page when support access is enabled","full_description":"Admin::Companies::ConsentsController#show renders the consents show page when support access is enabled","status":"passed","file_path":"./spec/controllers/admin/consents_controller_spec.rb","line_number":11,"run_time":0.588014111,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/consents_controller_spec.rb[1:1:2]","description":"sets the attributes","full_description":"Admin::Companies::ConsentsController#show sets the attributes","status":"passed","file_path":"./spec/controllers/admin/consents_controller_spec.rb","line_number":16,"run_time":0.660938227,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/consents_controller_spec.rb[1:1:3]","description":"redirects to the company show page when support access is not enabled","full_description":"Admin::Companies::ConsentsController#show redirects to the company show page when support access is not enabled","status":"passed","file_path":"./spec/controllers/admin/consents_controller_spec.rb","line_number":23,"run_time":0.275850158,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/consents_controller_spec.rb[1:1:4]","description":"redirects to the admin unauthorised page when the admin user does not have the correct permissions","full_description":"Admin::Companies::ConsentsController#show redirects to the admin unauthorised page when the admin user does not have the correct permissions","status":"passed","file_path":"./spec/controllers/admin/consents_controller_spec.rb","line_number":29,"run_time":0.244621137,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/consents_controller_spec.rb[1:1:5]","description":"redirects to the company show page when no authorised account","full_description":"Admin::Companies::ConsentsController#show redirects to the company show page when no authorised account","status":"passed","file_path":"./spec/controllers/admin/consents_controller_spec.rb","line_number":35,"run_time":0.267314749,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/consents_controller_spec.rb[1:2:1]","description":"notifies the admin user when the consent is considered valid","full_description":"Admin::Companies::ConsentsController#check_remote_consent_valid notifies the admin user when the consent is considered valid","status":"passed","file_path":"./spec/controllers/admin/consents_controller_spec.rb","line_number":50,"run_time":0.254305388,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/consents_controller_spec.rb[1:2:2]","description":"notifies the admin user when the consent is considered invalid","full_description":"Admin::Companies::ConsentsController#check_remote_consent_valid notifies the admin user when the consent is considered invalid","status":"passed","file_path":"./spec/controllers/admin/consents_controller_spec.rb","line_number":63,"run_time":0.267368765,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/consents_controller_spec.rb[1:2:4]","description":"redirects to the consent show page if the admin user does not have the correct permission.","full_description":"Admin::Companies::ConsentsController#check_remote_consent_valid redirects to the consent show page if the admin user does not have the correct permission.","status":"passed","file_path":"./spec/controllers/admin/consents_controller_spec.rb","line_number":92,"run_time":0.282954794,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/consents_controller_spec.rb[1:2:3:1]","description":"handles the error and notifies the user of the cause","full_description":"Admin::Companies::ConsentsController#check_remote_consent_valid when a response error is raised by the bank's API handles the error and notifies the user of the cause","status":"passed","file_path":"./spec/controllers/admin/consents_controller_spec.rb","line_number":77,"run_time":0.251621538,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/consents_controller_spec.rb[1:3:1]","description":"redirects to the consent show page if the admin user does not have the correct permission.","full_description":"Admin::Companies::ConsentsController#check_consent_can_return_data redirects to the consent show page if the admin user does not have the correct permission.","status":"passed","file_path":"./spec/controllers/admin/consents_controller_spec.rb","line_number":104,"run_time":0.269841084,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/consents_controller_spec.rb[1:3:2]","description":"redirects to the consent show page if there is no active OpenBankingSupportAccessGrant","full_description":"Admin::Companies::ConsentsController#check_consent_can_return_data redirects to the consent show page if there is no active OpenBankingSupportAccessGrant","status":"passed","file_path":"./spec/controllers/admin/consents_controller_spec.rb","line_number":110,"run_time":0.27580303,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/consents_controller_spec.rb[1:3:3]","description":"notifies the admin user when the consent is able to receive data from the bank's API","full_description":"Admin::Companies::ConsentsController#check_consent_can_return_data notifies the admin user when the consent is able to receive data from the bank's API","status":"passed","file_path":"./spec/controllers/admin/consents_controller_spec.rb","line_number":118,"run_time":0.265589209,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/admin/consents_controller_spec.rb[1:3:4]","description":"handles and notifies the admin user when the bank's API returns a response error","full_description":"Admin::Companies::ConsentsController#check_consent_can_return_data handles and notifies the admin user when the bank's API returns a response error","status":"passed","file_path":"./spec/controllers/admin/consents_controller_spec.rb","line_number":132,"run_time":0.280677422,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard_helper_spec.rb[1:1:1]","description":"generates correct partials for alert rules","full_description":"PracticeDashboardHelper#notification_partial_for_alert_rule generates correct partials for alert rules","status":"passed","file_path":"./spec/helpers/practice_dashboard_helper_spec.rb","line_number":7,"run_time":0.045990823,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard_helper_spec.rb[1:2:1]","description":"generates correct partials for alert rules in table","full_description":"PracticeDashboardHelper#alert_rule_table_partial generates correct partials for alert rules in table","status":"passed","file_path":"./spec/helpers/practice_dashboard_helper_spec.rb","line_number":16,"run_time":0.007283772,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard_helper_spec.rb[1:3:1]","description":"displays the number of days grace in the up to date alert rule title","full_description":"PracticeDashboardHelper#alert_threshold_label_text displays the number of days grace in the up to date alert rule title","status":"passed","file_path":"./spec/helpers/practice_dashboard_helper_spec.rb","line_number":31,"run_time":0.008047238,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard_helper_spec.rb[1:3:2]","description":"displays the amount in the alert rule title","full_description":"PracticeDashboardHelper#alert_threshold_label_text displays the amount in the alert rule title","status":"passed","file_path":"./spec/helpers/practice_dashboard_helper_spec.rb","line_number":36,"run_time":0.010608604,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard_helper_spec.rb[1:4:1]","description":"displays the number of days grace in the up to date alert rule title","full_description":"PracticeDashboardHelper#display_alert_title displays the number of days grace in the up to date alert rule title","status":"passed","file_path":"./spec/helpers/practice_dashboard_helper_spec.rb","line_number":44,"run_time":0.004268836,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard_helper_spec.rb[1:5:4]","description":"labels the active state as a normal Active Licence","full_description":"PracticeDashboardHelper#dashboard_company_statuses labels the active state as a normal Active Licence","status":"passed","file_path":"./spec/helpers/practice_dashboard_helper_spec.rb","line_number":163,"run_time":0.033878697,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard_helper_spec.rb[1:5:1:1:1]","description":"returns 'Active' and 'Inactive'","full_description":"PracticeDashboardHelper#dashboard_company_statuses Company subscription is Inactive Company is a new record returns 'Active' and 'Inactive'","status":"passed","file_path":"./spec/helpers/practice_dashboard_helper_spec.rb","line_number":62,"run_time":0.036528521,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard_helper_spec.rb[1:5:1:2:1]","description":"returns 'Active' and 'Inactive'","full_description":"PracticeDashboardHelper#dashboard_company_statuses Company subscription is Inactive Company is persisted returns 'Active' and 'Inactive'","status":"passed","file_path":"./spec/helpers/practice_dashboard_helper_spec.rb","line_number":73,"run_time":0.03447364,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard_helper_spec.rb[1:5:1:2:2]","description":"returns 'Active' and 'Inactive' when status is changed to 'Active' but not persisted","full_description":"PracticeDashboardHelper#dashboard_company_statuses Company subscription is Inactive Company is persisted returns 'Active' and 'Inactive' when status is changed to 'Active' but not persisted","status":"passed","file_path":"./spec/helpers/practice_dashboard_helper_spec.rb","line_number":80,"run_time":0.040521052,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard_helper_spec.rb[1:5:2:1:1]","description":"returns 'Active' and 'Inactive'","full_description":"PracticeDashboardHelper#dashboard_company_statuses Company subscription is Active Company is a new record returns 'Active' and 'Inactive'","status":"passed","file_path":"./spec/helpers/practice_dashboard_helper_spec.rb","line_number":99,"run_time":0.041259801,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard_helper_spec.rb[1:5:2:2:1]","description":"returns 'Active' and 'Inactive'","full_description":"PracticeDashboardHelper#dashboard_company_statuses Company subscription is Active Company was inactive returns 'Active' and 'Inactive'","status":"passed","file_path":"./spec/helpers/practice_dashboard_helper_spec.rb","line_number":118,"run_time":0.041088773,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard_helper_spec.rb[1:5:2:3:1]","description":"returns 'Active' and 'Closed'","full_description":"PracticeDashboardHelper#dashboard_company_statuses Company subscription is Active Company is persisted returns 'Active' and 'Closed'","status":"passed","file_path":"./spec/helpers/practice_dashboard_helper_spec.rb","line_number":131,"run_time":0.037840705,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard_helper_spec.rb[1:5:2:3:2]","description":"returns 'Active' and 'Closed' when status is changed to 'Closed' but not persisted","full_description":"PracticeDashboardHelper#dashboard_company_statuses Company subscription is Active Company is persisted returns 'Active' and 'Closed' when status is changed to 'Closed' but not persisted","status":"passed","file_path":"./spec/helpers/practice_dashboard_helper_spec.rb","line_number":138,"run_time":0.043080393,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard_helper_spec.rb[1:5:3:1]","description":"returns 'Closed' only","full_description":"PracticeDashboardHelper#dashboard_company_statuses Company subscription is Closed returns 'Closed' only","status":"passed","file_path":"./spec/helpers/practice_dashboard_helper_spec.rb","line_number":156,"run_time":0.039818127,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard_helper_spec.rb[1:5:5:1]","description":"labels the active state as a normal Active Licence","full_description":"PracticeDashboardHelper#dashboard_company_statuses for a subscription with an expired free period labels the active state as a normal Active Licence","status":"passed","file_path":"./spec/helpers/practice_dashboard_helper_spec.rb","line_number":171,"run_time":0.136823018,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard_helper_spec.rb[1:5:6:1]","description":"labels the active state as a normal Active Licence","full_description":"PracticeDashboardHelper#dashboard_company_statuses for a non-billable practice labels the active state as a normal Active Licence","status":"passed","file_path":"./spec/helpers/practice_dashboard_helper_spec.rb","line_number":180,"run_time":0.132921842,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard_helper_spec.rb[1:5:7:1]","description":"labels the active state as a 'Free Period'","full_description":"PracticeDashboardHelper#dashboard_company_statuses when the fapd_subscription feature is enabled labels the active state as a 'Free Period'","status":"passed","file_path":"./spec/helpers/practice_dashboard_helper_spec.rb","line_number":188,"run_time":0.044338308,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard_helper_spec.rb[1:6:1:1]","description":"returns true","full_description":"PracticeDashboardHelper#can_add_fapdrbsg_company? practice is NOT whitelabelled returns true","status":"passed","file_path":"./spec/helpers/practice_dashboard_helper_spec.rb","line_number":204,"run_time":0.005856962,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard_helper_spec.rb[1:6:2:1]","description":"returns false","full_description":"PracticeDashboardHelper#can_add_fapdrbsg_company? practice is whitelabelled returns false","status":"passed","file_path":"./spec/helpers/practice_dashboard_helper_spec.rb","line_number":213,"run_time":0.005278,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard_helper_spec.rb[1:7:1:1]","description":"returns the dashboard's index url","full_description":"PracticeDashboardHelper#practice_dashboard_return_url without a cookie set returns the dashboard's index url","status":"passed","file_path":"./spec/helpers/practice_dashboard_helper_spec.rb","line_number":232,"run_time":0.047561357,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard_helper_spec.rb[1:7:2:1]","description":"returns the url with the path from the cookie","full_description":"PracticeDashboardHelper#practice_dashboard_return_url with the cookie set returns the url with the path from the cookie","status":"passed","file_path":"./spec/helpers/practice_dashboard_helper_spec.rb","line_number":239,"run_time":0.011488103,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard_helper_spec.rb[1:8:1]","description":"redirects to the account manager companies path","full_description":"PracticeDashboardHelper#practice_dashboard_landing_path redirects to the account manager companies path","status":"passed","file_path":"./spec/helpers/practice_dashboard_helper_spec.rb","line_number":248,"run_time":0.004670671,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard_helper_spec.rb[1:9:1:1]","description":"is expected to eq \"\"","full_description":"PracticeDashboardHelper#switch_to_link when a company is missing an account owner is expected to eq \"\"","status":"passed","file_path":"./spec/helpers/practice_dashboard_helper_spec.rb","line_number":263,"run_time":0.13020379,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard_helper_spec.rb[1:10:1:1]","description":"is expected to eq \"Switch to\"","full_description":"PracticeDashboardHelper#switch_to_link_text for a level 8 company is expected to eq \"Switch to\"","status":"passed","file_path":"./spec/helpers/practice_dashboard_helper_spec.rb","line_number":277,"run_time":0.14442663,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard_helper_spec.rb[1:10:2:1]","description":"is expected to eq \"Switch to\"","full_description":"PracticeDashboardHelper#switch_to_link_text for a setup complete level 7 company is expected to eq \"Switch to\"","status":"passed","file_path":"./spec/helpers/practice_dashboard_helper_spec.rb","line_number":287,"run_time":0.146861999,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard_helper_spec.rb[1:10:3:1]","description":"is expected to eq \"Finish client setup\"","full_description":"PracticeDashboardHelper#switch_to_link_text for a setup incomplete level 7 company is expected to eq \"Finish client setup\"","status":"passed","file_path":"./spec/helpers/practice_dashboard_helper_spec.rb","line_number":296,"run_time":0.121816301,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard_helper_spec.rb[1:10:4:1]","description":"is expected to eq \"Finish client setup\"","full_description":"PracticeDashboardHelper#switch_to_link_text for a permission level \u003c 7 company is expected to eq \"Finish client setup\"","status":"passed","file_path":"./spec/helpers/practice_dashboard_helper_spec.rb","line_number":306,"run_time":0.115078176,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard_helper_spec.rb[1:10:5:1]","description":"is expected to eq \"Switch to\"","full_description":"PracticeDashboardHelper#switch_to_link_text for a CoPilot company is expected to eq \"Switch to\"","status":"passed","file_path":"./spec/helpers/practice_dashboard_helper_spec.rb","line_number":312,"run_time":0.176012206,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard_helper_spec.rb[1:10:6:1]","description":"is expected to eq \"Switch to\"","full_description":"PracticeDashboardHelper#switch_to_link_text for a linked company is expected to eq \"Switch to\"","status":"passed","file_path":"./spec/helpers/practice_dashboard_helper_spec.rb","line_number":318,"run_time":0.141035316,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/practice_dashboard_helper_spec.rb[1:10:7:1]","description":"is expected to eq \"\"","full_description":"PracticeDashboardHelper#switch_to_link_text when a company is missing an account owner is expected to eq \"\"","status":"passed","file_path":"./spec/helpers/practice_dashboard_helper_spec.rb","line_number":328,"run_time":0.134187315,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/requests/create_payment_link_spec.rb[1:1:1:1:1]","description":"includes the customer id","full_description":"Tyl::Requests::CreatePaymentLink behaves like an API request to a Tyl Pay-By-Link endpoint #url when communicating with the MVP API includes the customer id","status":"passed","file_path":"./spec/support/shared_examples/tyl.rb","line_number":15,"run_time":0.126669712,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/requests/create_payment_link_spec.rb[1:1:1:2:1]","description":"includes the customer id","full_description":"Tyl::Requests::CreatePaymentLink behaves like an API request to a Tyl Pay-By-Link endpoint #url when communicating with the v2 API includes the customer id","status":"passed","file_path":"./spec/support/shared_examples/tyl.rb","line_number":21,"run_time":0.112763994,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/requests/create_payment_link_spec.rb[1:2:1]","description":"is expected to eq :post","full_description":"Tyl::Requests::CreatePaymentLink#request_method is expected to eq :post","status":"passed","file_path":"./spec/integrations/tyl/requests/create_payment_link_spec.rb","line_number":18,"run_time":0.115429687,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/requests/create_payment_link_spec.rb[1:3:1:1]","description":"is expected to eq \"{\\\"transactionAmount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"total\\\":\\\"100.0\\\"},\\\"invoiceNumber\\\":\\\"REF 0001\\\",\\\"t...ctionNotificationURL\\\":\\\"http://payments.fac-test.host/tyl_webhook\\\",\\\"expiration\\\":\\\"1829558807\\\"}\"","full_description":"Tyl::Requests::CreatePaymentLink#payload when using the MVP API is expected to eq \"{\\\"transactionAmount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"total\\\":\\\"100.0\\\"},\\\"invoiceNumber\\\":\\\"REF 0001\\\",\\\"t...ctionNotificationURL\\\":\\\"http://payments.fac-test.host/tyl_webhook\\\",\\\"expiration\\\":\\\"1829558807\\\"}\"","status":"passed","file_path":"./spec/integrations/tyl/requests/create_payment_link_spec.rb","line_number":39,"run_time":0.111284763,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/requests/create_payment_link_spec.rb[1:3:2:1]","description":"is expected to eq \"{\\\"transactionAmount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"total\\\":\\\"100.0\\\"},\\\"invoiceNumber\\\":\\\"REF 0001\\\",\\\"t...ayments.fac-test.host/tyl_webhook\\\",\\\"expiration\\\":\\\"1829558807\\\",\\\"authenticateTransaction\\\":true}\"","full_description":"Tyl::Requests::CreatePaymentLink#payload when using the v2 API is expected to eq \"{\\\"transactionAmount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"total\\\":\\\"100.0\\\"},\\\"invoiceNumber\\\":\\\"REF 0001\\\",\\\"t...ayments.fac-test.host/tyl_webhook\\\",\\\"expiration\\\":\\\"1829558807\\\",\\\"authenticateTransaction\\\":true}\"","status":"passed","file_path":"./spec/integrations/tyl/requests/create_payment_link_spec.rb","line_number":56,"run_time":0.099430335,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/requests/create_payment_link_spec.rb[1:3:3:1:1]","description":"preserves the reference as-is","full_description":"Tyl::Requests::CreatePaymentLink#payload limiting the payload's invoiceNumber to 48 chars with a short reference preserves the reference as-is","status":"passed","file_path":"./spec/integrations/tyl/requests/create_payment_link_spec.rb","line_number":69,"run_time":0.122938347,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/requests/create_payment_link_spec.rb[1:3:3:2:1]","description":"preserves the reference as-is","full_description":"Tyl::Requests::CreatePaymentLink#payload limiting the payload's invoiceNumber to 48 chars with a max-length reference preserves the reference as-is","status":"passed","file_path":"./spec/integrations/tyl/requests/create_payment_link_spec.rb","line_number":77,"run_time":0.124607189,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/requests/create_payment_link_spec.rb[1:3:3:3:1]","description":"is expected to have 48 characters","full_description":"Tyl::Requests::CreatePaymentLink#payload limiting the payload's invoiceNumber to 48 chars with an over-length reference is expected to have 48 characters","status":"passed","file_path":"./spec/integrations/tyl/requests/create_payment_link_spec.rb","line_number":85,"run_time":0.103676625,"pending_message":null,"screenshot":null},{"id":"./spec/integrations/tyl/requests/create_payment_link_spec.rb[1:3:3:3:2]","description":"truncates the reference centrally","full_description":"Tyl::Requests::CreatePaymentLink#payload limiting the payload's invoiceNumber to 48 chars with an over-length reference truncates the reference centrally","status":"passed","file_path":"./spec/integrations/tyl/requests/create_payment_link_spec.rb","line_number":87,"run_time":0.11010935,"pending_message":null,"screenshot":null},{"id":"./spec/views/properties/income/_income_source.html.erb_spec.rb[1:1:1]","description":"renders correctly","full_description":"properties/income/_income_source for an Invoice renders correctly","status":"passed","file_path":"./spec/views/properties/income/_income_source.html.erb_spec.rb","line_number":27,"run_time":0.329843898,"pending_message":null,"screenshot":null},{"id":"./spec/views/properties/income/_income_source.html.erb_spec.rb[1:2:1]","description":"renders correctly","full_description":"properties/income/_income_source for a CreditNote renders correctly","status":"passed","file_path":"./spec/views/properties/income/_income_source.html.erb_spec.rb","line_number":49,"run_time":0.317925347,"pending_message":null,"screenshot":null},{"id":"./spec/views/properties/income/_income_source.html.erb_spec.rb[1:3:1]","description":"renders correctly","full_description":"properties/income/_income_source for an Income BankAccountEntry renders correctly","status":"passed","file_path":"./spec/views/properties/income/_income_source.html.erb_spec.rb","line_number":71,"run_time":0.288281458,"pending_message":null,"screenshot":null},{"id":"./spec/views/properties/income/_income_source.html.erb_spec.rb[1:3:2:1]","description":"renders the value as a negative amount","full_description":"properties/income/_income_source for an Income BankAccountEntry for an Income Refund renders the value as a negative amount","status":"passed","file_path":"./spec/views/properties/income/_income_source.html.erb_spec.rb","line_number":90,"run_time":0.287621679,"pending_message":null,"screenshot":null},{"id":"./spec/views/properties/income/_income_source.html.erb_spec.rb[1:4:1]","description":"renders correctly with a positive amount","full_description":"properties/income/_income_source for an income JournalEntry renders correctly with a positive amount","status":"passed","file_path":"./spec/views/properties/income/_income_source.html.erb_spec.rb","line_number":114,"run_time":0.299130339,"pending_message":null,"screenshot":null},{"id":"./spec/views/properties/income/_income_source.html.erb_spec.rb[1:4:2:1]","description":"renders the value as a negative amount","full_description":"properties/income/_income_source for an income JournalEntry for a debit income account value renders the value as a negative amount","status":"passed","file_path":"./spec/views/properties/income/_income_source.html.erb_spec.rb","line_number":126,"run_time":0.26835708,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/accounting/spending_category_report_integration_spec.rb[1:1:1]","description":"returns 400 if from_date is not specified","full_description":"Api::SpendingCategoryReportIntegration requests from internal api apps returns 400 if from_date is not specified","status":"passed","file_path":"./spec/requests/api/accounting/spending_category_report_integration_spec.rb","line_number":30,"run_time":0.171555349,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/accounting/spending_category_report_integration_spec.rb[1:1:2]","description":"returns 400 if to_date is not specified","full_description":"Api::SpendingCategoryReportIntegration requests from internal api apps returns 400 if to_date is not specified","status":"passed","file_path":"./spec/requests/api/accounting/spending_category_report_integration_spec.rb","line_number":35,"run_time":0.175862757,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/accounting/spending_category_report_integration_spec.rb[1:1:3]","description":"returns 400 for invalid dates","full_description":"Api::SpendingCategoryReportIntegration requests from internal api apps returns 400 for invalid dates","status":"passed","file_path":"./spec/requests/api/accounting/spending_category_report_integration_spec.rb","line_number":40,"run_time":0.212185333,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/accounting/spending_category_report_integration_spec.rb[1:1:4]","description":"is not available for users below tax \u0026 accounting level","full_description":"Api::SpendingCategoryReportIntegration requests from internal api apps is not available for users below tax \u0026 accounting level","status":"passed","file_path":"./spec/requests/api/accounting/spending_category_report_integration_spec.rb","line_number":48,"run_time":0.19514791,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/accounting/spending_category_report_integration_spec.rb[1:1:5:1]","description":"returns a report for past 6 months when requested","full_description":"Api::SpendingCategoryReportIntegration requests from internal api apps for tax \u0026 accounting users returns a report for past 6 months when requested","status":"passed","file_path":"./spec/requests/api/accounting/spending_category_report_integration_spec.rb","line_number":66,"run_time":0.393448086,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/accounting/spending_category_report_integration_spec.rb[1:1:5:2]","description":"returns a report for the given date range","full_description":"Api::SpendingCategoryReportIntegration requests from internal api apps for tax \u0026 accounting users returns a report for the given date range","status":"passed","file_path":"./spec/requests/api/accounting/spending_category_report_integration_spec.rb","line_number":95,"run_time":0.392983176,"pending_message":null,"screenshot":null},{"id":"./spec/requests/api/accounting/spending_category_report_integration_spec.rb[1:2:1]","description":"should not be allowed","full_description":"Api::SpendingCategoryReportIntegration requests from other API apps should not be allowed","status":"passed","file_path":"./spec/requests/api/accounting/spending_category_report_integration_spec.rb","line_number":114,"run_time":0.164518568,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/companies/_activate_mtd.html.erb_spec.rb[1:1:1:1]","description":"shows a button to switch on MTD and no mention of ITSA","full_description":"practice_dashboard/companies/_activate_mtd with the mtd_itsa_practices feature disabled when MTD filing is not enabled shows a button to switch on MTD and no mention of ITSA","status":"passed","file_path":"./spec/views/practice_dashboard/companies/_activate_mtd.html.erb_spec.rb","line_number":30,"run_time":0.188911097,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/companies/_activate_mtd.html.erb_spec.rb[1:1:2:1]","description":"shows a button to switch on MTD and no mention of ITSA","full_description":"practice_dashboard/companies/_activate_mtd with the mtd_itsa_practices feature disabled when MTD filing is enabled shows a button to switch on MTD and no mention of ITSA","status":"passed","file_path":"./spec/views/practice_dashboard/companies/_activate_mtd.html.erb_spec.rb","line_number":43,"run_time":0.215122249,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/companies/_activate_mtd.html.erb_spec.rb[1:2:1:1:1]","description":"renders both switch on buttons","full_description":"practice_dashboard/companies/_activate_mtd with the mtd_itsa_practices feature enabled when the company is eligible for both MTD VAT and MTD ITSA when neither VAT nor ITSA is switched on renders both switch on buttons","status":"passed","file_path":"./spec/views/practice_dashboard/companies/_activate_mtd.html.erb_spec.rb","line_number":67,"run_time":0.209905306,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/companies/_activate_mtd.html.erb_spec.rb[1:2:1:2:1]","description":"shows notice that VAT is enabled and a switch on button for ITSA","full_description":"practice_dashboard/companies/_activate_mtd with the mtd_itsa_practices feature enabled when the company is eligible for both MTD VAT and MTD ITSA when only VAT is enabled shows notice that VAT is enabled and a switch on button for ITSA","status":"passed","file_path":"./spec/views/practice_dashboard/companies/_activate_mtd.html.erb_spec.rb","line_number":79,"run_time":0.223305096,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/companies/_activate_mtd.html.erb_spec.rb[1:2:1:3:1]","description":"shows notice that ITSA is enabled and a switch on button for VAT","full_description":"practice_dashboard/companies/_activate_mtd with the mtd_itsa_practices feature enabled when the company is eligible for both MTD VAT and MTD ITSA when only ITSA enabled shows notice that ITSA is enabled and a switch on button for VAT","status":"passed","file_path":"./spec/views/practice_dashboard/companies/_activate_mtd.html.erb_spec.rb","line_number":93,"run_time":0.19390596,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/companies/_activate_mtd.html.erb_spec.rb[1:2:1:4:1]","description":"shows notices that both are enabled","full_description":"practice_dashboard/companies/_activate_mtd with the mtd_itsa_practices feature enabled when the company is eligible for both MTD VAT and MTD ITSA with both MTD ITSA and MTD VAT switched on shows notices that both are enabled","status":"passed","file_path":"./spec/views/practice_dashboard/companies/_activate_mtd.html.erb_spec.rb","line_number":106,"run_time":0.206251257,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/companies/_activate_mtd.html.erb_spec.rb[1:2:2:1:1]","description":"shows notice that it is enabled and no mention of ITSA","full_description":"practice_dashboard/companies/_activate_mtd with the mtd_itsa_practices feature enabled when the company is only eligible for MTD VAT when VAT filing is enabled shows notice that it is enabled and no mention of ITSA","status":"passed","file_path":"./spec/views/practice_dashboard/companies/_activate_mtd.html.erb_spec.rb","line_number":132,"run_time":0.096742321,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/companies/_activate_mtd.html.erb_spec.rb[1:2:2:2:1]","description":"renders only the VAT switch on button","full_description":"practice_dashboard/companies/_activate_mtd with the mtd_itsa_practices feature enabled when the company is only eligible for MTD VAT when VAT filing is not enabled renders only the VAT switch on button","status":"passed","file_path":"./spec/views/practice_dashboard/companies/_activate_mtd.html.erb_spec.rb","line_number":147,"run_time":0.126075163,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/companies/_activate_mtd.html.erb_spec.rb[1:2:3:1:1]","description":"shows notice that it is enabled and no mention of VAT","full_description":"practice_dashboard/companies/_activate_mtd with the mtd_itsa_practices feature enabled when the company is only eligible for ITSA when ITSA filing is enabled shows notice that it is enabled and no mention of VAT","status":"passed","file_path":"./spec/views/practice_dashboard/companies/_activate_mtd.html.erb_spec.rb","line_number":173,"run_time":0.157423507,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/companies/_activate_mtd.html.erb_spec.rb[1:2:3:2:1]","description":"renders only the ITSA switch on button","full_description":"practice_dashboard/companies/_activate_mtd with the mtd_itsa_practices feature enabled when the company is only eligible for ITSA when ITSA is not enabled renders only the ITSA switch on button","status":"passed","file_path":"./spec/views/practice_dashboard/companies/_activate_mtd.html.erb_spec.rb","line_number":188,"run_time":0.171727446,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/companies/_activate_mtd.html.erb_spec.rb[1:2:4:1]","description":"does not render any MTD content","full_description":"practice_dashboard/companies/_activate_mtd with the mtd_itsa_practices feature enabled when the company isn't eligible neither for VAT nor ITSA does not render any MTD content","status":"passed","file_path":"./spec/views/practice_dashboard/companies/_activate_mtd.html.erb_spec.rb","line_number":213,"run_time":0.078003894,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/foreign_currency_part_paid.feature[1:1:1]","description":"Given a uk sole trader -\u003e And a foreign currency bill: part paid -\u003e And exchange rates are setup -\u003e Given VAT settings: Not registered -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Part Paid Foreign Currency Bills No VAT Given a uk sole trader -\u003e And a foreign currency bill: part paid -\u003e And exchange rates are setup -\u003e Given VAT settings: Not registered -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/foreign_currency_part_paid.feature","line_number":15,"run_time":0.076502681,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/foreign_currency_part_paid.feature[1:2:1]","description":"Given a uk sole trader -\u003e And a foreign currency bill: part paid -\u003e And exchange rates are setup -\u003e Given VAT settings: Any basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Part Paid Foreign Currency Bills No VAT Given a uk sole trader -\u003e And a foreign currency bill: part paid -\u003e And exchange rates are setup -\u003e Given VAT settings: Any basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/foreign_currency_part_paid.feature","line_number":15,"run_time":0.05839399,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/foreign_currency_part_paid.feature[1:3:1]","description":"Given a uk sole trader -\u003e And a foreign currency bill: part paid -\u003e And exchange rates are setup -\u003e Given VAT settings: Any basis, FRS, then Any basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Part Paid Foreign Currency Bills No VAT Given a uk sole trader -\u003e And a foreign currency bill: part paid -\u003e And exchange rates are setup -\u003e Given VAT settings: Any basis, FRS, then Any basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/foreign_currency_part_paid.feature","line_number":15,"run_time":0.060466477,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/foreign_currency_part_paid.feature[1:4:1]","description":"Given a uk sole trader -\u003e And a foreign currency bill: part paid -\u003e And exchange rates are setup -\u003e Given VAT settings: Any basis, FRS, then Any basis, not FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Part Paid Foreign Currency Bills No VAT Given a uk sole trader -\u003e And a foreign currency bill: part paid -\u003e And exchange rates are setup -\u003e Given VAT settings: Any basis, FRS, then Any basis, not FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/foreign_currency_part_paid.feature","line_number":15,"run_time":0.075532837,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/foreign_currency_part_paid.feature[1:5:1]","description":"Given a uk sole trader -\u003e And a foreign currency bill: part paid -\u003e And exchange rates are setup -\u003e Given VAT settings: Any basis, FRS, then de-registered -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Part Paid Foreign Currency Bills No VAT Given a uk sole trader -\u003e And a foreign currency bill: part paid -\u003e And exchange rates are setup -\u003e Given VAT settings: Any basis, FRS, then de-registered -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/foreign_currency_part_paid.feature","line_number":15,"run_time":0.111855992,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/foreign_currency_part_paid.feature[1:6:1]","description":"Given a uk sole trader -\u003e And a foreign currency bill: part paid -\u003e And exchange rates are setup -\u003e Given VAT settings: Not registered, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Part Paid Foreign Currency Bills Pre-registration, pay VAT on registration Given a uk sole trader -\u003e And a foreign currency bill: part paid -\u003e And exchange rates are setup -\u003e Given VAT settings: Not registered, then Any basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/foreign_currency_part_paid.feature","line_number":76,"run_time":0.079776802,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/foreign_currency_part_paid.feature[1:7:1]","description":"Given a uk sole trader -\u003e And a foreign currency bill: part paid -\u003e And exchange rates are setup -\u003e Given VAT settings: Not registered, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Part Paid Foreign Currency Bills Pre-registration, pay VAT on registration Given a uk sole trader -\u003e And a foreign currency bill: part paid -\u003e And exchange rates are setup -\u003e Given VAT settings: Not registered, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/foreign_currency_part_paid.feature","line_number":76,"run_time":0.060043889,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/foreign_currency_part_paid.feature[1:8:1]","description":"Given a uk sole trader -\u003e And a foreign currency bill: part paid -\u003e And exchange rates are setup -\u003e Given VAT settings: Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Part Paid Foreign Currency Bills Reclaimed VAT on VAT bill item Given a uk sole trader -\u003e And a foreign currency bill: part paid -\u003e And exchange rates are setup -\u003e Given VAT settings: Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/foreign_currency_part_paid.feature","line_number":140,"run_time":0.053586265,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/foreign_currency_part_paid.feature[1:9:1]","description":"Given a uk sole trader -\u003e And a foreign currency bill: part paid -\u003e And exchange rates are setup -\u003e Given VAT settings: Invoice basis, not FRS, then Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Part Paid Foreign Currency Bills Reclaimed VAT on VAT bill item Given a uk sole trader -\u003e And a foreign currency bill: part paid -\u003e And exchange rates are setup -\u003e Given VAT settings: Invoice basis, not FRS, then Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/foreign_currency_part_paid.feature","line_number":140,"run_time":0.056079635,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/foreign_currency_part_paid.feature[1:10:1]","description":"Given a uk sole trader -\u003e And a foreign currency bill: part paid -\u003e And exchange rates are setup -\u003e Given VAT settings: Invoice basis, not FRS, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Part Paid Foreign Currency Bills Reclaimed VAT on VAT bill item Given a uk sole trader -\u003e And a foreign currency bill: part paid -\u003e And exchange rates are setup -\u003e Given VAT settings: Invoice basis, not FRS, then Any basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/foreign_currency_part_paid.feature","line_number":140,"run_time":0.06575052,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/foreign_currency_part_paid.feature[1:11:1]","description":"Given a uk sole trader -\u003e And a foreign currency bill: part paid -\u003e And exchange rates are setup -\u003e Given VAT settings: Invoice basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Part Paid Foreign Currency Bills Reclaimed VAT on VAT bill item Given a uk sole trader -\u003e And a foreign currency bill: part paid -\u003e And exchange rates are setup -\u003e Given VAT settings: Invoice basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/foreign_currency_part_paid.feature","line_number":140,"run_time":0.056527717,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/foreign_currency_part_paid.feature[1:12:1]","description":"Given a uk sole trader -\u003e And a foreign currency bill: part paid -\u003e And exchange rates are setup -\u003e Given a uk sole trader -\u003e And VAT settings: Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Part Paid Foreign Currency Bills Deferred VAT on VAT bill item, paid on payment Given a uk sole trader -\u003e And a foreign currency bill: part paid -\u003e And exchange rates are setup -\u003e Given a uk sole trader -\u003e And VAT settings: Cash basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/foreign_currency_part_paid.feature","line_number":205,"run_time":0.057357583,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/foreign_currency_part_paid.feature[1:13:1]","description":"Given a uk sole trader -\u003e And a foreign currency bill: part paid -\u003e And exchange rates are setup -\u003e Given a uk sole trader -\u003e And VAT settings: Cash basis, not FRS, then Cash basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Part Paid Foreign Currency Bills Deferred VAT on VAT bill item, undeferred on payment Given a uk sole trader -\u003e And a foreign currency bill: part paid -\u003e And exchange rates are setup -\u003e Given a uk sole trader -\u003e And VAT settings: Cash basis, not FRS, then Cash basis, FRS -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/foreign_currency_part_paid.feature","line_number":271,"run_time":0.0620254,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/foreign_currency_part_paid.feature[1:14:1]","description":"Given a uk sole trader -\u003e And a foreign currency bill: part paid -\u003e And exchange rates are setup -\u003e Given VAT settings: Cash basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Part Paid Foreign Currency Bills Deferred VAT on VAT bill item, reclaimed on payment and de-registration Given a uk sole trader -\u003e And a foreign currency bill: part paid -\u003e And exchange rates are setup -\u003e Given VAT settings: Cash basis, not FRS, then de-registered -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/foreign_currency_part_paid.feature","line_number":335,"run_time":0.066413336,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/foreign_currency_part_paid.feature[1:15:1]","description":"Given a uk sole trader -\u003e And a foreign currency bill: part paid -\u003e And exchange rates are setup -\u003e Given VAT settings: Cash basis, not FRS, then Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Part Paid Foreign Currency Bills Deferred VAT on VAT bill item, reclaimed on payment and 6 months after switching to the invoice basis Given a uk sole trader -\u003e And a foreign currency bill: part paid -\u003e And exchange rates are setup -\u003e Given VAT settings: Cash basis, not FRS, then Invoice basis, not FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/foreign_currency_part_paid.feature","line_number":402,"run_time":0.067951515,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/bills/foreign_currency_part_paid.feature[1:16:1]","description":"Given a uk sole trader -\u003e And a foreign currency bill: part paid -\u003e And exchange rates are setup -\u003e Given VAT settings: Cash basis, not FRS, then Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"Part Paid Foreign Currency Bills Deferred VAT on VAT bill item, reclaimed on payment and 6 months after switching to the invoice basis Given a uk sole trader -\u003e And a foreign currency bill: part paid -\u003e And exchange rates are setup -\u003e Given VAT settings: Cash basis, not FRS, then Invoice basis, FRS -\u003e Then it appears on the VAT return report as -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/bills/foreign_currency_part_paid.feature","line_number":402,"run_time":0.062615769,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_factory/addon_item_builder_spec.rb[1:1:1]","description":"adds one item","full_description":"SubscriptionInvoiceFactory::AddonItemBuilder with a generic addon adds one item","status":"passed","file_path":"./spec/models/subscription_invoice_factory/addon_item_builder_spec.rb","line_number":20,"run_time":0.109040761,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_factory/addon_item_builder_spec.rb[1:1:2:1]","description":"does not include sales tax","full_description":"SubscriptionInvoiceFactory::AddonItemBuilder with a generic addon for a company in a place where we don't charge sales tax does not include sales tax","status":"passed","file_path":"./spec/models/subscription_invoice_factory/addon_item_builder_spec.rb","line_number":36,"run_time":0.156904192,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_factory/addon_item_builder_spec.rb[1:1:3:1:1]","description":"does not call the ProRataAddonItemBuilder","full_description":"SubscriptionInvoiceFactory::AddonItemBuilder with a generic addon that is suspended with reactivate_suspended_addons = false does not call the ProRataAddonItemBuilder","status":"passed","file_path":"./spec/models/subscription_invoice_factory/addon_item_builder_spec.rb","line_number":50,"run_time":0.115535904,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_factory/addon_item_builder_spec.rb[1:1:3:2:1]","description":"calls the ProRataAddonItemBuilder","full_description":"SubscriptionInvoiceFactory::AddonItemBuilder with a generic addon that is suspended with reactivate_suspended_addons = true calls the ProRataAddonItemBuilder","status":"passed","file_path":"./spec/models/subscription_invoice_factory/addon_item_builder_spec.rb","line_number":59,"run_time":0.101726025,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_factory/addon_item_builder_spec.rb[1:1:3:2:2:1]","description":"adds an item for 1 month","full_description":"SubscriptionInvoiceFactory::AddonItemBuilder with a generic addon that is suspended with reactivate_suspended_addons = true when the account is suspended adds an item for 1 month","status":"passed","file_path":"./spec/models/subscription_invoice_factory/addon_item_builder_spec.rb","line_number":67,"run_time":0.098017054,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_factory/addon_item_builder_spec.rb[1:1:3:2:3:1]","description":"does not create an item","full_description":"SubscriptionInvoiceFactory::AddonItemBuilder with a generic addon that is suspended with reactivate_suspended_addons = true and free does not create an item","status":"passed","file_path":"./spec/models/subscription_invoice_factory/addon_item_builder_spec.rb","line_number":86,"run_time":0.092915411,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_factory/addon_item_builder_spec.rb[1:2:1]","description":"adds one item each","full_description":"SubscriptionInvoiceFactory::AddonItemBuilder with two generic addons adds one item each","status":"passed","file_path":"./spec/models/subscription_invoice_factory/addon_item_builder_spec.rb","line_number":98,"run_time":0.100768788,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_factory/addon_item_builder_spec.rb[1:3:1:1]","description":"adds one item","full_description":"SubscriptionInvoiceFactory::AddonItemBuilder with CoPilot when active adds one item","status":"passed","file_path":"./spec/models/subscription_invoice_factory/addon_item_builder_spec.rb","line_number":122,"run_time":0.156304837,"pending_message":null,"screenshot":null},{"id":"./spec/models/subscription_invoice_factory/addon_item_builder_spec.rb[1:3:2:1]","description":"does not create an item for CoPilot","full_description":"SubscriptionInvoiceFactory::AddonItemBuilder with CoPilot when cancelled does not create an item for CoPilot","status":"passed","file_path":"./spec/models/subscription_invoice_factory/addon_item_builder_spec.rb","line_number":141,"run_time":0.181687496,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[13:19:5:1]","description":"publishes an event","full_description":"InvoicesController POST create publishing events when a contact is created publishes an event","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":1673,"run_time":0.390715624,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:39:1]","description":"is true if the company has any active email templates","full_description":"Invoice#has_advanced_options? is true if the company has any active email templates","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":828,"run_time":0.0313214,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/dev_dashboard/apps/show.html.erb_spec.rb[1:1:1:1]","description":"contains the correct partials","full_description":"admin/dev_dashboard/apps/show for accounts with freeagent users when rendering the page contains the correct partials","status":"passed","file_path":"./spec/views/admin/dev_dashboard/apps/show.html.erb_spec.rb","line_number":35,"run_time":0.203992914,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/dev_dashboard/apps/show.html.erb_spec.rb[1:1:1:2]","description":"contains the expected data","full_description":"admin/dev_dashboard/apps/show for accounts with freeagent users when rendering the page contains the expected data","status":"passed","file_path":"./spec/views/admin/dev_dashboard/apps/show.html.erb_spec.rb","line_number":42,"run_time":0.197985611,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/dev_dashboard/apps/show.html.erb_spec.rb[1:2:1:1]","description":"contains the correct partials","full_description":"admin/dev_dashboard/apps/show for accounts with accountancy practice users when rendering the page contains the correct partials","status":"passed","file_path":"./spec/views/admin/dev_dashboard/apps/show.html.erb_spec.rb","line_number":77,"run_time":0.10155709,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/dev_dashboard/apps/show.html.erb_spec.rb[1:2:1:2]","description":"contains the expected data","full_description":"admin/dev_dashboard/apps/show for accounts with accountancy practice users when rendering the page contains the expected data","status":"passed","file_path":"./spec/views/admin/dev_dashboard/apps/show.html.erb_spec.rb","line_number":84,"run_time":0.109808892,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices/convert_to_credit_note_controller_spec.rb[1:1]","description":"converts the negative invoice and redirects to credit note show","full_description":"Invoices::ConvertToCreditNoteController converts the negative invoice and redirects to credit note show","status":"passed","file_path":"./spec/controllers/invoices/convert_to_credit_note_controller_spec.rb","line_number":14,"run_time":0.239781979,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices/convert_to_credit_note_controller_spec.rb[1:2]","description":"creates audit entries","full_description":"Invoices::ConvertToCreditNoteController creates audit entries","status":"passed","file_path":"./spec/controllers/invoices/convert_to_credit_note_controller_spec.rb","line_number":21,"run_time":0.225162177,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices/convert_to_credit_note_controller_spec.rb[1:3:1]","description":"flashes an error message and redirects back to the invoice show page","full_description":"Invoices::ConvertToCreditNoteController when the conversion is invalid and returns nil flashes an error message and redirects back to the invoice show page","status":"passed","file_path":"./spec/controllers/invoices/convert_to_credit_note_controller_spec.rb","line_number":50,"run_time":0.153096068,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/timeslip_component_spec.rb[1:2]","description":"displays the user attached to the timeslip","full_description":"Timeslips::TimeslipComponent displays the user attached to the timeslip","status":"passed","file_path":"./spec/components/timeslips/timeslip_component_spec.rb","line_number":58,"run_time":0.034737872,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/timeslip_component_spec.rb[1:1:1:1]","description":"does not add the new_timeslip class to the container","full_description":"Timeslips::TimeslipComponent when a timeslip is to be animated and the animated timeslip matches the current timeslip does not add the new_timeslip class to the container","status":"passed","file_path":"./spec/components/timeslips/timeslip_component_spec.rb","line_number":40,"run_time":0.018394455,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/timeslip_component_spec.rb[1:1:2:1]","description":"does not add the new_timeslip class to the container","full_description":"Timeslips::TimeslipComponent when a timeslip is to be animated and the animated timeslip does not matches the current timeslip does not add the new_timeslip class to the container","status":"passed","file_path":"./spec/components/timeslips/timeslip_component_spec.rb","line_number":50,"run_time":0.022669446,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/timeslip_component_spec.rb[1:3:1]","description":"displays links for the contact and the project","full_description":"Timeslips::TimeslipComponent when displaying the contact and project displays links for the contact and the project","status":"passed","file_path":"./spec/components/timeslips/timeslip_component_spec.rb","line_number":65,"run_time":0.019759003,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/timeslip_component_spec.rb[1:3:2:1]","description":"does not display links to the contact and project","full_description":"Timeslips::TimeslipComponent when displaying the contact and project when the user does not have permissions to projects and contacts does not display links to the contact and project","status":"passed","file_path":"./spec/components/timeslips/timeslip_component_spec.rb","line_number":87,"run_time":0.017286646,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/timeslip_component_spec.rb[1:4:1:1]","description":"displays the task name","full_description":"Timeslips::TimeslipComponent when displaying the task name and the task is not billable displays the task name","status":"passed","file_path":"./spec/components/timeslips/timeslip_component_spec.rb","line_number":111,"run_time":0.018348216,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/timeslip_component_spec.rb[1:4:2:1]","description":"displays the task as unbillable","full_description":"Timeslips::TimeslipComponent when displaying the task name and the task is billable displays the task as unbillable","status":"passed","file_path":"./spec/components/timeslips/timeslip_component_spec.rb","line_number":122,"run_time":0.018082949,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/timeslip_component_spec.rb[1:5:1]","description":"allows the user to pause the running timer","full_description":"Timeslips::TimeslipComponent when the timer is running allows the user to pause the running timer","status":"passed","file_path":"./spec/components/timeslips/timeslip_component_spec.rb","line_number":147,"run_time":0.028923127,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/timeslip_component_spec.rb[1:5:2]","description":"displays the current elapsed time","full_description":"Timeslips::TimeslipComponent when the timer is running displays the current elapsed time","status":"passed","file_path":"./spec/components/timeslips/timeslip_component_spec.rb","line_number":160,"run_time":0.021830833,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/timeslip_component_spec.rb[1:5:3]","description":"updates the elapsed time of the timer","full_description":"Timeslips::TimeslipComponent when the timer is running updates the elapsed time of the timer","status":"passed","file_path":"./spec/components/timeslips/timeslip_component_spec.rb","line_number":166,"run_time":0.022533314,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/timeslip_component_spec.rb[1:5:4:1]","description":"does not allow the user to pause the running timer","full_description":"Timeslips::TimeslipComponent when the timer is running and the user cannot edit the timeslip does not allow the user to pause the running timer","status":"passed","file_path":"./spec/components/timeslips/timeslip_component_spec.rb","line_number":187,"run_time":0.022022299,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/timeslip_component_spec.rb[1:6:1]","description":"allows the user to start the running timer","full_description":"Timeslips::TimeslipComponent when the timer is not running allows the user to start the running timer","status":"passed","file_path":"./spec/components/timeslips/timeslip_component_spec.rb","line_number":196,"run_time":0.019140325,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/timeslip_component_spec.rb[1:6:2]","description":"displays the current elapsed time","full_description":"Timeslips::TimeslipComponent when the timer is not running displays the current elapsed time","status":"passed","file_path":"./spec/components/timeslips/timeslip_component_spec.rb","line_number":207,"run_time":0.018153363,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/timeslip_component_spec.rb[1:6:3:1]","description":"does not allow the user to start the timer","full_description":"Timeslips::TimeslipComponent when the timer is not running and the timeslip is locked does not allow the user to start the timer","status":"passed","file_path":"./spec/components/timeslips/timeslip_component_spec.rb","line_number":228,"run_time":0.100203988,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/timeslip_component_spec.rb[1:6:4:1]","description":"does not allow the user to start the running timer","full_description":"Timeslips::TimeslipComponent when the timer is not running and the user cannot edit the timeslip does not allow the user to start the running timer","status":"passed","file_path":"./spec/components/timeslips/timeslip_component_spec.rb","line_number":242,"run_time":0.015944317,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/timeslip_component_spec.rb[1:7:1]","description":"shows the edit action","full_description":"Timeslips::TimeslipComponent when displaying the available actions for a timeslip shows the edit action","status":"passed","file_path":"./spec/components/timeslips/timeslip_component_spec.rb","line_number":251,"run_time":0.017365973,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/timeslip_component_spec.rb[1:7:2:1]","description":"shows the delete action","full_description":"Timeslips::TimeslipComponent when displaying the available actions for a timeslip with the delete action shows the delete action","status":"passed","file_path":"./spec/components/timeslips/timeslip_component_spec.rb","line_number":258,"run_time":0.0186798,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/timeslip_component_spec.rb[1:7:2:2]","description":"includes the confirmation modal to delete the timeslip","full_description":"Timeslips::TimeslipComponent when displaying the available actions for a timeslip with the delete action includes the confirmation modal to delete the timeslip","status":"passed","file_path":"./spec/components/timeslips/timeslip_component_spec.rb","line_number":264,"run_time":0.020135037,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/timeslip_component_spec.rb[1:7:3:1]","description":"displays the lock icon for the timeslip and link to the invoice","full_description":"Timeslips::TimeslipComponent when displaying the available actions for a timeslip when the timeslip is locked displays the lock icon for the timeslip and link to the invoice","status":"passed","file_path":"./spec/components/timeslips/timeslip_component_spec.rb","line_number":291,"run_time":0.289610942,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/timeslip_component_spec.rb[1:7:3:2:1]","description":"does not show the link for the timeslip","full_description":"Timeslips::TimeslipComponent when displaying the available actions for a timeslip when the timeslip is locked when the user does not have permissions to view invoices does not show the link for the timeslip","status":"passed","file_path":"./spec/components/timeslips/timeslip_component_spec.rb","line_number":311,"run_time":0.291634687,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/timeslip_component_spec.rb[1:8:1]","description":"displays the comment for the timeslip","full_description":"Timeslips::TimeslipComponent when the timeslip has a comment displays the comment for the timeslip","status":"passed","file_path":"./spec/components/timeslips/timeslip_component_spec.rb","line_number":325,"run_time":0.048089844,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/timeslip_component_spec.rb[1:8:2:1]","description":"truncates the comments","full_description":"Timeslips::TimeslipComponent when the timeslip has a comment and the comment is longer than 185 characters truncates the comments","status":"passed","file_path":"./spec/components/timeslips/timeslip_component_spec.rb","line_number":352,"run_time":0.095222415,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb[1:1:1:1]","description":"calls generate_pro_tips","full_description":"Radar::Insights::ProTipGenerator.evaluate_pro_tips_for when a new instance has been initialised calls generate_pro_tips","status":"passed","file_path":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb","line_number":42,"run_time":0.029985269,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb[1:2:1:1]","description":"does not initialise a new ProTip rule","full_description":"Radar::Insights::ProTipGenerator#generate_pro_tip_notification! when the user does not have insights enabled does not initialise a new ProTip rule","status":"passed","file_path":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb","line_number":63,"run_time":0.050241357,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb[1:2:2:1]","description":"does not initialise a new ProTip rule","full_description":"Radar::Insights::ProTipGenerator#generate_pro_tip_notification! when the user has already received the relevant ProTip does not initialise a new ProTip rule","status":"passed","file_path":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb","line_number":74,"run_time":0.095694638,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb[1:2:3:1]","description":"does not initialise a new ProTip rule","full_description":"Radar::Insights::ProTipGenerator#generate_pro_tip_notification! when the event name does not trigger a ProTip does not initialise a new ProTip rule","status":"passed","file_path":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb","line_number":83,"run_time":0.18812329,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb[1:2:4:1:1]","description":"generates an insight","full_description":"Radar::Insights::ProTipGenerator#generate_pro_tip_notification! when the event triggers a ProTip and the rule is applicable in context generates an insight","status":"passed","file_path":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb","line_number":98,"run_time":0.030050789,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb[1:2:4:1:2:1:1]","description":"doesn't create another ProTips ping","full_description":"Radar::Insights::ProTipGenerator#generate_pro_tip_notification! when the event triggers a ProTip and the rule is applicable in context and the user has previously received a different ProTip within the ProTip generation interval doesn't create another ProTips ping","status":"passed","file_path":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb","line_number":119,"run_time":0.041023324,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb[1:2:4:1:2:2:1]","description":"creates another ProTip ping","full_description":"Radar::Insights::ProTipGenerator#generate_pro_tip_notification! when the event triggers a ProTip and the rule is applicable in context and the user has previously received a different ProTip outside of the ProTip generation interval creates another ProTip ping","status":"passed","file_path":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb","line_number":133,"run_time":0.059335484,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb[1:2:4:1:3:1:1:1]","description":"sends the account manager a notification","full_description":"Radar::Insights::ProTipGenerator#generate_pro_tip_notification! when the event triggers a ProTip and the rule is applicable in context when generating ProTips for account managers and the user is a senior account manager and the account manager is the company's account manager sends the account manager a notification","status":"passed","file_path":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb","line_number":157,"run_time":0.186848279,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb[1:2:4:1:3:1:2:1]","description":"does not send the user a notification","full_description":"Radar::Insights::ProTipGenerator#generate_pro_tip_notification! when the event triggers a ProTip and the rule is applicable in context when generating ProTips for account managers and the user is a senior account manager and the account manager is not the company's account manager does not send the user a notification","status":"passed","file_path":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb","line_number":171,"run_time":0.182385374,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb[1:2:4:2:1]","description":"does not generate an insight","full_description":"Radar::Insights::ProTipGenerator#generate_pro_tip_notification! when the event triggers a ProTip and the rule is not applicable in context does not generate an insight","status":"passed","file_path":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb","line_number":183,"run_time":0.021321496,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb[1:2:4:3:1:1]","description":"generates the next applicable ProTip","full_description":"Radar::Insights::ProTipGenerator#generate_pro_tip_notification! when the event triggers a ProTip when the event has multiple consumers when the last ProTip consumes the same event generates the next applicable ProTip","status":"passed","file_path":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb","line_number":209,"run_time":0.057938996,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb[1:2:4:3:2:1]","description":"only generates 1 ProTip","full_description":"Radar::Insights::ProTipGenerator#generate_pro_tip_notification! when the event triggers a ProTip when the event has multiple consumers and the consumers have different priority levels only generates 1 ProTip","status":"passed","file_path":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb","line_number":222,"run_time":0.042777453,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb[1:2:4:3:3:1]","description":"only generates 1 ProTip","full_description":"Radar::Insights::ProTipGenerator#generate_pro_tip_notification! when the event triggers a ProTip when the event has multiple consumers and the consumers have the same priority only generates 1 ProTip","status":"passed","file_path":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb","line_number":236,"run_time":0.041645068,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb[1:2:4:3:3:2]","description":"generates the first applicable ProTip","full_description":"Radar::Insights::ProTipGenerator#generate_pro_tip_notification! when the event triggers a ProTip when the event has multiple consumers and the consumers have the same priority generates the first applicable ProTip","status":"passed","file_path":"./spec/freeagent/radar/insights/pro_tip_generator_spec.rb","line_number":242,"run_time":0.041259399,"pending_message":null,"screenshot":null},{"id":"./spec/views/accounting/ir35/show.html.erb_spec.rb[1:1:1]","description":"renders the starting and ending years from the tax year","full_description":"accounting/ir35/show IR35 Report renders the starting and ending years from the tax year","status":"passed","file_path":"./spec/views/accounting/ir35/show.html.erb_spec.rb","line_number":54,"run_time":0.176769901,"pending_message":null,"screenshot":null},{"id":"./spec/views/accounting/ir35/show.html.erb_spec.rb[1:1:2]","description":"renders out the deemed payments","full_description":"accounting/ir35/show IR35 Report renders out the deemed payments","status":"passed","file_path":"./spec/views/accounting/ir35/show.html.erb_spec.rb","line_number":68,"run_time":0.120035364,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[8:3:1:2]","description":"doesn't display a warning notice","full_description":"InvoicesController GET :show with a newly created invoice with a custom theme with theme_customisation_circuit_breaker working doesn't display a warning notice","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":965,"run_time":0.385438674,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:115:1]","description":"rounds the invoice item category totals separately","full_description":"Invoice An invoice with VAT invoice items and invoice item rounding rounds the invoice item category totals separately","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":3524,"run_time":0.31791964,"pending_message":null,"screenshot":null},{"id":"./spec/views/email_templates/reminder.html.erb_spec.rb[1:1:1]","description":"renders a notice","full_description":"email_templates/reminder when email_template is a new record renders a notice","status":"passed","file_path":"./spec/views/email_templates/reminder.html.erb_spec.rb","line_number":17,"run_time":0.149902392,"pending_message":null,"screenshot":null},{"id":"./spec/views/email_templates/reminder.html.erb_spec.rb[1:2:1]","description":"does not render a notice","full_description":"email_templates/reminder when an email_template exists does not render a notice","status":"passed","file_path":"./spec/views/email_templates/reminder.html.erb_spec.rb","line_number":26,"run_time":0.164840476,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/standalone_form_component_spec.rb[1:1:1]","description":"has added the controllers to the from","full_description":"Timeslips::StandaloneFormComponent with a new timeslip has added the controllers to the from","status":"passed","file_path":"./spec/components/timeslips/standalone_form_component_spec.rb","line_number":37,"run_time":0.018194989,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/standalone_form_component_spec.rb[1:1:2]","description":"does not set the add timer field and won't create a timer when saved","full_description":"Timeslips::StandaloneFormComponent with a new timeslip does not set the add timer field and won't create a timer when saved","status":"passed","file_path":"./spec/components/timeslips/standalone_form_component_spec.rb","line_number":47,"run_time":0.016808598,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/standalone_form_component_spec.rb[1:1:3]","description":"has a input for the date","full_description":"Timeslips::StandaloneFormComponent with a new timeslip has a input for the date","status":"passed","file_path":"./spec/components/timeslips/standalone_form_component_spec.rb","line_number":53,"run_time":0.016289431,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/standalone_form_component_spec.rb[1:1:8]","description":"has a field to enter the number of hours for a timeslip","full_description":"Timeslips::StandaloneFormComponent with a new timeslip has a field to enter the number of hours for a timeslip","status":"passed","file_path":"./spec/components/timeslips/standalone_form_component_spec.rb","line_number":81,"run_time":0.015168312,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/standalone_form_component_spec.rb[1:1:9]","description":"has a button to start the timer for the timeslip","full_description":"Timeslips::StandaloneFormComponent with a new timeslip has a button to start the timer for the timeslip","status":"passed","file_path":"./spec/components/timeslips/standalone_form_component_spec.rb","line_number":92,"run_time":0.015948421,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/standalone_form_component_spec.rb[1:1:10]","description":"has a button to start and andd another the timer","full_description":"Timeslips::StandaloneFormComponent with a new timeslip has a button to start and andd another the timer","status":"passed","file_path":"./spec/components/timeslips/standalone_form_component_spec.rb","line_number":98,"run_time":0.016690441,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/standalone_form_component_spec.rb[1:1:4:1:1]","description":"does not show the user auto suggest","full_description":"Timeslips::StandaloneFormComponent with a new timeslip with user selection when there is only a single available user does not show the user auto suggest","status":"passed","file_path":"./spec/components/timeslips/standalone_form_component_spec.rb","line_number":63,"run_time":0.016090733,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/standalone_form_component_spec.rb[1:1:4:2:1:1]","description":"has an auto suggest list for users","full_description":"Timeslips::StandaloneFormComponent with a new timeslip with user selection when there are multiple users available behaves like a timeslip user selector has an auto suggest list for users","status":"passed","file_path":"./spec/support/shared_examples/timeslips/auto_suggest_components.rb","line_number":4,"run_time":0.017771632,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/standalone_form_component_spec.rb[1:1:5:1]","description":"has an auto suggest list for projects","full_description":"Timeslips::StandaloneFormComponent with a new timeslip behaves like a timeslip project selector has an auto suggest list for projects","status":"passed","file_path":"./spec/support/shared_examples/timeslips/auto_suggest_components.rb","line_number":27,"run_time":0.017693035,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/standalone_form_component_spec.rb[1:1:6:1]","description":"has an auto suggest list for tasks","full_description":"Timeslips::StandaloneFormComponent with a new timeslip behaves like a timeslip task selector has an auto suggest list for tasks","status":"passed","file_path":"./spec/support/shared_examples/timeslips/auto_suggest_components.rb","line_number":53,"run_time":0.016909806,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/standalone_form_component_spec.rb[1:1:7:1]","description":"has a textarea for the comment","full_description":"Timeslips::StandaloneFormComponent with a new timeslip behaves like a timeslip comment selector has a textarea for the comment","status":"passed","file_path":"./spec/support/shared_examples/timeslips/auto_suggest_components.rb","line_number":80,"run_time":0.016274379,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/standalone_form_component_spec.rb[1:1:11:1]","description":"displays the errors on the form","full_description":"Timeslips::StandaloneFormComponent with a new timeslip when the timeslip has errors displays the errors on the form","status":"passed","file_path":"./spec/components/timeslips/standalone_form_component_spec.rb","line_number":121,"run_time":0.018028782,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/standalone_form_component_spec.rb[1:2:1]","description":"has added the controllers to the from","full_description":"Timeslips::StandaloneFormComponent with an existing timeslip has added the controllers to the from","status":"passed","file_path":"./spec/components/timeslips/standalone_form_component_spec.rb","line_number":138,"run_time":0.018268061,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/standalone_form_component_spec.rb[1:2:2]","description":"has a button to update the timer for the timeslip","full_description":"Timeslips::StandaloneFormComponent with an existing timeslip has a button to update the timer for the timeslip","status":"passed","file_path":"./spec/components/timeslips/standalone_form_component_spec.rb","line_number":147,"run_time":0.019921054,"pending_message":null,"screenshot":null},{"id":"./spec/components/timeslips/standalone_form_component_spec.rb[1:2:3]","description":"does not have a button to start another timer","full_description":"Timeslips::StandaloneFormComponent with an existing timeslip does not have a button to start another timer","status":"passed","file_path":"./spec/components/timeslips/standalone_form_component_spec.rb","line_number":153,"run_time":0.018930392,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/hmrc_authorizations/index.html.erb_spec.rb[1:1:1]","description":"does not mention ITSA","full_description":"practice_dashboard/hmrc_authorizations/index with the feature switch off does not mention ITSA","status":"passed","file_path":"./spec/views/practice_dashboard/hmrc_authorizations/index.html.erb_spec.rb","line_number":17,"run_time":0.071675092,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/hmrc_authorizations/index.html.erb_spec.rb[1:1:2:1]","description":"shows a refresh connection error when the flash is set","full_description":"practice_dashboard/hmrc_authorizations/index with the feature switch off connection errors shows a refresh connection error when the flash is set","status":"passed","file_path":"./spec/views/practice_dashboard/hmrc_authorizations/index.html.erb_spec.rb","line_number":23,"run_time":0.066098003,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/hmrc_authorizations/index.html.erb_spec.rb[1:2:1:1]","description":"only shows an connect button for ITSA","full_description":"practice_dashboard/hmrc_authorizations/index with the feature switch on with an existing VAT connection only shows an connect button for ITSA","status":"passed","file_path":"./spec/views/practice_dashboard/hmrc_authorizations/index.html.erb_spec.rb","line_number":37,"run_time":0.058329693,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/hmrc_authorizations/index.html.erb_spec.rb[1:2:2:1]","description":"only shows a connect button for VAT","full_description":"practice_dashboard/hmrc_authorizations/index with the feature switch on with an existing ITSA connection only shows a connect button for VAT","status":"passed","file_path":"./spec/views/practice_dashboard/hmrc_authorizations/index.html.erb_spec.rb","line_number":50,"run_time":0.054016445,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/hmrc_authorizations/index.html.erb_spec.rb[1:2:3:1]","description":"does not render any connect buttons","full_description":"practice_dashboard/hmrc_authorizations/index with the feature switch on with both connections existing does not render any connect buttons","status":"passed","file_path":"./spec/views/practice_dashboard/hmrc_authorizations/index.html.erb_spec.rb","line_number":63,"run_time":0.063652329,"pending_message":null,"screenshot":null},{"id":"./spec/views/practice_dashboard/hmrc_authorizations/index.html.erb_spec.rb[1:2:4:1]","description":"shows a connection error when the flash is set","full_description":"practice_dashboard/hmrc_authorizations/index with the feature switch on connection errors shows a connection error when the flash is set","status":"passed","file_path":"./spec/views/practice_dashboard/hmrc_authorizations/index.html.erb_spec.rb","line_number":76,"run_time":0.060364839,"pending_message":null,"screenshot":null},{"id":"./spec/policies/settings/company_delete_request_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Settings::CompanyDeleteRequestPolicy a user with permission level below FULL_ACCESS is expected to equal false","status":"passed","file_path":"./spec/policies/settings/company_delete_request_policy_spec.rb","line_number":15,"run_time":0.009927312,"pending_message":null,"screenshot":null},{"id":"./spec/policies/settings/company_delete_request_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Settings::CompanyDeleteRequestPolicy a user with permission level FULL_ACCESS is expected to equal true","status":"passed","file_path":"./spec/policies/settings/company_delete_request_policy_spec.rb","line_number":26,"run_time":0.008106698,"pending_message":null,"screenshot":null},{"id":"./spec/policies/settings/company_delete_request_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Settings::CompanyDeleteRequestPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/settings/company_delete_request_policy_spec.rb","line_number":37,"run_time":0.05733969,"pending_message":null,"screenshot":null},{"id":"./spec/components/button_to_confirm_component_spec.rb[1:1:1]","description":"does not add any additional to the button","full_description":"ButtonToConfirmComponent when rendering with minimal setup does not add any additional to the button","status":"passed","file_path":"./spec/components/button_to_confirm_component_spec.rb","line_number":36,"run_time":0.007043031,"pending_message":null,"screenshot":null},{"id":"./spec/components/button_to_confirm_component_spec.rb[1:1:2]","description":"attaches the stimulus controller to the button","full_description":"ButtonToConfirmComponent when rendering with minimal setup attaches the stimulus controller to the button","status":"passed","file_path":"./spec/components/button_to_confirm_component_spec.rb","line_number":43,"run_time":0.007092872,"pending_message":null,"screenshot":null},{"id":"./spec/components/button_to_confirm_component_spec.rb[1:1:3]","description":"renders the button body","full_description":"ButtonToConfirmComponent when rendering with minimal setup renders the button body","status":"passed","file_path":"./spec/components/button_to_confirm_component_spec.rb","line_number":51,"run_time":0.007636084,"pending_message":null,"screenshot":null},{"id":"./spec/components/button_to_confirm_component_spec.rb[1:1:4]","description":"renders the button with the default class","full_description":"ButtonToConfirmComponent when rendering with minimal setup renders the button with the default class","status":"passed","file_path":"./spec/components/button_to_confirm_component_spec.rb","line_number":57,"run_time":0.006502919,"pending_message":null,"screenshot":null},{"id":"./spec/components/button_to_confirm_component_spec.rb[1:1:5]","description":"renders the form with the given url and method","full_description":"ButtonToConfirmComponent when rendering with minimal setup renders the form with the given url and method","status":"passed","file_path":"./spec/components/button_to_confirm_component_spec.rb","line_number":63,"run_time":0.007137513,"pending_message":null,"screenshot":null},{"id":"./spec/components/button_to_confirm_component_spec.rb[1:1:6]","description":"renders the modal with the given title","full_description":"ButtonToConfirmComponent when rendering with minimal setup renders the modal with the given title","status":"passed","file_path":"./spec/components/button_to_confirm_component_spec.rb","line_number":69,"run_time":0.007769368,"pending_message":null,"screenshot":null},{"id":"./spec/components/button_to_confirm_component_spec.rb[1:1:7]","description":"renders the modal buttons with default actions","full_description":"ButtonToConfirmComponent when rendering with minimal setup renders the modal buttons with default actions","status":"passed","file_path":"./spec/components/button_to_confirm_component_spec.rb","line_number":75,"run_time":0.00836798,"pending_message":null,"screenshot":null},{"id":"./spec/components/button_to_confirm_component_spec.rb[1:1:8]","description":"aligns the cancel button with the secondary buttons","full_description":"ButtonToConfirmComponent when rendering with minimal setup aligns the cancel button with the secondary buttons","status":"passed","file_path":"./spec/components/button_to_confirm_component_spec.rb","line_number":85,"run_time":0.009007836,"pending_message":null,"screenshot":null},{"id":"./spec/components/button_to_confirm_component_spec.rb[1:2:1]","description":"renders the custom content in the button","full_description":"ButtonToConfirmComponent when using custom button content renders the custom content in the button","status":"passed","file_path":"./spec/components/button_to_confirm_component_spec.rb","line_number":107,"run_time":0.007284646,"pending_message":null,"screenshot":null},{"id":"./spec/components/button_to_confirm_component_spec.rb[1:3:1]","description":"applies the additional parameters to the button","full_description":"ButtonToConfirmComponent when a data parameter is passed applies the additional parameters to the button","status":"passed","file_path":"./spec/components/button_to_confirm_component_spec.rb","line_number":130,"run_time":0.006925306,"pending_message":null,"screenshot":null},{"id":"./spec/components/button_to_confirm_component_spec.rb[1:4:1]","description":"overrides the defaults and uses the given classes","full_description":"ButtonToConfirmComponent when a class parameter is passed overrides the defaults and uses the given classes","status":"passed","file_path":"./spec/components/button_to_confirm_component_spec.rb","line_number":154,"run_time":0.006679825,"pending_message":null,"screenshot":null},{"id":"./spec/components/button_to_confirm_component_spec.rb[1:5:1]","description":"renders the custom content in the modal","full_description":"ButtonToConfirmComponent when using custom modal content renders the custom content in the modal","status":"passed","file_path":"./spec/components/button_to_confirm_component_spec.rb","line_number":178,"run_time":0.008086483,"pending_message":null,"screenshot":null},{"id":"./spec/components/button_to_confirm_component_spec.rb[1:6:1]","description":"renders the custom content in the modal","full_description":"ButtonToConfirmComponent when setting the confirm action renders the custom content in the modal","status":"passed","file_path":"./spec/components/button_to_confirm_component_spec.rb","line_number":201,"run_time":0.008049606,"pending_message":null,"screenshot":null},{"id":"./spec/components/button_to_confirm_component_spec.rb[1:7:1]","description":"aligns the cancel button with the primary buttons","full_description":"ButtonToConfirmComponent when aligning the cancel button to the left aligns the cancel button with the primary buttons","status":"passed","file_path":"./spec/components/button_to_confirm_component_spec.rb","line_number":223,"run_time":0.009318292,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:27:1]","description":"transitions_from_sent","full_description":"Invoice negative invoices transitions_from_sent","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":622,"run_time":0.100347272,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:123:1:1]","description":"returns true","full_description":"Invoice#sales_tax_relevant? when the company is charging sales tax on the invoice date returns true","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":3797,"run_time":0.093460334,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:1:1]","description":"doesn't link to any pages","full_description":"Api::LinkHeader pagination empty collection doesn't link to any pages","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":49,"run_time":0.004178808,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:2:1:1]","description":"doesn't link to previous page","full_description":"Api::LinkHeader pagination non-empty collection pagination params on first page doesn't link to previous page","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":60,"run_time":0.003776051,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:2:1:2]","description":"links to next page","full_description":"Api::LinkHeader pagination non-empty collection pagination params on first page links to next page","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":65,"run_time":0.003300901,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:2:1:3]","description":"doesn't link to first page","full_description":"Api::LinkHeader pagination non-empty collection pagination params on first page doesn't link to first page","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":71,"run_time":0.003244675,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:2:1:4]","description":"links to last page","full_description":"Api::LinkHeader pagination non-empty collection pagination params on first page links to last page","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":76,"run_time":0.003328522,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:2:2:1]","description":"links to previous page","full_description":"Api::LinkHeader pagination non-empty collection pagination params on second page links to previous page","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":86,"run_time":0.003196235,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:2:2:2]","description":"links to next page","full_description":"Api::LinkHeader pagination non-empty collection pagination params on second page links to next page","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":91,"run_time":0.002938118,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:2:2:3]","description":"links to first page","full_description":"Api::LinkHeader pagination non-empty collection pagination params on second page links to first page","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":96,"run_time":0.003012947,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:2:2:4]","description":"links to last page","full_description":"Api::LinkHeader pagination non-empty collection pagination params on second page links to last page","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":101,"run_time":0.003096301,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:2:3:1]","description":"links to previous page","full_description":"Api::LinkHeader pagination non-empty collection pagination params on last page links to previous page","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":110,"run_time":0.003444362,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:2:3:2]","description":"doesn't link to next page","full_description":"Api::LinkHeader pagination non-empty collection pagination params on last page doesn't link to next page","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":115,"run_time":0.0029847,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:2:3:3]","description":"links to first page","full_description":"Api::LinkHeader pagination non-empty collection pagination params on last page links to first page","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":120,"run_time":0.002902542,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:2:3:4]","description":"doesn't link to to last page","full_description":"Api::LinkHeader pagination non-empty collection pagination params on last page doesn't link to to last page","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":125,"run_time":0.002971311,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:2:4:1]","description":"doesn't link to previous page","full_description":"Api::LinkHeader pagination non-empty collection pagination params for a page that doesn't exist doesn't link to previous page","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":134,"run_time":0.00307396,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:2:4:2]","description":"doesn't link to next page","full_description":"Api::LinkHeader pagination non-empty collection pagination params for a page that doesn't exist doesn't link to next page","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":139,"run_time":0.002808747,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:2:4:3]","description":"doesn't link to first page","full_description":"Api::LinkHeader pagination non-empty collection pagination params for a page that doesn't exist doesn't link to first page","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":144,"run_time":0.003087042,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:1:2:4:4]","description":"links to to last page","full_description":"Api::LinkHeader pagination non-empty collection pagination params for a page that doesn't exist links to to last page","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":149,"run_time":0.002763284,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:2:1]","description":"includes permitted parameters in links","full_description":"Api::LinkHeader filtering permitted parameters includes permitted parameters in links","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":167,"run_time":0.003291998,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:2:2]","description":"excludes unpermitted parameters from links","full_description":"Api::LinkHeader filtering permitted parameters excludes unpermitted parameters from links","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":171,"run_time":0.003036133,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/link_header_spec.rb[1:2:3:1]","description":"strips trailing _id from param name before checking permission","full_description":"Api::LinkHeader filtering permitted parameters for model IDs strips trailing _id from param name before checking permission","status":"passed","file_path":"./spec/controllers/api/link_header_spec.rb","line_number":179,"run_time":0.003013816,"pending_message":null,"screenshot":null},{"id":"./spec/policies/payroll/period_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Payroll::PeriodPolicy a user with permission level below TAX_AND_LIMITED_ACCOUNTING is expected to equal false","status":"passed","file_path":"./spec/policies/payroll/period_policy_spec.rb","line_number":17,"run_time":0.007330593,"pending_message":null,"screenshot":null},{"id":"./spec/policies/payroll/period_policy_spec.rb[1:2:1]","description":"is expected to equal false","full_description":"Payroll::PeriodPolicy a user with permission level TAX_AND_LIMITED_ACCOUNTING is expected to equal false","status":"passed","file_path":"./spec/policies/payroll/period_policy_spec.rb","line_number":30,"run_time":0.006684935,"pending_message":null,"screenshot":null},{"id":"./spec/policies/payroll/period_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Payroll::PeriodPolicy a user with permission level FULL_ACCESS is expected to equal true","status":"passed","file_path":"./spec/policies/payroll/period_policy_spec.rb","line_number":43,"run_time":0.006687283,"pending_message":null,"screenshot":null},{"id":"./spec/policies/payroll/period_policy_spec.rb[1:4:1]","description":"is expected to equal true","full_description":"Payroll::PeriodPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/payroll/period_policy_spec.rb","line_number":56,"run_time":0.069111102,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb[1:1:1:1]","description":"is expected to eq \"0.00\"","full_description":"Accounting::FinalAccounts::CurrencyFormattingHelper#format_pounds_and_pence 0 is expected to eq \"0.00\"","status":"passed","file_path":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb","line_number":11,"run_time":0.006588244,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb[1:1:2:1]","description":"is expected to eq \"0.00\"","full_description":"Accounting::FinalAccounts::CurrencyFormattingHelper#format_pounds_and_pence -0 is expected to eq \"0.00\"","status":"passed","file_path":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb","line_number":16,"run_time":0.00556127,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb[1:1:3:1:1]","description":"is expected to eq \"0.10\"","full_description":"Accounting::FinalAccounts::CurrencyFormattingHelper#format_pounds_and_pence pence values positive is expected to eq \"0.10\"","status":"passed","file_path":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb","line_number":22,"run_time":0.00538404,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb[1:1:3:2:1]","description":"is expected to eq \"(0.10)\"","full_description":"Accounting::FinalAccounts::CurrencyFormattingHelper#format_pounds_and_pence pence values negative is expected to eq \"(0.10)\"","status":"passed","file_path":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb","line_number":27,"run_time":0.005489231,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb[1:1:4:1:1]","description":"is expected to eq \"100.00\"","full_description":"Accounting::FinalAccounts::CurrencyFormattingHelper#format_pounds_and_pence values \u003c 1000 positive whole pounds is expected to eq \"100.00\"","status":"passed","file_path":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb","line_number":34,"run_time":0.005378968,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb[1:1:4:2:1]","description":"is expected to eq \"(100.00)\"","full_description":"Accounting::FinalAccounts::CurrencyFormattingHelper#format_pounds_and_pence values \u003c 1000 negative whole pounds is expected to eq \"(100.00)\"","status":"passed","file_path":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb","line_number":39,"run_time":0.005350736,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb[1:1:4:3:1]","description":"is expected to eq \"101.20\"","full_description":"Accounting::FinalAccounts::CurrencyFormattingHelper#format_pounds_and_pence values \u003c 1000 positive pounds and pence is expected to eq \"101.20\"","status":"passed","file_path":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb","line_number":44,"run_time":0.005160305,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb[1:1:4:4:1]","description":"is expected to eq \"(101.20)\"","full_description":"Accounting::FinalAccounts::CurrencyFormattingHelper#format_pounds_and_pence values \u003c 1000 negative whole pounds is expected to eq \"(101.20)\"","status":"passed","file_path":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb","line_number":49,"run_time":0.005012066,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb[1:1:5:1:1]","description":"is expected to eq \"1,001.00\"","full_description":"Accounting::FinalAccounts::CurrencyFormattingHelper#format_pounds_and_pence values \u003e 1000 positive whole pounds is expected to eq \"1,001.00\"","status":"passed","file_path":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb","line_number":56,"run_time":0.004843072,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb[1:1:5:2:1]","description":"is expected to eq \"(1,001.00)\"","full_description":"Accounting::FinalAccounts::CurrencyFormattingHelper#format_pounds_and_pence values \u003e 1000 negative whole pounds is expected to eq \"(1,001.00)\"","status":"passed","file_path":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb","line_number":61,"run_time":0.004819766,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb[1:1:5:3:1]","description":"is expected to eq \"1,050.20\"","full_description":"Accounting::FinalAccounts::CurrencyFormattingHelper#format_pounds_and_pence values \u003e 1000 positive pounds and pence is expected to eq \"1,050.20\"","status":"passed","file_path":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb","line_number":66,"run_time":0.004873581,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb[1:1:5:4:1]","description":"is expected to eq \"(1,050.20)\"","full_description":"Accounting::FinalAccounts::CurrencyFormattingHelper#format_pounds_and_pence values \u003e 1000 negative pounds and pence is expected to eq \"(1,050.20)\"","status":"passed","file_path":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb","line_number":71,"run_time":0.004945039,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb[1:1:6:1:1]","description":"is expected to eq \"0.201\"","full_description":"Accounting::FinalAccounts::CurrencyFormattingHelper#format_pounds_and_pence values with \u003e 2 dps coming back due to stock bug positive pence is expected to eq \"0.201\"","status":"passed","file_path":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb","line_number":78,"run_time":0.004908828,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb[1:1:6:2:1]","description":"is expected to eq \"(0.201)\"","full_description":"Accounting::FinalAccounts::CurrencyFormattingHelper#format_pounds_and_pence values with \u003e 2 dps coming back due to stock bug negative pence is expected to eq \"(0.201)\"","status":"passed","file_path":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb","line_number":83,"run_time":0.005020272,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb[1:1:6:3:1]","description":"is expected to eq \"10.201\"","full_description":"Accounting::FinalAccounts::CurrencyFormattingHelper#format_pounds_and_pence values with \u003e 2 dps coming back due to stock bug positive pounds and pence is expected to eq \"10.201\"","status":"passed","file_path":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb","line_number":88,"run_time":0.004958413,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb[1:1:6:4:1]","description":"is expected to eq \"(10.201)\"","full_description":"Accounting::FinalAccounts::CurrencyFormattingHelper#format_pounds_and_pence values with \u003e 2 dps coming back due to stock bug negative pounds and pence is expected to eq \"(10.201)\"","status":"passed","file_path":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb","line_number":93,"run_time":0.004761059,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb[1:1:6:5:1]","description":"is expected to eq \"1,001.201\"","full_description":"Accounting::FinalAccounts::CurrencyFormattingHelper#format_pounds_and_pence values with \u003e 2 dps coming back due to stock bug positive pounds and pence is expected to eq \"1,001.201\"","status":"passed","file_path":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb","line_number":98,"run_time":0.004832354,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb[1:1:6:6:1]","description":"is expected to eq \"(1,001.201)\"","full_description":"Accounting::FinalAccounts::CurrencyFormattingHelper#format_pounds_and_pence values with \u003e 2 dps coming back due to stock bug negative pounds and pence is expected to eq \"(1,001.201)\"","status":"passed","file_path":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb","line_number":103,"run_time":0.004011719,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb[1:2:5]","description":"raises an error when values are not whole numbers","full_description":"Accounting::FinalAccounts::CurrencyFormattingHelper#format_whole_pounds raises an error when values are not whole numbers","status":"passed","file_path":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb","line_number":145,"run_time":0.003310359,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb[1:2:1:1]","description":"is expected to eq \"0\"","full_description":"Accounting::FinalAccounts::CurrencyFormattingHelper#format_whole_pounds 0 is expected to eq \"0\"","status":"passed","file_path":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb","line_number":113,"run_time":0.003489568,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb[1:2:2:1]","description":"is expected to eq \"0\"","full_description":"Accounting::FinalAccounts::CurrencyFormattingHelper#format_whole_pounds -0 is expected to eq \"0\"","status":"passed","file_path":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb","line_number":118,"run_time":0.003422668,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb[1:2:3:1:1]","description":"is expected to eq \"10\"","full_description":"Accounting::FinalAccounts::CurrencyFormattingHelper#format_whole_pounds whole numbers positive is expected to eq \"10\"","status":"passed","file_path":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb","line_number":124,"run_time":0.003474304,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb[1:2:3:2:1]","description":"is expected to eq \"(10)\"","full_description":"Accounting::FinalAccounts::CurrencyFormattingHelper#format_whole_pounds whole numbers negative is expected to eq \"(10)\"","status":"passed","file_path":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb","line_number":129,"run_time":0.00348573,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb[1:2:4:1:1]","description":"is expected to eq \"1,001\"","full_description":"Accounting::FinalAccounts::CurrencyFormattingHelper#format_whole_pounds values \u003e 1000 positive whole pounds is expected to eq \"1,001\"","status":"passed","file_path":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb","line_number":136,"run_time":0.003328683,"pending_message":null,"screenshot":null},{"id":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb[1:2:4:2:1]","description":"is expected to eq \"(1,001)\"","full_description":"Accounting::FinalAccounts::CurrencyFormattingHelper#format_whole_pounds values \u003e 1000 negative whole pounds is expected to eq \"(1,001)\"","status":"passed","file_path":"./spec/helpers/accounting/final_accounts/currency_formatting_helper_spec.rb","line_number":141,"run_time":0.003365797,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_practices/lead_enquiry_spec.rb[1:1]","description":"is expected to validate that :practice_lead_email_address cannot be empty/falsy","full_description":"EmailPractices::LeadEnquiry is expected to validate that :practice_lead_email_address cannot be empty/falsy","status":"passed","file_path":"./spec/models/email_practices/lead_enquiry_spec.rb","line_number":5,"run_time":0.008285048,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_practices/lead_enquiry_spec.rb[1:2]","description":"is expected to validate that :signed_practice_email_address cannot be empty/falsy","full_description":"EmailPractices::LeadEnquiry is expected to validate that :signed_practice_email_address cannot be empty/falsy","status":"passed","file_path":"./spec/models/email_practices/lead_enquiry_spec.rb","line_number":6,"run_time":0.005267642,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_practices/lead_enquiry_spec.rb[1:3]","description":"is expected to validate that :practice_lead_name cannot be empty/falsy","full_description":"EmailPractices::LeadEnquiry is expected to validate that :practice_lead_name cannot be empty/falsy","status":"passed","file_path":"./spec/models/email_practices/lead_enquiry_spec.rb","line_number":7,"run_time":0.005084159,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_practices/lead_enquiry_spec.rb[1:4]","description":"is expected to validate that :practice_lead_message cannot be empty/falsy","full_description":"EmailPractices::LeadEnquiry is expected to validate that :practice_lead_message cannot be empty/falsy","status":"passed","file_path":"./spec/models/email_practices/lead_enquiry_spec.rb","line_number":8,"run_time":0.005060034,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_practices/lead_enquiry_spec.rb[1:5]","description":"is expected to validate that :practice_name cannot be empty/falsy","full_description":"EmailPractices::LeadEnquiry is expected to validate that :practice_name cannot be empty/falsy","status":"passed","file_path":"./spec/models/email_practices/lead_enquiry_spec.rb","line_number":9,"run_time":0.005007744,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_practices/lead_enquiry_spec.rb[1:6]","description":"is invalid without an email address","full_description":"EmailPractices::LeadEnquiry is invalid without an email address","status":"passed","file_path":"./spec/models/email_practices/lead_enquiry_spec.rb","line_number":14,"run_time":0.004268357,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_practices/lead_enquiry_spec.rb[1:7]","description":"is invalid with an email address of 2 characters","full_description":"EmailPractices::LeadEnquiry is invalid with an email address of 2 characters","status":"passed","file_path":"./spec/models/email_practices/lead_enquiry_spec.rb","line_number":20,"run_time":0.003851097,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_practices/lead_enquiry_spec.rb[1:8]","description":"is invalid with unformatted email address","full_description":"EmailPractices::LeadEnquiry is invalid with unformatted email address","status":"passed","file_path":"./spec/models/email_practices/lead_enquiry_spec.rb","line_number":26,"run_time":0.003213833,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_practices/lead_enquiry_spec.rb[1:9]","description":"is valid with a verifiable practice email address","full_description":"EmailPractices::LeadEnquiry is valid with a verifiable practice email address","status":"passed","file_path":"./spec/models/email_practices/lead_enquiry_spec.rb","line_number":32,"run_time":0.002820715,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_practices/lead_enquiry_spec.rb[1:10]","description":"is invalid with practice email address generated with incorrect secret","full_description":"EmailPractices::LeadEnquiry is invalid with practice email address generated with incorrect secret","status":"passed","file_path":"./spec/models/email_practices/lead_enquiry_spec.rb","line_number":37,"run_time":0.002693659,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_practices/lead_enquiry_spec.rb[1:11:1:1]","description":"sanitises the name","full_description":"EmailPractices::LeadEnquiry#practice_lead_name_simple_sanitization when given a practice_lead_name with suspect characters sanitises the name","status":"passed","file_path":"./spec/models/email_practices/lead_enquiry_spec.rb","line_number":48,"run_time":0.003073413,"pending_message":null,"screenshot":null},{"id":"./spec/models/email_practices/lead_enquiry_spec.rb[1:11:2:1]","description":"leaves the name as is","full_description":"EmailPractices::LeadEnquiry#practice_lead_name_simple_sanitization valid practice_lead_name leaves the name as is","status":"passed","file_path":"./spec/models/email_practices/lead_enquiry_spec.rb","line_number":59,"run_time":0.002926715,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/radar/ping_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Api::Radar::PingPolicy a user with permission level below TAX_AND_LIMITED_ACCOUNTING is expected to equal false","status":"passed","file_path":"./spec/policies/api/radar/ping_policy_spec.rb","line_number":14,"run_time":0.007383635,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/radar/ping_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Api::Radar::PingPolicy a user with permission level TAX_AND_LIMITED_ACCOUNTING is expected to equal true","status":"passed","file_path":"./spec/policies/api/radar/ping_policy_spec.rb","line_number":23,"run_time":0.007346054,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/radar/ping_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Api::Radar::PingPolicy a user with permission level FULL_ACCESS is expected to equal true","status":"passed","file_path":"./spec/policies/api/radar/ping_policy_spec.rb","line_number":32,"run_time":0.007120796,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/radar/ping_policy_spec.rb[1:4:1]","description":"is expected to equal true","full_description":"Api::Radar::PingPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/api/radar/ping_policy_spec.rb","line_number":41,"run_time":0.051435041,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_card_account_spec.rb[1:1]","description":"a 4-digit credit card account number doesn't have to be unique to a company","full_description":"CreditCardAccount a 4-digit credit card account number doesn't have to be unique to a company","status":"passed","file_path":"./spec/models/credit_card_account_spec.rb","line_number":8,"run_time":0.07077007,"pending_message":null,"screenshot":null},{"id":"./spec/models/credit_card_account_spec.rb[1:2]","description":"is not shown on invoices","full_description":"CreditCardAccount is not shown on invoices","status":"passed","file_path":"./spec/models/credit_card_account_spec.rb","line_number":15,"run_time":0.030504615,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/invoices/deregistration_creations.feature[1:1:1]","description":"Given a uk sole trader -\u003e And the deregistration VAT return is filed -\u003e And an invoice: paid, with VAT -\u003e Given VAT settings: Invoice basis, not FRS, then de-registered -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"VAT de-registration with invoice created in the closed registration. VAT due on invoice deferred to control account after de-registration date Given a uk sole trader -\u003e And the deregistration VAT return is filed -\u003e And an invoice: paid, with VAT -\u003e Given VAT settings: Invoice basis, not FRS, then de-registered -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/invoices/deregistration_creations.feature","line_number":14,"run_time":0.029907101,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/invoices/deregistration_creations.feature[1:2:1]","description":"Given a uk sole trader -\u003e And the deregistration VAT return is filed -\u003e And an invoice: paid, with VAT -\u003e Given VAT settings: Cash basis, not FRS, then de-registered -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"VAT de-registration with invoice created in the closed registration. VAT due on payment deferred to control account after de-registration date Given a uk sole trader -\u003e And the deregistration VAT return is filed -\u003e And an invoice: paid, with VAT -\u003e Given VAT settings: Cash basis, not FRS, then de-registered -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/invoices/deregistration_creations.feature","line_number":45,"run_time":0.018847509,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/invoices/deregistration_creations.feature[1:3:1]","description":"Given a uk sole trader -\u003e And the deregistration VAT return is filed -\u003e And an invoice: paid, with VAT -\u003e Given VAT settings: Invoice basis, FRS, then de-registered -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"VAT de-registration with invoice created in the closed registration. VAT due at 11.5% FRS rate on invoice deferred to control account after de-registration date Given a uk sole trader -\u003e And the deregistration VAT return is filed -\u003e And an invoice: paid, with VAT -\u003e Given VAT settings: Invoice basis, FRS, then de-registered -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/invoices/deregistration_creations.feature","line_number":76,"run_time":0.018301505,"pending_message":null,"screenshot":null},{"id":"./spec/accounting_and_sales_tax/uk_vat/invoices/deregistration_creations.feature[1:4:1]","description":"Given a uk sole trader -\u003e And the deregistration VAT return is filed -\u003e And an invoice: paid, with VAT -\u003e Given VAT settings: Cash basis, FRS, then de-registered -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","full_description":"VAT de-registration with invoice created in the closed registration. VAT at FRS rate  on payment deferred to control account after de-registration date Given a uk sole trader -\u003e And the deregistration VAT return is filed -\u003e And an invoice: paid, with VAT -\u003e Given VAT settings: Cash basis, FRS, then de-registered -\u003e Then it does not appear on the VAT return report -\u003e And for the accruals accounting basis it has these transactions -\u003e And for the cash accounting basis it has these transactions","status":"passed","file_path":"./spec/accounting_and_sales_tax/uk_vat/invoices/deregistration_creations.feature","line_number":109,"run_time":0.021292951,"pending_message":null,"screenshot":null},{"id":"./spec/acceptance/vat/manual_adjustments.feature[1:1:1]","description":"Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e Given there is a manual adjustment to the total value of inputs of 250 -\u003e And there is a manual adjustment to the total value of outputs of 500 -\u003e And there is a manual adjustment to the total value of EC goods inputs of 200 -\u003e And there is a manual adjustment to the total value of EC goods outputs of 400 -\u003e Then the VAT return covering 2021-03-01 should have exact values -\u003e And the vat return should not appear in the VAT Charged report -\u003e And the vat return should not appear in the VAT Purchases report -\u003e And the vat return should have ledger entries","full_description":"Manual adjustments to box 6 and 7 Adjustments to all four adjustable boxes Given the pre-generated 2021 company using Invoice accounting for VAT, not on the FRS -\u003e Given there is a manual adjustment to the total value of inputs of 250 -\u003e And there is a manual adjustment to the total value of outputs of 500 -\u003e And there is a manual adjustment to the total value of EC goods inputs of 200 -\u003e And there is a manual adjustment to the total value of EC goods outputs of 400 -\u003e Then the VAT return covering 2021-03-01 should have exact values -\u003e And the vat return should not appear in the VAT Charged report -\u003e And the vat return should not appear in the VAT Purchases report -\u003e And the vat return should have ledger entries","status":"passed","file_path":"./spec/acceptance/vat/manual_adjustments.feature","line_number":6,"run_time":0.152502982,"pending_message":null,"screenshot":null},{"id":"./spec/policies/getting_started/personalisation_policy_spec.rb[1:1:1]","description":"denies access","full_description":"GettingStarted::PersonalisationPolicy a user with permission level below FULL_ACCESS denies access","status":"passed","file_path":"./spec/policies/getting_started/personalisation_policy_spec.rb","line_number":14,"run_time":0.014388392,"pending_message":null,"screenshot":null},{"id":"./spec/policies/getting_started/personalisation_policy_spec.rb[1:2:1]","description":"allows access","full_description":"GettingStarted::PersonalisationPolicy a user with permission level FULL_ACCESS allows access","status":"passed","file_path":"./spec/policies/getting_started/personalisation_policy_spec.rb","line_number":24,"run_time":0.011534444,"pending_message":null,"screenshot":null},{"id":"./spec/policies/getting_started/personalisation_policy_spec.rb[1:3:1]","description":"allows access","full_description":"GettingStarted::PersonalisationPolicy an account manager allows access","status":"passed","file_path":"./spec/policies/getting_started/personalisation_policy_spec.rb","line_number":34,"run_time":0.058167607,"pending_message":null,"screenshot":null},{"id":"./spec/models/nwg_customer_data_import_spec.rb[1:1:1]","description":"finds an existing import","full_description":"NwgCustomerDataImport.find_or_enqueue finds an existing import","status":"passed","file_path":"./spec/models/nwg_customer_data_import_spec.rb","line_number":22,"run_time":0.01507106,"pending_message":null,"screenshot":null},{"id":"./spec/models/nwg_customer_data_import_spec.rb[1:1:2]","description":"creates a new import if not found","full_description":"NwgCustomerDataImport.find_or_enqueue creates a new import if not found","status":"passed","file_path":"./spec/models/nwg_customer_data_import_spec.rb","line_number":29,"run_time":0.010150915,"pending_message":null,"screenshot":null},{"id":"./spec/models/nwg_customer_data_import_spec.rb[1:2:1]","description":"sets the status to PENDING","full_description":"NwgCustomerDataImport.enqueue sets the status to PENDING","status":"passed","file_path":"./spec/models/nwg_customer_data_import_spec.rb","line_number":40,"run_time":0.006359976,"pending_message":null,"screenshot":null},{"id":"./spec/models/nwg_customer_data_import_spec.rb[1:2:2]","description":"updates the one-time id","full_description":"NwgCustomerDataImport.enqueue updates the one-time id","status":"passed","file_path":"./spec/models/nwg_customer_data_import_spec.rb","line_number":44,"run_time":0.006041009,"pending_message":null,"screenshot":null},{"id":"./spec/models/nwg_customer_data_import_spec.rb[1:2:3]","description":"updates the brand","full_description":"NwgCustomerDataImport.enqueue updates the brand","status":"passed","file_path":"./spec/models/nwg_customer_data_import_spec.rb","line_number":48,"run_time":0.005595673,"pending_message":null,"screenshot":null},{"id":"./spec/models/nwg_customer_data_import_spec.rb[1:2:4]","description":"enqueues a FetchCustomerDataJob job","full_description":"NwgCustomerDataImport.enqueue enqueues a FetchCustomerDataJob job","status":"passed","file_path":"./spec/models/nwg_customer_data_import_spec.rb","line_number":52,"run_time":0.006349374,"pending_message":null,"screenshot":null},{"id":"./spec/models/nwg_customer_data_import_spec.rb[1:3:1]","description":"sets the status to STARTED","full_description":"NwgCustomerDataImport#start sets the status to STARTED","status":"passed","file_path":"./spec/models/nwg_customer_data_import_spec.rb","line_number":59,"run_time":0.004113999,"pending_message":null,"screenshot":null},{"id":"./spec/models/nwg_customer_data_import_spec.rb[1:4:1]","description":"updates the cross-reference ids","full_description":"NwgCustomerDataImport#update_customer_association updates the cross-reference ids","status":"passed","file_path":"./spec/models/nwg_customer_data_import_spec.rb","line_number":66,"run_time":0.003892186,"pending_message":null,"screenshot":null},{"id":"./spec/models/nwg_customer_data_import_spec.rb[1:5:1]","description":"updates the multiple_company_match field","full_description":"NwgCustomerDataImport#found_multiple_companies updates the multiple_company_match field","status":"passed","file_path":"./spec/models/nwg_customer_data_import_spec.rb","line_number":74,"run_time":0.003689319,"pending_message":null,"screenshot":null},{"id":"./spec/models/nwg_customer_data_import_spec.rb[1:6:1]","description":"updates the API response","full_description":"NwgCustomerDataImport#received updates the API response","status":"passed","file_path":"./spec/models/nwg_customer_data_import_spec.rb","line_number":83,"run_time":0.004027982,"pending_message":null,"screenshot":null},{"id":"./spec/models/nwg_customer_data_import_spec.rb[1:6:2]","description":"leaves the status untouched","full_description":"NwgCustomerDataImport#received leaves the status untouched","status":"passed","file_path":"./spec/models/nwg_customer_data_import_spec.rb","line_number":88,"run_time":0.004088348,"pending_message":null,"screenshot":null},{"id":"./spec/models/nwg_customer_data_import_spec.rb[1:7:1]","description":"sets the status to SUCCESS","full_description":"NwgCustomerDataImport#succeed sets the status to SUCCESS","status":"passed","file_path":"./spec/models/nwg_customer_data_import_spec.rb","line_number":96,"run_time":0.003706033,"pending_message":null,"screenshot":null},{"id":"./spec/models/nwg_customer_data_import_spec.rb[1:8:1]","description":"sets the status to FAILURE","full_description":"NwgCustomerDataImport#fail sets the status to FAILURE","status":"passed","file_path":"./spec/models/nwg_customer_data_import_spec.rb","line_number":103,"run_time":0.003914264,"pending_message":null,"screenshot":null},{"id":"./spec/models/nwg_customer_data_import_spec.rb[1:8:2:1]","description":"updates the response and sets the status to FAILURE","full_description":"NwgCustomerDataImport#fail with a message updates the response and sets the status to FAILURE","status":"passed","file_path":"./spec/models/nwg_customer_data_import_spec.rb","line_number":111,"run_time":0.004006446,"pending_message":null,"screenshot":null},{"id":"./spec/models/nwg_customer_data_import_spec.rb[1:8:3:1]","description":"sets the status to FAILURE but does not change the response","full_description":"NwgCustomerDataImport#fail without a message sets the status to FAILURE but does not change the response","status":"passed","file_path":"./spec/models/nwg_customer_data_import_spec.rb","line_number":122,"run_time":0.004087756,"pending_message":null,"screenshot":null},{"id":"./spec/models/nwg_customer_data_import_spec.rb[1:9:1]","description":"sets the status to COMPLETED","full_description":"NwgCustomerDataImport#complete sets the status to COMPLETED","status":"passed","file_path":"./spec/models/nwg_customer_data_import_spec.rb","line_number":131,"run_time":0.003938858,"pending_message":null,"screenshot":null},{"id":"./spec/models/nwg_customer_data_import_spec.rb[1:10:1]","description":"removes all imports created before the given date","full_description":"NwgCustomerDataImport#trim removes all imports created before the given date","status":"passed","file_path":"./spec/models/nwg_customer_data_import_spec.rb","line_number":138,"run_time":0.008334538,"pending_message":null,"screenshot":null},{"id":"./spec/models/nwg_customer_data_import_spec.rb[1:11:1]","description":"returns an id that includes brand and the first one-time id characters","full_description":"NwgCustomerDataImport#short_id returns an id that includes brand and the first one-time id characters","status":"passed","file_path":"./spec/models/nwg_customer_data_import_spec.rb","line_number":151,"run_time":0.0052908,"pending_message":null,"screenshot":null},{"id":"./spec/models/third_party_project_spec.rb[1:1]","description":"is not able to create without a project","full_description":"ThirdPartyProject is not able to create without a project","status":"passed","file_path":"./spec/models/third_party_project_spec.rb","line_number":10,"run_time":0.026420207,"pending_message":null,"screenshot":null},{"id":"./spec/models/third_party_project_spec.rb[1:2]","description":"is not able to create without a source","full_description":"ThirdPartyProject is not able to create without a source","status":"passed","file_path":"./spec/models/third_party_project_spec.rb","line_number":16,"run_time":0.019328303,"pending_message":null,"screenshot":null},{"id":"./spec/models/third_party_project_spec.rb[1:3]","description":"is not able to create without a source_ref","full_description":"ThirdPartyProject is not able to create without a source_ref","status":"passed","file_path":"./spec/models/third_party_project_spec.rb","line_number":22,"run_time":0.015570185,"pending_message":null,"screenshot":null},{"id":"./spec/models/third_party_project_spec.rb[1:4]","description":"is able to create","full_description":"ThirdPartyProject is able to create","status":"passed","file_path":"./spec/models/third_party_project_spec.rb","line_number":28,"run_time":0.014936815,"pending_message":null,"screenshot":null},{"id":"./spec/models/third_party_project_spec.rb[1:5:1]","description":"is able to create duplicate with a different source ref","full_description":"ThirdPartyProject with an existing ThirdPartyProject is able to create duplicate with a different source ref","status":"passed","file_path":"./spec/models/third_party_project_spec.rb","line_number":39,"run_time":0.016315653,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:1:4:1]","description":"representing cost of sales","full_description":"UkAccountsMapper Accounts Mapper for UK companies that are not VAT registered Expenses representing cost of sales","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":475,"run_time":0.08424222,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:1:4:2]","description":"representing admin expenses","full_description":"UkAccountsMapper Accounts Mapper for UK companies that are not VAT registered Expenses representing admin expenses","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":492,"run_time":0.079564758,"pending_message":null,"screenshot":null},{"id":"./spec/requests/admin/request_tags_integration_spec.rb[1:1]","description":"sets the section as sudo","full_description":"Admin::RequestTags sets the section as sudo","status":"passed","file_path":"./spec/requests/admin/request_tags_integration_spec.rb","line_number":7,"run_time":0.077954765,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb[1:1:1]","description":"returns the encrypted password","full_description":"Accounting::FinalAccounts::CompaniesHouse::GatewayCredentials.encrypt returns the encrypted password","status":"passed","file_path":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb","line_number":8,"run_time":0.003891464,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb[1:2:1]","description":"returns the clear text password","full_description":"Accounting::FinalAccounts::CompaniesHouse::GatewayCredentials.decrypt returns the clear text password","status":"passed","file_path":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb","line_number":17,"run_time":0.002873023,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb[1:3:1]","description":"returns some sample credentials","full_description":"Accounting::FinalAccounts::CompaniesHouse::GatewayCredentials.sample_credentials returns some sample credentials","status":"passed","file_path":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb","line_number":24,"run_time":0.002786566,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb[1:4:1]","description":"stores the presenter id in plain text","full_description":"Accounting::FinalAccounts::CompaniesHouse::GatewayCredentials creating a set of credentials stores the presenter id in plain text","status":"passed","file_path":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb","line_number":40,"run_time":0.002672073,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb[1:4:2]","description":"encrypts the presenter authentication code","full_description":"Accounting::FinalAccounts::CompaniesHouse::GatewayCredentials creating a set of credentials encrypts the presenter authentication code","status":"passed","file_path":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb","line_number":44,"run_time":0.002288062,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb[1:4:3]","description":"correctly decrypts the presenter authentication code","full_description":"Accounting::FinalAccounts::CompaniesHouse::GatewayCredentials creating a set of credentials correctly decrypts the presenter authentication code","status":"passed","file_path":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb","line_number":48,"run_time":0.002444027,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb[1:4:4]","description":"doesn't store the plain text presenter authentication code","full_description":"Accounting::FinalAccounts::CompaniesHouse::GatewayCredentials creating a set of credentials doesn't store the plain text presenter authentication code","status":"passed","file_path":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb","line_number":52,"run_time":0.002619516,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb[1:4:5]","description":"encrypts the company authentication code","full_description":"Accounting::FinalAccounts::CompaniesHouse::GatewayCredentials creating a set of credentials encrypts the company authentication code","status":"passed","file_path":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb","line_number":56,"run_time":0.00220043,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb[1:4:6]","description":"correctly decrypts the presenter authentication code","full_description":"Accounting::FinalAccounts::CompaniesHouse::GatewayCredentials creating a set of credentials correctly decrypts the presenter authentication code","status":"passed","file_path":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb","line_number":60,"run_time":0.002437679,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb[1:4:7]","description":"doesn't store the plain text company authentication code","full_description":"Accounting::FinalAccounts::CompaniesHouse::GatewayCredentials creating a set of credentials doesn't store the plain text company authentication code","status":"passed","file_path":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb","line_number":64,"run_time":0.002595466,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb[1:4:8:1]","description":"round trip the credentials","full_description":"Accounting::FinalAccounts::CompaniesHouse::GatewayCredentials creating a set of credentials #to_hash and .from_hash round trip the credentials","status":"passed","file_path":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb","line_number":69,"run_time":0.002797133,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb[1:5:1]","description":"is valid","full_description":"Accounting::FinalAccounts::CompaniesHouse::GatewayCredentials validations is valid","status":"passed","file_path":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb","line_number":91,"run_time":0.002863748,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb[1:5:2:1]","description":"is invalid","full_description":"Accounting::FinalAccounts::CompaniesHouse::GatewayCredentials validations without a presenter ID is invalid","status":"passed","file_path":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb","line_number":97,"run_time":0.003421075,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb[1:5:3:1]","description":"is invalid","full_description":"Accounting::FinalAccounts::CompaniesHouse::GatewayCredentials validations with a blank presenter ID is invalid","status":"passed","file_path":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb","line_number":97,"run_time":0.003028075,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb[1:5:4:1]","description":"is invalid","full_description":"Accounting::FinalAccounts::CompaniesHouse::GatewayCredentials validations with an invalid presenter ID is invalid","status":"passed","file_path":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb","line_number":97,"run_time":0.002959963,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb[1:5:5:1]","description":"is valid","full_description":"Accounting::FinalAccounts::CompaniesHouse::GatewayCredentials validations with a test presenter ID is valid","status":"passed","file_path":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb","line_number":91,"run_time":0.002539194,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb[1:5:6:1]","description":"is invalid","full_description":"Accounting::FinalAccounts::CompaniesHouse::GatewayCredentials validations without a presenter authentication code is invalid","status":"passed","file_path":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb","line_number":97,"run_time":0.003033172,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb[1:5:7:1]","description":"is invalid","full_description":"Accounting::FinalAccounts::CompaniesHouse::GatewayCredentials validations with a blank presenter authentication code is invalid","status":"passed","file_path":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb","line_number":97,"run_time":0.003136097,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb[1:5:8:1]","description":"is invalid","full_description":"Accounting::FinalAccounts::CompaniesHouse::GatewayCredentials validations without a company authentication code is invalid","status":"passed","file_path":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb","line_number":97,"run_time":0.003233584,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb[1:5:9:1]","description":"is invalid","full_description":"Accounting::FinalAccounts::CompaniesHouse::GatewayCredentials validations with a blank company authentication code is invalid","status":"passed","file_path":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb","line_number":97,"run_time":0.003362331,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb[1:5:10:1]","description":"is invalid","full_description":"Accounting::FinalAccounts::CompaniesHouse::GatewayCredentials validations with a 5-character company authentication code is invalid","status":"passed","file_path":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb","line_number":97,"run_time":0.003365577,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb[1:5:11:1]","description":"is valid","full_description":"Accounting::FinalAccounts::CompaniesHouse::GatewayCredentials validations with a 6-character company authentication code is valid","status":"passed","file_path":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb","line_number":91,"run_time":0.002811299,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb[1:5:12:1]","description":"is valid","full_description":"Accounting::FinalAccounts::CompaniesHouse::GatewayCredentials validations with a 8-character company authentication code is valid","status":"passed","file_path":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb","line_number":91,"run_time":0.002725061,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb[1:5:13:1]","description":"is invalid","full_description":"Accounting::FinalAccounts::CompaniesHouse::GatewayCredentials validations with a 9-character company authentication code is invalid","status":"passed","file_path":"./spec/models/accounting/final_accounts/companies_house/gateway_credentials_spec.rb","line_number":97,"run_time":0.003457163,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/rescan_smart_user_payments_job_spec.rb[1:1:1]","description":"completes the job without errors","full_description":"RescanSmartUserPaymentsJob for a non uk limited company completes the job without errors","status":"passed","file_path":"./spec/jobs/rescan_smart_user_payments_job_spec.rb","line_number":8,"run_time":0.071753261,"pending_message":null,"screenshot":null},{"id":"./spec/policies/bill_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"BillPolicy a user with permission level below BILLS is expected to equal false","status":"passed","file_path":"./spec/policies/bill_policy_spec.rb","line_number":24,"run_time":0.007928932,"pending_message":null,"screenshot":null},{"id":"./spec/policies/bill_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"BillPolicy a user with permission level BILLS is expected to equal true","status":"passed","file_path":"./spec/policies/bill_policy_spec.rb","line_number":44,"run_time":0.006796079,"pending_message":null,"screenshot":null},{"id":"./spec/policies/bill_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"BillPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/bill_policy_spec.rb","line_number":64,"run_time":0.045792743,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/payit/payment_intent_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Api::Payit::PaymentIntentPolicy a user with permission level below FULL_ACCESS is expected to equal false","status":"passed","file_path":"./spec/policies/api/payit/payment_intent_policy_spec.rb","line_number":15,"run_time":0.007657017,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/payit/payment_intent_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Api::Payit::PaymentIntentPolicy a user with permission level FULL_ACCESS is expected to equal true","status":"passed","file_path":"./spec/policies/api/payit/payment_intent_policy_spec.rb","line_number":25,"run_time":0.006504338,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/payit/payment_intent_policy_spec.rb[1:3:1]","description":"is expected to equal false","full_description":"Api::Payit::PaymentIntentPolicy a user with permission level FULL_ACCESS and role accountant is expected to equal false","status":"passed","file_path":"./spec/policies/api/payit/payment_intent_policy_spec.rb","line_number":35,"run_time":0.006672391,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/payit/payment_intent_policy_spec.rb[1:4:1]","description":"is expected to equal true","full_description":"Api::Payit::PaymentIntentPolicy an account owner who does not have FULL_ACCESS is expected to equal true","status":"passed","file_path":"./spec/policies/api/payit/payment_intent_policy_spec.rb","line_number":45,"run_time":0.006312963,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/payit/payment_intent_policy_spec.rb[1:5:1]","description":"is expected to equal false","full_description":"Api::Payit::PaymentIntentPolicy an account manager is expected to equal false","status":"passed","file_path":"./spec/policies/api/payit/payment_intent_policy_spec.rb","line_number":55,"run_time":0.045424256,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/property_policy_spec.rb[1:1:1]","description":"allows access to all actions","full_description":"Api::PropertyPolicy a user with permission level TAX_AND_LIMITED_ACCOUNTING allows access to all actions","status":"passed","file_path":"./spec/policies/api/property_policy_spec.rb","line_number":18,"run_time":0.007194785,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/property_policy_spec.rb[1:2:1]","description":"only allows access to the index action","full_description":"Api::PropertyPolicy a user with permission level at least ESTIMATES_AND_INVOICES only allows access to the index action","status":"passed","file_path":"./spec/policies/api/property_policy_spec.rb","line_number":26,"run_time":0.006385022,"pending_message":null,"screenshot":null},{"id":"./spec/policies/api/property_policy_spec.rb[1:3:1]","description":"forbids access to all actions","full_description":"Api::PropertyPolicy a user with permission level lower than ESTIMATES_AND_INVOICES forbids access to all actions","status":"passed","file_path":"./spec/policies/api/property_policy_spec.rb","line_number":35,"run_time":0.006349764,"pending_message":null,"screenshot":null}],"summary":{"duration":1.985415469,"example_count":506,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"506 examples, 0 failures"}