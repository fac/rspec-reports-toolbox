{"version":"3.11.0","messages":["Run options:\n  include {:ids=\u003e{\"./spec/models/invoice_spec.rb\"=\u003e[\"1:58:2:1\", \"1:94:1\", \"1:16:2:1\", \"1:90:8\"], \"./spec/controllers/invoices_controller_spec.rb\"=\u003e[\"12:7\", \"12:10:1\"], \"./spec/models/uk_accounts_mapper_spec.rb\"=\u003e[\"1:1:2:1:1:1\"]}}\n  exclude {:\"known-failure\"=\u003etrue, :factorybot_lint=\u003etrue, :visual_regression=\u003etrue}"],"examples":[{"id":"./spec/features/self_assessment/version3_self_assessment_forms_spec.rb[1:1:1]","description":"allows submission in a locked period","full_description":"Version 3 Self Assessment Forms for limited company director allows submission in a locked period","status":"passed","file_path":"./spec/features/self_assessment/version3_self_assessment_forms_spec.rb","line_number":26,"run_time":18.468248303,"pending_message":null,"screenshot":null},{"id":"./spec/features/self_assessment/version3_self_assessment_forms_spec.rb[1:1:2]","description":"User has a payroll profile, views their SA return, but then deletes their payroll profile","full_description":"Version 3 Self Assessment Forms for limited company director User has a payroll profile, views their SA return, but then deletes their payroll profile","status":"passed","file_path":"./spec/features/self_assessment/version3_self_assessment_forms_spec.rb","line_number":59,"run_time":7.068999746,"pending_message":null,"screenshot":null},{"id":"./spec/features/self_assessment/version3_self_assessment_forms_spec.rb[1:2:1]","description":"does not allow submission in a locked period","full_description":"Version 3 Self Assessment Forms for a sole trader owner does not allow submission in a locked period","status":"passed","file_path":"./spec/features/self_assessment/version3_self_assessment_forms_spec.rb","line_number":101,"run_time":6.78826596,"pending_message":null,"screenshot":null},{"id":"./spec/features/self_assessment/version3_self_assessment_forms_spec.rb[1:2:2]","description":"enter nominee details when overpaid tax and a selected bank account","full_description":"Version 3 Self Assessment Forms for a sole trader owner enter nominee details when overpaid tax and a selected bank account","status":"passed","file_path":"./spec/features/self_assessment/version3_self_assessment_forms_spec.rb","line_number":127,"run_time":3.576325489,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:2]","description":"create_new_bank_account","full_description":"BankAccount create_new_bank_account","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":246,"run_time":0.213148948,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:3]","description":"create_new_credit_card_account","full_description":"BankAccount create_new_credit_card_account","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":271,"run_time":0.047475715,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:4]","description":"create_new_paypal_account","full_description":"BankAccount create_new_paypal_account","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":288,"run_time":0.045060653,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:5]","description":"attributes_are_stripped","full_description":"BankAccount attributes_are_stripped","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":305,"run_time":0.030810591,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:6]","description":"paypal","full_description":"BankAccount paypal","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":315,"run_time":0.029262485,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:7]","description":"formatted_account_number","full_description":"BankAccount formatted_account_number","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":320,"run_time":0.122132947,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:8]","description":"short_sort_code","full_description":"BankAccount short_sort_code","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":332,"run_time":0.030488402,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:9]","description":"latest_activity_date","full_description":"BankAccount latest_activity_date","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":338,"run_time":0.234945387,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:10]","description":"latest_activity_date_no_transactions","full_description":"BankAccount latest_activity_date_no_transactions","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":345,"run_time":0.035157819,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:11]","description":"balance_calcs","full_description":"BankAccount balance_calcs","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":352,"run_time":0.093981554,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:12]","description":"balance_calcs_two","full_description":"BankAccount balance_calcs_two","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":364,"run_time":0.179722217,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:13]","description":"matching_unexplained_transactions","full_description":"BankAccount matching_unexplained_transactions","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":375,"run_time":0.240780371,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:16]","description":"fails to create standard bank account without required fields","full_description":"BankAccount fails to create standard bank account without required fields","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":465,"run_time":0.292678965,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:17]","description":"fails to create credit card account without required fields","full_description":"BankAccount fails to create credit card account without required fields","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":483,"run_time":0.033883361,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:18]","description":"fails to create paypal account without required fields","full_description":"BankAccount fails to create paypal account without required fields","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":499,"run_time":0.038151776,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:19]","description":"fails to create standard bank account with invalid fields","full_description":"BankAccount fails to create standard bank account with invalid fields","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":515,"run_time":0.810736915,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:20]","description":"fails to create credit card account with invalid fields","full_description":"BankAccount fails to create credit card account with invalid fields","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":529,"run_time":0.043676856,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:21]","description":"fails to create paypal account with invalid fields","full_description":"BankAccount fails to create paypal account with invalid fields","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":555,"run_time":0.027472331,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:23]","description":"validation is relaxed for universal companies","full_description":"BankAccount validation is relaxed for universal companies","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":586,"run_time":0.552599695,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:27]","description":"is expected to have one bank_feed dependent =\u003e destroy","full_description":"BankAccount is expected to have one bank_feed dependent =\u003e destroy","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":724,"run_time":0.004775808,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:29]","description":"knows the bank feed start on date","full_description":"BankAccount knows the bank feed start on date","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":747,"run_time":0.076597001,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:42]","description":"#balance_before","full_description":"BankAccount #balance_before","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1120,"run_time":0.072155206,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:47]","description":"returns the name as the account name","full_description":"BankAccount returns the name as the account name","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1277,"run_time":0.003473931,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:1]","description":"is expected to validate that the length of :iban is at most 87","full_description":"BankAccount validations is expected to validate that the length of :iban is at most 87","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":26,"run_time":0.113330141,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:2]","description":"is expected to validate that the length of :bic is at most 87","full_description":"BankAccount validations is expected to validate that the length of :bic is at most 87","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":27,"run_time":0.121589236,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:3:1]","description":"returns an error if the account number is locked","full_description":"BankAccount validations #account_number_may_be_changed returns an error if the account number is locked","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":30,"run_time":0.11627748,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:3:2]","description":"does not return an error if the account number is not locked","full_description":"BankAccount validations #account_number_may_be_changed does not return an error if the account number is not locked","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":39,"run_time":0.125855356,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:4:1]","description":"returns an error if the sort code is locked","full_description":"BankAccount validations #sort_code_may_be_changed returns an error if the sort code is locked","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":47,"run_time":0.122512289,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:4:2]","description":"does not return an error if the sort code is not locked","full_description":"BankAccount validations #sort_code_may_be_changed does not return an error if the sort code is not locked","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":56,"run_time":0.119923901,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:5:1:1:1]","description":"does not return an error","full_description":"BankAccount validations #currency_may_be_changed when changing the currency of a bank account from native (GBP) to foreign (NZD) when the bank account does not have invoices associated does not return an error","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":70,"run_time":0.04798589,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:5:1:2:1]","description":"does not return an error","full_description":"BankAccount validations #currency_may_be_changed when changing the currency of a bank account from native (GBP) to foreign (NZD) when the bank account has a native (GBP) invoice associated does not return an error","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":79,"run_time":0.165139607,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:5:1:3:1]","description":"does not return an error","full_description":"BankAccount validations #currency_may_be_changed when changing the currency of a bank account from native (GBP) to foreign (NZD) when the bank account has an NZD invoice associated does not return an error","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":88,"run_time":0.111898072,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:5:1:4:1]","description":"returns an error","full_description":"BankAccount validations #currency_may_be_changed when changing the currency of a bank account from native (GBP) to foreign (NZD) when the bank account has a USD invoice associated returns an error","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":97,"run_time":0.122970664,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:5:1:5:1]","description":"returns an error","full_description":"BankAccount validations #currency_may_be_changed when changing the currency of a bank account from native (GBP) to foreign (NZD) when the bank account has both a USD and an NZD invoice associated returns an error","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":111,"run_time":0.16363574,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:5:2:1:1]","description":"does not return an error","full_description":"BankAccount validations #currency_may_be_changed when changing the currency of a bank account between two foreign currencies (NZD to USD) when the bank account does not have invoices associated does not return an error","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":126,"run_time":0.043467657,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:5:2:2:1]","description":"does not return an error","full_description":"BankAccount validations #currency_may_be_changed when changing the currency of a bank account between two foreign currencies (NZD to USD) when the bank account has a native (GBP) invoice associated does not return an error","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":135,"run_time":0.098321093,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:5:2:3:1]","description":"returns an error","full_description":"BankAccount validations #currency_may_be_changed when changing the currency of a bank account between two foreign currencies (NZD to USD) when the bank account has a foreign (NZD) invoice associated returns an error","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":144,"run_time":0.112821087,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:5:3:1:1]","description":"does not return an error","full_description":"BankAccount validations #currency_may_be_changed when changing the currency of a bank account from foreign (NZD) to native (GBP) when the bank account does not have invoices associated does not return an error","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":159,"run_time":0.04794953,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:5:3:2:1]","description":"does not return an error","full_description":"BankAccount validations #currency_may_be_changed when changing the currency of a bank account from foreign (NZD) to native (GBP) when the bank account has a native (GBP) invoice associated does not return an error","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":168,"run_time":0.094116051,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:5:3:3:1]","description":"does not return an error","full_description":"BankAccount validations #currency_may_be_changed when changing the currency of a bank account from foreign (NZD) to native (GBP) when the bank account has a foreign (NZD) invoice associated does not return an error","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":177,"run_time":0.103144544,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:6:1:1:1]","description":"provides an error to the user","full_description":"BankAccount validations #ensure_opening_balance_can_be_set with an account lock creating a new bank account with an non zero opening balance provides an error to the user","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":195,"run_time":0.036105941,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:6:1:2:1]","description":"passes validations","full_description":"BankAccount validations #ensure_opening_balance_can_be_set with an account lock creating a new bank account with a zero opening balance passes validations","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":203,"run_time":0.038661068,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:6:1:3:1]","description":"provides an error to the user","full_description":"BankAccount validations #ensure_opening_balance_can_be_set with an account lock an existing bank account updating the opening balance provides an error to the user","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":213,"run_time":0.043240598,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:6:2:1:1]","description":"passes validations","full_description":"BankAccount validations #ensure_opening_balance_can_be_set without any account locks a new bank account with an non zero opening balance passes validations","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":223,"run_time":0.01067728,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:6:2:2:1]","description":"passes validations","full_description":"BankAccount validations #ensure_opening_balance_can_be_set without any account locks a new bank account with a zero opening balance passes validations","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":230,"run_time":0.015343923,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:1:6:2:3:1]","description":"passes validations","full_description":"BankAccount validations #ensure_opening_balance_can_be_set without any account locks an existing bank account updating the opening balance passes validations","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":237,"run_time":0.047881977,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:14:1]","description":"builds a StandardBankAccount when the type is StandardBankAccount","full_description":"BankAccount from_params builds a StandardBankAccount when the type is StandardBankAccount","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":410,"run_time":0.005236905,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:14:2]","description":"builds a CreditCardAccount when the type is CreditCardAccount","full_description":"BankAccount from_params builds a CreditCardAccount when the type is CreditCardAccount","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":419,"run_time":0.004431095,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:14:3]","description":"builds a PaypalAccount when the type is PaypalAccount","full_description":"BankAccount from_params builds a PaypalAccount when the type is PaypalAccount","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":428,"run_time":0.004311833,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:14:4]","description":"builds a BankAccount with an error when the type is Invalid","full_description":"BankAccount from_params builds a BankAccount with an error when the type is Invalid","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":437,"run_time":0.005158929,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:15:1]","description":"returns true if transactions do not exist","full_description":"BankAccount#is_empty? returns true if transactions do not exist","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":455,"run_time":0.008027676,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:15:2]","description":"returns false if transactions exist","full_description":"BankAccount#is_empty? returns false if transactions exist","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":459,"run_time":0.044754971,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:22:1]","description":"returns a Banking::UploadedStatement for the latest upload","full_description":"BankAccount#latest_uploaded_statement returns a Banking::UploadedStatement for the latest upload","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":575,"run_time":0.057979002,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:24:1]","description":"is valid","full_description":"BankAccount A new bank account is valid","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":622,"run_time":0.040641106,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:24:2]","description":"has 0 balance","full_description":"BankAccount A new bank account has 0 balance","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":626,"run_time":0.041537914,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:24:3]","description":"defaults to zero opening balance","full_description":"BankAccount A new bank account defaults to zero opening balance","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":630,"run_time":0.036273252,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:25:1]","description":"has 0 balance","full_description":"BankAccount A bank account has 0 balance","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":646,"run_time":0.008294257,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:25:2:1]","description":"has updated the cached balance","full_description":"BankAccount A bank account when it has it's opening balance changed after being accessed has updated the cached balance","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":657,"run_time":0.040741348,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:25:3:1]","description":"computes account balance","full_description":"BankAccount A bank account with some transactions computes account balance","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":684,"run_time":0.180080411,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:25:3:2]","description":"provides a balance history","full_description":"BankAccount A bank account with some transactions provides a balance history","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":688,"run_time":0.184825663,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:26:1]","description":"returns nil for @company.bank_accounts.chart_account( 'all' )","full_description":"BankAccount A couple of bank accounts returns nil for @company.bank_accounts.chart_account( 'all' )","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":706,"run_time":0.030614866,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:26:2]","description":"returns the requested account for @company.bank_accounts.chart_account( :id )","full_description":"BankAccount A couple of bank accounts returns the requested account for @company.bank_accounts.chart_account( :id )","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":710,"run_time":0.051501631,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:26:3]","description":"returns the primary account for @company.bank_accounts.chart_account( :deleted_id )","full_description":"BankAccount A couple of bank accounts returns the primary account for @company.bank_accounts.chart_account( :deleted_id )","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":714,"run_time":0.077754462,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:26:4]","description":"returns nil for @company.bank_accounts.chart_account","full_description":"BankAccount A couple of bank accounts returns nil for @company.bank_accounts.chart_account","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":719,"run_time":0.033638582,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:28:1]","description":"does not include a bank with no bank feed","full_description":"BankAccount with_bank_feed_enabled scope does not include a bank with no bank feed","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":728,"run_time":0.036969532,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:28:2]","description":"does not include a bank with a new bank feed","full_description":"BankAccount with_bank_feed_enabled scope does not include a bank with a new bank feed","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":733,"run_time":0.064427896,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:28:3]","description":"includes bank account with enabled bank feed","full_description":"BankAccount with_bank_feed_enabled scope includes bank account with enabled bank feed","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":739,"run_time":0.059409615,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:30:1]","description":"returns true if there is no bank feed and a feed type is available","full_description":"BankAccount feed_can_be_enabled? returns true if there is no bank feed and a feed type is available","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":760,"run_time":0.114422757,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:30:2]","description":"returns false if there is already an active feed","full_description":"BankAccount feed_can_be_enabled? returns false if there is already an active feed","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":768,"run_time":0.115818921,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:30:3]","description":"returns true if there is a disabled bank feed and a feed type is available","full_description":"BankAccount feed_can_be_enabled? returns true if there is a disabled bank feed and a feed type is available","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":775,"run_time":0.107690158,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:30:4]","description":"returns false if there is not an active feed and no feed type available","full_description":"BankAccount feed_can_be_enabled? returns false if there is not an active feed and no feed type available","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":784,"run_time":0.213690307,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:31:1:1]","description":"is false when there is no open banking switch notice","full_description":"BankAccount bank_feed_can_be_switched_to_open_banking? when there is no existing bank feed is false when there is no open banking switch notice","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":797,"run_time":0.007622187,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:31:1:2]","description":"is true when there is an open banking switch notice","full_description":"BankAccount bank_feed_can_be_switched_to_open_banking? when there is no existing bank feed is true when there is an open banking switch notice","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":800,"run_time":0.030747079,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:31:2:1]","description":"is true if the open_banking_switch_notice is set for a provider","full_description":"BankAccount bank_feed_can_be_switched_to_open_banking? when there is a non-open-banking feed is true if the open_banking_switch_notice is set for a provider","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":811,"run_time":0.038424428,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:31:2:2]","description":"is false if the open_banking_switch_notice is not set","full_description":"BankAccount bank_feed_can_be_switched_to_open_banking? when there is a non-open-banking feed is false if the open_banking_switch_notice is not set","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":816,"run_time":0.044053472,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:31:3:1]","description":"is always false","full_description":"BankAccount bank_feed_can_be_switched_to_open_banking? when there is an open banking bank feed is always false","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":827,"run_time":0.04435919,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:32:1]","description":"is true when there are explanations marked for review","full_description":"BankAccount currently_has_or_could_have_explanations_marked_for_review? is true when there are explanations marked for review","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":836,"run_time":0.158486953,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:32:2]","description":"is true when there is a feed enabled and the bank account has guess_enabled true","full_description":"BankAccount currently_has_or_could_have_explanations_marked_for_review? is true when there is a feed enabled and the bank account has guess_enabled true","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":847,"run_time":0.077296565,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:32:3]","description":"is true when there is a feed enabled and the feed has guess_enabled true","full_description":"BankAccount currently_has_or_could_have_explanations_marked_for_review? is true when there is a feed enabled and the feed has guess_enabled true","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":857,"run_time":0.073318993,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:33:1:1]","description":"has feed_enabled? when the bank feed is enabled","full_description":"BankAccount feed status bank account with a bank feed has feed_enabled? when the bank feed is enabled","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":873,"run_time":0.214455199,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:33:1:2]","description":"has feed_pending? when the bank feed is pending","full_description":"BankAccount feed status bank account with a bank feed has feed_pending? when the bank feed is pending","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":879,"run_time":0.164611189,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:33:1:3]","description":"is not enabled, active or pending when the bank feed isn't present","full_description":"BankAccount feed status bank account with a bank feed is not enabled, active or pending when the bank feed isn't present","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":886,"run_time":0.165734329,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:33:1:4]","description":"has a locked account number and sort code","full_description":"BankAccount feed status bank account with a bank feed has a locked account number and sort code","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":898,"run_time":0.157659837,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:33:2:1]","description":"does not have a locked sort code or account number","full_description":"BankAccount feed status bank account without a bank feed does not have a locked sort code or account number","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":907,"run_time":0.00562522,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:34:1]","description":"is correct with a zero opening balance","full_description":"BankAccount#has_opening_balances? is correct with a zero opening balance","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":915,"run_time":0.094159602,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:34:2]","description":"is correct with a non-zero opening balance","full_description":"BankAccount#has_opening_balances? is correct with a non-zero opening balance","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":920,"run_time":0.096053729,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:34:3]","description":"handles nil opening balance as zero","full_description":"BankAccount#has_opening_balances? handles nil opening balance as zero","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":925,"run_time":0.111291722,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:35:1]","description":"defaults to the company's native currency","full_description":"BankAccount#currency defaults to the company's native currency","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":932,"run_time":0.007504503,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:35:2]","description":"is overridable","full_description":"BankAccount#currency is overridable","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":938,"run_time":0.006676146,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:36:1]","description":"does not normally be locked","full_description":"BankAccount#currency locking does not normally be locked","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":948,"run_time":0.068242952,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:36:2]","description":"is locked if a bank feed is enabled","full_description":"BankAccount#currency locking is locked if a bank feed is enabled","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":952,"run_time":0.101532586,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:36:3]","description":"is locked if there are any transactions","full_description":"BankAccount#currency locking is locked if there are any transactions","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":958,"run_time":0.055269443,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:36:4]","description":"is locked if the account is used for GoCardless payouts","full_description":"BankAccount#currency locking is locked if the account is used for GoCardless payouts","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":964,"run_time":0.077868972,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:36:5]","description":"is not locked if GoCardless auto reconciliation is disabled","full_description":"BankAccount#currency locking is not locked if GoCardless auto reconciliation is disabled","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":969,"run_time":0.045885844,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:36:6]","description":"is locked if there is a lock period that covers the company start date","full_description":"BankAccount#currency locking is locked if there is a lock period that covers the company start date","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":974,"run_time":0.063923465,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:37:1]","description":"is true when currency is nil","full_description":"BankAccount#is_native_currency? is true when currency is nil","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":983,"run_time":0.00726085,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:37:2]","description":"is true when the currency matches the company currency","full_description":"BankAccount#is_native_currency? is true when the currency matches the company currency","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":988,"run_time":0.005832144,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:37:3]","description":"is false when the currency differs from the company currency","full_description":"BankAccount#is_native_currency? is false when the currency differs from the company currency","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":993,"run_time":0.005956269,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:38:1]","description":"is calculated using the exchange rate on the FreeAgent start date","full_description":"BankAccount#native_opening_balance is calculated using the exchange rate on the FreeAgent start date","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1004,"run_time":0.006434189,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:39:1]","description":"converts the account opening balance to native currency","full_description":"BankAccount#to_source_item converts the account opening balance to native currency","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1019,"run_time":0.006503237,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:39:2]","description":"includes foreign currency and native currency details","full_description":"BankAccount#to_source_item includes foreign currency and native currency details","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1023,"run_time":0.00676859,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:39:3]","description":"includes :id, :type and :description","full_description":"BankAccount#to_source_item includes :id, :type and :description","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1028,"run_time":0.006015184,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:40:1:1]","description":"revalues the opening balance","full_description":"BankAccount revaluation of foreign currency accounts on creation revalues the opening balance","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1041,"run_time":0.034442521,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:40:2:1:1]","description":"does not revalue the balance","full_description":"BankAccount revaluation of foreign currency accounts when updating when the opening balance and currency haven't changed does not revalue the balance","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1055,"run_time":0.060718876,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:40:2:1:2]","description":"does not update the opening balance ledgers","full_description":"BankAccount revaluation of foreign currency accounts when updating when the opening balance and currency haven't changed does not update the opening balance ledgers","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1060,"run_time":0.06516375,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:40:2:2:1]","description":"revalues the balance","full_description":"BankAccount revaluation of foreign currency accounts when updating when the opening balance has changed revalues the balance","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1071,"run_time":0.062517059,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:40:2:2:2]","description":"updates the opening balance ledgers","full_description":"BankAccount revaluation of foreign currency accounts when updating when the opening balance has changed updates the opening balance ledgers","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1076,"run_time":0.069516699,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:40:2:3:1]","description":"revalues the balance","full_description":"BankAccount revaluation of foreign currency accounts when updating when the currency has changed revalues the balance","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1087,"run_time":0.06233517,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:40:2:3:2]","description":"updates the opening balance ledgers","full_description":"BankAccount revaluation of foreign currency accounts when updating when the currency has changed updates the opening balance ledgers","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1092,"run_time":0.057654263,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:41:1]","description":"correctly calculates balances","full_description":"BankAccount#balance and #native_balance correctly calculates balances","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1108,"run_time":0.045199207,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:41:2]","description":"updates balances when transactions are applied","full_description":"BankAccount#balance and #native_balance updates balances when transactions are applied","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1113,"run_time":0.11216061,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:43:1]","description":"is the current balance when transaction is the latest","full_description":"BankAccount#balance_after is the current balance when transaction is the latest","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1187,"run_time":0.054780808,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:43:2]","description":"is correct when there are multiple transactions on the same date","full_description":"BankAccount#balance_after is correct when there are multiple transactions on the same date","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1191,"run_time":0.06614606,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:43:3]","description":"is correct when date time order is different to id order","full_description":"BankAccount#balance_after is correct when date time order is different to id order","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1196,"run_time":0.07099075,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:44:1]","description":"is deletable","full_description":"BankAccount a foreign currency bank account with an opening balance is deletable","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1219,"run_time":0.076981472,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:45:1]","description":"defaults to the company's default income account when there are no entries","full_description":"BankAccount#default_money_in_account defaults to the company's default income account when there are no entries","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1232,"run_time":0.153432467,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:45:2]","description":"uses the account from the most recent explanation","full_description":"BankAccount#default_money_in_account uses the account from the most recent explanation","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1236,"run_time":0.275349787,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:46:1]","description":"defaults to the company's default spending account when there are no entries","full_description":"BankAccount#default_money_out_account defaults to the company's default spending account when there are no entries","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1258,"run_time":0.14106832,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:46:2]","description":"uses the account from the most recent explanation","full_description":"BankAccount#default_money_out_account uses the account from the most recent explanation","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1262,"run_time":0.349438063,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:48:1:1]","description":"is expected to be truthy","full_description":"BankAccount#is_deletable? normal, non-primary bank account is expected to be truthy","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1284,"run_time":0.113708317,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:48:2:1]","description":"is expected to be falsy","full_description":"BankAccount#is_deletable? primary bank account is expected to be falsy","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1290,"run_time":0.157079893,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:48:3:1]","description":"is expected to be falsy","full_description":"BankAccount#is_deletable? has bank account entries is expected to be falsy","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1296,"run_time":0.169275453,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:48:4:1]","description":"is false","full_description":"BankAccount#is_deletable? has journal entries is false","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1302,"run_time":0.11637023,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:48:5:1]","description":"is expected to be falsy","full_description":"BankAccount#is_deletable? has invoices is expected to be falsy","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1311,"run_time":0.424050266,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:48:6:1]","description":"is expected to be falsy","full_description":"BankAccount#is_deletable? is a GoCardless payout account is expected to be falsy","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1317,"run_time":0.062318261,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:49:1]","description":"doesn't raise an error on the bank_transaction","full_description":"BankAccount#destroy doesn't raise an error on the bank_transaction","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1327,"run_time":0.075236226,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:49:2]","description":"deletes the dependent bank_transaction and deleted bank transaction","full_description":"BankAccount#destroy deletes the dependent bank_transaction and deleted bank transaction","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1333,"run_time":0.076864413,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:49:3:1]","description":"doesn't raise an error on the bank_transaction","full_description":"BankAccount#destroy when bank_transactions are guessed doesn't raise an error on the bank_transaction","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1344,"run_time":0.089107487,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:49:3:2]","description":"deletes the dependent bank_transaction and deleted bank transaction","full_description":"BankAccount#destroy when bank_transactions are guessed deletes the dependent bank_transaction and deleted bank transaction","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1350,"run_time":0.078222128,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:49:3:3]","description":"deletes the dependent guessed explanations","full_description":"BankAccount#destroy when bank_transactions are guessed deletes the dependent guessed explanations","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1356,"run_time":0.076233782,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:50:1]","description":"destroys currency gain ledger entries when the account is destroyed","full_description":"BankAccount with a foreign currency bank account destroys currency gain ledger entries when the account is destroyed","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1378,"run_time":0.348429287,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:51:1]","description":"strips leading zeros when present","full_description":"BankAccount.strip_leading_zeros strips leading zeros when present","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1389,"run_time":0.003479434,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:51:2]","description":"returns the original string when no leading zeros are present","full_description":"BankAccount.strip_leading_zeros returns the original string when no leading zeros are present","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1393,"run_time":0.003240887,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:52:1]","description":"strips dashes and whitespace when present","full_description":"BankAccount.strip_punctuation strips dashes and whitespace when present","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1399,"run_time":0.003268346,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:52:2]","description":"returns the original string when no punctuation is present","full_description":"BankAccount.strip_punctuation returns the original string when no punctuation is present","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1403,"run_time":0.00297505,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:53:1]","description":"updates the general_ledger_account names","full_description":"BankAccount changing name updates the general_ledger_account names","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1411,"run_time":0.130862992,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:54:1]","description":"returns false if bank does not have a sort code or account number","full_description":"BankAccount has_sort_code_or_account_number? returns false if bank does not have a sort code or account number","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1419,"run_time":0.103834786,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:54:2:1]","description":"return true","full_description":"BankAccount has_sort_code_or_account_number? bank account does have sort code and account number return true","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1425,"run_time":0.007670196,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:55:1]","description":"schedules a SourceItemCurrencyRevaluationJob","full_description":"BankAccount#revalue_balance schedules a SourceItemCurrencyRevaluationJob","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1432,"run_time":0.038568962,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:55:2]","description":"does not schedule a SourceItemCurrencyRevaluationJob when company is rebuilding","full_description":"BankAccount#revalue_balance does not schedule a SourceItemCurrencyRevaluationJob when company is rebuilding","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1438,"run_time":0.034226402,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:55:3]","description":"logs the caller","full_description":"BankAccount#revalue_balance logs the caller","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1446,"run_time":0.036261431,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:56:1]","description":"returns the last four digits of the account number","full_description":"BankAccount#account_number_suffix returns the last four digits of the account number","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1457,"run_time":0.449051454,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:57:1]","description":"loads the correct dependency","full_description":"BankAccount when guessing transactions and there is a top level name collision loads the correct dependency","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1474,"run_time":0.116505965,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:58:1]","description":"finds matches","full_description":"BankAccount similar_fully_unexplained_transaction_ids finds matches","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1490,"run_time":0.10620207,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:59:1]","description":"is true when there is a sort code and no account number","full_description":"BankAccount#partial_account_details? is true when there is a sort code and no account number","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1499,"run_time":0.124395687,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:59:2]","description":"is true when there is an account number and no sort code","full_description":"BankAccount#partial_account_details? is true when there is an account number and no sort code","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1504,"run_time":0.105561151,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:59:3]","description":"is false when there is both an account number and sort code","full_description":"BankAccount#partial_account_details? is false when there is both an account number and sort code","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1509,"run_time":0.117063302,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:59:4]","description":"is false when there is neither an account number or sort code","full_description":"BankAccount#partial_account_details? is false when there is neither an account number or sort code","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1514,"run_time":0.121655877,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:60:1]","description":"returns a bank account initialized from the RBSG signup data","full_description":"BankAccount#initialize_rbsg_bank_account returns a bank account initialized from the RBSG signup data","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1522,"run_time":0.13695769,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:61:1]","description":"returns true when bank account flag true","full_description":"BankAccount#guess_enabled returns true when bank account flag true","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1534,"run_time":0.027723835,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:61:2]","description":"returns false when bank account flag false with no bank feed","full_description":"BankAccount#guess_enabled returns false when bank account flag false with no bank feed","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1539,"run_time":0.024434503,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:62:1:1]","description":"returns true","full_description":"BankAccount#guess with guess enabled returns true","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1567,"run_time":0.121593131,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:62:1:2]","description":"initializes guess with the cache","full_description":"BankAccount#guess with guess enabled initializes guess with the cache","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1571,"run_time":0.351467447,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:62:1:3]","description":"runs guess","full_description":"BankAccount#guess with guess enabled runs guess","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1576,"run_time":0.23020572,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:62:1:5]","description":"does not run guess for a manual statement upload with guess_statement: false","full_description":"BankAccount#guess with guess enabled does not run guess for a manual statement upload with guess_statement: false","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1583,"run_time":0.118859363,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:62:1:6]","description":"does not run guess for an empty statement upload with guess_statement: true","full_description":"BankAccount#guess with guess enabled does not run guess for an empty statement upload with guess_statement: true","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1588,"run_time":0.102795335,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:62:1:4:1]","description":"yields execution times for guess and banquo","full_description":"BankAccount#guess with guess enabled behaves like yields exec times if block passed yields execution times for guess and banquo","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1549,"run_time":0.242295124,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:62:1:7:1]","description":"calls banquo","full_description":"BankAccount#guess with guess enabled when banquo is available calls banquo","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1594,"run_time":0.144760142,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:62:1:7:2:1]","description":"yields execution times for guess and banquo","full_description":"BankAccount#guess with guess enabled when banquo is available behaves like yields exec times if block passed yields execution times for guess and banquo","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1549,"run_time":0.291653696,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:62:1:8:1]","description":"does not call banquo","full_description":"BankAccount#guess with guess enabled when banquo is not available does not call banquo","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1604,"run_time":0.162315448,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:62:1:9:1]","description":"does not call banquo","full_description":"BankAccount#guess with guess enabled when the account is an unincorporated landlord company does not call banquo","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1620,"run_time":0.189615144,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:62:2:1]","description":"returns false","full_description":"BankAccount#guess with guess disabled returns false","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1630,"run_time":0.032784742,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:62:2:3]","description":"does not run guess","full_description":"BankAccount#guess with guess disabled does not run guess","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1636,"run_time":0.034402346,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:62:2:4]","description":"does not run banquo","full_description":"BankAccount#guess with guess disabled does not run banquo","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1641,"run_time":0.033718287,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:62:2:5]","description":"runs guess if the options include guess_statement: true","full_description":"BankAccount#guess with guess disabled runs guess if the options include guess_statement: true","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1646,"run_time":0.166156201,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:62:2:2:1]","description":"yields execution times for guess and banquo","full_description":"BankAccount#guess with guess disabled behaves like yields exec times if block passed yields execution times for guess and banquo","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1549,"run_time":0.038372366,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:63:1:1]","description":"returns all transactions","full_description":"BankAccount#recently_uploaded_transactions with all created today returns all transactions","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1691,"run_time":0.125786735,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:63:2:1]","description":"returns eligible transactions","full_description":"BankAccount#recently_uploaded_transactions with some created yesterday returns eligible transactions","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1701,"run_time":0.119829085,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:63:3:1]","description":"returns eligible transactions","full_description":"BankAccount#recently_uploaded_transactions with all created yesterday returns eligible transactions","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1712,"run_time":0.112409148,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:64:1]","description":"returns the number of manual transactions","full_description":"BankAccount#manually_added_transaction_count returns the number of manual transactions","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1723,"run_time":0.047477661,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:65:1]","description":"returns the number of fully explained transactions","full_description":"BankAccount#fully_explained_transaction_count returns the number of fully explained transactions","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1731,"run_time":0.163633262,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:66:1:1:1]","description":"has the expected locked attributes","full_description":"BankAccount locking attributes for frontbook provisioned companies when provisioned via frontbook onboarding the primary bank account has the expected locked attributes","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1751,"run_time":0.125281924,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:66:1:2:1:1]","description":"doesn't have any of the expected attributes locked","full_description":"BankAccount locking attributes for frontbook provisioned companies when provisioned via frontbook onboarding for a non-primary bank account behaves like an unlocked bank account doesn't have any of the expected attributes locked","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1742,"run_time":0.153516806,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:66:2:1:1]","description":"doesn't have any of the expected attributes locked","full_description":"BankAccount locking attributes for frontbook provisioned companies when not provisioned via frontbook onboarding behaves like an unlocked bank account doesn't have any of the expected attributes locked","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1742,"run_time":0.011138178,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:66:3:1:1]","description":"doesn't have any of the expected attributes locked","full_description":"BankAccount locking attributes for frontbook provisioned companies when the bank account does not have a company behaves like an unlocked bank account doesn't have any of the expected attributes locked","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1742,"run_time":0.035792846,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:67:1]","description":"returns the fully explained transactions","full_description":"BankAccount#fully_explained_transactions_scope returns the fully explained transactions","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1784,"run_time":0.18215716,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:67:2:1]","description":"is expected to be empty","full_description":"BankAccount#fully_explained_transactions_scope when it's a personal account is expected to be empty","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1791,"run_time":0.029482741,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:67:3:1]","description":"is expected to be empty","full_description":"BankAccount#fully_explained_transactions_scope when having unexplained transactions only is expected to be empty","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1799,"run_time":0.095303097,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:67:4:1]","description":"is expected to be empty","full_description":"BankAccount#fully_explained_transactions_scope when having partially explained transactions only is expected to be empty","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1807,"run_time":0.190650924,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:67:5:1]","description":"returns only the fully explained transactions","full_description":"BankAccount#fully_explained_transactions_scope when having a mix and match of transactions returns only the fully explained transactions","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1819,"run_time":0.240315648,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:68:1:1]","description":"is expected not to include #\u003cCreditCardAccount id: 950310374, company_id: 895397833, position: 2, is_personal: false, secondary_...al_here: false, currency: nil, open_banking_switch_notice: nil, enabled_for_cash_flow_horizon: true\u003e","full_description":"BankAccount.non_credit_card_accounts scope for a credit card account is expected not to include #\u003cCreditCardAccount id: 950310374, company_id: 895397833, position: 2, is_personal: false, secondary_...al_here: false, currency: nil, open_banking_switch_notice: nil, enabled_for_cash_flow_horizon: true\u003e","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1830,"run_time":0.039427145,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:68:2:1]","description":"is expected to include #\u003cStandardBankAccount id: 950310375, company_id: 895397833, position: 2, is_personal: false, secondar...al_here: false, currency: nil, open_banking_switch_notice: nil, enabled_for_cash_flow_horizon: true\u003e","full_description":"BankAccount.non_credit_card_accounts scope for a non credit card account is expected to include #\u003cStandardBankAccount id: 950310375, company_id: 895397833, position: 2, is_personal: false, secondar...al_here: false, currency: nil, open_banking_switch_notice: nil, enabled_for_cash_flow_horizon: true\u003e","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1835,"run_time":0.036362812,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:69:1:1]","description":"returns an ActiveRecord relation","full_description":"BankAccount#unexplained_transactions with a business account returns an ActiveRecord relation","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1843,"run_time":0.033380984,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:69:2:1]","description":"returns an empty ActiveRecord relation","full_description":"BankAccount#unexplained_transactions with a personal account returns an empty ActiveRecord relation","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1851,"run_time":0.03238093,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:70:1:1]","description":"returns an ActiveRecord relation","full_description":"BankAccount#fully_explained_transactions with a business account returns an ActiveRecord relation","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1863,"run_time":0.033753158,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:70:2:1]","description":"returns an empty ActiveRecord relation","full_description":"BankAccount#fully_explained_transactions with a personal account returns an empty ActiveRecord relation","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1871,"run_time":0.035186249,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:71:1]","description":"is expected to eq [#\u003cBankTransaction id: 91, bank_account_id: 950310381, transaction_type: nil, amount: -50.0 (BigDecim...id: 895397916, explained: false, date_time_on: \"2022-12-22 00:00:00.000000000 +0000\", balance: nil\u003e]","full_description":"BankAccount#unexplained_transactions(exclude_locked: true) is expected to eq [#\u003cBankTransaction id: 91, bank_account_id: 950310381, transaction_type: nil, amount: -50.0 (BigDecim...id: 895397916, explained: false, date_time_on: \"2022-12-22 00:00:00.000000000 +0000\", balance: nil\u003e]","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1890,"run_time":0.265538433,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:71:2:1]","description":"is expected to eq [#\u003cBankTransaction id: 93, bank_account_id: 950310383, transaction_type: nil, amount: -50.0 (BigDecim...id: 895397917, explained: false, date_time_on: \"2022-12-22 00:00:00.000000000 +0000\", balance: nil\u003e]","full_description":"BankAccount#unexplained_transactions(exclude_locked: true) when some of the transactions are locked is expected to eq [#\u003cBankTransaction id: 93, bank_account_id: 950310383, transaction_type: nil, amount: -50.0 (BigDecim...id: 895397917, explained: false, date_time_on: \"2022-12-22 00:00:00.000000000 +0000\", balance: nil\u003e]","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1899,"run_time":0.253062791,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:71:3:1]","description":"is expected to be empty","full_description":"BankAccount#unexplained_transactions(exclude_locked: true) when all transactions are locked is expected to be empty","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1910,"run_time":0.274920889,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:72:1]","description":"is expected to eq [#\u003cBankTransaction id: 97, bank_account_id: 950310387, transaction_type: nil, amount: -50.0 (BigDecim...id: 895397919, explained: false, date_time_on: \"2022-12-22 00:00:00.000000000 +0000\", balance: nil\u003e]","full_description":"BankAccount#explanations_marked_for_review(exclude_locked: true) is expected to eq [#\u003cBankTransaction id: 97, bank_account_id: 950310387, transaction_type: nil, amount: -50.0 (BigDecim...id: 895397919, explained: false, date_time_on: \"2022-12-22 00:00:00.000000000 +0000\", balance: nil\u003e]","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1930,"run_time":0.407760632,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:72:2:1]","description":"is expected to eq [#\u003cBankTransaction id: 99, bank_account_id: 950310389, transaction_type: nil, amount: -50.0 (BigDecim...id: 895397920, explained: false, date_time_on: \"2022-12-22 00:00:00.000000000 +0000\", balance: nil\u003e]","full_description":"BankAccount#explanations_marked_for_review(exclude_locked: true) when some of the explanations are locked is expected to eq [#\u003cBankTransaction id: 99, bank_account_id: 950310389, transaction_type: nil, amount: -50.0 (BigDecim...id: 895397920, explained: false, date_time_on: \"2022-12-22 00:00:00.000000000 +0000\", balance: nil\u003e]","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1939,"run_time":0.481046794,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:72:3:1]","description":"is expected to be empty","full_description":"BankAccount#explanations_marked_for_review(exclude_locked: true) when all explanations are locked is expected to be empty","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1950,"run_time":0.550009753,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:73:1]","description":"deligates to BankFeeds::AccessChecker#available_for_company?","full_description":"BankAccount#advertise_bank_feed_feature? deligates to BankFeeds::AccessChecker#available_for_company?","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1955,"run_time":0.089154323,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:74:1]","description":"is expected to equal true","full_description":"BankAccount#cash_flow_supported? is expected to equal true","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1965,"run_time":0.087167664,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:74:2]","description":"is expected to equal false","full_description":"BankAccount#cash_flow_supported? is expected to equal false","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1966,"run_time":0.043629452,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:74:3]","description":"is expected to equal false","full_description":"BankAccount#cash_flow_supported? is expected to equal false","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1967,"run_time":0.03460191,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:74:4]","description":"is expected to equal true","full_description":"BankAccount#cash_flow_supported? is expected to equal true","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1968,"run_time":0.028494998,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:74:5]","description":"is expected to equal false","full_description":"BankAccount#cash_flow_supported? is expected to equal false","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1969,"run_time":0.029115996,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:75:1]","description":"is expected to contain exactly #\u003cStandardBankAccount id: 950310400, company_id: 895397924, position: 1, is_personal: false, secondar...al_here: false, currency: nil, open_banking_switch_notice: nil, enabled_for_cash_flow_horizon: true\u003e, #\u003cStandardBankAccount id: 950310401, company_id: 895397924, position: 2, is_personal: false, secondar..._here: false, currency: \"USD\", open_banking_switch_notice: nil, enabled_for_cash_flow_horizon: true\u003e, #\u003cStandardBankAccount id: 950310402, company_id: 895397924, position: 3, is_personal: true, secondary...al_here: false, currency: nil, open_banking_switch_notice: nil, enabled_for_cash_flow_horizon: true\u003e, #\u003cPaypalAccount id: 950310403, company_id: 895397924, position: 4, is_personal: false, secondary_sort...al_here: false, currency: nil, open_banking_switch_notice: nil, enabled_for_cash_flow_horizon: true\u003e, and #\u003cCreditCardAccount id: 950310404, company_id: 895397924, position: 5, is_personal: false, secondary_...al_here: false, currency: nil, open_banking_switch_notice: nil, enabled_for_cash_flow_horizon: true\u003e","full_description":"BankAccount.cash_flow_supported is expected to contain exactly #\u003cStandardBankAccount id: 950310400, company_id: 895397924, position: 1, is_personal: false, secondar...al_here: false, currency: nil, open_banking_switch_notice: nil, enabled_for_cash_flow_horizon: true\u003e, #\u003cStandardBankAccount id: 950310401, company_id: 895397924, position: 2, is_personal: false, secondar..._here: false, currency: \"USD\", open_banking_switch_notice: nil, enabled_for_cash_flow_horizon: true\u003e, #\u003cStandardBankAccount id: 950310402, company_id: 895397924, position: 3, is_personal: true, secondary...al_here: false, currency: nil, open_banking_switch_notice: nil, enabled_for_cash_flow_horizon: true\u003e, #\u003cPaypalAccount id: 950310403, company_id: 895397924, position: 4, is_personal: false, secondary_sort...al_here: false, currency: nil, open_banking_switch_notice: nil, enabled_for_cash_flow_horizon: true\u003e, and #\u003cCreditCardAccount id: 950310404, company_id: 895397924, position: 5, is_personal: false, secondary_...al_here: false, currency: nil, open_banking_switch_notice: nil, enabled_for_cash_flow_horizon: true\u003e","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1980,"run_time":0.173494521,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:75:2]","description":"returns only cashflow supported account types","full_description":"BankAccount.cash_flow_supported returns only cashflow supported account types","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":1990,"run_time":0.223915118,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:76:1:1]","description":"is expected to equal false","full_description":"BankAccount#open_banking_opening_balance_mismatch? when the bank account doesn't have an open banking opening balance is expected to equal false","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2005,"run_time":0.034116103,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:76:2:1:1]","description":"is expected to equal false","full_description":"BankAccount#open_banking_opening_balance_mismatch? when the bank account has an open banking opening balance when open_banking opening balance and opening balance are the same is expected to equal false","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2023,"run_time":0.280967795,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:76:2:2:1]","description":"is expected to equal true","full_description":"BankAccount#open_banking_opening_balance_mismatch? when the bank account has an open banking opening balance when open_banking opening balance and opening balance are not the same is expected to equal true","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2031,"run_time":0.28683551,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:77:1:1:1]","description":"is expected to equal nil","full_description":"BankAccount balance diverging from balance at bank bank account has no balances at bank #first_date_balance_diverged_from_balance_at_bank is expected to equal nil","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2054,"run_time":0.08708653,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:77:1:2:1]","description":"is expected to equal nil","full_description":"BankAccount balance diverging from balance at bank bank account has no balances at bank #last_date_balance_matched_balance_at_bank is expected to equal nil","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2059,"run_time":0.079900608,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:77:2:1:1]","description":"is expected to equal nil","full_description":"BankAccount balance diverging from balance at bank balances are in sync #first_date_balance_diverged_from_balance_at_bank is expected to equal nil","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2083,"run_time":0.178744266,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:77:2:2:1]","description":"is expected to eq Fri, 16 Dec 2022","full_description":"BankAccount balance diverging from balance at bank balances are in sync #last_date_balance_matched_balance_at_bank is expected to eq Fri, 16 Dec 2022","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2088,"run_time":0.197345512,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:77:3:1:1]","description":"is expected to equal nil","full_description":"BankAccount balance diverging from balance at bank balances diverged before FA start date #first_date_balance_diverged_from_balance_at_bank is expected to equal nil","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2104,"run_time":0.161003582,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:77:3:2:1]","description":"is expected to eq 2020-04-01 00:00:00.000000000 +0000","full_description":"BankAccount balance diverging from balance at bank balances diverged before FA start date #last_date_balance_matched_balance_at_bank is expected to eq 2020-04-01 00:00:00.000000000 +0000","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2109,"run_time":0.171490052,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:77:4:1:1:1]","description":"is expected to eq Wed, 01 Apr 2020","full_description":"BankAccount balance diverging from balance at bank balances diverged on FA start date opening_balance not set correctly #first_date_balance_diverged_from_balance_at_bank is expected to eq Wed, 01 Apr 2020","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2126,"run_time":0.144251625,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:77:4:1:2:1]","description":"is expected to equal nil","full_description":"BankAccount balance diverging from balance at bank balances diverged on FA start date opening_balance not set correctly #last_date_balance_matched_balance_at_bank is expected to equal nil","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2131,"run_time":0.185697127,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:77:4:2:1:1]","description":"is expected to eq Wed, 01 Apr 2020","full_description":"BankAccount balance diverging from balance at bank balances diverged on FA start date opening_balance set correctly #first_date_balance_diverged_from_balance_at_bank is expected to eq Wed, 01 Apr 2020","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2155,"run_time":0.185550518,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:77:4:2:2:1]","description":"is expected to eq Wed, 01 Apr 2020","full_description":"BankAccount balance diverging from balance at bank balances diverged on FA start date opening_balance set correctly #last_date_balance_matched_balance_at_bank is expected to eq Wed, 01 Apr 2020","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2160,"run_time":0.170366626,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:77:5:1:1]","description":"is expected to eq Fri, 02 Dec 2022","full_description":"BankAccount balance diverging from balance at bank balances diverged after the FA start date #first_date_balance_diverged_from_balance_at_bank is expected to eq Fri, 02 Dec 2022","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2228,"run_time":0.345711961,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:77:5:2:1]","description":"is expected to eq Fri, 25 Nov 2022","full_description":"BankAccount balance diverging from balance at bank balances diverged after the FA start date #last_date_balance_matched_balance_at_bank is expected to eq Fri, 25 Nov 2022","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2233,"run_time":0.367827712,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:78:1:1]","description":"updates the first_date_balance_diverged_from_balance_at_bank","full_description":"BankAccount cached first_date_balance_diverged_from_balance_at_bank when bank_account balance changes updates the first_date_balance_diverged_from_balance_at_bank","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2282,"run_time":0.251441502,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:78:2:1]","description":"updates the first_date_balance_diverged_from_balance_at_bank","full_description":"BankAccount cached first_date_balance_diverged_from_balance_at_bank when FreeAgent start date changes updates the first_date_balance_diverged_from_balance_at_bank","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2297,"run_time":0.312980593,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:78:3:1]","description":"updates the first_date_balance_diverged_from_balance_at_bank","full_description":"BankAccount cached first_date_balance_diverged_from_balance_at_bank when balances_at_bank updated updates the first_date_balance_diverged_from_balance_at_bank","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2313,"run_time":0.261300558,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:78:4:1]","description":"updates the first_date_balance_diverged_from_balance_at_bank","full_description":"BankAccount cached first_date_balance_diverged_from_balance_at_bank when balances_at_bank added to updates the first_date_balance_diverged_from_balance_at_bank","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2333,"run_time":0.339936335,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:79:1:1]","description":"is expected to equal false","full_description":"BankAccount has_enabled_api_feed? when the bank account does not have a bank feed is expected to equal false","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2347,"run_time":0.034715203,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:79:2:1:1]","description":"is expected to equal true","full_description":"BankAccount has_enabled_api_feed? when the bank account has an ApiBankFeed and it is enabled is expected to equal true","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2354,"run_time":0.042417518,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:79:2:2:1]","description":"is expected to equal false","full_description":"BankAccount has_enabled_api_feed? when the bank account has an ApiBankFeed and it is disabled is expected to equal false","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2359,"run_time":0.038490417,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:79:2:3:1]","description":"is expected to equal false","full_description":"BankAccount has_enabled_api_feed? when the bank account has an ApiBankFeed and it is pending is expected to equal false","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2364,"run_time":0.046876668,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:79:3:1]","description":"is expected to equal false","full_description":"BankAccount has_enabled_api_feed? when the bank account has an OpenBankingBankFeed is expected to equal false","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2370,"run_time":0.038964594,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:80:1:1]","description":"also disables cash_flow_horizon feature","full_description":"BankAccount state changes making it hidden also disables cash_flow_horizon feature","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2384,"run_time":0.046734241,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:80:2:1]","description":"also enables cash_flow_horizon feature","full_description":"BankAccount state changes making it active also enables cash_flow_horizon feature","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2398,"run_time":0.047497944,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:81:1]","description":"will touch the bank account when transactions are created without this method","full_description":"BankAccount#uploading_transactions will touch the bank account when transactions are created without this method","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2413,"run_time":0.056901679,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:81:2]","description":"prevents transactions created inside the block from touching the bank account","full_description":"BankAccount#uploading_transactions prevents transactions created inside the block from touching the bank account","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2424,"run_time":0.059948647,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:81:3]","description":"changes the updated_at timestamp after the block completes","full_description":"BankAccount#uploading_transactions changes the updated_at timestamp after the block completes","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2437,"run_time":0.053560413,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:81:4]","description":"changes the updated_at timestamp even if there's an error in the block","full_description":"BankAccount#uploading_transactions changes the updated_at timestamp even if there's an error in the block","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2450,"run_time":0.055407018,"pending_message":null,"screenshot":null},{"id":"./spec/models/bank_account_spec.rb[1:81:5]","description":"calls the radar todo dependency tracker after finishing","full_description":"BankAccount#uploading_transactions calls the radar todo dependency tracker after finishing","status":"passed","file_path":"./spec/models/bank_account_spec.rb","line_number":2465,"run_time":0.044071736,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:2]","description":"is expected to validate that :description cannot be empty/falsy","full_description":"Expense is expected to validate that :description cannot be empty/falsy","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":41,"run_time":0.043740682,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:3]","description":"is expected to validate that the length of :description is at most 255","full_description":"Expense is expected to validate that the length of :description is at most 255","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":42,"run_time":0.01341071,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:4]","description":"is expected to validate that :user cannot be empty/falsy","full_description":"Expense is expected to validate that :user cannot be empty/falsy","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":43,"run_time":0.017264697,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:10]","description":"is Rebillable","full_description":"Expense is Rebillable","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":144,"run_time":0.008280507,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:11]","description":"an expense with a gross_value containing a comma is not valid","full_description":"Expense an expense with a gross_value containing a comma is not valid","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":148,"run_time":0.032467657,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:36]","description":"sets net value and gross value","full_description":"Expense sets net value and gross value","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":799,"run_time":0.101923208,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:37]","description":"does not use UK advisory mileage rates for universal company","full_description":"Expense does not use UK advisory mileage rates for universal company","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":807,"run_time":0.139538289,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:38]","description":"auto_vat","full_description":"Expense auto_vat","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":814,"run_time":0.141516504,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:39]","description":"calculates non-standard sales tax from manual amount","full_description":"Expense calculates non-standard sales tax from manual amount","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":826,"run_time":0.096519045,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:40]","description":"calculates all sales tax from manual amount","full_description":"Expense calculates all sales tax from manual amount","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":836,"run_time":0.091974714,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:41]","description":"duplicate_for_recurring","full_description":"Expense duplicate_for_recurring","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":847,"run_time":0.28811982,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:44]","description":"validates #rebill_to_project_id","full_description":"Expense validates #rebill_to_project_id","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1000,"run_time":0.035865193,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:45]","description":"allows VAT receipt for car mileages","full_description":"Expense allows VAT receipt for car mileages","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1006,"run_time":0.083155591,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:46]","description":"allows VAT receipt for motorcycle mileages","full_description":"Expense allows VAT receipt for motorcycle mileages","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1011,"run_time":0.084008573,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:47]","description":"does not allow VAT receipt for bicycle mileages","full_description":"Expense does not allow VAT receipt for bicycle mileages","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1016,"run_time":0.089165285,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:48]","description":"is able to relate to project without being rebilled to project","full_description":"Expense is able to relate to project without being rebilled to project","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1024,"run_time":0.094098877,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:49]","description":"defines valid rebill type values","full_description":"Expense defines valid rebill type values","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1031,"run_time":0.005860986,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:50]","description":"is not valid if rebill type specified with no associated project","full_description":"Expense is not valid if rebill type specified with no associated project","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1035,"run_time":0.029480183,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:51]","description":"returns project as rebill_to_project if rebill type is not nil","full_description":"Expense returns project as rebill_to_project if rebill type is not nil","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1043,"run_time":0.027895086,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:52]","description":"sets project and rebill type as cost if setting rebill to project","full_description":"Expense sets project and rebill type as cost if setting rebill to project","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1051,"run_time":0.024187085,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:53]","description":"does not validate if rebill factor specified with no associated project","full_description":"Expense does not validate if rebill factor specified with no associated project","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1060,"run_time":0.034017274,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:54]","description":"validates rebill_type against REBILL_TYPES","full_description":"Expense validates rebill_type against REBILL_TYPES","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1069,"run_time":0.036056446,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:55]","description":"considers nil a valid REBILL_TYPE","full_description":"Expense considers nil a valid REBILL_TYPE","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1078,"run_time":0.027265498,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:56]","description":"validates rebill_factor against rebill_type","full_description":"Expense validates rebill_factor against rebill_type","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1087,"run_time":0.028138481,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:57]","description":"provides a tailored rebill_type_options list for Mileage","full_description":"Expense provides a tailored rebill_type_options list for Mileage","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1096,"run_time":0.007150497,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:72]","description":"an expense with a rebill type of price and a blank rebill factor should not validate","full_description":"Expense an expense with a rebill type of price and a blank rebill factor should not validate","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1588,"run_time":0.045395904,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:73]","description":"an expense with a rebill type of markup and a blank rebill factor should not validate","full_description":"Expense an expense with a rebill type of markup and a blank rebill factor should not validate","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1596,"run_time":0.050438429,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:74]","description":"an expense with a rebill type of cost and a blank rebill factor should validate","full_description":"Expense an expense with a rebill type of cost and a blank rebill factor should validate","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1604,"run_time":0.05063954,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:75]","description":"A non-rebillable mileage","full_description":"Expense A non-rebillable mileage","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1612,"run_time":0.017233542,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:76]","description":"an expense with a rebill_mileage_rate to 3dp should be used correctly in calculations","full_description":"Expense an expense with a rebill_mileage_rate to 3dp should be used correctly in calculations","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1624,"run_time":0.02920914,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:1:1:1]","description":"is expected to have the audit_entries scope with the correct parameters","full_description":"Expense behaves like auditable entity .audit_entries is expected to have the audit_entries scope with the correct parameters","status":"passed","file_path":"./engines/audit_trail/spec/support/shared_examples/audit_trail/entity_shared_examples.rb","line_number":20,"run_time":0.08478273,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:1:1:2]","description":"orders the audit_entries latest first, newest to oldest","full_description":"Expense behaves like auditable entity .audit_entries orders the audit_entries latest first, newest to oldest","status":"passed","file_path":"./engines/audit_trail/spec/support/shared_examples/audit_trail/entity_shared_examples.rb","line_number":25,"run_time":0.774980749,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:1:1:3]","description":"does not remove audit_entries when destroyed, instead it leaves the auditable_(type|id|name) untouched","full_description":"Expense behaves like auditable entity .audit_entries does not remove audit_entries when destroyed, instead it leaves the auditable_(type|id|name) untouched","status":"passed","file_path":"./engines/audit_trail/spec/support/shared_examples/audit_trail/entity_shared_examples.rb","line_number":40,"run_time":0.656955638,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:1:2:1]","description":"is expected to have the audit_entries scope with the correct parameters","full_description":"Expense behaves like auditable entity .linked_audit_entries is expected to have the audit_entries scope with the correct parameters","status":"passed","file_path":"./engines/audit_trail/spec/support/shared_examples/audit_trail/entity_shared_examples.rb","line_number":63,"run_time":0.089748618,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:1:2:2]","description":"orders the linked_audit_entries latest first, newest to oldest","full_description":"Expense behaves like auditable entity .linked_audit_entries orders the linked_audit_entries latest first, newest to oldest","status":"passed","file_path":"./engines/audit_trail/spec/support/shared_examples/audit_trail/entity_shared_examples.rb","line_number":68,"run_time":0.851505989,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:1:3:1]","description":"defines its own auditable_name that is suitable for the included class","full_description":"Expense behaves like auditable entity #auditable_name defines its own auditable_name that is suitable for the included class","status":"passed","file_path":"./engines/audit_trail/spec/support/shared_examples/audit_trail/entity_shared_examples.rb","line_number":89,"run_time":0.083170319,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:1:3:2]","description":"does not raise any errors","full_description":"Expense behaves like auditable entity #auditable_name does not raise any errors","status":"passed","file_path":"./engines/audit_trail/spec/support/shared_examples/audit_trail/entity_shared_examples.rb","line_number":93,"run_time":0.075844447,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:1:4:1]","description":"returns self","full_description":"Expense behaves like auditable entity #auditable_entity returns self","status":"passed","file_path":"./engines/audit_trail/spec/support/shared_examples/audit_trail/entity_shared_examples.rb","line_number":101,"run_time":0.08047397,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:1:5:1]","description":"defines its own auditable_capture_enabled? that returns a boolean","full_description":"Expense behaves like auditable entity #auditable_capture_enabled? defines its own auditable_capture_enabled? that returns a boolean","status":"passed","file_path":"./engines/audit_trail/spec/support/shared_examples/audit_trail/entity_shared_examples.rb","line_number":117,"run_time":0.093129946,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:1:5:2]","description":"does not raise any errors","full_description":"Expense behaves like auditable entity #auditable_capture_enabled? does not raise any errors","status":"passed","file_path":"./engines/audit_trail/spec/support/shared_examples/audit_trail/entity_shared_examples.rb","line_number":121,"run_time":0.081301842,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:5:1:1]","description":"is expected to be ordered by field \"dated_on\"","full_description":"Expense.order_by when sorting on dated_on is expected to be ordered by field \"dated_on\"","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":54,"run_time":0.008306542,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:5:2:1]","description":"is expected to be ordered by field \"address1\" from table \"properties\"","full_description":"Expense.order_by when sorting on the property_address is expected to be ordered by field \"address1\" from table \"properties\"","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":60,"run_time":0.006876472,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:5:2:2]","description":"joins across onto the properties table","full_description":"Expense.order_by when sorting on the property_address joins across onto the properties table","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":61,"run_time":0.009068647,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:5:3:1]","description":"is expected to be empty","full_description":"Expense.order_by when an an attribute not specified by SORT_FIELDS is passed in is expected to be empty","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":71,"run_time":0.005583053,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:5:4:1]","description":"is expected to be ordered by field \"dated_on\" in direction Arel::Nodes::Descending","full_description":"Expense.order_by when sorting on a valid attribute in descending order is expected to be ordered by field \"dated_on\" in direction Arel::Nodes::Descending","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":83,"run_time":0.005691233,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:5:5:1]","description":"throws an error","full_description":"Expense.order_by when sorting on a valid attribute in an invalid order throws an error","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":91,"run_time":0.005585211,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:6:1]","description":"is expected to eq true","full_description":"Expense#auditable_capture_enabled? is expected to eq true","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":103,"run_time":0.01328059,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:7:1]","description":"is expected to eq \"Expense\"","full_description":"Expense#auditable_display_type is expected to eq \"Expense\"","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":111,"run_time":0.014730865,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:7:2:1]","description":"is expected to eq \"Mileage\"","full_description":"Expense#auditable_display_type when the expense is a mileage claim is expected to eq \"Mileage\"","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":115,"run_time":0.013331683,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:8:1]","description":"returns the description","full_description":"Expense#auditable_name returns the description","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":123,"run_time":0.091429993,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:9:1:1]","description":"is expected to equal false","full_description":"Expense#linked_item_requires_property? for a capital asset purchase is expected to equal false","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":134,"run_time":0.019341636,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:9:2:1]","description":"is expected to equal true","full_description":"Expense#linked_item_requires_property? for a non-capital asset purchase is expected to equal true","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":140,"run_time":0.022211096,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:12:1]","description":"saves ledgers to 2 decimal places","full_description":"Expense An expense with a 3 decimal place gross value saves ledgers to 2 decimal places","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":158,"run_time":0.103858339,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:13:1]","description":"saves ledgers to 2 decimal places","full_description":"Expense An expense with a 3 decimal place foreign gross value saves ledgers to 2 decimal places","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":168,"run_time":0.095335239,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:14:1]","description":"populates the account_name with PURCHASE_OF_OTHER_CAPITAL_ASSET","full_description":"Expense Creating a expense with a capital asset nominal code populates the account_name with PURCHASE_OF_OTHER_CAPITAL_ASSET","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":176,"run_time":0.125542704,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:14:2]","description":"includes sales tax in the capital asset ledger entries","full_description":"Expense Creating a expense with a capital asset nominal code includes sales tax in the capital asset ledger entries","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":180,"run_time":0.111287213,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:14:3]","description":"has an asset depreciation schedule","full_description":"Expense Creating a expense with a capital asset nominal code has an asset depreciation schedule","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":184,"run_time":0.108043435,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:14:4:1]","description":"throws an exception","full_description":"Expense Creating a expense with a capital asset nominal code without a depreciation schedule throws an exception","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":191,"run_time":0.035769269,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:14:5:1]","description":"throws an exception","full_description":"Expense Creating a expense with a capital asset nominal code with an invalid depreciation schedule throws an exception","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":199,"run_time":0.033587702,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:15:1]","description":"creates an expense","full_description":"Expense Creating an expense with a stock item creates an expense","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":215,"run_time":0.169722777,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:15:2]","description":"has a nicely formatted stock quantity","full_description":"Expense Creating an expense with a stock item has a nicely formatted stock quantity","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":219,"run_time":0.137624455,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:15:3]","description":"is vatable","full_description":"Expense Creating an expense with a stock item is vatable","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":223,"run_time":0.149076901,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:15:5]","description":"deletes the stock transaction when deleted","full_description":"Expense Creating an expense with a stock item deletes the stock transaction when deleted","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":237,"run_time":0.157595806,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:15:4:1]","description":"still has a nicely formatted stock quantity","full_description":"Expense Creating an expense with a stock item with a decimal quantity still has a nicely formatted stock quantity","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":232,"run_time":0.153966155,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:16:1]","description":"does not create an expense if the quantity is 0","full_description":"Expense Creating an expense with a stock item does not create an expense if the quantity is 0","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":252,"run_time":0.084487603,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:16:2]","description":"does not create an expense if the total value is not set","full_description":"Expense Creating an expense with a stock item does not create an expense if the total value is not set","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":259,"run_time":0.082226043,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:17:1]","description":"is invalid","full_description":"Expense Creating an expense with stock category but no stock item is invalid","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":273,"run_time":0.037296422,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:18:1]","description":"is not valid","full_description":"Expense A stock expense refund is not valid","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":293,"run_time":0.06878308,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:19:1]","description":"is invalid","full_description":"Expense Creating an expense with a stock item from another company is invalid","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":307,"run_time":0.213573316,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:20:1]","description":"sets the account_name to be the category description","full_description":"Expense Creating an expense with cost_of_sales category sets the account_name to be the category description","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":325,"run_time":0.077967556,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:20:2]","description":"sets the correct general_ledger_account","full_description":"Expense Creating an expense with cost_of_sales category sets the correct general_ledger_account","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":329,"run_time":0.075176725,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:21:1]","description":"is not valid","full_description":"Expense An expense filed into an account from another company is not valid","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":347,"run_time":0.197358971,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:21:2]","description":"has an error on the general_ledger_account","full_description":"Expense An expense filed into an account from another company has an error on the general_ledger_account","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":351,"run_time":0.373538816,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:22:1]","description":"applies the standard VAT rate at the date of the expense","full_description":"Expense An SalesTaxCalculator::AUTO_RATE bill added to a category with a standard VAT rate applies the standard VAT rate at the date of the expense","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":370,"run_time":0.174377583,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:23:1]","description":"applies the reduced VAT rate at the date of the expense","full_description":"Expense An SalesTaxCalculator::AUTO_RATE expense added to a category with a reduced VAT rate applies the reduced VAT rate at the date of the expense","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":389,"run_time":0.215805739,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:24:1]","description":"applies a zero VAT rate","full_description":"Expense An SalesTaxCalculator::AUTO_RATE expense added to a category with a zero VAT rate applies a zero VAT rate","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":408,"run_time":0.147161953,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:25:1]","description":"applies an out of scope VAT rate","full_description":"Expense An SalesTaxCalculator::AUTO_RATE expense added to a category which is out of scope of VAT applies an out of scope VAT rate","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":426,"run_time":0.309674831,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:26:1]","description":"applies an out of scope VAT rate","full_description":"Expense An SalesTaxCalculator::AUTO_RATE expense added to a category which is out of scope of VAT, default_auto_oos_vat_rate feature disabled applies an out of scope VAT rate","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":445,"run_time":0.091995439,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:27:1]","description":"has no VAT amount","full_description":"Expense a VAT exempt expense has no VAT amount","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":459,"run_time":0.079846376,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:28:1]","description":"is not recurring","full_description":"Expense creating a new expense is not recurring","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":475,"run_time":0.016598761,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:28:2]","description":"is valid and possible to save","full_description":"Expense creating a new expense is valid and possible to save","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":479,"run_time":0.10167651,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:28:3]","description":"has the assigned description","full_description":"Expense creating a new expense has the assigned description","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":484,"run_time":0.017508183,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:28:4]","description":"calculates the type","full_description":"Expense creating a new expense calculates the type","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":488,"run_time":0.017960643,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:28:5]","description":"calculates the net value","full_description":"Expense creating a new expense calculates the net value","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":492,"run_time":0.017163918,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:28:6]","description":"calculates the sales tax value","full_description":"Expense creating a new expense calculates the sales tax value","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":496,"run_time":0.016577089,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:28:7]","description":"is not a mileage claim","full_description":"Expense creating a new expense is not a mileage claim","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":500,"run_time":0.017285134,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:29:1]","description":"is a mileage claim","full_description":"Expense Creating a new mileage claim is a mileage claim","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":520,"run_time":0.018095195,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:29:2]","description":"has the given reclaim rate until saved","full_description":"Expense Creating a new mileage claim has the given reclaim rate until saved","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":524,"run_time":0.017525745,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:29:3]","description":"uses the UK mileage rate for the given date","full_description":"Expense Creating a new mileage claim uses the UK mileage rate for the given date","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":528,"run_time":0.08277706,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:29:4]","description":"has the correct description for rebilling","full_description":"Expense Creating a new mileage claim has the correct description for rebilling","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":533,"run_time":0.015312837,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:29:5]","description":"is in the default currency once saved","full_description":"Expense Creating a new mileage claim is in the default currency once saved","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":538,"run_time":0.100654355,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:29:6]","description":"calculates the gross value when saved","full_description":"Expense Creating a new mileage claim calculates the gross value when saved","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":543,"run_time":0.094702933,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:29:7]","description":"calculates the foreign gross value when saved","full_description":"Expense Creating a new mileage claim calculates the foreign gross value when saved","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":548,"run_time":0.088067118,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:30:1]","description":"only accepts numerical rebill rates","full_description":"Expense Rebilling a mileage claim only accepts numerical rebill rates","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":555,"run_time":0.045240164,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:30:2]","description":"does not fail when given nil values for vehicle details for universal company","full_description":"Expense Rebilling a mileage claim does not fail when given nil values for vehicle details for universal company","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":565,"run_time":0.117591407,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:31:1]","description":"validates mileage","full_description":"Expense creating an expense validates mileage","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":579,"run_time":0.038552698,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:31:2]","description":"validates manual sales tax amount","full_description":"Expense creating an expense validates manual sales tax amount","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":586,"run_time":0.040266339,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:31:3]","description":"validates dated_on","full_description":"Expense creating an expense validates dated_on","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":593,"run_time":0.040376915,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:31:4]","description":"validates recurring period","full_description":"Expense creating an expense validates recurring period","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":600,"run_time":0.043840727,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:31:5]","description":"validates currency","full_description":"Expense creating an expense validates currency","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":607,"run_time":0.045464806,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:32:1]","description":"does not explode when engine-related attributes are not set","full_description":"Expense bicycle mileage claims does not explode when engine-related attributes are not set","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":618,"run_time":0.040847304,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:32:2:1]","description":"does not let the owner reclaim","full_description":"Expense bicycle mileage claims for UK sole traders does not let the owner reclaim","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":632,"run_time":0.120992804,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:32:2:2]","description":"lets the owner rebill","full_description":"Expense bicycle mileage claims for UK sole traders lets the owner rebill","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":637,"run_time":0.123752457,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:32:2:3]","description":"lets employees reclaim","full_description":"Expense bicycle mileage claims for UK sole traders lets employees reclaim","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":642,"run_time":0.14733944,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:32:3:1]","description":"does not let partners reclaim","full_description":"Expense bicycle mileage claims for UK partnerships does not let partners reclaim","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":652,"run_time":0.148638423,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:32:3:2]","description":"lets the partner rebill","full_description":"Expense bicycle mileage claims for UK partnerships lets the partner rebill","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":657,"run_time":0.113641386,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:32:3:3]","description":"lets employees reclaim","full_description":"Expense bicycle mileage claims for UK partnerships lets employees reclaim","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":662,"run_time":0.124382925,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:32:4:1]","description":"lets directors reclaim","full_description":"Expense bicycle mileage claims for UK limited companies lets directors reclaim","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":672,"run_time":0.054193053,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:32:4:2]","description":"lets employees reclaim","full_description":"Expense bicycle mileage claims for UK limited companies lets employees reclaim","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":677,"run_time":0.043027668,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:33:1:1]","description":"marks all mileage as initial rate mileage","full_description":"Expense#recalc_claimed_mileage total mileage doesn't exceed the limit marks all mileage as initial rate mileage","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":690,"run_time":0.014441709,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:33:2:1]","description":"marks all mileage as subsequent rate mileage","full_description":"Expense#recalc_claimed_mileage total mileage in a tax year exceeds the limit  marks all mileage as subsequent rate mileage","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":698,"run_time":0.014253989,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:33:3:1]","description":"breaks down mileage","full_description":"Expense#recalc_claimed_mileage mileage claim is partially within the limit breaks down mileage","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":706,"run_time":0.014829852,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:34:1]","description":"gets mileage advisory rate based on a date, engine type and engine size","full_description":"Expense Mileage advisory rates gets mileage advisory rate based on a date, engine type and engine size","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":726,"run_time":0.015960043,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:34:2]","description":"sets sales_tax_value to 0 if no vat receipt","full_description":"Expense Mileage advisory rates sets sales_tax_value to 0 if no vat receipt","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":733,"run_time":0.01466307,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:34:3]","description":"is invalid if the given engine type or size doesn't exist on the given date","full_description":"Expense Mileage advisory rates is invalid if the given engine type or size doesn't exist on the given date","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":738,"run_time":0.032035941,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:35:1:1]","description":"uses the correct rate for cars","full_description":"Expense Calculating the gross value for a mileage claim for short journeys (under 10,000 miles) uses the correct rate for cars","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":750,"run_time":0.091708053,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:35:1:2]","description":"uses the correct rate for motorcycles","full_description":"Expense Calculating the gross value for a mileage claim for short journeys (under 10,000 miles) uses the correct rate for motorcycles","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":756,"run_time":0.01402133,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:35:1:3]","description":"uses the correct rate for bicycles","full_description":"Expense Calculating the gross value for a mileage claim for short journeys (under 10,000 miles) uses the correct rate for bicycles","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":762,"run_time":0.013918687,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:35:2:1]","description":"uses the correct rate for cars","full_description":"Expense Calculating the gross value for a mileage claim for long journeys (over 10,000 miles) uses the correct rate for cars","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":776,"run_time":0.013341654,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:35:2:2]","description":"uses the correct rate for motorcycles","full_description":"Expense Calculating the gross value for a mileage claim for long journeys (over 10,000 miles) uses the correct rate for motorcycles","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":783,"run_time":0.013122118,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:35:2:3]","description":"uses the correct rate for bicycles","full_description":"Expense Calculating the gross value for a mileage claim for long journeys (over 10,000 miles) uses the correct rate for bicycles","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":790,"run_time":0.014473317,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:42:1]","description":"creates new expense from the original","full_description":"Expense Recurring expenses creates new expense from the original","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":868,"run_time":0.166046979,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:42:2]","description":"creates an audit entry of type expense with description indicating it was from a recurring invoice","full_description":"Expense Recurring expenses creates an audit entry of type expense with description indicating it was from a recurring invoice","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":878,"run_time":0.178884975,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:42:3]","description":"creates new expense with the same sales tax rate if sales tax rates hasn't change","full_description":"Expense Recurring expenses creates new expense with the same sales tax rate if sales tax rates hasn't change","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":893,"run_time":0.161457651,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:42:4]","description":"creates new expense with the new sales tax rate if sales tax rates has changed","full_description":"Expense Recurring expenses creates new expense with the new sales tax rate if sales tax rates has changed","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":901,"run_time":0.166588461,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:42:5]","description":"recalculates the gross value of foreign currency expenses using the appropriate exchange rate","full_description":"Expense Recurring expenses recalculates the gross value of foreign currency expenses using the appropriate exchange rate","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":909,"run_time":0.166868801,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:42:6]","description":"returns next recurring date from #next_recurs_on","full_description":"Expense Recurring expenses returns next recurring date from #next_recurs_on","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":927,"run_time":0.194446621,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:42:7]","description":"returns false from #ready_to_recur if recurring date is in the future","full_description":"Expense Recurring expenses returns false from #ready_to_recur if recurring date is in the future","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":938,"run_time":0.093328024,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:42:8]","description":"returns true from #ready_to_recur if recurring date is in the past","full_description":"Expense Recurring expenses returns true from #ready_to_recur if recurring date is in the past","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":944,"run_time":0.179778955,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:42:9]","description":"does not allow to create a recurring expense with end date \u003c next recurring date","full_description":"Expense Recurring expenses does not allow to create a recurring expense with end date \u003c next recurring date","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":951,"run_time":0.145163838,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:42:10:1]","description":"preserves the sales tax amounts","full_description":"Expense Recurring expenses when the bill has a manual sales tax rate preserves the sales tax amounts","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":971,"run_time":0.172438785,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:42:11:1]","description":"retains the property ID from the original expense","full_description":"Expense Recurring expenses when created by a UK landlord retains the property ID from the original expense","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":985,"run_time":0.260019665,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:43:1]","description":"is not valid","full_description":"Expense validating a capital asset purchase associated with a project is not valid","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":994,"run_time":0.040026975,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:58:1]","description":"is valid","full_description":"Expense An expense is valid","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1105,"run_time":0.099120995,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:58:2:1]","description":"normalises its gross value when asked","full_description":"Expense An expense which is a refund with wrong-signed gross_value normalises its gross value when asked","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1115,"run_time":0.096716313,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:58:2:2]","description":"normalises its gross value when saved","full_description":"Expense An expense which is a refund with wrong-signed gross_value normalises its gross value when saved","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1120,"run_time":0.13283942,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:58:3:1]","description":"normalises its gross value when asked","full_description":"Expense An expense which is a payment with wrong-signed gross_value normalises its gross value when asked","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1132,"run_time":0.082063384,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:58:3:2]","description":"normalises its gross value when saved","full_description":"Expense An expense which is a payment with wrong-signed gross_value normalises its gross value when saved","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1137,"run_time":0.117386028,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:59:1]","description":"saves ledgers to 2 decimal places","full_description":"Expense A mileage expense for 301.5 miles saves ledgers to 2 decimal places","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1150,"run_time":0.093118564,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:60:1]","description":"is valid","full_description":"Expense A project mileage expense is valid","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1161,"run_time":0.117272217,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:60:2]","description":"provides a tailored set of valid_rebill_types","full_description":"Expense A project mileage expense provides a tailored set of valid_rebill_types","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1165,"run_time":0.107333951,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:60:3]","description":"allows a rebill_type of nil","full_description":"Expense A project mileage expense allows a rebill_type of nil","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1169,"run_time":0.115419778,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:60:4]","description":"allows a rebill_type of COST","full_description":"Expense A project mileage expense allows a rebill_type of COST","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1174,"run_time":0.13440944,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:60:5]","description":"does not allow a rebill_type of PRICE","full_description":"Expense A project mileage expense does not allow a rebill_type of PRICE","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1179,"run_time":0.123514301,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:60:6]","description":"does not allow a rebill_type of MARKUP","full_description":"Expense A project mileage expense does not allow a rebill_type of MARKUP","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1184,"run_time":0.1196852,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:60:7]","description":"is valid with fractional mileage","full_description":"Expense A project mileage expense is valid with fractional mileage","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1189,"run_time":0.168814621,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:60:8:1]","description":"calculates the rebilled_net_value","full_description":"Expense A project mileage expense with a mileage rate calculates the rebilled_net_value","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1203,"run_time":0.141066711,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:60:8:2]","description":"calculates the rebilled_gross_value","full_description":"Expense A project mileage expense with a mileage rate calculates the rebilled_gross_value","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1207,"run_time":0.113586077,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:60:8:3:1]","description":"does not change project","full_description":"Expense A project mileage expense with a mileage rate and a rebilled_project does not change project","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1217,"run_time":0.150741083,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:60:8:3:2]","description":"has a default rebill_type of COST","full_description":"Expense A project mileage expense with a mileage rate and a rebilled_project has a default rebill_type of COST","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1221,"run_time":0.164777331,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:60:8:3:3]","description":"calculates the rebilled_net_value","full_description":"Expense A project mileage expense with a mileage rate and a rebilled_project calculates the rebilled_net_value","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1225,"run_time":0.15175945,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:60:8:3:4]","description":"calculates the rebilled_gross_value","full_description":"Expense A project mileage expense with a mileage rate and a rebilled_project calculates the rebilled_gross_value","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1229,"run_time":0.136700857,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:61:1]","description":"does not raise an exception when the initial date is invalid","full_description":"Expense Generating recurring expenses for a company with access to their account does not raise an exception when the initial date is invalid","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1241,"run_time":0.055561554,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:61:2:1:1]","description":"sets the original expense to be no longer recurring","full_description":"Expense Generating recurring expenses for a company with access to their account when there is a single recurring expense that recurs weekly and is dated one week ago sets the original expense to be no longer recurring","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1264,"run_time":0.18349981,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:61:2:1:2]","description":"generates a new weekly recurring expense dated today","full_description":"Expense Generating recurring expenses for a company with access to their account when there is a single recurring expense that recurs weekly and is dated one week ago generates a new weekly recurring expense dated today","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1268,"run_time":0.189458039,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:61:3:1]","description":"sets correct initial and subsequent mileages for the first generated expense","full_description":"Expense Generating recurring expenses for a company with access to their account when there are multiple mileage claims and the generated mileages go over the threshold sets correct initial and subsequent mileages for the first generated expense","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1301,"run_time":0.591340419,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:61:3:2]","description":"sets correct initial and subsequent mileages for the second generated expense","full_description":"Expense Generating recurring expenses for a company with access to their account when there are multiple mileage claims and the generated mileages go over the threshold sets correct initial and subsequent mileages for the second generated expense","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1306,"run_time":0.588938094,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:61:4:1]","description":"uses the correct exchange rates","full_description":"Expense Generating recurring expenses for a company with access to their account in a foreign currency uses the correct exchange rates","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1324,"run_time":0.286050375,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:62:1]","description":"does not generate new recurring expenses","full_description":"Expense Generating recurring expenses for an expired free trial company does not generate new recurring expenses","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1342,"run_time":0.187675682,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:63:1]","description":"does not generate new recurring expenses","full_description":"Expense Generating recurring expenses for a suspended company does not generate new recurring expenses","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1355,"run_time":0.168575075,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:64:1]","description":"does not generate new recurring expenses","full_description":"Expense Generating recurring expenses for a cancelled company does not generate new recurring expenses","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1369,"run_time":0.177446547,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:65:1]","description":"has a zero gross value","full_description":"Expense A small, unreclaimed mileage has a zero gross value","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1379,"run_time":0.095647802,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:66:1]","description":"still is on the subsequent rate when the expense is recurred","full_description":"Expense A recurring mileage expense on the subsequent rate in a previous year still is on the subsequent rate when the expense is recurred","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1414,"run_time":0.597217809,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:67:1]","description":"is rescanned correctly and still be on the subsequent rate mileage","full_description":"Expense A mileage expense on the subsequent rate which is rebilled to a project is rescanned correctly and still be on the subsequent rate mileage","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1446,"run_time":0.440893099,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:68:1:1]","description":"assigns rebilled_net_value to gross_value","full_description":"Expense when expense rebill_type is 'cost' and the expense doesn't include VAT assigns rebilled_net_value to gross_value","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1459,"run_time":0.029564193,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:68:1:2]","description":"assigns rebilled_gross_value to gross_value","full_description":"Expense when expense rebill_type is 'cost' and the expense doesn't include VAT assigns rebilled_gross_value to gross_value","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1463,"run_time":0.0290887,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:68:2:1]","description":"assigns rebilled_net_value to net_value","full_description":"Expense when expense rebill_type is 'cost' and expense includes VAT assigns rebilled_net_value to net_value","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1473,"run_time":0.031868655,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:68:2:2]","description":"assigns rebilled_gross_value to gross_value","full_description":"Expense when expense rebill_type is 'cost' and expense includes VAT assigns rebilled_gross_value to gross_value","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1477,"run_time":0.026897229,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:69:1:1]","description":"assigns rebilled_net_value to gross_value * (1 + (rebill_factor/100))","full_description":"Expense when expense rebill_type is 'markup' and the expense doesn't include VAT assigns rebilled_net_value to gross_value * (1 + (rebill_factor/100))","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1491,"run_time":0.026257728,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:69:1:2]","description":"assigns rebilled_gross_value to net_value * (1 + (rebill_factor/100))","full_description":"Expense when expense rebill_type is 'markup' and the expense doesn't include VAT assigns rebilled_gross_value to net_value * (1 + (rebill_factor/100))","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1495,"run_time":0.028660359,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:69:2:1]","description":"assigns rebilled_net_value to net_value * (1 + (rebill_factor/100))","full_description":"Expense when expense rebill_type is 'markup' and the expense includes VAT assigns rebilled_net_value to net_value * (1 + (rebill_factor/100))","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1505,"run_time":0.033804687,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:69:2:2]","description":"assigns rebilled_gross_value to net_value * (1 + (rebill_factor/100))","full_description":"Expense when expense rebill_type is 'markup' and the expense includes VAT assigns rebilled_gross_value to net_value * (1 + (rebill_factor/100))","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1509,"run_time":0.032242388,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:70:1:1]","description":"assigns rebilled_net_value to -rebill_factor","full_description":"Expense if expense.rebill_type is 'price' and expense doesn't include VAT assigns rebilled_net_value to -rebill_factor","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1523,"run_time":0.028468304,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:70:1:2]","description":"assigns rebilled_gross_value to -rebill_factor","full_description":"Expense if expense.rebill_type is 'price' and expense doesn't include VAT assigns rebilled_gross_value to -rebill_factor","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1527,"run_time":0.026111281,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:70:1:3:1]","description":"assigns rebilled_net_value to rebill_factor","full_description":"Expense if expense.rebill_type is 'price' and expense doesn't include VAT and expense is a refund assigns rebilled_net_value to rebill_factor","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1537,"run_time":0.024450987,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:70:1:3:2]","description":"assigns rebilled_gross_value to rebill_factor","full_description":"Expense if expense.rebill_type is 'price' and expense doesn't include VAT and expense is a refund assigns rebilled_gross_value to rebill_factor","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1541,"run_time":0.024174779,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:70:2:1]","description":"assigns rebilled_net_value to -rebill_factor","full_description":"Expense if expense.rebill_type is 'price' and expense includes VAT assigns rebilled_net_value to -rebill_factor","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1552,"run_time":0.024749746,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:70:2:2]","description":"assigns rebilled_gross_value to -rebill_factor","full_description":"Expense if expense.rebill_type is 'price' and expense includes VAT assigns rebilled_gross_value to -rebill_factor","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1556,"run_time":0.028647756,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:70:2:3:1]","description":"assigns rebilled_net_value to rebill_factor","full_description":"Expense if expense.rebill_type is 'price' and expense includes VAT and expense is a refund assigns rebilled_net_value to rebill_factor","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1566,"run_time":0.028128923,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:70:2:3:2]","description":"assigns rebilled_gross_value to rebill_factor","full_description":"Expense if expense.rebill_type is 'price' and expense includes VAT and expense is a refund assigns rebilled_gross_value to rebill_factor","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1570,"run_time":0.028203017,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:71:1]","description":"recurs and create a new expense dated in 2011 with a 20% VAT rate","full_description":"Expense A recurring expense dated in 2009 on a 2-yearly frequency with a 15% VAT rate recurs and create a new expense dated in 2011 with a 20% VAT rate","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1582,"run_time":0.152226956,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:77:1]","description":"has the expected gross value","full_description":"Expense An expense with an awkward gross value has the expected gross value","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1635,"run_time":0.201093294,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:77:2]","description":"has the expected NET value","full_description":"Expense An expense with an awkward gross value has the expected NET value","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1639,"run_time":0.209562978,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:77:3]","description":"has the expected Sales Tax value","full_description":"Expense An expense with an awkward gross value has the expected Sales Tax value","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1643,"run_time":0.173764055,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:77:4]","description":"has a gross value that is the sum of the net value plus the sales tax value","full_description":"Expense An expense with an awkward gross value has a gross value that is the sum of the net value plus the sales tax value","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1647,"run_time":0.223149337,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:78:1]","description":"is empty when not locked","full_description":"Expense locked reason is empty when not locked","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1658,"run_time":0.0073138,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:78:2]","description":"is one item when only rebill locked","full_description":"Expense locked reason is one item when only rebill locked","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1664,"run_time":0.006337151,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:79:1]","description":"is rebill checked","full_description":"Expense.locking_checks is rebill checked","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1673,"run_time":0.006116997,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:80:1]","description":"returns false if expense is not a mileage claim, even if reclaim_mileage_rate is != 0","full_description":"Expense#reclaim_mileage? returns false if expense is not a mileage claim, even if reclaim_mileage_rate is != 0","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1679,"run_time":0.013940959,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:81:1]","description":"is invalid if a new instance","full_description":"Expense unreclaimed mileage expenses with VAT reclaims is invalid if a new instance","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1690,"run_time":0.030286624,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:81:2]","description":"is valid for universal companies","full_description":"Expense unreclaimed mileage expenses with VAT reclaims is valid for universal companies","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1694,"run_time":0.116862738,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:81:3]","description":"is valid if a saved instance","full_description":"Expense unreclaimed mileage expenses with VAT reclaims is valid if a saved instance","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1698,"run_time":0.082272562,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:81:4]","description":"is not valid if we've just changed the VAT setting","full_description":"Expense unreclaimed mileage expenses with VAT reclaims is not valid if we've just changed the VAT setting","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1703,"run_time":0.083398196,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:81:5]","description":"is not valid if a changing the reclaim setting","full_description":"Expense unreclaimed mileage expenses with VAT reclaims is not valid if a changing the reclaim setting","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1708,"run_time":0.094104206,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:82:1]","description":"assigns the correct general ledger account when set","full_description":"Expense#nominal_code assigns the correct general ledger account when set","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1715,"run_time":0.06952034,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:82:2]","description":"returns the nominal code for the associated general ledger account when not set","full_description":"Expense#nominal_code returns the nominal code for the associated general ledger account when not set","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1721,"run_time":0.082934037,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:83:1]","description":"is valid when an allowed rate is supplied","full_description":"Expense#sales_tax_rate is valid when an allowed rate is supplied","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1732,"run_time":0.028005804,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:83:2]","description":"is invalid when the rate is not a number","full_description":"Expense#sales_tax_rate is invalid when the rate is not a number","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1736,"run_time":0.028697466,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:83:3]","description":"is invalid when the rate is not an allowed rate","full_description":"Expense#sales_tax_rate is invalid when the rate is not an allowed rate","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1740,"run_time":0.03279634,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:83:4]","description":"is valid when the rate is greater than 100%","full_description":"Expense#sales_tax_rate is valid when the rate is greater than 100%","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1744,"run_time":0.028833899,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:84:1]","description":"is valid when an allowed rate is supplied","full_description":"Expense#second_sales_tax_rate is valid when an allowed rate is supplied","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1752,"run_time":0.02960777,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:84:2]","description":"is invalid when the rate is not a number","full_description":"Expense#second_sales_tax_rate is invalid when the rate is not a number","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1756,"run_time":0.03423486,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:84:3]","description":"is invalid when the rate is not an allowed rate","full_description":"Expense#second_sales_tax_rate is invalid when the rate is not an allowed rate","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1760,"run_time":0.034602388,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:84:4]","description":"is valid when the rate is greater than 100%","full_description":"Expense#second_sales_tax_rate is valid when the rate is greater than 100%","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1764,"run_time":0.034364429,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:85:1]","description":"is kept if the sales tax rate is not equal to SalesTaxCalculator::SPECIFY_AMOUNT_RATE","full_description":"Expense manual sales tax amount is kept if the sales tax rate is not equal to SalesTaxCalculator::SPECIFY_AMOUNT_RATE","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1772,"run_time":0.076025834,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:85:2]","description":"is saved when the sales tax rate is equal to SalesTaxCalculator::SPECIFY_AMOUNT_RATE","full_description":"Expense manual sales tax amount is saved when the sales tax rate is equal to SalesTaxCalculator::SPECIFY_AMOUNT_RATE","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1777,"run_time":0.095721969,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:86:1]","description":"is true for a capital asset purchase account","full_description":"Expense#is_a_capital_asset_purchase? is true for a capital asset purchase account","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1784,"run_time":0.147621053,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:86:2]","description":"is false for a non-capital asset purchase account","full_description":"Expense#is_a_capital_asset_purchase? is false for a non-capital asset purchase account","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1789,"run_time":0.103278189,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:87:1:1]","description":"generates ledger entries with a valid contact_id and project_id","full_description":"Expense Saving an Expense which is linked to a project generates ledger entries with a valid contact_id and project_id","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1810,"run_time":0.076803814,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:87:2:1]","description":"generates ledger entries with a nil project and contact id","full_description":"Expense Saving an Expense which is not linked to a project generates ledger entries with a nil project and contact id","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1824,"run_time":0.065878053,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:88:1]","description":"tags all P\u0026L ledger entries with the property id","full_description":"Expense ledger entry property tagging of expenses tags all P\u0026L ledger entries with the property id","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1839,"run_time":0.178672536,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:88:2:1]","description":"does not tag capital asset purchase ledgers with the property_id","full_description":"Expense ledger entry property tagging of expenses for a capital asset purchase does not tag capital asset purchase ledgers with the property_id","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1847,"run_time":0.202764843,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:89:1:1]","description":"returns the expense amount and description","full_description":"Expense#short_summary for a regular expense returns the expense amount and description","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1857,"run_time":0.011521196,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:89:1:2]","description":"truncates long descriptions","full_description":"Expense#short_summary for a regular expense truncates long descriptions","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1861,"run_time":0.010817151,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:89:2:1]","description":"returns the mileage amount and description","full_description":"Expense#short_summary for a mileage expense returns the mileage amount and description","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1871,"run_time":0.010676298,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:89:2:2]","description":"truncates long descriptions","full_description":"Expense#short_summary for a mileage expense truncates long descriptions","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1875,"run_time":0.010384468,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:90:1:1]","description":"is valid","full_description":"Expense#user validation user has a staff role is valid","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1889,"run_time":0.041082557,"pending_message":null,"screenshot":null},{"id":"./spec/models/expense_spec.rb[1:90:2:1]","description":"is invalid","full_description":"Expense#user validation user has an advisor role is invalid","status":"passed","file_path":"./spec/models/expense_spec.rb","line_number":1897,"run_time":0.045569073,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/payroll_reporting_spec.rb[1:1:1]","description":"generates a payroll report against an account manager's companies","full_description":"Practice Dashboard payroll reporting accessed by a regular account manager generates a payroll report against an account manager's companies","status":"passed","file_path":"./spec/features/practice_dashboard/payroll_reporting_spec.rb","line_number":41,"run_time":3.177973153,"pending_message":null,"screenshot":null},{"id":"./spec/features/practice_dashboard/payroll_reporting_spec.rb[1:2:1]","description":"generates a payroll report against ALL companies","full_description":"Practice Dashboard payroll reporting accessed by a senior account manager generates a payroll report against ALL companies","status":"passed","file_path":"./spec/features/practice_dashboard/payroll_reporting_spec.rb","line_number":80,"run_time":2.945456396,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/import_broker_spec.rb[1:1:1]","description":"imports for all providers except those specified in the excluded list","full_description":"OpenBanking::ImportBroker.import_transactions_for_all_providers imports for all providers except those specified in the excluded list","status":"passed","file_path":"./spec/models/open_banking/import_broker_spec.rb","line_number":22,"run_time":0.56831941,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/import_broker_spec.rb[1:2:1]","description":"logs the scheduler","full_description":"OpenBanking::ImportBroker.import_transactions_for_provider logs the scheduler","status":"passed","file_path":"./spec/models/open_banking/import_broker_spec.rb","line_number":39,"run_time":0.642500315,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/import_broker_spec.rb[1:2:2]","description":"schedules an import for providers with enabled, pending and deferred feeds","full_description":"OpenBanking::ImportBroker.import_transactions_for_provider schedules an import for providers with enabled, pending and deferred feeds","status":"passed","file_path":"./spec/models/open_banking/import_broker_spec.rb","line_number":47,"run_time":0.569351227,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/import_broker_spec.rb[1:2:3]","description":"does not attempt to import feeds that are not active","full_description":"OpenBanking::ImportBroker.import_transactions_for_provider does not attempt to import feeds that are not active","status":"passed","file_path":"./spec/models/open_banking/import_broker_spec.rb","line_number":56,"run_time":0.586722884,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/import_broker_spec.rb[1:2:4]","description":"does not attempt to import feeds that have a connection issue","full_description":"OpenBanking::ImportBroker.import_transactions_for_provider does not attempt to import feeds that have a connection issue","status":"passed","file_path":"./spec/models/open_banking/import_broker_spec.rb","line_number":62,"run_time":0.57755896,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/import_broker_spec.rb[1:2:5]","description":"does not import if the circuit is broken for a given provider","full_description":"OpenBanking::ImportBroker.import_transactions_for_provider does not import if the circuit is broken for a given provider","status":"passed","file_path":"./spec/models/open_banking/import_broker_spec.rb","line_number":68,"run_time":0.594199772,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/import_broker_spec.rb[1:2:6]","description":"does nothing if the provider has no account integrations","full_description":"OpenBanking::ImportBroker.import_transactions_for_provider does nothing if the provider has no account integrations","status":"passed","file_path":"./spec/models/open_banking/import_broker_spec.rb","line_number":74,"run_time":0.583428086,"pending_message":null,"screenshot":null},{"id":"./spec/models/open_banking/import_broker_spec.rb[1:2:7:1]","description":"schedules a maximum of 3 jobs per second with an offset","full_description":"OpenBanking::ImportBroker.import_transactions_for_provider scheduling schedules a maximum of 3 jobs per second with an offset","status":"passed","file_path":"./spec/models/open_banking/import_broker_spec.rb","line_number":82,"run_time":1.381398017,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:1:1]","description":"is expected to eq [UkLimitedCompany(id: integer, subdomain: string, address1: string, town: string, region: string, pos...ed_setup_done: boolean, last_accessed_on: date, cash_basis: boolean, business_phone_number: string)]","full_description":"Copilot::Pricing#valid_company_types is expected to eq [UkLimitedCompany(id: integer, subdomain: string, address1: string, town: string, region: string, pos...ed_setup_done: boolean, last_accessed_on: date, cash_basis: boolean, business_phone_number: string)]","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":10,"run_time":0.008114806,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:2:1]","description":"has prices 0-2:7500, 3-10:9500, 11+: for vat_registered_uk_limited_company","full_description":"Copilot::Pricing#price has prices 0-2:7500, 3-10:9500, 11+: for vat_registered_uk_limited_company","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":35,"run_time":0.371525381,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:2:2]","description":"has prices 0-2:7500, 3-10:9500, 11+: for vat_registration_applied_for_uk_limited_company","full_description":"Copilot::Pricing#price has prices 0-2:7500, 3-10:9500, 11+: for vat_registration_applied_for_uk_limited_company","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":35,"run_time":0.441830417,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:2:3]","description":"has prices 0-2:6000, 3-10:8000, 11+: for uk_limited_company","full_description":"Copilot::Pricing#price has prices 0-2:6000, 3-10:8000, 11+: for uk_limited_company","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":35,"run_time":0.367250777,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:2:4]","description":"has prices 0-2:4500, 3-10:6500, 11+: for vat_registered_uk_sole_trader","full_description":"Copilot::Pricing#price has prices 0-2:4500, 3-10:6500, 11+: for vat_registered_uk_sole_trader","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":35,"run_time":0.441557314,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:2:5]","description":"has prices 0-2:4500, 3-10:6500, 11+: for vat_registration_applied_for_uk_sole_trader","full_description":"Copilot::Pricing#price has prices 0-2:4500, 3-10:6500, 11+: for vat_registration_applied_for_uk_sole_trader","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":35,"run_time":0.491053923,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:2:6]","description":"has prices 0-2:3000, 3-10:5000, 11+: for uk_sole_trader","full_description":"Copilot::Pricing#price has prices 0-2:3000, 3-10:5000, 11+: for uk_sole_trader","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":35,"run_time":0.452844117,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:2:7]","description":"has prices 0-2:7500, 3-10:9500, 11+: for vat_registered_uk_limited_liability_partnership","full_description":"Copilot::Pricing#price has prices 0-2:7500, 3-10:9500, 11+: for vat_registered_uk_limited_liability_partnership","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":35,"run_time":0.855273411,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:2:8]","description":"has prices 0-2:7500, 3-10:9500, 11+: for vat_registration_applied_for_uk_limited_liability_partnership","full_description":"Copilot::Pricing#price has prices 0-2:7500, 3-10:9500, 11+: for vat_registration_applied_for_uk_limited_liability_partnership","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":35,"run_time":0.856357776,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:2:9]","description":"has prices 0-2:6000, 3-10:8000, 11+: for uk_limited_liability_partnership","full_description":"Copilot::Pricing#price has prices 0-2:6000, 3-10:8000, 11+: for uk_limited_liability_partnership","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":35,"run_time":0.43128561,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:2:10]","description":"has prices 0-2:6500, 3-10:8500, 11+: for vat_registered_uk_partnership","full_description":"Copilot::Pricing#price has prices 0-2:6500, 3-10:8500, 11+: for vat_registered_uk_partnership","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":35,"run_time":0.476814177,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:2:11]","description":"has prices 0-2:6500, 3-10:8500, 11+: for vat_registration_applied_for_uk_partnership","full_description":"Copilot::Pricing#price has prices 0-2:6500, 3-10:8500, 11+: for vat_registration_applied_for_uk_partnership","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":35,"run_time":0.441512985,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:2:12]","description":"has prices 0-2:5000, 3-10:7000, 11+: for uk_partnership","full_description":"Copilot::Pricing#price has prices 0-2:5000, 3-10:7000, 11+: for uk_partnership","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":35,"run_time":0.3901311,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:2:13]","description":"has prices 0-2:, 3-10:, 11+: for us_company","full_description":"Copilot::Pricing#price has prices 0-2:, 3-10:, 11+: for us_company","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":35,"run_time":0.492420836,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:2:14:1]","description":"is not counted towards the employee limit","full_description":"Copilot::Pricing#price with two current employees, plus one profile from the previous tax year is not counted towards the employee limit","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":66,"run_time":0.078614772,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:2:15:1]","description":"should cache the result","full_description":"Copilot::Pricing#price when called repeatedly should cache the result","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":75,"run_time":0.005562213,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:3:1:1]","description":"is expected to be truthy","full_description":"Copilot::Pricing#valid_company_size? with no employees is expected to be truthy","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":97,"run_time":0.006410756,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:3:2:1]","description":"is expected to be truthy","full_description":"Copilot::Pricing#valid_company_size? with one employee is expected to be truthy","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":103,"run_time":0.040379827,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:3:3:1]","description":"is expected to be truthy","full_description":"Copilot::Pricing#valid_company_size? with ten employees is expected to be truthy","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":109,"run_time":0.306215074,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/pricing_spec.rb[1:3:4:1]","description":"is expected to be falsey","full_description":"Copilot::Pricing#valid_company_size? with 11 employees is expected to be falsey","status":"passed","file_path":"./spec/models/copilot/pricing_spec.rb","line_number":115,"run_time":0.337821971,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:1:1:1]","description":"is expected to equal true","full_description":"Copilot::Eligibility#eligible? a subscribed VAT registered UK limited company is expected to equal true","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":14,"run_time":0.019557903,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:1:2:1]","description":"is expected to equal true","full_description":"Copilot::Eligibility#eligible? a subscribed limited company with up to 10 users on payroll is expected to equal true","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":26,"run_time":0.41866092,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:1:3:1]","description":"is expected to equal false","full_description":"Copilot::Eligibility#eligible? a subscribed limited company with more than 10 users on payroll is expected to equal false","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":38,"run_time":0.444288401,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:1:4:1]","description":"is expected to equal true","full_description":"Copilot::Eligibility#eligible? a subscribed UK sole trader with 10 users on payroll is expected to equal true","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":50,"run_time":0.426441627,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:1:5:1]","description":"is expected to equal false","full_description":"Copilot::Eligibility#eligible? a subscribed UK sole trader with more than 10 users on payroll is expected to equal false","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":62,"run_time":0.421549012,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:1:6:1]","description":"is expected to equal true","full_description":"Copilot::Eligibility#eligible? a subscribed VAT registered UK sole trader is expected to equal true","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":68,"run_time":0.017739973,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:1:7:1]","description":"is expected to equal true","full_description":"Copilot::Eligibility#eligible? a subscribed non-VAT registered UK sole trader is expected to equal true","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":74,"run_time":0.016657885,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:1:8:1]","description":"is expected to equal true","full_description":"Copilot::Eligibility#eligible? a subscribed VAT registered UK partnership is expected to equal true","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":80,"run_time":0.01848375,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:1:9:1]","description":"is expected to equal true","full_description":"Copilot::Eligibility#eligible? a subscribed no-VAT registered UK partnership is expected to equal true","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":86,"run_time":0.011428916,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:1:10:1]","description":"is expected to equal true","full_description":"Copilot::Eligibility#eligible? a subscribed VAT registered UK limited liability partnership is expected to equal true","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":92,"run_time":0.013723952,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:1:11:1]","description":"is expected to equal true","full_description":"Copilot::Eligibility#eligible? a subscribed non-VAT registered UK limited liability partnership is expected to equal true","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":98,"run_time":0.012875172,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:1:12:1]","description":"is expected to equal true","full_description":"Copilot::Eligibility#eligible? a subscribed limited liability partnership with up to 10 users on payroll is expected to equal true","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":110,"run_time":0.336427123,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:1:13:1]","description":"is expected to equal false","full_description":"Copilot::Eligibility#eligible? a subscribed limited company with more than 10 users on payroll is expected to equal false","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":122,"run_time":0.409823644,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:1:14:1]","description":"is expected to equal true","full_description":"Copilot::Eligibility#eligible? a subscribed partnership with up to 10 users on payroll is expected to equal true","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":134,"run_time":0.36546705,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:1:15:1]","description":"is expected to equal false","full_description":"Copilot::Eligibility#eligible? a subscribed partnership with more than 10 users on payroll is expected to equal false","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":146,"run_time":0.402540835,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:1:16:1]","description":"is expected to equal false","full_description":"Copilot::Eligibility#eligible? a subscribed US company is expected to equal false","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":152,"run_time":0.014533841,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:1:17:1]","description":"is expected to equal false","full_description":"Copilot::Eligibility#eligible? a subscribed universal company is expected to equal false","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":158,"run_time":0.013381763,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:1:18:1:1]","description":"is expected to equal true","full_description":"Copilot::Eligibility#eligible? an RBSG company who subscribed over 30 days ago is expected to equal true","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":170,"run_time":0.102887073,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:1:18:2:1]","description":"is expected to equal false","full_description":"Copilot::Eligibility#eligible? an RBSG company who subscribed less than 30 days ago is expected to equal false","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":177,"run_time":0.106551262,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:1:18:2:2]","description":"should set the sole reason flag","full_description":"Copilot::Eligibility#eligible? an RBSG company who subscribed less than 30 days ago should set the sole reason flag","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":179,"run_time":0.111244644,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:1:19:1]","description":"is expected to equal true","full_description":"Copilot::Eligibility#eligible? a BCSG company is expected to equal true","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":188,"run_time":0.025827492,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:1:20:1]","description":"is expected to equal false","full_description":"Copilot::Eligibility#eligible? a limited company with a cancelled subscription is expected to equal false","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":194,"run_time":0.012827279,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:1:21:1]","description":"is expected to equal false","full_description":"Copilot::Eligibility#eligible? a limited company that hasn't completed setup is expected to equal false","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":200,"run_time":0.01664681,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:1:22:1]","description":"is expected to equal false","full_description":"Copilot::Eligibility#eligible? a valid company type without a billing profile is expected to equal false","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":206,"run_time":0.014444743,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:1:23:1]","description":"is expected to equal true","full_description":"Copilot::Eligibility#eligible? a limited company on an annual subscription is expected to equal true","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":212,"run_time":0.014729579,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:1:24:1]","description":"is expected to equal false","full_description":"Copilot::Eligibility#eligible? a practice managed limited company is expected to equal false","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":218,"run_time":0.059776758,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:1:25:1]","description":"is expected to equal false","full_description":"Copilot::Eligibility#eligible? a practice managed RBSG company is expected to equal false","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":224,"run_time":0.056884645,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:1:26:1]","description":"is expected to equal false","full_description":"Copilot::Eligibility#eligible? a practice-linked limited company is expected to equal false","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":230,"run_time":0.038282697,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:1:27:1:1]","description":"is expected to equal true","full_description":"Copilot::Eligibility#eligible? accountant user checks passing is expected to equal true","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":244,"run_time":0.103207592,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:1:27:2:1]","description":"is expected to equal false","full_description":"Copilot::Eligibility#eligible? accountant user checks failing is expected to equal false","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":250,"run_time":0.094434721,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:1:28:1]","description":"is expected to equal false","full_description":"Copilot::Eligibility#eligible? an existing CoPilot subscriber is expected to equal false","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":257,"run_time":0.180748536,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:2:1:1]","description":"is expected to equal true","full_description":"Copilot::Eligibility#existing_copilot_subscriber? with an existing CoPilot addon is expected to equal true","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":267,"run_time":0.170831983,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:2:2:1]","description":"is expected to equal false","full_description":"Copilot::Eligibility#existing_copilot_subscriber? without an existing CoPilot addon is expected to equal false","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":273,"run_time":0.100000366,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:3:1:1]","description":"is expected to equal false","full_description":"Copilot::Eligibility#has_active_accountant_users? when accountant user checks pass is expected to equal false","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":292,"run_time":0.093447775,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:3:2:1]","description":"is expected to equal true","full_description":"Copilot::Eligibility#has_active_accountant_users? when accountant user checks fail is expected to equal true","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":298,"run_time":0.100209883,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:4:1:1]","description":"is expected to equal nil","full_description":"Copilot::Eligibility#days_until_eligible a non-RBSG company is expected to equal nil","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":307,"run_time":0.111101159,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:4:2:1:1]","description":"is expected to equal nil","full_description":"Copilot::Eligibility#days_until_eligible an RBSG company who subscribed just over 30 days ago is expected to equal nil","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":319,"run_time":0.146837529,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:4:2:2:1]","description":"is expected to equal 1","full_description":"Copilot::Eligibility#days_until_eligible an RBSG company who subscribed just under 30 days ago is expected to equal 1","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":324,"run_time":0.120502435,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:4:2:3:1]","description":"is expected to equal 30","full_description":"Copilot::Eligibility#days_until_eligible an RBSG company who subscribed today is expected to equal 30","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":329,"run_time":0.114244857,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:5:1:1]","description":"is expected to equal false","full_description":"Copilot::Eligibility#valid_company_subscription? with a company from an invalid channel is expected to equal false","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":340,"run_time":0.074374778,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:5:2:1:1]","description":"is expected to equal false","full_description":"Copilot::Eligibility#valid_company_subscription? with a valid company on a free trial with no interest in CoPilot is expected to equal false","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":356,"run_time":0.117492124,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:5:2:2:1]","description":"is expected to equal true","full_description":"Copilot::Eligibility#valid_company_subscription? with a valid company on a free trial with interest in CoPilot is expected to equal true","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":362,"run_time":0.104082511,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:5:3:1:1]","description":"is expected to equal true","full_description":"Copilot::Eligibility#valid_company_subscription? an RBSG company who subscribed over 30 days ago is expected to equal true","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":376,"run_time":0.093679114,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:5:3:2:1]","description":"is expected to equal false","full_description":"Copilot::Eligibility#valid_company_subscription? an RBSG company who subscribed today is expected to equal false","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":382,"run_time":0.111005074,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:6:1:1]","description":"is expected to be truthy","full_description":"Copilot::Eligibility#valid_company_type? limited company is expected to be truthy","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":393,"run_time":0.013345174,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:6:2:1]","description":"is expected to be truthy","full_description":"Copilot::Eligibility#valid_company_type? sole trader is expected to be truthy","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":399,"run_time":0.0124376,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:6:3:1]","description":"is expected to be truthy","full_description":"Copilot::Eligibility#valid_company_type? partnership is expected to be truthy","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":405,"run_time":0.011867219,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:6:4:1]","description":"is expected to be truthy","full_description":"Copilot::Eligibility#valid_company_type? limited liability partnership is expected to be truthy","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":411,"run_time":0.008894349,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:6:5:1]","description":"is expected to be falsey","full_description":"Copilot::Eligibility#valid_company_type? us company is expected to be falsey","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":417,"run_time":0.007256533,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:7:1:1]","description":"is expected to equal true","full_description":"Copilot::Eligibility#practice_managed_or_linked? a practice-managed company is expected to equal true","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":427,"run_time":0.125739867,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:7:2:1]","description":"is expected to equal true","full_description":"Copilot::Eligibility#practice_managed_or_linked? an RBSG practice-managed company is expected to equal true","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":433,"run_time":0.1389714,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:7:3:1]","description":"is expected to equal true","full_description":"Copilot::Eligibility#practice_managed_or_linked? a linked company is expected to equal true","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":439,"run_time":0.143720025,"pending_message":null,"screenshot":null},{"id":"./spec/models/copilot/eligibility_spec.rb[1:7:4:1]","description":"is expected to equal false","full_description":"Copilot::Eligibility#practice_managed_or_linked? a direct company is expected to equal false","status":"passed","file_path":"./spec/models/copilot/eligibility_spec.rb","line_number":445,"run_time":0.105330669,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage_spec.rb[1:1]","description":"sets the first step as business details","full_description":"Company::SetupStage sets the first step as business details","status":"passed","file_path":"./spec/models/company/setup_stage_spec.rb","line_number":10,"run_time":0.004847477,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage_spec.rb[1:2]","description":"a setup company should be done","full_description":"Company::SetupStage a setup company should be done","status":"passed","file_path":"./spec/models/company/setup_stage_spec.rb","line_number":14,"run_time":0.006127367,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage_spec.rb[1:3]","description":"follows through the stages for a uk company as the setup is completed","full_description":"Company::SetupStage follows through the stages for a uk company as the setup is completed","status":"passed","file_path":"./spec/models/company/setup_stage_spec.rb","line_number":18,"run_time":0.142134673,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage_spec.rb[1:4]","description":"follows through the stages for a universal company as the setup is completed","full_description":"Company::SetupStage follows through the stages for a universal company as the setup is completed","status":"passed","file_path":"./spec/models/company/setup_stage_spec.rb","line_number":50,"run_time":0.128594682,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage_spec.rb[1:5]","description":"follows through the stages for a us company as the setup is completed","full_description":"Company::SetupStage follows through the stages for a us company as the setup is completed","status":"passed","file_path":"./spec/models/company/setup_stage_spec.rb","line_number":88,"run_time":0.131187092,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage_spec.rb[1:6:1:1]","description":"follows the standard RBSG stages","full_description":"Company::SetupStage RBSG UK companies follows the standard RBSG stages","status":"passed","file_path":"./spec/models/company/setup_stage_spec.rb","line_number":132,"run_time":0.186715911,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage_spec.rb[1:6:1:2:1]","description":"follows the UK company stages","full_description":"Company::SetupStage RBSG UK companies legacy invitations lacking an RBSG signup follows the UK company stages","status":"passed","file_path":"./spec/models/company/setup_stage_spec.rb","line_number":148,"run_time":0.167264778,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage_spec.rb[1:6:1:3:1]","description":"follows the standard RBSG stages","full_description":"Company::SetupStage RBSG UK companies with the personalisation_setup_stage feature flag enabled follows the standard RBSG stages","status":"passed","file_path":"./spec/models/company/setup_stage_spec.rb","line_number":165,"run_time":0.247327107,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage_spec.rb[1:6:2:1]","description":"follows the RBSG stages with Sales Tax","full_description":"Company::SetupStage RBSG Universal companies follows the RBSG stages with Sales Tax","status":"passed","file_path":"./spec/models/company/setup_stage_spec.rb","line_number":184,"run_time":0.191916527,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage_spec.rb[1:6:2:2:1]","description":"follows the standard RBSG stages","full_description":"Company::SetupStage RBSG Universal companies with the personalisation_setup_stage feature flag enabled follows the standard RBSG stages","status":"passed","file_path":"./spec/models/company/setup_stage_spec.rb","line_number":200,"run_time":0.181182658,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage_spec.rb[1:7:1:1]","description":"follows the standard FAPDRBSG stages","full_description":"Company::SetupStage FAPDRBSG UK companies follows the standard FAPDRBSG stages","status":"passed","file_path":"./spec/models/company/setup_stage_spec.rb","line_number":223,"run_time":0.251473797,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage_spec.rb[1:7:1:2:1]","description":"follows the UK company stages","full_description":"Company::SetupStage FAPDRBSG UK companies legacy invitations lacking an RBSG signup follows the UK company stages","status":"passed","file_path":"./spec/models/company/setup_stage_spec.rb","line_number":240,"run_time":0.204640509,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage_spec.rb[1:7:2:1]","description":"follows the FAPDRBSG stages with Sales Tax","full_description":"Company::SetupStage FAPDRBSG Universal companies follows the FAPDRBSG stages with Sales Tax","status":"passed","file_path":"./spec/models/company/setup_stage_spec.rb","line_number":265,"run_time":0.20728014,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage_spec.rb[1:8:1]","description":"returns false on vat details stage","full_description":"Company::SetupStage#last_setup_stage? returns false on vat details stage","status":"passed","file_path":"./spec/models/company/setup_stage_spec.rb","line_number":284,"run_time":0.071301132,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage_spec.rb[1:8:2]","description":"returns true on banking details stage","full_description":"Company::SetupStage#last_setup_stage? returns true on banking details stage","status":"passed","file_path":"./spec/models/company/setup_stage_spec.rb","line_number":290,"run_time":0.076876065,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage_spec.rb[1:9:1]","description":"moves to the desired stage even if it is complete","full_description":"Company::SetupStage#move_to moves to the desired stage even if it is complete","status":"passed","file_path":"./spec/models/company/setup_stage_spec.rb","line_number":307,"run_time":0.073792987,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage_spec.rb[1:9:2]","description":"moves to the desired stage if previous ones are complete","full_description":"Company::SetupStage#move_to moves to the desired stage if previous ones are complete","status":"passed","file_path":"./spec/models/company/setup_stage_spec.rb","line_number":313,"run_time":0.086228956,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage_spec.rb[1:9:3]","description":"moves to the first incomplete stage if previous ones are not complete","full_description":"Company::SetupStage#move_to moves to the first incomplete stage if previous ones are not complete","status":"passed","file_path":"./spec/models/company/setup_stage_spec.rb","line_number":319,"run_time":0.091759872,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage_spec.rb[1:9:4]","description":"moves to the last stage if all stages are complete","full_description":"Company::SetupStage#move_to moves to the last stage if all stages are complete","status":"passed","file_path":"./spec/models/company/setup_stage_spec.rb","line_number":325,"run_time":0.102071129,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage_spec.rb[1:10:1]","description":"isn't done if there are remaining steps","full_description":"Company::SetupStage#setup_done? isn't done if there are remaining steps","status":"passed","file_path":"./spec/models/company/setup_stage_spec.rb","line_number":334,"run_time":0.071875794,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage_spec.rb[1:10:2]","description":"is done if there are no more steps","full_description":"Company::SetupStage#setup_done? is done if there are no more steps","status":"passed","file_path":"./spec/models/company/setup_stage_spec.rb","line_number":338,"run_time":0.00818787,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage_spec.rb[1:11:1]","description":"is before setup if step one hasn't been completed","full_description":"Company::SetupStage#before_setup? is before setup if step one hasn't been completed","status":"passed","file_path":"./spec/models/company/setup_stage_spec.rb","line_number":349,"run_time":0.086321075,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage_spec.rb[1:11:2]","description":"it isn't before_setup if step one is completed","full_description":"Company::SetupStage#before_setup? it isn't before_setup if step one is completed","status":"passed","file_path":"./spec/models/company/setup_stage_spec.rb","line_number":353,"run_time":0.104938408,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage_spec.rb[1:12:1]","description":"has the first illustration for the business details step","full_description":"Company::SetupStage#illustration has the first illustration for the business details step","status":"passed","file_path":"./spec/models/company/setup_stage_spec.rb","line_number":366,"run_time":0.10565794,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage_spec.rb[1:12:2]","description":"has the second illustration for the accounting dates step","full_description":"Company::SetupStage#illustration has the second illustration for the accounting dates step","status":"passed","file_path":"./spec/models/company/setup_stage_spec.rb","line_number":372,"run_time":0.078643253,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage_spec.rb[1:12:3]","description":"has the fourth illustration on the vat details step","full_description":"Company::SetupStage#illustration has the fourth illustration on the vat details step","status":"passed","file_path":"./spec/models/company/setup_stage_spec.rb","line_number":377,"run_time":0.069009258,"pending_message":null,"screenshot":null},{"id":"./spec/models/company/setup_stage_spec.rb[1:12:4]","description":"has the fifth illustration on the banking details step","full_description":"Company::SetupStage#illustration has the fifth illustration on the banking details step","status":"passed","file_path":"./spec/models/company/setup_stage_spec.rb","line_number":382,"run_time":0.075901835,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb[1:1:1]","description":"returns eligible users to be notified","full_description":"Radar::Insights::Rules::HiscoxProductUpdate behaves like notifier for users with level 7 and above returns eligible users to be notified","status":"passed","file_path":"./spec/support/shared_examples/insights_rules_permission_level_examples.rb","line_number":26,"run_time":0.046081559,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb[1:1:2]","description":"does not return ineligible users to be notified","full_description":"Radar::Insights::Rules::HiscoxProductUpdate behaves like notifier for users with level 7 and above does not return ineligible users to be notified","status":"passed","file_path":"./spec/support/shared_examples/insights_rules_permission_level_examples.rb","line_number":30,"run_time":0.047555367,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb[1:2:1:1]","description":"is expected to be truthy","full_description":"Radar::Insights::Rules::HiscoxProductUpdate#should_notify? with the account owner is expected to be truthy","status":"passed","file_path":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb","line_number":31,"run_time":0.124938422,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb[1:2:2:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::HiscoxProductUpdate#should_notify? with a notifiable user that's not the account owner is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb","line_number":36,"run_time":0.116025589,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb[1:3:1:1]","description":"returns the category","full_description":"Radar::Insights::Rules::HiscoxProductUpdate behaves like a valid insight rule #category returns the category","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":14,"run_time":0.16771265,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb[1:3:2:1]","description":"creates a new insight","full_description":"Radar::Insights::Rules::HiscoxProductUpdate behaves like a valid insight rule #evaluate creates a new insight","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":20,"run_time":0.183491692,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb[1:3:2:2]","description":"persists insight details","full_description":"Radar::Insights::Rules::HiscoxProductUpdate behaves like a valid insight rule #evaluate persists insight details","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":28,"run_time":0.18062667,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb[1:3:2:3]","description":"notifies users in the company","full_description":"Radar::Insights::Rules::HiscoxProductUpdate behaves like a valid insight rule #evaluate notifies users in the company","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":36,"run_time":0.171865284,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb[1:3:3:1]","description":"creates a user insight notification for all notifiable users","full_description":"Radar::Insights::Rules::HiscoxProductUpdate behaves like a valid insight rule #notify creates a user insight notification for all notifiable users","status":"passed","file_path":"./spec/support/shared_examples/insights_rules.rb","line_number":44,"run_time":0.168533476,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb[1:4:1]","description":"should include the company","full_description":"Radar::Insights::Rules::HiscoxProductUpdate.companies_for_evaluation should include the company","status":"passed","file_path":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb","line_number":60,"run_time":0.098086505,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb[1:4:2:1]","description":"should not include the company","full_description":"Radar::Insights::Rules::HiscoxProductUpdate.companies_for_evaluation when the company has not joined recently should not include the company","status":"passed","file_path":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb","line_number":67,"run_time":0.141492192,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb[1:4:3:1]","description":"should not include the company","full_description":"Radar::Insights::Rules::HiscoxProductUpdate.companies_for_evaluation when the company has already been sent the insight should not include the company","status":"passed","file_path":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb","line_number":75,"run_time":0.135561407,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb[1:4:4:1]","description":"should not include the company","full_description":"Radar::Insights::Rules::HiscoxProductUpdate.companies_for_evaluation when the company has previously been sent a legacy insight should not include the company","status":"passed","file_path":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb","line_number":83,"run_time":0.126026944,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb[1:5:1:1]","description":"is expected to be truthy","full_description":"Radar::Insights::Rules::HiscoxProductUpdate#should_evaluate? for an appropriate direct company is expected to be truthy","status":"passed","file_path":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb","line_number":95,"run_time":0.102045375,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb[1:5:2:1]","description":"is expected to be truthy","full_description":"Radar::Insights::Rules::HiscoxProductUpdate#should_evaluate? for an appropriate RBSG-funded company is expected to be truthy","status":"passed","file_path":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb","line_number":102,"run_time":0.1227169,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb[1:5:3:1]","description":"is expected to be truthy","full_description":"Radar::Insights::Rules::HiscoxProductUpdate#should_evaluate? for an appropriate RBSG-funded practice-managed company is expected to be truthy","status":"passed","file_path":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb","line_number":109,"run_time":0.171245125,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb[1:5:4:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::HiscoxProductUpdate#should_evaluate? when the company is not eligible for Hiscox is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb","line_number":115,"run_time":0.102044118,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb[1:5:5:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::HiscoxProductUpdate#should_evaluate? when the company does not have commercial propositions enabled is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb","line_number":121,"run_time":0.104632179,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb[1:5:6:1:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::HiscoxProductUpdate#should_evaluate? for a direct company, not subscribed 14 days ago when subscribed on the RBSG trigger date is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb","line_number":128,"run_time":0.106044006,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb[1:5:6:2:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::HiscoxProductUpdate#should_evaluate? for a direct company, not subscribed 14 days ago when subscribed long ago is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb","line_number":134,"run_time":0.124625266,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb[1:5:7:1:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::HiscoxProductUpdate#should_evaluate? for a RBSG-funded company, not subscribed 44 days ago when subscribed on the non-RBSG trigger date is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb","line_number":144,"run_time":0.11021481,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb[1:5:7:2:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::HiscoxProductUpdate#should_evaluate? for a RBSG-funded company, not subscribed 44 days ago when subscribed long ago is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb","line_number":150,"run_time":0.114658075,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb[1:5:8:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::HiscoxProductUpdate#should_evaluate? for a RBSG-funded practice-managed company, not subscribed 44 days ago is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb","line_number":158,"run_time":0.188698895,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb[1:6:1]","description":"is expected to be truthy","full_description":"Radar::Insights::Rules::HiscoxProductUpdate#applies? is expected to be truthy","status":"passed","file_path":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb","line_number":168,"run_time":0.005881649,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb[1:7:1]","description":"returns true","full_description":"Radar::Insights::Rules::HiscoxProductUpdate#mobile? returns true","status":"passed","file_path":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb","line_number":175,"run_time":0.008089743,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb[1:8:1]","description":"is expected to eq \"hiscox_product_update:895397833\"","full_description":"Radar::Insights::Rules::HiscoxProductUpdate#key is expected to eq \"hiscox_product_update:895397833\"","status":"passed","file_path":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb","line_number":185,"run_time":0.005296276,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb[1:9:1:1]","description":"is expected to be truthy","full_description":"Radar::Insights::Rules::HiscoxProductUpdate :has_multiple_employees detail for a company with multiple employees is expected to be truthy","status":"passed","file_path":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb","line_number":200,"run_time":0.005468523,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb[1:9:2:1]","description":"is expected to be falsey","full_description":"Radar::Insights::Rules::HiscoxProductUpdate :has_multiple_employees detail for a company without multiple employees is expected to be falsey","status":"passed","file_path":"./spec/models/radar/insights/rules/hiscox_product_update_spec.rb","line_number":206,"run_time":0.005378313,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/profit_and_loss_summary_spec.rb[1:1]","description":"returns start date of report","full_description":"Accounting::ProfitAndLossSummary returns start date of report","status":"passed","file_path":"./spec/models/accounting/profit_and_loss_summary_spec.rb","line_number":12,"run_time":0.095690278,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/profit_and_loss_summary_spec.rb[1:2]","description":"returns end date of report","full_description":"Accounting::ProfitAndLossSummary returns end date of report","status":"passed","file_path":"./spec/models/accounting/profit_and_loss_summary_spec.rb","line_number":16,"run_time":0.093088838,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/profit_and_loss_summary_spec.rb[1:3]","description":"returns income in the accounting period","full_description":"Accounting::ProfitAndLossSummary returns income in the accounting period","status":"passed","file_path":"./spec/models/accounting/profit_and_loss_summary_spec.rb","line_number":20,"run_time":0.678038882,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/profit_and_loss_summary_spec.rb[1:4]","description":"returns expenses in the accounting period","full_description":"Accounting::ProfitAndLossSummary returns expenses in the accounting period","status":"passed","file_path":"./spec/models/accounting/profit_and_loss_summary_spec.rb","line_number":27,"run_time":0.255586872,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/profit_and_loss_summary_spec.rb[1:5]","description":"returns operating profit in the accounting period","full_description":"Accounting::ProfitAndLossSummary returns operating profit in the accounting period","status":"passed","file_path":"./spec/models/accounting/profit_and_loss_summary_spec.rb","line_number":34,"run_time":0.477940012,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/profit_and_loss_summary_spec.rb[1:6]","description":"retained profit","full_description":"Accounting::ProfitAndLossSummary retained profit","status":"passed","file_path":"./spec/models/accounting/profit_and_loss_summary_spec.rb","line_number":41,"run_time":0.453088942,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/profit_and_loss_summary_spec.rb[1:7:2]","description":"for a non-UK limited company","full_description":"Accounting::ProfitAndLossSummary less for a non-UK limited company","status":"passed","file_path":"./spec/models/accounting/profit_and_loss_summary_spec.rb","line_number":102,"run_time":0.279329578,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/profit_and_loss_summary_spec.rb[1:7:1:1]","description":"without deferred corporation tax","full_description":"Accounting::ProfitAndLossSummary less for a UK limited company without deferred corporation tax","status":"passed","file_path":"./spec/models/accounting/profit_and_loss_summary_spec.rb","line_number":70,"run_time":0.266907965,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/profit_and_loss_summary_spec.rb[1:7:1:2]","description":"with deferred corporation tax","full_description":"Accounting::ProfitAndLossSummary less for a UK limited company with deferred corporation tax","status":"passed","file_path":"./spec/models/accounting/profit_and_loss_summary_spec.rb","line_number":82,"run_time":0.262382201,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/profit_and_loss_summary_spec.rb[1:7:1:3]","description":"is expected to include {:title =\u003e \"Dividends\", :total =\u003e 100.0 (BigDecimal)}","full_description":"Accounting::ProfitAndLossSummary less for a UK limited company is expected to include {:title =\u003e \"Dividends\", :total =\u003e 100.0 (BigDecimal)}","status":"passed","file_path":"./spec/models/accounting/profit_and_loss_summary_spec.rb","line_number":95,"run_time":0.219913576,"pending_message":null,"screenshot":null},{"id":"./spec/models/accounting/profit_and_loss_summary_spec.rb[1:7:1:4]","description":"is expected to include {:title =\u003e \"Adjustments\", :total =\u003e 300.0 (BigDecimal)}","full_description":"Accounting::ProfitAndLossSummary less for a UK limited company is expected to include {:title =\u003e \"Adjustments\", :total =\u003e 300.0 (BigDecimal)}","status":"passed","file_path":"./spec/models/accounting/profit_and_loss_summary_spec.rb","line_number":96,"run_time":0.196720058,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/authorised_account_di_fix_spec.rb[1:1:1]","description":"returns only problem companies","full_description":"Banking::AuthorisedAccountDiFix#potential_companies_and_identifications_to_fix returns only problem companies","status":"passed","file_path":"./spec/freeagent/banking/authorised_account_di_fix_spec.rb","line_number":32,"run_time":0.19338049,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/authorised_account_di_fix_spec.rb[1:2:1:1]","description":"is expected to be empty","full_description":"Banking::AuthorisedAccountDiFix#find_accounts_to_fix without any authorised accounts is expected to be empty","status":"passed","file_path":"./spec/freeagent/banking/authorised_account_di_fix_spec.rb","line_number":51,"run_time":0.149104459,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/authorised_account_di_fix_spec.rb[1:2:2:1]","description":"is expected to be empty","full_description":"Banking::AuthorisedAccountDiFix#find_accounts_to_fix with matching account_ids is expected to be empty","status":"passed","file_path":"./spec/freeagent/banking/authorised_account_di_fix_spec.rb","line_number":57,"run_time":0.179782328,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/authorised_account_di_fix_spec.rb[1:2:3:1]","description":"is expected to be empty","full_description":"Banking::AuthorisedAccountDiFix#find_accounts_to_fix with a account integration present on both consents is expected to be empty","status":"passed","file_path":"./spec/freeagent/banking/authorised_account_di_fix_spec.rb","line_number":69,"run_time":0.204405474,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/authorised_account_di_fix_spec.rb[1:2:4:1]","description":"is expected to include [#\u003cOpenBanking::AuthorisedAccount id: 83, company_id: 895398149, consent_id: 166, scheme_name: \"UK.OB...se, standing_orders_imported_at: \"2022-12-23 10:46:42.000000000 +0000\", show_balance_at_bank: true\u003e]","full_description":"Banking::AuthorisedAccountDiFix#find_accounts_to_fix a valid and fixable account is expected to include [#\u003cOpenBanking::AuthorisedAccount id: 83, company_id: 895398149, consent_id: 166, scheme_name: \"UK.OB...se, standing_orders_imported_at: \"2022-12-23 10:46:42.000000000 +0000\", show_balance_at_bank: true\u003e]","status":"passed","file_path":"./spec/freeagent/banking/authorised_account_di_fix_spec.rb","line_number":75,"run_time":0.192603722,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/authorised_account_di_fix_spec.rb[1:2:4:2:1]","description":"returns the authorised accounts in consent expiry date order","full_description":"Banking::AuthorisedAccountDiFix#find_accounts_to_fix a valid and fixable account second account consent expires before the first returns the authorised accounts in consent expiry date order","status":"passed","file_path":"./spec/freeagent/banking/authorised_account_di_fix_spec.rb","line_number":98,"run_time":0.182320371,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/authorised_account_di_fix_spec.rb[1:3:1:1]","description":"provides feedback","full_description":"Banking::AuthorisedAccountDiFix#transfer_accounts without any accounts to fix provides feedback","status":"passed","file_path":"./spec/freeagent/banking/authorised_account_di_fix_spec.rb","line_number":111,"run_time":0.173755766,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/authorised_account_di_fix_spec.rb[1:3:2:1]","description":"provides feedback","full_description":"Banking::AuthorisedAccountDiFix#transfer_accounts with an account intergration present on the 2nd (new) Authorised Account provides feedback","status":"passed","file_path":"./spec/freeagent/banking/authorised_account_di_fix_spec.rb","line_number":126,"run_time":0.258616494,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/authorised_account_di_fix_spec.rb[1:3:2:2]","description":"does not move the account intergration","full_description":"Banking::AuthorisedAccountDiFix#transfer_accounts with an account intergration present on the 2nd (new) Authorised Account does not move the account intergration","status":"passed","file_path":"./spec/freeagent/banking/authorised_account_di_fix_spec.rb","line_number":132,"run_time":0.203579866,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/authorised_account_di_fix_spec.rb[1:3:3:1]","description":"provides feedback","full_description":"Banking::AuthorisedAccountDiFix#transfer_accounts with no account intergration present on the 1st (old) Authorised Account provides feedback","status":"passed","file_path":"./spec/freeagent/banking/authorised_account_di_fix_spec.rb","line_number":146,"run_time":0.151863004,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/authorised_account_di_fix_spec.rb[1:3:4:1]","description":"provides feedback","full_description":"Banking::AuthorisedAccountDiFix#transfer_accounts with a valid account to move provides feedback","status":"passed","file_path":"./spec/freeagent/banking/authorised_account_di_fix_spec.rb","line_number":157,"run_time":0.200966365,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/authorised_account_di_fix_spec.rb[1:3:4:2]","description":"moves the account intergration","full_description":"Banking::AuthorisedAccountDiFix#transfer_accounts with a valid account to move moves the account intergration","status":"passed","file_path":"./spec/freeagent/banking/authorised_account_di_fix_spec.rb","line_number":164,"run_time":0.214101774,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/authorised_account_di_fix_spec.rb[1:3:4:3]","description":"writes to the log as info","full_description":"Banking::AuthorisedAccountDiFix#transfer_accounts with a valid account to move writes to the log as info","status":"passed","file_path":"./spec/freeagent/banking/authorised_account_di_fix_spec.rb","line_number":168,"run_time":0.226594046,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/authorised_account_di_fix_spec.rb[1:3:4:4:1]","description":"does not move the account intergration","full_description":"Banking::AuthorisedAccountDiFix#transfer_accounts with a valid account to move is a dry run does not move the account intergration","status":"passed","file_path":"./spec/freeagent/banking/authorised_account_di_fix_spec.rb","line_number":189,"run_time":0.19614012,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/banking/authorised_account_di_fix_spec.rb[1:3:4:4:2]","description":"writes to the log as info","full_description":"Banking::AuthorisedAccountDiFix#transfer_accounts with a valid account to move is a dry run writes to the log as info","status":"passed","file_path":"./spec/freeagent/banking/authorised_account_di_fix_spec.rb","line_number":193,"run_time":0.187083011,"pending_message":null,"screenshot":null},{"id":"./spec/policies/invoices/reminder_emails_policy_spec.rb[1:1:1]","description":"is expected to equal false","full_description":"Invoices::ReminderEmailsPolicy a user with permission level below ESTIMATES_AND_INVOICES is expected to equal false","status":"passed","file_path":"./spec/policies/invoices/reminder_emails_policy_spec.rb","line_number":15,"run_time":0.009973362,"pending_message":null,"screenshot":null},{"id":"./spec/policies/invoices/reminder_emails_policy_spec.rb[1:2:1]","description":"is expected to equal true","full_description":"Invoices::ReminderEmailsPolicy a user with permission level ESTIMATES_AND_INVOICES is expected to equal true","status":"passed","file_path":"./spec/policies/invoices/reminder_emails_policy_spec.rb","line_number":25,"run_time":0.007993278,"pending_message":null,"screenshot":null},{"id":"./spec/policies/invoices/reminder_emails_policy_spec.rb[1:3:1]","description":"is expected to equal true","full_description":"Invoices::ReminderEmailsPolicy an account manager is expected to equal true","status":"passed","file_path":"./spec/policies/invoices/reminder_emails_policy_spec.rb","line_number":35,"run_time":0.069838285,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[30:1:1]","description":"updates the written off date","full_description":"InvoicesController POST :change_writeoff_date with valid parameters updates the written off date","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":3189,"run_time":0.229994001,"pending_message":null,"screenshot":null},{"id":"./spec/requests/practice_dashboard/new_account_spec.rb[1:1]","description":"shows notice when no cookie is present","full_description":"PracticeDashboard::NewAccount Adding a new account to the practice dashboard shows notice when no cookie is present","status":"passed","file_path":"./spec/requests/practice_dashboard/new_account_spec.rb","line_number":8,"run_time":0.250195854,"pending_message":null,"screenshot":null},{"id":"./spec/requests/practice_dashboard/new_account_spec.rb[1:2]","description":"does not show notice when cookie is present","full_description":"PracticeDashboard::NewAccount Adding a new account to the practice dashboard does not show notice when cookie is present","status":"passed","file_path":"./spec/requests/practice_dashboard/new_account_spec.rb","line_number":15,"run_time":0.16096491,"pending_message":null,"screenshot":null},{"id":"./spec/requests/practice_dashboard/new_account_spec.rb[1:3]","description":"does not show notice when account manager was created more than three months ago","full_description":"PracticeDashboard::NewAccount Adding a new account to the practice dashboard does not show notice when account manager was created more than three months ago","status":"passed","file_path":"./spec/requests/practice_dashboard/new_account_spec.rb","line_number":22,"run_time":0.159932613,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/signup_activator_spec.rb[1:1:1]","description":"removes the signup","full_description":"Signups::SignupActivator activating direct signup removes the signup","status":"passed","file_path":"./spec/freeagent/signups/signup_activator_spec.rb","line_number":10,"run_time":0.170697843,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/signup_activator_spec.rb[1:1:3]","description":"logs the activation","full_description":"Signups::SignupActivator activating direct signup logs the activation","status":"passed","file_path":"./spec/freeagent/signups/signup_activator_spec.rb","line_number":32,"run_time":0.143156729,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/signup_activator_spec.rb[1:1:4]","description":"adds an activated_signup","full_description":"Signups::SignupActivator activating direct signup adds an activated_signup","status":"passed","file_path":"./spec/freeagent/signups/signup_activator_spec.rb","line_number":38,"run_time":0.139749221,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/signup_activator_spec.rb[1:1:2:1]","description":"still creates the activated signup","full_description":"Signups::SignupActivator activating direct signup when the signup cannot be deleted still creates the activated signup","status":"passed","file_path":"./spec/freeagent/signups/signup_activator_spec.rb","line_number":18,"run_time":0.155131386,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/signup_activator_spec.rb[1:1:2:2]","description":"logs a warning","full_description":"Signups::SignupActivator activating direct signup when the signup cannot be deleted logs a warning","status":"passed","file_path":"./spec/freeagent/signups/signup_activator_spec.rb","line_number":22,"run_time":0.148529869,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/signup_activator_spec.rb[1:1:5:1]","description":"does not try to create a company for the signup","full_description":"Signups::SignupActivator activating direct signup when the signup has already been activated in another process does not try to create a company for the signup","status":"passed","file_path":"./spec/freeagent/signups/signup_activator_spec.rb","line_number":56,"run_time":0.135958108,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/signup_activator_spec.rb[1:2:1]","description":"updates the attempt with the company_id and activated_signup_id","full_description":"Signups::SignupActivator activating a signup with an associated SignupAttempt updates the attempt with the company_id and activated_signup_id","status":"passed","file_path":"./spec/freeagent/signups/signup_activator_spec.rb","line_number":68,"run_time":0.130328861,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/signup_activator_spec.rb[1:2:2]","description":"sets the signup_id to nil","full_description":"Signups::SignupActivator activating a signup with an associated SignupAttempt sets the signup_id to nil","status":"passed","file_path":"./spec/freeagent/signups/signup_activator_spec.rb","line_number":77,"run_time":0.126612218,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/signup_activator_spec.rb[1:3:1]","description":"creates a user","full_description":"Signups::SignupActivator activating a mobile signup creates a user","status":"passed","file_path":"./spec/freeagent/signups/signup_activator_spec.rb","line_number":87,"run_time":0.122387468,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/signup_activator_spec.rb[1:3:2]","description":"removes the signup","full_description":"Signups::SignupActivator activating a mobile signup removes the signup","status":"passed","file_path":"./spec/freeagent/signups/signup_activator_spec.rb","line_number":92,"run_time":0.115382361,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/signup_activator_spec.rb[1:3:3]","description":"adds an activated_signup","full_description":"Signups::SignupActivator activating a mobile signup adds an activated_signup","status":"passed","file_path":"./spec/freeagent/signups/signup_activator_spec.rb","line_number":97,"run_time":0.111895281,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/signups/signup_activator_spec.rb[1:3:4]","description":"logs the activation","full_description":"Signups::SignupActivator activating a mobile signup logs the activation","status":"passed","file_path":"./spec/freeagent/signups/signup_activator_spec.rb","line_number":103,"run_time":0.116805693,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/sales_tax_orphaned_effect_check_spec.rb[1:1:1:1:1]","description":"doesn't report any failure","full_description":"SalesTaxEffects::SalesTaxOrphanedEffectCheck behaves like a sales tax effects check when sales tax effects are correct behaves like no check errors doesn't report any failure","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":2,"run_time":0.067747259,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/sales_tax_orphaned_effect_check_spec.rb[1:1:2:1]","description":"is expected to have a failure on #\u003cSalesTax::OrphanedEffect id: 2, company_id: 314262342, source_item_type: nil, locked_on: \"2022-09-2...reated_at: \"2022-12-23 10:46:47.000000000 +0000\", updated_at: \"2022-12-23 10:46:47.000000000 +0000\"\u003e","full_description":"SalesTaxEffects::SalesTaxOrphanedEffectCheck behaves like a sales tax effects check when there are unexpected sales tax effects is expected to have a failure on #\u003cSalesTax::OrphanedEffect id: 2, company_id: 314262342, source_item_type: nil, locked_on: \"2022-09-2...reated_at: \"2022-12-23 10:46:47.000000000 +0000\", updated_at: \"2022-12-23 10:46:47.000000000 +0000\"\u003e","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":222,"run_time":0.064544142,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/sales_tax_orphaned_effect_check_spec.rb[1:1:2:2]","description":"is expected to have a failure like /sales tax effects are incorrect/","full_description":"SalesTaxEffects::SalesTaxOrphanedEffectCheck behaves like a sales tax effects check when there are unexpected sales tax effects is expected to have a failure like /sales tax effects are incorrect/","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":223,"run_time":0.081877528,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/sales_tax_orphaned_effect_check_spec.rb[1:1:3:1:1]","description":"doesn't report any failure","full_description":"SalesTaxEffects::SalesTaxOrphanedEffectCheck behaves like a sales tax effects check when the additional_description of an effect has changed behaves like no check errors doesn't report any failure","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":2,"run_time":0.069868019,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/sales_tax_orphaned_effect_check_spec.rb[1:1:4:1:1]","description":"doesn't report any failure","full_description":"SalesTaxEffects::SalesTaxOrphanedEffectCheck behaves like a sales tax effects check when the description of an effect has changed behaves like no check errors doesn't report any failure","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":2,"run_time":0.064583829,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/sales_tax_orphaned_effect_check_spec.rb[1:1:5:1:1]","description":"doesn't report any failure","full_description":"SalesTaxEffects::SalesTaxOrphanedEffectCheck behaves like a sales tax effects check when the effects are different but have the same tax affect behaves like no check errors doesn't report any failure","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":2,"run_time":0.065229661,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/sales_tax_orphaned_effect_check_spec.rb[1:1:6:1:1]","description":"doesn't report any failure","full_description":"SalesTaxEffects::SalesTaxOrphanedEffectCheck behaves like a sales tax effects check when there are extra effects that sum to nothing behaves like no check errors doesn't report any failure","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":2,"run_time":0.070905689,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/sales_tax_orphaned_effect_check_spec.rb[1:1:7:1]","description":"is expected to have a failure on #\u003cSalesTax::OrphanedEffect id: 8, company_id: 314262342, source_item_type: nil, locked_on: \"2022-09-2...reated_at: \"2022-12-23 10:46:48.000000000 +0000\", updated_at: \"2022-12-23 10:46:48.000000000 +0000\"\u003e","full_description":"SalesTaxEffects::SalesTaxOrphanedEffectCheck behaves like a sales tax effects check when the effects have the same tax values but different capital_asset_ids is expected to have a failure on #\u003cSalesTax::OrphanedEffect id: 8, company_id: 314262342, source_item_type: nil, locked_on: \"2022-09-2...reated_at: \"2022-12-23 10:46:48.000000000 +0000\", updated_at: \"2022-12-23 10:46:48.000000000 +0000\"\u003e","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":286,"run_time":0.248900846,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/sales_tax_orphaned_effect_check_spec.rb[1:1:7:2]","description":"is expected to have a failure like /sales tax effects are incorrect/","full_description":"SalesTaxEffects::SalesTaxOrphanedEffectCheck behaves like a sales tax effects check when the effects have the same tax values but different capital_asset_ids is expected to have a failure like /sales tax effects are incorrect/","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":287,"run_time":0.215229797,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/sales_tax_orphaned_effect_check_spec.rb[1:1:8:1]","description":"is expected to have a failure on #\u003cSalesTax::OrphanedEffect id: 10, company_id: 314262342, source_item_type: nil, locked_on: \"2022-09-...reated_at: \"2022-12-23 10:46:48.000000000 +0000\", updated_at: \"2022-12-23 10:46:48.000000000 +0000\"\u003e","full_description":"SalesTaxEffects::SalesTaxOrphanedEffectCheck behaves like a sales tax effects check when the bill_item_id column is incorrect is expected to have a failure on #\u003cSalesTax::OrphanedEffect id: 10, company_id: 314262342, source_item_type: nil, locked_on: \"2022-09-...reated_at: \"2022-12-23 10:46:48.000000000 +0000\", updated_at: \"2022-12-23 10:46:48.000000000 +0000\"\u003e","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":301,"run_time":0.290784178,"pending_message":null,"screenshot":null},{"id":"./spec/models/health_robinson/check/sales_tax_effects/sales_tax_orphaned_effect_check_spec.rb[1:1:8:2]","description":"is expected to have sales_tax_effects failures","full_description":"SalesTaxEffects::SalesTaxOrphanedEffectCheck behaves like a sales tax effects check when the bill_item_id column is incorrect is expected to have sales_tax_effects failures","status":"passed","file_path":"./spec/support/shared_examples/health_robinson/shared_examples_for_checks.rb","line_number":302,"run_time":0.252840646,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/recalculate_ledger_seeder_spec.rb[1:1:1]","description":"recalculates ledger entries","full_description":"CompanySeeder::RecalculateLedgerSeeder#seed recalculates ledger entries","status":"passed","file_path":"./spec/tools/company_seeder/recalculate_ledger_seeder_spec.rb","line_number":9,"run_time":0.270943299,"pending_message":null,"screenshot":null},{"id":"./spec/tools/company_seeder/recalculate_ledger_seeder_spec.rb[1:1:2]","description":"leaves the company not needing a recalculation","full_description":"CompanySeeder::RecalculateLedgerSeeder#seed leaves the company not needing a recalculation","status":"passed","file_path":"./spec/tools/company_seeder/recalculate_ledger_seeder_spec.rb","line_number":15,"run_time":0.76972209,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/summer_2020_vat_reduction_spec.rb[1:1:1:1:1]","description":"returns a category defined on the Insight model","full_description":"Radar::Insights::Rules::Summer2020VatReduction behaves like an insight rule behaves like a ping rule #category returns a category defined on the Insight model","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":11,"run_time":0.004813484,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/summer_2020_vat_reduction_spec.rb[1:1:1:2:1]","description":"returns a boolean","full_description":"Radar::Insights::Rules::Summer2020VatReduction behaves like an insight rule behaves like a ping rule #send_notifications? returns a boolean","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rule.rb","line_number":17,"run_time":0.003889387,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/summer_2020_vat_reduction_spec.rb[1:1:2:1]","description":"has category Insight","full_description":"Radar::Insights::Rules::Summer2020VatReduction behaves like an insight rule #category has category Insight","status":"passed","file_path":"./spec/support/shared_examples/radar/insights/rules/concerns/insight_category.rb","line_number":10,"run_time":0.003400222,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/summer_2020_vat_reduction_spec.rb[1:2:1]","description":"returns eligible users to be notified","full_description":"Radar::Insights::Rules::Summer2020VatReduction behaves like notifier for users with level 7 and above returns eligible users to be notified","status":"passed","file_path":"./spec/support/shared_examples/insights_rules_permission_level_examples.rb","line_number":26,"run_time":0.087845239,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/summer_2020_vat_reduction_spec.rb[1:2:2]","description":"does not return ineligible users to be notified","full_description":"Radar::Insights::Rules::Summer2020VatReduction behaves like notifier for users with level 7 and above does not return ineligible users to be notified","status":"passed","file_path":"./spec/support/shared_examples/insights_rules_permission_level_examples.rb","line_number":30,"run_time":0.051850675,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/summer_2020_vat_reduction_spec.rb[1:3:1:1]","description":"is expected to equal true","full_description":"Radar::Insights::Rules::Summer2020VatReduction.run_today? before 1st April 2021 is expected to equal true","status":"passed","file_path":"./spec/models/radar/insights/rules/summer_2020_vat_reduction_spec.rb","line_number":16,"run_time":0.004179426,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/summer_2020_vat_reduction_spec.rb[1:3:2:1]","description":"is expected to equal false","full_description":"Radar::Insights::Rules::Summer2020VatReduction.run_today? after 31st March 2021 is expected to equal false","status":"passed","file_path":"./spec/models/radar/insights/rules/summer_2020_vat_reduction_spec.rb","line_number":24,"run_time":0.004066043,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/summer_2020_vat_reduction_spec.rb[1:4:1]","description":"only contains the correct companies","full_description":"Radar::Insights::Rules::Summer2020VatReduction.companies_for_evaluation only contains the correct companies","status":"passed","file_path":"./spec/models/radar/insights/rules/summer_2020_vat_reduction_spec.rb","line_number":45,"run_time":0.902133365,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/summer_2020_vat_reduction_spec.rb[1:5:1]","description":"returns in-scope companies","full_description":"Radar::Insights::Rules::Summer2020VatReduction.companies_for_evaluation returns in-scope companies","status":"passed","file_path":"./spec/models/radar/insights/rules/summer_2020_vat_reduction_spec.rb","line_number":59,"run_time":0.156170193,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/summer_2020_vat_reduction_spec.rb[1:5:2]","description":"excludes in-scope companies with this insight","full_description":"Radar::Insights::Rules::Summer2020VatReduction.companies_for_evaluation excludes in-scope companies with this insight","status":"passed","file_path":"./spec/models/radar/insights/rules/summer_2020_vat_reduction_spec.rb","line_number":67,"run_time":0.026288737,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/summer_2020_vat_reduction_spec.rb[1:5:3]","description":"includes in-scope companies with some other insight","full_description":"Radar::Insights::Rules::Summer2020VatReduction.companies_for_evaluation includes in-scope companies with some other insight","status":"passed","file_path":"./spec/models/radar/insights/rules/summer_2020_vat_reduction_spec.rb","line_number":74,"run_time":0.010760376,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/summer_2020_vat_reduction_spec.rb[1:6:1]","description":"is true","full_description":"Radar::Insights::Rules::Summer2020VatReduction#applies? is true","status":"passed","file_path":"./spec/models/radar/insights/rules/summer_2020_vat_reduction_spec.rb","line_number":83,"run_time":0.003529219,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/summer_2020_vat_reduction_spec.rb[1:7:1]","description":"is true for notifiables without notifications","full_description":"Radar::Insights::Rules::Summer2020VatReduction#should_notify? is true for notifiables without notifications","status":"passed","file_path":"./spec/models/radar/insights/rules/summer_2020_vat_reduction_spec.rb","line_number":90,"run_time":0.016448702,"pending_message":null,"screenshot":null},{"id":"./spec/models/radar/insights/rules/summer_2020_vat_reduction_spec.rb[1:7:2]","description":"is false for notifiables that have an existing notification","full_description":"Radar::Insights::Rules::Summer2020VatReduction#should_notify? is false for notifiables that have an existing notification","status":"passed","file_path":"./spec/models/radar/insights/rules/summer_2020_vat_reduction_spec.rb","line_number":99,"run_time":0.02493395,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/accounting/performance_benchmarking/permission_spec.rb[1:1:1]","description":"is expected to eq true","full_description":"Accounting::PerformanceBenchmarking::Permission#report? is expected to eq true","status":"passed","file_path":"./spec/freeagent/accounting/performance_benchmarking/permission_spec.rb","line_number":11,"run_time":0.005677829,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/accounting/performance_benchmarking/permission_spec.rb[1:1:2:1]","description":"is expected to eq false","full_description":"Accounting::PerformanceBenchmarking::Permission#report? for a non-uk company is expected to eq false","status":"passed","file_path":"./spec/freeagent/accounting/performance_benchmarking/permission_spec.rb","line_number":16,"run_time":0.088020117,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/accounting/performance_benchmarking/permission_spec.rb[1:2:1]","description":"is expected to eq true","full_description":"Accounting::PerformanceBenchmarking::Permission#cohort_setup? is expected to eq true","status":"passed","file_path":"./spec/freeagent/accounting/performance_benchmarking/permission_spec.rb","line_number":23,"run_time":0.005537884,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/accounting/performance_benchmarking/permission_spec.rb[1:2:2:1]","description":"is expected to eq false","full_description":"Accounting::PerformanceBenchmarking::Permission#cohort_setup? for a non-uk company is expected to eq false","status":"passed","file_path":"./spec/freeagent/accounting/performance_benchmarking/permission_spec.rb","line_number":28,"run_time":0.092919979,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/display_formats_controller_spec.rb[1:1:1:1:1]","description":"keeps the format","full_description":"GettingStarted::DisplayFormatsController GET #show for a company that has already set a short date format and is universal keeps the format","status":"passed","file_path":"./spec/controllers/getting_started/display_formats_controller_spec.rb","line_number":34,"run_time":0.247203,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/display_formats_controller_spec.rb[1:1:1:2:1]","description":"keeps the format","full_description":"GettingStarted::DisplayFormatsController GET #show for a company that has already set a short date format and is US keeps the format","status":"passed","file_path":"./spec/controllers/getting_started/display_formats_controller_spec.rb","line_number":50,"run_time":0.139900198,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/display_formats_controller_spec.rb[1:1:2:1:1]","description":"sets a default short date format","full_description":"GettingStarted::DisplayFormatsController GET #show for a company that has not overridden the default short date and is Universal sets a default short date format","status":"passed","file_path":"./spec/controllers/getting_started/display_formats_controller_spec.rb","line_number":62,"run_time":0.151247722,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/display_formats_controller_spec.rb[1:1:2:2:1]","description":"selects US-specific defaults","full_description":"GettingStarted::DisplayFormatsController GET #show for a company that has not overridden the default short date and is US selects US-specific defaults","status":"passed","file_path":"./spec/controllers/getting_started/display_formats_controller_spec.rb","line_number":78,"run_time":0.167190087,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/display_formats_controller_spec.rb[1:1:3:1]","description":"redirects to current setup step","full_description":"GettingStarted::DisplayFormatsController GET #show for a UK company redirects to current setup step","status":"passed","file_path":"./spec/controllers/getting_started/display_formats_controller_spec.rb","line_number":95,"run_time":0.114685427,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/display_formats_controller_spec.rb[1:2:1]","description":"tracks and redirects to accounting dates step if locale settings are valid","full_description":"GettingStarted::DisplayFormatsController PUT #update tracks and redirects to accounting dates step if locale settings are valid","status":"passed","file_path":"./spec/controllers/getting_started/display_formats_controller_spec.rb","line_number":107,"run_time":0.121024867,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/display_formats_controller_spec.rb[1:2:2]","description":"does not track and display errors if locale settings are invalid - date format","full_description":"GettingStarted::DisplayFormatsController PUT #update does not track and display errors if locale settings are invalid - date format","status":"passed","file_path":"./spec/controllers/getting_started/display_formats_controller_spec.rb","line_number":122,"run_time":0.417771869,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/getting_started/display_formats_controller_spec.rb[1:2:3]","description":"does not track and display errors if locale settings are invalid - time zone","full_description":"GettingStarted::DisplayFormatsController PUT #update does not track and display errors if locale settings are invalid - time zone","status":"passed","file_path":"./spec/controllers/getting_started/display_formats_controller_spec.rb","line_number":129,"run_time":0.635738425,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb[1:1]","description":"setting up successful Paypal Here Checkout","full_description":"PaymentPortal::PaypalHerePaymentController setting up successful Paypal Here Checkout","status":"passed","file_path":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb","line_number":14,"run_time":0.165216975,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb[1:2]","description":"if a Paypal Here Checkout setup already has non-failed payment","full_description":"PaymentPortal::PaypalHerePaymentController if a Paypal Here Checkout setup already has non-failed payment","status":"passed","file_path":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb","line_number":22,"run_time":0.158325031,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb[1:3:1]","description":"returns a cancellation","full_description":"PaymentPortal::PaypalHerePaymentController processing Paypal Here App callback returns a cancellation","status":"passed","file_path":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb","line_number":39,"run_time":0.142153659,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb[1:3:2:1]","description":"is not waiting, and not be withdrawn","full_description":"PaymentPortal::PaypalHerePaymentController processing Paypal Here App callback card payment succeeded is not waiting, and not be withdrawn","status":"passed","file_path":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb","line_number":55,"run_time":0.165377083,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb[1:3:2:2]","description":"has the right transaction id","full_description":"PaymentPortal::PaypalHerePaymentController processing Paypal Here App callback card payment succeeded has the right transaction id","status":"passed","file_path":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb","line_number":61,"run_time":0.164487002,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb[1:3:2:3]","description":"redirects to the paid invoice","full_description":"PaymentPortal::PaypalHerePaymentController processing Paypal Here App callback card payment succeeded redirects to the paid invoice","status":"passed","file_path":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb","line_number":66,"run_time":0.172934893,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb[1:3:3:1]","description":"is not waiting and be withdrawn","full_description":"PaymentPortal::PaypalHerePaymentController processing Paypal Here App callback cash payment succeeded is not waiting and be withdrawn","status":"passed","file_path":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb","line_number":78,"run_time":0.152073995,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb[1:3:3:2]","description":"has the right transaction id","full_description":"PaymentPortal::PaypalHerePaymentController processing Paypal Here App callback cash payment succeeded has the right transaction id","status":"passed","file_path":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb","line_number":84,"run_time":0.143814156,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb[1:3:3:3]","description":"redirects to the paid invoice","full_description":"PaymentPortal::PaypalHerePaymentController processing Paypal Here App callback cash payment succeeded redirects to the paid invoice","status":"passed","file_path":"./spec/controllers/payment_portal/paypal_here_payment_controller_spec.rb","line_number":89,"run_time":0.150634938,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:1:2:3:1]","description":"representing cost of sales","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the cash accounting basis on the Flat Rate Scheme (at 5%) Expenses representing cost of sales","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":3331,"run_time":0.626288823,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:1:1:1:1]","description":"allows any name","full_description":"Freeagent::PingGenerator argument validation name when generating a business health allows any name","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":47,"run_time":0.013710085,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:1:1:2:1]","description":"allows any name","full_description":"Freeagent::PingGenerator argument validation name when generating an insight allows any name","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":53,"run_time":0.013093836,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:1:1:3:1:1]","description":"allows the name","full_description":"Freeagent::PingGenerator argument validation name when generating a product update if the name ends in 'product_update allows the name","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":64,"run_time":0.012876562,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:1:1:3:2:1]","description":"does not allow the name","full_description":"Freeagent::PingGenerator argument validation name when generating a product update if the name does not end in 'product_update' does not allow the name","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":70,"run_time":0.006807094,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:1:1:4:1:1]","description":"allows the name","full_description":"Freeagent::PingGenerator argument validation name when generating a pro tip if the name ends in 'pro_tip allows the name","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":82,"run_time":0.012517588,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:1:1:4:2:1]","description":"does not allow the name","full_description":"Freeagent::PingGenerator argument validation name when generating a pro tip if the name does not end in 'pro_tip' does not allow the name","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":88,"run_time":0.007183822,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:1:1:5:1]","description":"allows any name","full_description":"Freeagent::PingGenerator argument validation name when generating a reminder allows any name","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":97,"run_time":0.013863104,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:1:2:1:1]","description":"is allowed","full_description":"Freeagent::PingGenerator argument validation type an allowed type is allowed","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":105,"run_time":0.015795618,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:1:2:2:1]","description":"does not allow the type","full_description":"Freeagent::PingGenerator argument validation type with a not-allowed type does not allow the type","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":113,"run_time":0.007504019,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:2:1:1]","description":"creates a rule file with an appropriate class name","full_description":"Freeagent::PingGenerator rule file when generating a business health creates a rule file with an appropriate class name","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":125,"run_time":0.016042225,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:2:1:2]","description":"includes the appropriate methods","full_description":"Freeagent::PingGenerator rule file when generating a business health includes the appropriate methods","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":133,"run_time":0.038505365,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:2:2:1]","description":"creates a rule file with an appropriate class name","full_description":"Freeagent::PingGenerator rule file when generating an insight creates a rule file with an appropriate class name","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":150,"run_time":0.018367633,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:2:2:2]","description":"includes the appropriate methods","full_description":"Freeagent::PingGenerator rule file when generating an insight includes the appropriate methods","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":158,"run_time":0.018087391,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:2:3:1]","description":"creates a rule file with an appropriate class name","full_description":"Freeagent::PingGenerator rule file when generating a product update creates a rule file with an appropriate class name","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":178,"run_time":0.017456427,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:2:3:2]","description":"includes the appropriate methods","full_description":"Freeagent::PingGenerator rule file when generating a product update includes the appropriate methods","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":186,"run_time":0.017704814,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:2:4:1]","description":"creates a rule file with an appropriate class name","full_description":"Freeagent::PingGenerator rule file when generating a reminder creates a rule file with an appropriate class name","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":204,"run_time":0.016708244,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:2:4:2]","description":"includes the appropriate methods","full_description":"Freeagent::PingGenerator rule file when generating a reminder includes the appropriate methods","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":212,"run_time":0.012708998,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:2:5:1]","description":"creates a rule file with an appropriate class name and category","full_description":"Freeagent::PingGenerator rule file when generating an pro tip creates a rule file with an appropriate class name and category","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":232,"run_time":0.013446103,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:3:1:1]","description":"creates a view file which renders the correct 'applies' view","full_description":"Freeagent::PingGenerator views when generating a business health creates a view file which renders the correct 'applies' view","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":247,"run_time":0.018544743,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:3:1:2]","description":"creates a view applies file with appropriate radar summary configuration","full_description":"Freeagent::PingGenerator views when generating a business health creates a view applies file with appropriate radar summary configuration","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":255,"run_time":0.017723361,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:3:2:1]","description":"creates a view file which renders the correct 'applies' view","full_description":"Freeagent::PingGenerator views when generating an insight creates a view file which renders the correct 'applies' view","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":265,"run_time":0.017163588,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:3:2:2]","description":"creates a view applies file with appropriate radar summary configuration","full_description":"Freeagent::PingGenerator views when generating an insight creates a view applies file with appropriate radar summary configuration","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":273,"run_time":0.017303427,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:3:3:1]","description":"creates a view applies file with appropriate radar summary configuration","full_description":"Freeagent::PingGenerator views when generating an product update creates a view applies file with appropriate radar summary configuration","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":286,"run_time":0.015282147,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:3:3:2]","description":"does not create a view applies file","full_description":"Freeagent::PingGenerator views when generating an product update does not create a view applies file","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":294,"run_time":0.016061958,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:3:4:1]","description":"creates a view applies file with appropriate radar summary configuration","full_description":"Freeagent::PingGenerator views when generating an pro tip creates a view applies file with appropriate radar summary configuration","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":305,"run_time":0.013514293,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:3:4:2]","description":"does not create a view applies file","full_description":"Freeagent::PingGenerator views when generating an pro tip does not create a view applies file","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":313,"run_time":0.013285023,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:3:5:1]","description":"creates a view file which renders the correct 'applies' view","full_description":"Freeagent::PingGenerator views when generating a reminder creates a view file which renders the correct 'applies' view","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":324,"run_time":0.064790462,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:3:5:2]","description":"creates a view applies file with appropriate radar summary configuration","full_description":"Freeagent::PingGenerator views when generating a reminder creates a view applies file with appropriate radar summary configuration","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":332,"run_time":0.014472887,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:4:1]","description":"adds the feature flag to permitted feature flags","full_description":"Freeagent::PingGenerator feature flag adds the feature flag to permitted feature flags","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":343,"run_time":0.013449823,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:5:1]","description":"adds the new ping event to the list of ping events","full_description":"Freeagent::PingGenerator event allowlist adds the new ping event to the list of ping events","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":354,"run_time":0.013655658,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:5:2]","description":"adds a prompt to add any action events","full_description":"Freeagent::PingGenerator event allowlist adds a prompt to add any action events","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":361,"run_time":0.01353287,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:6:1]","description":"adds a prompt to add the triggering events","full_description":"Freeagent::PingGenerator pro tip consumer adds a prompt to add the triggering events","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":374,"run_time":0.012659341,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:7:1]","description":"creates a fake rule inheriting from the real rule","full_description":"Freeagent::PingGenerator fake rule creates a fake rule inheriting from the real rule","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":384,"run_time":0.013443758,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:7:2:1]","description":"includes the `fake_details` method","full_description":"Freeagent::PingGenerator fake rule when generating a business health includes the `fake_details` method","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":393,"run_time":0.013394323,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:7:3:1]","description":"includes the `fake_details` method","full_description":"Freeagent::PingGenerator fake rule when generating an insight includes the `fake_details` method","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":402,"run_time":0.013258817,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:7:4:1]","description":"does not include the `fake_details` method","full_description":"Freeagent::PingGenerator fake rule when generating a product update does not include the `fake_details` method","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":414,"run_time":0.013012508,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:7:5:1]","description":"includes the `fake_details` method","full_description":"Freeagent::PingGenerator fake rule when generating a reminder includes the `fake_details` method","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":423,"run_time":0.012955439,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:8:1:1]","description":"creates a spec file for the rule","full_description":"Freeagent::PingGenerator rule spec file when generating a business health creates a spec file for the rule","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":437,"run_time":0.01258665,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:8:1:2]","description":"has tests for the expected methods","full_description":"Freeagent::PingGenerator rule spec file when generating a business health has tests for the expected methods","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":444,"run_time":0.013158172,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:8:2:1]","description":"creates a spec file for the rule","full_description":"Freeagent::PingGenerator rule spec file when generating an insight creates a spec file for the rule","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":461,"run_time":0.013158309,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:8:2:2]","description":"has tests for the expected methods","full_description":"Freeagent::PingGenerator rule spec file when generating an insight has tests for the expected methods","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":468,"run_time":0.012960244,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:8:3:1]","description":"creates a spec file for the rule","full_description":"Freeagent::PingGenerator rule spec file when generating a product update creates a spec file for the rule","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":488,"run_time":0.035868933,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:8:3:2]","description":"has tests for the expected methods","full_description":"Freeagent::PingGenerator rule spec file when generating a product update has tests for the expected methods","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":495,"run_time":0.013261827,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:8:4:1]","description":"creates a spec file for the rule","full_description":"Freeagent::PingGenerator rule spec file when generating a pro tip creates a spec file for the rule","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":515,"run_time":0.012646015,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:8:4:2]","description":"has tests for the expected methods","full_description":"Freeagent::PingGenerator rule spec file when generating a pro tip has tests for the expected methods","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":522,"run_time":0.013640809,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:8:5:1]","description":"creates a spec file for the rule","full_description":"Freeagent::PingGenerator rule spec file when generating a reminder creates a spec file for the rule","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":542,"run_time":0.013712712,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:8:5:2]","description":"has tests for the expected methods","full_description":"Freeagent::PingGenerator rule spec file when generating a reminder has tests for the expected methods","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":549,"run_time":0.013555557,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:9:1:1]","description":"creates an appropriate request spec","full_description":"Freeagent::PingGenerator request spec when generating a business health creates an appropriate request spec","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":571,"run_time":0.013483087,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:9:2:1]","description":"creates an appropriate request spec","full_description":"Freeagent::PingGenerator request spec when generating an insight creates an appropriate request spec","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":590,"run_time":0.013403506,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:9:3:1]","description":"creates an appropriate request spec","full_description":"Freeagent::PingGenerator request spec when generating a product update creates an appropriate request spec","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":612,"run_time":0.020166414,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:9:4:1]","description":"creates an appropriate request spec","full_description":"Freeagent::PingGenerator request spec when generating a reminder creates an appropriate request spec","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":634,"run_time":0.017113428,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:10:1]","description":"adds a factory for the ping","full_description":"Freeagent::PingGenerator factory adds a factory for the ping","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":654,"run_time":0.013676939,"pending_message":null,"screenshot":null},{"id":"./spec/generators/freeagent/ping/ping_generator_spec.rb[1:10:2:1]","description":"adds a category to the trait","full_description":"Freeagent::PingGenerator factory non-insight type (reminder) adds a category to the trait","status":"passed","file_path":"./spec/generators/freeagent/ping/ping_generator_spec.rb","line_number":672,"run_time":0.013477706,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/task_spec.rb[1:1]","description":"has Tasks as its section name","full_description":"Exporter::ExportableTypes::Task has Tasks as its section name","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/task_spec.rb","line_number":15,"run_time":0.029818264,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/task_spec.rb[1:2]","description":"has no nested types","full_description":"Exporter::ExportableTypes::Task has no nested types","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/task_spec.rb","line_number":19,"run_time":0.022851569,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/task_spec.rb[1:3]","description":"has correct headings, correctly ordered","full_description":"Exporter::ExportableTypes::Task has correct headings, correctly ordered","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/task_spec.rb","line_number":23,"run_time":0.022239282,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/task_spec.rb[1:4]","description":"returns correct values, correctly ordered","full_description":"Exporter::ExportableTypes::Task returns correct values, correctly ordered","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/task_spec.rb","line_number":34,"run_time":0.024752154,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/contact_spec.rb[1:1]","description":"has Contacts as its section name","full_description":"Exporter::ExportableTypes::Contact has Contacts as its section name","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/contact_spec.rb","line_number":27,"run_time":0.016380892,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/contact_spec.rb[1:2]","description":"has no nested types","full_description":"Exporter::ExportableTypes::Contact has no nested types","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/contact_spec.rb","line_number":31,"run_time":0.014862283,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/contact_spec.rb[1:3]","description":"has correct headings, correctly ordered","full_description":"Exporter::ExportableTypes::Contact has correct headings, correctly ordered","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/contact_spec.rb","line_number":35,"run_time":0.011985299,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/contact_spec.rb[1:4]","description":"returns correct values, correctly ordered","full_description":"Exporter::ExportableTypes::Contact returns correct values, correctly ordered","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/contact_spec.rb","line_number":62,"run_time":0.021536349,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/contact_spec.rb[1:5]","description":"returns the correct total invoiced (raised)/billed amount","full_description":"Exporter::ExportableTypes::Contact returns the correct total invoiced (raised)/billed amount","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/contact_spec.rb","line_number":91,"run_time":0.572295003,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/contact_spec.rb[1:6]","description":"returns the correct GoCardless mandate value","full_description":"Exporter::ExportableTypes::Contact returns the correct GoCardless mandate value","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/contact_spec.rb","line_number":104,"run_time":0.104767738,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/contact_spec.rb[1:7]","description":"returns the correct notes value","full_description":"Exporter::ExportableTypes::Contact returns the correct notes value","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/contact_spec.rb","line_number":112,"run_time":0.031405696,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/components/actions/view_unexplained_transactions_component_spec.rb[1:1:1:1:1]","description":"returns a link with the title","full_description":"Cashflow::Components::Actions::ViewUnexplainedTransactionsComponent when there are unexplained transactions on a single bank account (second bank account) #title returns a link with the title","status":"passed","file_path":"./spec/freeagent/cashflow/components/actions/view_unexplained_transactions_component_spec.rb","line_number":31,"run_time":0.114661005,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/components/actions/view_unexplained_transactions_component_spec.rb[1:1:1:2:1]","description":"returns the description text","full_description":"Cashflow::Components::Actions::ViewUnexplainedTransactionsComponent when there are unexplained transactions on a single bank account (second bank account) #description returns the description text","status":"passed","file_path":"./spec/freeagent/cashflow/components/actions/view_unexplained_transactions_component_spec.rb","line_number":39,"run_time":0.117996651,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/components/actions/view_unexplained_transactions_component_spec.rb[1:1:2:1:1]","description":"returns a link with the title","full_description":"Cashflow::Components::Actions::ViewUnexplainedTransactionsComponent when there are unexplained transactions across multiple bank accounts #title returns a link with the title","status":"passed","file_path":"./spec/freeagent/cashflow/components/actions/view_unexplained_transactions_component_spec.rb","line_number":56,"run_time":0.113471646,"pending_message":null,"screenshot":null},{"id":"./spec/freeagent/cashflow/components/actions/view_unexplained_transactions_component_spec.rb[1:1:2:2:1]","description":"returns the description text","full_description":"Cashflow::Components::Actions::ViewUnexplainedTransactionsComponent when there are unexplained transactions across multiple bank accounts #description returns the description text","status":"passed","file_path":"./spec/freeagent/cashflow/components/actions/view_unexplained_transactions_component_spec.rb","line_number":62,"run_time":0.126543546,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:3:2:1:2:5]","description":"representing out of VAT scope admin expense","full_description":"UkAccountsMapper Accounts Mapper for UK companies who are VAT registered on the invoice accounting basis not on the Flat Rate Scheme Bank Account Entries representing out of VAT scope admin expense","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":3777,"run_time":0.547542962,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/bank_feeds/balance_at_bank_calculation_job_spec.rb[1:1:1]","description":"logs an error if bank account not found","full_description":"BankFeeds::BalanceAtBankCalculationJob#perform_deduplicated logs an error if bank account not found","status":"passed","file_path":"./spec/jobs/bank_feeds/balance_at_bank_calculation_job_spec.rb","line_number":20,"run_time":0.072928643,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/bank_feeds/balance_at_bank_calculation_job_spec.rb[1:1:2]","description":"sets opening balance to first transaction balance - amount","full_description":"BankFeeds::BalanceAtBankCalculationJob#perform_deduplicated sets opening balance to first transaction balance - amount","status":"passed","file_path":"./spec/jobs/bank_feeds/balance_at_bank_calculation_job_spec.rb","line_number":28,"run_time":0.085664791,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/bank_feeds/balance_at_bank_calculation_job_spec.rb[1:1:3]","description":"calculate the bank account opening balance if on the same date","full_description":"BankFeeds::BalanceAtBankCalculationJob#perform_deduplicated calculate the bank account opening balance if on the same date","status":"passed","file_path":"./spec/jobs/bank_feeds/balance_at_bank_calculation_job_spec.rb","line_number":33,"run_time":0.086549557,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/bank_feeds/balance_at_bank_calculation_job_spec.rb[1:1:4]","description":"do not calculate the bank account opening balance if on a different date","full_description":"BankFeeds::BalanceAtBankCalculationJob#perform_deduplicated do not calculate the bank account opening balance if on a different date","status":"passed","file_path":"./spec/jobs/bank_feeds/balance_at_bank_calculation_job_spec.rb","line_number":41,"run_time":0.090089336,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/bank_feeds/balance_at_bank_calculation_job_spec.rb[1:1:5]","description":"sets closing balance to last transactions amount","full_description":"BankFeeds::BalanceAtBankCalculationJob#perform_deduplicated sets closing balance to last transactions amount","status":"passed","file_path":"./spec/jobs/bank_feeds/balance_at_bank_calculation_job_spec.rb","line_number":49,"run_time":0.081319081,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/bank_feeds/balance_at_bank_calculation_job_spec.rb[1:1:6:1]","description":"updates the existing balance at bank record","full_description":"BankFeeds::BalanceAtBankCalculationJob#perform_deduplicated balance at bank already exists updates the existing balance at bank record","status":"passed","file_path":"./spec/jobs/bank_feeds/balance_at_bank_calculation_job_spec.rb","line_number":57,"run_time":0.171259112,"pending_message":null,"screenshot":null},{"id":"./spec/jobs/bank_feeds/balance_at_bank_calculation_job_spec.rb[1:1:7:1]","description":"logs a warning","full_description":"BankFeeds::BalanceAtBankCalculationJob#perform_deduplicated no transactions for date logs a warning","status":"passed","file_path":"./spec/jobs/bank_feeds/balance_at_bank_calculation_job_spec.rb","line_number":64,"run_time":0.076005798,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/capital_asset_spec.rb[1:1]","description":"has Capital Assets as its section name","full_description":"Exporter::ExportableTypes::CapitalAsset has Capital Assets as its section name","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/capital_asset_spec.rb","line_number":27,"run_time":0.004795905,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/capital_asset_spec.rb[1:2]","description":"has no nested types","full_description":"Exporter::ExportableTypes::CapitalAsset has no nested types","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/capital_asset_spec.rb","line_number":31,"run_time":0.004312589,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/capital_asset_spec.rb[1:3]","description":"has correct headings, correctly ordered","full_description":"Exporter::ExportableTypes::CapitalAsset has correct headings, correctly ordered","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/capital_asset_spec.rb","line_number":35,"run_time":0.004185283,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/capital_asset_spec.rb[1:4]","description":"returns correct values, correctly ordered","full_description":"Exporter::ExportableTypes::CapitalAsset returns correct values, correctly ordered","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/capital_asset_spec.rb","line_number":48,"run_time":0.444393464,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/bank_integrations/index.html.erb_spec.rb[1:1:1]","description":"displays a companies bank integrations sorted by bank institution","full_description":"admin/companies/bank_integrations/index when the view renders displays a companies bank integrations sorted by bank institution","status":"passed","file_path":"./spec/views/admin/companies/bank_integrations/index.html.erb_spec.rb","line_number":19,"run_time":0.202956542,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/bank_integrations/index.html.erb_spec.rb[1:1:2]","description":"does not display bank integrations which have no associated consents","full_description":"admin/companies/bank_integrations/index when the view renders does not display bank integrations which have no associated consents","status":"passed","file_path":"./spec/views/admin/companies/bank_integrations/index.html.erb_spec.rb","line_number":26,"run_time":0.149374228,"pending_message":null,"screenshot":null},{"id":"./spec/views/admin/companies/bank_integrations/index.html.erb_spec.rb[1:1:3]","description":"displays the date the most recent consent was created for each bank integration","full_description":"admin/companies/bank_integrations/index when the view renders displays the date the most recent consent was created for each bank integration","status":"passed","file_path":"./spec/views/admin/companies/bank_integrations/index.html.erb_spec.rb","line_number":34,"run_time":0.151162973,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:16:2:1]","description":"returns nothing","full_description":"Invoice#optional_due_value given an invoice with gross CIS deductions returns nothing","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":296,"run_time":0.20076191,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:58:2:1]","description":"is considered open and payable","full_description":"Invoice A VAT-only invoice that is marked as sent is considered open and payable","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":1505,"run_time":0.201264745,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:90:8]","description":"stores a full iban number on sent invoices","full_description":"Invoice#bank_account stores a full iban number on sent invoices","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":2640,"run_time":0.169154437,"pending_message":null,"screenshot":null},{"id":"./spec/models/invoice_spec.rb[1:94:1]","description":"is not able to be changed to non-MOSS in a VAT locked period","full_description":"Invoice MOSS invoices is not able to be changed to non-MOSS in a VAT locked period","status":"passed","file_path":"./spec/models/invoice_spec.rb","line_number":2771,"run_time":0.203475394,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[12:7]","description":"Viewing the New Invoice page with default additional text and no invoices","full_description":"InvoicesController GET new Viewing the New Invoice page with default additional text and no invoices","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":1163,"run_time":0.205740561,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/invoices_controller_spec.rb[12:10:1]","description":"shows only gocardless checkbox","full_description":"InvoicesController GET new when only gocardless is configured shows only gocardless checkbox","status":"passed","file_path":"./spec/controllers/invoices_controller_spec.rb","line_number":1211,"run_time":0.183744659,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/login_with_bank/authorise_url_controller_spec.rb[1:1:1:1]","description":"returns a 400 error","full_description":"Api::Mobile::LoginWithBank::AuthoriseUrlController#create without a brand returns a 400 error","status":"passed","file_path":"./spec/controllers/api/mobile/login_with_bank/authorise_url_controller_spec.rb","line_number":25,"run_time":0.013000948,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/login_with_bank/authorise_url_controller_spec.rb[1:1:2:1]","description":"returns a 400 error","full_description":"Api::Mobile::LoginWithBank::AuthoriseUrlController#create with an invalid brand returns a 400 error","status":"passed","file_path":"./spec/controllers/api/mobile/login_with_bank/authorise_url_controller_spec.rb","line_number":35,"run_time":0.013507507,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/login_with_bank/authorise_url_controller_spec.rb[1:1:3:1]","description":"returns a 400 error","full_description":"Api::Mobile::LoginWithBank::AuthoriseUrlController#create without a valid signature returns a 400 error","status":"passed","file_path":"./spec/controllers/api/mobile/login_with_bank/authorise_url_controller_spec.rb","line_number":55,"run_time":0.016153767,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/login_with_bank/authorise_url_controller_spec.rb[1:1:4:1]","description":"returns no-cache headers","full_description":"Api::Mobile::LoginWithBank::AuthoriseUrlController#create with a valid NWG brand returns no-cache headers","status":"passed","file_path":"./spec/controllers/api/mobile/login_with_bank/authorise_url_controller_spec.rb","line_number":77,"run_time":0.034903832,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/login_with_bank/authorise_url_controller_spec.rb[1:1:4:2]","description":"returns authorise url and journey token as part of the response","full_description":"Api::Mobile::LoginWithBank::AuthoriseUrlController#create with a valid NWG brand returns authorise url and journey token as part of the response","status":"passed","file_path":"./spec/controllers/api/mobile/login_with_bank/authorise_url_controller_spec.rb","line_number":83,"run_time":0.026570784,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/login_with_bank/authorise_url_controller_spec.rb[1:1:4:3]","description":"creates a new login journey record","full_description":"Api::Mobile::LoginWithBank::AuthoriseUrlController#create with a valid NWG brand creates a new login journey record","status":"passed","file_path":"./spec/controllers/api/mobile/login_with_bank/authorise_url_controller_spec.rb","line_number":90,"run_time":0.022226992,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/login_with_bank/authorise_url_controller_spec.rb[1:1:4:4]","description":"marks the journey as started","full_description":"Api::Mobile::LoginWithBank::AuthoriseUrlController#create with a valid NWG brand marks the journey as started","status":"passed","file_path":"./spec/controllers/api/mobile/login_with_bank/authorise_url_controller_spec.rb","line_number":98,"run_time":0.026456907,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/login_with_bank/authorise_url_controller_spec.rb[1:1:4:5]","description":"generates the redirect url with the correct parameters","full_description":"Api::Mobile::LoginWithBank::AuthoriseUrlController#create with a valid NWG brand generates the redirect url with the correct parameters","status":"passed","file_path":"./spec/controllers/api/mobile/login_with_bank/authorise_url_controller_spec.rb","line_number":103,"run_time":0.020565999,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/login_with_bank/authorise_url_controller_spec.rb[1:1:4:6]","description":"includes the journey id in the `state` parameter","full_description":"Api::Mobile::LoginWithBank::AuthoriseUrlController#create with a valid NWG brand includes the journey id in the `state` parameter","status":"passed","file_path":"./spec/controllers/api/mobile/login_with_bank/authorise_url_controller_spec.rb","line_number":115,"run_time":0.019492937,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/api/mobile/login_with_bank/authorise_url_controller_spec.rb[1:1:4:7]","description":"publishes a journey started event","full_description":"Api::Mobile::LoginWithBank::AuthoriseUrlController#create with a valid NWG brand publishes a journey started event","status":"passed","file_path":"./spec/controllers/api/mobile/login_with_bank/authorise_url_controller_spec.rb","line_number":126,"run_time":0.01999116,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/payslip_spec.rb[1:1]","description":"has Payslips as its section name","full_description":"Exporter::ExportableTypes::Payslip has Payslips as its section name","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/payslip_spec.rb","line_number":45,"run_time":0.003298185,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/payslip_spec.rb[1:2]","description":"has no nested types","full_description":"Exporter::ExportableTypes::Payslip has no nested types","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/payslip_spec.rb","line_number":49,"run_time":0.002718466,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/payslip_spec.rb[1:3]","description":"has correct headings, correctly ordered","full_description":"Exporter::ExportableTypes::Payslip has correct headings, correctly ordered","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/payslip_spec.rb","line_number":53,"run_time":0.003180004,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/payslip_spec.rb[1:4]","description":"returns correct values, correctly ordered","full_description":"Exporter::ExportableTypes::Payslip returns correct values, correctly ordered","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/payslip_spec.rb","line_number":100,"run_time":0.072296422,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/payslip_spec.rb[1:5:1]","description":"returns correct values, correctly ordered","full_description":"Exporter::ExportableTypes::Payslip with student loan deductions returns correct values, correctly ordered","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/payslip_spec.rb","line_number":159,"run_time":0.069111199,"pending_message":null,"screenshot":null},{"id":"./spec/models/integrations/exporter/exportable_types/payslip_spec.rb[1:6:1]","description":"returns correct values, correctly ordered","full_description":"Exporter::ExportableTypes::Payslip with statutory parental bereavement pay returns correct values, correctly ordered","status":"passed","file_path":"./spec/models/integrations/exporter/exportable_types/payslip_spec.rb","line_number":216,"run_time":0.065482153,"pending_message":null,"screenshot":null},{"id":"./spec/models/uk_accounts_mapper_spec.rb[1:1:2:1:1:1]","description":"is expected to eq 0","full_description":"UkAccountsMapper Accounts Mapper for UK companies that are not VAT registered Invoices Given a native currency invoice with 3 line items in 2 categories which is still in draft is expected to eq 0","status":"passed","file_path":"./spec/models/uk_accounts_mapper_spec.rb","line_number":57,"run_time":0.316274369,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/postmark_controller_spec.rb[1:1:1:1:1:1]","description":"has a successful response","full_description":"PostmarkController#create authenticated handles delivered event for an email record with a \"delivered\" callback event has a successful response","status":"passed","file_path":"./spec/controllers/postmark_controller_spec.rb","line_number":27,"run_time":0.11228501,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/postmark_controller_spec.rb[1:1:1:1:1:2]","description":"transitions the email to \"delivered\"","full_description":"PostmarkController#create authenticated handles delivered event for an email record with a \"delivered\" callback event transitions the email to \"delivered\"","status":"passed","file_path":"./spec/controllers/postmark_controller_spec.rb","line_number":32,"run_time":0.098164934,"pending_message":null,"screenshot":null},{"id":"./spec/controllers/postmark_controller_spec.rb[1:1:1:2:1]","description":"is expected to respond with status code :unauthorized (401)","full_description":"PostmarkController#create authenticated un-authenticated is expected to respond with status code :unauthorized (401)","status":"passed","file_path":"./spec/controllers/postmark_controller_spec.rb","line_number":43,"run_time":0.007691649,"pending_message":null,"screenshot":null},{"id":"./spec/views/api/payroll/periods/_period.rbapi_spec.rb[1:1]","description":"renders period info","full_description":"api/payroll/periods/_period renders period info","status":"passed","file_path":"./spec/views/api/payroll/periods/_period.rbapi_spec.rb","line_number":7,"run_time":0.141071767,"pending_message":null,"screenshot":null}],"summary":{"duration":2.289258772,"example_count":795,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"795 examples, 0 failures"}